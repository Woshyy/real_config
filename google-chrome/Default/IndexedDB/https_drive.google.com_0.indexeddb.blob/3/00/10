ÿÿo"contentB¬¥/*_M:v5OVgf*/
try{
_.B("v5OVgf");

var utg=function(a,b,c,d,e,f){var g=_.Ola.prototype.U$;(a=_.Nh(a,b,!0,c))&&a.forEach(function(k,l){_.Aca(e,d,k,function(m,q){g.call(q,1,l);_.Aca(q,2,k,f)})})},vtg=function(a,b,c,d,e){for(;_.tca(b);){var f=b.H;if(1===f){if(d(b,a,1))continue}else if(2===f&&_.Eca(b,a,2,c,e))continue;_.wb(b)}},wtg=function(a,b,c){a.Zka(c,_.Kh(b,c))},xtg=function(a){return null==a?a:_.EQc(a)},ytg=function(a){if(_.Za(a))throw Error("ea");},Atg=function(a,b){a.removeAttribute("srcdoc");if(!(b instanceof _.Ri))throw new ztg(typeof b,
1);_.sc(a,b);for(b="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation".split(" ");0<a.sandbox.length;)a.sandbox.remove(a.sandbox.item(0));for(var c=0;c<b.length;c++)a.sandbox.supports&&!a.sandbox.supports(b[c])||a.sandbox.add(b[c])},Btg=function(a,b,c){c=c?c.end+1:b.start;return new _.qT(c,c+a-1<b.end?c+a-1:b.end)},Ctg=function(a,b){var c,d;return _.eh(function(e){if(1==e.H)return(c=_.cN(a))?e.We(0):_.Yg(e,b,3);d=e.O;_.CWc(a,
_.p(d,4));_.Zg(e)})},Dtg=function(a,b){return a+"|"+b},Gtg=function(a){var b=new Etg,c=new L0;a=_.t(c,1,a?2:1);return _.Uh(b,1,Ftg,a)},Ltg=function(a,b,c,d){var e=new M0;a=_.t(e,1,a);b=_.t(a,2,b);a=new Htg;c=_.t(a,1,_.ZWc[c]);c=_.Uh(b,3,Itg,c);d=Jtg(new Ktg,_.aXc[d]);return _.z(c,4,d)},Otg=function(a){return Mtg(Ntg(9),a).Gc()},Ptg=function(a){return Mtg(Ntg(10),a).Gc()},Qtg=function(){for(var a=0,b=0;b<arguments.length;b++)a+=arguments[b].length;a=new Uint8Array(a);for(var c=b=0;c<arguments.length;c++)a.set(arguments[c],
b),b+=arguments[c].length;return a},Stg=function(a){var b=Rtg.get(a);if(!b)throw new N0("Key manager for key type "+a+" has not been registered.");return b},Ttg=function(a,b){var c,d,e;return _.eh(function(f){if(1==f.H){if(b instanceof O0){if(c&&_.K(b,1)!=c)throw new N0("Key type is "+c+", but it is expected to be "+_.K(b,1)+" or undefined.");c=_.K(b,1)}if(!c)throw new N0("Key type has to be specified.");d=Stg(c);return _.Yg(f,d.DU(a,b),2)}e=f.O;if(!(e instanceof a))throw new TypeError("Nq");return f.return(e)})},
aug=function(a){return _.eh(function(b){var c=_.K(a,1);Stg(c);if(!Utg.get(c))throw new N0("New key operation is forbidden for key type: "+c+".");c=b.return;ytg(a);var d=xtg(_.Mh(a,2));if(d instanceof Uint8Array){try{var e=_.yi(d,Vtg)}catch(f){throw new N0("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");}if(!_.bi(e,2))throw new N0("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");
}else if(d instanceof Wtg)e=d;else throw new N0("Expected AesGcmKeyFormat-proto");d=e;Xtg(_.bi(d,2));e=new Ytg;d=Ztg(_.bi(d,2));e=_.ola(e,3,d);e=_.ib(e,1,0,0);d=new O0;d=_.nb(d,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");e=_.ji(d.Fb(_.zi(e,$tg)),3,1);return c.call(b,e)})},Ztg=function(a){if(!Number.isInteger(a)||0>a)throw new bug("n must be a nonnegative integer");a=new Uint8Array(a);crypto.getRandomValues(a);return a},fug=function(){var a=cug(),b;return _.eh(function(c){if(1==c.H)return _.Yg(c,
dug(a),2);b=c.O;return c.return(new eug(b))})},dug=function(a){var b,c,d,e;return _.eh(function(f){if(1==f.H){var g=(new P0).tc(1);b=_.ji(g,4,_.Lh(a,3,0));g=Ztg(4);for(var k=0,l=0;l<g.length;l++)k+=(g[l]&255)<<8*l;c=Math.abs(k)%Math.pow(2,32);_.ib(b,3,c,0);return _.Yg(f,aug(a),2)}d=f.O;_.z(b,1,d);e=new gug;_.Vh(e,2,P0,b);_.ib(e,1,c,0);return f.return(e)})},Xtg=function(a){if(!hug.includes(a))throw new bug("unsupported AES key size: "+a);},iug=function(a){if(null==a||!(a instanceof Uint8Array))throw new bug("input must be a non null Uint8Array");
},kug=function(a){var b;return _.eh(function(c){if(1==c.H)return iug(a),Xtg(a.length),_.Yg(c,self.crypto.subtle.importKey("raw",a,{name:"AES-GCM",length:a.length},!1,["encrypt","decrypt"]),2);b=c.O;return c.return(new jug(b))})},oug=function(a,b){var c,d,e;return _.eh(function(f){switch(f.H){case 1:if(!_.Gh(b,1))throw new Q0("keyMetadata","Key metadata must include key format");c=b.H();switch(c){case 0:case 1:return f.We(2);case 2:return f.We(3);default:throw new Q0("keyMetadata","Unknown key format: "+
c);}case 2:_.$g(f,5);if(!a)throw new N0("Serialized keyset has to be non-null.");var g=(new lug(a)).read();g=new eug(g);return _.Yg(f,g.DU(mug),7);case 7:return f.return(f.O);case 5:throw d=_.bh(f),new nug(d.message);case 6:f.We(0);break;case 3:_.$g(f,8);var k=cug();g=new O0;_.ji(_.nb(g,1,_.K(k,1)).Fb(a),3,1);var l=(new P0).tc(1);k=_.ji(l,4,_.Lh(k,3,0));k=_.ib(k,3,1,0);g=_.z(k,1,g);k=new gug;_.Vh(k,2,P0,g);_.ib(k,1,1,0);g=new eug(k);return _.Yg(f,g.DU(mug),10);case 10:return f.return(f.O);case 8:throw e=
_.bh(f),new nug(e.message);case 9:f.We(0)}})},rug=function(){var a;return _.eh(function(b){if(1==b.H)return _.Yg(b,fug(),2);a=b.O;var c=b.return;var d=a.H;if(1!==pug(d).length)throw Error("Oq");d=_.w(pug(d)[0],O0,1);if(!d)throw Error("Pq");if("type.googleapis.com/google.crypto.tink.AesGcmKey"!==_.K(d,1))throw Error("Qq");d=qug(d);return c.call(b,d)})},tug=function(){var a;return _.eh(function(b){if(1==b.H)return _.Yg(b,fug(),2);a=b.O;var c=b.return;var d=a.H;if(d instanceof gug)d=_.zi(d,sug);else throw new N0("unexpected type for keyset.");
return c.call(b,d)})},uug=function(a,b,c){if(0>=c)throw new Q0("ciphertextChunkSize","Ciphertext chunk size must be greater than zero");if(b>c)throw new Q0("plaintextChunkSize","Plaintext chunk size cannot be greater than ciphertext chunk size");var d=c-b;if(a<d)throw new Q0("ciphertextSize","Ciphertext is too short, must be at least "+d+" bytes");var e=Math.floor(a/c);a%=c;if(0===a)return e*b;if(a<d)throw new Q0("ciphertextSize","Final chunk in ciphertext is too short");if(a===d&&0!==e)throw new Q0("ciphertextSize",
"Final chunk has no plaintext");return e*b+(a-d)},vug=function(){var a=new Uint8Array(16);window.crypto.getRandomValues(a);return _.db(a,4)+":"+_.uk().location.origin},wug=function(a){var b,c;return _.eh(function(d){if(1==d.H)return b=(new TextEncoder).encode(a),_.Yg(d,window.crypto.subtle.digest("SHA-256",b),2);c=d.O;return d.return(_.db(new Uint8Array(c),4))})},yug=function(a,b,c){var d=new xug;a=_.t(d,1,a);b=Date.now()-b;b=_.t(a,2,b);if(!c)return _.t(b,3,0),b;c instanceof R0?_.t(b,3,c.H):_.t(b,
3,17);return b},zug=function(a,b,c,d){var e=_.Mna(_.Si(a));var f=0<d.length?d:(d=_.uk().location.ancestorOrigins)?Array.from(d):[];f.unshift(_.uk().location.origin);d=_.wk("IFRAME");Atg(d,_.Ima(a,{origin:f,authuser:c},{clientid:b}));_.Bv(d,!1);a=_.ake({destination:_.uk(),iframe:d,origin:e,CG:"channel",onMessage:function(){}});document.body.appendChild(d);return{iframe:d,channel:a,Qh:!1}},Aug=function(a){return new Promise(function(b,c){var d=setTimeout(function(){c(new R0("Failed to open iframe channel within timeout",
26))},6E4);a.channel.O.then(function(){clearTimeout(d);b()}).catch(function(e){clearTimeout(d);c(new R0("Error opening channel",26,e instanceof Error?e:null))})})},Bug=function(a){switch(a){case 401:return new R0("KACLS returned a status of 401 Unauthorized",29);default:return new R0("KACLS returned an error status: "+a,30)}},Cug=function(a,b,c){var d,e,f;return _.eh(function(g){if(1==g.H)return _.Yg(g,window.crypto.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),2);if(3!=g.H)return d=
g.O,e=(new TextEncoder).encode("ResourceKeyDigest:"+b+":"+c),_.Yg(g,crypto.subtle.sign({name:"HMAC"},d,e),3);f=g.O;return g.return(new Uint8Array(f))})},Dug=function(a,b){var c,d;return _.eh(function(e){try{c=JSON.parse(_.JHb(b.split(".")[1]))}catch(f){throw new R0("Cannot decode authorization token",5,f);}d=c.resource_name;if(void 0===d)throw new R0("Missing resource name in authorization token",5);return e.return(Cug(a,d,c.perimeter_id||""))})},Eug=function(){var a,b,c,d,e,f,g,k,l,m;return _.eh(function(q){if(1==
q.H)return a={aud:"test_kacl",iss:"google-cse-test-authz",email:"jane.doe@foo.bar",resource_name:"item1234",perimeter_id:"",role:"writer",kacls_url:"https://3lvj2179xj.execute-api.us-west-1.amazonaws.com/alpha"},b=new TextEncoder,c={alg:"RS256",typ:"JWT",kid:"test_authz"},d=_.WC(JSON.stringify(c),4),e=Math.round(Date.now()/1E3)-1,a.iat=e,a.exp=Math.round(e+3600),f=d+"."+_.WC(JSON.stringify(a),4),g={alg:"RS256",d:"G6GPMtLzIluY3uWJj304LUcWYzBAqpF8Sv3v5fxPc_r6_SERS837kX1b69GHLJQZLYJIKQZh4YhA2sfMUe4Phlyu6C-hOc2HY6eY1Ek2X0Yq-6VKe0L4ipw-BjK5Pme-gHd_rsAF0i1B2lV6BZeeJ2eJvFSyKu-h6Hwejay8WgQnSv_JWhDjD-yX6y8icnQ1eiwTAhlUn4xkHLraYEe5ulFav6unSGgpUwPQ6K7NVIZbFjcBWZqFQ4m7C_CMSJptWswEYBw54SK6SvVJwWcC5Rv-73hGREPNAnReCov7FCIEjun9ZJmIiWQKFGgTOTcbh-BKfTXYLbYz_z_Hgd_NBHHNsFyUcSWe7uTv_UCaGWo3g73zluCA5YQIZcpOPvEujIpSE3e_p19fsT7ME4bRWpuvdGtmtSAJy7jjtjnz77m-VxCWvsCEFG3Dld1DHpnmAcKAAYnX49YCHnb9fR0fCafbtLgUnfSqYb7xP2OPgudj0avEe3hsodoCVB_UeA3guqD4PwKf_8M_EOwPkINk-CESn-ZLEtKM0a6qCGlpwlt6t4jHXurlRp17EVKjip_MvKd-V6vKuCP__Esmj5P_n5QaC7OlaXy_d2cSCoZtqjvFu2K3KRu2HKzzFbhZSIYSRacPTQ-oiE6pfA96-6d55ETW3lQqQhoOUudTo734Xmk",
dp:"XiXGIfFs1EFv5BGu9kMOlx1ZF3ZR-naFd-JVHkuFcrJ2nw87-ITfAwvmHsnFm0YCx6TuWfbB2cOBfLN-l7DcrDBM34a_1x81X6C4ZBF3eJ23Sp39RVFg_EWdd-c_8ArAcn3jk0y93jv6_C0KuwF8U62QCDO75zV0bKSIkul0WonalW92-bgHDC9eDA5HzplRnQ7YbPFQErcAi-SPvLtNQQ2D5aA9RZAGk6gDXFrD94odVLlyXGmvKbu7ms2sC_YFhFfbwSs8Tm6Jq3zP68vcZItG34i4a5mSb3tqTJm12SvuNY_XTb2iY3_geeGd8kkAJB04V2jwuzhcU3jN01wgyQ",dq:"PBGcT8hmJIb_MaIsyVT8_C5pEkj4AqGrwVgtkMOXGAZ-XeN3nhxT3-Ow2cr-zfVLruhATS4YNCEuVjDj2bZOf71fB1PGVlxreBjSnZ4ajK3V21Yv3sN0mW4olSoGVxjGwAuD4IHOZgRYxQvZRsU8_RMO0ddfwayw6sCPcTDLXvD15WUxNOPoNFlxiMRdSc2WkogaouwYG235GS7kkwdLIR83EEI0OZnLV3PHmkcbB7YZHn-DglVbI_vQCK3QTw7Kd7B5Dl9QK9gsaAc1qpMgIt0AWwOuQDVhmeVGZym888MHU7j9KH-BJq_V9fp2Ur5arNXGoDSR61XHNiWnt_CJ_w",
e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"jxmY-gE7sdijGpm8mCUirJEfeSj5DCGEquhHNTgYr7nnDwWaKOkeCnpHNon32XeqVqJMWqQk23URh6pJptqx7lfswjfshv1Sy3j-u7bxVT_2U4j4MTqICbnqgSSYRgQA71IGf7Ss2Uqjl2XGJMp_Knyej0wqb1yj0xcNhQH5E4rQaYA25q_hwJzRx7ipZbgpeqfAHgcyPRhCS8fdL9skJEYje921k0CzOIPl1SB6veRrMJq1vO9g31GCGjCJQ2kVav5f_mTOQHHXtz6dtNx42zB7ZFWwUzo3ngiwTWZ3nz333b3Vgj_EgI2EoGLgZYVHqg89lHwJqTNy8hZekWtOwYQUVCiWXtr1g140703_F5QXEvIR7T31iX-ppU-PYeVPMt3Ba8qCpsJRz08ScjDsxKiXezKZK83cGDrev27pn6NNu054aNqcBRjB2_t06hdrtv1ny6DfsjnQcI2sZTV8pNBlBjQuQpeUqWxk4NI60a4lebvwvwVpPO9fqI-6lrqoA2uZ7ljvrJ_RtB7uDkO8KvPbee98eB96Pyl030mne1tBsArAmBS5fn2slywJW1OYtxk3n5BWMPHagy3nMCVqplU9MwmLaWb_y_OcFD4w1sdW8ODb9HATBhF1zz9ULxTHi0FR8iM2irqWR0etGU0Mb748nNgtlmiBF383SnoNX88",
p:"yCdugSE_u9KxPsT9N7KkqUbL-seqox6NJSTa4E6wwLpco9hDfwXeCMbquLSsioOs1jfWvAmhrs-N3a1_hic3aE2a7xSuV3iCZxu6g-fyVOXD_r-U7w5cYBZFMDaKwsK-EKUTWdCXbkGhrgkkcs1LyZJt4clf3ZkJ9TITz0ldBILSAzj2nhdO_CiTx8xpcKidTiPWaOYsZUXb3dyJf59aabz1RZmyd-jqNwNnqr98WC1IacE6SZgTOmmPZYxxYqYM9TlXvp6LHNkk_xDLfwweIbrRxq36G0WIeaAITfY83K30oqaLNi1tGrvttjDx21Xpox5BufAjxtdt384NLBI0WQ",q:"twbragsXfmCFmHH0Zs6G9W-MaoX47OrUuXrZ782hCpNyUr2d3_ukySN3AHx0UVDMYiq3_4E8hjkux331lL24Ze1YyQjEjRhimi6Rr4b7hbMelxWd0eI2sDTGCodR3QV8KNO2NTjRqdajVfOgMkGf7kpWrle8mX5SqiUKk_HRyxZx-kzMgETm2qjE1nLtIygyj6QtmMtq1qpS5jVRa6z_U5eAsKQD5sqzwj3zVkMed4iDjEXFAwuZIpYt-KqjhRzzr-koM_4H3nzzO0d93GwmZUys3WCluNhyiUOkgK-gkFjfjV0eqlNPTiX5nkonLAJ-FIAnfZeY4UcAfLITd4LQZw",
qi:"JOudX6P4PCyZ8XddBgE8vCkHVFbW-s6Qt7nJjhDyzbcw1GIFCUXH_v6oBWt_E6SA_kPqbY3MJ2CZ3KvY2Clp1eF9Zm_iwwQM8DexTVz9YT5PiqtDuCkp6Iyb5XpwTVhVHJnPxvoPTUE_xCrqw1zojqAI-V88LGX5TsMcyeTrN-IIHQ6-42I6d9iTfpC4ZjeQUadj7SwtarASf2snE9PiESArrVU8SgURKXKZStMp3txLLxOhMfmX7ctu55KxGBhoN5Lp360vxUXWGuBLGpcYyPJBLoPKbKODaNmHHBkPyUxMzZ7qtgysF9joR9osKIouT0V8uD-scA-pRE7hEOfIMQ"},_.Yg(q,window.crypto.subtle.importKey("jwk",g,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=q.H)return k=q.O,_.Yg(q,crypto.subtle.sign("RSASSA-PKCS1-v1_5",
k,b.encode(f)),3);l=q.O;m=f+"."+_.db(new Uint8Array(l),4);return q.return(m)})},Fug=function(a,b){return new Promise(function(c){var d=function(e){e.source===a.contentWindow&&e.data===b&&(window.removeEventListener("message",d),c(e))};window.addEventListener("message",d)})},Hug=function(a){var b=_.wk("IFRAME");if(!b.sandbox)throw Error("Uq");b.sandbox.value="allow-scripts";b.sandbox.supports&&b.sandbox.add&&b.sandbox.supports("allow-downloads")&&b.sandbox.add("allow-downloads");if(""==Gug){var c=
_.Bc('<!DOCTYPE html><body><input type="hidden" id="nonce" value="'+_.Cc(a)+'" /><script nonce="'+_.Cc(_.nna())+'">/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar f=function(){for(var b=Number(this),a=[],c=b;c<arguments.length;c++)a[c-b]=arguments[c];return a},h=this||self,k=function(b){return b};/*\n\n SPDX-License-Identifier: Apache-2.0\n*/\nvar l;var m={},n=function(b,a){this.g=a===m?b:""};n.prototype.toString=function(){return this.g.toString()};var p=function(b){return b instanceof n&&b.constructor===n?b.g:"type_error:SafeScript"},q=function(b){if(void 0===l){var a=null;var c=h.trustedTypes;if(c&&c.createPolicy)try{a=c.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(d){h.console&&h.console.error(d.message)}l=a}b=(a=l)?a.createScript(b):b;return new n(b,m)};function r(b,a){b.textContent=p(a);var c,d;(c=(a=null==(d=(c=(b.ownerDocument&&b.ownerDocument.defaultView||window).document).querySelector)?void 0:d.call(c,"script[nonce]"))?a.nonce||a.getAttribute("nonce")||"":"")&&b.setAttribute("nonce",c)};var t=function(b){var a=f.apply(1,arguments),c,d;"evalCspCompatiblyData"in window||(window.evalCspCompatiblyData={index:0});var e=window.evalCspCompatiblyData.index++;window.evalCspCompatiblyData[e]={args:a,callback:function(g,u){c=g;d=u}};a=document.createElement("script");a.async=!1;a.setAttribute("data-index",e);e=q(\'"use strict";\\v(function(){var idx=parseInt((document.currentScript||Array.prototype.slice.call(document.querySelectorAll("head script[data-index]"),-1)[0]).getAttribute("data-index"),10),curEvalData=evalCspCompatiblyData[idx];delete evalCspCompatiblyData[idx];(function(){var callback=curEvalData.callback;try{callback(true,(\'+\nString(p(b))+"\\n));}catch(ex){callback(false, ex);}}).apply(this, curEvalData.args);})()");r(a,e);e=function(g){c=!1;d=g.error||g};window.addEventListener("error",e);document.head.appendChild(a);window.removeEventListener("error",e);document.head.removeChild(a);if(!c)throw d;return d};var v=document.getElementById("nonce"),w=v?v.value:(new URL(location.href)).searchParams.get("nonce");function x(){if(self.origin)return"null"==self.origin;if(""!=location.host)return!1;try{return window.parent.escape(""),!1}catch(b){return!0}}\n(function(){if(!x())throw"sandboxing error";var b=new MessageChannel;b.port1.onmessage=function(a){try{var c=t.apply(null,[q("(function("+a.data.paramNames.join(", ")+") {\\n"+a.data.code+"\\n}).apply(null, arguments)")].concat(a.data.values));a.ports[0].postMessage({result:c})}catch(d){a.ports[0].postMessage({error:d.toString()})}};window.parent.postMessage(w,"*",[b.port2])})();\n\x3c/script></body>');
a=_.Cd("data:text/html;charset=UTF-8;base64,"+btoa(c.toString()));b.srcdoc=_.pc(c)}else a=_.cPc(Gug,new Map([["nonce",a]]));_.sc(b,a);b.style.cssText="height: 0; left: 0; position: absolute; top: 0; width: 0;";b.setAttribute("aria-hidden","true");return b},Iug=function(){return new Promise(function(a){setTimeout(a,500)})},Jug=function(a){var b=a.Hh.jK();return _.uca(a.Hh,b)},Kug=function(){_.G.apply(this,arguments)},pvg,L0,vvg,wvg,xvg;_.N(Kug,_.G);
var Lug=_.xb(function(a,b,c){if(2!==a.Ji)return!1;_.t(b,c,Jug(a));return!0},wtg),Mug=_.xb(function(a,b,c){if(2!==a.Ji)return!1;_.ola(b,c,Jug(a));return!0},wtg),Nug=_.xb(function(a,b,c,d,e){if(2!==a.Ji)a=!1;else{var f=new Kug(void 0);_.Dca(a,f,vtg,d,_.wQc,e);_.Nh(b,c,!1,d).set(_.Lh(f,1,0),_.w(f,d,2)||new d);a=!0}return a},function(a,b,c,d,e){utg(b,c,d,c,a,e)}),Oug=[5],S0=function(a){_.G.call(this,a,-1,Oug)};_.N(S0,_.G);var Pug=function(a){_.G.call(this,a)};_.N(Pug,_.G);
Pug.prototype.getName=function(){return _.p(this,2)};Pug.prototype.Yc=function(a){return _.t(this,2,a)};var Qug=function(a){_.G.call(this,a)};_.N(Qug,_.G);var Rug=[Pug,1,_.Ci,2,_.Ci,3,_.Ci,5,_.Gi,7,Nug,[Qug,1,_.Ci]],Sug=function(a){_.G.call(this,a)};_.N(Sug,_.G);var Tug=[1],Uug=[Sug,1,_.Fi,Rug,Tug],Vug=function(a){_.G.call(this,a)};_.N(Vug,_.G);Vug.prototype.mz=function(){return _.u(this,1)};Vug.prototype.sD=function(){return _.p(this,5)};var Wug=function(a){_.G.call(this,a)};_.N(Wug,_.G);
Wug.prototype.mz=function(){return _.u(this,1)};Wug.prototype.sD=function(){return _.p(this,4)};var Xug=function(a,b){return _.t(a,1,b)},Yug=function(a,b){_.t(a,3,b)},Zug=function(a){_.G.call(this,a)};_.N(Zug,_.G);Zug.prototype.mz=function(){return _.u(this,1)};Zug.prototype.sD=function(){return _.p(this,4)};
var $ug=function(a,b){return _.t(a,1,b)},avg=function(a,b){_.t(a,3,b)},bvg=function(a,b){return _.t(a,23,b)},cvg=function(a,b){_.t(a,33,b)},dvg=function(a,b){return _.t(a,10,b)},evg=function(a){var b=_.w(_.ZM(a),Wug,13);b||(b=new Wug,a=_.ZM(a),_.z(a,13,b));return b},T0=function(a){var b=_.w(_.ZM(a),Zug,14);b||(b=new Zug,a=_.ZM(a),_.z(a,14,b));return b},U0=function(a){_.G.call(this,a)};_.N(U0,_.G);U0.prototype.getTitle=function(){return _.p(this,1)};
U0.prototype.setTitle=function(a){return _.t(this,1,a)};U0.prototype.getMimeType=function(){return _.p(this,2)};U0.prototype.ej=function(){return _.p(this,6)};
var fvg=function(a,b){return _.t(a,2,b)},gvg=function(a,b){return _.t(a,3,b)},hvg=function(a,b){return _.t(a,4,b)},ivg=function(a){return _.w(a,_.yM,5)},jvg=function(a,b){return _.z(a,5,b)},kvg=function(a,b){return _.t(a,6,b)},lvg=function(a,b){return _.z(a,1,b)},V0=function(a,b){return{Xqa:a,geb:mvg,REa:b,eUb:void 0,COa:void 0,fUb:void 0}},mvg=_.xb(function(a,b,c,d){if(2!==a.Ji)return!1;_.Dca(a,_.yb(b,c.Mb,c.fieldIndex,!0),d);return!0},function(a,b,c,d){_.Aca(a,c.fieldIndex,b.getExtension(c),d)}),
nvg=_.xb(function(a,b,c){if(0!==a.Ji)return!1;a=a.OA();_.ib(b,c,a,0);return!0},function(a,b,c){a.tv(c,_.p(b,c))}),ovg={Kkc:0,xic:1,yic:2,0:"HTML_FORMATTED_CONTENT",1:"EMBEDDED_INTERNAL_CONTENT",2:"EMBEDDED_TRUSTED_EXTERNAL_CONTENT"},ztg=function(a,b){var c=Error.call(this,a+" cannot be used with intent "+ovg[b]);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.type=a;this.intent=b;this.name="TypeCannotBeUsedWithIntentError"};_.N(ztg,Error);
pvg=function(){var a=[],b;for(b=0;10>b;b++)a[b]=_.Pib[0|10*Math.random()];return a.join("")};_.pM=function(a){_.G.call(this,a)};_.N(_.pM,_.G);_.pM.prototype.Ac=function(){return _.p(this,1)};var qvg=function(a,b){return _.t(a,1,b)};_.pM.prototype.Tf=function(){return _.p(this,2)};_.pM.prototype.H=function(){return _.w(this,_.Ym,3)};var rvg=function(a,b){return _.z(a,3,b)};_.pM.prototype.qe=function(){return _.w(this,_.Hm,4)};var svg=function(a,b){return _.z(a,4,b)};
_.pM.prototype.rk=function(){return _.p(this,5)};_.GL=function(a,b){this.H=a;this.metadata=b};L0=function(a){_.G.call(this,a)};_.N(L0,_.G);L0.prototype.Ue=function(){return _.p(this,1)};var Ftg=[1],Etg=function(a){_.G.call(this,a)};_.N(Etg,_.G);var Htg=function(a){_.G.call(this,a)};_.N(Htg,_.G);Htg.prototype.H=function(){return _.p(this,1)};var tvg=[Htg,1,_.Gi],Ktg=function(a){_.G.call(this,a)};_.N(Ktg,_.G);Ktg.prototype.H=function(){return _.p(this,1)};
var Jtg=function(a,b){return _.t(a,1,b)},uvg=[Ktg,1,_.Gi],Itg=[3],M0=function(a){_.G.call(this,a)};_.N(M0,_.G);_.h=M0.prototype;_.h.cvb=function(){return _.p(this,1)};_.h.yra=function(){return _.p(this,2)};_.h.Gfa=function(){return _.hi(this,Htg,3,Itg)};_.h.OCa=function(){return _.w(this,Ktg,4)};_.h.dvb=function(){return _.Kh(this,5)};vvg=[M0,1,_.Ai,2,_.Ci,3,_.Fi,tvg,Itg,4,_.Ei,uvg,5,Lug];
wvg=function(a,b,c,d,e,f,g){var k=_.bn(a),l=new _.zXc(_.ci(k,59,2E3),_.ci(k,60,2E4),_.ci(k,61,6));d=new _.dYc(f,e,c,d,_.ci(k,32,1073741824),_.ci(k,21,1E3));a=new _.xXc(g,_.GK(_.HK(a)));g={};g[1]=_.qYc(b,c);g[2]=_.rYc(b,k,l,a,c);g[4]=_.tYc(b,k,l,a,c);d=_.pYc(d,a,c,_.ai(k,46,1));return g[5]=d,g[7]=_.sYc(b,k,l,a,c,"xd4_batch"),g[8]=_.sYc(b,k,l,a,c,"xd4_batch_one",1),g};_.NZc=function(a,b){this.id=a;this.revisionId=b};
xvg=function(a,b,c,d){_.jl.call(this,"Re");this.requestId=a;this.H=b;this.response=c;this.error=d};_.N(xvg,_.jl);
var zvg=function(a){_.G.call(this,a,-1,yvg)};_.N(zvg,_.G);var yvg=[1];
var Avg=function(a){_.G.call(this,a)};_.N(Avg,_.G);var Bvg=function(){var a=new Avg;return _.t(a,1,0)},Cvg=function(a,b){return _.t(a,3,b)},Dvg=function(a,b){return _.t(a,4,b)},Evg=function(a,b){return _.z(a,6,b)},Fvg=function(a,b){return _.t(a,7,b)};
var Gvg=function(a){_.G.call(this,a,1)};_.N(Gvg,_.G);
var Hvg=function(a){_.G.call(this,a)};_.N(Hvg,_.G);Hvg.prototype.getEmail=function(){return _.p(this,2)};Hvg.prototype.Vp=function(){return _.ki(this,2)};var Ivg=[1];
var Jvg=function(a){_.G.call(this,a)};_.N(Jvg,_.G);Jvg.prototype.VG=function(){return _.p(this,1)};var Kvg=function(){var a=new Jvg;return _.t(a,1,1)};Jvg.prototype.getAuthToken=function(){return _.p(this,2)};var Lvg=function(a,b){return _.t(a,2,b)};
var Mvg=function(a){_.G.call(this,a)};_.N(Mvg,_.G);var Nvg=_.zb(346438255,Mvg);
var W0=function(a){_.G.call(this,a)};_.N(W0,_.G);var Ovg=function(a,b){return _.t(a,1,b)},Pvg=function(a,b){return _.t(a,2,b)};W0.prototype.ej=function(){return _.p(this,3)};var Qvg=function(a,b){return _.t(a,3,b)};
var Rvg=function(a){_.G.call(this,a)};_.N(Rvg,_.G);Rvg.prototype.getMetadata=function(){return _.w(this,M0,1)};Rvg.prototype.No=function(){return _.Hh(this,M0,1)};
var Svg=function(a){_.G.call(this,a)};_.N(Svg,_.G);
var Uvg=function(a){_.G.call(this,a,-1,Tvg)};_.N(Uvg,_.G);var Tvg=[5];
var Vvg=function(a){_.G.call(this,a)};_.N(Vvg,_.G);var Wvg=function(a){var b=new Vvg;return _.z(b,1,a)},Xvg=function(a,b){return _.t(a,2,b)};
var Yvg=function(a){_.G.call(this,a)};_.N(Yvg,_.G);var Zvg=function(a){var b=new Yvg;return _.z(b,1,a)},$vg=function(a,b){return _.t(a,2,b)};Yvg.prototype.getMetadata=function(){return _.w(this,M0,3)};var awg=function(a,b){return _.z(a,3,b)};Yvg.prototype.No=function(){return _.Hh(this,M0,3)};
var bwg=function(a){_.G.call(this,a)};_.N(bwg,_.G);var cwg=function(a,b){return _.z(a,1,b)},dwg=function(a,b){return _.z(a,2,b)},ewg=function(a,b){return _.z(a,3,b)};
var fwg=function(a){_.G.call(this,a)};_.N(fwg,_.G);
var gwg=function(a){_.G.call(this,a)};_.N(gwg,_.G);
var hwg=function(a){_.G.call(this,a)};_.N(hwg,_.G);var iwg=function(a){var b=new hwg;return _.t(b,1,_.ab(a,!1))};
var jwg=function(a){_.G.call(this,a)};_.N(jwg,_.G);
var kwg=function(a){_.G.call(this,a)};_.N(kwg,_.G);var lwg=function(a){var b=new kwg;return _.t(b,1,a)};
var mwg=function(a){_.G.call(this,a)};_.N(mwg,_.G);mwg.prototype.getError=function(){return _.Lh(this,1,0)};mwg.prototype.Ye=function(a){return _.t(this,1,a)};mwg.prototype.oo=function(){return _.Gh(this,1)};var nwg=[mwg,1,_.Gi,2,_.Ci,3,_.Ci];
var owg=function(a){_.G.call(this,a,1)};_.N(owg,_.G);var pwg={},qwg=[owg,pwg];
var X0=function(a){_.G.call(this,a,1)};_.N(X0,_.G);var Y0={},rwg=[X0,Y0];
var swg=function(a){_.G.call(this,a,4)};_.N(swg,_.G);swg.prototype.getError=function(){return _.w(this,mwg,2)};swg.prototype.Ye=function(a){return _.z(this,2,a)};swg.prototype.oo=function(){return _.Hh(this,mwg,2)};var twg={},uwg=[swg,twg,2,_.Ei,nwg,3,_.Ei,qwg];
var vwg=function(a){_.G.call(this,a)};_.N(vwg,_.G);var wwg=_.zb(347854608,vwg);Y0[347854608]=V0(wwg,[vwg,1,_.Ci,2,_.Ci,3,_.Ci,4,_.Ci]);
var xwg=function(a){_.G.call(this,a)};_.N(xwg,_.G);var ywg=_.zb(347854609,xwg);twg[347854609]=V0(ywg,[xwg,1,Lug]);
var zwg=function(a){_.G.call(this,a)};_.N(zwg,_.G);var Awg=_.zb(347854610,zwg);Y0[347854610]=V0(Awg,[zwg,1,Lug,2,_.Ci,3,_.Ci,4,_.Ci]);
var Bwg=function(a){_.G.call(this,a)};_.N(Bwg,_.G);var Cwg=_.zb(347854611,Bwg);twg[347854611]=V0(Cwg,[Bwg,1,_.Ci]);
var Dwg=function(a){_.G.call(this,a)};_.N(Dwg,_.G);Dwg.prototype.Ue=function(){return _.p(this,1)};Dwg.prototype.H=function(a){return _.z(this,3,a)};var Ewg=_.zb(346636283,Dwg);Y0[346636283]=V0(Ewg,[Dwg,1,_.Gi,2,_.Ci,3,_.Ei,Uug,4,_.Ci]);
var Fwg=function(a){_.G.call(this,a)};_.N(Fwg,_.G);Fwg.prototype.getAuthToken=function(){return _.p(this,1)};var Gwg=_.zb(346636284,Fwg);twg[346636284]=V0(Gwg,[Fwg,1,_.Ci]);
var Hwg=function(a){_.G.call(this,a)};_.N(Hwg,_.G);var Iwg=function(a){var b=new Hwg;return _.t(b,1,a)},Jwg=function(a,b){return _.t(a,2,b)},Kwg=function(a,b){return _.t(a,3,b)},Lwg=[Hwg,1,_.Gi,2,_.Ai,3,_.Ai,4,_.Gi,5,_.Ci];
var Mwg=function(a){_.G.call(this,a)};_.N(Mwg,_.G);var Nwg=[Mwg];
var Owg=function(a){_.G.call(this,a)};_.N(Owg,_.G);var Pwg=function(a,b){_.t(a,5,b)},Z0=function(a,b){_.t(a,7,b)},Qwg=[Owg,1,_.Ai,2,_.bL,3,_.Ai,4,_.bL,5,_.Ci,6,_.Ai,7,_.Gi,8,_.Gi];
var Rwg=function(a){_.G.call(this,a)};_.N(Rwg,_.G);Rwg.prototype.getStatus=function(){return _.p(this,1)};Rwg.prototype.tc=function(a){return _.t(this,1,a)};var Swg=[Rwg,1,_.Gi,2,_.Ai,3,_.Ai,4,_.Ai,5,_.Gi];
var Twg=function(a){_.G.call(this,a)};_.N(Twg,_.G);var Uwg=[Twg,1,_.Ai,2,_.Ai,3,_.Ei,Swg,4,_.Ei,Swg];
var Vwg=function(a){_.G.call(this,a)};_.N(Vwg,_.G);var Wwg=[4,5],Xwg=[Vwg,1,_.Bi,2,_.Ci,3,_.Ai,4,_.Fi,Nwg,Wwg,5,_.Fi,Qwg,Wwg,6,_.Ei,Uwg,7,_.Bi];
var xug=function(a){_.G.call(this,a)};_.N(xug,_.G);xug.prototype.getType=function(){return _.p(this,1)};var Ywg=[xug,1,_.Gi,2,_.Ai,3,_.Gi];
var Zwg=function(a){_.G.call(this,a)};_.N(Zwg,_.G);var $wg=function(a){var b=new Zwg;return _.t(b,1,a)};Zwg.prototype.ej=function(){return _.p(this,7)};var axg=[Zwg,1,_.Gi,2,_.Ci,3,_.Ai,4,_.bL,5,_.Gi,6,_.Ci,7,_.Ci];
var bxg=function(a){_.G.call(this,a)};_.N(bxg,_.G);var cxg=[1,2,3,4],dxg=_.zb(398321895,bxg);Y0[398321895]=V0(dxg,[bxg,1,_.Fi,axg,cxg,2,_.Fi,Xwg,cxg,3,_.Fi,Lwg,cxg,4,_.Fi,Ywg,cxg]);
var exg=function(a){_.G.call(this,a)};_.N(exg,_.G);exg.prototype.H=function(a){return _.z(this,2,a)};var fxg=_.zb(393450967,exg);Y0[393450967]=V0(fxg,[exg,1,_.Ci,2,_.Ei,Uug,3,_.Ci]);
var gxg=function(a){_.G.call(this,a)};_.N(gxg,_.G);var hxg=_.zb(393450968,gxg);twg[393450968]=V0(hxg,[gxg,1,_.Ci,2,_.Ci,3,_.Ci,4,_.Ci,5,_.Gi]);var ixg=_.zb(394593106,Owg);pwg[394593106]=V0(ixg,Qwg);
var jxg=function(a){_.G.call(this,a)};_.N(jxg,_.G);jxg.prototype.Ij=function(){return _.p(this,1)};var kxg=_.zb(393450969,jxg);Y0[393450969]=V0(kxg,[jxg,1,_.Ci,2,_.Ci,3,_.Ci,4,_.Ci,5,_.Ci,6,_.Ci]);
var lxg=function(a){_.G.call(this,a)};_.N(lxg,_.G);var mxg=_.zb(393450970,lxg);twg[393450970]=V0(mxg,[lxg,1,_.Ci]);
var nxg=function(a){_.G.call(this,a)};_.N(nxg,_.G);var oxg=_.zb(393450971,nxg);Y0[393450971]=V0(oxg,[nxg]);
var pxg=function(a){_.G.call(this,a)};_.N(pxg,_.G);pxg.prototype.getToken=function(){return _.p(this,1)};pxg.prototype.setToken=function(a){return _.t(this,1,a)};var qxg=_.zb(393450972,pxg);twg[393450972]=V0(qxg,[pxg,1,_.Ci]);var rxg=_.zb(394593107,Twg);pwg[394593107]=V0(rxg,Uwg);
var sxg=function(a){_.G.call(this,a)};_.N(sxg,_.G);sxg.prototype.getToken=function(){return _.p(this,1)};sxg.prototype.setToken=function(a){return _.t(this,1,a)};var txg=_.zb(393450973,sxg);Y0[393450973]=V0(txg,[sxg,1,_.Ci,2,_.bL]);
var uxg=function(a){_.G.call(this,a)};_.N(uxg,_.G);twg[391195174]=V0(_.zb(391195174,uxg),[uxg]);var vxg=_.zb(394593108,Twg);pwg[394593108]=V0(vxg,Uwg);
var wxg=function(a){_.G.call(this,a)};_.N(wxg,_.G);wxg.prototype.Ue=function(){return _.p(this,1)};var xxg=function(a,b){return _.t(a,1,b)},yxg=function(a,b){return _.t(a,2,b)};
var zxg=function(a){_.G.call(this,a)};_.N(zxg,_.G);zxg.prototype.getAuthToken=function(){return _.gi(this,1,Axg)};zxg.prototype.getError=function(){return _.fi(this,2,Axg)};zxg.prototype.Ye=function(a){return _.Th(this,2,Axg,a)};zxg.prototype.oo=function(){return 2===_.kb(this,Axg)};var Axg=[1,2];
var Bxg=function(a){_.G.call(this,a)};_.N(Bxg,_.G);
var Cxg=function(a){_.G.call(this,a)};_.N(Cxg,_.G);
var Dxg=function(a){_.G.call(this,a)};_.N(Dxg,_.G);var Ntg=function(a){var b=new Dxg;return _.t(b,1,a)},Mtg=function(a,b){return _.t(a,2,b)};Dxg.prototype.Jj=function(){return _.K(this,3)};Dxg.prototype.getError=function(){return _.K(this,7)};Dxg.prototype.Ye=function(a){return _.t(this,7,a)};Dxg.prototype.oo=function(){return _.ki(this,7)};
var Exg=function(a,b,c){this.H=a;this.V=b;this.O=c};
Exg.prototype.get=function(a){var b,c,d,e,f=this,g,k,l,m,q;return _.eh(function(r){switch(r.H){case 1:g=_.cN(f.H);k=_.p(f.H,4);if(g&&k){r.We(2);break}return _.Yg(r,f.O,3);case 3:l=r.O,g=_.p(l,4),k=_.p(l,3);case 2:var v=a.start%3,x=a.start-v,y=4/3*x;x=a.end-x+1;b=y;c=y+4/3*(x+(0<x%3?3-x%3:0))-1;d=v;e=v+(a.end-a.start+1);_.CWc(f.H,g);v=lvg(new _.fM,f.H);m=_.t(v,2,b);c<4/3*k-1&&_.t(m,3,c);return _.Yg(r,Fxg(f.V,m,f.O),4);case 4:return q=r.O,r.return(q.subarray(d,e))}})};
var $0=new Uint8Array([153,94,204,94]);
var R0=function(a,b,c){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.H=b;this.O=void 0===c?null:c};_.N(R0,Error);R0.prototype.getMessage=function(){return this.message};R0.prototype.name="CseError";
var Q0=function(a,b){a=Error.call(this,b);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.N(Q0,Error);Q0.prototype.name="ArgumentError";
var a1=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.N(a1,Error);a1.prototype.name="InvalidOperationError";
var Gxg=function(a){this.V=a;this.O=$0.length};Gxg.prototype.H=function(a){var b=this,c,d,e;return _.eh(function(f){if(1==f.H)return _.$g(f,2),c=Math.min(a.length,b.O),_.Yg(f,Hxg(b.V,a.subarray(c,a.length)),4);if(2!=f.H)return d=f.O,b.O-=c,f.return(d);e=_.bh(f);if(e instanceof Q0)throw new R0(e.message,6,e);if(e instanceof a1)throw new R0(e.message,8,e);throw new R0(e.message,7,e);})};
var nug=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.N(nug,Error);nug.prototype.name="CseCrypterError";
/*

 Copyright 2020 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
var bug=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,bug.prototype)};_.N(bug,Error);bug.prototype.name="InvalidArgumentsException";
var N0=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,N0.prototype)};_.N(N0,Error);N0.prototype.name="SecurityException";
var Ytg=function(a){_.G.call(this,a)};_.N(Ytg,_.G);Ytg.prototype.jk=function(){return _.bi(this,1)};var Ixg=function(a){ytg(a);return xtg(_.Mh(a,3))},$tg=[Ytg,1,nvg,3,Mug];
var Wtg=function(a){_.G.call(this,a)};_.N(Wtg,_.G);Wtg.prototype.jk=function(){return _.bi(this,3)};var Vtg=[Wtg,2,nvg,3,nvg];
var Jxg=function(a){_.G.call(this,a)};_.N(Jxg,_.G);Jxg.prototype.Xa=function(){return _.Mh(this,2)};Jxg.prototype.Fb=function(a){return _.ola(this,2,a)};
var O0=function(a){_.G.call(this,a)};_.N(O0,_.G);O0.prototype.Xa=function(){return _.Mh(this,2)};var qug=function(a){ytg(a);return xtg(_.Mh(a,2))};O0.prototype.Fb=function(a){return _.ola(this,2,a)};var Kxg=[O0,1,_.Di,2,Mug,3,_.Ji];
var gug=function(a){_.G.call(this,a,-1,Lxg)};_.N(gug,_.G);var pug=function(a){return _.tb(a,P0,2)},P0=function(a){_.G.call(this,a)};_.N(P0,_.G);P0.prototype.getStatus=function(){return _.Lh(this,2,0)};P0.prototype.tc=function(a){return _.ji(this,2,a)};var Lxg=[2],sug=[gug,1,nvg,2,_.Wla,[P0,1,_.Ei,Kxg,2,_.Ji,3,nvg,4,_.Ji]];
var Mxg=function(a,b){b=[b];var c=b.concat;if(!Number.isInteger(a)||0>a||a>=Math.pow(2,32))throw new bug("Number has to be unsigned 32-bit integer.");for(var d=Array(4),e=0;4>e;e++)d[e]=255&a>>8*(4-e-1);b=c.call(b,d);return new Uint8Array(b)},Nxg=new Uint8Array(0);
var Oxg=function(a,b,c){this.O=a;this.identifier=b;this.H=c};Oxg.prototype.DU=function(){return this.O};Oxg.prototype.Zx=function(){return this.identifier};var Pxg=function(a){this.O=a;this.primary=null;this.H=new Map};Pxg.prototype.wfa=function(){return this.O};var Rxg=function(a,b){return(a=Qxg(a,b))?a:[]},Qxg=function(a,b){b instanceof Uint8Array&&(b=[].concat(_.ad(b)).toString());return a.H.get(b)};
var Rtg=new Map,Utg=new Map,Sxg=new Map;
var eug=function(a){if(!a||!pug(a)||1>pug(a).length)throw new N0("Keyset should be non null and must contain at least one key.");for(var b=!1,c=pug(a).length,d=0;d<c;d++){var e=pug(a)[d];if(!e)throw new N0("Key should be non null.");if(!_.w(e,O0,1))throw new N0("Key data are missing for key "+_.bi(e,3)+".");if(0===_.Lh(e,4,0))throw new N0("Key "+_.bi(e,3)+" has unknown output prefix type.");if(0===e.getStatus())throw new N0("Key "+_.bi(e,3)+" has unknown status.");if(_.bi(a,1)===_.bi(e,3)&&1===e.getStatus()){if(b)throw new N0("Primary key has to be unique.");
b=!0}}if(!b)throw new N0("Primary key has to be in the keyset and has to be enabled.");this.H=a};eug.prototype.DU=function(a,b){var c=this,d;return _.eh(function(e){if(1==e.H){if(!a)throw new bug("primitive type must be non-null");return _.Yg(e,Txg(c,a,b),2)}d=e.O;var f=e.return;if(!d)throw new N0("primitive set cannot be null.");var g=d.wfa(),k=Sxg.get(g);if(!k)throw new N0("no primitive wrapper found for type "+g);k=k.wrap(d);if(!(k instanceof g))throw new TypeError("Nq");return f.call(e,k)})};
var Txg=function(a,b,c){var d,e,f,g,k,l,m,q;return _.eh(function(r){switch(r.H){case 1:d=new Pxg(b),e=pug(a.H),f=e.length,g=0;case 2:if(!(g<f)){r.We(4);break}k=e[g];if(1!==k.getStatus()){r.We(3);break}l=_.w(k,O0,1);if(!l)throw new N0("Key data has to be non null.");m=void 0;return c&&Uxg()===_.K(l,1)?_.Yg(r,c.DU(b,l),9):_.Yg(r,Ttg(b,l),8);case 8:m=r.O;r.We(7);break;case 9:m=r.O;case 7:var v=m;if(!v)throw new N0("Primitive has to be non null.");if(!k)throw new N0("Key has to be non null.");a:switch(_.Lh(k,
4,0)){case 2:case 4:var x=Mxg(_.bi(k,3),0);break a;case 1:x=Mxg(_.bi(k,3),1);break a;case 3:x=Nxg;break a;default:throw new N0("Unsupported key prefix type.");}v=new Oxg(v,x,k.getStatus());x=v.Zx();x=[].concat(_.ad(x)).toString();var y=Qxg(d,x);y?(y.push(v),d.H.set(x,y)):d.H.set(x,[v]);q=v;if(_.bi(k,3)===_.bi(a.H,1)){if(!q)throw new N0("Primary cannot be set to null.");if(1!=q.H)throw new N0("Primary has to be enabled.");v=Rxg(d,q.Zx());x=!1;y=v.length;for(var A=0;A<y;A++)if(1===v[A].H){x=!0;break}if(!x)throw new N0("Primary cannot be set to an entry which is not held by this primitive set.");
d.primary=q}case 3:g++;r.We(2);break;case 4:return r.return(d)}})};eug.prototype.write=function(){return _.eh(function(){throw new N0("KeysetHandle -- write: Not implemented yet.");})};
var mug=function(){};
var hug=[16,32];
var jug=function(a){this.key=a};_.N(jug,mug);jug.prototype.encrypt=function(a,b){var c=this,d,e,f;return _.eh(function(g){if(1==g.H)return iug(a),null!=b&&iug(b),d=Ztg(12),e={name:"AES-GCM",iv:d,tagLength:128},b&&(e.additionalData=b),_.Yg(g,self.crypto.subtle.encrypt(e,c.key,a),2);f=g.O;return g.return(Qtg(d,new Uint8Array(f)))})};
jug.prototype.H=function(a,b){var c=this,d,e,f,g;return _.eh(function(k){if(1==k.H){iug(a);if(28>a.length)throw new N0("ciphertext too short");null!=b&&iug(b);d=new Uint8Array(12);d.set(a.subarray(0,12));e={name:"AES-GCM",iv:d,tagLength:128};b&&(e.additionalData=b);_.$g(k,2);f=Uint8Array;return _.Yg(k,self.crypto.subtle.decrypt(e,c.key,new Uint8Array(a.subarray(12))),4)}if(2!=k.H)return k.return(new f(k.O));g=_.bh(k);throw new N0(g.toString());})};
var Vxg=function(){};
Vxg.prototype.DU=function(a,b){var c=this,d;return _.eh(function(e){if(1==e.H){if(a!=c.wfa())throw new N0("Requested primitive type which is not supported by this key manager.");if(b instanceof O0){if("type.googleapis.com/google.crypto.tink.AesGcmKey"!=_.K(b,1))throw new N0("Key type "+_.K(b,1)+" is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");try{var f=qug(b);var g=_.yi(f,$tg)}catch(k){throw new N0("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key.");}}else if(b instanceof
Ytg)g=b;else throw new N0("Key type is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");d=g;Xtg(Ixg(d).length);g=d.jk();if(0>g||0<g)throw new N0("Version is out of bound, must be between 0 and 0.");return _.Yg(e,kug(Ixg(d)),2)}return e.return(e.O)})};var Uxg=function(){return"type.googleapis.com/google.crypto.tink.AesGcmKey"};Vxg.prototype.wfa=function(){return mug};Vxg.prototype.jk=function(){return 0};
var cug=function(){var a=new Wtg;a=_.ib(a,2,32,0);var b=new Jxg;b=_.nb(b,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");return _.ji(b,3,3).Fb(_.zi(a,Vtg))};
var lug=function(a){this.H=a};lug.prototype.read=function(){try{var a=_.yi(this.H,sug)}catch(b){throw new N0("Could not parse the given serialized proto as a keyset proto.");}if(0===pug(a).length)throw new N0("Could not parse the given serialized proto as a keyset proto.");return a};
var Wxg=function(a,b){this.W=a;this.ka=b;this.ha=!1};Wxg.prototype.V=function(){return this.ka};Wxg.prototype.O=function(a){var b=this,c,d;return _.eh(function(e){if(1==e.H)return _.$g(e,2),_.Yg(e,b.W.encrypt(a),4);if(2!=e.H)return c=e.O,e.return(Xxg(b,c));d=_.bh(e);if(d instanceof Q0)throw new R0(d.message,6,d);if(d instanceof a1)throw new R0(d.message,8,d);throw new R0(d.message,7,d);})};
Wxg.prototype.H=function(a){var b=this,c,d;return _.eh(function(e){if(1==e.H)return _.$g(e,2),_.Yg(e,Yxg(b.W,a),4);if(2!=e.H)return c=e.O,e.return(Xxg(b,c));d=_.bh(e);if(d instanceof Q0)throw new R0(d.message,6,d);if(d instanceof a1)throw new R0(d.message,8,d);throw new R0(d.message,7,d);})};var Xxg=function(a,b){if(!a.ha&&0<b.length){var c=new Uint8Array(b.length+$0.length);c.set($0,0);c.set(b,$0.length);a.ha=!0;return c}return b};
var Zxg=function(a){this.H=a},byg=function(a,b,c){var d,e,f,g;return _.eh(function(k){switch(k.H){case 1:try{var l=a.H;d=$xg(b,l.V,l.O,l.H)}catch(m){throw new R0(m.message,6,m);}l=d.H;e=new _.qT(l.start+$0.length,l.end+$0.length);return _.Yg(k,c.get(e),2);case 2:return f=k.O,_.$g(k,3),_.Yg(k,ayg(a.H,b,f),5);case 5:return k.return(k.O);case 3:g=_.bh(k);if(g instanceof Q0)throw new R0(g.message,6,g);if(g instanceof a1)throw new R0(g.message,8,g);throw new R0(g.message,7,g);}})};Zxg.prototype.ha=function(){return this.H.ha()};
var cyg=function(a,b,c,d,e){R0.call(this,a,b,void 0===e?null:e)};_.N(cyg,R0);cyg.prototype.name="KaclsError";
var dyg=function(a){this.O=a};_.N(dyg,mug);dyg.prototype.encrypt=function(a,b){var c=this,d,e,f,g,k;return _.eh(function(l){if(1==l.H){if(!a)throw new N0("Plaintext has to be non-null.");d=c.O.primary;if(!d)throw new N0("Primary has to be non-null.");e=d.DU();return _.Yg(l,e.encrypt(a,b),2)}f=l.O;g=d.Zx();k=new Uint8Array(g.length+f.length);k.set(g,0);k.set(f,g.length);return l.return(k)})};
dyg.prototype.H=function(a,b){var c=this,d,e,f,g,k,l;return _.eh(function(m){switch(m.H){case 1:if(!a)throw new N0("Ciphertext has to be non-null.");if(!(5<a.length)){m.We(2);break}d=a.subarray(0,5);return _.Yg(m,Rxg(c.O,d),3);case 3:return e=m.O,f=a.subarray(5,a.length),_.$g(m,4),_.Yg(m,eyg(e,f,b),6);case 6:g=m.O;_.ah(m,5);break;case 4:_.bh(m);case 5:if(g)return m.return(g);case 2:return _.Yg(m,Rxg(c.O,Nxg),7);case 7:return k=m.O,_.Yg(m,eyg(k,a,b),8);case 8:return l=m.O,m.return(l)}})};
var eyg=function(a,b,c){var d,e,f,g;return _.eh(function(k){switch(k.H){case 1:d=a.length,e=0;case 2:if(!(e<d)){k.We(4);break}if(1!=a[e].H){k.We(3);break}f=a[e].DU();g=void 0;_.$g(k,5);return _.Yg(k,f.H(b,c),7);case 7:g=k.O;_.ah(k,6);break;case 5:_.bh(k);k.We(3);break;case 6:return k.return(g);case 3:e++;k.We(2);break;case 4:throw new N0("Decryption failed for the given ciphertext.");}})},fyg=function(){};
fyg.prototype.wrap=function(a){if(!a)throw new N0("Primitive set has to be non-null.");if(!a.primary)throw new N0("Primary has to be non-null.");return new dyg(a)};fyg.prototype.wfa=function(){return mug};
var gyg=function(a,b,c){this.V=new Uint8Array(a);this.ka=a;this.W=b;this.H=0;this.O=c;this.ha=!1};gyg.prototype.hB=function(){return _.eh(function(a){_.Zg(a)})};
gyg.prototype.update=function(a){var b=this,c,d,e,f,g,k,l,m;return _.eh(function(q){switch(q.H){case 1:if(b.ha)throw new a1("The final chunk has already been flushed. Cannot do additional crypto operations.");if(1073741824<b.O+Math.ceil((a.length+b.H)/b.ka))throw new a1("Cannot update cipher. Cipher reaching chunk count limit.");var r=a.length+b.H;c=new Uint8Array(0>=r?0:Math.floor((r-1)/b.ka)*b.W);e=d=0;f=a.length;case 2:if(!(f>b.V.length-b.H)){q.We(3);break}g=hyg(b.O,!1);k=b.V.length-b.H;l=a.subarray(e,
e+k);b.V.set(l,b.H);b.H=0;e+=k;f-=k;return _.Yg(q,b.hB(b.V,g),4);case 4:m=q.O;if(m.length!==b.W)throw new nug("Update internal returned unexpected chunk size: expected "+b.W+" actual "+m.length);c.set(m,d);d+=m.length;b.O+=1;q.We(2);break;case 3:return b.V.set(a.subarray(e,e+f),b.H),b.H+=f,q.return(c)}})};
var iyg=function(a,b){var c,d,e;return _.eh(function(f){if(1==f.H){if(a.ha)throw new a1("The final chunk has already been flushed. Cannot do additional crypto operations.");if(0<a.V.length-a.H&&!b)throw new a1("Cannot flush partial chunk unless it is the last chunk");if(0===a.H&&0!==a.O)throw new a1("Cannot flush empty chunk at non-zero chunk index");c=a.V.subarray(0,a.H);d=hyg(a.O,b);return _.Yg(f,a.hB(c,d),2)}e=f.O;a.H=0;a.O+=1;b&&(a.ha=!0);return f.return(e)})},hyg=function(a,b){var c=new ArrayBuffer(5),
d=new DataView(c);d.setUint32(0,a,!1);d.setUint8(4,b?1:0);return new Uint8Array(c)};
var jyg=function(a,b,c,d){gyg.call(this,c,b,d);this.na=a};_.N(jyg,gyg);jyg.prototype.hB=function(a,b){var c=this,d;return _.eh(function(e){if(1==e.H)return _.$g(e,2),_.Yg(e,c.na.H(a,b),4);if(2!=e.H)return e.return(e.O);d=_.bh(e);throw new nug(d.message);})};
var kyg=function(a,b,c){this.W=a;this.O=b;this.H=0;this.V=c},lyg=function(a,b,c,d,e,f){var g,k;return _.eh(function(l){if(1==l.H)return _.Yg(l,oug(a,b),2);g=l.O;k=new jyg(g,d,e,0);return l.return(new kyg(c,k,f))})},Hxg=function(a,b){var c,d,e,f,g,k,l;return _.eh(function(m){switch(m.H){case 1:c=Jwg(Iwg(3),b.length);d=Date.now();e=a.W-a.H;if(b.length>e)throw myg(a,_.t(c,4,2)),new Q0("ciphertext","Expected at most "+e+" bytes of ciphertext, got "+b.length+" bytes");_.$g(m,2);return _.Yg(m,a.O.update(b),
4);case 4:f=m.O;if(b.length!==e){m.We(5);break}return _.Yg(m,iyg(a.O,!0),6);case 6:g=m.O,k=f,f=new Uint8Array(k.length+g.length),f.set(k,0),f.set(g,k.length);case 5:a.H+=b.length;_.ah(m,3);break;case 2:throw l=_.bh(m),l instanceof a1?_.t(c,4,4):_.t(c,4,3),myg(a,c),l;case 3:return myg(a,Kwg(_.t(c,4,1),Date.now()-d)),m.return(f)}})},myg=function(a,b){a.V&&a.V.O(b.clone())};
var nyg=function(a,b,c,d){gyg.call(this,b,c,d);this.na=a};_.N(nyg,gyg);nyg.prototype.hB=function(a,b){var c=this,d;return _.eh(function(e){if(1==e.H)return _.$g(e,2),_.Yg(e,c.na.encrypt(a,b),4);if(2!=e.H)return e.return(e.O);d=_.bh(e);throw new nug(d.message);})};
var oyg=function(a,b,c,d){this.W=a;this.V=b;this.H=c;this.O=d},pyg=function(a,b,c){var d,e,f,g,k,l,m,q;return _.eh(function(r){switch(r.H){case 1:return d=Iwg(1),e=Date.now(),_.$g(r,2),r.We(5);case 4:return _.Yg(r,tug(),7);case 7:g=r.O;f=1;r.We(6);break;case 5:return _.Yg(r,rug(),8);case 8:g=r.O;f=2;r.We(6);break;case 6:_.ah(r,3);break;case 2:throw k=_.bh(r),c&&c.O(_.t(d,4,3)),k;case 3:return l=Jtg(new Ktg,f),c&&c.O(Kwg(_.t(d,4,1),Date.now()-e)),_.Yg(r,oug(g,l),9);case 9:return m=r.O,q=new nyg(m,
a,b,0),r.return(new oyg(g,l,q,c))}})};oyg.prototype.getKey=function(){return this.W};oyg.prototype.encrypt=function(a){var b=this,c,d,e,f;return _.eh(function(g){switch(g.H){case 1:return c=Jwg(Iwg(2),a.length),d=Date.now(),_.$g(g,2),_.Yg(g,b.H.update(a),4);case 4:e=g.O;_.ah(g,3);break;case 2:throw f=_.bh(g),f instanceof a1?_.t(c,4,4):_.t(c,4,3),qyg(b,c),f;case 3:return qyg(b,Kwg(_.t(c,4,1),Date.now()-d)),g.return(e)}})};
var Yxg=function(a,b){var c,d,e,f,g,k;return _.eh(function(l){switch(l.H){case 1:return c=Jwg(Iwg(2),b.length),d=Date.now(),_.$g(l,2),_.Yg(l,a.H.update(b),4);case 4:return f=l.O,_.Yg(l,iyg(a.H,!0),5);case 5:g=l.O;e=new Uint8Array(f.length+g.length);e.set(f,0);e.set(g,f.length);_.ah(l,3);break;case 2:throw k=_.bh(l),k instanceof a1?_.t(c,4,4):_.t(c,4,3),qyg(a,c),k;case 3:return qyg(a,Kwg(_.t(c,4,1),Date.now()-d)),l.return(e)}})},qyg=function(a,b){a.O&&a.O.O(b.clone())};
var ryg=function(a,b){this.O=a;this.H=b},$xg=function(a,b,c,d){if(0>=b)throw new Q0("plaintextSize","Original plaintext size must be greater than zero");if(0>a.start)throw new Q0("plaintextRange","Invalid lower bound for plaintext range");if(a.end>=b)throw new Q0("plaintextRange","Invalid upper bound for plaintext range");var e=Math.floor(a.start/c);a=Math.floor(a.end/c)+1;var f=d-c;return new ryg(new _.qT(e*c,Math.min(b,a*c)-1),new _.qT(e*d,Math.min(0===b?f:b+Math.ceil(b/c)*f,a*d)-1))};
var syg=function(a,b,c,d,e,f){this.ka=a;this.V=b;this.na=c;this.O=d;this.H=e;this.W=f},tyg=function(a,b,c,d,e,f,g){var k;return _.eh(function(l){if(1==l.H)return _.Yg(l,oug(a,b),2);k=l.O;return l.return(new syg(k,c,d,e,f,g))})},ayg=function(a,b,c){var d,e,f,g,k,l,m,q,r,v,x,y,A,C,F,M,I;return _.eh(function(P){switch(P.H){case 1:d=Jwg(Iwg(3),c.length);e=Date.now();try{f=$xg(b,a.V,a.O,a.H)}catch(R){throw uyg(a,_.t(d,4,2)),R;}g=f.O;k=f.H;l=g.Jo()+1;m=k.Jo()+1;if(c.length!==m)throw uyg(a,_.t(d,4,2)),new Q0("ciphertext",
"Length of ciphertext does not match encompassing ciphertext range");q=Math.floor(k.start/a.H);r=k.end===a.na-1;v=new jyg(a.ka,a.O,a.H,q);_.$g(P,2);return _.Yg(P,v.update(c),4);case 4:return y=P.O,_.Yg(P,iyg(v,r),5);case 5:A=P.O;C=new Uint8Array(y.length+A.length);C.set(y,0);C.set(A,y.length);if(C.length!==l)throw new nug("Decrypted data size does not match encompassing plaintext size: expected "+l+" actual "+C.length);F=b.start-g.start;M=g.end-b.end;x=C.subarray(F,C.length-M);_.ah(P,3);break;case 2:throw I=
_.bh(P),I instanceof a1?_.t(d,4,4):_.t(d,4,3),uyg(a,d),I;case 3:return uyg(a,Kwg(_.t(d,4,1),Date.now()-e)),P.return(x)}})};syg.prototype.ha=function(){return this.V};var uyg=function(a,b){a.W&&a.W.O(b.clone())};
var vyg=new fyg;if(!vyg)throw new N0("primitive wrapper cannot be null");var wyg=vyg.wfa();if(!wyg)throw new N0("primitive wrapper cannot be undefined");if(Sxg.has(wyg)&&!(Sxg.get(wyg)instanceof vyg.constructor))throw new N0("primitive wrapper for type "+wyg+" has already been registered and cannot be overwritten");Sxg.set(wyg,vyg);var xyg=new Vxg,yyg;void 0===yyg&&(yyg=!0);if(!xyg)throw new N0("Key manager cannot be null.");var zyg=Uxg();
if(Rtg.has(zyg)){if(!(Rtg.get(zyg)instanceof xyg.constructor))throw new N0("Key manager for key type "+zyg+" has already been registered and cannot be overwritten.");if(!Utg.get(zyg)&&yyg)throw new N0("Key manager for key type "+zyg+" has already been registered with forbidden new key operation.");Utg.set(zyg,yyg)}Rtg.set(zyg,xyg);Utg.set(zyg,yyg);
var Ayg=function(a,b){this.O=a;this.H=a+28;this.V=b},Byg=function(a){return _.eh(function(b){return 1==b.H?_.Yg(b,pyg(a.O,a.H,a.V),2):b.return(b.O)})},Cyg=function(a,b,c,d){return _.eh(function(e){return 1==e.H?_.Yg(e,lyg(b,c,d,a.O,a.H,a.V),2):e.return(e.O)})},Dyg=function(a,b,c,d){var e;return _.eh(function(f){return 1==f.H?(e=uug(d,a.O,a.H),_.Yg(f,tyg(b,c,e,d,a.O,a.H,a.V),2)):f.return(f.O)})};
var Eyg=function(){};
Eyg.prototype.getAuthToken=function(a){var b,c,d,e,f,g,k,l,m,q;return _.eh(function(r){if(1==r.H)return b={aud:"test_kacl",iss:"google-cse-test-authn",email:a.getEmail(),email_verified:!0},c={alg:"RS256",typ:"JWT",kid:"test_authn"},d=_.WC(JSON.stringify(c),4),b.qPb=Math.round(Date.now()/1E3)-1,b.exp=Math.round(b.qPb+3600),e=d+"."+_.WC(JSON.stringify(b),4),f={alg:"RS256",d:"DI4nXowkE3RIcp07CI7NWkOHxe92sFVjgK1XqEikAXH1HK7jBxp9dF5cMKelWsu0GnqSTAMzus04hQ0lBGhGTwVTabMUkGhMRd8QrKWMXbH-DIyDOZtA9ZTg439pIKF-ZOIk2mxEt0P91EmFSq3grIW2xdbDHfnuZEZoPQ6GfMeICwBIIxoNAEbEuPyacVl6WDpfLX3qwtcushPrIo4Jkcbvq2hGk7aj5GX4cr0K1U9Ctlv5G1jSFhzdouSog4GLL2XmxyRDlzSsCxoBTViscitRYV_hHdKDBZWEzOddUoFW_xWTLXm0dlRHFDJMFF8JDuXBkcsJzaal2_Puko3Lpw",dp:"BigtEVDe7kfnEhnp6ZqOG7GHOc11-ZPcoGWq_hd75sFs_nU0-MdD6xDMaQ3AuMm5lRY6cjhSQlKjNf6Qj6yBrxE4l0bbh5uVzU2gpnhTuvWNgd1ENLBqoQ-y7YcOLt5fWUwDHZDPX8JWkZ_BUumjklY6hCkYXZ3BSm7UN_qciic",
dq:"N_7PJ42DLwJbmIlAGdQnLoxFLXEHzRbFr5Arass6ZjrtyabZ6T1hQxhjc8Vil72PHbDQ4_Beh1p5-RCBOhrm7667jsJWNei8Qmu-Abz-06OfjtBx_nzNic7Gc4sh-Cc5dU-UdX9hit2_ruBkFOIphjlTjhyFOoRvk58ZkS7bduM",e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"yU4wVOVDxYat-sgUp5Zmd32bUfdVYh1c-nKSN7JbYett_K437Y58n_IBgQntbTLxcy_96DtbaJ7Jf2ZPcwnIp1MLDkd6MLesdlRFgE-6jwG00LfeD-AYGitOh7zmWwpN32dKqLuV4CpoC7vVDGFJVVuNW_FnitKFulfG2Q-I9aSUhXoHvsqMKK9T2YSXQZa79Xh2PgErhn_X0kwoKgf8D_VLZcZWIXSVBq06fOBFW5-0sIIFGyOqWadtT98n-iQZ5XNHPXlYI-Geejk3B62YY5ND1_87poRUOavZzw5LB54dMLL4_WA32QVT72GUeeLwkwYQ30_tUyl2ZiEl_QlVeQ",
p:"_fAWJqfp8-Pc4RCYpvuaitDxjblmJf6-eI5SIExdKKbd_M9qKuSQFWG1OOW0C1l5cd9hitZZrfrE-a4_MU9SlF1jKVDYSAiaznKzfVaMDHNtntDOiGW1zm6EoMhfCo--Nv7wTfbOobSni7uFV_Vx5jDKvG7tQ9iDfn0f3k0Xzk8",q:"yvCvLuIRiJ9GMEmDCaw7x9FHODEdJp01rHjUSGhhwpshzQQHTme_ynQYPSt7KsxwOcJlr5P9OKf6DC6GGmsuzAZx3wqIRzkKa_X7od7aOV7MNLhytndJaZKgi1Olf6uIv96dWwNBtLQOR2_eGRbtBWCldVkUjnFBwoMGcgaptbc",qi:"BmuZNEO4_Jlu58O4bunxxMxIOiDoaO72uYyRhcWBqiX4oAJ7GHKN9qP5poq3Uywwnfn8uzOdJe2AoihNPMRSvXvHDyMhIZnMuWIWwhZh4EDmep7b8ELZd_hUKdsu_3TiqHiwfugb8nPsu_jzzLAe1tStt2B5aNSTWQsvvjxVl90"},
_.Yg(r,window.crypto.subtle.importKey("jwk",f,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=r.H)return g=r.O,k=new TextEncoder,_.Yg(r,crypto.subtle.sign("RSASSA-PKCS1-v1_5",g,k.encode(e)),3);l=r.O;m=e+"."+_.db(new Uint8Array(l),4);q=Lvg(Kvg(),m);return r.return(q)})};
var Fyg=function(){this.be=null;this.H=0};Fyg.prototype.V=function(a,b,c,d){this.be=a;this.H=b;_.t(d,2,1E3*b-c);return Promise.resolve()};Fyg.prototype.O=function(a,b){if(!this.be)return Promise.resolve(null);if(1E3*this.H<=a)return _.t(b,1,0),Promise.resolve(null);_.t(b,1,1E3*this.H-a);return Promise.resolve(this.be)};
var b1=function(a,b,c,d){d=void 0===d?null:d;R0.call(this,a,b,void 0===c?null:c);this.V=d};_.N(b1,R0);b1.prototype.name="IdpError";
var Gyg=function(){};
Gyg.prototype.exchange=function(a,b,c,d,e,f){var g,k,l,m,q;return _.eh(function(r){switch(r.H){case 1:return g=_.Rna({grant_type:"authorization_code",code:a,redirect_uri:e,client_id:f,code_verifier:b}),_.$g(r,2),_.Yg(r,_.ba.fetch(d,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:g}),4);case 4:return l=r.O,_.Yg(r,l.json(),5);case 5:k=r.O;_.ah(r,3);break;case 2:throw m=_.bh(r),new b1("Auth code exchange fetch request failed",20,m,c);case 3:q=k.id_token;if(!q)throw new b1("ID token is missing from response: "+
JSON.stringify(k),20,null,c);return r.return(q)}})};
var Hyg=function(a,b,c,d,e,f,g,k,l,m,q){this.na=a.endsWith("/")?a.slice(0,-1):a;this.ta=b.endsWith("/")?b.slice(0,-1):b;this.W=c;this.V=d;this.ka=e;this.H=f;this.O=g;this.ha=k;this.Ob=l;this.Ca=m;this.Ba=q},Iyg=function(a,b,c,d,e,f,g){var k,l,m,q;return _.eh(function(r){if(1==r.H){k=vug();l=vug();q=m="";if(2!==g)return r.We(2);var v=new Uint8Array(32);window.crypto.getRandomValues(v);q=_.db(v,4);return _.Yg(r,wug(q),3)}2!=r.H&&(m=r.O);return r.return(new Hyg(a,b,c,d,e,f,g,k,l,q,m))})},Jyg=function(a,
b){return _.eh(function(c){return c.return(Iyg(a.na,a.ta,a.W,a.V,b,a.H,a.O))})};Hyg.prototype.getState=function(){return this.Ob};Hyg.prototype.getEmail=function(){return this.ka};
var Kyg=function(a,b){a:switch(a.O){case 1:var c="id_token";break a;case 2:c="code";break a;default:throw Error("Rq`"+a.O);}c={response_type:c,response_mode:2===a.O?"query":"fragment",scope:"openid email",login_hint:a.ka,client_id:a.W,state:a.getState(),nonce:a.ha,redirect_uri:a.V};b&&(c.prompt="none");2===a.O&&(c.code_challenge_method="S256",c.code_challenge=a.Ba);return _.Tj(new _.Mj(a.na),_.ASc(c))};
var Lyg=function(a){var b=a.lastIndexOf("@");return 0<b?a.substring(b+1,a.length):""};
var Myg=function(a,b){this.H=new Map;this.W=a;this.O=b};
Myg.prototype.V=function(a,b){var c=this,d,e,f,g,k,l,m,q,r;return _.eh(function(v){switch(v.H){case 1:d=Lyg(a);if(!d)throw new R0(a+" is not a valid email address.",1);return _.Yg(v,Nyg(c,d,a),2);case 2:if(e=v.O)return v.return(e);if(!c.O){v.We(3);break}return _.Yg(v,c.O(d),4);case 4:f=v.O;case 3:return g=f?5E3:1E4,k="google.com"===d?"https://krahsc.google.com/.well-known/cse-configuration":"https://cse."+d+"/.well-known/cse-configuration",l=Date.now(),_.$g(v,5,6),_.Yg(v,Oyg(k,g),8);case 8:m=v.O;
case 6:_.ch(v);var x=Date.now()-l;_.t(b,1,x);_.dh(v,7);break;case 5:q=_.bh(v);if(f)q&&"AbortError"===q.name?_.t(b,8,3):_.t(b,8,1);else throw Z0(b,7),new R0("Unable to get CSE configuration content from "+k,14,q);v.We(6);break;case 7:m&&_.t(b,2,m.status);if(m&&!m.ok)if(f)_.t(b,8,2);else throw Z0(b,7),new R0("Fetching content from "+k+" failed with "+m.status+" status",14);return(r=!m||!m.ok)?_.Yg(v,Pyg(c,d,a,b,f),12):_.Yg(v,Qyg(c,m,d,a,b),11);case 11:return v.return(v.O);case 12:return v.return(v.O)}})};
var Pyg=function(a,b,c,d,e){var f,g,k,l,m,q;return _.eh(function(r){if(!e)throw Z0(d,7),new R0("No D3 IDP setting found during fallback.",14);if(!_.Ih(e,Pug,1,Tug))throw Z0(d,8),new R0("D3 IDP setting does not include OIDC configuration.",15);f=_.hi(e,Pug,1,Tug);g=_.p(f,1);k=f.getName()||"";l=_.p(f,3);m=_.Gh(f,5)?_.p(f,5):1;return(q=Ryg(g,k,l))?(Z0(d,8),r.return(Promise.reject(q))):r.return(Syg(a,g,k,l,m,b,c,d))})},Qyg=function(a,b,c,d,e){return b.json().catch(function(f){Z0(e,8);return Promise.reject(new R0("Failed to parse CSE configuration content to json.",
15,f))}).then(function(f){var g=f.client_id,k=f.discovery_uri,l=f.name||"";(f=f.grant_type)||(f="implicit");switch(f){case "implicit":f=1;break;case "authorization_code":f=2;break;default:return Z0(e,8),Promise.reject(new R0("CSE configuration includes unknown grant_type: "+f,15))}var m=Ryg(k,l,g);return m?(Z0(e,8),Promise.reject(m)):Syg(a,k,l,g,f,c,d,e)})},Syg=function(a,b,c,d,e,f,g,k){return Tyg(b,c,e,k).then(function(l){return Iyg(l.Vzb,l.q7b,d,a.W,g,c,e)}).then(function(l){a.H.set(f,{TCb:Date.now(),
entry:l});return l})},Tyg=function(a,b,c,d){var e=Date.now();return _.ba.fetch(a,{referrerPolicy:"origin"}).catch(function(f){Z0(d,5);return Promise.reject(new b1("Unable to get OIDC content from "+a,12,f,b))}).then(function(f){_.t(d,4,f.status);return f.ok?Uyg(f,b,c,d):(Z0(d,14),Promise.reject(new b1("Fetching content from "+a+" failed with "+f.status+" status",31,null,b)))}).finally(function(){var f=Date.now()-e;return _.t(d,3,f)})},Uyg=function(a,b,c,d){return a.json().catch(function(e){Z0(d,6);
return Promise.reject(new b1("Failed to parse discovery configuration content to json.",13,e,b))}).then(function(e){var f=e.authorization_endpoint,g=e.token_endpoint,k=e.response_types_supported;return(e=e.authorization_endpoint&&e.token_endpoint?k&&0!==k.length?1===c&&!k.includes("id_token")||2===c&&!k.includes("code")?new b1("response_type is not supported by the OIDC provider: "+c,13,null,b):null:new b1('"response_types_supported" is null or empty in OIDC configuration',13,null,b):new b1('OIDC configuration content does not include the required "authorization_endpoint" or "token_endpoint" field.',
13,null,b))?(Z0(d,6),Promise.reject(e)):{Vzb:f,q7b:g}})},Nyg=function(a,b,c){var d;return _.eh(function(e){if(d=a.H.get(b))if(864E5<Date.now()-d.TCb)a.H.delete(b);else return e.return(Jyg(d.entry,c));return e.return(null)})},Ryg=function(a,b,c){return c&&a?null:new b1('CSE configuration content does not include the required "client_id" and "discovery_uri" field.',15,null,b)},Oyg=function(a,b){var c,d,e,f;return _.eh(function(g){switch(g.H){case 1:var k=_.ba.AbortController?new _.ba.AbortController:
void 0;(c=k)&&(d=setTimeout(function(){return c.abort()},b));_.$g(g,2,3);e={referrerPolicy:"origin"};c&&(e.signal=c.signal);return _.Yg(g,_.ba.fetch(a,e),5);case 5:return g.return(g.O);case 3:_.ch(g);d&&clearTimeout(d);_.dh(g,0);break;case 2:throw f=_.bh(g),f;}})};
var Vyg={interaction_required:10,login_required:10,account_selection_required:10,consent_required:10,invalid_request_uri:18,invalid_request_object:18,request_not_supported:18,request_uri_not_supported:18,registration_not_supported:18,invalid_request:18,unauthorized_client:18,access_denied:18,unsupported_response_type:18,invalid_scope:18,server_error:19,temporarily_unavailable:19};
var Wyg=function(a){this.H=a};Wyg.prototype.getToken=function(){return this.H};Wyg.prototype.getEmail=function(){var a=c1(this);return a.google_email||a.email};Wyg.prototype.IM=function(){var a=_.kh()/1E3;return c1(this).iat-60>a||c1(this).exp-60<a};var c1=function(a){return JSON.parse(atob(a.H.split(".")[1]))},Xyg=function(a,b){a=a.getEmail();return!!a&&a.toLowerCase()===b.toLowerCase()};
var Zyg=function(a,b,c){var d=this;this.H=a;this.Qa=b;this.Ga=function(e){return Yyg(d,e)};this.W=!1;this.ha=this.Ha=this.ka=null;this.O=c?c:new Owg;this.La=Date.now()},azg=function(a){if(a.W)return a.ka;a.W=!0;a.La=Date.now();a.ka=$yg(a);window.addEventListener("message",a.Ga,!1);a.ta();return a.ka},bzg=function(a){a.W=!1;a.Ba();window.removeEventListener("message",a.Ga,!1);var b=Date.now()-a.La;_.t(a.O,6,b)},czg=function(a,b){a.ha(b);bzg(a)},$yg=function(a){return new Promise(function(b,c){a.Ha=
b;a.ha=c})},Yyg=function(a,b){var c,d,e,f,g,k,l,m,q,r,v,x;return _.eh(function(y){switch(y.H){case 1:c=b;if(!a.Ca(c))return y.return();d=c.data;if(a.H.getState()!==d.state)return y.return();if(e=d.error){var A=Vyg[e];f=A?A:18;g=e+": "+d.error_description;dzg(a,f);czg(a,new b1(g,f,null,a.H.H));return y.return()}k=d.code;l="";if(!k){y.We(2);break}_.$g(y,3);return _.Yg(y,a.Qa.exchange(k,a.H.Ca,a.H.H,a.H.ta,a.H.V,a.H.W),5);case 5:l=y.O;_.ah(y,2);break;case 3:return m=_.bh(y),dzg(a,20),czg(a,m),y.return();
case 2:q=l||d.token;if(!q)return Z0(a.O,9),czg(a,new b1("Missing JWT from callback",16,null,a.H.H)),y.return();r=new Wyg(q);try{v=c1(r)}catch(C){return Z0(a.O,9),czg(a,new b1("Unparsable JWT from callback",16,null,a.H.H)),y.return()}A=a.H.ha;if(c1(r).nonce!=A)return Z0(a.O,9),czg(a,new b1("JWT from callback has mismatching nonce. Want: "+a.H.ha+", got: "+v.nonce,16,null,a.H.H)),y.return();x=Math.floor(Date.now()/1E3);if(c1(r).iat-60>x)return Z0(a.O,9),czg(a,new b1("JWT from callback has invalid issuance date: iat is "+
v.iat+", must be before "+x,16,null,a.H.H)),y.return();if(c1(r).exp-60<x)return Z0(a.O,9),czg(a,new b1("JWT from callback is expired: exp is "+v.iat+", must be after "+x,16,null,a.H.H)),y.return();a.Ha(r);bzg(a);_.Zg(y)}})},dzg=function(a,b){switch(b){case 11:b=4;break;case 10:b=3;break;case 18:b=10;break;case 19:b=11;break;case 20:b=12;break;default:b=0}Z0(a.O,b)};
var ezg=function(a,b,c){Zyg.call(this,a,b,c);this.V=null;this.na=0};_.N(ezg,Zyg);ezg.prototype.ta=function(){this.V=_.gj(Kyg(this.H,!1).toString(),window,_.Qi("_blank"));Pwg(this.O,_.ak(Kyg(this.H,!1),"login_hint").toString());this.V?fzg(this):(Z0(this.O,13),this.ha(new b1("Unable to open the popup.",25,null,this.H.H)))};ezg.prototype.Ba=function(){this.V&&!this.V.closed&&(_.wl(this.na),this.V.close(),fzg(this))};ezg.prototype.Ca=function(a){return a.origin==(new URL(this.H.V)).origin};
var fzg=function(a){a.V.closed?(a.V=null,a.W&&(Z0(a.O,4),a.ha(new b1("Popup was closed before authentication completed.",11,null,a.H.H)))):a.na=_.vl(function(){return fzg(a)},1E3)};
var gzg=function(a,b,c){Zyg.call(this,a,b,c);this.V=null;this.na=0};_.N(gzg,Zyg);gzg.prototype.Ca=function(a){return!!this.V&&a.source===this.V.contentWindow&&"null"===a.origin};
gzg.prototype.ta=function(){var a=this,b=_.Cd(Kyg(this.H,!0).toString());Pwg(this.O,_.ak(Kyg(this.H,!0),"login_hint").toString());this.V=b=_.xk(document,_.gna(b,{sandbox:"allow-scripts",style:_.Qi("display:none")}));document.body.appendChild(b);this.na=_.vl(function(){a.W&&(Z0(a.O,3),czg(a,new b1("Timed out while waiting for iframe to authenticate.",10,null,a.H.H)))},5E3)};gzg.prototype.Ba=function(){_.wl(this.na);this.V&&(_.Ck(this.V),this.V=null)};
var hzg=function(a,b,c,d){this.ha=a;this.V=b;this.W=c;this.O=d;this.H=new Map};hzg.prototype.getAuthToken=function(a,b){var c=this,d=a.Ue();a=_.p(a,2)||"";var e=d+"|"+a;this.H.has(e)||(b=izg(this,d,a,b).finally(function(){return c.H.delete(e)}),this.H.set(e,b));return this.H.get(e)};
var izg=function(a,b,c,d){var e,f,g,k;return _.eh(function(l){if(1==l.H){e=d||new Vwg;var m=_.t(e,1,1==b);var q=Lyg(c);m=_.t(m,2,q);q=new Twg;_.z(m,6,q);return _.Yg(l,a.W.O(Date.now(),_.w(e,Twg,6)),2)}f=l.O;if(!f)return l.return(jzg(a,b,c,e));a:{q=new Wyg(f);try{if(q.IM()){m=null;break a}}catch(r){m=null;break a}m=q}return(g=m)&&Xyg(g,c)?(m=new Mwg,_.Uh(e,4,Wwg,m),a.O.ka(e),k=new zxg,m=g.getToken(),_.Th(k,1,Axg,m),l.return(Promise.resolve(k))):l.return(jzg(a,b,c,e))})},jzg=function(a,b,c,d){var e,
f,g,k,l,m,q;return _.eh(function(r){switch(r.H){case 1:return e=new Owg,_.Uh(d,5,Wwg,e),_.Vja(r,2),_.Yg(r,a.ha.V(c,e),4);case 4:return f=r.O,g=f.H,2==b?_.Yg(r,azg(new ezg(f,a.V,e)),8):_.Yg(r,azg(new gzg(f,a.V,e)),7);case 7:k=r.O;r.We(6);break;case 8:k=r.O;case 6:l=k;if(c1(l).exp&&c1(l).iat){var v=1E3*(c1(l).exp-c1(l).iat);_.t(d,3,v)}m=l.getEmail();if(!m)throw Z0(e,15),new b1("Authentication token has no email or google_email claim",32,null,g);if(!Xyg(l,c))throw Z0(e,2),new b1("Mismatch between user email "+
c+" and authentication token email "+m,9,null,g);Z0(e,1);q=new zxg;v=l.getToken();_.Th(q,1,Axg,v);return _.Yg(r,a.W.V(l.getToken(),c1(l).exp-60,Date.now(),_.w(d,Twg,6)),9);case 9:return r.return(q);case 2:_.ch(r),a.O.ka(d),_.dh(r,0)}})};
var kzg=function(a,b,c){this.H=new hzg(new Myg(a,c),new Gyg,new Fyg,b)};kzg.prototype.getAuthToken=function(a){var b=this,c;return _.eh(function(d){c=yxg(xxg(new wxg,_.hi(a,L0,1,Ivg).Ue()),a.getEmail());return d.return(b.H.getAuthToken(c).then(function(e){return Lvg(Kvg(),e.getAuthToken())}))})};
var lzg=function(a,b,c,d){this.W=a;this.O=b;this.V=c;this.H=d};
lzg.prototype.getAuthToken=function(a){var b=this,c,d,e,f,g,k,l,m,q;return _.eh(function(r){switch(r.H){case 1:c=Date.now();var v=new Dwg;var x=_.hi(a,L0,1,Ivg).Ue();v=_.t(v,1,x);x=a.getEmail();v=_.t(v,2,x);d=_.t(v,4,b.O);if(!b.H){r.We(2);break}_.$g(r,3);e=d;f=e.H;return _.Yg(r,b.H(Lyg(a.getEmail())),5);case 5:f.call(e,r.O);_.ah(r,2);break;case 3:_.bh(r);case 2:return g=_.pi(new X0,Ewg,d),k=void 0,_.$g(r,6,7),_.Yg(r,d1(b.W,1,g),9);case 9:return l=r.O,m=l.getExtension(Gwg),r.return(Lvg(Kvg(),m.getAuthToken()));
case 7:_.ch(r);b.V.ha(yug(1,c,k));if(k)throw k;_.dh(r,0);break;case 6:k=q=_.bh(r),r.We(7)}})};
var mzg=function(a,b,c){this.W=a;this.H=b;this.O=c};
mzg.prototype.V=function(a,b){var c=this,d,e,f,g,k,l,m;return _.eh(function(q){switch(q.H){case 1:var r=new exg;r=_.t(r,1,a);d=_.t(r,3,c.H);if(!c.O){q.We(2);break}_.$g(q,3);e=d;f=e.H;return _.Yg(q,c.O(Lyg(a)),5);case 5:f.call(e,q.O);_.ah(q,2);break;case 3:_.bh(q);case 2:return g=new owg,_.Vja(q,6),_.Yg(q,d1(c.W,6,_.pi(new X0,fxg,d),g),8);case 8:return k=q.O,l=k.getExtension(hxg),_.Yg(q,Iyg(_.p(l,1),_.p(l,2),_.p(l,3),c.H,a,_.p(l,4),_.p(l,5)),9);case 9:return q.return(q.O);case 6:_.ch(q),(m=g.getExtension(ixg))&&
_.rb(b,m),_.dh(q,0)}})};
var nzg=function(a){this.H=a};nzg.prototype.V=function(a,b,c,d){var e=this,f,g;return _.eh(function(k){if(1==k.H){f=new owg;_.Vja(k,2);var l=d1,m=e.H,q=new X0;var r=(new sxg).setToken(a);r=_.t(r,2,b);return _.Yg(k,l(m,9,txg.MH(q,r),f),4)}if(2!=k.H)return k.return(Promise.resolve());_.ch(k);(g=f.getExtension(vxg))&&_.rb(d,g);return _.dh(k,0)})};
nzg.prototype.O=function(a,b){var c=this,d,e,f,g;return _.eh(function(k){if(1==k.H)return d=new owg,_.Vja(k,2),_.Yg(k,d1(c.H,8,_.pi(new X0,oxg,new nxg),d),4);if(2!=k.H)return e=k.O,f=e.getExtension(qxg),k.return(Promise.resolve(f.getToken()));_.ch(k);(g=d.getExtension(rxg))&&_.rb(b,g);return _.dh(k,0)})};
var ozg=function(a){this.H=a};ozg.prototype.exchange=function(a,b,c,d,e,f){var g=this,k,l,m;return _.eh(function(q){if(1==q.H){var r=new X0;var v=new jxg;v=_.t(v,1,a);v=_.t(v,2,b);v=_.t(v,3,c);v=_.t(v,4,d);v=_.t(v,5,e);v=_.t(v,6,f);k=kxg.MH(r,v);return _.Yg(q,d1(g.H,7,k),2)}l=q.O;m=_.Yh(l.getExtension(mxg),1);if(!m)throw new b1("ID token is missing from proxied auth code exchange response",20,null,c);return q.return(m)})};
var pzg=function(a,b){this.H=a;this.O=b};pzg.prototype.getAuthToken=function(a){var b=this,c,d,e;return _.eh(function(f){if(1==f.H){c=_.hi(a,L0,1,Ivg).Ue();if(1===c)return f.return(b.H.getAuthToken(a));d=yxg(xxg(new wxg,c),a.getEmail());var g=b.O,k=g.getAuthToken;var l=new Vwg;l=_.t(l,7,!0);return _.Yg(f,k.call(g,d,l),2)}e=f.O;return f.return(Lvg(Kvg(),e.getAuthToken()))})};
var qzg=function(a,b,c,d){this.V=a;this.O=b;this.W=c;this.ha=d;this.H=zug(a,b,c,d)},rzg=function(a,b,c){var d;return _.eh(function(e){switch(e.H){case 1:a.H||(a.H=zug(a.V,a.O,a.W,a.ha));if(a.H.Qh){e.We(2);break}_.$g(e,3);return _.Yg(e,Aug(a.H),5);case 5:_.ah(e,4);break;case 3:throw d=_.bh(e),a.H&&(a.H.iframe.remove(),a.H=null),d;case 4:a.H.Qh=!0;case 2:return c?e.return(new Promise(function(f,g){var k=setTimeout(function(){g(new R0("No response from iframe channel within timeout",27))},c);a.H.channel.H(b).then(function(l){clearTimeout(k);
f(l)}).catch(function(l){clearTimeout(k);g(l)})})):e.return(a.H.channel.H(b))}})},d1=function(a,b,c,d){var e,f,g,k;return _.eh(function(l){if(1==l.H)return _.Yg(l,rzg(a,{type:b,request:_.zi(c,rwg)},1===b?void 0:3E4),2);e=l.O;f=e.data;if(!f)throw new R0("Iframe returned an empty message",17);g=null;try{g=_.yi(f.response,uwg)}catch(m){throw new R0("Iframe returned an malformed response",17);}d&&_.Hh(g,owg,3)&&_.rb(d,_.w(g,owg,3));if((k=g.getError())&&0!==k.getError())throw _.ki(k,3)?new b1(_.K(k,2),
k.getError(),null,_.K(k,3)):new R0(_.K(k,2),k.getError());return l.return(g)})};
var szg={"Content-Type":"application/json"},tzg=function(a){this.H=a};
tzg.prototype.wrap=function(a){var b=this,c,d,e,f,g,k,l,m,q,r,v,x;return _.eh(function(y){switch(y.H){case 1:if(!_.ki(a,3))throw new R0("Missing authorization token",5);c=Date.now();d=_.p(a,3);e=uzg(d,"/wrap");f=vzg(d);var A=$wg(1);A=_.t(A,2,e);g=_.t(A,6,f);l={key:null==(k=_.Kh(a,1))?void 0:_.jba(k),authorization:d,authentication:_.p(a,2),reason:_.p(a,4)};_.$g(y,2);return _.Yg(y,_.ba.fetch(e,{method:"POST",mode:"cors",headers:szg,body:JSON.stringify(l)}),4);case 4:m=y.O;_.ah(y,3);break;case 2:throw q=
_.bh(y),y=Date.now()-c,_.t(g,3,y),_.t(g,5,7),b.H.H(g),new R0("Wrap request to KACLS failed",28,q);case 3:_.t(g,4,m.status);A=Date.now()-c;_.t(g,3,A);if(!m.ok)throw b.H.H(g),Bug(m.status);_.$g(y,5);return _.Yg(y,m.json(),7);case 7:r=y.O;_.ah(y,6);break;case 5:throw v=_.bh(y),_.t(g,5,2),b.H.H(g),new R0("Unable to parse response as JSON",2,v);case 6:x=r.wrapped_key;if(!x)throw _.t(g,5,3),b.H.H(g),new R0("wrapped_key is missing in KACLS response",2);_.t(g,5,1);b.H.H(g);return y.return(lwg(x))}})};
tzg.prototype.V=function(a){var b=this,c,d,e,f,g,k,l,m,q,r,v;return _.eh(function(x){switch(x.H){case 1:if(!_.ki(a,3))throw new R0("Missing authorization token",5);c=Date.now();d=_.p(a,3);e=uzg(d,"/unwrap");f=vzg(d);var y=$wg(2);y=_.t(y,2,e);g=_.t(y,6,f);k={wrapped_key:_.p(a,1),authorization:d,authentication:_.p(a,2),reason:_.p(a,4)};_.$g(x,2);return _.Yg(x,_.ba.fetch(e,{method:"POST",mode:"cors",headers:szg,body:JSON.stringify(k)}),4);case 4:l=x.O;_.ah(x,3);break;case 2:throw m=_.bh(x),x=Date.now()-
c,_.t(g,3,x),_.t(g,5,7),b.H.H(g),new R0("Unwrap request to KACLS failed",28,m);case 3:_.t(g,4,l.status);y=Date.now()-c;_.t(g,3,y);if(!l.ok)throw b.H.H(g),Bug(l.status);_.$g(x,5);return _.Yg(x,l.json(),7);case 7:q=x.O;_.ah(x,6);break;case 5:throw r=_.bh(x),_.t(g,5,2),b.H.H(g),new R0("Unable to parse response as JSON",3,r);case 6:v=q.key;if(!v)throw _.t(g,5,3),b.H.H(g),new R0("key is missing in KACLS response",3);_.t(g,5,1);b.H.H(g);return x.return(iwg(v))}})};
var uzg=function(a,b){a=wzg(a).kacls_url;if(!a)throw new R0("Missing KACLS URL claim in authorization token",5);return a.endsWith("/")?a.slice(0,-1)+b:a+b},vzg=function(a){a=wzg(a);if(!a.resource_name)throw new R0("resource_name claim is empty",5);return a.resource_name},wzg=function(a){try{return JSON.parse(_.JHb(a.split(".")[1]))}catch(b){throw new R0("Cannot decode authorization token",5,b);}};
var xzg=function(a,b){this.O=a;this.H=b};xzg.prototype.wrap=function(a){var b=this,c,d,e,f,g,k,l;return _.eh(function(m){switch(m.H){case 1:c=Date.now();var q=new zwg;var r=_.HHb(_.Kh(a,1));q=_.t(q,1,_.ab(r,!1));q=_.t(q,2,_.p(a,2));q=_.t(q,3,_.p(a,3));d=_.t(q,4,_.p(a,4));e=_.pi(new X0,Awg,d);f=void 0;_.$g(m,2,3);return _.Yg(m,d1(b.O,2,e),5);case 5:return g=m.O,k=g.getExtension(Cwg),m.return(lwg(_.p(k,1)));case 3:_.ch(m);b.H.ha(yug(2,c,f));if(f)throw f;_.dh(m,0);break;case 2:f=l=_.bh(m),m.We(3)}})};
xzg.prototype.V=function(a){var b=this,c,d,e,f,g,k,l;return _.eh(function(m){switch(m.H){case 1:c=Date.now();var q=new vwg;q=_.t(q,1,_.p(a,1));q=_.t(q,2,_.p(a,2));q=_.t(q,3,_.p(a,3));d=_.t(q,4,_.p(a,4));e=_.pi(new X0,wwg,d);f=void 0;_.$g(m,2,3);return _.Yg(m,d1(b.O,3,e),5);case 5:return g=m.O,k=g.getExtension(ywg),m.return(iwg(_.HHb(_.Mh(k,1))));case 3:_.ch(m);b.H.ha(yug(3,c,f));if(f)throw f;_.dh(m,0);break;case 2:f=l=_.bh(m),m.We(3)}})};
var yzg=function(a){_.G.call(this,a)};_.N(yzg,_.G);var zzg=[1,2,3,5];
var Azg=function(a,b){b=void 0===b?0:b;this.W=(new _.pQc(1269,a)).build();this.V=b};Azg.prototype.O=function(a){var b=new yzg;a=_.Uh(b,3,zzg,a);a=_.t(a,4,this.V);this.W.V(a)};Azg.prototype.ka=function(a){var b=new yzg;a=_.Uh(b,2,zzg,a);a=_.t(a,4,this.V);this.W.V(a)};Azg.prototype.H=function(a){var b=new yzg;a=_.Uh(b,1,zzg,a);a=_.t(a,4,this.V);this.W.V(a)};Azg.prototype.ha=function(a){var b=new yzg;a=_.Uh(b,5,zzg,a);a=_.t(a,4,this.V);this.W.V(a)};
var Bzg=function(a){this.V=a};Bzg.prototype.O=function(a){var b=d1,c=this.V,d=new X0,e=new bxg;a=_.Uh(e,3,cxg,a);b(c,10,dxg.MH(d,a))};Bzg.prototype.ka=function(a){var b=d1,c=this.V,d=new X0,e=new bxg;a=_.Uh(e,2,cxg,a);b(c,10,dxg.MH(d,a))};Bzg.prototype.H=function(a){var b=d1,c=this.V,d=new X0,e=new bxg;a=_.Uh(e,1,cxg,a);b(c,10,dxg.MH(d,a))};Bzg.prototype.ha=function(a){var b=d1,c=this.V,d=new X0,e=new bxg;a=_.Uh(e,4,cxg,a);b(c,10,dxg.MH(d,a))};
var Czg=function(a,b,c){this.V=a;this.H=b;this.O=c},Dzg=function(a,b){var c=_.Gh(a,4)?_.p(a,4).toString():(c=(c=_.Cj(_.uk().location.href))&&/\/u\/(\d+)\/?/.exec(c))?c[1]:"0";var d=_.p(a,3)||0;if(_.w(a,S0,6)&&_.u(_.w(a,S0,6),1)){var e=_.Dd(_.w(_.w(a,S0,6),_.dm,2));var f=_.rd(_.w(a,S0,6),5);e=new qzg(e,d,c,f)}else e=void 0;var g;e&&_.u(_.w(a,S0,6),4)?g=new Bzg(e):g=new Azg(c,d);a:switch(c=g,_.Gh(a,1)?_.p(a,1):1){case 0:if(!_.ki(a,7))throw new R0("IDP is OIDC but OIDC callback URL is missing",1);d=
_.p(a,7);a=e?_.w(a,S0,6)&&_.u(_.w(a,S0,6),3)?new pzg(new lzg(e,d,c,b),new hzg(new mzg(e,d,b),new ozg(e),new nzg(e),c)):new lzg(e,d,c,b):new kzg(d,c,b);break a;case 1:a=new Eyg;break a;default:throw new R0("Unknown IDP type",1);}return new Czg(a,e?new xzg(e,g):new tzg(g),g)},Lzg=function(a,b){var c,d,e,f,g,k,l,m,q;return _.eh(function(r){switch(r.H){case 1:if(1<_.tb(b,Svg,5).length)throw new R0("at most one additional KACLS is allowed in multi-wrapping",1);Ezg(b);c=Fzg(_.p(b,4));_.$g(r,2);return _.Yg(r,
Byg(Gzg(a,c)),4);case 4:d=r.O;_.ah(r,3);break;case 2:throw e=_.bh(r),new R0(e.message,7,e);case 3:return _.Yg(r,Hzg(a,_.w(b,Etg,2),Izg(_.p(b,3))),5);case 5:return f=r.O,_.Yg(r,Dug(d.getKey(),_.p(b,3)),6);case 6:return g=r.O,l=function(){var v,x;return _.eh(function(y){if(1==y.H)return v=_.p(_.w(b,W0,1),2),_.Yg(y,Jzg(a,d.getKey(),f,_.p(b,3),_.Yh(_.w(b,W0,1),1),_.p(_.w(b,W0,1),2),!0),2);x=y.O;k=Kzg(v,x,_.p(b,4),d.V,g);_.Zg(y)})}(),m=new zvg,q=_.tb(b,Svg,5).map(function(v){var x,y;return _.eh(function(A){if(1==
A.H)return x=_.p(_.w(v,W0,1),2),_.Yg(A,Jzg(a,d.getKey(),f,_.p(v,2),_.Yh(_.w(v,W0,1),1),x,!1),2);y=A.O;var C=Kzg(x,y,_.p(b,4),d.V,g);_.Vh(m,1,M0,C);_.Zg(A)})}),_.Yg(r,Promise.all(q.concat([l])),7);case 7:return r.return(new Wxg(d,k))}})},Pzg=function(a,b){var c,d,e,f,g,k;return _.eh(function(l){switch(l.H){case 1:return c=b.getMetadata(),_.Yg(l,Mzg(a,b),2);case 2:return d=l.O,_.Yg(l,Nzg(a,c.yra(),d,_.p(b,5),_.Yh(_.w(b,W0,3),1),_.p(_.w(b,W0,3),2)),3);case 3:return e=l.O,f=Ozg(c),_.$g(l,4),_.Yg(l,Cyg(Gzg(a,
Fzg(c.Gfa().H())),e,f,_.p(b,2)-$0.length),6);case 6:g=l.O;_.ah(l,5);break;case 4:throw k=_.bh(l),new R0(k.message,7,k);case 5:return l.return(new Gxg(g))}})},Qzg=function(a,b){var c,d,e,f,g,k;return _.eh(function(l){switch(l.H){case 1:return c=b.getMetadata(),_.Yg(l,Mzg(a,b),2);case 2:return d=l.O,_.Yg(l,Nzg(a,c.yra(),d,_.p(b,5),_.Yh(_.w(b,W0,3),1),_.p(_.w(b,W0,3),2)),3);case 3:return e=l.O,f=Ozg(c),_.$g(l,4),_.Yg(l,Dyg(Gzg(a,Fzg(c.Gfa().H())),e,f,_.p(b,2)-$0.length),6);case 6:g=l.O;_.ah(l,5);break;
case 4:throw k=_.bh(l),new R0(k.message,7,k);case 5:return l.return(new Zxg(g))}})};Czg.prototype.ha=function(){if(!_.Ih(void 0,Htg,3,Itg))throw new R0("unknown encryption type",1);return Rzg(0,(void 0).Gfa().H())};
var Rzg=function(a,b){a=Fzg(b);try{return uug(NaN-$0.length,a,a+28)}catch(c){if(c instanceof Q0)throw new R0(c.message,1,c);throw new R0(c.message,7,c);}},Fzg=function(a){switch(a){case 1:return 2097152;case 2:return 65536;case 3:return 16384;case 0:throw new R0("Buffer size config is not set",1);default:throw new R0("Unexpected buffer size config",1);}},Gzg=function(a,b){return new Ayg(b,a.O)},Szg=function(a,b,c){var d,e;return _.eh(function(f){if(1==f.H)return _.Yg(f,Hzg(a,b,c),2);d=f.O;e=new Gvg;
var g=new Mvg;g=_.t(g,1,d);Nvg.MH(e,g);return f.return(e)})},Mzg=function(a,b){return _.eh(function(c){if(_.Hh(b,Gvg,6))return c.return(Promise.resolve(_.Yh(_.w(b,Gvg,6).getExtension(Nvg),1)));if(_.Hh(b,Etg,4))return c.return(Hzg(a,_.w(b,Etg,4),Izg(_.p(b,5))));throw new R0("Invalid authentication token.",1);})},Hzg=function(a,b,c){var d,e;return _.eh(function(f){if(1==f.H){var g=new Hvg;var k=_.hi(b,L0,1,Ftg);g=_.Uh(g,1,Ivg,k);d=_.t(g,2,c);return _.Yg(f,a.V.getAuthToken(d),2)}e=f.O;return f.return(e.getAuthToken())})},
Izg=function(a){try{return JSON.parse(atob(a.split(".")[1])).email}catch(b){throw new R0("Invalid authorization token.",1);}},Jzg=function(a,b,c,d,e,f,g){var k,l,m,q,r;return _.eh(function(v){switch(v.H){case 1:var x=new jwg;x=_.t(x,1,_.ab(b,!1));x=_.t(x,2,c);x=_.t(x,3,d);k=_.t(x,4,e);_.$g(v,2);return _.Yg(v,a.H.wrap(k),4);case 4:l=v.O;_.ah(v,3);break;case 2:throw m=_.bh(v),q=m instanceof R0?m.H:17,r=m instanceof R0?m.O:m,new cyg(m.message,q,f,g,r);case 3:return v.return(_.p(l,1))}})},Nzg=function(a,
b,c,d,e,f){var g,k,l,m,q,r;return _.eh(function(v){switch(v.H){case 1:var x=new gwg;x=_.t(x,1,b);x=_.t(x,2,c);x=_.t(x,3,d);g=_.t(x,4,e);_.$g(v,2);return _.Yg(v,a.H.V(g),4);case 4:k=v.O;_.ah(v,3);break;case 2:throw l=_.bh(v),m=l instanceof R0?l.H:17,q=l instanceof R0?l.O:l,new cyg(l.message,m,f,!0,q);case 3:return v.return(null==(r=_.Kh(k,1))?void 0:_.EQc(r))}})},Kzg=function(a,b,c,d,e){var f=new M0;a=_.t(f,1,a);b=_.t(a,2,b);a=new Htg;c=_.t(a,1,c);c=_.Uh(b,3,Itg,c);d=_.z(c,4,d);return _.t(d,5,_.ab(e,
!1))},Ozg=function(a){return _.Hh(a,Ktg,4)&&_.Gh(a.OCa(),1)?a.OCa():Jtg(new Ktg,1)},Ezg=function(a){a=_.tb(a,Svg,5).map(function(b){return _.p(b,2)}).concat(_.p(a,3));if(null===a.map(function(b){try{var c=JSON.parse(atob(b.split(".")[1])).resource_name}catch(d){throw new R0("Invalid authorization token.",1);}return c}).reduce(function(b,c){return b===c?b:null}))throw new R0("mismatching resource_name in authorization tokens",1);if(null===a.map(function(b){try{var c=JSON.parse(atob(b.split(".")[1])).perimeter_id}catch(d){throw new R0("Invalid authorization token.",
1);}return c}).reduce(function(b,c){return b===c?b:null}))throw new R0("mismatching perimeter_id in authorization tokens",1);},Tzg=function(a,b){var c,d,e,f,g,k,l,m,q,r,v,x,y,A,C;return _.eh(function(F){switch(F.H){case 1:c=_.w(b,Yvg,2);d=_.w(b,Vvg,3);e=c.getMetadata();f=_.p(c,2);g=_.p(d,2);var M=Izg(f),I=Izg(g);if(M!==I)throw new R0("Source email and destination email do not match",1);return _.Yg(F,Hzg(a,_.w(b,Etg,1),Izg(f)),2);case 2:return k=F.O,_.Yg(F,Nzg(a,e.yra(),k,f,_.Yh(_.w(c,W0,1),1),_.p(_.w(c,
W0,1),2)),3);case 3:return l=F.O,_.Yg(F,Jzg(a,l,k,g,_.Yh(_.w(d,W0,1),1),_.p(_.w(d,W0,1),2),!0),4);case 4:return m=F.O,q=Czg,r=Kzg,v=_.p(_.w(d,W0,1),2),x=m,y=e.Gfa().H(),A=Ozg(e),_.Yg(F,Dug(l,g),5);case 5:return C=r.call(q,v,x,y,A,F.O),M=F.return,I=new fwg,I=_.z(I,1,C),M.call(F,I)}})};
var Uzg=function(a,b){this.yb=a;this.O=b;this.H=null};Uzg.prototype.get=function(){if(!this.H){this.O.info("drive.ds.cse.CseProvider","Creating CSE client");var a=_.w(this.yb,_.GTc,2),b=Vzg.get(_.GM(this.yb));this.H=2===_.Lh(a,3,1)?Dzg(Cvg(Dvg(Evg(Fvg(Bvg(),_.p(a,4)),_.w(a,S0,6)),_.SK(_.HK(this.yb))),b),function(){return Promise.resolve(_.w(a,Sug,5)||null)}):Dzg(new Avg)}return this.H};var Vzg=new Map([[0,0],[12,1],[13,2],[14,3],[9,5],[1,4],[15,6]]);
var Wzg=function(a){return 1E3*JSON.parse(atob(a.split(".")[1])).exp<Date.now()};
var Xzg=function(a,b,c,d){_.Q.call(this);this.W=a;this.H=b;this.O=c;this.V=d};_.N(Xzg,_.Q);
var Yzg=function(a,b){var c=b.Ac()||_.p(b,12);if(!_.wM(a.H))return Promise.resolve(Eug().then(function(l){return _.TWc(_.UWc(_.SWc(new _.eN,c),l),123)}));var d=_.p(b,24),e=_.p(b,25),f=_.p(b,32),g=b.ej();if(c&&d&&!Wzg(d)&&e&&null!=f&&g&&null!=g)return a.O.info("drive.ds.cse.CseTokenProvider","Using prefetched CseToken for "+c),d=_.WWc(_.VWc(_.TWc(_.UWc(_.SWc(new _.eN,c),d),e),f),g),Promise.resolve(d);var k=new _.Hm;_.Im(k,1422);a.O.info("drive.ds.cse.CseTokenProvider","Fetching CseToken for "+c);return Promise.resolve(a.W.then(function(l){var m,
q,r,v,x,y;return _.eh(function(A){if(1==A.H)return m=_.tb(b,_.Ym,28),q=m.find(function(C){return C.getId()===c}),r=rvg(svg(qvg(new _.pM,c),k),q),!_.L(a.H,8,!1)||c?A.We(2):(v=_.rd(b,3)[0])?(_.t(r,5,v),A.We(2)):(x=_.rd(b,10)[0])?_.Yg(A,_.h_c(a.V,x).promise,5):A.We(2);2!=A.H&&(y=A.O,_.t(r,5,y));return A.return(l.mf(r))})}).then(function(l){return Promise.resolve(l)}).then(function(l){c||(c=l.Ac());return l}))};
var Zzg=function(a,b,c,d,e){var f=Ltg(_.p(a,2),_.p(a,1),_.p(a,3),_.p(a,6));e=Qvg(Ovg(Pvg(new W0,_.p(a,2)),""),e);var g=new Rvg;f=_.z(g,1,f);c=Gtg(c);c=_.z(f,4,c);e=_.z(c,3,e);a=_.t(e,5,_.p(a,4));b=_.t(a,2,b);return _.z(b,6,d)};
var $zg=function(a,b){this.O=a;this.V=b;this.done=!1};$zg.prototype.H=function(a){var b=this,c,d,e,f,g,k,l;return _.eh(function(m){if(1==m.H){if(b.done)throw Error("Sq");c=(new DataView(a.buffer)).getUint32(0,!1);d=a.subarray(4,4+c);e=_.yi(d,vvg);f=a.length-d.length-4;g=a.subarray(4+c,a.length);return _.Yg(m,aAg(b.O,e,f,b.V),2)}if(3!=m.H){k=m.O;if(g.length!==f)throw Error("Tq");return _.Yg(m,k.H(g),3)}l=m.O;b.done=!0;return m.return(l)})};
var aAg=function(a,b,c,d){var e,f,g;return _.eh(function(k){e=Pvg(Ovg(new W0,"CSE Demo"),123);var l=new Etg,m=new L0;f=_.Uh(l,1,Ftg,m);l=new Rvg;l=_.z(l,3,e);l=_.z(l,4,f);l=_.t(l,5,a);l=_.t(l,2,c);l=_.z(l,1,b);g=_.z(l,6,d);return k.return(Pzg(Dzg(new Avg),g))})};
var bAg=function(a){this.W=a};bAg.prototype.V=function(){throw Error("gb");};bAg.prototype.O=function(){throw Error("gb");};
bAg.prototype.H=function(a){var b=this,c,d,e,f,g;return _.eh(function(k){if(1==k.H){var l=b.W;var m=Pvg(Ovg(new W0,"CSE Demo"),123);var q=new Etg;var r=new L0;q=_.Uh(q,1,Ftg,r);r=new Uvg;m=_.z(r,1,m);m=_.z(m,2,q);l=_.t(m,3,l);l=_.t(l,4,1);l=Lzg(Dzg(new Avg),l);return _.Yg(k,l,2)}if(3!=k.H)return c=k.O,d=_.zi(c.V(),vvg),e=new Uint8Array(4),(new DataView(e.buffer)).setUint32(0,d.length,!1),_.Yg(k,c.H(a),3);f=k.O;g=new Uint8Array(4+d.length+f.length);g.set(e,0);g.set(d,4);g.set(f,4+d.length);return k.return(g)})};
var dAg=function(a,b){if(a instanceof _.Zd)return a;if(a instanceof _.ae)return new _.Zd("Dataservice error",a);if(a instanceof R0){var c=cAg[a.H]||1,d=_.gL(_.mL(_.xZa(void 0,void 0,a),2),c);a instanceof b1?_.t(d,24,a.V):230<=c&&260>c&&_.t(d,25,b);return new _.Zd("CSE library error",d)}return new _.Zd("Generic error",void 0,a instanceof Error?a:void 0)},fAg=function(a){return eAg[a.Yg.Xx()]||0},e1={},cAg=(e1[9]=200,e1[10]=201,e1[11]=202,e1[12]=203,e1[13]=204,e1[14]=205,e1[15]=206,e1[16]=207,e1[18]=
208,e1[19]=209,e1[20]=210,e1[25]=211,e1[31]=212,e1[32]=213,e1[2]=230,e1[3]=231,e1[4]=232,e1[5]=233,e1[28]=234,e1[29]=235,e1[30]=236,e1[6]=260,e1[7]=261,e1[8]=262,e1[1]=290,e1[17]=291,e1),f1={},eAg=(f1[200]=200,f1[201]=201,f1[202]=202,f1[203]=203,f1[204]=204,f1[205]=205,f1[206]=206,f1[207]=207,f1[208]=208,f1[209]=209,f1[210]=210,f1[211]=211,f1[212]=212,f1[213]=213,f1[230]=230,f1[231]=231,f1[232]=232,f1[233]=233,f1[234]=234,f1[235]=235,f1[236]=236,f1[260]=260,f1[261]=261,f1[262]=262,f1[290]=290,f1[291]=
291,f1);
var gAg=function(a,b,c,d,e){this.V=a;this.O=b;this.H=c;this.W=d;this.vc=e};
gAg.prototype.copy=function(a,b){var c=this,d,e,f,g,k,l,m,q,r,v,x,y,A,C,F,M,I;return _.eh(function(P){switch(P.H){case 1:return _.Yg(P,Promise.all([hAg(c.V,a.getId(),_.p(a,9)),Yzg(c.O,bvg(new _.EL,_.p(a,10)))]),2);case 2:return d=P.O,e=_.n(d),f=e.next().value,g=e.next().value,k=f,l=g,m=ivg(k),q=Ltg(_.p(m,2),_.p(m,1),_.p(m,3),_.p(m,6)),r=Qvg(Ovg(Pvg(new W0,_.p(m,2)),""),k.ej()),v=awg($vg(Zvg(r),_.p(m,4)),q),x=Qvg(Ovg(Pvg(new W0,_.p(l,2)),""),l.ej()),y=Xvg(Wvg(x),_.p(l,3)),A=ewg(dwg(cwg(new bwg,Gtg(b)),
v),y),_.Yg(P,Tzg(c.H.get(),A).catch(function(R){throw dAg(R,_.p(m,5));}),3);case 3:return C=P.O,a=dvg(a.clone(),l.Ac()),_.Yg(P,c.W,4);case 4:return F=P.O,_.Yg(P,F.mf(new _.GL(a,_.w(C,M0,1))),5);case 5:M=P.O;if(!c.vc){P.We(6);break}I=M.getItem();return _.Yg(P,c.vc.Ep([_.kL(new _.jL,I.getId()).setItem(I)]),6);case 6:return P.return(M)}})};
var iAg=function(a,b,c,d){this.V=a;this.W=b;this.Xe=c;this.O=d;this.H=new Map},kAg=function(a,b,c,d,e){a.O.info("drive.ds.cse.FileDecrypter","Get buffered decrypter for "+b.getId()+"/"+_.cN(b));b=b.getId();var f=a.Xe.H(106028);f&&(a.H.set(b,f),avg(T0(f),d));return c.then(function(g){return e.then(function(k){return jAg(a,ivg(g),_.p(g,3),d,k,g.ej()).then(function(l){if(f){var m=$ug(T0(f),!0);_.t(m,4,_.p(g,3));f.Xi()}return l})}).catch(function(k){k=dAg(k,_.Yh(ivg(g),5));if(f){var l=$ug(T0(f),!1);_.t(l,
2,fAg(k));f.Xi()}throw k;})})},lAg=function(a,b,c,d){var e=a.Xe.H(106014);if(e){var f=a.H.get(b.getId());f&&_.zSc(e,f)}return c.then(function(g){a.O.info("drive.ds.cse.FileDecrypter","Decrypt file "+b.getId()+"/"+(_.cN(b)+", size: {$fileBytes.size}"));return d.H(g).then(function(k){if(e){var l=$ug(T0(e),!0);_.t(l,4,g.byteLength);e.Xi();a.H.delete(b.getId())}return k})}).catch(function(g){g=dAg(g,"");if(e){var k=$ug(T0(e),!1);_.t(k,2,fAg(g));e.Xi();a.H.delete(b.getId())}throw g;})},jAg=function(a,
b,c,d,e,f){return _.wM(a.V)?(b=Zzg(b,c,d,e,f),Pzg(a.W.get(),b)):Promise.resolve(new $zg(_.p(b,4),e))};
var mAg=function(a,b){this.H=a;this.Xe=b},Fxg=function(a,b,c){var d;return _.eh(function(e){return 1==e.H?(d=a.Xe.H(106011),_.Yg(e,Ctg(b.Gd(),c),2)):e.return(a.H.then(function(f){return f.mf(b)}).then(function(f){var g=f.H;nAg(c,d,!0,g.length,f.retryCount);return g},function(f){nAg(c,d,!1,0,_.oL(f).Nba()||0);throw f;}))})},nAg=function(a,b,c,d,e){null!=b&&a.then(function(f){var g=_.w(_.ZM(b),Vug,10);if(!g){g=new Vug;var k=_.ZM(b);_.z(k,10,g)}k=_.t(g,1,c);f=_.t(k,5,_.p(f,3));f=_.t(f,4,d);_.t(f,6,e);
c||_.t(g,2,0);b.Xi()})};
var oAg=function(a){_.sl.call(this);var b=this;this.requestId=a;this.H=this.O=this.item=null;this.Wya=new Promise(function(c,d){b.O=c;b.H=d})};_.N(oAg,_.sl);oAg.prototype.Jj=function(){return this.requestId};oAg.prototype.getItem=function(){return this.item};oAg.prototype.setItem=function(a){this.item=a};var pAg=function(a,b,c,d){a.O&&a.H&&a.dispatchEvent(new xvg(a.requestId,b,c,d));6===b&&a.item&&a.O?(a.O((new _.OK).setItem(a.item)),a.O=null):a.H&&d&&(7===b||4===b||0===b)&&(a.H(d),a.H=null)};
var qAg=function(a,b,c,d,e){this.H=a;this.ka=b;this.ha=c;this.Xe=d;this.W=e;this.V=new Map;this.O=new Map},sAg=function(a,b,c,d,e){a.W.info("drive.ds.cse.FileEncrypter","Setup encrypted '"+b.getTitle()+"'");var f;return Yzg(a.ka,b).then(function(g){pAg(c,2);bvg(b,g.Ac());_.t(b,25,_.p(g,2));_.t(b,32,_.p(g,5));cvg(b,g.ej());_.t(b,24,_.p(g,3));f=_.wM(a.H)?b.Ac():"demoId";var k=a.Xe.H(106029);k&&(a.O.set(f,k),Yug(evg(k),d));return rAg(a,g,d,e).then(function(l){pAg(c,1);a.V.set(f,l);k&&(Xug(evg(k),!0),
k.Xi());return l}).catch(function(l){l=dAg(l,_.p(g,5));pAg(c,4,void 0,l);if(k){var m=Xug(evg(k),!1);_.t(m,2,fAg(l));k.Xi();a.O.delete(f)}throw l;})})},tAg=function(a,b,c,d,e,f){a.W.info("drive.ds.cse.FileEncrypter","Encrypt next '"+b.getTitle()+"', blob size: "+(c.size+", hasMore: "+f));var g=_.wM(a.H)?b.Ac():"demoId",k=a.Xe.H(106013);k&&(b=a.O.get(g))&&_.zSc(k,b);return(new Response(c)).arrayBuffer().then(function(l){return(f?e.O(new Uint8Array(l)):e.H(new Uint8Array(l))).then(function(m){f||pAg(d,
3);if(k){var q=Xug(evg(k),!0);_.t(q,4,l.byteLength);k.Xi()}return m})}).catch(function(l){l=dAg(l,"");pAg(d,4,void 0,l);if(k){var m=Xug(evg(k),!1);_.t(m,2,fAg(l));k.Xi();a.O.delete(g)}throw l;})},rAg=function(a,b,c,d){if(_.wM(a.H)){var e=Qvg(Ovg(Pvg(new W0,_.p(b,2)),""),b.ej());var f=new Uvg;c=Gtg(c);f=_.z(f,2,c);e=_.z(f,1,e);b=_.t(e,3,_.p(b,3));d=_.t(b,4,d);return Lzg(a.ha.get(),d)}return Promise.resolve(new bAg(_.p(b,3)))};
qAg.prototype.getMetadata=function(a){if(_.wM(this.H))return(a=a&&this.V.get(a))?a.V():void 0};
var uAg=function(a,b,c){_.Q.call(this);this.W=a;this.ha=b;this.H=c;this.V=new Map;this.O=new Map};_.N(uAg,_.Q);
var vAg=function(a,b){var c=_.cN(b),d=_.w(b,U0,5);if(c&&d){var e=Dtg(b.getId(),c);!a.O.get(e)&&c===_.p(d,4)&&_.ki(d,1)&&_.ki(d,2)&&_.Gh(d,3)&&_.Hh(d,_.yM,5)&&(a.H.info("drive.ds.cse.FileMetadataCache","Caching prefetched FileMetadata for "+(b.getId()+"/"+c)),a.O.set(e,d))}},hAg=function(a,b,c){var d,e,f,g,k,l,m,q,r,v,x,y,A,C,F,M,I;return _.eh(function(P){if(1==P.H)return _.wM(a.ha)?P.We(2):_.Yg(P,Promise.all([wAg(a,b),Eug()]),3);if(2!=P.H){d=P.O;e=_.n(d);f=e.next().value;g=e.next().value;k=f;l=g;
m=k.getTitle()||"";q=k.getMimeType()||"";r=_.p(k,14)||-1;v=k.ej()||"";c||(c=_.p(k,78)||"");var R=P.return,X=hvg(gvg(fvg((new U0).setTitle(m),q),r),c);var ia=new _.yM;ia=_.t(ia,4,l);return R.call(P,kvg(jvg(X,ia),v))}x=a.getKey(b,c);if(c){y=a.O.get(x);if((F=(null==(A=y)?void 0:null==(C=ivg(A))?void 0:_.p(C,4))||null)&&!Wzg(F))return a.H.info("drive.ds.cse.FileMetadataCache","Using cached FileMetadata for "+x),P.return(Promise.resolve(y));if(M=a.V.get(x))return a.H.info("drive.ds.cse.FileMetadataCache",
"Waiting on FileMetadata for "+x),P.return(M)}I=new _.qA;xAg(a,I,b,c).catch(I.reject);return P.return(I.promise)})},xAg=function(a,b,c,d){var e=a.getKey(c,d);a.H.info("drive.ds.cse.FileMetadataCache","Fetching FileMetadata for "+c+"/"+d);e&&a.V.set(e,b.promise);wAg(a,c).then(function(f){var g=f.ej()||"",k=_.p(f,78)||"";if(d&&d!==k)return yAg(a,c,d).then(function(r){var v=_.p(r,7)||"",x=r.getMimeType()||"",y=_.p(r,8)||-1;r=_.w(r,_.yM,10);return kvg(jvg(hvg(gvg(fvg((new U0).setTitle(v),x),y),d),r),
g)});var l=f.getTitle()||"",m=f.getMimeType()||"",q=_.p(f,14)||-1;f=_.w(_.w(f,_.xM,138),_.yM,2);return kvg(jvg(hvg(gvg(fvg((new U0).setTitle(l),m),q),k),f),g)}).then(function(f){e&&a.V.delete(e);a.O.set(a.getKey(c,_.p(f,4)),f);b.resolve(f)},function(f){e&&a.V.delete(e);b.reject(f)});return b.promise},wAg=function(a,b){return a.W.then(function(c){var d=_.rK(_.qK(new _.oK,[b]),_.Im(new _.Hm,1488));d=_.GWc(_.HWc(new _.QL,d),0);return c.mf(d).then(function(e){return e.hd().Kd()[0]})})},yAg=function(a,
b,c){return a.W.then(function(d){return d.mf(new _.NZc(b,c))})};uAg.prototype.getKey=function(a,b){return b?a+"|"+b:""};
var zAg=function(a,b){this.H=a;this.O=b};
var AAg=function(a,b,c){this.W=a;this.Xe=b;this.O=c;this.V=new Map;this.H=new Map},BAg=function(a,b,c,d,e){var f,g;return _.eh(function(k){if(1==k.H)return a.O.info("drive.ds.cse.RangeDecrypter","Get range decrypter for "+b.getId()+"/"+_.cN(b)),(f=a.Xe.H(106028))&&avg(T0(f),d),_.Yg(k,Ctg(b,c),2);g=Dtg(b.getId(),_.cN(b));return k.return(c.then(function(l){return e.then(function(m){var q=Zzg(ivg(l),_.p(l,3),d,m,l.ej()),r=q.Gc();if(m=a.V.get(r))return m;m=new Promise(function(v,x){Qzg(a.W.get(),q).then(function(y){if(f){a.H.set(g,
f);var A=$ug(T0(f),!0),C=y.ha();_.t(A,4,C);f.Xi()}v(y)},x)});a.V.set(r,m);setTimeout(function(){return void a.V.delete(r)},18E5);return m}).catch(function(m){m=dAg(m,_.Yh(ivg(l),5));if(f){var q=$ug(T0(f),!1);_.t(q,2,fAg(m));f.Xi();a.H.delete(g)}throw m;})}))})},CAg=function(a,b,c,d,e){a.O.info("drive.ds.cse.RangeDecrypter","Decrypt range "+b.getId()+"/"+_.cN(b)+", range: "+(e.start+"-"+e.end));var f=a.Xe.H(106014);f&&(a=a.H.get(Dtg(b.getId(),_.cN(b))))&&_.zSc(f,a);return byg(d,e,c).then(function(g){if(f){var k=
$ug(T0(f),!0);_.t(k,4,g.byteLength);f.Xi()}return g}).catch(function(g){g=dAg(g,"");if(f){var k=$ug(T0(f),!1);_.t(k,2,fAg(g));f.Xi()}throw g;})},EAg=function(a,b,c,d,e,f,g,k){return DAg(a,b,c,d,e,g,f,0,Math.ceil((e.end-e.start+1)/f),void 0,k)},DAg=function(a,b,c,d,e,f,g,k,l,m,q){if(k>=l)return Promise.resolve();var r=q(g)||1,v=Btg(g*r,e,m);a.O.info("drive.ds.cse.RangeDecrypter","Decrypt chunk "+b.getId()+"/"+_.cN(b)+", curChunk: "+(k+", chunkSize: "+g+", chunks: ")+r);return CAg(a,b,c,d,v).then(function(x){return new zAg(v,
x)}).then(f).then(function(){return DAg(a,b,c,d,e,f,g,k+r,l,v,q)})};
var FAg=function(a,b,c,d){this.clientId=a;this.requestId=b;this.port=c;this.H=d;this.state=0;this.iframe=null};FAg.prototype.getState=function(){return this.state};FAg.prototype.setActive=function(){this.state=1;this.H();this.H=null};FAg.prototype.write=function(a){var b=this.clientId,c=this.requestId;var d=a.H;a=a.O;b=Mtg(Ntg(8),b);c=_.t(b,3,c);b=new Cxg;b=_.t(b,1,d.start);d=_.t(b,2,d.end);d=_.t(d,3,_.ab(a,!1));d=_.z(c,6,d).Gc();this.port.postMessage(d)};
FAg.prototype.close=function(){var a=this;this.iframe&&setTimeout(function(){_.Ck(a.iframe);a.iframe=null},500);this.state=2};
var GAg=function(a){this.isEnabled=void 0===a?!1:a;this.H=this.port=this.O=null;this.clientId=pvg();this.downloads=new Map;this.ld=new _.rg;this.ld.listen(_.uk(),"beforeunload",this.V.bind(this))};GAg.prototype.AT=function(){return pvg()};GAg.prototype.V=function(){var a=this;this.port&&(this.port.postMessage(Ptg(this.clientId)),setTimeout(function(){return void a.port.close()},250))};
GAg.prototype.start=function(a,b,c,d){var e=this;if(this.downloads.has(a))throw new _.Zd("Request with this Id already exists: "+a);return HAg(this).then(function(f){return f&&e.port?new Promise(function(g){e.downloads.set(a,new FAg(e.clientId,a,e.port,g));g=e.clientId;g=Mtg(Ntg(3),g);g=_.t(g,3,a);var k=new Bxg;k=_.t(k,2,d);k=_.t(k,3,c);k=_.t(k,1,b);g=_.z(g,5,k).Gc();e.port.postMessage(g);IAg(e)}):Promise.resolve()})};GAg.prototype.Zka=function(a,b){(a=JAg(this,a))&&a.write(b)};
var KAg=function(a,b){var c=JAg(a,b);c&&(c.close(),a.downloads.delete(b),null!==a.H&&0===a.downloads.size&&(clearInterval(a.H),a.H=null))},JAg=function(a,b){if(!a.downloads.has(b))throw new _.Zd("No download with this request Id exists: "+b);return a.downloads.get(b)},HAg=function(a){if(!a.isEnabled)return Promise.resolve(null);if(!a.O){var b=_.Gka(),c=b?b.serviceWorker:null;if(!c)return Promise.resolve(null);a.O=c.getRegistration("/decrypted/download/").then(function(d){return d&&d.scope.includes("/decrypted/download/")?
d:c.register("/file/cse/serviceworker.js",{scope:"/decrypted/download/"})}).then(function(d){return d?new Promise(function(e){if(d.active)e(d.active);else{var f=d.installing||d.waiting;f||e(null);f.addEventListener("statechange",function(){"activated"===f.state&&e(d.active)})}}):Promise.resolve(null)}).then(function(d){if(d){var e=new MessageChannel;a.port=e.port1;a.port.onmessage=function(f){var g=window.location.origin||window.location.protocol+"//"+window.location.host;if(!f.origin||f.origin===
g)if(g=_.mi(Dxg,f.data),_.Gh(g,1)&&_.ki(g,3))switch(_.Lh(g,1,0)){case 6:f=g.Jj();(f=JAg(a,f))&&f.setActive();break;case 7:if(_.ki(g,4)&&(f=g.Jj(),g=_.K(g,4),f=JAg(a,f))){if(!(_.ba.HTMLIFrameElement&&"sandbox"in _.ba.HTMLIFrameElement.prototype))throw Error("qa");var k={};k.src=g?_.Rb(_.Ub(g)):null;k.srcdoc=null;k.sandbox="";g=_.fna(k,{},{"aria-hidden":"true",style:{height:"0",left:"0",position:"absolute",top:"0",width:"0"}});g=_.cna("iframe",g);f.iframe=_.xk(document,g);f.iframe&&(f.iframe.sandbox.add("allow-scripts"),
f.iframe.sandbox.add("allow-downloads"),f.iframe.sandbox.add("allow-same-origin"),document.body.appendChild(f.iframe))}break;case 4:case 5:break;case 0:KAg(a,g.Jj());break;case 2:KAg(a,g.Jj());if(g.oo())throw new _.Zd(g.getError());break;case 1:KAg(a,g.Jj());break;default:throw new _.Zd("Invalid message type received from SW: "+_.Lh(g,1,0));}else throw new _.Zd("Malformed message received from SW: "+g);};d.postMessage(Otg(a.clientId),[e.port2])}return d}).catch(function(){return Promise.resolve(null)})}return a.O};
GAg.prototype.Wv=function(){return this.isEnabled&&!_.Fh.Ry?HAg(this).then(function(a){return!!a}):Promise.resolve(!1)};var IAg=function(a){a.port&&null===a.H&&0<a.downloads.size&&HAg(a).then(function(b){b&&(a.H=setInterval(function(){var c=Ntg(11).Gc();a.port.postMessage(c)},1E4))})};
var LAg=function(){oAg.call(this,_.cf());var a=this;this.V=this.W=null;this.ld=new _.rg(this);this.Ja(this.ld);this.gCb=new Promise(function(b,c){a.W=b;a.V=c})};_.N(LAg,oAg);var MAg=function(a,b){a.ld.listen(b,["fb","Re"],function(c){var d=b.getItem();!a.getItem()&&d&&a.setItem(d);a.dispatchEvent(c);a.W&&d&&(c=_.VUc(new _.OK,d.getId()).setItem(d),a.W(c),a.W=null)});b.Wya.catch(function(c){return void a.handleError(c)})};
LAg.prototype.handleError=function(a){a instanceof Error&&this.V&&(this.V(a),this.V=null)};
var NAg=function(a,b){this.H=a;this.O=b};
var OAg=function(){};OAg.prototype.apply=function(a,b){return b};
var PAg=function(){};PAg.prototype.apply=function(){};
var QAg=function(){};QAg.prototype.translate=function(a){return a};
var RAg=function(){};RAg.prototype.validate=function(){return null};
var SAg=function(a,b,c,d,e,f,g,k){var l=_.Vk(),m=new _.vWc(a);b=new _.XZc(a,b,new _.cXc(a),k);var q=new _.MZc(a,d),r=new _.iZa("https://ssl.gstatic.com/docs/common/cleardot.gif",void 0,_.HM(a),void 0,_.pL()?new _.sVc:void 0);f=new _.hXc(f,r,l.promise,d,k);c=wvg(a,new _.YYc(m,c,b,q,e,f),d,k,c,l.promise,f);l.resolve(new _.uYc(new RAg,new QAg,new _.ZYc,c,new _.tXc(function(){return!1},function(){}),new OAg,new PAg,a,g,k));return l.promise};
var TAg=function(a,b,c,d,e){this.ka=a;this.ta=b;this.Ba=c;this.ha=d;this.Ca=e;this.V=this.W=this.H=0;this.O=null};TAg.prototype.na=function(a,b){var c=this;if(this.W===a&&this.V===b&&this.O)return Promise.resolve(new Blob([this.O]));if(this.W===a&&b<this.V)return Promise.resolve(new Blob([]));var d=this.H-a,e=a+d,f=b-d;return tAg(this.ka,this.Ba,this.ha.slice(e,e+f),this.Ca,this.ta,a+b<this.ha.size).then(function(g){c.H+=f;g&&(c.W=a,c.V=b,c.O=g);return Promise.resolve(new Blob([g]))})};
var UAg=function(a,b,c,d,e,f,g,k){_.pN.call(this,a,b,c,d,e,f,k);this.vc=g;this.Xe=null;this.H={}};_.N(UAg,_.pN);
var VAg=function(a,b){if(a.H[b])throw new _.Zd("FileUploadTracker already exists for this request.");var c=new oAg(b);return a.H[b]=c},ZAg=function(a,b,c,d,e){var f=b.Jj();WAg(a,f,5);return a.upload(b,c,d,e).then(function(g){return XAg(a,f,g)},function(g){return YAg(a,f,g)})},$Ag=function(a,b){var c=b.Jj();WAg(a,c,5);return Promise.all(a.retry([c])).then(function(d){return XAg(a,c,d[0])},function(d){return YAg(a,c,d)})},XAg=function(a,b,c){if(!b)throw new _.Zd("Request Id is required.");var d=c.getItem();
aBg(a,b,d);d=a.vc?a.vc.Ep([_.kL(new _.jL,_.zm(d)).setItem(d)]):Promise.resolve();return _.Sk(d.then(function(){return WAg(a,b,6,c)}))},YAg=function(a,b,c){if(b)return WAg(a,b,7,void 0,_.Yd(c)),_.Sk();throw new _.Zd("Request Id is required.");},WAg=function(a,b,c,d,e){(a=a.H[b])&&pAg(a,c,d,e)};
UAg.prototype.na=function(a,b){var c=this.Gd(a);a=this.H[a];if(c&&a)if(c&&c.request){var d=0;if(c.file){var e=c.request&&c.request.MB();e&&(d=_.p(e,1));0===d&&(d=c.file.size)}a.dispatchEvent(new _.bXc(a.requestId,b,d))}else throw new _.Zd("Invalid request.");};UAg.prototype.zT=function(){throw new _.Zd("Creating bug reports not supported.");};var aBg=function(a,b,c){var d=a.H[b];d&&(d.setItem(c),WAg(a,b,8))};
var Gug=_.Cd(""),bBg=function(){this.port=this.iframe=null;this.H=[]};bBg.prototype.load=function(){var a=this,b=cBg();this.iframe=Hug(b);dBg().then(function(){a.iframe&&document.body.appendChild(a.iframe)});return Fug(this.iframe,b).then(function(c){for(a.port=c.ports[0];0<a.H.length;)c=a.H.shift(),a.port.postMessage(c.data,c.D7b)})};
bBg.prototype.exec=function(a,b){var c=this;return new Promise(function(d,e){var f=new MessageChannel;f.port1.onmessage=function(r){f.port1.onmessage=null;r=r.data;null!=r.error?e(new EvalError(r.error)):d(r.result)};for(var g=[],k=[],l=[],m=_.n(null!=b?b:[]),q=m.next();!q.done;q=m.next())q=q.value,g.push(q.name),k.push(q.value),q.transfer&&l.push(q.value);g={code:a,paramNames:g,values:k};c.port?c.port.postMessage(g,[f.port2].concat(_.ad(l))):c.H.push({data:g,D7b:[f.port2].concat(_.ad(l))})})};
bBg.prototype.dispose=function(){null!=this.iframe&&(this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe),this.iframe=null)};var cBg=function(){var a=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));return Array.prototype.join.call(a,".")},dBg=function(){return new Promise(function(a){"loading"!=document.readyState?a():_.te(document,"DOMContentLoaded",function(){a()})})};
var eBg,fBg=function(){this.sandbox=new bBg};fBg.download=function(a,b,c){c=void 0===c?"":c;return _.eh(function(d){eBg||(eBg=new fBg,eBg.init());return _.Yg(d,eBg.download(a,b,c),0)})};fBg.prototype.init=function(){return this.sandbox.load()};
fBg.prototype.download=function(a,b,c){a=a instanceof Blob?a:new Blob([a],{type:void 0===c?"":c});if(navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(a,b),Iug();if(!_.ja()||0<=_.rh(_.yaa(),16)?0:_.oaa()||!(!_.fa("iPad")&&!_.fa("iPhone")||_.paa()||_.oaa()||_.fa("Coast")||_.naa())&&_.fa("AppleWebKit")){var d=new FileReader;d.onload=function(){var e=_.wk("A"),f=_.Ec(String(d.result));f=_.Kda(f);void 0!==f&&(e.href=f);e.download=b;e.click()};d.readAsDataURL(a);return Iug()}return this.sandbox.exec('var url=URL.createObjectURL(blob);var a=document.createElement("a");if(!("download" in a)){throw new Error("Downloading not supported on this browser");}a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);URL.revokeObjectURL(url);},250);',
[{name:"blob",value:a,transfer:!1},{name:"filename",value:b,transfer:!1}]).then(function(){return Iug()})};fBg.prototype.dispose=function(){this.sandbox.dispose()};_.kc("SafeDownloader",fBg);
var g1=function(a,b,c){var d=this;this.La=new _.qXc;this.H=new _.hVc;this.yb=a=_.yUc(a.clone(),[].concat(_.ad(new Set(_.Hf(a,27).concat(gBg)))));this.Mg=new _.KVc(a);this.Ha=new _.KWc(a,null,this.Mg);var e=new _.ZZc,f=new _.TVc(_.HM(a)?3:1),g=_.uWc(this.yb,new _.$Vc,f,this.H,Promise.resolve(),7);this.ka=SAg(this.yb,this.Mg,this.La,this.H,this.Ha,f,e,g);e=new _.g_c;this.O=new UAg(a,this.Ha,this.La,this.ka,this.H,e,c,g);f=_.w(this.yb,_.GTc,2);this.W=new Uzg(a,this.H);b&&this.W.get();this.Ga=new Xzg(this.ka,
f,this.H,e);this.V=new uAg(this.ka,f,this.H);this.na=new qAg(f,this.Ga,this.W,g,this.H);this.Va=new iAg(f,this.W,g,this.H);this.Ca=new AAg(this.W,g,this.H);this.Ba=new mAg(this.ka,g);this.ta=new GAg(_.L(f,7,!1));this.Qa=new gAg(this.V,this.Ga,this.W,this.ka,c);_.lh("drive.DebugUtil.printCseLogs",function(){window.console.log(_.jVc(d.H))});g.O(106E3)};
g1.prototype.Zda=function(a,b,c,d){var e=this;c=void 0===c?!1:c;d=void 0===d?1:d;this.H.info("drive.ds.FileServiceImpl","Encrypted upload of '"+a.getTitle()+"', oidc popup: "+c);var f=a.Jj();f||(f=this.O.AT(),_.t(a,9,f));!_.p(a,26)&&b instanceof File&&b.lastModified&&_.t(a,26,b.lastModified);var g=VAg(this.O,f);sAg(this.na,a,g,c,d).then(function(k){var l=a.getTitle()||"";l=new File([b],l,{type:b.type});k=new TAg(e.na,k,a,b,g);return ZAg(e.O,a,l,e.na.getMetadata(a.Ac()),k.na.bind(k))},function(k){return void pAg(g,
0,void 0,_.Yd(k))}).finally(function(){var k=e.na,l=a.Ac();_.wM(k.H)||(l="demoId");l&&k.V.delete(l);k=a.Jj();delete e.O.H[k]});return g};g1.prototype.upload=function(a,b){var c=this;this.H.info("drive.ds.FileServiceImpl","Upload of "+a.getTitle());var d=a.Jj();d||(d=this.O.AT(),_.t(a,9,d));var e=VAg(this.O,d),f=null;b&&(f=b instanceof File?b:new File([b],a.getTitle()||""));Promise.resolve(ZAg(this.O,a,f)).finally(function(){delete c.O.H[d]});return e};
g1.prototype.Q1b=function(a){var b=this,c=VAg(this.O,a);$Ag(this.O,c).finally(function(){delete b.O.H[a]});return c};var hBg=function(a,b){return Szg(a.W.get(),Gtg(b),_.HK(a.yb).getEmail())};g1.prototype.ha=function(){var a=_.ZWc[void 0];return Rzg(this.W.get(),a)};
g1.prototype.aeb=function(a,b){b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Range download/decrypt of "+a.getId()+"/"+(_.cN(a)+", range: undefined-undefined, oidc popup: ")+b);vAg(this.V,a);var c=this.Ca,d=hAg(this.V,a.getId(),_.cN(a)),e=new Exg(a,this.Ba,d),f=hBg(this,b),g=BAg(c,a,d,b||!1,f);b=new ReadableStream({start:function(k){return g.then(function(l){var m=new _.qT(0,l.ha()-1);return CAg(c,a,e,l,m)}).then(function(l){k.enqueue(l);k.close()})}});return new NAg(b,d.then(function(k){return _.p(k,
4)}))};
var iBg=function(a,b,c){c=void 0===c?!1:c;a.H.info("drive.ds.FileServiceImpl","Streaming download/decrypt of "+b.getId()+"/"+_.cN(b));vAg(a.V,b);var d=hAg(a.V,b.getId(),_.cN(b)),e=hBg(a,c);c=BAg(a.Ca,b,d,c||!1,e);var f=new Exg(b,a.Ba,d);return Promise.all([d,c]).then(function(g){var k=g[0],l=g[1],m=a.ta.AT();g=l.ha();var q=new _.qT(0,g-1),r=_.p(ivg(k),3),v=Fzg(_.ZWc[r]);r=Math.ceil((q.end-q.start+1)/v);return a.ta.start(m,k.getTitle(),r,g).then(function(){return EAg(a.Ca,b,f,l,q,v,function(x){a.ta.Zka(m,x);
return Promise.resolve()}.bind(a),function(){return 1}).then(function(){return Promise.resolve()})})})};g1.prototype.P5b=function(a){this.H.info("drive.ds.FileServiceImpl","Streaming download of "+a.getId()+"/"+_.cN(a));var b=this.ka;return new ReadableStream({start:function(c){return new Promise(function(d,e){b.then(function(f){return f.mf(lvg(new _.fM,a))}).then(function(f){c.enqueue(f.H);c.close()}).then(d,e)})},pull:function(){},cancel:function(){}})};
g1.prototype.rAb=function(a,b){var c=this;b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Browser download/decrypt of "+a.getId()+"/"+(_.cN(a)+", oidc popup: ")+b);vAg(this.V,a);return this.ta.Wv().then(function(d){if(d)return iBg(c,a,b);var e=c.Va,f=hBg(c,b);d=hAg(c.V,a.getId(),_.cN(a));var g=Fxg(c.Ba,lvg(new _.fM,a),d);f=kAg(e,a,d,b,f).then(function(k){return lAg(e,a,g,k)});return Promise.all([f,d]).then(function(k){var l=_.n(k);k=l.next().value;l=l.next().value;fBg.download(new Blob([k]),
l.getTitle(),_.gd(l.getMimeType()))})})};
g1.prototype.tFb=function(a,b){var c=this;b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Encrypted to encrypted copy of "+a.getId()+"/"+(_.p(a,9)+" as ")+(a.getTitle()+", oidc popup: ")+b);var d=new LAg;try{var e=a.getId(),f=_.t(_.CWc((new _.bN).Jb(e),_.p(a,9)),6,!0),g=this.aeb(f,b),k=g.H.getReader();k.closed.catch(function(m){return d.handleError(m)});var l=jBg(k);Promise.all([l,g.O]).then(function(m){m=_.n(m);var q=m.next().value;m=m.next().value;return hAg(c.V,e,m).then(function(r){var v=
r.getMimeType();r=_.p(ivg(r),3);r=_.ZWc[r];v=_.bVc(_.aVc(new _.EL,v),_.rd(a,3)).setTitle(a.getTitle());v=_.t(v,12,_.p(a,10));v=_.t(v,34,_.p(a,11));r=c.Zda(v,new Blob(q),b,r);MAg(d,r)})}).catch(function(m){d.handleError(m)})}catch(m){d.handleError(m)}return d};g1.prototype.uFb=function(a,b){b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Encrypted to encrypted copy via rewrap of "+(a.getId()+"/")+(_.p(a,9)+" as ")+(a.getTitle()+", oidc popup: ")+b);return this.Qa.copy(a,b)};
var jBg=function(a){var b=[],c=function(){return a.read().then(function(d){var e=d.value;if(!d.done){if(!e)throw Error("Mc");b.push(e);return c()}})};return c().then(function(){return b})};g1.prototype.Yea=function(){return this.O};var gBg=[194,193,187,13,72,21,3,210,2];
_.Ss({id:_.Ijg,callback:function(a){return new g1(a.get(_.Te),_.L(a.get(_.K7a),1,!1),a.get(_.Ml))}});

_.D();

}catch(e){_._DumpException(e)}
VB ¬¥ {