/*! For license information please see bundle.bundle.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(globalThis,(function(){return(()=>{var __webpack_modules__={8311:(e,t,n)=>{e.exports=n(3076)},254:e=>{e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(32)("wks"),r=n(9),a=n(0).Symbol,o="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=o&&a[e]||(o?a:r)("Symbol."+e))}).store=i},function(e,t,n){var i=n(0),r=n(2),a=n(8),o=n(22),s=n(10),l=function(e,t,n){var c,u,d,h,p=e&l.F,f=e&l.G,m=e&l.S,g=e&l.P,v=e&l.B,y=f?i:m?i[t]||(i[t]={}):(i[t]||{}).prototype,b=f?r:r[t]||(r[t]={}),_=b.prototype||(b.prototype={});for(c in f&&(n=t),n)d=((u=!p&&y&&void 0!==y[c])?y:n)[c],h=v&&u?s(d,i):g&&"function"==typeof d?s(Function.call,d):d,y&&o(y,c,d,e&l.U),b[c]!=d&&a(b,c,h),g&&_[c]!=d&&(_[c]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var i=n(16),r=n(21);e.exports=n(3)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){var i=n(24);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(28),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",r=e.type||"",a=r.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?i.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?a===t.replace(/\/.*$/,""):r===t}))}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var i=n(7),r=n(25)(3);i(i.P+i.F*!n(33)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(17),r=n(18),a=n(20),o=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(1);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(1),r=n(0).document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,n){var i=n(1);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(0),r=n(8),a=n(23),o=n(9)("src"),s=Function.toString,l=(""+s).split("toString");n(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(a(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(a(n,o)||r(n,o,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(10),r=n(26),a=n(27),o=n(12),s=n(29);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,p=t||s;return function(t,s,f){for(var m,g,v=a(t),y=r(v),b=i(s,f,3),_=o(y.length),w=0,k=n?p(t,_):l?p(t,0):void 0;_>w;w++)if((h||w in y)&&(g=b(m=y[w],w,v),e))if(n)k[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(u)return!1;return d?-1:c||u?u:k}}},function(e,t,n){var i=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(11);e.exports=function(e){return Object(i(e))}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(30);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(1),r=n(31),a=n(6)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var i=n(5);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(0),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){"use strict";var i=n(4);e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var i=n(7),r=n(12),a=n(36),o="".endsWith;i(i.P+i.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(t.length),s=void 0===n?i:Math.min(r(n),i),l=String(e);return o?o.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){var i=n(37),r=n(11);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var i=n(1),r=n(5),a=n(6)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},8082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9755),r=n.n(i),a=n(5561),o=n(7189),s=n(7685);const l={setup(){let e;try{const t=localStorage.debug;e="undefined"!==t&&t}catch(e){}const t=window.location.href.match(/VIDIQ_DEBUG/);this.debug=t||e||!1},showDebugInfo(){if(!window.location.href.match(/VIDIQ_DEBUG/))return;const e=JSON.stringify({isNewLayout:(0,s.Z)(),prefCookie:(document.cookie.match(/PREF=([^;]+)/)||[])[1],session:(0,a.h)()._sessionResponse,dataStore:{pro:o.Z.getItem("pro"),boost:o.Z.getItem("boost"),boost_plus:o.Z.getItem("boost_plus"),enterprise:o.Z.getItem("enterprise")},userType:(0,a.h)().getUserType()}).replace(/,/g,", ");r()("#vidiq-debug-info").remove(),r()('<pre id="vidiq-debug-info"></pre>').text(e).appendTo("body").css({padding:"20px","white-space":"normal",position:"absolute",top:"100px",width:"300px"})}}},2407:(e,t,n)=>{"use strict";function i(e){return"function"==typeof e}function r(e){return function(t){if(function(e){return i(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}n.d(t,{$z:()=>Ie});var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))}function l(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function d(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function p(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){a.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof h?Promise.resolve(e.value.v).then(l,c):u(a[0][2],e)}(r[e](t))}catch(e){u(a[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function f(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=c(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}Object.create;function m(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var g=m((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function v(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var y=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=c(o),l=s.next();!l.done;l=s.next()){l.value.remove(this)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(i(h))try{h()}catch(e){a=e instanceof g?e.errors:[e]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var f=c(p),m=f.next();!m.done;m=f.next()){var v=m.value;try{_(v)}catch(e){a=null!=a?a:[],e instanceof g?a=d(d([],u(a)),u(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}if(a)throw new g(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&v(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&v(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();y.EMPTY;function b(e){return e instanceof y||e&&"closed"in e&&i(e.remove)&&i(e.add)&&i(e.unsubscribe)}function _(e){i(e)?e():e.unsubscribe()}var w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},k={setTimeout:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=k.delegate;return(null==r?void 0:r.setTimeout)?r.setTimeout.apply(r,d([e,t],u(n))):setTimeout.apply(void 0,d([e,t],u(n)))},clearTimeout:function(e){var t=k.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function x(e){k.setTimeout((function(){var t=w.onUnhandledError;if(!t)throw e;t(e)}))}function E(){}var C=S("C",void 0,void 0);function S(e,t,n){return{kind:e,value:t,error:n}}var T=null;var D=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,b(t)&&t.add(n)):n.destination=P,n}return o(t,e),t.create=function(e,t,n){return new I(e,t,n)},t.prototype.next=function(e){this.isStopped?N(function(e){return S("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?N(S("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?N(C,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(y),F=Function.prototype.bind;function M(e,t){return F.call(e,t)}var A=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){O(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){O(e)}else O(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){O(e)}},e}(),I=function(e){function t(t,n,r){var a,o,s=e.call(this)||this;i(t)||!t?a={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&w.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},a={next:t.next&&M(t.next,o),error:t.error&&M(t.error,o),complete:t.complete&&M(t.complete,o)}):a=t;return s.destination=new A(a),s}return o(t,e),t}(D);function O(e){var t;w.useDeprecatedSynchronousErrorHandling?(t=e,w.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=t)):x(e)}function N(e,t){var n=w.onStoppedNotification;n&&k.setTimeout((function(){return n(e,t)}))}var P={closed:!0,next:E,error:function(e){throw e},complete:E};function R(e,t,n,i,r){return new j(e,t,n,i,r)}var j=function(e){function t(t,n,i,r,a,o){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return o(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(D);function L(e,t){return r((function(n,i){var r=0;n.subscribe(R(i,(function(n){i.next(e.call(t,n,r++))})))}))}var q=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Z(e){return i(null==e?void 0:e.then)}var B="function"==typeof Symbol&&Symbol.observable||"@@observable";function V(e){return e}function z(e){return 0===e.length?V:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var U=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,a=this,o=(r=e)&&r instanceof D||function(e){return e&&i(e.next)&&i(e.error)&&i(e.complete)}(r)&&b(r)?e:new I(e,t,n);return function(e){if(w.useDeprecatedSynchronousErrorHandling){var t=!T;if(t&&(T={errorThrown:!1,error:null}),e(),t){var n=T,i=n.errorThrown,r=n.error;if(T=null,i)throw r}}else e()}((function(){var e=a,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?a._subscribe(o):a._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=W(t))((function(t,i){var r=new I({next:function(t){try{e(t)}catch(e){i(e),r.unsubscribe()}},error:i,complete:t});n.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[B]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return z(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=W(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function W(e){var t;return null!==(t=null!=e?e:w.Promise)&&void 0!==t?t:Promise}function H(e){return i(e[B])}function Y(e){return Symbol.asyncIterator&&i(null==e?void 0:e[Symbol.asyncIterator])}function $(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function G(e){return i(null==e?void 0:e[K])}function X(e){return p(this,arguments,(function(){var t,n,i;return l(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,h(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,h(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,h(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Q(e){return i(null==e?void 0:e.getReader)}function J(e){if(e instanceof U)return e;if(null!=e){if(H(e))return r=e,new U((function(e){var t=r[B]();if(i(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(q(e))return function(e){return new U((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(Z(e))return n=e,new U((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,x)}));if(Y(e))return ee(e);if(G(e))return t=e,new U((function(e){var n,i;try{for(var r=c(t),a=r.next();!a.done;a=r.next()){var o=a.value;if(e.next(o),e.closed)return}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}e.complete()}));if(Q(e))return ee(X(e))}var t,n,r;throw $(e)}function ee(e){return new U((function(t){(function(e,t){var n,i,r,a;return s(this,void 0,void 0,(function(){var o,s;return l(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=f(e),l.label=1;case 1:return[4,n.next()];case 2:if((i=l.sent()).done)return[3,4];if(o=i.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),r={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),i&&!i.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function te(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var a=t.schedule((function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()}),i);if(e.add(a),!r)return a}function ne(e,t,n){return void 0===n&&(n=1/0),i(t)?ne((function(n,i){return L((function(e,r){return t(n,e,i,r)}))(J(e(n,i)))}),n):("number"==typeof t&&(n=t),r((function(t,i){return function(e,t,n,i,r,a,o,s){var l=[],c=0,u=0,d=!1,h=function(){!d||l.length||c||t.complete()},p=function(e){return c<i?f(e):l.push(e)},f=function(e){a&&t.next(e),c++;var s=!1;J(n(e,u++)).subscribe(R(t,(function(e){null==r||r(e),a?p(e):t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{c--;for(var e=function(){var e=l.shift();o?te(t,o,(function(){return f(e)})):f(e)};l.length&&c<i;)e();h()}catch(e){t.error(e)}})))};return e.subscribe(R(t,p,(function(){d=!0,h()}))),function(){null==s||s()}}(t,i,e,n)})))}function ie(e){return void 0===e&&(e=1/0),ne(V,e)}var re=new U((function(e){return e.complete()}));function ae(e){return e[e.length-1]}function oe(e){return(t=ae(e))&&i(t.schedule)?e.pop():void 0;var t}function se(e,t){return"number"==typeof ae(e)?e.pop():t}function le(e,t){return void 0===t&&(t=0),r((function(n,i){n.subscribe(R(i,(function(n){return te(i,e,(function(){return i.next(n)}),t)}),(function(){return te(i,e,(function(){return i.complete()}),t)}),(function(n){return te(i,e,(function(){return i.error(n)}),t)})))}))}function ce(e,t){return void 0===t&&(t=0),r((function(n,i){i.add(e.schedule((function(){return n.subscribe(i)}),t))}))}function ue(e,t){if(!e)throw new Error("Iterable cannot be null");return new U((function(n){te(n,t,(function(){var i=e[Symbol.asyncIterator]();te(n,t,(function(){i.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function de(e,t){if(null!=e){if(H(e))return function(e,t){return J(e).pipe(ce(t),le(t))}(e,t);if(q(e))return function(e,t){return new U((function(n){var i=0;return t.schedule((function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())}))}))}(e,t);if(Z(e))return function(e,t){return J(e).pipe(ce(t),le(t))}(e,t);if(Y(e))return ue(e,t);if(G(e))return function(e,t){return new U((function(n){var r;return te(n,t,(function(){r=e[K](),te(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return i(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(Q(e))return function(e,t){return ue(X(e),t)}(e,t)}throw $(e)}function he(e,t){return t?de(e,t):J(e)}var pe=Array.isArray;function fe(e){return L((function(t){return function(e,t){return pe(t)?e.apply(void 0,d([],u(t))):e(t)}(e,t)}))}function me(e,t,n){return n?me(e,t).pipe(fe(n)):new U((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)},a=e(r);return i(t)?function(){return t(r,a)}:void 0}))}var ge=m((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function ve(e,t){return r((function(n,i){var r=0;n.subscribe(R(i,(function(n){return e.call(t,n,r++)&&i.next(n)})))}))}function ye(e){return e<=0?function(){return re}:r((function(t,n){var i=0;t.subscribe(R(n,(function(t){++i<=e&&(n.next(t),e<=i&&n.complete())})))}))}function be(e){return r((function(t,n){var i=!1;t.subscribe(R(n,(function(e){i=!0,n.next(e)}),(function(){i||n.next(e),n.complete()})))}))}function _e(e){return void 0===e&&(e=we),r((function(t,n){var i=!1;t.subscribe(R(n,(function(e){i=!0,n.next(e)}),(function(){return i?n.complete():n.error(e())})))}))}function we(){return new ge}const ke=new Map,xe=(e,t,n)=>{const i=ke.get(e)||new Map;i.set(t,n),ke.has(e)||ke.set(e,i)},Ee=e=>t=>{const n=((e,t)=>{const n=ke.get(e);if(n)return n.get(t)})(e,t);n&&(((e,t)=>{const n=ke.get(e);n&&n.delete(t)})(e,t),chrome.runtime.onMessage.removeListener(n))};class Ce extends Error{constructor(e){var t,n,{coreMessage:i=null,coreResponse:r=null,message:a=(null===(n=null===(t=chrome.runtime)||void 0===t?void 0:t.lastError)||void 0===n?void 0:n.message)||(null==r?void 0:r.payload.greeting)||"chrome.runtime.lastError is undefined"}=e;super(a),this.coreMessage=i,this.coreResponse=r}}const Se=e=>(t=(()=>!0))=>e.pipe(function(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?ve((function(t,n){return e(t,n,i)})):V,ye(1),n?be(t):_e((function(){return new ge})))}}(t)).toPromise();const Te=function(e){const t=(e=>t=>{const n=(n,i,r)=>!(!n.async||e!==n.scope||(async function(){try{const e=e=>{r({success:!0,payload:e})};await t(n.payload,i,e)}catch(e){const t={success:!1,payload:{greeting:e.message}};console.error(e),r(t)}}(),0));chrome.runtime.onMessage.addListener(n),xe(e,t,n)})(e),n=(e=>(t,{tabId:n,frameId:i}={})=>new Promise(((r,a)=>{const o={async:!0,tabId:n||null,payload:t,scope:e},s=e=>{chrome.runtime.lastError||null===e||!e.success?a(new Ce({coreMessage:o,coreResponse:e})):r(e.payload)};"number"==typeof n&&"number"==typeof i?chrome.tabs.sendMessage(n,o,{frameId:i},s):"number"==typeof n?chrome.tabs.sendMessage(n,o,s):chrome.runtime.sendMessage(o,s)})))(e),i=Ee(e),r=(e=>t=>{const n=(n,i)=>{if(n.async||n.scope!==e)return!1;try{t(n.payload,i)}catch(e){console.error("Uncaught error in chrome.runtime.onMessage listener"),console.error(e)}return!1};chrome.runtime.onMessage.addListener(n),xe(e,t,n)})(e),a=(e=>(t,{tabId:n,frameId:i}={})=>new Promise(((r,a)=>{const o={async:!1,tabId:n||null,payload:t,scope:e},s=e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message,t="The message port closed before a response was received";e&&e.includes(t)?r():a(new Ce({coreMessage:o}))}else e&&!e.success?a(e.payload):r()};"number"==typeof n&&"number"==typeof i?chrome.tabs.sendMessage(n,o,{frameId:i},s):"number"==typeof n?chrome.tabs.sendMessage(n,o,s):chrome.runtime.sendMessage(o,s)})))(e);async function o(e,t){const i=t||{},{async:r=!1}=i,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(i,["async"]);return r?n(e,o):a(e,o)}const s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=oe(e),i=se(e,1/0),r=e;return r.length?1===r.length?J(r[0]):ie(i)(he(r,n)):re}(me(r,i),me(t,i)),l=new Set;return{send:o,on:function(e){e.length<3?r(e):t(e)},off:function(e){return i(e)},stream:s,getMessage:function(e,t){if(l.has(e))throw new Error("greeting is not unique");l.add(e);const{async:n}=t||{},i=(t,i)=>{let r,a;return"number"==typeof(i=i||{}).tabId&&(r=i.tabId),"number"==typeof i.frameId&&(a=i.frameId),o({greeting:e,data:t},n?{async:n,tabId:r,frameId:a}:{tabId:r,frameId:a})};if(i.toTab=({tabId:t})=>o({greeting:e},n?{async:n,tabId:t}:{tabId:t}),n){return[i,s.pipe(ve(r),L((([{data:e},t,n])=>[e,t,n])),ve((e=>3===e.length))),Se(s)]}{const e=s.pipe(ve(r),L((([{data:e},t])=>[e,t])),ve((e=>e.length<3)));return[i,e,Se(e)]}function r([t]){return t&&"object"==typeof t&&t.greeting===e}}}}("@extend-chrome/messages__root"),{getMessage:De}=Te,[Fe,Me,Ae]=De("AuthStatusMessages"),Ie=e=>{chrome.tabs&&chrome.tabs.query({},(t=>{for(let n=0;n<t.length;n+=1)Fe({authenticationStatus:e},{tabId:t[n].id})}))}},8121:(e,t,n)=>{"use strict";n.d(t,{zT:()=>c,gf:()=>u,_R:()=>d,NP:()=>h,ir:()=>p,t0:()=>f,Rl:()=>m,dD:()=>y});var i=n(4350),r=n.n(i),a=n(381),o=n.n(a),s=n(8247),l=n(6153);const c="YYYY/MM/DD",u=e=>({keys:["record_id","recorded_at","views","comments","subscribers","videos"],values:e[0].stats.reverse().map((e=>[o()(e.recorded_at).format(c),new Date(e.recorded_at).getTime()/1e3,e.views,0,e.subscribers,e.videos]))});function d(e){const{keys:t,values:n}=e,i=t.indexOf("record_id");return{startDate:n[0][i],endDate:n[n.length-1][i]}}function h(e){const t=o()(e.startDate,c),n=o()(e.endDate,c);return n.diff(t,"days")<30?e:{startDate:o()(n).subtract(30,"days").format(c),endDate:e.endDate}}function p(e,t){const n=o()(e,c),i=o()(t,c),r=i.diff(n,"days"),a=i.diff(n,"months");return{...r>=7&&{[(0,l.Z)("lastDays",["7"])]:{startDate:o()().subtract(7,"days"),endDate:i}},...r>=30&&{[(0,l.Z)("lastDays",["30"])]:{startDate:o()().subtract(30,"days"),endDate:i}},...a>=3&&{[(0,l.Z)("lastMonths",["3"])]:{startDate:o()().subtract(3,"months"),endDate:i}},...a>=6&&{[(0,l.Z)("lastMonths",["6"])]:{startDate:o()().subtract(6,"months"),endDate:i}}}}function f(e,t,n){const i=o()().subtract(7,"days").format(c),r=o()().subtract(30,"days").format(c),a=o()().subtract(3,"months").format(c),s=o()().subtract(6,"months").format(c);return e===i&&t===n?"last 7 days":e===r&&t===n?"last 30 days":e===a&&t===n?"last 3 months":e===s&&t===n?"last 6 months":"custom date"}function m(e){const t={keys:e.keys,values:[]},n=e.keys.indexOf("record_id");let i=new Date(e.values[0][n]);const a=new Date(e.values[e.values.length-1][n]),o=r()(e.values,0);let s=null;for(;i<=a;){const e=i.getFullYear().toString();let n=(i.getMonth()+1).toString(),r=i.getDate().toString();n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r;const a=e+"/"+n+"/"+r;let l=o[a];if(!l&&s){const e=s.slice(1);l=[a].concat(e)}t.values.push(l),s=l,i=new Date(i.setDate(i.getDate()+1))}return t}function g(e,t,n){let i,r,a=[];return 7===n?a=function(e,t){const n=[];for(let i=e.length-1;i>0;i-=7){const r=i-7<0?0:i-7;n.unshift({value:e[i],date:`${t[r]} → ${t[i]}`})}return n}(e,t):30===n&&(a=function(e,t){const n={};for(let i=0;i<e.length;i++){const r=o()(t[i],c).format("MMMM YYYY");n[r]={value:e[i],date:r}}return Object.values(n)}(e,t)),a.length?(i=a.map((e=>e.value)),r=a.map((e=>e.date))):(i=e,r=t),{intervalTotals:i,intervalDates:r}}function v(e,t){const n=t[t.length-1]-t[0];return"videos"===e&&n<0?0:n}function y(e,{range:t,interval:n,data:i}){const{startDate:r,endDate:a}=t,l=i.keys.indexOf("record_id"),u=i.values.map((e=>e[l])),d=i.keys.indexOf(e),h=i.values.map((e=>e[d])),p=u.indexOf(r),f=u.indexOf(a),m=u.slice(p,f+1),y=h.slice(p,f+1);!n&&y.length>=60&&(n=7);const{intervalTotals:b,intervalDates:_}=g(y,m,n),w=function(e,t){return e.map(((n,i)=>{if(void 0===e[i+1])return;const r=e[i+1]-n;return"videos"===t&&r<0?0:r})).slice(0,-1)}(b,e),k=v(e,y),x=k/(w.length||1),E=function(e,t,n,i,r,a,l){const u=o()(t,c).subtract(i.length,"days").format(c),d=r.indexOf(u)-1,h=r.slice(d,n),p=v(e,a.slice(d,n));let f=(0,s.Z)(p,l)/100;return 0===p&&(f=1),void 0===p&&(f=null),{prevRangeTotal:p,prevDates:h,percentChange:f}}(e,r,p,m,u,h,k);return{dates:m,values:y,intervalTotals:b,intervalDates:_,growth:w,rangeTotal:k,average:x,...E}}},2265:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});const i={isProduction:!0,isTest:!1,buildTarget:"chrome"}},3850:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(1312),r=n(3749);const a={update(e){r.Z.dispatch({action:i.Z.UPDATE,data:e})}};chrome.storage.local.get("MainStore",(function(e){e.MainStore&&a.update(e.MainStore)}));const o=a},5561:(e,t,n)=>{"use strict";n.d(t,{h:()=>d});var i=n(3469),r=n.n(i),a=n(3850),o=n(1328),s=n(2060),l=n(5376),c=n(4910),u=n(818);function d(){if(!(this instanceof d))return d.prototype.sharedInstance?d.prototype.sharedInstance:d.prototype.sharedInstance=new d;this.clientIdentity=(0,u.F)().identity}d.prototype.activeChannel=0,d.prototype.getOptim=function(){return s.Z.getData().optim||{}},d.prototype.enableVideoOptim=function(e){return o.Z.expanded("vidiq.enableVideoOptim",{vid:e}).then((({json:e,response:t})=>t&&t.ok&&e?(a.Z.update({optim:r().extend(s.Z.getData().optim||{},{quota_left:e.quota_left,quota_used:e.quota_used})}),t):t))},d.prototype.getPlans=()=>["basic","pro","boost_lite","boost","boost_plus","max","boost_coach","enterprise"],d.prototype.featureLimits={addChannel:{enterprise:null,boost_coach:5,boost_plus:5,boost:3,max:1,boost_lite:1,pro:1,basic:1},export:{basic:10,pro:100},search:{basic:2},addCompetitor:{enterprise:null,boost_coach:20,boost_plus:20,boost:20,boost_lite:20,max:20,pro:6,basic:3},createTrendAlert:{enterprise:100,boost_coach:15,boost_plus:15,boost:10,boost_lite:5,max:5,pro:1,basic:1},dailyIdeas:{pro:10,basic:3}},d.prototype.getFeatureLimit=function(e,t){return this.featureLimits[e][t||this.getUserType()]},d.prototype.featurePermitted=function(e){const t=this.getUserType(),n={historical:"pro",tweets:"basic",trending:"pro",search:"pro",searchSocialStats:"pro",privateStats:"pro",sortByVolume:"enterprise",uploadAndEdit:"boost_lite",translate:"pro",downgrade:"pro",upgrade:"basic",changePlan:"basic",optimize:"boost_lite",legacyTagRecs:"admin",ownVideoStats:"pro",optimizationHints:"boost_lite",kwins:"pro",kwinsFilter:"boost_lite",massLike:"enterprise",keywordStats:"pro",fullHotSearch:"boost_lite",weightClass:"boost_lite",unlimitedDescCamp:"pro",vphSort:"pro",csvExportTags:"pro",topKeywords:"pro",fullTrendAlerts:"pro",researchSearchAndSort:"pro",researchFilters:"boost_lite",controversialKeywords:"pro",tagAutocomplete:"pro",channelAuditTimeframe:"boost_lite",channelAudit:"pro",bestTimeToPost:"pro",selectOptionViewsComp:"basic",yourChannelAverageViewsComp:"basic",lastVideoWatchedViewsComp:"basic",anyVideoViewsComp:"pro",anyPlaylistViewsComp:"pro",anyChannelViewsComp:"boost_lite",thisChannelAverageViewsComp:"boost_lite",competitorsAverageViewsComp:"boost_lite",downloadButtonViewsComp:"boost_lite",kwinsMultiKeywords:"boost_lite",videoIdeas:"boost_lite",aaFreeProTest:"boost_lite",navMenuSidebar:"boost_lite"};let i=!1;if(r().each({enterprise:["downgrade","upgrade","changePlan","optimize"],boost_plus:["upgrade"]},((n,r)=>{r===t&&(i=n.indexOf(e)>=0)})),i)return!1;if("optimize"===e&&0===this.getOptim().quota_left)return!1;if("admin"===n[e])try{return"admin"===this._cachedUser.current_user.role}catch(e){return!1}const a=this.getPlans().indexOf(n[e]),o=this.getPlans().indexOf(t);return!(a>=0)||o>=a},d.prototype.getUserType=function(){if(!s.Z.getData().authed)return"loggedout";const e=this.getPlans();let t=e[0];return r().each(e,(e=>{s.Z.getData()[e]&&(t=e)})),t},d.prototype.getLogoBadge=function(){const e=this.getUserType();return chrome.runtime.getURL("images/"+{basic:"badge-basic.png",pro:"badge-pro.png",boost_lite:"badge-boost.png",boost:"badge-boost.png",boost_plus:"badge-boost.png",boost_coach:"badge-boost.png",max:"badge-max.png",enterprise:"badge-ent.png"}[e])},d.prototype.getIntegration=function(e){return new Promise(((t,n)=>{(0,c.P)(!0).then((n=>{const i=this.findIntegration(e,n);t(i)})).catch(n)}))},d.prototype.findIntegration=function(e,t){let n=null;return t&&t.integrations&&(n=t.integrations[e]),n},d.prototype.getChannel=function(e){const t=s.Z.getData().channels;return r().where(t,{channel_id:e})[0]},d.prototype.getCurrentChannel=function(e){return new Promise(((t,n)=>{if(e&&this._cachedChannel)return t(this._cachedChannel);try{(0,l.Z)().then((e=>(this._cachedChannel=this.getChannel(e),t(this._cachedChannel))))}catch(e){n(e)}}))},d.prototype.getChannelToken=function(e){const t=s.Z.getData().channels;let n;for(let i=0;i<t.length;i+=1)if(t[i].channel_id===e){n=t[i].token;break}return n},d.prototype.userTypeIs=function(e){return this.getUserType()===e},d.prototype.clientIqScore=e=>{const t=e.youtube.views||0;let n=e.facebook.likes;(e.facebook.reactions||e.facebook.comments||e.facebook.shares)&&(n=e.facebook.reactions+e.facebook.comments+e.facebook.shares);const i=n+(e.twitter.tweets||0);let r=0;return r+=1>t?0:3*Math.log2(t),r+=3*Math.log2(1),r+=1>i?0:3*Math.log2(i),Math.min(r,100)}},7618:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l});var i=n(2265),r=n(7128);const a={chromeExtensionId:chrome.runtime.id,competition:{ranges:[{value:"bidiurnally",text:(0,r.Z)("competitorsPast48Hours")},{value:"weekly",text:(0,r.Z)("competitorsThisWeek")},{value:"monthly",text:(0,r.Z)("competitorsThisMonth")},{value:"all",text:(0,r.Z)("competitorsAllTime")}],sorts:[{value:"views_per_hour",text:(0,r.Z)("competitorsVph")},{value:"views",text:(0,r.Z)("competitorsViews")},{value:"date_published_at",text:(0,r.Z)("competitorsDateUploaded")}]},hottersearch:{country:"US",language:"en"},trendAlerts:{defaultName:(0,r.Z)("trendAlertsDefaultName"),previewLength:10,vphThresholds:[{key:100,label:"100"},{key:500,label:"500"},{key:1e3,label:(0,r.Z)("trendAlertsFilter1k")},{key:5e3,label:(0,r.Z)("trendAlertsFilter5k")},{key:1e4,label:(0,r.Z)("trendAlertsFilter10k")}],emailFrequencies:[{key:"daily",label:(0,r.Z)("trendAlertsFilterEveryDay")},{key:"bidiurnally",label:(0,r.Z)("trendAlertsFilterEvery2Days")},{key:"weekly",label:(0,r.Z)("trendAlertsFilterEachWeek")},{key:"monthly",label:(0,r.Z)("trendAlertsFilterEachMonth")}],languages:[{key:"any",label:(0,r.Z)("allLanguages")},{key:"af",label:(0,r.Z)("langAfrikaans")},{key:"sq",label:(0,r.Z)("langAlbanian")},{key:"am",label:(0,r.Z)("langAmharic")},{key:"ar",label:(0,r.Z)("langArabic")},{key:"hy",label:(0,r.Z)("langArmenian")},{key:"az",label:(0,r.Z)("langAzerbaijani")},{key:"eu",label:(0,r.Z)("langBasque")},{key:"be",label:(0,r.Z)("langBelarusian")},{key:"bn",label:(0,r.Z)("langBengali")},{key:"bs",label:(0,r.Z)("langBosnian")},{key:"bg",label:(0,r.Z)("langBulgarian")},{key:"my",label:(0,r.Z)("langBurmese")},{key:"ca",label:(0,r.Z)("langCatalan")},{key:"zh",label:(0,r.Z)("langChinese")},{key:"hr",label:(0,r.Z)("langCroatian")},{key:"cs",label:(0,r.Z)("langCzech")},{key:"da",label:(0,r.Z)("langDanish")},{key:"nl",label:(0,r.Z)("langDutch")},{key:"en",label:(0,r.Z)("langEnglish")},{key:"et",label:(0,r.Z)("langEstonian")},{key:"fi",label:(0,r.Z)("langFinnish")},{key:"fr",label:(0,r.Z)("langFrench")},{key:"gl",label:(0,r.Z)("langGalician")},{key:"ka",label:(0,r.Z)("langGeorgian")},{key:"de",label:(0,r.Z)("langGerman")},{key:"el",label:(0,r.Z)("langGreek")},{key:"gu",label:(0,r.Z)("langGujarati")},{key:"iw",label:(0,r.Z)("langHebrew")},{key:"hi",label:(0,r.Z)("langHindi")},{key:"hu",label:(0,r.Z)("langHungarian")},{key:"is",label:(0,r.Z)("langIcelandic")},{key:"id",label:(0,r.Z)("langIndonesian")},{key:"it",label:(0,r.Z)("langItalian")},{key:"ja",label:(0,r.Z)("langJapanese")},{key:"kn",label:(0,r.Z)("langKannada")},{key:"kk",label:(0,r.Z)("langKazakh")},{key:"km",label:(0,r.Z)("langKhmer")},{key:"ko",label:(0,r.Z)("langKorean")},{key:"ky",label:(0,r.Z)("langKyrgyz")},{key:"lo",label:(0,r.Z)("langLao")},{key:"lv",label:(0,r.Z)("langLatvian")},{key:"lt",label:(0,r.Z)("langLithuanian")},{key:"mk",label:(0,r.Z)("langMacedonian")},{key:"ms",label:(0,r.Z)("langMalay")},{key:"ml",label:(0,r.Z)("langMalayalam")},{key:"mr",label:(0,r.Z)("langMarathi")},{key:"mn",label:(0,r.Z)("langMongolian")},{key:"ne",label:(0,r.Z)("langNepali")},{key:"no",label:(0,r.Z)("langNorwegian")},{key:"fa",label:(0,r.Z)("langPersian")},{key:"pl",label:(0,r.Z)("langPolish")},{key:"pt",label:(0,r.Z)("langPortuguese")},{key:"pa",label:(0,r.Z)("langPunjabi")},{key:"ro",label:(0,r.Z)("langRomanian")},{key:"ru",label:(0,r.Z)("langRussian")},{key:"sr",label:(0,r.Z)("langSerbian")},{key:"si",label:(0,r.Z)("langSinhala")},{key:"sk",label:(0,r.Z)("langSlovak")},{key:"sl",label:(0,r.Z)("langSlovenian")},{key:"es",label:(0,r.Z)("langSpanish")},{key:"sw",label:(0,r.Z)("langSwahili")},{key:"sv",label:(0,r.Z)("langSwedish")},{key:"fil",label:(0,r.Z)("langTagalog")},{key:"ta",label:(0,r.Z)("langTamil")},{key:"te",label:(0,r.Z)("langTelugu")},{key:"th",label:(0,r.Z)("langThai")},{key:"tr",label:(0,r.Z)("langTurkish")},{key:"uk",label:(0,r.Z)("langUkrainian")},{key:"ur",label:(0,r.Z)("langUrdu")},{key:"uz",label:(0,r.Z)("langUzbek")},{key:"vi",label:(0,r.Z)("langVietnamese")},{key:"zu",label:(0,r.Z)("langZulu")}],languagesObject:{any:(0,r.Z)("allLanguages"),af:(0,r.Z)("langAfrikaans"),sq:(0,r.Z)("langAlbanian"),am:(0,r.Z)("langAmharic"),ar:(0,r.Z)("langArabic"),hy:(0,r.Z)("langArmenian"),az:(0,r.Z)("langAzerbaijani"),eu:(0,r.Z)("langBasque"),be:(0,r.Z)("langBelarusian"),bn:(0,r.Z)("langBengali"),bs:(0,r.Z)("langBosnian"),bg:(0,r.Z)("langBulgarian"),my:(0,r.Z)("langBurmese"),ca:(0,r.Z)("langCatalan"),zh:(0,r.Z)("langChinese"),hr:(0,r.Z)("langCroatian"),cs:(0,r.Z)("langCzech"),da:(0,r.Z)("langDanish"),nl:(0,r.Z)("langDutch"),en:(0,r.Z)("langEnglish"),et:(0,r.Z)("langEstonian"),fi:(0,r.Z)("langFinnish"),fr:(0,r.Z)("langFrench"),gl:(0,r.Z)("langGalician"),ka:(0,r.Z)("langGeorgian"),de:(0,r.Z)("langGerman"),el:(0,r.Z)("langGreek"),gu:(0,r.Z)("langGujarati"),iw:(0,r.Z)("langHebrew"),hi:(0,r.Z)("langHindi"),hu:(0,r.Z)("langHungarian"),is:(0,r.Z)("langIcelandic"),id:(0,r.Z)("langIndonesian"),it:(0,r.Z)("langItalian"),ja:(0,r.Z)("langJapanese"),kn:(0,r.Z)("langKannada"),kk:(0,r.Z)("langKazakh"),km:(0,r.Z)("langKhmer"),ko:(0,r.Z)("langKorean"),ky:(0,r.Z)("langKyrgyz"),lo:(0,r.Z)("langLao"),lv:(0,r.Z)("langLatvian"),lt:(0,r.Z)("langLithuanian"),mk:(0,r.Z)("langMacedonian"),ms:(0,r.Z)("langMalay"),ml:(0,r.Z)("langMalayalam"),mr:(0,r.Z)("langMarathi"),mn:(0,r.Z)("langMongolian"),ne:(0,r.Z)("langNepali"),no:(0,r.Z)("langNorwegian"),fa:(0,r.Z)("langPersian"),pl:(0,r.Z)("langPolish"),pt:(0,r.Z)("langPortuguese"),pa:(0,r.Z)("langPunjabi"),ro:(0,r.Z)("langRomanian"),ru:(0,r.Z)("langRussian"),sr:(0,r.Z)("langSerbian"),si:(0,r.Z)("langSinhala"),sk:(0,r.Z)("langSlovak"),sl:(0,r.Z)("langSlovenian"),es:(0,r.Z)("langSpanish"),sw:(0,r.Z)("langSwahili"),sv:(0,r.Z)("langSwedish"),fil:(0,r.Z)("langTagalog"),ta:(0,r.Z)("langTamil"),te:(0,r.Z)("langTelugu"),th:(0,r.Z)("langThai"),tr:(0,r.Z)("langTurkish"),uk:(0,r.Z)("langUkrainian"),ur:(0,r.Z)("langUrdu"),uz:(0,r.Z)("langUzbek"),vi:(0,r.Z)("langVietnamese"),zu:(0,r.Z)("langZulu")}},categories:[{key:"any",label:(0,r.Z)("categoryAny")},{key:"Autos & Vehicles",label:(0,r.Z)("categoryAutosAndVehicles")},{key:"Comedy",label:(0,r.Z)("categoryComedy")},{key:"Documentary",label:(0,r.Z)("categoryDocumentary")},{key:"Drama",label:(0,r.Z)("categoryDrama")},{key:"Education",label:(0,r.Z)("categoryEducation")},{key:"Entertainment",label:(0,r.Z)("categoryEntertainment")},{key:"Family",label:(0,r.Z)("categoryFamily")},{key:"Film & Animation",label:(0,r.Z)("categoryFilmAndAnimation")},{key:"Gaming",label:(0,r.Z)("categoryGaming")},{key:"Horror",label:(0,r.Z)("categoryHorror")},{key:"Howto & Style",label:(0,r.Z)("categoryHowtoAndStyle")},{key:"Movies",label:(0,r.Z)("categoryMovies")},{key:"Music",label:(0,r.Z)("categoryMusic")},{key:"News & Politics",label:(0,r.Z)("categoryNewsAndPolitics")},{key:"Nonprofits & Activism",label:(0,r.Z)("categoryNonprofitsAndActivism")},{key:"People & Blogs",label:(0,r.Z)("categoryPeopleAndBlogs")},{key:"Pets & Animals",label:(0,r.Z)("categoryPetsAndAnimals")},{key:"Science & Technology",label:(0,r.Z)("categoryScienceAndTechnology")},{key:"Shows",label:(0,r.Z)("categoryShows")},{key:"Sports",label:(0,r.Z)("categorySports")},{key:"Thriller",label:(0,r.Z)("categoryThriller")},{key:"Travel & Events",label:(0,r.Z)("categoryTravelAndEvents")}],categoriesObject:{any:(0,r.Z)("categoryAny"),"Autos & Vehicles":(0,r.Z)("categoryAutosAndVehicles"),Comedy:(0,r.Z)("categoryComedy"),Documentary:(0,r.Z)("categoryDocumentary"),Drama:(0,r.Z)("categoryDrama"),Education:(0,r.Z)("categoryEducation"),Entertainment:(0,r.Z)("categoryEntertainment"),Family:(0,r.Z)("categoryFamily"),"Film & Animation":(0,r.Z)("categoryFilmAndAnimation"),Gaming:(0,r.Z)("categoryGaming"),Horror:(0,r.Z)("categoryHorror"),"Howto & Style":(0,r.Z)("categoryHowtoAndStyle"),Movies:(0,r.Z)("categoryMovies"),Music:(0,r.Z)("categoryMusic"),"News & Politics":(0,r.Z)("categoryNewsAndPolitics"),"Nonprofits & Activism":(0,r.Z)("categoryNonprofitsAndActivism"),"People & Blogs":(0,r.Z)("categoryPeopleAndBlogs"),"Pets & Animals":(0,r.Z)("categoryPetsAndAnimals"),"Science & Technology":(0,r.Z)("categoryScienceAndTechnology"),Shows:(0,r.Z)("categoryShows"),Sports:(0,r.Z)("categorySports"),Thriller:(0,r.Z)("categoryThriller"),"Travel & Events":(0,r.Z)("categoryTravelAndEvents")},youtubeAnalytics:{urlPrefix:"https://www.youtube.com/analytics?&o=U"},amplitude:{production:"bc73d2c89ab647ec4aa1a2d38de9a951",development:"765ed530d0f6d48769c02ff01529d23a"},pendo:{key:"92426008-c99b-4a4e-7e6f-e1cbe6975434",guides:{scorecardBasics:{name:"1. Video Scorecard basics - Rob Wilson",id:"tcFci9QhvZRvqJ48sq258qU6WZw",url:/https:\/\/www\.youtube\.com\/watch.+/}}}},o={rollbar:{accessToken:"41364761cd474ae1bd6dc8dba1fda8ab",environment:"development"},amplitude:{production:a.amplitude.development,development:a.amplitude.development},session:{loginUrl:"https://local.vidiq.com:3001/auth/login",signUpUrl:"https://local.vidiq.com:3001/auth/signup",postInstallUrl:"https://local.vidiq.com:3001/extension_install",action:"SAVE_SESSION_TOKEN",app:{domain:"https://local.vidiq.com:3001",iframeId:"local.vidiq.com-iframe",iframeUrl:"https://local.vidiq.com:3001/session-iframe/"}}},s=i.N.isProduction?{production:!0,rollbar:{accessToken:"70020ecc9ac14f3eacc246113280679e",environment:"production"},session:{action:"SAVE_SESSION_TOKEN",loginUrl:"https://app.vidiq.com/auth/login",signUpUrl:"https://app.vidiq.com/auth/signup",postInstallUrl:"https://app.vidiq.com/extension_install",app:{domain:"https://app.vidiq.com",iframeId:"session.vidiq.com-iframe",iframeUrl:"https://app.vidiq.com/session-iframe/"}}}:o,l=Object.assign({},a,s)},1312:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=n(7426).Z.keyMirror(["UPDATE"],"MAIN")},7189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(3469),r=n.n(i);const a={LS_PREFIX:"vidIQ_",internalStore:{},getItem(e){let t,n;try{t=JSON.parse(localStorage.getItem(this.LS_PREFIX+e)),n=t?t[0]:null}catch(i){t=localStorage.getItem(this.LS_PREFIX+e),n=t||null}return void 0!==n?n:this.internalStore[e]},setItem(e,t){try{localStorage.setItem(this.LS_PREFIX+e,JSON.stringify([t]))}catch(n){this.internalStore[e]=t}},set(e){r().map(e,(function(e,t){this.setItem(t,e)}),this)},removeItem(e){return localStorage.removeItem(this.LS_PREFIX+e)}}},3749:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(5203).Dispatcher)},4722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(9755),r=n.n(i),a=n(3469),o=n.n(a),s=n(9309);const l={_objs:[],watch(e,t){const n={selector:e};t&&(n.id=t);const i=o().findWhere(this._objs,n);if(i)return i;const r={_els:[],_events:{},_ignored:[],selector:e,id:t,enter(e){return this._enter=e,this},leave(e){return this._leave=e,this},test(e){return this._test=e,this},on(e,t){this._events[e]=t},trigger(e,t){const n="_"+e;"function"==typeof this[n]&&this[n](t)}};return this._objs.push(r),r},clear(e,t){const n=null===e;this._objs=o().compact(o().map(this._objs,(i=>{const r=t===i.id;if((i.selector!==e||t&&!r)&&(!n||!r))return i;o().each(i._els,(e=>{i.trigger("leave",e)}))})))},monitor(){this._monitor||((0,s.Z)("Screeny#monitor > Starting!"),this._monitor=!0,this.check(),setInterval(o().bind(this.check,this),1e3))},check(){r()(window).trigger("screeny:before-check"),o().each(this._objs,(e=>{const t=r()(e.selector).filter(":visible").toArray(),n=o().difference(t,e._ignored),i=o().difference(e._els,n),a=o().difference(n,e._els),l=o().difference(e._els,i).concat(a);e._els=l,i.length>0&&(0,s.Z)("Screeny check: left elements for "+e.selector,i),o().each(i,(t=>{e.trigger("leave",t)})),o().each(l,(t=>{a.indexOf(t)>=0&&((0,s.Z)("Screeny check: new el for "+e.selector,t),o().each(e._events,((e,n)=>{r()(t).on(n,((n,i)=>{e(t,i)}))})),r()(t).on("screeny:ignore",(function(){e._els=o().without(e._els,this),e._ignored.push(this)})),e.trigger("enter",t)),e.trigger("test",t)}))}))},waitUntil(e,t){const n=new(r().Deferred),i=setInterval((()=>{const t=e();t.length>0&&(n.resolve(t),clearInterval(i))}),100);return t&&setTimeout((()=>{clearInterval(i),"pending"===n.state()&&n.reject()}),t),n.promise()},forUrl(e,t,n,i){let r=!1;function a(){let a;a=t instanceof RegExp?window.location[e].match(t):window.location[e]===t,a&&!r?(r=!0,"function"==typeof n&&n(t)):!a&&r&&(r=!1,"function"==typeof i&&i(t))}a(),setInterval(a,500)},forPaths(e,t,n){e.forEach((e=>{l.forUrl("pathname",e,t,n)}))}},c=l},6807:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(9755),r=n.n(i),a=n(381),o=n.n(a),s=n(3469),l=n.n(s),c=n(2407),u=n(8121),d=n(1328);const h={getRetriedSession:e=>("number"==typeof e&&e||(e=0),new Promise(((t,n)=>{h.getSession().then(t).catch((i=>500!==i?n():e>=4?n(i):void setTimeout((()=>{h.getRetriedSession(e+1).then(t).catch(n)}),500)))}))),getSession:()=>new Promise(((e,t)=>{d.Z.expanded("vidiq.getSession").then((({response:n,json:i})=>{if(n.ok)return r()(window).trigger("vidiq:session",i),void e(i);r()(window).trigger("vidiq:session:fail",n.status),t(n.status)}))})),getUser:()=>new Promise(((e,t)=>{(0,d.Z)("vidiq.getUser").then((t=>{(0,c.$z)("authenticated"),e(t.current_user),r()(window).trigger("vidiq:user",t.current_user)})).catch(t)})),logout:()=>new Promise(((e,t)=>{(0,d.Z)("vidiq.deleteSession").then((t=>{(0,c.$z)("not-authenticated"),r()(window).trigger("vidiq:session:logout"),r()(window).trigger("vidiq:resetAb"),e(t)})).catch(t)})),async trendy({vid:e,query:t,country:n,language:i,limit:r}){const a=await(0,d.Z)("vidiq.trendy",{query:t,country:n,language:i,limit:r});return Object.assign({},a,{videos:(o=a.videos,e?o.filter((t=>t.id!==e)):o)});var o},async getChannelGrowthStats(e){if(!e)throw new Error("No channel ID provided");const t="YYYY-MM-DD",n=o()().locale("en").subtract(90,"day").format(t),i=await(0,d.Z)("vidiq.youtubeChannelPublicStats",{cid:e,startDate:n}).then(u.gf),r=i.keys,a=l().object(l().map(i.values,(e=>{const n=parseInt(e[r.indexOf("recorded_at")]+"000",10);return[o()(n).format(t),e]})));let s;const c=l().compact(l().map(l().range(90),(e=>{let r=o()(n).add(e,"day").format(t);if(a[r]&&e>0){const e=a[r].slice();return s=e,s}if(1===i.values.length)return(a[r]||[]).slice();if(0===e){for(;!a[r]&&e<89;)e+=1,r=o()(n).add(e,"day").format(t);s=a[r]}return s}))),h=c[c.length-1],p={};return p.current={upload_views:h[r.indexOf("views")],subscribers:h[r.indexOf("subscribers")]},l().each({week_growth:7,two_weeks_growth:14,month_growth:30,two_months_growth:60,trimester_growth:90},((e,t)=>{const n=c[90-e],i=p.current;p[t]={upload_views:i.upload_views-n[r.indexOf("views")],subscribers:i.subscribers-n[r.indexOf("subscribers")]}})),p},async getChannelStatistics(e){if(!e)throw new Error("No channel ID provided");const t=o()().locale("en").subtract(364,"day").format("YYYY-MM-DD");return(0,d.Z)("vidiq.youtubeChannelPublicStats",{cid:e,startDate:t}).then(u.gf)}},p=h},9855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(7662),r=n.n(i),a=n(7618),o=n(818);const s=["Extension context invalidated"],l=new(r())({autoInstrument:!1,accessToken:a.ZP.rollbar.accessToken,captureUncaught:!0,captureUnhandledRejections:!0,captureIp:"anonymize",verbose:"development"===a.ZP.rollbar.environment,payload:{environment:a.ZP.rollbar.environment,client:{javascript:{code_version:(0,o.F)().version,guess_uncaught_frames:!0}}},transform:e=>{const t=e.body.trace,n=(0,o.F)().browser;t&&t.frames&&t.frames.forEach((({filename:e},i)=>{e&&(t.frames[i].filename=`vidiq/${n}/${e.split("/").pop()}`)}))},checkIgnore:(e,t)=>{if(e&&Array.isArray(t)&&t[1]&&t[1].message){const e=t[1].message;return!!s.find((t=>e.includes(t)))}return!1},hostWhiteList:["vidiq"]});document.addEventListener("vidiqPageScopeRollbarError",(e=>{l.error(...e.detail)}));const c=l},4283:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(7361),r=n.n(i),a=n(1609),o=n.n(a),s=n(9309);let l="";const c=()=>Math.random().toString(36).slice(2),u=(e="",t)=>{let n=e;o()(e)&&(n=c()+c()+c()),chrome.storage.local.set({device_id:n}),chrome.runtime.sendMessage(chrome.runtime.id,{setCookie:{name:"vidiq_device_id",value:n,url:"https://vidiq.com",domain:".vidiq.com"}}),t(n)},d=()=>new Promise((e=>{if(l)return e(l);chrome.storage.local.get("device_id",(t=>{l=t.device_id;try{chrome.runtime.sendMessage(chrome.runtime.id,{getCookies:{names:["vidiq_device_id"],domain:"vidiq.com"}},(t=>{const n=r()(t,"[0].value");n&&(l=n),u(l,e)}))}catch(t){(0,s.Z)("Error retrieving `vidiq_device_id` from cookies via the `getCookies` message",t),u(l,e)}}))}))},1328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(9755),r=n.n(i),a=n(4283),o=n(818),s=n(9309),l=n(4203);let c=0,u=[];async function d(e,t){const n=await(0,a.Z)();return new Promise(((i,a)=>{c+=1,t=Object.assign({_globals:{"X-Amplitude-Device-ID":n,"X-Client-Location":(0,o.F)().location}},t);("/_generated_background_page.html"===window.location.pathname?window.backgroundEventHandler:chrome.runtime.sendMessage)(null,{request:e,params:t},(({id:e,payload:t})=>{if(u.unshift(e),u=u.slice(0,5),t.interrupt){switch(t.interrupt.action){case"mfa":r()(window).trigger("vidiq:MFA");break;case"trackChannel":p("vidiq.trackChannel",{cid:t.interrupt.cid});break;default:throw new Error(`Unknown interrupt action: ${t.interrupt.action}`)}a(t)}i(t)}))}))}const h=({json:e,text:t,blob:n})=>(e&&0!==Object.keys(e).length?e:null)||n||t;function p(e,t){return new Promise(((n,i)=>{d(e,t).then((e=>n(h(e)))).catch((e=>i(h(e))))}))}p.retry=function(e,t,n){return new Promise(((i,r)=>{const a=n||{max:3,tries:1,evaluate:({response:e})=>e.ok};p.expanded(e,t).then((n=>{if(a.evaluate(n))return i(n);if(a.tries===a.max)return(0,s.Z)(`RETRY > Retrying ${a.max} times failed`),r(n);const o=Object.assign({},a,{tries:a.tries+1}),l=1500*a.tries;(0,s.Z)(`RETRY > Retrying, attempt #${a.tries} in ${l} ms`),setTimeout((()=>{p.retry(e,t,o).then(i).catch(r)}),l)}))}))},p.expanded=d,p.ok=function(e,t){return new Promise(((n,i)=>{d(e,t).then((e=>{if(!e.response.ok)return i(e);n(e)})).catch(i)}))},p.send=function(e,t){return new Promise(((n,i)=>{d(e,t).then((e=>{const t=h(e);if(!e.response.ok)return i(t);n(t)})).catch((e=>i(h(e))))}))},p.script=function(e){return p(e).then((e=>{e&&"string"==typeof e&&(0,l.Z)(e,!0)}))},p.cancel=function(e){chrome.runtime.sendMessage(null,{cancel:e})},p.nextId=function(e){e(c+1)},p.pollProgress=function(e,t){u.indexOf(e)>=0?t(1):setTimeout((()=>{chrome.runtime.sendMessage(null,{progress:e},(n=>{"number"==typeof n&&t(n),(!n||n<1)&&p.pollProgress(e,t)}))}),200)};const f=p},2060:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(3469),r=n.n(i),a=n(1312),o=n(3749);const s=new(n(3707).Z)("MainStore",{_data:{authed:null,session_token:null,error:null,loading:null,channels:[],user:null,email:null,optim:null,confirmEmail:null,ytcfg:null}});s.dispatchToken=o.Z.register((e=>{const t=s,n=a.Z;if(e.action===n.UPDATE)r().extend(t.data,e.data),chrome.storage.local.set({MainStore:Object.assign({},t.data)}),t.emitChange(),e.data.user&&e.data.user.email&&chrome.runtime.sendMessage({email:e.data.user.email,uid:e.data.user.id})})),window.addEventListener("message",(function(e){"ytcfg"===e.data.type&&s.setData({ytcfg:e.data.ytcfg})}));const l=s},3707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9755),r=n.n(i),a=n(3469),o=n.n(a);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e,t){s(this,"dispatchToken",void 0),s(this,"_data",void 0),s(this,"data",void 0),s(this,"CHANGE_EVENT",void 0),s(this,"adapters",void 0),s(this,"listeners",void 0),s(this,"removed",void 0),this.CHANGE_EVENT=e+"_CHANGE.vidiq",this.data=r().extend(!0,{},t._data),this._data=r().extend(!0,{},t._data),this.listeners=[],this.adapters=[],this.removed=[],o().extend(this,t)}emitChange(e){const t=this.CHANGE_EVENT,n=e||this.data;setTimeout((()=>{r()(window).trigger(t,n)}))}addChangeListener(e){const t=(t,n)=>{const i=this.listeners.indexOf(e);this.removed.indexOf(i)>=0||e(n)};this.listeners.push(e),this.adapters.push(t),r()(window).on(this.CHANGE_EVENT,t)}removeChangeListener(e){const t=this.listeners.indexOf(e);if(t<0)return;this.removed.push(t);const n=this.adapters[t];n&&r()(window).off(this.CHANGE_EVENT,n)}onNextChange(e){r()(window).one(this.CHANGE_EVENT,((t,n)=>{e(n)}))}getData(){return this.data}setData(e){o().extend(this.data,e),this.emitChange()}reset(){this.data=r().extend(!0,{},this._data),this.emitChange()}}},7426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(9755),r=n.n(i),a=n(3493),o=n.n(a),s=n(381),l=n.n(s),c=n(9541),u=n.n(c),d=n(7294),h=n(3935),p=n(8738),f=n.n(p),m=n(3469),g=n.n(m),v=n(4722);var y=n(4089),b=n(6153),_=n(9309),w=n(5620);const k={},x=k;k.handle=(e,t)=>r()(window).on(e,t),k.dryRun=()=>location.href.match(/DRY_RUN/),k.simulateRequest=()=>{const e=new(r().Deferred),t=100*Math.round(11*Math.random()),n=Math.random()>.2;return setTimeout(n?e.resolve:e.reject,t),(0,_.Z)("utilities#simulateRequest > Simulating a %s async request with %dms delay",n?"SUCCESSFUL":"FAILED",t),e.promise()},k.searchTerm=()=>{let e=window.location.href.match(/(search_query|q)=([^&]+)/);if(!e)return"";e=e[2]||"";const t=!!e.match(/\+/);return e=decodeURIComponent(e),t&&(e=e.replace(/\+/g," ")),e},k.pruneUpgraded=()=>{const e=localStorage.justUpgraded;return e&&delete localStorage.justUpgraded,e},k.safely=(e,t)=>{try{return e()}catch(e){(0,_.Z)("safely caught error",e)}return t||null},k.keyMirror=(e,t)=>(t=t?t+"_":"",g().object(g().map(e,(e=>[e,t+e])))),k.prettyRandomId=()=>(+new Date+Math.floor(999999*Math.random())).toString(36),k.longRandomId=()=>(+new Date).toString(36)+Math.floor(999999*Math.random()).toString(36),k.truncate=(e,t)=>(g().isString(e)||(e=""),g().isNumber(t)||(t=10),e.length>t?e.slice(0,t-3).trim()+"...":e),k.onPageChange=(e,t,n)=>{let i,r=window.location[t];v.Z.forUrl(t,e,(()=>{i=setInterval((()=>{window.location[t]!==r&&(r=window.location[t],n())}),500)}),(()=>{clearInterval(i)}))},k.getVideoUrl=e=>`https://www.youtube.com/watch?v=${e}&ucbcb=1`,k.numbro=(e,t)=>{t||(t={});let n=u()(e).format(t.format||"0.0a"),i="";if(t.thousands&&e<9999&&e>999){const i=g().isString(t.thousands)?t.thousands:"0,0";n=u()(e).format(i)}return n.match(/[^0-9]$/)&&(i=n.slice(-1).toUpperCase(),n=n.slice(0,-1)),!1!==t.trim&&(n=n.replace(/(\.[0-9]*?)0*$/,"$1").replace(/\.$/,"")),t.separate?[n,i]:n+i},k.convertTimeToSeconds=e=>{if(!e)return null;const t=e.split(":");let n=0;return 3===t.length?n=60*+t[0]*60+60*+t[1]+ +t[2]:2===t.length?n=60*+t[0]+ +t[1]:1===t.length&&(n=+t[0]),n},k.mountComponent=e=>{if(!e.component||!e.selector&&!e.element)return;if(e.url&&-1===window.location.href.indexOf(e.url))return;let t;try{const n=g().extend({},e,{component:e.component.displayName||e.component.name}),i=JSON.stringify(n,function(){const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}}());t=f()(i)}catch(t){(0,w.Z)("Could not construct unique id for options",e)}const n=()=>!!(t&&r()(`[data-mount-id="${t}"]`).length>0)&&((0,_.Z)("mountComponent() > Ignoring duplicate mount"),!0);if(n())return;const i=function(){const n=d.createElement(e.component,e.props||{}),i=e.rootEl?r()(e.rootEl):e.inline?r()("<span/>"):r()("<div/>");i.attr("data-mount-id",t);let a=e.insertFn;a&&"function"==typeof i[a]||(a="append"),r()(this)[a](i),e.rootClass&&i.addClass(e.rootClass),i.length&&h.render(n,i.get(0))},a=()=>{if(n())return;const t=r()(e.selector);t.length>0?t.each(i):setTimeout(a,1e3)};return e.element?i.apply(e.element):a(),t},k.unmountComponent=e=>{(0,_.Z)("Unmounting component",e);const t=r()("[data-mount-id="+e+"]")[0];t&&(h.unmountComponentAtNode(t),t.parentNode.removeChild(t))},k.time2sec=e=>g().isString(e)?g().reduce(g().map(e.split(":").reverse(),((e,t)=>parseFloat(e,10)*Math.pow(60,t))),((e,t)=>e+t),0):0,k.sec2time=function(e){if(!g().isNumber(e))return"00:00:00";return g().map(this.getUnits(e,3,60),(e=>{const t=e.toString();return 1===t.length?"0"+t:t})).join(":").replace(/00:00/g,"00").replace(/^00:(..:)/g,"$1")},k.sec2fancy=function(e){if(!g().isNumber(e)||0===e)return"instantaneously";const t=["hour","minute","second"],n=g().compact(g().map(this.getUnits(e,3,60),((e,n)=>{if(0===e)return;const i=t[n];return e+" "+(1===e?(0,b.Z)(i+"Singular"):(0,b.Z)(i+"Plural"))})));return chrome.i18n.getUILanguage().match(/^en/)?n.join(", "):n.join(" ")},k.getUnits=(e,t,n)=>{const i=[];for(let r=t-1;r>=0;r-=1){const t=Math.pow(n,r);let a=e/t;a=r>0?Math.floor(a):Math.round(1e3*a)/1e3,i.push(a),e%=t}return i},k.indices2literals=(e,t)=>g().map(e,(e=>t[e])),k.getAuthToken=(e,t)=>{const n=new(r().Deferred);e||(e=window.location.href),t||(t="auth_token");const i=new RegExp("("+t+'|XSRF_TOKEN)[\'"]: ?"([^"]+)');return r().get(e).done((e=>{const t=x.unleakStrings(e.match(i));if(t&&t[1])return n.resolve(t[2]);n.reject("Could not find token")})).fail((e=>{n.reject("Could not request token ("+e.status+")")})),n.promise()},k.getVideosHeader=(e,t)=>{const n=new RegExp(t+"[\"']?[:,]? ?['\"]?([^'\",]+)"),i=x.unleakStrings(e.match(n));return i&&i[1]?i[1]:null},k.getVideosHeaders=e=>(e=e||document.children[0].innerHTML,{idToken:x.getVideosHeader(e,"ID_TOKEN"),clientName:x.getVideosHeader(e,"INNERTUBE_CONTEXT_CLIENT_NAME"),clientVersion:x.getVideosHeader(e,"INNERTUBE_CONTEXT_CLIENT_VERSION"),pageCl:x.getVideosHeader(e,"PAGE_CL"),pageLabel:x.getVideosHeader(e,"PAGE_BUILD_LABEL"),checksum:x.getVideosHeader(e,"VARIANTS_CHECKSUM")}),k.retry=(e,t,n)=>{g().isNumber(n)||(n=1),t||(t=new(r().Deferred));const i=e();if(i&&i.done)return i.done(t.resolve).fail((function(...i){if(n>=3)return(0,_.Z)("RETRY > Retrying 3 times failed"),t.reject(...i);const r=1500*n;(0,_.Z)("RETRY > Retrying, attempt #"+n+" in "+r+"ms"),setTimeout((()=>{k.retry(e,t,n+1)}),r)})),t.promise()},k.validateUrl=e=>Boolean(e.match(/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)/)),k.precision=(e,t)=>{const n=Math.pow(10,t);return Math.floor(e*n)/n},k._etas={},k.eta=o()((function(e,t){if(t>=1&&delete this._etas[e.toString()],!e||!g().isNumber(t))return;const n=new Date,i=e.toString();this._etas[i]||(this._etas[i]=[{ratio:0,progress:0,time:e}]);const r=this._etas[i],a=r[0];r.unshift({ratio:(t-a.progress)/Math.floor((n-a.time)/1e3),progress:t,time:n}),isFinite(r[0].ratio)||(r[0].ratio=0),this._etas[i]=r;const o=(1-t)/(g().reduce(r,((e,t)=>e+t.ratio),0)/r.length);return isFinite(o)?o:null}),1e3),k.etaString=e=>{if(!e)return;const t=l()().add(e,"seconds").fromNow();return(0,b.Z)("estimatedTime",[t])},k.plural=(e,t,n)=>(n||(n=t+"s"),1===e?t:n),k.capitalize=e=>{if(g().isString(e))return""===e?"":e[0].toUpperCase()+e.slice(1)},k.titleCase=e=>e.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),k.camelCase=e=>g().map(e.split(/ |_/),((e,t)=>0===t?e:x.capitalize(e))).join(""),k.string2regex=(e,t)=>{let n;if(e){e=e.match(/^\/.*\/$/)?e.slice(1,e.length-1):e.replace(/([[\]().?^${}\-+*])/g,"\\$1");try{n=new RegExp(e,t||"")}catch(e){}}return n},k.stripHtml=e=>(e||"").replace(/<br( \/)?>/g,"\n").replace(/<[^>]+>/g,""),k.convertEntities=e=>{const t={gt:">"};return e.replace(/&(#(?:x[0-9a-f]+|\d+)|[a-z]+);?/gi,((e,n)=>{return"#"===n[0]?String.fromCharCode("x"===n[1].toLowerCase()?parseInt(n.substr(2),16):parseInt(n.substr(1),10)):(i=t,r=n,{}.hasOwnProperty.call(i,r)?t[n]:e);var i,r}))},k.unleakString=e=>(" "+e).substr(1),k.unleakStrings=e=>!!Array.isArray(e)&&e.map(k.unleakString),k.asciiMatcher=e=>new RegExp(g().map(e.split(""),(e=>e.charCodeAt(0)>127?".":e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("")),k.byteLength=e=>{let t=e.length;for(let n=e.length-1;n>=0;n-=1){const i=e.charCodeAt(n);i>127&&i<=2047?t+=1:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&(n-=1)}return t},k.getUrls=e=>(e.match(/https?:\/\/[^\s]+/gm)||[]).map((e=>x.validateUrl(e)?e:null)).filter(Boolean),k.mapToMultiDimensional=(e,...t)=>e.map((e=>[e,...t])),k.extractNumbers=e=>{const t=e.match(/(\d+((?:\.|,|\s)\d+)*)/gi);return t&&t.length>0?t.map((e=>parseInt(e.replace(/[,.\W]/gim,""),10))).filter((e=>!isNaN(e))):[]},k.getUrlInfo=()=>{const e=window.location.href;return{location:(0,y.Z)(),url:e}};const E=k},3771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){if("string"==typeof e)return e[0].toUpperCase()+e.slice(1)}},818:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var i,r=n(5566);let a;!function(e){e.chrome="vch",e.firefox="vff",e.edge="ved"}(i||(i={})),function(e){e.SCORECARD="scorecard",e.POPUP="popup"}(a||(a={}));const o=["chrome-extension:","moz-extension:","extension:"],s=()=>{const{pathname:e,protocol:t}=window.location;return"/popup.html"===e&&o.includes(t)?a.POPUP:e.match(/^\/watch/)&&"https:"===t?a.SCORECARD:null};function l(){const e=(0,r.Z)(),t=function(){try{return chrome.runtime.getManifest().version}catch(e){return"unknown"}}(),n=i[e]||i.chrome,a=`${n}/${t}`;return{code:n,browser:e,version:t,identity:a,location:s(),clientHeader:`ext ${a}`,via:`${e} extension`}}},5566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(7446),r=n(7909);function a(){return(0,i.Z)()?"firefox":(0,r.Z)()?"edge":"chrome"}},8247:(e,t,n)=>{"use strict";function i(e,t){return e===t?0:0===e?100:(t-e)/Math.abs(e)*100}n.d(t,{Z:()=>i})},4089:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=()=>{const{host:e,pathname:t}=window.location;return e+(t.split("/").reduce(((e,t)=>t?e.match(/(video|channel)$/)?`${e}/...`:`${e}/${t}`:e),"")||"/")}},5376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(9855);var r=n(1328),a=n(9309);async function o(){const e=document.querySelectorAll('ytd-guide-renderer a[href*="studio.youtube.com/channel" i]');if(1===e.length&&e[0]instanceof HTMLAnchorElement){const t=e[0].href.match(/studio.youtube.com\/channel\/(.+)\/videos/i);if(t)return t[1]}else e.length>1&&i.Z.error('getChannelIdFromHome: Found more than one "Your videos" element!');let t;try{t=await(0,r.Z)("youtube.home")}catch(e){return i.Z.error("getChannelIdFromHome: channelId not found",{error:e}),null}const n=t.match(/"creator_channel_id","value":"([^"]+)"/),o=n&&n[1];return null===o?i.Z.error("getChannelIdFromHome: channelId not found"):i.Z.log("getCurrentChannelID got the channel id from home"),o?(0,a.Z)("Successfully got channel from home",o):(0,a.Z)("failed to get channel from home"),o}var s=n(2060);async function l(){const{ytcfg:e}=s.Z.getData();if(e&&"CHANNEL_ID"in e&&e.CHANNEL_ID)return e.CHANNEL_ID;if(window.location.href.includes("studio.youtube.com/channel"))return window.location.href.split("/")[4];const t=document.getElementById("home-button");if(t instanceof HTMLAnchorElement&&t.href.includes("studio.youtube.com/channel"))return t.href.split("/")[4];let n;try{n=await(0,r.Z)("youtube.studio")}catch(e){return i.Z.error("getChannelIdFromStudio: channelId not found",{error:e}),null}const o=n.match(/"CHANNEL_ID":"([^"]+)"/),l=o&&o[1];return null===l&&i.Z.error("getChannelIdFromStudio: channelId not found"),l?(0,a.Z)("Successfully got channel from studio",l):(0,a.Z)("failed to get channel from studio"),l}let c=null;function u(e){i.Z.error("getCurrentChannelID failed",{error:e})}async function d(){if(document.querySelector('ytd-masthead a[href*="ServiceLogin?service=youtube" i]'))return c=null,null;if(c)return c;const e="studio.youtube.com"===window.location.host?[l(),o()]:[o(),l()];let t=null;try{t=await e[0]}catch(e){u(e)}if(null===t)try{t=await e[1]}catch(e){return u(e),null}return t&&(c=t),t}},4910:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var i=n(6807),r=n(2060);function a(e){return new Promise(((t,n)=>{const a=r.Z.getData();if(a.user&&!e)return t(a.user);i.Z.getUser().then(t).catch(n)}))}},3860:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,L:()=>o});var i=n(7856),r=n.n(i);function a(e,t={}){return r().sanitize(e,t)}function o(e){try{const t=document.createElement("div");return t.innerHTML=a(decodeURIComponent(JSON.parse(e))).trim(),t.firstChild}catch(e){return null}}},6153:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(7294),r=n(3860),a=n(7128);const o=Object.assign(a.Z,{html:function(e,t,n){const o=void 0!==t,s=(0,a.Z)(e,t),l=o?(0,r.N)(s,n):s;return i.createElement("span",{dangerouslySetInnerHTML:{__html:l}})}})},7128:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(3771);const r={},a=(e,t)=>{const n=[e].concat(t||[]).join("-"),i=r[n],a=r[e];let o=i;if(t&&t.length&&a&&a.match(/\$/)&&!i&&(o=a.replace(/\$1/,t[0]).replace(/\$2/,t[1]).replace(/\$3/,t[2]).replace(/\$4/,t[3]),r[n]=o),!o){if(o=chrome.i18n.getMessage(e,t),!o)return"["+e+"]";r[e]=o}return o},o=e=>!!chrome.i18n.getMessage(e),s=Object.assign(a,{lower:(e,t)=>a(e,t).toLowerCase(),upper:(e,t)=>a(e,t).toUpperCase(),cap:(e,t)=>(0,i.Z)(a(e,t)),exists:o,tryCountryOrLang:e=>{const t=e.replace(/[^A-Za-z0-9]/g,"");let n=e;return["lang","country"].forEach((e=>{o(e+t)&&(n=a(e+t))})),n}})},7909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(2265);function r(){return"edge"===i.N.buildTarget}},7446:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(2265);function r(){return"firefox"===i.N.buildTarget.toString()}},7685:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9309);let r;function a(e){const t=/window.Polymer/;return e?!!e.match(t)||r:(void 0===r&&(r=!!document.children[0].innerHTML.match(t),(0,i.Z)("Checking layout type...",r?"NEW":"OLD")),r)}},9309:(e,t,n)=>{"use strict";function i(...e){n(8082).Z.debug&&(console.log(...e),"true"===localStorage.trace&&console.trace())}n.d(t,{Z:()=>i})},4203:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var features_shared_environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2265),js_utilities_warn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620);function pageExec(code,standalone){if("firefox"!==features_shared_environment__WEBPACK_IMPORTED_MODULE_0__.N.buildTarget&&"chrome-extension:"===window.location.protocol)try{return eval(code)}catch(e){(0,js_utilities_warn__WEBPACK_IMPORTED_MODULE_1__.Z)(e)}const script=document.createElement("script");if(standalone)return script.textContent=code,void document.documentElement.appendChild(script);script.textContent="localStorage.inject_value = "+code+";",document.documentElement.appendChild(script);const ret=localStorage.inject_value;return delete localStorage.inject_value,ret}const __WEBPACK_DEFAULT_EXPORT__=pageExec},5620:(e,t,n)=>{"use strict";function i(...e){n(8082).Z.debug&&(console.warn(...e),"true"===localStorage.trace&&console.trace())}n.d(t,{Z:()=>i})},3239:(e,t,n)=>{e.exports={default:n(2742),__esModule:!0}},7670:(e,t,n)=>{e.exports={default:n(8056),__esModule:!0}},1466:(e,t,n)=>{var i;!function(r){"use strict";var a=r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype,o=r.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),s=o&&r.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),l=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(o||l)&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&function(e){var t,n,i,r,a,u,d,h,p;if(!(t=e.match(c)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),i=!!t[4],r=e.slice(t[0].length),a=i?atob(r):decodeURIComponent(r),u=new ArrayBuffer(a.length),d=new Uint8Array(u),h=0;h<a.length;h+=1)d[h]=a.charCodeAt(h);return o?new Blob([s?d:u],{type:n}):((p=new l).append(u),p.getBlob(n))};r.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(e,t,n){n&&a.toDataURL&&u?e(u(this.toDataURL(t,n))):e(this.mozGetAsFile("blob",t))}:a.toDataURL&&u&&(a.toBlob=function(e,t,n){e(u(this.toDataURL(t,n)))})),void 0===(i=function(){return u}.call(t,n,t,e))||(e.exports=i)}(window)},1924:(e,t,n)=>{"use strict";var i=n(210),r=n(5559),a=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?r(n):n}},5559:(e,t,n)=>{"use strict";var i=n(2514),r=n(210),a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||i.call(o,a),l=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(i,o,arguments);if(l&&c){var n=l(t,"length");n.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var d=function(){return s(i,a,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},7757:function(e,t,n){e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={rgb2hsl:n,rgb2hsv:i,rgb2hwb:a,rgb2cmyk:o,rgb2keyword:s,rgb2xyz:l,rgb2lab:c,rgb2lch:u,hsl2rgb:d,hsl2hsv:h,hsl2hwb:p,hsl2cmyk:f,hsl2keyword:m,hsv2rgb:v,hsv2hsl:y,hsv2hwb:_,hsv2cmyk:w,hsv2keyword:k,hwb2rgb:x,hwb2hsl:E,hwb2hsv:C,hwb2cmyk:S,hwb2keyword:T,cmyk2rgb:D,cmyk2hsl:F,cmyk2hsv:M,cmyk2hwb:A,cmyk2keyword:I,keyword2rgb:V,keyword2hsl:z,keyword2hsv:U,keyword2hwb:W,keyword2cmyk:H,keyword2lab:Y,keyword2xyz:$,xyz2rgb:O,xyz2lab:N,xyz2lch:P,lab2xyz:R,lab2rgb:L,lab2lch:j,lch2lab:q,lch2xyz:Z,lch2rgb:B};function n(e){var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return s==o?t=0:i==s?t=(r-a)/l:r==s?t=2+(a-i)/l:a==s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s==o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]}function i(e){var t,n,i=e[0],r=e[1],a=e[2],o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return n=0==s?0:l/s*1e3/10,s==o?t=0:i==s?t=(r-a)/l:r==s?t=2+(a-i)/l:a==s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function a(e){var t=e[0],i=e[1],r=e[2];return[n(e)[0],1/255*Math.min(t,Math.min(i,r))*100,100*(r=1-1/255*Math.max(t,Math.max(i,r)))]}function o(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]}function s(e){return G[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]}function c(e){var t=l(e),n=t[0],i=t[1],r=t[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function u(e){return j(c(e))}function d(e){var t,n,i,r,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[a=255*l,a,a];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;c<3;c++)(i=o+1/3*-(c-1))<0&&i++,i>1&&i--,a=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[c]=255*a;return r}function h(e){var t=e[0],n=e[1]/100,i=e[2]/100;return 0===i?[0,0,0]:[t,2*(n*=(i*=2)<=1?i:2-i)/(i+n)*100,(i+n)/2*100]}function p(e){return a(d(e))}function f(e){return o(d(e))}function m(e){return s(d(e))}function v(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}}function y(e){var t,n,i=e[0],r=e[1]/100,a=e[2]/100;return t=r*a,[i,100*(t=(t/=(n=(2-r)*a)<=1?n:2-n)||0),100*(n/=2)]}function _(e){return a(v(e))}function w(e){return o(v(e))}function k(e){return s(v(e))}function x(e){var t,n,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),i=6*o-(t=Math.floor(6*o)),0!=(1&t)&&(i=1-i),a=s+i*((n=1-l)-s),t){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function E(e){return n(x(e))}function C(e){return i(x(e))}function S(e){return o(x(e))}function T(e){return s(x(e))}function D(e){var t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function F(e){return n(D(e))}function M(e){return i(D(e))}function A(e){return a(D(e))}function I(e){return s(D(e))}function O(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,t=(t=3.2406*r+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function N(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function P(e){return j(N(e))}function R(e){var t,n,i,r,a=e[0],o=e[1],s=e[2];return a<=8?r=(n=100*a/903.3)/100*7.787+16/116:(n=100*Math.pow((a+16)/116,3),r=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(o/500+r-16/116)/7.787:95.047*Math.pow(o/500+r,3),n,i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function j(e){var t,n=e[0],i=e[1],r=e[2];return(t=360*Math.atan2(r,i)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(i*i+r*r),t]}function L(e){return O(R(e))}function q(e){var t,n=e[0],i=e[1];return t=e[2]/360*2*Math.PI,[n,i*Math.cos(t),i*Math.sin(t)]}function Z(e){return R(q(e))}function B(e){return L(q(e))}function V(e){return K[e]}function z(e){return n(V(e))}function U(e){return i(V(e))}function W(e){return a(V(e))}function H(e){return o(V(e))}function Y(e){return c(V(e))}function $(e){return l(V(e))}var K={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},G={};for(var X in K)G[JSON.stringify(K[X])]=X;var Q=function(){return new ie};for(var J in t){Q[J+"Raw"]=function(e){return function(n){return"number"==typeof n&&(n=Array.prototype.slice.call(arguments)),t[e](n)}}(J);var ee=/(\w+)2(\w+)/.exec(J),te=ee[1],ne=ee[2];Q[te]=Q[te]||{},Q[te][ne]=Q[J]=function(e){return function(n){"number"==typeof n&&(n=Array.prototype.slice.call(arguments));var i=t[e](n);if("string"==typeof i||void 0===i)return i;for(var r=0;r<i.length;r++)i[r]=Math.round(i[r]);return i}}(J)}var ie=function(){this.convs={}};ie.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},ie.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},ie.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=Q[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach((function(e){ie.prototype[e]=function(t){return this.routeSpace(e,arguments)}}));var re=Q,ae={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},oe={getRgba:se,getHsla:le,getRgb:ue,getHsl:de,getHwb:ce,getAlpha:he,hexString:pe,rgbString:fe,rgbaString:me,percentString:ge,percentaString:ve,hslString:ye,hslaString:be,hwbString:_e,keyword:we};function se(e){if(e){var t=/^#([a-fA-F0-9]{3,4})$/i,n=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,a=/(\w+)/,o=[0,0,0],s=1,l=e.match(t),c="";if(l){c=(l=l[1])[3];for(var u=0;u<o.length;u++)o[u]=parseInt(l[u]+l[u],16);c&&(s=Math.round(parseInt(c+c,16)/255*100)/100)}else if(l=e.match(n)){for(c=l[2],l=l[1],u=0;u<o.length;u++)o[u]=parseInt(l.slice(2*u,2*u+2),16);c&&(s=Math.round(parseInt(c,16)/255*100)/100)}else if(l=e.match(i)){for(u=0;u<o.length;u++)o[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=e.match(r)){for(u=0;u<o.length;u++)o[u]=Math.round(2.55*parseFloat(l[u+1]));s=parseFloat(l[4])}else if(l=e.match(a)){if("transparent"==l[1])return[0,0,0,0];if(!(o=ae[l[1]]))return}for(u=0;u<o.length;u++)o[u]=ke(o[u],0,255);return s=s||0==s?ke(s,0,1):1,o[3]=s,o}}function le(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]);return[ke(parseInt(n[1]),0,360),ke(parseFloat(n[2]),0,100),ke(parseFloat(n[3]),0,100),ke(isNaN(i)?1:i,0,1)]}}}function ce(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]);return[ke(parseInt(n[1]),0,360),ke(parseFloat(n[2]),0,100),ke(parseFloat(n[3]),0,100),ke(isNaN(i)?1:i,0,1)]}}}function ue(e){var t=se(e);return t&&t.slice(0,3)}function de(e){var t=le(e);return t&&t.slice(0,3)}function he(e){var t=se(e);return t||(t=le(e))||(t=ce(e))?t[3]:void 0}function pe(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+xe(e[0])+xe(e[1])+xe(e[2])+(t>=0&&t<1?xe(Math.round(255*t)):"")}function fe(e,t){return t<1||e[3]&&e[3]<1?me(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function me(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function ge(e,t){return t<1||e[3]&&e[3]<1?ve(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"}function ve(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function ye(e,t){return t<1||e[3]&&e[3]<1?be(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function be(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function _e(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function we(e){return Ee[e.slice(0,3)]}function ke(e,t,n){return Math.min(Math.max(t,e),n)}function xe(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var Ee={};for(var Ce in ae)Ee[ae[Ce]]=Ce;var Se=function(e){return e instanceof Se?e:this instanceof Se?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=oe.getRgba(e))?this.setValues("rgb",t):(t=oe.getHsla(e))?this.setValues("hsl",t):(t=oe.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new Se(e);var t};Se.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return oe.hexString(this.values.rgb)},rgbString:function(){return oe.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return oe.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return oe.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return oe.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return oe.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return oe.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return oe.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,i=e,r=void 0===t?.5:t,a=2*r-1,o=n.alpha()-i.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new Se,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(e=i[a],"[object Array]"===(t={}.toString.call(e))?r[a]=e.slice(0):"[object Number]"===t?r[a]=e:console.error("unexpected color value:",e));return n}},Se.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Se.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Se.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},Se.prototype.setValues=function(e,t){var n,i,r=this.values,a=this.spaces,o=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)r[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[a[e][0]]){var l=a[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];s=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===e)return!1;for(n=0;n<e.length;n++)i=Math.max(0,Math.min(o[e][n],r[e][n])),r[e][n]=Math.round(i);for(var c in a)c!==e&&(r[c]=re[e][c](r[e]));return!0},Se.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},Se.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:(n===i[t]||(i[t]=n,this.setValues(e,i)),this)},"undefined"!=typeof window&&(window.Color=Se);var Te,De=Se,Fe={noop:function(){},uid:(Te=0,function(){return Te++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return Fe.valueOrDefault(Fe.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var r,a,o;if(Fe.isArray(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<a;r++)t.call(n,e[r],r);else if(Fe.isObject(e))for(a=(o=Object.keys(e)).length,r=0;r<a;r++)t.call(n,e[o[r]],o[r])},arrayEquals:function(e,t){var n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r instanceof Array&&a instanceof Array){if(!Fe.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(e){if(Fe.isArray(e))return e.map(Fe.clone);if(Fe.isObject(e)){for(var t={},n=Object.keys(e),i=n.length,r=0;r<i;++r)t[n[r]]=Fe.clone(e[n[r]]);return t}return e},_merger:function(e,t,n,i){var r=t[e],a=n[e];Fe.isObject(r)&&Fe.isObject(a)?Fe.merge(r,a,i):t[e]=Fe.clone(a)},_mergerIf:function(e,t,n){var i=t[e],r=n[e];Fe.isObject(i)&&Fe.isObject(r)?Fe.mergeIf(i,r):t.hasOwnProperty(e)||(t[e]=Fe.clone(r))},merge:function(e,t,n){var i,r,a,o,s,l=Fe.isArray(t)?t:[t],c=l.length;if(!Fe.isObject(e))return e;for(i=(n=n||{}).merger||Fe._merger,r=0;r<c;++r)if(t=l[r],Fe.isObject(t))for(s=0,o=(a=Object.keys(t)).length;s<o;++s)i(a[s],e,t,n);return e},mergeIf:function(e,t){return Fe.merge(e,t,{merger:Fe._mergerIf})},extend:function(e){for(var t=function(t,n){e[n]=t},n=1,i=arguments.length;n<i;++n)Fe.each(arguments[n],t);return e},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=Fe.inherits,e&&Fe.extend(n.prototype,e),n.__super__=t.prototype,n}},Me=Fe;Fe.callCallback=Fe.callback,Fe.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},Fe.getValueOrDefault=Fe.valueOrDefault,Fe.getValueAtIndexOrDefault=Fe.valueAtIndexOrDefault;var Ae={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-Ae.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*Ae.easeInBounce(2*e):.5*Ae.easeOutBounce(2*e-1)+.5}},Ie={effects:Ae};Me.easingEffects=Ae;var Oe=Math.PI,Ne=Oe/180,Pe=2*Oe,Re=Oe/2,je=Oe/4,Le=2*Oe/3,qe={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,i,r,a){if(a){var o=Math.min(a,r/2,i/2),s=t+o,l=n+o,c=t+i-o,u=n+r-o;e.moveTo(t,l),s<c&&l<u?(e.arc(s,l,o,-Oe,-Re),e.arc(c,l,o,-Re,0),e.arc(c,u,o,0,Re),e.arc(s,u,o,Re,Oe)):s<c?(e.moveTo(s,n),e.arc(c,l,o,-Re,Re),e.arc(s,l,o,Re,Oe+Re)):l<u?(e.arc(s,l,o,-Oe,0),e.arc(s,u,o,0,Oe)):e.arc(s,l,o,-Oe,Oe),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)},drawPoint:function(e,t,n,i,r,a){var o,s,l,c,u,d=(a||0)*Ne;if(!t||"object"!=typeof t||"[object HTMLImageElement]"!==(o=t.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(i,r,n,0,Pe),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=Le,e.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=Le,e.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),e.closePath();break;case"rectRounded":c=n-(u=.516*n),s=Math.cos(d+je)*c,l=Math.sin(d+je)*c,e.arc(i-s,r-l,u,d-Oe,d-Re),e.arc(i+l,r-s,u,d-Re,d),e.arc(i+s,r+l,u,d,d+Re),e.arc(i-l,r+s,u,d+Re,d+Oe),e.closePath();break;case"rect":if(!a){c=Math.SQRT1_2*n,e.rect(i-c,r-c,2*c,2*c);break}d+=je;case"rectRot":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+l,r-s),e.lineTo(i+s,r+l),e.lineTo(i-l,r+s),e.closePath();break;case"crossRot":d+=je;case"cross":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"star":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s),d+=je,s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"line":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l);break;case"dash":e.moveTo(i,r),e.lineTo(i+Math.cos(d)*n,r+Math.sin(d)*n)}e.fill(),e.stroke()}}else e.drawImage(t,i-t.width/2,r-t.height/2,t.width,t.height)},_isPointInArea:function(e,t){var n=1e-6;return e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,i){var r=n.steppedLine;if(r){if("middle"===r){var a=(t.x+n.x)/2;e.lineTo(a,i?n.y:t.y),e.lineTo(a,i?t.y:n.y)}else"after"===r&&!i||"after"!==r&&i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},Ze=qe;Me.clear=qe.clear,Me.drawRoundedRectangle=function(e){e.beginPath(),qe.roundedRect.apply(qe,arguments)};var Be={_set:function(e,t){return Me.merge(this[e]||(this[e]={}),t)}};Be._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Ve=Be,ze=Me.valueOrDefault;function Ue(e){return!e||Me.isNullOrUndef(e.size)||Me.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}var We={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,r;return Me.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,r=+e.left||0):t=n=i=r=+e||0,{top:t,right:n,bottom:i,left:r,height:t+i,width:r+n}},_parseFont:function(e){var t=Ve.global,n=ze(e.fontSize,t.defaultFontSize),i={family:ze(e.fontFamily,t.defaultFontFamily),lineHeight:Me.options.toLineHeight(ze(e.lineHeight,t.defaultLineHeight),n),size:n,style:ze(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return i.string=Ue(i),i},resolve:function(e,t,n){var i,r,a;for(i=0,r=e.length;i<r;++i)if(void 0!==(a=e[i])&&(void 0!==t&&"function"==typeof a&&(a=a(t)),void 0!==n&&Me.isArray(a)&&(a=a[n]),void 0!==a))return a}},He=Me,Ye=Ie,$e=Ze,Ke=We;function Ge(e,t,n,i){var r,a,o,s,l,c,u,d,h,p=Object.keys(n);for(r=0,a=p.length;r<a;++r)if(c=n[o=p[r]],t.hasOwnProperty(o)||(t[o]=c),(s=t[o])!==c&&"_"!==o[0]){if(e.hasOwnProperty(o)||(e[o]=s),(u=typeof c)==typeof(l=e[o]))if("string"===u){if((d=De(l)).valid&&(h=De(c)).valid){t[o]=h.mix(d,i).rgbString();continue}}else if(He.isFinite(l)&&He.isFinite(c)){t[o]=l+(c-l)*i;continue}t[o]=c}}He.easing=Ye,He.canvas=$e,He.options=Ke;var Xe=function(e){He.extend(this,e),this.initialize.apply(this,arguments)};He.extend(Xe.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=He.clone(e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,r=t._view;return n&&1!==e?(r||(r=t._view={}),i||(i=t._start={}),Ge(i,r,n,e),t):(t._view=n,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return He.isNumber(this._model.x)&&He.isNumber(this._model.y)}}),Xe.extend=He.inherits;var Qe=Xe,Je=Qe.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),et=Je;Object.defineProperty(Je.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Je.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),Ve._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:He.noop,onComplete:He.noop}});var tt={animations:[],request:null,addAnimation:function(e,t,n,i){var r,a,o=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,i||(e.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===e)return void(o[r]=t);o.push(t),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=He.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=He.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var e,t,n,i,r=this.animations,a=0;a<r.length;)t=(e=r[a]).chart,n=e.numSteps,i=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(i,n),He.callback(e.render,[t,e],t),He.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(He.callback(e.onAnimationComplete,[e],t),t.animating=!1,r.splice(a,1)):++a}},nt=He.options.resolve,it=["push","pop","shift","splice","unshift"];function rt(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),it.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),r=i.apply(this,t);return He.each(e._chartjs.listeners,(function(e){"function"==typeof e[n]&&e[n].apply(e,t)})),r}})})))}function at(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(it.forEach((function(t){delete e[t]})),delete e._chartjs)}}var ot=function(e,t){this.initialize(e,t)};He.extend(ot.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null!==t.xAxisID&&t.xAxisID in e.chart.scales||(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in e.chart.scales||(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&at(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,i=n.getMeta(),r=n.getDataset().data||[],a=i.data;for(e=0,t=r.length;e<t;++e)a[e]=a[e]||n.createMetaData(e);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,t=e.getDataset(),n=t.data||(t.data=[]);e._data!==n&&(e._data&&at(e._data,e),n&&Object.isExtensible(n)&&rt(n,e),e._data=n),e.resyncElements()},update:He.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,r=0;r<i;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},removeHoverStyle:function(e){He.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model,a=He.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=nt([i.hoverBackgroundColor,t.hoverBackgroundColor,a(r.backgroundColor)],void 0,n),r.borderColor=nt([i.hoverBorderColor,t.hoverBorderColor,a(r.borderColor)],void 0,n),r.borderWidth=nt([i.hoverBorderWidth,t.hoverBorderWidth,r.borderWidth],void 0,n)},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,i=t.data.length,r=n.length;r<i?t.data.splice(r,i-r):r>i&&e.insertElements(i,r-i)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),ot.extend=He.inherits;var st=ot;Ve._set("global",{elements:{arc:{backgroundColor:Ve.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var lt=Qe.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var i=He.getAngleFromPoint(n,{x:e,y:t}),r=i.angle,a=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=2*Math.PI;for(;r>s;)r-=2*Math.PI;for(;r<o;)r+=2*Math.PI;var l=r>=o&&r<=s,c=a>=n.innerRadius&&a<=n.outerRadius;return l&&c}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,i=n.startAngle,r=n.endAngle,a="inner"===n.borderAlign?.33:0;t.save(),t.beginPath(),t.arc(n.x,n.y,Math.max(n.outerRadius-a,0),i,r),t.arc(n.x,n.y,n.innerRadius,r,i,!0),t.closePath(),t.fillStyle=n.backgroundColor,t.fill(),n.borderWidth&&("inner"===n.borderAlign?(t.beginPath(),e=a/n.outerRadius,t.arc(n.x,n.y,n.outerRadius,i-e,r+e),n.innerRadius>a?(e=a/n.innerRadius,t.arc(n.x,n.y,n.innerRadius-a,r+e,i-e,!0)):t.arc(n.x,n.y,a,r+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip(),t.beginPath(),t.arc(n.x,n.y,n.outerRadius,i,r),t.arc(n.x,n.y,n.innerRadius,r,i,!0),t.closePath(),t.lineWidth=2*n.borderWidth,t.lineJoin="round"):(t.lineWidth=n.borderWidth,t.lineJoin="bevel"),t.strokeStyle=n.borderColor,t.stroke()),t.restore()}}),ct=He.valueOrDefault,ut=Ve.global.defaultColor;Ve._set("global",{elements:{line:{tension:.4,backgroundColor:ut,borderWidth:3,borderColor:ut,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var dt=Qe.extend({draw:function(){var e,t,n,i,r=this,a=r._view,o=r._chart.ctx,s=a.spanGaps,l=r._children.slice(),c=Ve.global,u=c.elements.line,d=-1;for(r._loop&&l.length&&l.push(l[0]),o.save(),o.lineCap=a.borderCapStyle||u.borderCapStyle,o.setLineDash&&o.setLineDash(a.borderDash||u.borderDash),o.lineDashOffset=ct(a.borderDashOffset,u.borderDashOffset),o.lineJoin=a.borderJoinStyle||u.borderJoinStyle,o.lineWidth=ct(a.borderWidth,u.borderWidth),o.strokeStyle=a.borderColor||c.defaultColor,o.beginPath(),d=-1,e=0;e<l.length;++e)t=l[e],n=He.previousItem(l,e),i=t._view,0===e?i.skip||(o.moveTo(i.x,i.y),d=e):(n=-1===d?n:l[d],i.skip||(d!==e-1&&!s||-1===d?o.moveTo(i.x,i.y):He.canvas.lineTo(o,n._view,t._view),d=e));o.stroke(),o.restore()}}),ht=He.valueOrDefault,pt=Ve.global.defaultColor;function ft(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}function mt(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius}Ve._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:pt,borderColor:pt,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var gt=Qe.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:ft,inXRange:ft,inYRange:mt,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,i=t.pointStyle,r=t.rotation,a=t.radius,o=t.x,s=t.y,l=Ve.global,c=l.defaultColor;t.skip||(void 0===e||He.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||c,n.lineWidth=ht(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||c,He.canvas.drawPoint(n,i,a,o,s,r))}}),vt=Ve.global.defaultColor;function yt(e){return e&&void 0!==e.width}function bt(e){var t,n,i,r,a;return yt(e)?(a=e.width/2,t=e.x-a,n=e.x+a,i=Math.min(e.y,e.base),r=Math.max(e.y,e.base)):(a=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),i=e.y-a,r=e.y+a),{left:t,top:i,right:n,bottom:r}}function _t(e,t,n){return e===t?n:e===n?t:e}function wt(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=_t(t,"left","right")):e.base<e.y&&(t=_t(t,"bottom","top")),n[t]=!0,n):n}function kt(e,t,n){var i,r,a,o,s=e.borderWidth,l=wt(e);return He.isObject(s)?(i=+s.top||0,r=+s.right||0,a=+s.bottom||0,o=+s.left||0):i=r=a=o=+s||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||r<0?0:r>t?t:r,b:l.bottom||a<0?0:a>n?n:a,l:l.left||o<0?0:o>t?t:o}}function xt(e){var t=bt(e),n=t.right-t.left,i=t.bottom-t.top,r=kt(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}function Et(e,t,n){var i=null===t,r=null===n,a=!(!e||i&&r)&&bt(e);return a&&(i||t>=a.left&&t<=a.right)&&(r||n>=a.top&&n<=a.bottom)}Ve._set("global",{elements:{rectangle:{backgroundColor:vt,borderColor:vt,borderSkipped:"bottom",borderWidth:0}}});var Ct=Qe.extend({draw:function(){var e=this._chart.ctx,t=this._view,n=xt(t),i=n.outer,r=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(i.x,i.y,i.w,i.h),i.w===r.w&&i.h===r.h||(e.save(),e.beginPath(),e.rect(i.x,i.y,i.w,i.h),e.clip(),e.fillStyle=t.borderColor,e.rect(r.x,r.y,r.w,r.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return Et(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return yt(n)?Et(n,e,null):Et(n,null,t)},inXRange:function(e){return Et(this._view,e,null)},inYRange:function(e){return Et(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return yt(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return yt(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),St={},Tt=lt,Dt=dt,Ft=gt,Mt=Ct;St.Arc=Tt,St.Line=Dt,St.Point=Ft,St.Rectangle=Mt;var At=He.options.resolve;function It(e,t){var n,i,r,a,o=e.isHorizontal()?e.width:e.height,s=e.getTicks();for(r=1,a=t.length;r<a;++r)o=Math.min(o,Math.abs(t[r]-t[r-1]));for(r=0,a=s.length;r<a;++r)i=e.getPixelForTick(r),o=r>0?Math.min(o,i-n):o,n=i;return o}function Ot(e,t,n){var i,r,a=n.barThickness,o=t.stackCount,s=t.pixels[e];return He.isNullOrUndef(a)?(i=t.min*n.categoryPercentage,r=n.barPercentage):(i=a*o,r=1),{chunk:i/o,ratio:r,start:s-i/2}}function Nt(e,t,n){var i,r=t.pixels,a=r[e],o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null,l=n.categoryPercentage;return null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o),i=a-(a-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/t.stackCount,ratio:n.barPercentage,start:i}}Ve._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var Pt=st.extend({dataElementType:St.Rectangle,initialize:function(){var e,t=this;st.prototype.initialize.apply(t,arguments),(e=t.getMeta()).stack=t.getDataset().stack,e.bar=!0},update:function(e){var t,n,i=this,r=i.getMeta().data;for(i._ruler=i.getRuler(),t=0,n=r.length;t<n;++t)i.updateElement(r[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.getMeta(),a=i.getDataset(),o=i._resolveElementOptions(e,t);e._xScale=i.getScaleForId(r.xAxisID),e._yScale=i.getScaleForId(r.yAxisID),e._datasetIndex=i.index,e._index=t,e._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:a.label,label:i.chart.data.labels[t]},i._updateElementGeometry(e,t,n),e.pivot()},_updateElementGeometry:function(e,t,n){var i=this,r=e._model,a=i._getValueScale(),o=a.getBasePixel(),s=a.isHorizontal(),l=i._ruler||i.getRuler(),c=i.calculateBarValuePixels(i.index,t),u=i.calculateBarIndexPixels(i.index,t,l);r.horizontal=s,r.base=n?o:c.base,r.x=s?n?o:c.head:u.center,r.y=s?u.center:n?o:c.head,r.height=s?u.size:void 0,r.width=s?void 0:u.size},_getStacks:function(e){var t,n,i=this,r=i.chart,a=i._getIndexScale().options.stacked,o=void 0===e?r.data.datasets.length:e+1,s=[];for(t=0;t<o;++t)(n=r.getDatasetMeta(t)).bar&&r.isDatasetVisible(t)&&(!1===a||!0===a&&-1===s.indexOf(n.stack)||void 0===a&&(void 0===n.stack||-1===s.indexOf(n.stack)))&&s.push(n.stack);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),i=void 0!==t?n.indexOf(t):-1;return-1===i?n.length-1:i},getRuler:function(){var e,t,n=this,i=n._getIndexScale(),r=n.getStackCount(),a=n.index,o=i.isHorizontal(),s=o?i.left:i.top,l=s+(o?i.width:i.height),c=[];for(e=0,t=n.getMeta().data.length;e<t;++e)c.push(i.getPixelForValue(null,e,a));return{min:He.isNullOrUndef(i.options.barThickness)?It(i,c):-1,pixels:c,start:s,end:l,stackCount:r,scale:i}},calculateBarValuePixels:function(e,t){var n,i,r,a,o,s,l=this,c=l.chart,u=l.getMeta(),d=l._getValueScale(),h=d.isHorizontal(),p=c.data.datasets,f=+d.getRightValue(p[e].data[t]),m=d.options.minBarLength,g=d.options.stacked,v=u.stack,y=0;if(g||void 0===g&&void 0!==v)for(n=0;n<e;++n)(i=c.getDatasetMeta(n)).bar&&i.stack===v&&i.controller._getValueScaleId()===d.id&&c.isDatasetVisible(n)&&(r=+d.getRightValue(p[n].data[t]),(f<0&&r<0||f>=0&&r>0)&&(y+=r));return a=d.getPixelForValue(y),s=(o=d.getPixelForValue(y+f))-a,void 0!==m&&Math.abs(s)<m&&(s=m,o=f>=0&&!h||f<0&&h?a-m:a+m),{size:s,base:a,head:o,center:o+s/2}},calculateBarIndexPixels:function(e,t,n){var i=this,r=n.scale.options,a="flex"===r.barThickness?Nt(t,n,r):Ot(t,n,r),o=i.getStackIndex(e,i.getMeta().stack),s=a.start+a.chunk*o+a.chunk/2,l=Math.min(He.valueOrDefault(r.maxBarThickness,1/0),a.chunk*a.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}},draw:function(){var e=this,t=e.chart,n=e._getValueScale(),i=e.getMeta().data,r=e.getDataset(),a=i.length,o=0;for(He.canvas.clipArea(t.ctx,t.chartArea);o<a;++o)isNaN(n.getRightValue(r.data[o]))||i[o].draw();He.canvas.unclipArea(t.ctx)},_resolveElementOptions:function(e,t){var n,i,r,a=this,o=a.chart,s=o.data.datasets[a.index],l=e.custom||{},c=o.options.elements.rectangle,u={},d={chart:o,dataIndex:t,dataset:s,datasetIndex:a.index},h=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(n=0,i=h.length;n<i;++n)u[r=h[n]]=At([l[r],s[r],c[r]],d,t);return u}}),Rt=He.valueOrDefault,jt=He.options.resolve;Ve._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+i.r+")"}}}});var Lt=st.extend({dataElementType:St.Point,update:function(e){var t=this,n=t.getMeta().data;He.each(n,(function(n,i){t.updateElement(n,i,e)}))},updateElement:function(e,t,n){var i=this,r=i.getMeta(),a=e.custom||{},o=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveElementOptions(e,t),c=i.getDataset().data[t],u=i.index,d=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof c?c:NaN,t,u),h=n?s.getBasePixel():s.getPixelForValue(c,t,u);e._xScale=o,e._yScale=s,e._options=l,e._datasetIndex=u,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:a.skip||isNaN(d)||isNaN(h),x:d,y:h},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,i=He.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Rt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Rt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Rt(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveElementOptions:function(e,t){var n,i,r,a=this,o=a.chart,s=o.data.datasets[a.index],l=e.custom||{},c=o.options.elements.point,u=s.data[t],d={},h={chart:o,dataIndex:t,dataset:s,datasetIndex:a.index},p=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(n=0,i=p.length;n<i;++n)d[r=p[n]]=jt([l[r],s[r],c[r]],h,t);return d.radius=jt([l.radius,u?u.r:void 0,s.radius,c.radius],h,t),d}}),qt=He.options.resolve,Zt=He.valueOrDefault;Ve._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)t.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&t.push(r[a]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,i){var r=e.getDatasetMeta(0),a=t.datasets[0],o=r.data[i],s=o&&o.custom||{},l=e.options.elements.arc;return{text:n,fillStyle:qt([s.backgroundColor,a.backgroundColor,l.backgroundColor],void 0,i),strokeStyle:qt([s.borderColor,a.borderColor,l.borderColor],void 0,i),lineWidth:qt([s.borderWidth,a.borderWidth,l.borderWidth],void 0,i),hidden:isNaN(a.data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],i=": "+t.datasets[e.datasetIndex].data[e.index];return He.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Bt=st.extend({dataElementType:St.Arc,linkScales:He.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,i=this,r=i.chart,a=r.chartArea,o=r.options,s=a.right-a.left,l=a.bottom-a.top,c=Math.min(s,l),u={x:0,y:0},d=i.getMeta(),h=d.data,p=o.cutoutPercentage,f=o.circumference,m=i._getRingWeight(i.index);if(f<2*Math.PI){var g=o.rotation%(2*Math.PI),v=(g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0))+f,y={x:Math.cos(g),y:Math.sin(g)},b={x:Math.cos(v),y:Math.sin(v)},_=g<=0&&v>=0||g<=2*Math.PI&&2*Math.PI<=v,w=g<=.5*Math.PI&&.5*Math.PI<=v||g<=2.5*Math.PI&&2.5*Math.PI<=v,k=g<=-Math.PI&&-Math.PI<=v||g<=Math.PI&&Math.PI<=v,x=g<=.5*-Math.PI&&.5*-Math.PI<=v||g<=1.5*Math.PI&&1.5*Math.PI<=v,E=p/100,C={x:k?-1:Math.min(y.x*(y.x<0?1:E),b.x*(b.x<0?1:E)),y:x?-1:Math.min(y.y*(y.y<0?1:E),b.y*(b.y<0?1:E))},S={x:_?1:Math.max(y.x*(y.x>0?1:E),b.x*(b.x>0?1:E)),y:w?1:Math.max(y.y*(y.y>0?1:E),b.y*(b.y>0?1:E))},T={width:.5*(S.x-C.x),height:.5*(S.y-C.y)};c=Math.min(s/T.width,l/T.height),u={x:-.5*(S.x+C.x),y:-.5*(S.y+C.y)}}for(t=0,n=h.length;t<n;++t)h[t]._options=i._resolveElementOptions(h[t],t);for(r.borderWidth=i.getMaxBorderWidth(),r.outerRadius=Math.max((c-r.borderWidth)/2,0),r.innerRadius=Math.max(p?r.outerRadius/100*p:0,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),r.offsetX=u.x*r.outerRadius,r.offsetY=u.y*r.outerRadius,d.total=i.calculateTotal(),i.outerRadius=r.outerRadius-r.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-r.radiusLength*m,0),t=0,n=h.length;t<n;++t)i.updateElement(h[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.chart,a=r.chartArea,o=r.options,s=o.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=o.rotation,d=o.rotation,h=i.getDataset(),p=n&&s.animateRotate||e.hidden?0:i.calculateCircumference(h.data[t])*(o.circumference/(2*Math.PI)),f=n&&s.animateScale?0:i.innerRadius,m=n&&s.animateScale?0:i.outerRadius,g=e._options||{};He.extend(e,{_datasetIndex:i.index,_index:t,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:u,endAngle:d,circumference:p,outerRadius:m,innerRadius:f,label:He.valueAtIndexOrDefault(h.label,t,r.data.labels[t])}});var v=e._model;n&&s.animateRotate||(v.startAngle=0===t?o.rotation:i.getMeta().data[t-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),i=0;return He.each(n.data,(function(n,r){e=t.data[r],isNaN(e)||n.hidden||(i+=Math.abs(e))})),i},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,i,r,a,o,s,l,c=this,u=0,d=c.chart;if(!e)for(t=0,n=d.data.datasets.length;t<n;++t)if(d.isDatasetVisible(t)){e=(i=d.getDatasetMeta(t)).data,t!==c.index&&(a=i.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],"inner"!==(o=a?a._resolveElementOptions(r,t):r._options).borderAlign&&(s=o.borderWidth,u=(l=o.hoverBorderWidth)>(u=s>u?s:u)?l:u);return u},setHoverStyle:function(e){var t=e._model,n=e._options,i=He.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Zt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Zt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Zt(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(e,t){var n,i,r,a=this,o=a.chart,s=a.getDataset(),l=e.custom||{},c=o.options.elements.arc,u={},d={chart:o,dataIndex:t,dataset:s,datasetIndex:a.index},h=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,i=h.length;n<i;++n)u[r=h[n]]=qt([l[r],s[r],c[r]],d,t);return u},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(Zt(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Ve._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var Vt=Pt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),zt=He.valueOrDefault,Ut=He.options.resolve,Wt=He.canvas._isPointInArea;function Ht(e,t){return zt(e.showLine,t.showLines)}Ve._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Yt=st.extend({datasetElementType:St.Line,dataElementType:St.Point,update:function(e){var t,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.getScaleForId(r.yAxisID),l=i.getDataset(),c=Ht(l,i.chart.options);for(c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._model=i._resolveLineOptions(a),a.pivot()),t=0,n=o.length;t<n;++t)i.updateElement(o[t],t,e);for(c&&0!==a._model.tension&&i.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var i,r,a=this,o=a.getMeta(),s=e.custom||{},l=a.getDataset(),c=a.index,u=l.data[t],d=a.getScaleForId(o.yAxisID),h=a.getScaleForId(o.xAxisID),p=o.dataset._model,f=a._resolvePointOptions(e,t);i=h.getPixelForValue("object"==typeof u?u:NaN,t,c),r=n?d.getBasePixel():a.calculatePointY(u,t,c),e._xScale=h,e._yScale=d,e._options=f,e._datasetIndex=c,e._index=t,e._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:zt(s.tension,p?p.tension:0),steppedLine:!!p&&p.steppedLine,hitRadius:f.hitRadius}},_resolvePointOptions:function(e,t){var n,i,r,a=this,o=a.chart,s=o.data.datasets[a.index],l=e.custom||{},c=o.options.elements.point,u={},d={chart:o,dataIndex:t,dataset:s,datasetIndex:a.index},h={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},p=Object.keys(h);for(n=0,i=p.length;n<i;++n)u[r=p[n]]=Ut([l[r],s[h[r]],s[r],c[r]],d,t);return u},_resolveLineOptions:function(e){var t,n,i,r=this,a=r.chart,o=a.data.datasets[r.index],s=e.custom||{},l=a.options,c=l.elements.line,u={},d=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(t=0,n=d.length;t<n;++t)u[i=d[t]]=Ut([s[i],o[i],c[i]]);return u.spanGaps=zt(o.spanGaps,l.spanGaps),u.tension=zt(o.lineTension,c.tension),u.steppedLine=Ut([s.steppedLine,o.steppedLine,c.stepped]),u},calculatePointY:function(e,t,n){var i,r,a,o=this,s=o.chart,l=o.getMeta(),c=o.getScaleForId(l.yAxisID),u=0,d=0;if(c.options.stacked){for(i=0;i<n;i++)if(r=s.data.datasets[i],"line"===(a=s.getDatasetMeta(i)).type&&a.yAxisID===c.id&&s.isDatasetVisible(i)){var h=Number(c.getRightValue(r.data[t]));h<0?d+=h||0:u+=h||0}var p=Number(c.getRightValue(e));return p<0?c.getPixelForValue(d+p):c.getPixelForValue(u+p)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,i,r=this,a=r.chart,o=r.getMeta(),s=o.dataset._model,l=a.chartArea,c=o.data||[];function u(e,t,n){return Math.max(Math.min(e,n),t)}if(s.spanGaps&&(c=c.filter((function(e){return!e._model.skip}))),"monotone"===s.cubicInterpolationMode)He.splineCurveMonotone(c);else for(e=0,t=c.length;e<t;++e)n=c[e]._model,i=He.splineCurve(He.previousItem(c,e)._model,n,He.nextItem(c,e)._model,s.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(a.options.elements.line.capBezierPoints)for(e=0,t=c.length;e<t;++e)n=c[e]._model,Wt(n,l)&&(e>0&&Wt(c[e-1]._model,l)&&(n.controlPointPreviousX=u(n.controlPointPreviousX,l.left,l.right),n.controlPointPreviousY=u(n.controlPointPreviousY,l.top,l.bottom)),e<c.length-1&&Wt(c[e+1]._model,l)&&(n.controlPointNextX=u(n.controlPointNextX,l.left,l.right),n.controlPointNextY=u(n.controlPointNextY,l.top,l.bottom)))},draw:function(){var e,t=this,n=t.chart,i=t.getMeta(),r=i.data||[],a=n.chartArea,o=r.length,s=0;for(Ht(t.getDataset(),n.options)&&(e=(i.dataset._model.borderWidth||0)/2,He.canvas.clipArea(n.ctx,{left:a.left,right:a.right,top:a.top-e,bottom:a.bottom+e}),i.dataset.draw(),He.canvas.unclipArea(n.ctx));s<o;++s)r[s].draw(a)},setHoverStyle:function(e){var t=e._model,n=e._options,i=He.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=zt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=zt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=zt(n.hoverBorderWidth,n.borderWidth),t.radius=zt(n.hoverRadius,n.radius)}}),$t=He.options.resolve;Ve._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)t.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&t.push(r[a]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,i){var r=e.getDatasetMeta(0),a=t.datasets[0],o=r.data[i].custom||{},s=e.options.elements.arc;return{text:n,fillStyle:$t([o.backgroundColor,a.backgroundColor,s.backgroundColor],void 0,i),strokeStyle:$t([o.borderColor,a.borderColor,s.borderColor],void 0,i),lineWidth:$t([o.borderWidth,a.borderWidth,s.borderWidth],void 0,i),hidden:isNaN(a.data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var Kt=st.extend({dataElementType:St.Arc,linkScales:He.noop,update:function(e){var t,n,i,r=this,a=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],u=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),t=0,n=a.data.length;t<n;t++)l[t]=s,i=r._computeAngle(t),c[t]=i,s+=i;for(t=0,n=u.length;t<n;++t)u[t]._options=r._resolveElementOptions(u[t],t),r.updateElement(u[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(r/2,0),t.innerRadius=Math.max(i.cutoutPercentage?t.outerRadius/100*i.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var i=this,r=i.chart,a=i.getDataset(),o=r.options,s=o.animation,l=r.scale,c=r.data.labels,u=l.xCenter,d=l.yCenter,h=o.startAngle,p=e.hidden?0:l.getDistanceFromCenterForValue(a.data[t]),f=i._starts[t],m=f+(e.hidden?0:i._angles[t]),g=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[t]),v=e._options||{};He.extend(e,{_datasetIndex:i.index,_index:t,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:u,y:d,innerRadius:0,outerRadius:n?g:p,startAngle:n&&s.animateRotate?h:f,endAngle:n&&s.animateRotate?h:m,label:He.valueAtIndexOrDefault(c,t,c[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return He.each(t.data,(function(t,i){isNaN(e.data[i])||t.hidden||n++})),n},setHoverStyle:function(e){var t=e._model,n=e._options,i=He.getHoverColor,r=He.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=r(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(e,t){var n,i,r,a=this,o=a.chart,s=a.getDataset(),l=e.custom||{},c=o.options.elements.arc,u={},d={chart:o,dataIndex:t,dataset:s,datasetIndex:a.index},h=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,i=h.length;n<i;++n)u[r=h[n]]=$t([l[r],s[r],c[r]],d,t);return u},_computeAngle:function(e){var t=this,n=this.getMeta().count,i=t.getDataset(),r=t.getMeta();if(isNaN(i.data[e])||r.data[e].hidden)return 0;var a={chart:t.chart,dataIndex:e,dataset:i,datasetIndex:t.index};return $t([t.chart.options.elements.arc.angle,2*Math.PI/n],a,e)}});Ve._set("pie",He.clone(Ve.doughnut)),Ve._set("pie",{cutoutPercentage:0});var Gt=Bt,Xt=He.valueOrDefault,Qt=He.options.resolve;Ve._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var Jt=st.extend({datasetElementType:St.Line,dataElementType:St.Point,linkScales:He.noop,update:function(e){var t,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.chart.scale,l=i.getDataset();for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._loop=!0,a._model=i._resolveLineOptions(a),a.pivot(),t=0,n=o.length;t<n;++t)i.updateElement(o[t],t,e);for(i.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var i=this,r=e.custom||{},a=i.getDataset(),o=i.chart.scale,s=o.getPointPositionForValue(t,a.data[t]),l=i._resolvePointOptions(e,t),c=i.getMeta().dataset._model,u=n?o.xCenter:s.x,d=n?o.yCenter:s.y;e._scale=o,e._options=l,e._datasetIndex=i.index,e._index=t,e._model={x:u,y:d,skip:r.skip||isNaN(u)||isNaN(d),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Xt(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolvePointOptions:function(e,t){var n,i,r,a=this,o=a.chart,s=o.data.datasets[a.index],l=e.custom||{},c=o.options.elements.point,u={},d={chart:o,dataIndex:t,dataset:s,datasetIndex:a.index},h={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},p=Object.keys(h);for(n=0,i=p.length;n<i;++n)u[r=p[n]]=Qt([l[r],s[h[r]],s[r],c[r]],d,t);return u},_resolveLineOptions:function(e){var t,n,i,r=this,a=r.chart,o=a.data.datasets[r.index],s=e.custom||{},l=a.options.elements.line,c={},u=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(t=0,n=u.length;t<n;++t)c[i=u[t]]=Qt([s[i],o[i],l[i]]);return c.tension=Xt(o.lineTension,l.tension),c},updateBezierControlPoints:function(){var e,t,n,i,r=this,a=r.getMeta(),o=r.chart.chartArea,s=a.data||[];function l(e,t,n){return Math.max(Math.min(e,n),t)}for(e=0,t=s.length;e<t;++e)n=s[e]._model,i=He.splineCurve(He.previousItem(s,e,!0)._model,n,He.nextItem(s,e,!0)._model,n.tension),n.controlPointPreviousX=l(i.previous.x,o.left,o.right),n.controlPointPreviousY=l(i.previous.y,o.top,o.bottom),n.controlPointNextX=l(i.next.x,o.left,o.right),n.controlPointNextY=l(i.next.y,o.top,o.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,i=He.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Xt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Xt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Xt(n.hoverBorderWidth,n.borderWidth),t.radius=Xt(n.hoverRadius,n.radius)}});Ve._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}});var en={bar:Pt,bubble:Lt,doughnut:Bt,horizontalBar:Vt,line:Yt,polarArea:Kt,pie:Gt,radar:Jt,scatter:Yt};function tn(e,t){return e.native?{x:e.x,y:e.y}:He.getRelativePosition(e,t)}function nn(e,t){var n,i,r,a,o;for(i=0,a=e.data.datasets.length;i<a;++i)if(e.isDatasetVisible(i))for(r=0,o=(n=e.getDatasetMeta(i)).data.length;r<o;++r){var s=n.data[r];s._view.skip||t(s)}}function rn(e,t){var n=[];return nn(e,(function(e){e.inRange(t.x,t.y)&&n.push(e)})),n}function an(e,t,n,i){var r=Number.POSITIVE_INFINITY,a=[];return nn(e,(function(e){if(!n||e.inRange(t.x,t.y)){var o=e.getCenterPoint(),s=i(t,o);s<r?(a=[e],r=s):s===r&&a.push(e)}})),a}function on(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){var r=t?Math.abs(e.x-i.x):0,a=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function sn(e,t,n){var i=tn(t,e);n.axis=n.axis||"x";var r=on(n.axis),a=n.intersect?rn(e,i):an(e,i,!1,r),o=[];return a.length?(e.data.datasets.forEach((function(t,n){if(e.isDatasetVisible(n)){var i=e.getDatasetMeta(n).data[a[0]._index];i&&!i._view.skip&&o.push(i)}})),o):[]}var ln={modes:{single:function(e,t){var n=tn(t,e),i=[];return nn(e,(function(e){if(e.inRange(n.x,n.y))return i.push(e),i})),i.slice(0,1)},label:sn,index:sn,dataset:function(e,t,n){var i=tn(t,e);n.axis=n.axis||"xy";var r=on(n.axis),a=n.intersect?rn(e,i):an(e,i,!1,r);return a.length>0&&(a=e.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(e,t){return sn(e,t,{intersect:!1})},point:function(e,t){return rn(e,tn(t,e))},nearest:function(e,t,n){var i=tn(t,e);n.axis=n.axis||"xy";var r=on(n.axis);return an(e,i,n.intersect,r)},x:function(e,t,n){var i=tn(t,e),r=[],a=!1;return nn(e,(function(e){e.inXRange(i.x)&&r.push(e),e.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r},y:function(e,t,n){var i=tn(t,e),r=[],a=!1;return nn(e,(function(e){e.inYRange(i.y)&&r.push(e),e.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r}}};function cn(e,t){return He.where(e,(function(e){return e.position===t}))}function un(e,t){e.forEach((function(e,t){return e._tmpIndex_=t,e})),e.sort((function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i._tmpIndex_-r._tmpIndex_:i.weight-r.weight})),e.forEach((function(e){delete e._tmpIndex_}))}function dn(e){var t=0,n=0,i=0,r=0;return He.each(e,(function(e){if(e.getPadding){var a=e.getPadding();t=Math.max(t,a.top),n=Math.max(n,a.left),i=Math.max(i,a.bottom),r=Math.max(r,a.right)}})),{top:t,left:n,bottom:i,right:r}}function hn(e,t){He.each(e,(function(e){t[e.position]+=e.isHorizontal()?e.height:e.width}))}Ve._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var pn={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,r=["fullWidth","position","weight"],a=r.length,o=0;o<a;++o)i=r[o],n.hasOwnProperty(i)&&(t[i]=n[i])},update:function(e,t,n){if(e){var i=e.options.layout||{},r=He.options.toPadding(i.padding),a=r.left,o=r.right,s=r.top,l=r.bottom,c=cn(e.boxes,"left"),u=cn(e.boxes,"right"),d=cn(e.boxes,"top"),h=cn(e.boxes,"bottom"),p=cn(e.boxes,"chartArea");un(c,!0),un(u,!1),un(d,!0),un(h,!1);var f,m=c.concat(u),g=d.concat(h),v=m.concat(g),y=t-a-o,b=n-s-l,_=(t-y/2)/m.length,w=y,k=b,x={top:s,left:a,bottom:l,right:o},E=[];He.each(v,A),f=dn(v),He.each(m,I),hn(m,x),He.each(g,I),hn(g,x),He.each(m,O),hn(v,x={top:s,left:a,bottom:l,right:o});var C=Math.max(f.left-x.left,0);x.left+=C,x.right+=Math.max(f.right-x.right,0);var S=Math.max(f.top-x.top,0);x.top+=S,x.bottom+=Math.max(f.bottom-x.bottom,0);var T=n-x.top-x.bottom,D=t-x.left-x.right;D===w&&T===k||(He.each(m,(function(e){e.height=T})),He.each(g,(function(e){e.fullWidth||(e.width=D)})),k=T,w=D);var F=a+C,M=s+S;He.each(c.concat(d),N),F+=w,M+=k,He.each(u,N),He.each(h,N),e.chartArea={left:x.left,top:x.top,right:x.left+w,bottom:x.top+k},He.each(p,(function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(w,k)}))}function A(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?y:w,b/2),k-=t.height):(t=e.update(_,k),w-=t.width),E.push({horizontal:n,width:t.width,box:e})}function I(e){var t=He.findNextWhere(E,(function(t){return t.box===e}));if(t)if(t.horizontal){var n={left:Math.max(x.left,f.left),right:Math.max(x.right,f.right),top:0,bottom:0};e.update(e.fullWidth?y:w,b/2,n)}else e.update(t.width,k)}function O(e){var t=He.findNextWhere(E,(function(t){return t.box===e})),n={left:0,right:0,top:x.top,bottom:x.bottom};t&&e.update(t.width,k,n)}function N(e){e.isHorizontal()?(e.left=e.fullWidth?a:x.left,e.right=e.fullWidth?t-o:x.left+w,e.top=M,e.bottom=M+e.height,M=e.bottom):(e.left=F,e.right=F+e.width,e.top=x.top,e.bottom=x.top+k,F=e.right)}}},fn={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},mn="/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n";function gn(e){return e&&e.default||e}var vn=gn(Object.freeze({default:mn})),yn="$chartjs",bn="chartjs-",_n=bn+"size-monitor",wn=bn+"render-monitor",kn=bn+"render-animation",xn=["animationstart","webkitAnimationStart"],En={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Cn(e,t){var n=He.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function Sn(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[yn]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=Cn(e,"width");void 0!==a&&(e.width=a)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var o=Cn(e,"height");void 0!==a&&(e.height=o)}return e}var Tn=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}(),Dn=!!Tn&&{passive:!0};function Fn(e,t,n){e.addEventListener(t,n,Dn)}function Mn(e,t,n){e.removeEventListener(t,n,Dn)}function An(e,t,n,i,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function In(e,t){var n=En[e.type]||e.type,i=He.getRelativePosition(e,t);return An(n,t,i.x,i.y,e)}function On(e,t){var n=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,He.requestAnimFrame.call(window,(function(){n=!1,e.apply(t,i)})))}}function Nn(e){var t=document.createElement("div");return t.className=e||"",t}function Pn(e){var t=1e6,n=Nn(_n),i=Nn(_n+"-expand"),r=Nn(_n+"-shrink");i.appendChild(Nn()),r.appendChild(Nn()),n.appendChild(i),n.appendChild(r),n._reset=function(){i.scrollLeft=t,i.scrollTop=t,r.scrollLeft=t,r.scrollTop=t};var a=function(){n._reset(),e()};return Fn(i,"scroll",a.bind(i,"expand")),Fn(r,"scroll",a.bind(r,"shrink")),n}function Rn(e,t){var n=e[yn]||(e[yn]={}),i=n.renderProxy=function(e){e.animationName===kn&&t()};He.each(xn,(function(t){Fn(e,t,i)})),n.reflow=!!e.offsetParent,e.classList.add(wn)}function jn(e){var t=e[yn]||{},n=t.renderProxy;n&&(He.each(xn,(function(t){Mn(e,t,n)})),delete t.renderProxy),e.classList.remove(wn)}function Ln(e,t,n){var i=e[yn]||(e[yn]={}),r=i.resizer=Pn(On((function(){if(i.resizer){var r=n.options.maintainAspectRatio&&e.parentNode,a=r?r.clientWidth:0;t(An("resize",n)),r&&r.clientWidth<a&&n.canvas&&t(An("resize",n))}})));Rn(e,(function(){if(i.resizer){var t=e.parentNode;t&&t!==r.parentNode&&t.insertBefore(r,t.firstChild),r._reset()}}))}function qn(e){var t=e[yn]||{},n=t.resizer;delete t.resizer,jn(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function Zn(e,t){var n=e._style||document.createElement("style");e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))}var Bn={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){this._loaded||(this._loaded=!0,this.disableCSSInjection||Zn(this,vn))},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return this._ensureLoaded(),n&&n.canvas===e?(Sn(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[yn]){var n=t[yn].initial;["height","width"].forEach((function(e){var i=n[e];He.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)})),He.each(n.style||{},(function(e,n){t.style[n]=e})),t.width=t.width,delete t[yn]}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=n[yn]||(n[yn]={});Fn(i,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(In(t,e))})}else Ln(i,n,e)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=((n[yn]||{}).proxies||{})[e.id+"_"+t];r&&Mn(i,t,r)}else qn(i)}};He.addEvent=Fn,He.removeEvent=Mn;var Vn=Bn._enabled?Bn:fn,zn=He.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Vn);Ve._set("global",{plugins:{}});var Un={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,a,o,s,l=this.descriptors(e),c=l.length;for(i=0;i<c;++i)if("function"==typeof(s=(a=(r=l[i]).plugin)[t])&&((o=[e].concat(n||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],i=[],r=e&&e.config||{},a=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,r=a[t];!1!==r&&(!0===r&&(r=He.clone(Ve.global.plugins[t])),n.push(e),i.push({plugin:e,options:r||{}}))}})),t.descriptors=i,t.id=this._cacheId,i},_invalidate:function(e){delete e.$plugins}},Wn={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=He.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?He.merge({},[Ve.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=He.extend(n.defaults[e],t))},addScalesToLayout:function(e){He.each(e.scales,(function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,pn.addBox(e,t)}))}},Hn=He.valueOrDefault;Ve._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:He.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(e.length>0){var a=e[0];a.label?n=a.label:a.xLabel?n=a.xLabel:r>0&&a.index<r&&(n=i[a.index])}return n},afterTitle:He.noop,beforeBody:He.noop,beforeLabel:He.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),He.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:He.noop,afterBody:He.noop,beforeFooter:He.noop,footer:He.noop,afterFooter:He.noop}}});var Yn={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,r+=s.y,++a}}return{x:i/a,y:r/a}},nearest:function(e,t){var n,i,r,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var l=e[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),u=He.distanceBetweenPoints(t,c);u<s&&(s=u,r=l)}}if(r){var d=r.tooltipPosition();a=d.x,o=d.y}return{x:a,y:o}}};function $n(e,t){return t&&(He.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Kn(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Gn(e){var t=e._xScale,n=e._yScale||e._scale,i=e._index,r=e._datasetIndex,a=e._chart.getDatasetMeta(r).controller,o=a._getIndexScale(),s=a._getValueScale();return{xLabel:t?t.getLabelForIndex(i,r):"",yLabel:n?n.getLabelForIndex(i,r):"",label:o?""+o.getLabelForIndex(i,r):"",value:s?""+s.getLabelForIndex(i,r):"",index:i,datasetIndex:r,x:e._model.x,y:e._model.y}}function Xn(e){var t=Ve.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Hn(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:Hn(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Hn(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Hn(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:Hn(e.titleFontStyle,t.defaultFontStyle),titleFontSize:Hn(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Hn(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:Hn(e.footerFontStyle,t.defaultFontStyle),footerFontSize:Hn(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Qn(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,a=t.body,o=a.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);o+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,l=t.footer.length,c=t.titleFontSize,u=t.bodyFontSize,d=t.footerFontSize;i+=s*c,i+=s?(s-1)*t.titleSpacing:0,i+=s?t.titleMarginBottom:0,i+=o*u,i+=o?(o-1)*t.bodySpacing:0,i+=l?t.footerMarginTop:0,i+=l*d,i+=l?(l-1)*t.footerSpacing:0;var h=0,p=function(e){r=Math.max(r,n.measureText(e).width+h)};return n.font=He.fontString(c,t._titleFontStyle,t._titleFontFamily),He.each(t.title,p),n.font=He.fontString(u,t._bodyFontStyle,t._bodyFontFamily),He.each(t.beforeBody.concat(t.afterBody),p),h=t.displayColors?u+2:0,He.each(a,(function(e){He.each(e.before,p),He.each(e.lines,p),He.each(e.after,p)})),h=0,n.font=He.fontString(d,t._footerFontStyle,t._footerFontFamily),He.each(t.footer,p),{width:r+=2*t.xPadding,height:i}}function Jn(e,t){var n,i,r,a,o,s=e._model,l=e._chart,c=e._chart.chartArea,u="center",d="center";s.y<t.height?d="top":s.y>l.height-t.height&&(d="bottom");var h=(c.left+c.right)/2,p=(c.top+c.bottom)/2;"center"===d?(n=function(e){return e<=h},i=function(e){return e>h}):(n=function(e){return e<=t.width/2},i=function(e){return e>=l.width-t.width/2}),r=function(e){return e+t.width+s.caretSize+s.caretPadding>l.width},a=function(e){return e-t.width-s.caretSize-s.caretPadding<0},o=function(e){return e<=p?"top":"bottom"},n(s.x)?(u="left",r(s.x)&&(u="center",d=o(s.y))):i(s.x)&&(u="right",a(s.x)&&(u="center",d=o(s.y)));var f=e._options;return{xAlign:f.xAlign?f.xAlign:u,yAlign:f.yAlign?f.yAlign:d}}function ei(e,t,n,i){var r=e.x,a=e.y,o=e.caretSize,s=e.caretPadding,l=e.cornerRadius,c=n.xAlign,u=n.yAlign,d=o+s,h=l+s;return"right"===c?r-=t.width:"center"===c&&((r-=t.width/2)+t.width>i.width&&(r=i.width-t.width),r<0&&(r=0)),"top"===u?a+=d:a-="bottom"===u?t.height+d:t.height/2,"center"===u?"left"===c?r+=d:"right"===c&&(r-=d):"left"===c?r-=h:"right"===c&&(r+=h),{x:r,y:a}}function ti(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function ni(e){return $n([],Kn(e))}var ii=Qe.extend({initialize:function(){this._model=Xn(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options.callbacks,n=t.beforeTitle.apply(e,arguments),i=t.title.apply(e,arguments),r=t.afterTitle.apply(e,arguments),a=[];return a=$n(a,Kn(n)),a=$n(a,Kn(i)),a=$n(a,Kn(r))},getBeforeBody:function(){return ni(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,i=n._options.callbacks,r=[];return He.each(e,(function(e){var a={before:[],lines:[],after:[]};$n(a.before,Kn(i.beforeLabel.call(n,e,t))),$n(a.lines,i.label.call(n,e,t)),$n(a.after,Kn(i.afterLabel.call(n,e,t))),r.push(a)})),r},getAfterBody:function(){return ni(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),i=t.footer.apply(e,arguments),r=t.afterFooter.apply(e,arguments),a=[];return a=$n(a,Kn(n)),a=$n(a,Kn(i)),a=$n(a,Kn(r))},update:function(e){var t,n,i=this,r=i._options,a=i._model,o=i._model=Xn(r),s=i._active,l=i._data,c={xAlign:a.xAlign,yAlign:a.yAlign},u={x:a.x,y:a.y},d={width:a.width,height:a.height},h={x:a.caretX,y:a.caretY};if(s.length){o.opacity=1;var p=[],f=[];h=Yn[r.position].call(i,s,i._eventPosition);var m=[];for(t=0,n=s.length;t<n;++t)m.push(Gn(s[t]));r.filter&&(m=m.filter((function(e){return r.filter(e,l)}))),r.itemSort&&(m=m.sort((function(e,t){return r.itemSort(e,t,l)}))),He.each(m,(function(e){p.push(r.callbacks.labelColor.call(i,e,i._chart)),f.push(r.callbacks.labelTextColor.call(i,e,i._chart))})),o.title=i.getTitle(m,l),o.beforeBody=i.getBeforeBody(m,l),o.body=i.getBody(m,l),o.afterBody=i.getAfterBody(m,l),o.footer=i.getFooter(m,l),o.x=h.x,o.y=h.y,o.caretPadding=r.caretPadding,o.labelColors=p,o.labelTextColors=f,o.dataPoints=m,u=ei(o,d=Qn(this,o),c=Jn(this,d),i._chart)}else o.opacity=0;return o.xAlign=c.xAlign,o.yAlign=c.yAlign,o.x=u.x,o.y=u.y,o.width=d.width,o.height=d.height,o.caretX=h.x,o.caretY=h.y,i._model=o,e&&r.custom&&r.custom.call(i,o),i},drawCaret:function(e,t){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(e,t,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,n){var i,r,a,o,s,l,c=n.caretSize,u=n.cornerRadius,d=n.xAlign,h=n.yAlign,p=e.x,f=e.y,m=t.width,g=t.height;if("center"===h)s=f+g/2,"left"===d?(r=(i=p)-c,a=i,o=s+c,l=s-c):(r=(i=p+m)+c,a=i,o=s-c,l=s+c);else if("left"===d?(i=(r=p+u+c)-c,a=r+c):"right"===d?(i=(r=p+m-u-c)-c,a=r+c):(i=(r=n.caretX)-c,a=r+c),"top"===h)s=(o=f)-c,l=o;else{s=(o=f+g)+c,l=o;var v=a;a=i,i=v}return{x1:i,x2:r,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(e,t,n){var i=t.title;if(i.length){e.x=ti(t,t._titleAlign),n.textAlign=t._titleAlign,n.textBaseline="top";var r,a,o=t.titleFontSize,s=t.titleSpacing;for(n.fillStyle=t.titleFontColor,n.font=He.fontString(o,t._titleFontStyle,t._titleFontFamily),r=0,a=i.length;r<a;++r)n.fillText(i[r],e.x,e.y),e.y+=o+s,r+1===i.length&&(e.y+=t.titleMarginBottom-s)}},drawBody:function(e,t,n){var i,r=t.bodyFontSize,a=t.bodySpacing,o=t._bodyAlign,s=t.body,l=t.displayColors,c=t.labelColors,u=0,d=l?ti(t,"left"):0;n.textAlign=o,n.textBaseline="top",n.font=He.fontString(r,t._bodyFontStyle,t._bodyFontFamily),e.x=ti(t,o);var h=function(t){n.fillText(t,e.x+u,e.y),e.y+=r+a};n.fillStyle=t.bodyFontColor,He.each(t.beforeBody,h),u=l&&"right"!==o?"center"===o?r/2+1:r+2:0,He.each(s,(function(a,o){i=t.labelTextColors[o],n.fillStyle=i,He.each(a.before,h),He.each(a.lines,(function(a){l&&(n.fillStyle=t.legendColorBackground,n.fillRect(d,e.y,r,r),n.lineWidth=1,n.strokeStyle=c[o].borderColor,n.strokeRect(d,e.y,r,r),n.fillStyle=c[o].backgroundColor,n.fillRect(d+1,e.y+1,r-2,r-2),n.fillStyle=i),h(a)})),He.each(a.after,h)})),u=0,He.each(t.afterBody,h),e.y-=a},drawFooter:function(e,t,n){var i=t.footer;i.length&&(e.x=ti(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=t._footerAlign,n.textBaseline="top",n.fillStyle=t.footerFontColor,n.font=He.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),He.each(i,(function(i){n.fillText(i,e.x,e.y),e.y+=t.footerFontSize+t.footerSpacing})))},drawBackground:function(e,t,n,i){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var r=t.xAlign,a=t.yAlign,o=e.x,s=e.y,l=i.width,c=i.height,u=t.cornerRadius;n.beginPath(),n.moveTo(o+u,s),"top"===a&&this.drawCaret(e,i),n.lineTo(o+l-u,s),n.quadraticCurveTo(o+l,s,o+l,s+u),"center"===a&&"right"===r&&this.drawCaret(e,i),n.lineTo(o+l,s+c-u),n.quadraticCurveTo(o+l,s+c,o+l-u,s+c),"bottom"===a&&this.drawCaret(e,i),n.lineTo(o+u,s+c),n.quadraticCurveTo(o,s+c,o,s+c-u),"center"===a&&"left"===r&&this.drawCaret(e,i),n.lineTo(o,s+u),n.quadraticCurveTo(o,s,o+u,s),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity,a=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,t,e,n),i.y+=t.yPadding,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),e.restore())}},handleEvent:function(e){var t=this,n=t._options,i=!1;return t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:t._active=t._chart.getElementsAtEventForMode(e,n.mode,n),(i=!He.arrayEquals(t._active,t._lastActive))&&(t._lastActive=t._active,(n.enabled||n.custom)&&(t._eventPosition={x:e.x,y:e.y},t.update(!0),t.pivot())),i}}),ri=Yn,ai=ii;ai.positioners=ri;var oi=He.valueOrDefault;function si(){return He.merge({},[].slice.call(arguments),{merger:function(e,t,n,i){if("xAxes"===e||"yAxes"===e){var r,a,o,s=n[e].length;for(t[e]||(t[e]=[]),r=0;r<s;++r)o=n[e][r],a=oi(o.type,"xAxes"===e?"category":"linear"),r>=t[e].length&&t[e].push({}),!t[e][r].type||o.type&&o.type!==t[e][r].type?He.merge(t[e][r],[Wn.getScaleDefaults(a),o]):He.merge(t[e][r],o)}else He._merger(e,t,n,i)}})}function li(){return He.merge({},[].slice.call(arguments),{merger:function(e,t,n,i){var r=t[e]||{},a=n[e];"scales"===e?t[e]=si(r,a):"scale"===e?t[e]=He.merge(r,[Wn.getScaleDefaults(a.type),a]):He._merger(e,t,n,i)}})}function ci(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=li(Ve.global,Ve[e.type],e.options||{}),e}function ui(e){var t=e.options;He.each(e.scales,(function(t){pn.removeBox(e,t)})),t=li(Ve.global,Ve[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function di(e){return"top"===e||"bottom"===e}Ve._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var hi=function(e,t){return this.construct(e,t),this};He.extend(hi.prototype,{construct:function(e,t){var n=this;t=ci(t);var i=zn.acquireContext(e,t),r=i&&i.canvas,a=r&&r.height,o=r&&r.width;n.id=He.uid(),n.ctx=i,n.canvas=r,n.config=t,n.width=o,n.height=a,n.aspectRatio=a?o/a:null,n.options=t.options,n._bufferedRender=!1,n.chart=n,n.controller=n,hi.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return Un.notify(e,"beforeInit"),He.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.initToolTip(),Un.notify(e,"afterInit"),e},clear:function(){return He.canvas.clear(this),this},stop:function(){return tt.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(He.getMaximumWidth(i))),o=Math.max(0,Math.floor(r?a/r:He.getMaximumHeight(i)));if((t.width!==a||t.height!==o)&&(i.width=t.width=a,i.height=t.height=o,i.style.width=a+"px",i.style.height=o+"px",He.retinaScale(t,n.devicePixelRatio),!e)){var s={width:a,height:o};Un.notify(t,"resize",[s]),n.onResize&&n.onResize(t,s),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;He.each(t.xAxes,(function(e,t){e.id=e.id||"x-axis-"+t})),He.each(t.yAxes,(function(e,t){e.id=e.id||"y-axis-"+t})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},i=[],r=Object.keys(n).reduce((function(e,t){return e[t]=!1,e}),{});t.scales&&(i=i.concat((t.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(t.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),t.scale&&i.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),He.each(i,(function(t){var i=t.options,a=i.id,o=oi(i.type,t.dtype);di(i.position)!==di(t.dposition)&&(i.position=t.dposition),r[a]=!0;var s=null;if(a in n&&n[a].type===o)(s=n[a]).options=i,s.ctx=e.ctx,s.chart=e;else{var l=Wn.getScaleConstructor(o);if(!l)return;s=new l({id:a,type:o,options:i,ctx:e.ctx,chart:e}),n[s.id]=s}s.mergeTicksOptions(),t.isDefault&&(e.scale=s)})),He.each(r,(function(e,t){e||delete n[t]})),e.scales=n,Wn.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,t=[];return He.each(e.data.datasets,(function(n,i){var r=e.getDatasetMeta(i),a=n.type||e.config.type;if(r.type&&r.type!==a&&(e.destroyDatasetMeta(i),r=e.getDatasetMeta(i)),r.type=a,r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{var o=en[r.type];if(void 0===o)throw new Error('"'+r.type+'" is not a chart type.');r.controller=new o(e,i),t.push(r.controller)}}),e),t},resetElements:function(){var e=this;He.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),ui(t),Un._invalidate(t),!1!==Un.notify(t,"beforeUpdate")){t.tooltip._data=t.data;var n=t.buildOrUpdateControllers();He.each(t.data.datasets,(function(e,n){t.getDatasetMeta(n).controller.buildOrUpdateElements()}),t),t.updateLayout(),t.options.animation&&t.options.animation.duration&&He.each(n,(function(e){e.reset()})),t.updateDatasets(),t.tooltip.initialize(),t.lastActive=[],Un.notify(t,"afterUpdate"),t._bufferedRender?t._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:t.render(e)}},updateLayout:function(){var e=this;!1!==Un.notify(e,"beforeLayout")&&(pn.update(this,this.width,this.height),Un.notify(e,"afterScaleUpdate"),Un.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==Un.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);Un.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),i={meta:n,index:e};!1!==Un.notify(t,"beforeDatasetUpdate",[i])&&(n.controller.update(),Un.notify(t,"afterDatasetUpdate",[i]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,i=oi(e.duration,n&&n.duration),r=e.lazy;if(!1!==Un.notify(t,"beforeRender")){var a=function(e){Un.notify(t,"afterRender"),He.callback(n&&n.onComplete,[e],t)};if(n&&i){var o=new et({numSteps:i/16.66,easing:e.easing||n.easing,render:function(e,t){var n=He.easing.effects[t.easing],i=t.currentStep,r=i/t.numSteps;e.draw(n(r),r,i)},onAnimationProgress:n.onProgress,onAnimationComplete:a});tt.addAnimation(t,o,i,r)}else t.draw(),a(new et({numSteps:0,chart:t}));return t}},draw:function(e){var t=this;t.clear(),He.isNullOrUndef(e)&&(e=1),t.transition(e),t.width<=0||t.height<=0||!1!==Un.notify(t,"beforeDraw",[e])&&(He.each(t.boxes,(function(e){e.draw(t.chartArea)}),t),t.drawDatasets(e),t._drawTooltip(e),Un.notify(t,"afterDraw",[e]))},transition:function(e){for(var t=this,n=0,i=(t.data.datasets||[]).length;n<i;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},drawDatasets:function(e){var t=this;if(!1!==Un.notify(t,"beforeDatasetsDraw",[e])){for(var n=(t.data.datasets||[]).length-1;n>=0;--n)t.isDatasetVisible(n)&&t.drawDataset(n,e);Un.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this,i=n.getDatasetMeta(e),r={meta:i,index:e,easingValue:t};!1!==Un.notify(n,"beforeDatasetDraw",[r])&&(i.controller.draw(t),Un.notify(n,"afterDatasetDraw",[r]))},_drawTooltip:function(e){var t=this,n=t.tooltip,i={tooltip:n,easingValue:e};!1!==Un.notify(t,"beforeTooltipDraw",[i])&&(n.draw(),Un.notify(t,"afterTooltipDraw",[i]))},getElementAtEvent:function(e){return ln.modes.single(this,e)},getElementsAtEvent:function(e){return ln.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return ln.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var i=ln.modes[t];return"function"==typeof i?i(this,e,n):[]},getDatasetAtEvent:function(e){return ln.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var i=n._meta[t.id];return i||(i=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],i=n._meta&&n._meta[t];i&&(i.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,i=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);i&&(n.unbindEvents(),He.canvas.clear(n),zn.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Un.notify(n,"destroy"),delete hi.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new ai({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};He.each(e.options.events,(function(i){zn.addEventListener(e,i,n),t[i]=n})),e.options.responsive&&(n=function(){e.resize()},zn.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,He.each(t,(function(t,n){zn.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var i,r,a,o=n?"setHoverStyle":"removeHoverStyle";for(r=0,a=e.length;r<a;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[o](i)},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==Un.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var i=t.handleEvent(e);n&&(i=n._start?n.handleEvent(e):i|n.handleEvent(e)),Un.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r):i&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t=this,n=t.options||{},i=n.hover,r=!1;return t.lastActive=t.lastActive||[],"mouseout"===e.type?t.active=[]:t.active=t.getElementsAtEventForMode(e,i.mode,i),He.callback(n.onHover||n.hover.onHover,[e.native,t.active],t),"mouseup"!==e.type&&"click"!==e.type||n.onClick&&n.onClick.call(t,e.native,t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,i.mode,!1),t.active.length&&i.mode&&t.updateHoverStyle(t.active,i.mode,!0),r=!He.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,r}}),hi.instances={};var pi=hi;hi.Controller=hi,hi.types={},He.configMerge=li,He.scaleMerge=si;var fi=function(){function e(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function t(e){return null!=e&&"none"!==e}function n(n,i,r){var a=document.defaultView,o=He._getParentNode(n),s=a.getComputedStyle(n)[i],l=a.getComputedStyle(o)[i],c=t(s),u=t(l),d=Number.POSITIVE_INFINITY;return c||u?Math.min(c?e(s,n,r):d,u?e(l,o,r):d):"none"}He.where=function(e,t){if(He.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return He.each(e,(function(e){t(e)&&n.push(e)})),n},He.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},He.findNextWhere=function(e,t,n){He.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},He.findPreviousWhere=function(e,t,n){He.isNullOrUndef(n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},He.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},He.almostEquals=function(e,t,n){return Math.abs(e-t)<n},He.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&n+t>e},He.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},He.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},He.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},He.log10=Math.log10?function(e){return Math.log10(e)}:function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t},He.toRadians=function(e){return e*(Math.PI/180)},He.toDegrees=function(e){return e*(180/Math.PI)},He._decimalPlaces=function(e){if(He.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},He.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},He.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},He.aliasPixel=function(e){return e%2==0?0:.5},He._alignPixel=function(e,t,n){var i=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*i)/i+r},He.splineCurve=function(e,t,n,i){var r=e.skip?t:e,a=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),c=s/(s+l),u=l/(s+l),d=i*(c=isNaN(c)?0:c),h=i*(u=isNaN(u)?0:u);return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}},He.EPSILON=Number.EPSILON||1e-14,He.splineCurveMonotone=function(e){var t,n,i,r,a,o,s,l,c,u=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),d=u.length;for(t=0;t<d;++t)if(!(i=u[t]).model.skip){if(n=t>0?u[t-1]:null,(r=t<d-1?u[t+1]:null)&&!r.model.skip){var h=r.model.x-i.model.x;i.deltaK=0!==h?(r.model.y-i.model.y)/h:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(t=0;t<d-1;++t)i=u[t],r=u[t+1],i.model.skip||r.model.skip||(He.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,o=r.mK/i.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=a*s*i.deltaK,r.mK=o*s*i.deltaK)));for(t=0;t<d;++t)(i=u[t]).model.skip||(n=t>0?u[t-1]:null,r=t<d-1?u[t+1]:null,n&&!n.model.skip&&(c=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-c,i.model.controlPointPreviousY=i.model.y-c*i.mK),r&&!r.model.skip&&(c=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+c,i.model.controlPointNextY=i.model.y+c*i.mK))},He.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},He.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},He.niceNum=function(e,t){var n=Math.floor(He.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},He.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},He.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,a=e.target||e.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(He.getStyle(a,"padding-left")),c=parseFloat(He.getStyle(a,"padding-top")),u=parseFloat(He.getStyle(a,"padding-right")),d=parseFloat(He.getStyle(a,"padding-bottom")),h=o.right-o.left-l-u,p=o.bottom-o.top-c-d;return{x:n=Math.round((n-o.left-l)/h*a.width/t.currentDevicePixelRatio),y:i=Math.round((i-o.top-c)/p*a.height/t.currentDevicePixelRatio)}},He.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},He.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},He._calculatePadding=function(e,t,n){return(t=He.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},He._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},He.getMaximumWidth=function(e){var t=He._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,i=n-He._calculatePadding(t,"padding-left",n)-He._calculatePadding(t,"padding-right",n),r=He.getConstraintWidth(e);return isNaN(r)?i:Math.min(i,r)},He.getMaximumHeight=function(e){var t=He._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,i=n-He._calculatePadding(t,"padding-top",n)-He._calculatePadding(t,"padding-bottom",n),r=He.getConstraintHeight(e);return isNaN(r)?i:Math.min(i,r)},He.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},He.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=e.canvas,r=e.height,a=e.width;i.height=r*n,i.width=a*n,e.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=a+"px")}},He.fontString=function(e,t,n){return t+" "+e+"px "+n},He.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.font=t;var o=0;He.each(n,(function(t){null!=t&&!0!==He.isArray(t)?o=He.measureText(e,r,a,o,t):He.isArray(t)&&He.each(t,(function(t){null==t||He.isArray(t)||(o=He.measureText(e,r,a,o,t))}))}));var s=a.length/2;if(s>n.length){for(var l=0;l<s;l++)delete r[a[l]];a.splice(0,s)}return o},He.measureText=function(e,t,n,i,r){var a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i},He.numberOfLabelLines=function(e){var t=1;return He.each(e,(function(e){He.isArray(e)&&e.length>t&&(t=e.length)})),t},He.color=De?function(e){return e instanceof CanvasGradient&&(e=Ve.global.defaultColor),De(e)}:function(e){return console.error("Color.js not found!"),e},He.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:He.color(e).saturate(.5).darken(.1).rgbString()}};function mi(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function gi(e){this.options=e||{}}He.extend(gi.prototype,{formats:mi,parse:mi,format:mi,add:mi,diff:mi,startOf:mi,endOf:mi,_create:function(e){return e}}),gi.override=function(e){He.extend(gi.prototype,e)};var vi={_date:gi},yi={formatters:{values:function(e){return He.isArray(e)?e:""+e},linear:function(e,t,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&e!==Math.floor(e)&&(i=e-Math.floor(e));var r=He.log10(Math.abs(i)),a="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=He.log10(Math.abs(e));a=e.toExponential(Math.floor(o)-Math.floor(r))}else{var s=-1*Math.floor(r);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a="0";return a},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(He.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}},bi=He.valueOrDefault,_i=He.valueAtIndexOrDefault;function wi(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(e[t].label);return i}function ki(e,t,n){var i=e.getPixelForTick(t);return n&&(1===e.getTicks().length?i-=e.isHorizontal()?Math.max(i-e.left,e.right-i):Math.max(i-e.top,e.bottom-i):i-=0===t?(e.getPixelForTick(1)-i)/2:(i-e.getPixelForTick(t-1))/2),i}function xi(e,t,n){return He.isArray(t)?He.longestText(e,n,t):e.measureText(t).width}Ve._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:yi.formatters.values,minor:{},major:{}}});var Ei=Qe.extend({getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;for(var t in!1===e.minor&&(e.minor={display:!1}),!1===e.major&&(e.major={display:!1}),e)"major"!==t&&"minor"!==t&&(void 0===e.minor[t]&&(e.minor[t]=e[t]),void 0===e.major[t]&&(e.major[t]=e[t]))},beforeUpdate:function(){He.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,r,a,o,s,l,c=this;for(c.beforeUpdate(),c.maxWidth=e,c.maxHeight=t,c.margins=He.extend({left:0,right:0,top:0,bottom:0},n),c._maxLabelLines=0,c.longestLabelWidth=0,c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),s=c.buildTicks()||[],s=c.afterBuildTicks(s)||s,c.beforeTickToLabelConversion(),a=c.convertTicksToLabels(s)||c.ticks,c.afterTickToLabelConversion(),c.ticks=a,i=0,r=a.length;i<r;++i)o=a[i],(l=s[i])?l.label=o:s.push(l={label:o,major:!1});return c._ticks=s,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){He.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){He.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){He.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){He.callback(this.options.beforeDataLimits,[this])},determineDataLimits:He.noop,afterDataLimits:function(){He.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){He.callback(this.options.beforeBuildTicks,[this])},buildTicks:He.noop,afterBuildTicks:function(e){var t=this;return He.isArray(e)&&e.length?He.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=He.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){He.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){He.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){He.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,n=e.options.ticks,i=wi(e._ticks),r=He.options._parseFont(n);t.font=r.string;var a=n.minRotation||0;if(i.length&&e.options.display&&e.isHorizontal())for(var o,s=He.longestText(t,r.string,i,e.longestTextCache),l=s,c=e.getPixelForTick(1)-e.getPixelForTick(0)-6;l>c&&a<n.maxRotation;){var u=He.toRadians(a);if(o=Math.cos(u),Math.sin(u)*s>e.maxHeight){a--;break}a++,l=o*s}e.labelRotation=a},afterCalculateTickRotation:function(){He.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){He.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=wi(e._ticks),i=e.options,r=i.ticks,a=i.scaleLabel,o=i.gridLines,s=e._isVisible(),l=i.position,c=e.isHorizontal(),u=He.options._parseFont,d=u(r),h=i.gridLines.tickMarkLength;if(t.width=c?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:s&&o.drawTicks?h:0,t.height=c?s&&o.drawTicks?h:0:e.maxHeight,a.display&&s){var p=u(a),f=He.options.toPadding(a.padding),m=p.lineHeight+f.height;c?t.height+=m:t.width+=m}if(r.display&&s){var g=He.longestText(e.ctx,d.string,n,e.longestTextCache),v=He.numberOfLabelLines(n),y=.5*d.size,b=e.options.ticks.padding;if(e._maxLabelLines=v,e.longestLabelWidth=g,c){var _=He.toRadians(e.labelRotation),w=Math.cos(_),k=Math.sin(_)*g+d.lineHeight*v+y;t.height=Math.min(e.maxHeight,t.height+k+b),e.ctx.font=d.string;var x,E,C=xi(e.ctx,n[0],d.string),S=xi(e.ctx,n[n.length-1],d.string),T=e.getPixelForTick(0)-e.left,D=e.right-e.getPixelForTick(n.length-1);0!==e.labelRotation?(x="bottom"===l?w*C:w*y,E="bottom"===l?w*y:w*S):(x=C/2,E=S/2),e.paddingLeft=Math.max(x-T,0)+3,e.paddingRight=Math.max(E-D,0)+3}else r.mirror?g=0:g+=b+y,t.width=Math.min(e.maxWidth,t.width+g),e.paddingTop=d.size/2,e.paddingBottom=d.size/2}e.handleMargins(),e.width=t.width,e.height=t.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){He.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(He.isNullOrUndef(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:He.noop,getPixelForValue:He.noop,getValueForPixel:He.noop,getPixelForTick:function(e){var t=this,n=t.options.offset;if(t.isHorizontal()){var i=(t.width-(t.paddingLeft+t.paddingRight))/Math.max(t._ticks.length-(n?0:1),1),r=i*e+t.paddingLeft;n&&(r+=i/2);var a=t.left+r;return a+=t.isFullWidth()?t.margins.left:0}var o=t.height-(t.paddingTop+t.paddingBottom);return t.top+e*(o/(t._ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=(t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft,i=t.left+n;return i+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,i=this,r=i.isHorizontal(),a=i.options.ticks.minor,o=e.length,s=!1,l=a.maxTicksLimit,c=i._tickSize()*(o-1),u=r?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.PaddingBottom),d=[];for(c>u&&(s=1+Math.floor(c/u)),o>l&&(s=Math.max(s,1+Math.floor(o/l))),t=0;t<o;t++)n=e[t],s>1&&t%s>0&&delete n.label,d.push(n);return d},_tickSize:function(){var e=this,t=e.isHorizontal(),n=e.options.ticks.minor,i=He.toRadians(e.labelRotation),r=Math.abs(Math.cos(i)),a=Math.abs(Math.sin(i)),o=n.autoSkipPadding||0,s=e.longestLabelWidth+o||0,l=He.options._parseFont(n),c=e._maxLabelLines*l.lineHeight+o||0;return t?c*r>s*a?s/r:c/a:c*a<s*r?c/r:s/a},_isVisible:function(){var e,t,n,i=this,r=i.chart,a=i.options.display;if("auto"!==a)return!!a;for(e=0,t=r.data.datasets.length;e<t;++e)if(r.isDatasetVisible(e)&&((n=r.getDatasetMeta(e)).xAxisID===i.id||n.yAxisID===i.id))return!0;return!1},draw:function(e){var t=this,n=t.options;if(t._isVisible()){var i,r,a,o=t.chart,s=t.ctx,l=Ve.global.defaultFontColor,c=n.ticks.minor,u=n.ticks.major||c,d=n.gridLines,h=n.scaleLabel,p=n.position,f=0!==t.labelRotation,m=c.mirror,g=t.isHorizontal(),v=He.options._parseFont,y=c.display&&c.autoSkip?t._autoSkip(t.getTicks()):t.getTicks(),b=bi(c.fontColor,l),_=v(c),w=_.lineHeight,k=bi(u.fontColor,l),x=v(u),E=c.padding,C=c.labelOffset,S=d.drawTicks?d.tickMarkLength:0,T=bi(h.fontColor,l),D=v(h),F=He.options.toPadding(h.padding),M=He.toRadians(t.labelRotation),A=[],I=d.drawBorder?_i(d.lineWidth,0,0):0,O=He._alignPixel;"top"===p?(i=O(o,t.bottom,I),r=t.bottom-S,a=i-I/2):"bottom"===p?(i=O(o,t.top,I),r=i+I/2,a=t.top+S):"left"===p?(i=O(o,t.right,I),r=t.right-S,a=i-I/2):(i=O(o,t.left,I),r=i+I/2,a=t.left+S);var N=1e-7;if(He.each(y,(function(i,s){if(!He.isNullOrUndef(i.label)){var l,c,u,h,v,y,b,_,k,x,T,D,F,P,R,j,L=i.label;s===t.zeroLineIndex&&n.offset===d.offsetGridLines?(l=d.zeroLineWidth,c=d.zeroLineColor,u=d.zeroLineBorderDash||[],h=d.zeroLineBorderDashOffset||0):(l=_i(d.lineWidth,s),c=_i(d.color,s),u=d.borderDash||[],h=d.borderDashOffset||0);var q=He.isArray(L)?L.length:1,Z=ki(t,s,d.offsetGridLines);if(g){var B=S+E;Z<t.left-N&&(c="rgba(0,0,0,0)"),v=b=k=T=O(o,Z,l),y=r,_=a,F=t.getPixelForTick(s)+C,"top"===p?(x=O(o,e.top,I)+I/2,D=e.bottom,R=((f?1:.5)-q)*w,j=f?"left":"center",P=t.bottom-B):(x=e.top,D=O(o,e.bottom,I)-I/2,R=(f?0:.5)*w,j=f?"right":"center",P=t.top+B)}else{var V=(m?0:S)+E;Z<t.top-N&&(c="rgba(0,0,0,0)"),v=r,b=a,y=_=x=D=O(o,Z,l),P=t.getPixelForTick(s)+C,R=(1-q)*w/2,"left"===p?(k=O(o,e.left,I)+I/2,T=e.right,j=m?"left":"right",F=t.right-V):(k=e.left,T=O(o,e.right,I)-I/2,j=m?"right":"left",F=t.left+V)}A.push({tx1:v,ty1:y,tx2:b,ty2:_,x1:k,y1:x,x2:T,y2:D,labelX:F,labelY:P,glWidth:l,glColor:c,glBorderDash:u,glBorderDashOffset:h,rotation:-1*M,label:L,major:i.major,textOffset:R,textAlign:j})}})),He.each(A,(function(e){var t=e.glWidth,n=e.glColor;if(d.display&&t&&n&&(s.save(),s.lineWidth=t,s.strokeStyle=n,s.setLineDash&&(s.setLineDash(e.glBorderDash),s.lineDashOffset=e.glBorderDashOffset),s.beginPath(),d.drawTicks&&(s.moveTo(e.tx1,e.ty1),s.lineTo(e.tx2,e.ty2)),d.drawOnChartArea&&(s.moveTo(e.x1,e.y1),s.lineTo(e.x2,e.y2)),s.stroke(),s.restore()),c.display){s.save(),s.translate(e.labelX,e.labelY),s.rotate(e.rotation),s.font=e.major?x.string:_.string,s.fillStyle=e.major?k:b,s.textBaseline="middle",s.textAlign=e.textAlign;var i=e.label,r=e.textOffset;if(He.isArray(i))for(var a=0;a<i.length;++a)s.fillText(""+i[a],0,r),r+=w;else s.fillText(i,0,r);s.restore()}})),h.display){var P,R,j=0,L=D.lineHeight/2;if(g)P=t.left+(t.right-t.left)/2,R="bottom"===p?t.bottom-L-F.bottom:t.top+L+F.top;else{var q="left"===p;P=q?t.left+L+F.top:t.right-L-F.top,R=t.top+(t.bottom-t.top)/2,j=q?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(P,R),s.rotate(j),s.textAlign="center",s.textBaseline="middle",s.fillStyle=T,s.font=D.string,s.fillText(h.labelString,0,0),s.restore()}if(I){var Z,B,V,z,U=I,W=_i(d.lineWidth,y.length-1,0);g?(Z=O(o,t.left,U)-U/2,B=O(o,t.right,W)+W/2,V=z=i):(V=O(o,t.top,U)-U/2,z=O(o,t.bottom,W)+W/2,Z=B=i),s.lineWidth=I,s.strokeStyle=_i(d.color,0),s.beginPath(),s.moveTo(Z,V),s.lineTo(B,z),s.stroke()}}}}),Ci={position:"bottom"},Si=Ei.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,t=this,n=t.getLabels();t.minIndex=0,t.maxIndex=n.length-1,void 0!==t.options.ticks.min&&(e=n.indexOf(t.options.ticks.min),t.minIndex=-1!==e?e:t.minIndex),void 0!==t.options.ticks.max&&(e=n.indexOf(t.options.ticks.max),t.maxIndex=-1!==e?e:t.maxIndex),t.min=n[t.minIndex],t.max=n[t.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,i=n.chart;return i.getDatasetMeta(t).controller._getValueScaleId()===n.id?n.getRightValue(i.data.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t){var n,i=this,r=i.options.offset,a=Math.max(i.maxIndex+1-i.minIndex-(r?0:1),1);if(null!=e&&(n=i.isHorizontal()?e.x:e.y),void 0!==n||void 0!==e&&isNaN(t)){e=n||e;var o=i.getLabels().indexOf(e);t=-1!==o?o:t}if(i.isHorizontal()){var s=i.width/a,l=s*(t-i.minIndex);return r&&(l+=s/2),i.left+l}var c=i.height/a,u=c*(t-i.minIndex);return r&&(u+=c/2),i.top+u},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t=this,n=t.options.offset,i=Math.max(t._ticks.length-(n?0:1),1),r=t.isHorizontal(),a=(r?t.width:t.height)/i;return e-=r?t.left:t.top,n&&(e-=a/2),(e<=0?0:Math.round(e/a))+t.minIndex},getBasePixel:function(){return this.bottom}}),Ti=Ci;Si._defaults=Ti;var Di=He.noop,Fi=He.isNullOrUndef;function Mi(e,t){var n,i,r,a,o=[],s=1e-14,l=e.stepSize,c=l||1,u=e.maxTicks-1,d=e.min,h=e.max,p=e.precision,f=t.min,m=t.max,g=He.niceNum((m-f)/u/c)*c;if(g<s&&Fi(d)&&Fi(h))return[f,m];(a=Math.ceil(m/g)-Math.floor(f/g))>u&&(g=He.niceNum(a*g/u/c)*c),l||Fi(p)?n=Math.pow(10,He._decimalPlaces(g)):(n=Math.pow(10,p),g=Math.ceil(g*n)/n),i=Math.floor(f/g)*g,r=Math.ceil(m/g)*g,l&&(!Fi(d)&&He.almostWhole(d/g,g/1e3)&&(i=d),!Fi(h)&&He.almostWhole(h/g,g/1e3)&&(r=h)),a=(r-i)/g,a=He.almostEquals(a,Math.round(a),g/1e3)?Math.round(a):Math.ceil(a),i=Math.round(i*n)/n,r=Math.round(r*n)/n,o.push(Fi(d)?i:d);for(var v=1;v<a;++v)o.push(Math.round((i+v*g)*n)/n);return o.push(Fi(h)?r:h),o}var Ai=Ei.extend({getRightValue:function(e){return"string"==typeof e?+e:Ei.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=He.sign(e.min),i=He.sign(e.max);n<0&&i<0?e.max=0:n>0&&i>0&&(e.min=0)}var r=void 0!==t.min||void 0!==t.suggestedMin,a=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),r!==a&&e.min>=e.max&&(r?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this,n=t.options.ticks,i=n.stepSize,r=n.maxTicksLimit;return i?e=Math.ceil(t.max/i)-Math.floor(t.min/i)+1:(e=t._computeTickLimit(),r=r||11),r&&(e=Math.min(r,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Di,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:He.valueOrDefault(t.fixedStepSize,t.stepSize)},r=e.ticks=Mi(i,e);e.handleDirectionalChanges(),e.max=He.max(r),e.min=He.min(r),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),Ei.prototype.convertTicksToLabels.call(e)}}),Ii={position:"left",ticks:{callback:yi.formatters.linear}},Oi=Ai.extend({determineDataLimits:function(){var e=this,t=e.options,n=e.chart,i=n.data.datasets,r=e.isHorizontal(),a=0,o=1;function s(t){return r?t.xAxisID===e.id:t.yAxisID===e.id}e.min=null,e.max=null;var l=t.stacked;if(void 0===l&&He.each(i,(function(e,t){if(!l){var i=n.getDatasetMeta(t);n.isDatasetVisible(t)&&s(i)&&void 0!==i.stack&&(l=!0)}})),t.stacked||l){var c={};He.each(i,(function(i,r){var a=n.getDatasetMeta(r),o=[a.type,void 0===t.stacked&&void 0===a.stack?r:"",a.stack].join(".");void 0===c[o]&&(c[o]={positiveValues:[],negativeValues:[]});var l=c[o].positiveValues,u=c[o].negativeValues;n.isDatasetVisible(r)&&s(a)&&He.each(i.data,(function(n,i){var r=+e.getRightValue(n);isNaN(r)||a.data[i].hidden||(l[i]=l[i]||0,u[i]=u[i]||0,t.relativePoints?l[i]=100:r<0?u[i]+=r:l[i]+=r)}))})),He.each(c,(function(t){var n=t.positiveValues.concat(t.negativeValues),i=He.min(n),r=He.max(n);e.min=null===e.min?i:Math.min(e.min,i),e.max=null===e.max?r:Math.max(e.max,r)}))}else He.each(i,(function(t,i){var r=n.getDatasetMeta(i);n.isDatasetVisible(i)&&s(r)&&He.each(t.data,(function(t,n){var i=+e.getRightValue(t);isNaN(i)||r.data[n].hidden||((null===e.min||i<e.min)&&(e.min=i),(null===e.max||i>e.max)&&(e.max=i))}))}));e.min=isFinite(e.min)&&!isNaN(e.min)?e.min:a,e.max=isFinite(e.max)&&!isNaN(e.max)?e.max:o,this.handleTickRangeOptions()},_computeTickLimit:function(){var e,t=this;return t.isHorizontal()?Math.ceil(t.width/40):(e=He.options._parseFont(t.options.ticks),Math.ceil(t.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this,n=t.start,i=+t.getRightValue(e),r=t.end-n;return t.isHorizontal()?t.left+t.width/r*(i-n):t.bottom-t.height/r*(i-n)},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),i=n?t.width:t.height,r=(n?e-t.left:t.bottom-e)/i;return t.start+(t.end-t.start)*r},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}}),Ni=Ii;Oi._defaults=Ni;var Pi=He.valueOrDefault;function Ri(e,t){var n,i,r=[],a=Pi(e.min,Math.pow(10,Math.floor(He.log10(t.min)))),o=Math.floor(He.log10(t.max)),s=Math.ceil(t.max/Math.pow(10,o));0===a?(n=Math.floor(He.log10(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(He.log10(a)),i=Math.floor(a/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(a),10==++i&&(i=1,l=++n>=0?1:l),a=Math.round(i*Math.pow(10,n)*l)/l}while(n<o||n===o&&i<s);var c=Pi(e.max,a);return r.push(c),r}var ji={position:"left",ticks:{callback:yi.formatters.logarithmic}};function Li(e,t){return He.isFinite(e)&&e>=0?e:t}var qi=Ei.extend({determineDataLimits:function(){var e=this,t=e.options,n=e.chart,i=n.data.datasets,r=e.isHorizontal();function a(t){return r?t.xAxisID===e.id:t.yAxisID===e.id}e.min=null,e.max=null,e.minNotZero=null;var o=t.stacked;if(void 0===o&&He.each(i,(function(e,t){if(!o){var i=n.getDatasetMeta(t);n.isDatasetVisible(t)&&a(i)&&void 0!==i.stack&&(o=!0)}})),t.stacked||o){var s={};He.each(i,(function(i,r){var o=n.getDatasetMeta(r),l=[o.type,void 0===t.stacked&&void 0===o.stack?r:"",o.stack].join(".");n.isDatasetVisible(r)&&a(o)&&(void 0===s[l]&&(s[l]=[]),He.each(i.data,(function(t,n){var i=s[l],r=+e.getRightValue(t);isNaN(r)||o.data[n].hidden||r<0||(i[n]=i[n]||0,i[n]+=r)})))})),He.each(s,(function(t){if(t.length>0){var n=He.min(t),i=He.max(t);e.min=null===e.min?n:Math.min(e.min,n),e.max=null===e.max?i:Math.max(e.max,i)}}))}else He.each(i,(function(t,i){var r=n.getDatasetMeta(i);n.isDatasetVisible(i)&&a(r)&&He.each(t.data,(function(t,n){var i=+e.getRightValue(t);isNaN(i)||r.data[n].hidden||i<0||((null===e.min||i<e.min)&&(e.min=i),(null===e.max||i>e.max)&&(e.max=i),0!==i&&(null===e.minNotZero||i<e.minNotZero)&&(e.minNotZero=i))}))}));this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks,n=1,i=10;e.min=Li(t.min,e.min),e.max=Li(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(He.log10(e.min))-1),e.max=Math.pow(10,Math.floor(He.log10(e.max))+1)):(e.min=n,e.max=i)),null===e.min&&(e.min=Math.pow(10,Math.floor(He.log10(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(He.log10(e.min))+1):i),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(He.log10(e.max))):e.minNotZero=n)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),i={min:Li(t.min),max:Li(t.max)},r=e.ticks=Ri(i,e);e.max=He.max(r),e.min=He.min(r),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Ei.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},_getFirstTickValue:function(e){var t=Math.floor(He.log10(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},getPixelForValue:function(e){var t,n,i,r,a,o=this,s=o.options.ticks,l=s.reverse,c=He.log10,u=o._getFirstTickValue(o.minNotZero),d=0;return e=+o.getRightValue(e),l?(i=o.end,r=o.start,a=-1):(i=o.start,r=o.end,a=1),o.isHorizontal()?(t=o.width,n=l?o.right:o.left):(t=o.height,a*=-1,n=l?o.top:o.bottom),e!==i&&(0===i&&(t-=d=Pi(s.fontSize,Ve.global.defaultFontSize),i=u),0!==e&&(d+=t/(c(r)-c(i))*(c(e)-c(i))),n+=a*d),n},getValueForPixel:function(e){var t,n,i,r,a=this,o=a.options.ticks,s=o.reverse,l=He.log10,c=a._getFirstTickValue(a.minNotZero);if(s?(n=a.end,i=a.start):(n=a.start,i=a.end),a.isHorizontal()?(t=a.width,r=s?a.right-e:e-a.left):(t=a.height,r=s?e-a.top:a.bottom-e),r!==n){if(0===n){var u=Pi(o.fontSize,Ve.global.defaultFontSize);r-=u,t-=u,n=c}r*=l(i)-l(n),r/=t,r=Math.pow(10,l(n)+r)}return r}}),Zi=ji;qi._defaults=Zi;var Bi=He.valueOrDefault,Vi=He.valueAtIndexOrDefault,zi=He.options.resolve,Ui={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:yi.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Wi(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function Hi(e){var t=e.ticks;return t.display&&e.display?Bi(t.fontSize,Ve.global.defaultFontSize)+2*t.backdropPaddingY:0}function Yi(e,t,n){return He.isArray(n)?{w:He.longestText(e,e.font,n),h:n.length*t}:{w:e.measureText(n).width,h:t}}function $i(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Ki(e){var t,n,i,r=He.options._parseFont(e.options.pointLabels),a={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={};e.ctx.font=r.string,e._pointLabelSizes=[];var s=Wi(e);for(t=0;t<s;t++){i=e.getPointPosition(t,e.drawingArea+5),n=Yi(e.ctx,r.lineHeight,e.pointLabels[t]||""),e._pointLabelSizes[t]=n;var l=e.getIndexAngle(t),c=He.toDegrees(l)%360,u=$i(c,i.x,n.w,0,180),d=$i(c,i.y,n.h,90,270);u.start<a.l&&(a.l=u.start,o.l=l),u.end>a.r&&(a.r=u.end,o.r=l),d.start<a.t&&(a.t=d.start,o.t=l),d.end>a.b&&(a.b=d.end,o.b=l)}e.setReductions(e.drawingArea,a,o)}function Gi(e){return 0===e||180===e?"center":e<180?"left":"right"}function Xi(e,t,n,i){var r,a,o=n.y+i/2;if(He.isArray(t))for(r=0,a=t.length;r<a;++r)e.fillText(t[r],n.x,o),o+=i;else e.fillText(t,n.x,o)}function Qi(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function Ji(e){var t=e.ctx,n=e.options,i=n.angleLines,r=n.gridLines,a=n.pointLabels,o=Bi(i.lineWidth,r.lineWidth),s=Bi(i.color,r.color),l=Hi(n);t.save(),t.lineWidth=o,t.strokeStyle=s,t.setLineDash&&(t.setLineDash(zi([i.borderDash,r.borderDash,[]])),t.lineDashOffset=zi([i.borderDashOffset,r.borderDashOffset,0]));var c=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),u=He.options._parseFont(a);t.font=u.string,t.textBaseline="middle";for(var d=Wi(e)-1;d>=0;d--){if(i.display&&o&&s){var h=e.getPointPosition(d,c);t.beginPath(),t.moveTo(e.xCenter,e.yCenter),t.lineTo(h.x,h.y),t.stroke()}if(a.display){var p=0===d?l/2:0,f=e.getPointPosition(d,c+p+5),m=Vi(a.fontColor,d,Ve.global.defaultFontColor);t.fillStyle=m;var g=e.getIndexAngle(d),v=He.toDegrees(g);t.textAlign=Gi(v),Qi(v,e._pointLabelSizes[d],f),Xi(t,e.pointLabels[d]||"",f,u.lineHeight)}}t.restore()}function er(e,t,n,i){var r,a=e.ctx,o=t.circular,s=Wi(e),l=Vi(t.color,i-1),c=Vi(t.lineWidth,i-1);if((o||s)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(t.borderDash||[]),a.lineDashOffset=t.borderDashOffset||0),a.beginPath(),o)a.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{r=e.getPointPosition(0,n),a.moveTo(r.x,r.y);for(var u=1;u<s;u++)r=e.getPointPosition(u,n),a.lineTo(r.x,r.y)}a.closePath(),a.stroke(),a.restore()}}function tr(e){return He.isNumber(e)?e:0}var nr=Ai.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Hi(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;He.each(t.data.datasets,(function(r,a){if(t.isDatasetVisible(a)){var o=t.getDatasetMeta(a);He.each(r.data,(function(t,r){var a=+e.getRightValue(t);isNaN(a)||o.data[r].hidden||(n=Math.min(a,n),i=Math.max(a,i))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=i===Number.NEGATIVE_INFINITY?0:i,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Hi(this.options))},convertTicksToLabels:function(){var e=this;Ai.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this,t=e.options;t.display&&t.pointLabels.display?Ki(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var i=this,r=t.l/Math.sin(n.l),a=Math.max(t.r-i.width,0)/Math.sin(n.r),o=-t.t/Math.cos(n.t),s=-Math.max(t.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=tr(r),a=tr(a),o=tr(o),s=tr(s),i.drawingArea=Math.min(Math.floor(e-(r+a)/2),Math.floor(e-(o+s)/2)),i.setCenterPoint(r,a,o,s)},setCenterPoint:function(e,t,n,i){var r=this,a=r.width-t-r.drawingArea,o=e+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((o+a)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(e){return e*(2*Math.PI/Wi(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,i=n.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(i)*t+n.xCenter,y:Math.sin(i)*t+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var e=this,t=e.options,n=t.gridLines,i=t.ticks;if(t.display){var r=e.ctx,a=this.getIndexAngle(0),o=He.options._parseFont(i);(t.angleLines.display||t.pointLabels.display)&&Ji(e),He.each(e.ticks,(function(t,s){if(s>0||i.reverse){var l=e.getDistanceFromCenterForValue(e.ticksAsNumbers[s]);if(n.display&&0!==s&&er(e,n,l,s),i.display){var c=Bi(i.fontColor,Ve.global.defaultFontColor);if(r.font=o.string,r.save(),r.translate(e.xCenter,e.yCenter),r.rotate(a),i.showLabelBackdrop){var u=r.measureText(t).width;r.fillStyle=i.backdropColor,r.fillRect(-u/2-i.backdropPaddingX,-l-o.size/2-i.backdropPaddingY,u+2*i.backdropPaddingX,o.size+2*i.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=c,r.fillText(t,0,-l),r.restore()}}}))}}}),ir=Ui;nr._defaults=ir;var rr=He.valueOrDefault,ar=Number.MIN_SAFE_INTEGER||-9007199254740991,or=Number.MAX_SAFE_INTEGER||9007199254740991,sr={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},lr=Object.keys(sr);function cr(e,t){return e-t}function ur(e){var t,n,i,r={},a=[];for(t=0,n=e.length;t<n;++t)r[i=e[t]]||(r[i]=!0,a.push(i));return a}function dr(e,t,n,i){if("linear"===i||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var r,a,o,s,l,c=[],u=[t];for(r=0,a=e.length;r<a;++r)(s=e[r])>t&&s<n&&u.push(s);for(u.push(n),r=0,a=u.length;r<a;++r)l=u[r+1],o=u[r-1],s=u[r],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||c.push({time:s,pos:r/(a-1)});return c}function hr(e,t,n){for(var i,r,a,o=0,s=e.length-1;o>=0&&o<=s;){if(r=e[(i=o+s>>1)-1]||null,a=e[i],!r)return{lo:null,hi:a};if(a[t]<n)o=i+1;else{if(!(r[t]>n))return{lo:r,hi:a};s=i-1}}return{lo:a,hi:null}}function pr(e,t,n,i){var r=hr(e,t,n),a=r.lo?r.hi?r.lo:e[e.length-2]:e[0],o=r.lo?r.hi?r.hi:e[e.length-1]:e[1],s=o[t]-a[t],l=s?(n-a[t])/s:0,c=(o[i]-a[i])*l;return a[i]+c}function fr(e,t){var n=e._adapter,i=e.options.time,r=i.parser,a=r||i.format,o=t;return"function"==typeof r&&(o=r(o)),He.isFinite(o)||(o="string"==typeof a?n.parse(o,a):n.parse(o)),null!==o?+o:(r||"function"!=typeof a||(o=a(t),He.isFinite(o)||(o=n.parse(o))),o)}function mr(e,t){if(He.isNullOrUndef(t))return null;var n=e.options.time,i=fr(e,e.getRightValue(t));return null===i||n.round&&(i=+e._adapter.startOf(i,n.round)),i}function gr(e,t,n,i){var r,a,o,s=t-e,l=sr[n],c=l.size,u=l.steps;if(!u)return Math.ceil(s/(i*c));for(r=0,a=u.length;r<a&&(o=u[r],!(Math.ceil(s/(c*o))<=i));++r);return o}function vr(e,t,n,i){var r,a,o,s=lr.length;for(r=lr.indexOf(e);r<s-1;++r)if(o=(a=sr[lr[r]]).steps?a.steps[a.steps.length-1]:or,a.common&&Math.ceil((n-t)/(o*a.size))<=i)return lr[r];return lr[s-1]}function yr(e,t,n,i,r){var a,o;for(a=lr.length-1;a>=lr.indexOf(n);a--)if(o=lr[a],sr[o].common&&e._adapter.diff(r,i,o)>=t.length)return o;return lr[n?lr.indexOf(n):0]}function br(e){for(var t=lr.indexOf(e)+1,n=lr.length;t<n;++t)if(sr[lr[t]].common)return lr[t]}function _r(e,t,n,i){var r,a=e._adapter,o=e.options,s=o.time,l=s.unit||vr(s.minUnit,t,n,i),c=br(l),u=rr(s.stepSize,s.unitStepSize),d="week"===l&&s.isoWeekday,h=o.ticks.major.enabled,p=sr[l],f=t,m=n,g=[];for(u||(u=gr(t,n,l,i)),d&&(f=+a.startOf(f,"isoWeek",d),m=+a.startOf(m,"isoWeek",d)),f=+a.startOf(f,d?"day":l),(m=+a.startOf(m,d?"day":l))<n&&(m=+a.add(m,1,l)),r=f,h&&c&&!d&&!s.round&&(r=+a.startOf(r,c),r=+a.add(r,~~((f-r)/(p.size*u))*u,l));r<m;r=+a.add(r,u,l))g.push(+r);return g.push(+r),g}function wr(e,t,n,i,r){var a,o,s=0,l=0;return r.offset&&t.length&&(r.time.min||(a=pr(e,"time",t[0],"pos"),s=1===t.length?1-a:(pr(e,"time",t[1],"pos")-a)/2),r.time.max||(o=pr(e,"time",t[t.length-1],"pos"),l=1===t.length?o:(o-pr(e,"time",t[t.length-2],"pos"))/2)),{start:s,end:l}}function kr(e,t,n){var i,r,a,o,s=[];for(i=0,r=t.length;i<r;++i)a=t[i],o=!!n&&a===+e._adapter.startOf(a,n),s.push({value:a,major:o});return s}var xr={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Er=Ei.extend({initialize:function(){this.mergeTicksOptions(),Ei.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),i=e._adapter=new vi._date(t.adapters.date);return n.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),He.mergeIf(n.displayFormats,i.formats()),Ei.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),Ei.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,i,r,a,o=this,s=o.chart,l=o._adapter,c=o.options.time,u=c.unit||"day",d=or,h=ar,p=[],f=[],m=[],g=s.data.labels||[];for(e=0,n=g.length;e<n;++e)m.push(mr(o,g[e]));for(e=0,n=(s.data.datasets||[]).length;e<n;++e)if(s.isDatasetVisible(e))if(r=s.data.datasets[e].data,He.isObject(r[0]))for(f[e]=[],t=0,i=r.length;t<i;++t)a=mr(o,r[t]),p.push(a),f[e][t]=a;else{for(t=0,i=m.length;t<i;++t)p.push(m[t]);f[e]=m.slice(0)}else f[e]=[];m.length&&(m=ur(m).sort(cr),d=Math.min(d,m[0]),h=Math.max(h,m[m.length-1])),p.length&&(p=ur(p).sort(cr),d=Math.min(d,p[0]),h=Math.max(h,p[p.length-1])),d=mr(o,c.min)||d,h=mr(o,c.max)||h,d=d===or?+l.startOf(Date.now(),u):d,h=h===ar?+l.endOf(Date.now(),u)+1:h,o.min=Math.min(d,h),o.max=Math.max(d+1,h),o._horizontal=o.isHorizontal(),o._table=[],o._timestamps={data:p,datasets:f,labels:m}},buildTicks:function(){var e,t,n,i=this,r=i.min,a=i.max,o=i.options,s=o.time,l=[],c=[];switch(o.ticks.source){case"data":l=i._timestamps.data;break;case"labels":l=i._timestamps.labels;break;default:l=_r(i,r,a,i.getLabelCapacity(r),o)}for("ticks"===o.bounds&&l.length&&(r=l[0],a=l[l.length-1]),r=mr(i,s.min)||r,a=mr(i,s.max)||a,e=0,t=l.length;e<t;++e)(n=l[e])>=r&&n<=a&&c.push(n);return i.min=r,i.max=a,i._unit=s.unit||yr(i,c,s.minUnit,i.min,i.max),i._majorUnit=br(i._unit),i._table=dr(i._timestamps.data,r,a,o.distribution),i._offsets=wr(i._table,c,r,a,o),o.ticks.reverse&&c.reverse(),kr(i,c,i._majorUnit)},getLabelForIndex:function(e,t){var n=this,i=n._adapter,r=n.chart.data,a=n.options.time,o=r.labels&&e<r.labels.length?r.labels[e]:"",s=r.datasets[t].data[e];return He.isObject(s)&&(o=n.getRightValue(s)),a.tooltipFormat?i.format(fr(n,o),a.tooltipFormat):"string"==typeof o?o:i.format(fr(n,o),a.displayFormats.datetime)},tickFormatFunction:function(e,t,n,i){var r=this,a=r._adapter,o=r.options,s=o.time.displayFormats,l=s[r._unit],c=r._majorUnit,u=s[c],d=+a.startOf(e,c),h=o.ticks.major,p=h.enabled&&c&&u&&e===d,f=a.format(e,i||(p?u:l)),m=p?h:o.ticks.minor,g=rr(m.callback,m.userCallback);return g?g(f,t,n):f},convertTicksToLabels:function(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(this.tickFormatFunction(e[t].value,t,e));return i},getPixelForOffset:function(e){var t=this,n=t.options.ticks.reverse,i=t._horizontal?t.width:t.height,r=t._horizontal?n?t.right:t.left:n?t.bottom:t.top,a=pr(t._table,"time",e,"pos"),o=i*(t._offsets.start+a)/(t._offsets.start+1+t._offsets.end);return n?r-o:r+o},getPixelForValue:function(e,t,n){var i=this,r=null;if(void 0!==t&&void 0!==n&&(r=i._timestamps.datasets[n][t]),null===r&&(r=mr(i,e)),null!==r)return i.getPixelForOffset(r)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._horizontal?t.width:t.height,i=t._horizontal?t.left:t.top,r=(n?(e-i)/n:0)*(t._offsets.start+1+t._offsets.start)-t._offsets.end,a=pr(t._table,"pos",r,"time");return t._adapter._create(a)},getLabelWidth:function(e){var t=this,n=t.options.ticks,i=t.ctx.measureText(e).width,r=He.toRadians(n.maxRotation),a=Math.cos(r),o=Math.sin(r);return i*a+rr(n.fontSize,Ve.global.defaultFontSize)*o},getLabelCapacity:function(e){var t=this,n=t.options.time.displayFormats.millisecond,i=t.tickFormatFunction(e,0,[],n),r=t.getLabelWidth(i),a=t.isHorizontal()?t.width:t.height,o=Math.floor(a/r);return o>0?o:1}}),Cr=xr;Er._defaults=Cr;var Sr={category:Si,linear:Oi,logarithmic:qi,radialLinear:nr,time:Er},Tr={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};vi._date.override("function"==typeof e?{_id:"moment",formats:function(){return Tr},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,i){return e(t).add(n,i).valueOf()},diff:function(t,n,i){return e.duration(e(t).diff(e(n))).as(i)},startOf:function(t,n,i){return t=e(t),"isoWeek"===n?t.isoWeekday(i).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),Ve._set("global",{plugins:{filler:{propagate:!0}}});var Dr={dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t)&&i.dataset._children||[],a=r.length||0;return a?function(e,t){return t<a&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,i=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===i?e.y:i}}}};function Fr(e,t,n){var i,r=e._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return"-"!==a[0]&&"+"!==a[0]||(i=t+i),!(i===t||i<0||i>=n)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function Mr(e){var t,n=e.el._model||{},i=e.el._scale||{},r=e.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?a=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:i.getBasePosition?a=i.getBasePosition():i.getBasePixel&&(a=i.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(He.isFinite(a))return{x:(t=i.isHorizontal())?a:null,y:t?null:a}}return null}function Ar(e,t,n){var i,r=e[t].fill,a=[t];if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!isFinite(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;a.push(r),r=i.fill}return!1}function Ir(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),Dr[n](e))}function Or(e){return e&&!e.skip}function Nr(e,t,n,i,r){var a;if(i&&r){for(e.moveTo(t[0].x,t[0].y),a=1;a<i;++a)He.canvas.lineTo(e,t[a-1],t[a]);for(e.lineTo(n[r-1].x,n[r-1].y),a=r-1;a>0;--a)He.canvas.lineTo(e,n[a],n[a-1],!0)}}function Pr(e,t,n,i,r,a){var o,s,l,c,u,d,h,p=t.length,f=i.spanGaps,m=[],g=[],v=0,y=0;for(e.beginPath(),o=0,s=p+!!a;o<s;++o)u=n(c=t[l=o%p]._view,l,i),d=Or(c),h=Or(u),d&&h?(v=m.push(c),y=g.push(u)):v&&y&&(f?(d&&m.push(c),h&&g.push(u)):(Nr(e,m,g,v,y),v=y=0,m=[],g=[]));Nr(e,m,g,v,y),e.closePath(),e.fillStyle=r,e.fill()}var Rr={id:"filler",afterDatasetsUpdate:function(e,t){var n,i,r,a,o=(e.data.datasets||[]).length,s=t.propagate,l=[];for(i=0;i<o;++i)a=null,(r=(n=e.getDatasetMeta(i)).dataset)&&r._model&&r instanceof St.Line&&(a={visible:e.isDatasetVisible(i),fill:Fr(r,i,o),chart:e,el:r}),n.$filler=a,l.push(a);for(i=0;i<o;++i)(a=l[i])&&(a.fill=Ar(l,i,s),a.boundary=Mr(a),a.mapper=Ir(a))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var i=e.ctx,r=n.el,a=r._view,o=r._children||[],s=n.mapper,l=a.backgroundColor||Ve.global.defaultColor;s&&l&&o.length&&(He.canvas.clipArea(i,e.chartArea),Pr(i,o,s,a,l,r._loop),He.canvas.unclipArea(i))}}},jr=He.noop,Lr=He.valueOrDefault;function qr(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}Ve._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return He.isArray(t.datasets)?t.datasets.map((function(t,n){return{text:t.label,fillStyle:He.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:n}}),this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}});var Zr=Qe.extend({initialize:function(e){He.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:jr,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:jr,beforeSetDimensions:jr,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:jr,beforeBuildLabels:jr,buildLabels:function(){var e=this,t=e.options.labels||{},n=He.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:jr,beforeFit:jr,fit:function(){var e=this,t=e.options,n=t.labels,i=t.display,r=e.ctx,a=He.options._parseFont(n),o=a.size,s=e.legendHitBoxes=[],l=e.minSize,c=e.isHorizontal();if(c?(l.width=e.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=e.maxHeight),i)if(r.font=a.string,c){var u=e.lineWidths=[0],d=0;r.textAlign="left",r.textBaseline="top",He.each(e.legendItems,(function(e,t){var i=qr(n,o)+o/2+r.measureText(e.text).width;(0===t||u[u.length-1]+i+n.padding>l.width)&&(d+=o+n.padding,u[u.length-(t>0?0:1)]=n.padding),s[t]={left:0,top:0,width:i,height:o},u[u.length-1]+=i+n.padding})),l.height+=d}else{var h=n.padding,p=e.columnWidths=[],f=n.padding,m=0,g=0,v=o+h;He.each(e.legendItems,(function(e,t){var i=qr(n,o)+o/2+r.measureText(e.text).width;t>0&&g+v>l.height-h&&(f+=m+n.padding,p.push(m),m=0,g=0),m=Math.max(m,i),g+=v,s[t]={left:0,top:0,width:i,height:o}})),f+=m,p.push(m),l.width+=f}e.width=l.width,e.height=l.height},afterFit:jr,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,i=Ve.global,r=i.defaultColor,a=i.elements.line,o=e.width,s=e.lineWidths;if(t.display){var l,c=e.ctx,u=Lr(n.fontColor,i.defaultFontColor),d=He.options._parseFont(n),h=d.size;c.textAlign="left",c.textBaseline="middle",c.lineWidth=.5,c.strokeStyle=u,c.fillStyle=u,c.font=d.string;var p=qr(n,h),f=e.legendHitBoxes,m=function(e,n,i){if(!(isNaN(p)||p<=0)){c.save();var o=Lr(i.lineWidth,a.borderWidth);if(c.fillStyle=Lr(i.fillStyle,r),c.lineCap=Lr(i.lineCap,a.borderCapStyle),c.lineDashOffset=Lr(i.lineDashOffset,a.borderDashOffset),c.lineJoin=Lr(i.lineJoin,a.borderJoinStyle),c.lineWidth=o,c.strokeStyle=Lr(i.strokeStyle,r),c.setLineDash&&c.setLineDash(Lr(i.lineDash,a.borderDash)),t.labels&&t.labels.usePointStyle){var s=p*Math.SQRT2/2,l=e+p/2,u=n+h/2;He.canvas.drawPoint(c,i.pointStyle,s,l,u)}else 0!==o&&c.strokeRect(e,n,p,h),c.fillRect(e,n,p,h);c.restore()}},g=function(e,t,n,i){var r=h/2,a=p+r+e,o=t+r;c.fillText(n.text,a,o),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(a,o),c.lineTo(a+i,o),c.stroke())},v=e.isHorizontal();l=v?{x:e.left+(o-s[0])/2+n.padding,y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+n.padding,line:0};var y=h+n.padding;He.each(e.legendItems,(function(t,i){var r=c.measureText(t.text).width,a=p+h/2+r,u=l.x,d=l.y;v?i>0&&u+a+n.padding>e.left+e.minSize.width&&(d=l.y+=y,l.line++,u=l.x=e.left+(o-s[l.line])/2+n.padding):i>0&&d+y>e.top+e.minSize.height&&(u=l.x=u+e.columnWidths[l.line]+n.padding,d=l.y=e.top+n.padding,l.line++),m(u,d,t),f[i].left=u,f[i].top=d,g(u,d,t,r),v?l.x+=a+n.padding:l.y+=y}))}},_getLegendItemAt:function(e,t){var n,i,r,a=this;if(e>=a.left&&e<=a.right&&t>=a.top&&t<=a.bottom)for(r=a.legendHitBoxes,n=0;n<r.length;++n)if(e>=(i=r[n]).left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return a.legendItems[n];return null},handleEvent:function(e){var t,n=this,i=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===r?t&&i.onClick&&i.onClick.call(n,e.native,t):(i.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),i.onHover&&t&&i.onHover.call(n,e.native,t))}});function Br(e,t){var n=new Zr({ctx:e.ctx,options:t,chart:e});pn.configure(e,n,t),pn.addBox(e,n),e.legend=n}var Vr={id:"legend",_element:Zr,beforeInit:function(e){var t=e.options.legend;t&&Br(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(He.mergeIf(t,Ve.global.legend),n?(pn.configure(e,n,t),n.options=t):Br(e,t)):n&&(pn.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},zr=He.noop;Ve._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Ur=Qe.extend({initialize:function(e){var t=this;He.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:zr,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:zr,beforeSetDimensions:zr,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:zr,beforeBuildLabels:zr,buildLabels:zr,afterBuildLabels:zr,beforeFit:zr,fit:function(){var e=this,t=e.options,n=t.display,i=e.minSize,r=He.isArray(t.text)?t.text.length:1,a=He.options._parseFont(t),o=n?r*a.lineHeight+2*t.padding:0;e.isHorizontal()?(i.width=e.maxWidth,i.height=o):(i.width=o,i.height=e.maxHeight),e.width=i.width,e.height=i.height},afterFit:zr,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var i,r,a,o=He.options._parseFont(n),s=o.lineHeight,l=s/2+n.padding,c=0,u=e.top,d=e.left,h=e.bottom,p=e.right;t.fillStyle=He.valueOrDefault(n.fontColor,Ve.global.defaultFontColor),t.font=o.string,e.isHorizontal()?(r=d+(p-d)/2,a=u+l,i=p-d):(r="left"===n.position?d+l:p-l,a=u+(h-u)/2,i=h-u,c=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(r,a),t.rotate(c),t.textAlign="center",t.textBaseline="middle";var f=n.text;if(He.isArray(f))for(var m=0,g=0;g<f.length;++g)t.fillText(f[g],0,m,i),m+=s;else t.fillText(f,0,0,i);t.restore()}}});function Wr(e,t){var n=new Ur({ctx:e.ctx,options:t,chart:e});pn.configure(e,n,t),pn.addBox(e,n),e.titleBlock=n}var Hr={},Yr=Rr,$r=Vr,Kr={id:"title",_element:Ur,beforeInit:function(e){var t=e.options.title;t&&Wr(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(He.mergeIf(t,Ve.global.title),n?(pn.configure(e,n,t),n.options=t):Wr(e,t)):n&&(pn.removeBox(e,n),delete e.titleBlock)}};for(var Gr in Hr.filler=Yr,Hr.legend=$r,Hr.title=Kr,pi.helpers=He,fi(pi),pi._adapters=vi,pi.Animation=et,pi.animationService=tt,pi.controllers=en,pi.DatasetController=st,pi.defaults=Ve,pi.Element=Qe,pi.elements=St,pi.Interaction=ln,pi.layouts=pn,pi.platform=zn,pi.plugins=Un,pi.Scale=Ei,pi.scaleService=Wn,pi.Ticks=yi,pi.Tooltip=ai,pi.helpers.each(Sr,(function(e,t){pi.scaleService.registerScaleType(t,e,e._defaults)})),Hr)Hr.hasOwnProperty(Gr)&&pi.plugins.register(Hr[Gr]);pi.platform.initialize();var Xr=pi;return"undefined"!=typeof window&&(window.Chart=pi),pi.Chart=pi,pi.Legend=Hr.legend._element,pi.Title=Hr.title._element,pi.pluginService=pi.plugins,pi.PluginBase=pi.Element.extend({}),pi.canvasHelpers=pi.helpers.canvas,pi.layoutService=pi.layouts,pi.LinearScaleBase=Ai,pi.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(e){pi[e]=function(t,n){return new pi(t,pi.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}})),Xr}(function(){try{return n(381)}catch(e){}}())},4184:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=r.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},7337:function(e,t,n){var i,r,a;r=[e,n(3817)],i=function(e,t){"use strict";var n=i(t);function i(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){a(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s},void 0===(a="function"==typeof i?i.apply(t,r):i)||(e.exports=a)},4987:function(e,t,n){var i,r,a;r=[e,n(7337),n(4279),n(7370)],i=function(e,t,n,i){"use strict";var r=s(t),a=s(n),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n){c(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return h(t,e),u(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,o.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return f("action",e)}},{key:"defaultTarget",value:function(e){var t=f("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return f("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(a.default);function f(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=p},void 0===(a="function"==typeof i?i.apply(t,r):i)||(e.exports=a)},2742:(e,t,n)=>{var i=n(4579),r=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},8056:(e,t,n)=>{n(1013),e.exports=n(4579).Object.values},5663:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},2159:(e,t,n)=>{var i=n(6727);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},7428:(e,t,n)=>{var i=n(7932),r=n(8728),a=n(6531);e.exports=function(e){return function(t,n,o){var s,l=i(t),c=r(l.length),u=a(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},2894:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},4579:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},9216:(e,t,n)=>{var i=n(5663);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},8333:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},9666:(e,t,n)=>{e.exports=!n(7929)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},7467:(e,t,n)=>{var i=n(6727),r=n(3938).document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},3338:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},3856:(e,t,n)=>{var i=n(3938),r=n(4579),a=n(9216),o=n(1818),s=n(7069),l=function(e,t,n){var c,u,d,h=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=p?r:r[t]||(r[t]={}),b=y.prototype,_=p?i:f?i[t]:(i[t]||{}).prototype;for(c in p&&(n=t),n)(u=!h&&_&&void 0!==_[c])&&s(y,c)||(d=u?_[c]:n[c],y[c]=p&&"function"!=typeof _[c]?n[c]:g&&u?a(d,i):v&&_[c]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[c]=d,e&l.R&&b&&!b[c]&&o(b,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},7929:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},3938:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},7069:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},1818:(e,t,n)=>{var i=n(4743),r=n(3101);e.exports=n(9666)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},3758:(e,t,n)=>{e.exports=!n(9666)&&!n(7929)((function(){return 7!=Object.defineProperty(n(7467)("div"),"a",{get:function(){return 7}}).a}))},799:(e,t,n)=>{var i=n(2894);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},6727:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},6227:e=>{e.exports=!0},4743:(e,t,n)=>{var i=n(2159),r=n(3758),a=n(3206),o=Object.defineProperty;t.f=n(9666)?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},2963:(e,t,n)=>{var i=n(7069),r=n(7932),a=n(7428)(!1),o=n(8989)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=o&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},6162:(e,t,n)=>{var i=n(2963),r=n(3338);e.exports=Object.keys||function(e){return i(e,r)}},6274:(e,t)=>{t.f={}.propertyIsEnumerable},2050:(e,t,n)=>{var i=n(9666),r=n(6162),a=n(7932),o=n(6274).f;e.exports=function(e){return function(t){for(var n,s=a(t),l=r(s),c=l.length,u=0,d=[];c>u;)n=l[u++],i&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},3101:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8989:(e,t,n)=>{var i=n(250)("keys"),r=n(5730);e.exports=function(e){return i[e]||(i[e]=r(e))}},250:(e,t,n)=>{var i=n(4579),r=n(3938),a="__core-js_shared__",o=r[a]||(r[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(6227)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},6531:(e,t,n)=>{var i=n(1052),r=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):a(e,t)}},1052:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7932:(e,t,n)=>{var i=n(799),r=n(8333);e.exports=function(e){return i(r(e))}},8728:(e,t,n)=>{var i=n(1052),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},3206:(e,t,n)=>{var i=n(6727);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},5730:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},1013:(e,t,n)=>{var i=n(3856),r=n(2050)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},6511:(e,t,n)=>{"use strict";var i=n(9394),r=n(3677),a=n(3759),o="mixins";e.exports=function(e,t,n){var s=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)h(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){if(a(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var r=c.hasOwnProperty(n)?c[n]:null;return a("DEFINE_MANY_MERGED"===r,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=f(e[n],i))}e[n]=i}}}(e,t)},autobind:function(){}};function d(e,t){var n=l.hasOwnProperty(t)?l[t]:null;b.hasOwnProperty(t)&&a("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&a("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function h(e,n){if(n){a("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype,r=i.__reactAutoBindPairs;for(var s in n.hasOwnProperty(o)&&u.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==o){var c=n[s],h=i.hasOwnProperty(s);if(d(h,s),u.hasOwnProperty(s))u[s](e,c);else{var p=l.hasOwnProperty(s);if("function"==typeof c&&!p&&!h&&!1!==n.autobind)r.push(s,c),i[s]=c;else if(h){var g=l[s];a(p&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,s),"DEFINE_MANY_MERGED"===g?i[s]=f(i[s],c):"DEFINE_MANY"===g&&(i[s]=m(i[s],c))}else i[s]=c}}}else;}function p(e,t){for(var n in a(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(a(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return p(r,n),p(r,i),r}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,t){return t.bind(e)}var v={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return i(_.prototype,e.prototype,b),function(e){var t=function(e,i,o){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];e[i]=g(e,r)}}(this),this.props=e,this.context=i,this.refs=r,this.updater=o||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;a("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var i in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(h.bind(null,t)),h(t,v),h(t,e),h(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),a(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[i]||(t.prototype[i]=null);return t}}},2555:(e,t,n)=>{"use strict";var i=n(7294),r=n(6511);if(void 0===i)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new i.Component).updater;e.exports=r(i.Component,i.isValidElement,a)},1012:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],i=0;i<e.length;i+=3)for(var r=e[i]<<16|e[i+1]<<8|e[i+2],a=0;a<4;a++)8*i+6*a<=8*e.length?n.push(t.charAt(r>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<e.length;r=++i%4)0!=r&&n.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(i))>>>6-2*r);return n}},e.exports=n},5078:(e,t,n)=>{var i,r;!function(){var a={version:"3.5.17"},o=[].slice,s=function(e){return o.call(e)},l=this.document;function c(e){return e&&(e.ownerDocument||e.document||e).documentElement}function u(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(e){s=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var d=this.Element.prototype,h=d.setAttribute,p=d.setAttributeNS,f=this.CSSStyleDeclaration.prototype,m=f.setProperty;d.setAttribute=function(e,t){h.call(this,e,t+"")},d.setAttributeNS=function(e,t,n){p.call(this,e,t,n+"")},f.setProperty=function(e,t,n){m.call(this,e,t+"",n)}}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function v(e){return null===e?NaN:+e}function y(e){return!isNaN(e)}function b(e){return{left:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var a=i+r>>>1;e(t[a],n)<0?i=a+1:r=a}return i},right:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var a=i+r>>>1;e(t[a],n)>0?r=a:i=a+1}return i}}}a.ascending=g,a.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},a.min=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},a.max=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},a.extent=function(e,t){var n,i,r,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=e[a])&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=e[a])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++a<o;)if(null!=(i=t.call(e,e[a],a))&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=t.call(e,e[a],a))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},a.sum=function(e,t){var n,i=0,r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)y(n=+e[a])&&(i+=n);else for(;++a<r;)y(n=+t.call(e,e[a],a))&&(i+=n);return i},a.mean=function(e,t){var n,i=0,r=e.length,a=-1,o=r;if(1===arguments.length)for(;++a<r;)y(n=v(e[a]))?i+=n:--o;else for(;++a<r;)y(n=v(t.call(e,e[a],a)))?i+=n:--o;if(o)return i/o},a.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],a=n-i;return a?r+a*(e[i]-r):r},a.median=function(e,t){var n,i=[],r=e.length,o=-1;if(1===arguments.length)for(;++o<r;)y(n=v(e[o]))&&i.push(n);else for(;++o<r;)y(n=v(t.call(e,e[o],o)))&&i.push(n);if(i.length)return a.quantile(i.sort(g),.5)},a.variance=function(e,t){var n,i,r=e.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)y(n=v(e[s]))&&(o+=(i=n-a)*(n-(a+=i/++l)));else for(;++s<r;)y(n=v(t.call(e,e[s],s)))&&(o+=(i=n-a)*(n-(a+=i/++l)));if(l>1)return o/(l-1)},a.deviation=function(){var e=a.variance.apply(this,arguments);return e?Math.sqrt(e):e};var _=b(g);function w(e){return e.length}a.bisectLeft=_.left,a.bisect=a.bisectRight=_.right,a.bisector=function(e){return b(1===e.length?function(t,n){return g(e(t),n)}:e)},a.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,a<2&&(t=0));for(var i,r,a=n-t;a;)r=Math.random()*a--|0,i=e[a+t],e[a+t]=e[r+t],e[r+t]=i;return e},a.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},a.pairs=function(e){for(var t=0,n=e.length-1,i=e[0],r=new Array(n<0?0:n);t<n;)r[t]=[i,i=e[++t]];return r},a.transpose=function(e){if(!(r=e.length))return[];for(var t=-1,n=a.min(e,w),i=new Array(n);++t<n;)for(var r,o=-1,s=i[t]=new Array(r);++o<r;)s[o]=e[o][t];return i},a.zip=function(){return a.transpose(arguments)},a.keys=function(e){var t=[];for(var n in e)t.push(n);return t},a.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},a.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},a.merge=function(e){for(var t,n,i,r=e.length,a=-1,o=0;++a<r;)o+=e[a].length;for(n=new Array(o);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--o]=i[t];return n};var k=Math.abs;function x(e){for(var t=1;e*t%1;)t*=10;return t}function E(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function C(){this._=Object.create(null)}a.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var i,r=[],a=x(k(n)),o=-1;if(e*=a,t*=a,(n*=a)<0)for(;(i=e+n*++o)>t;)r.push(i/a);else for(;(i=e+n*++o)<t;)r.push(i/a);return r},a.map=function(e,t){var n=new C;if(e instanceof C)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var i,r=-1,a=e.length;if(1===arguments.length)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t.call(e,i=e[r],r),i)}else for(var o in e)n.set(o,e[o]);return n};function S(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function T(e){return"\0"===(e+="")[0]?e.slice(1):e}function D(e){return S(e)in this._}function F(e){return(e=S(e))in this._&&delete this._[e]}function M(){var e=[];for(var t in this._)e.push(T(t));return e}function A(){var e=0;for(var t in this._)++e;return e}function I(){for(var e in this._)return!1;return!0}function O(){this._=Object.create(null)}function N(e){return e}function P(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function R(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=j.length;n<i;++n){var r=j[n]+t;if(r in e)return r}}E(C,{has:D,get:function(e){return this._[S(e)]},set:function(e,t){return this._[S(e)]=t},remove:F,keys:M,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:T(t),value:this._[t]});return e},size:A,empty:I,forEach:function(e){for(var t in this._)e.call(this,T(t),this._[t])}}),a.nest=function(){var e,t,n={},i=[],r=[];function o(r,a,s){if(s>=i.length)return t?t.call(n,a):e?a.sort(e):a;for(var l,c,u,d,h=-1,p=a.length,f=i[s++],m=new C;++h<p;)(d=m.get(l=f(c=a[h])))?d.push(c):m.set(l,[c]);return r?(c=r(),u=function(e,t){c.set(e,o(r,t,s))}):(c={},u=function(e,t){c[e]=o(r,t,s)}),m.forEach(u),c}function s(e,t){if(t>=i.length)return e;var n=[],a=r[t++];return e.forEach((function(e,i){n.push({key:e,values:s(i,t)})})),a?n.sort((function(e,t){return a(e.key,t.key)})):n}return n.map=function(e,t){return o(t,e,0)},n.entries=function(e){return s(o(a.map,e,0),0)},n.key=function(e){return i.push(e),n},n.sortKeys=function(e){return r[i.length-1]=e,n},n.sortValues=function(t){return e=t,n},n.rollup=function(e){return t=e,n},n},a.set=function(e){var t=new O;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},E(O,{has:D,add:function(e){return this._[S(e+="")]=!0,e},remove:F,values:M,size:A,empty:I,forEach:function(e){for(var t in this._)e.call(this,T(t))}}),a.behavior={},a.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=P(e,t,t[n]);return e};var j=["webkit","ms","moz","Moz","o","O"];function L(){}function q(){}function Z(e){var t=[],n=new C;function i(){for(var n,i=t,r=-1,a=i.length;++r<a;)(n=i[r].on)&&n.apply(this,arguments);return e}return i.on=function(i,r){var a,o=n.get(i);return arguments.length<2?o&&o.on:(o&&(o.on=null,t=t.slice(0,a=t.indexOf(o)).concat(t.slice(a+1)),n.remove(i)),r&&t.push(n.set(i,{on:r})),e)},i}function B(){a.event.preventDefault()}function V(){for(var e,t=a.event;e=t.sourceEvent;)t=e;return t}function z(e){for(var t=new q,n=0,i=arguments.length;++n<i;)t[arguments[n]]=Z(t);return t.of=function(n,i){return function(r){try{var o=r.sourceEvent=a.event;r.target=e,a.event=r,t[r.type].apply(n,i)}finally{a.event=o}}},t}a.dispatch=function(){for(var e=new q,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=Z(e);return e},q.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},a.event=null,a.requote=function(e){return e.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,W={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function H(e){return W(e,G),e}var Y=function(e,t){return t.querySelector(e)},$=function(e,t){return t.querySelectorAll(e)},K=function(e,t){var n=e.matches||e[R(e,"matchesSelector")];return K=function(e,t){return n.call(e,t)},K(e,t)};"function"==typeof Sizzle&&(Y=function(e,t){return Sizzle(e,t)[0]||null},$=Sizzle,K=Sizzle.matchesSelector),a.selection=function(){return a.select(l.documentElement)};var G=a.selection.prototype=[];function X(e){return"function"==typeof e?e:function(){return Y(e,this)}}function Q(e){return"function"==typeof e?e:function(){return $(e,this)}}G.select=function(e){var t,n,i,r,a=[];e=X(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(i=this[o]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return H(a)},G.selectAll=function(e){var t,n,i=[];e=Q(e);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],l=-1,c=o.length;++l<c;)(n=o[l])&&(i.push(t=s(e.call(n,n.__data__,l,r))),t.parentNode=n);return H(i)};var J="http://www.w3.org/1999/xhtml",ee={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function te(e,t){return e=a.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function ne(e){return e.trim().replace(/\s+/g," ")}function ie(e){return new RegExp("(?:^|\\s+)"+a.requote(e)+"(?:\\s+|$)","g")}function re(e){return(e+"").trim().split(/^|\s+/)}function ae(e,t){var n=(e=re(e).map(oe)).length;return"function"==typeof t?function(){for(var i=-1,r=t.apply(this,arguments);++i<n;)e[i](this,r)}:function(){for(var i=-1;++i<n;)e[i](this,t)}}function oe(e){var t=ie(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",ne(r+" "+e))):n.setAttribute("class",ne(r.replace(t," ")))}}function se(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}:function(){this.style.setProperty(e,t,n)}}function le(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function ce(e){return"function"==typeof e?e:(e=a.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===J&&t.documentElement.namespaceURI===J?t.createElement(e):t.createElementNS(n,e)}}function ue(){var e=this.parentNode;e&&e.removeChild(this)}function de(e){return{__data__:e}}function he(e){return function(){return K(this,e)}}function pe(e){return arguments.length||(e=g),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function fe(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,a=e[n],o=0,s=a.length;o<s;o++)(r=a[o])&&t(r,o,n);return e}function me(e){return W(e,ge),e}a.ns={prefix:ee,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),ee.hasOwnProperty(n)?{space:ee[n],local:e}:e}},G.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=a.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(te(t,e[t]));return this}return this.each(te(e,t))},G.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=re(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!ie(e[r]).test(t))return!1;return!0}for(t in e)this.each(ae(t,e[t]));return this}return this.each(ae(e,t))},G.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.each(se(n,e[n],t));return this}if(i<2){var r=this.node();return u(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(se(e,t,n))},G.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(le(t,e[t]));return this}return this.each(le(e,t))},G.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},G.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},G.append=function(e){return e=ce(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},G.insert=function(e,t){return e=ce(e),t=X(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},G.remove=function(){return this.each(ue)},G.data=function(e,t){var n,i,r=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(n=this[0]).length);++r<a;)(i=n[r])&&(e[r]=i.__data__);return e}function o(e,n){var i,r,a,o=e.length,u=n.length,d=Math.min(o,u),h=new Array(u),p=new Array(u),f=new Array(o);if(t){var m,g=new C,v=new Array(o);for(i=-1;++i<o;)(r=e[i])&&(g.has(m=t.call(r,r.__data__,i))?f[i]=r:g.set(m,r),v[i]=m);for(i=-1;++i<u;)(r=g.get(m=t.call(n,a=n[i],i)))?!0!==r&&(h[i]=r,r.__data__=a):p[i]=de(a),g.set(m,!0);for(i=-1;++i<o;)i in v&&!0!==g.get(v[i])&&(f[i]=e[i])}else{for(i=-1;++i<d;)r=e[i],a=n[i],r?(r.__data__=a,h[i]=r):p[i]=de(a);for(;i<u;++i)p[i]=de(n[i]);for(;i<o;++i)f[i]=e[i]}p.update=h,p.parentNode=h.parentNode=f.parentNode=e.parentNode,s.push(p),l.push(h),c.push(f)}var s=me([]),l=H([]),c=H([]);if("function"==typeof e)for(;++r<a;)o(n=this[r],e.call(n,n.parentNode.__data__,r));else for(;++r<a;)o(n=this[r],e);return l.enter=function(){return s},l.exit=function(){return c},l},G.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},G.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=he(e));for(var a=0,o=this.length;a<o;a++){r.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&e.call(i,i.__data__,s,a)&&t.push(i)}return H(r)},G.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},G.sort=function(e){e=pe.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},G.each=function(e){return fe(this,(function(t,n,i){e.call(t,t.__data__,n,i)}))},G.call=function(e){var t=s(arguments);return e.apply(t[0]=this,t),this},G.empty=function(){return!this.node()},G.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}return null},G.size=function(){var e=0;return fe(this,(function(){++e})),e};var ge=[];function ve(e){var t,n;return function(i,r,a){var o,s=e[a].update,l=s.length;for(a!=n&&(n=a,t=0),r>=t&&(t=r+1);!(o=s[t])&&++t<l;);return o}}function ye(e,t,n){var i="__on"+e,r=e.indexOf("."),o=_e;r>0&&(e=e.slice(0,r));var l=be.get(e);function c(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}return l&&(e=l,o=we),r?t?function(){var r=o(t,s(arguments));c.call(this),this.addEventListener(e,this[i]=r,r.$=n),r._=t}:c:t?L:function(){var t,n=new RegExp("^__on([^.]+)"+a.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}}a.selection.enter=me,a.selection.enter.prototype=ge,ge.append=G.append,ge.empty=G.empty,ge.node=G.node,ge.call=G.call,ge.size=G.size,ge.select=function(e){for(var t,n,i,r,a,o=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,o.push(t=[]),t.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(a=r[c])?(t.push(i[c]=n=e.call(r.parentNode,a.__data__,c,s)),n.__data__=a.__data__):t.push(null)}return H(o)},ge.insert=function(e,t){return arguments.length<2&&(t=ve(this)),G.insert.call(this,e,t)},a.select=function(e){var t;return"string"==typeof e?(t=[Y(e,l)]).parentNode=l.documentElement:(t=[e]).parentNode=c(e),H([t])},a.selectAll=function(e){var t;return"string"==typeof e?(t=s($(e,l))).parentNode=l.documentElement:(t=s(e)).parentNode=null,H([t])},G.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=!1),e)this.each(ye(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(ye(e,t,n))};var be=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function _e(e,t){return function(n){var i=a.event;a.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{a.event=i}}}function we(e,t){var n=_e(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}l&&be.forEach((function(e){"on"+e in l&&be.remove(e)}));var ke,xe=0;function Ee(e){var t=".dragsuppress-"+ ++xe,n="click"+t,i=a.select(u(e)).on("touchmove"+t,B).on("dragstart"+t,B).on("selectstart"+t,B);if(null==ke&&(ke=!("onselectstart"in e)&&R(e.style,"userSelect")),ke){var r=c(e).style,o=r[ke];r[ke]="none"}return function(e){if(i.on(t,null),ke&&(r[ke]=o),e){var a=function(){i.on(n,null)};i.on(n,(function(){B(),a()}),!0),setTimeout(a,0)}}}a.mouse=function(e){return Se(e,V())};var Ce=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Se(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(Ce<0){var r=u(e);if(r.scrollX||r.scrollY){var o=(n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ce=!(o.f||o.e),n.remove()}}return Ce?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Te(){return a.event.changedTouches[0].identifier}a.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=V().changedTouches),t)for(var i,r=0,a=t.length;r<a;++r)if((i=t[r]).identifier===n)return Se(e,i)},a.behavior.drag=function(){var e=z(r,"drag","dragstart","dragend"),t=null,n=o(L,a.mouse,u,"mousemove","mouseup"),i=o(Te,a.touch,N,"touchmove","touchend");function r(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function o(n,i,r,o,s){return function(){var l,c=this,u=a.event.target.correspondingElement||a.event.target,d=c.parentNode,h=e.of(c,arguments),p=0,f=n(),m=".drag"+(null==f?"":"-"+f),g=a.select(r(u)).on(o+m,b).on(s+m,_),v=Ee(u),y=i(d,f);function b(){var e,t,n=i(d,f);n&&(e=n[0]-y[0],t=n[1]-y[1],p|=e|t,y=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}function _(){i(d,f)&&(g.on(o+m,null).on(s+m,null),v(p),h({type:"dragend"}))}l=t?[(l=t.apply(c,arguments)).x-y[0],l.y-y[1]]:[0,0],h({type:"dragstart"})}}return r.origin=function(e){return arguments.length?(t=e,r):t},a.rebind(r,e,"on")},a.touches=function(e,t){return arguments.length<2&&(t=V().touches),t?s(t).map((function(t){var n=Se(e,t);return n.identifier=t.identifier,n})):[]};var De=1e-6,Fe=De*De,Me=Math.PI,Ae=2*Me,Ie=Ae-De,Oe=Me/2,Ne=Me/180,Pe=180/Me;function Re(e){return e>0?1:e<0?-1:0}function je(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Le(e){return e>1?0:e<-1?Me:Math.acos(e)}function qe(e){return e>1?Oe:e<-1?-Oe:Math.asin(e)}function Ze(e){return((e=Math.exp(e))+1/e)/2}function Be(e){return(e=Math.sin(e/2))*e}var Ve=Math.SQRT2;a.interpolateZoom=function(e,t){var n,i,r=e[0],a=e[1],o=e[2],s=t[0],l=t[1],c=t[2],u=s-r,d=l-a,h=u*u+d*d;if(h<Fe)i=Math.log(c/o)/Ve,n=function(e){return[r+e*u,a+e*d,o*Math.exp(Ve*e*i)]};else{var p=Math.sqrt(h),f=(c*c-o*o+4*h)/(2*o*2*p),m=(c*c-o*o-4*h)/(2*c*2*p),g=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(m*m+1)-m);i=(v-g)/Ve,n=function(e){var t,n=e*i,s=Ze(g),l=o/(2*p)*(s*(t=Ve*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[r+l*u,a+l*d,o*s/Ze(Ve*n+g)]}}return n.duration=1e3*i,n},a.behavior.zoom=function(){var e,t,n,i,r,o,s,c,d,h={x:0,y:0,k:1},p=[960,500],f=We,m=250,g=0,v="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",_="touchstart.zoom",w=z(k,"zoomstart","zoom","zoomend");function k(e){e.on(v,A).on(Ue+".zoom",O).on("dblclick.zoom",N).on(_,I)}function x(e){return[(e[0]-h.x)/h.k,(e[1]-h.y)/h.k]}function E(e){h.k=Math.max(f[0],Math.min(f[1],e))}function C(e,t){t=function(e){return[e[0]*h.k+h.x,e[1]*h.k+h.y]}(t),h.x+=e[0]-t[0],h.y+=e[1]-t[1]}function S(e,n,i,r){e.__chart__={x:h.x,y:h.y,k:h.k},E(Math.pow(2,r)),C(t=n,i),e=a.select(e),m>0&&(e=e.transition().duration(m)),e.call(k.event)}function T(){s&&s.domain(o.range().map((function(e){return(e-h.x)/h.k})).map(o.invert)),d&&d.domain(c.range().map((function(e){return(e-h.y)/h.k})).map(c.invert))}function D(e){g++||e({type:"zoomstart"})}function F(e){T(),e({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function M(e){--g||(e({type:"zoomend"}),t=null)}function A(){var e=this,t=w.of(e,arguments),n=0,i=a.select(u(e)).on(y,s).on(b,l),r=x(a.mouse(e)),o=Ee(e);function s(){n=1,C(a.mouse(e),r),F(t)}function l(){i.on(y,null).on(b,null),o(n),M(t)}js.call(e),D(t)}function I(){var e,t=this,n=w.of(t,arguments),i={},o=0,s=".zoom-"+a.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],d=a.select(t),p=Ee(t);function f(){var n=a.touches(t);return e=h.k,n.forEach((function(e){e.identifier in i&&(i[e.identifier]=x(e))})),n}function m(){var e=a.event.target;a.select(e).on(l,g).on(c,y),u.push(e);for(var n=a.event.changedTouches,s=0,d=n.length;s<d;++s)i[n[s].identifier]=null;var p=f(),m=Date.now();if(1===p.length){if(m-r<500){var v=p[0];S(t,v,i[v.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),B()}r=m}else if(p.length>1){v=p[0];var b=p[1],_=v[0]-b[0],w=v[1]-b[1];o=_*_+w*w}}function g(){var s,l,c,u,d=a.touches(t);js.call(t);for(var h=0,p=d.length;h<p;++h,u=null)if(c=d[h],u=i[c.identifier]){if(l)break;s=c,l=u}if(u){var f=(f=c[0]-s[0])*f+(f=c[1]-s[1])*f,m=o&&Math.sqrt(f/o);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],E(m*e)}r=null,C(s,l),F(n)}function y(){if(a.event.touches.length){for(var e=a.event.changedTouches,t=0,r=e.length;t<r;++t)delete i[e[t].identifier];for(var o in i)return void f()}a.selectAll(u).on(s,null),d.on(v,A).on(_,I),p(),M(n)}m(),D(n),d.on(v,null).on(_,m)}function O(){var r=w.of(this,arguments);i?clearTimeout(i):(js.call(this),e=x(t=n||a.mouse(this)),D(r)),i=setTimeout((function(){i=null,M(r)}),50),B(),E(Math.pow(2,.002*ze())*h.k),C(t,e),F(r)}function N(){var e=a.mouse(this),t=Math.log(h.k)/Math.LN2;S(this,e,x(e),a.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return Ue||(Ue="onwheel"in l?(ze=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(ze=function(){return a.event.wheelDelta},"mousewheel"):(ze=function(){return-a.event.detail},"MozMousePixelScroll")),k.event=function(e){e.each((function(){var e=w.of(this,arguments),n=h;Zs?a.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},D(e)})).tween("zoom:zoom",(function(){var i=p[0],r=p[1],o=t?t[0]:i/2,s=t?t[1]:r/2,l=a.interpolateZoom([(o-h.x)/h.k,(s-h.y)/h.k,i/h.k],[(o-n.x)/n.k,(s-n.y)/n.k,i/n.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=h={x:o-n[0]*r,y:s-n[1]*r,k:r},F(e)}})).each("interrupt.zoom",(function(){M(e)})).each("end.zoom",(function(){M(e)})):(this.__chart__=h,D(e),F(e),M(e))}))},k.translate=function(e){return arguments.length?(h={x:+e[0],y:+e[1],k:h.k},T(),k):[h.x,h.y]},k.scale=function(e){return arguments.length?(h={x:h.x,y:h.y,k:null},E(+e),T(),k):h.k},k.scaleExtent=function(e){return arguments.length?(f=null==e?We:[+e[0],+e[1]],k):f},k.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],k):n},k.size=function(e){return arguments.length?(p=e&&[+e[0],+e[1]],k):p},k.duration=function(e){return arguments.length?(m=+e,k):m},k.x=function(e){return arguments.length?(s=e,o=e.copy(),h={x:0,y:0,k:1},k):s},k.y=function(e){return arguments.length?(d=e,c=e.copy(),h={x:0,y:0,k:1},k):d},a.rebind(k,w,"on")};var ze,Ue,We=[0,1/0];function He(){}function Ye(e,t,n){return this instanceof Ye?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Ye?new Ye(e.h,e.s,e.l):ft(""+e,mt,Ye):new Ye(e,t,n)}a.color=He,He.prototype.toString=function(){return this.rgb()+""},a.hsl=Ye;var $e=Ye.prototype=new He;function Ke(e,t,n){var i,r;function a(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+t):n+t-n*t),new ct(a(e+120),a(e),a(e-120))}function Ge(e,t,n){return this instanceof Ge?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof Ge?new Ge(e.h,e.c,e.l):at(e instanceof Je?e.l:(e=gt((e=a.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Ge(e,t,n)}$e.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ye(this.h,this.s,this.l/e)},$e.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ye(this.h,this.s,e*this.l)},$e.rgb=function(){return Ke(this.h,this.s,this.l)},a.hcl=Ge;var Xe=Ge.prototype=new He;function Qe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Je(n,Math.cos(e*=Ne)*t,Math.sin(e)*t)}function Je(e,t,n){return this instanceof Je?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Je?new Je(e.l,e.a,e.b):e instanceof Ge?Qe(e.h,e.c,e.l):gt((e=ct(e)).r,e.g,e.b):new Je(e,t,n)}Xe.brighter=function(e){return new Ge(this.h,this.c,Math.min(100,this.l+et*(arguments.length?e:1)))},Xe.darker=function(e){return new Ge(this.h,this.c,Math.max(0,this.l-et*(arguments.length?e:1)))},Xe.rgb=function(){return Qe(this.h,this.c,this.l).rgb()},a.lab=Je;var et=18,tt=.95047,nt=1.08883,it=Je.prototype=new He;function rt(e,t,n){var i=(e+16)/116,r=i+t/500,a=i-n/200;return new ct(lt(3.2404542*(r=ot(r)*tt)-1.5371385*(i=1*ot(i))-.4985314*(a=ot(a)*nt)),lt(-.969266*r+1.8760108*i+.041556*a),lt(.0556434*r-.2040259*i+1.0572252*a))}function at(e,t,n){return e>0?new Ge(Math.atan2(n,t)*Pe,Math.sqrt(t*t+n*n),e):new Ge(NaN,NaN,e)}function ot(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function st(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function lt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ct(e,t,n){return this instanceof ct?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ct?new ct(e.r,e.g,e.b):ft(""+e,ct,Ke):new ct(e,t,n)}function ut(e){return new ct(e>>16,e>>8&255,255&e)}function dt(e){return ut(e)+""}it.brighter=function(e){return new Je(Math.min(100,this.l+et*(arguments.length?e:1)),this.a,this.b)},it.darker=function(e){return new Je(Math.max(0,this.l-et*(arguments.length?e:1)),this.a,this.b)},it.rgb=function(){return rt(this.l,this.a,this.b)},a.rgb=ct;var ht=ct.prototype=new He;function pt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ft(e,t,n){var i,r,a,o=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(yt(r[0]),yt(r[1]),yt(r[2]))}return(a=bt.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),t(o,s,l))}function mt(e,t,n){var i,r,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,l=(o+a)/2;return s?(r=l<.5?s/(o+a):s/(2-o-a),i=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new Ye(i,r,l)}function gt(e,t,n){var i=st((.4124564*(e=vt(e))+.3575761*(t=vt(t))+.1804375*(n=vt(n)))/tt),r=st((.2126729*e+.7151522*t+.072175*n)/1);return Je(116*r-16,500*(i-r),200*(r-st((.0193339*e+.119192*t+.9503041*n)/nt)))}function vt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function yt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}ht.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&t<r&&(t=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new ct(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new ct(r,r,r)},ht.darker=function(e){return new ct((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ht.hsl=function(){return mt(this.r,this.g,this.b)},ht.toString=function(){return"#"+pt(this.r)+pt(this.g)+pt(this.b)};var bt=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function _t(e){return"function"==typeof e?e:function(){return e}}function wt(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),kt(t,n,e,i)}}function kt(e,t,n,i){var r={},o=a.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function d(){var e,t=c.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(c)||t>=200&&t<300||304===t){try{e=n.call(r,c)}catch(e){return void o.error.call(r,e)}o.load.call(r,e)}else o.error.call(r,c)}return this.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=d:c.onreadystatechange=function(){c.readyState>3&&d()},c.onprogress=function(e){var t=a.event;a.event=e;try{o.progress.call(r,c)}finally{a.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(u=e,r):u},r.response=function(e){return n=e,r},["get","post"].forEach((function(e){r[e]=function(){return r.send.apply(r,[e].concat(s(arguments)))}})),r.send=function(n,i,a){if(2===arguments.length&&"function"==typeof i&&(a=i,i=null),c.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=u&&(c.responseType=u),null!=a&&r.on("error",a).on("load",(function(e){a(null,e)})),o.beforesend.call(r,c),c.send(null==i?null:i),r},r.abort=function(){return c.abort(),r},a.rebind(r,o,"on"),null==i?r:r.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(i))}bt.forEach((function(e,t){bt.set(e,ut(t))})),a.functor=_t,a.xhr=wt(N),a.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),i=e.charCodeAt(0);function r(e,n,i){arguments.length<3&&(i=n,n=null);var r=kt(e,t,null==n?a:o(n),i);return r.row=function(e){return arguments.length?r.response(null==(n=e)?a:o(e)):n},r}function a(e){return r.parse(e.responseText)}function o(e){return function(t){return r.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return r.parse=function(e,t){var n;return r.parseRows(e,(function(e,i){if(n)return n(e,i-1);var r=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");n=t?function(e,n){return t(r(e),n)}:r}))},r.parseRows=function(e,t){var n,r,a={},o={},s=[],l=e.length,c=0,u=0;function d(){if(c>=l)return o;if(r)return r=!1,a;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return c=n+2,13===(s=e.charCodeAt(n+1))?(r=!0,10===e.charCodeAt(n+2)&&++c):10===s&&(r=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<l;){var s,u=1;if(10===(s=e.charCodeAt(c++)))r=!0;else if(13===s)r=!0,10===e.charCodeAt(c)&&(++c,++u);else if(s!==i)continue;return e.slice(t,c-u)}return e.slice(t)}for(;(n=d())!==o;){for(var h=[];n!==a&&n!==o;)h.push(n),n=d();t&&null==(h=t(h,u++))||s.push(h)}return s},r.format=function(t){if(Array.isArray(t[0]))return r.formatRows(t);var n=new O,i=[];return t.forEach((function(e){for(var t in e)n.has(t)||i.push(n.add(t))})),[i.map(l).join(e)].concat(t.map((function(t){return i.map((function(e){return l(t[e])})).join(e)}))).join("\n")},r.formatRows=function(e){return e.map(s).join("\n")},r},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var xt,Et,Ct,St,Tt=this[R(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Dt(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());var r=n+t,a={c:e,t:r,n:null};return Et?Et.n=a:xt=a,Et=a,Ct||(St=clearTimeout(St),Ct=1,Tt(Ft)),a}function Ft(){var e=Mt(),t=At()-e;t>24?(isFinite(t)&&(clearTimeout(St),St=setTimeout(Ft,t)),Ct=0):(Ct=1,Tt(Ft))}function Mt(){for(var e=Date.now(),t=xt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function At(){for(var e,t=xt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:xt=t.n;return Et=e,n}function It(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}a.timer=function(){Dt.apply(this,arguments)},a.timer.flush=function(){Mt(),At()},a.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Ot=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(e,t){var n=Math.pow(10,3*k(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}));function Nt(e){var t=e.decimal,n=e.thousands,i=e.grouping,r=e.currency,o=i&&n?function(e,t){for(var r=e.length,a=[],o=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),a.push(e.substring(r-=s,r+s)),!((l+=s+1)>t));)s=i[o=(o+1)%i.length];return a.reverse().join(n)}:N;return function(e){var n=Pt.exec(e),i=n[1]||" ",s=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],p=n[8],f=n[9],m=1,g="",v="",y=!1,b=!0;switch(p&&(p=+p.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),f){case"n":h=!0,f="g";break;case"%":m=100,v="%",f="f";break;case"p":m=100,v="%",f="r";break;case"b":case"o":case"x":case"X":"#"===c&&(g="0"+f.toLowerCase());case"c":b=!1;case"d":y=!0,p=0;break;case"s":m=-1,f="r"}"$"===c&&(g=r[0],v=r[1]),"r"!=f||p||(f="g"),null!=p&&("g"==f?p=Math.max(1,Math.min(21,p)):"e"!=f&&"f"!=f||(p=Math.max(0,Math.min(20,p)))),f=Rt.get(f)||jt;var _=u&&h;return function(e){var n=v;if(y&&e%1)return"";var r=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(m<0){var c=a.formatPrefix(e,p);e=c.scale(e),n=c.symbol+v}else e*=m;var w,k,x=(e=f(e,p)).lastIndexOf(".");if(x<0){var E=b?e.lastIndexOf("e"):-1;E<0?(w=e,k=""):(w=e.substring(0,E),k=e.substring(E))}else w=e.substring(0,x),k=t+e.substring(x+1);!u&&h&&(w=o(w,1/0));var C=g.length+w.length+k.length+(_?0:r.length),S=C<d?new Array(C=d-C+1).join(i):"";return _&&(w=o(S+w,S.length?d-k.length:1/0)),r+=g,e=w+k,("<"===s?r+e+S:">"===s?S+r+e:"^"===s?S.substring(0,C>>=1)+r+e+S.substring(C):r+(_?e:S+e))+n}}}a.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=a.round(e,It(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ot[8+n/3]};var Pt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Rt=a.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=a.round(e,It(e,t))).toFixed(Math.max(0,Math.min(20,It(e*(1+1e-15),t))))}});function jt(e){return e+""}var Lt=a.time={},qt=Date;function Zt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Zt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Bt.setUTCDate.apply(this._,arguments)},setDay:function(){Bt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Bt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Bt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Bt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Bt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Bt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Bt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Bt.setTime.apply(this._,arguments)}};var Bt=Date.prototype;function Vt(e,t,n){function i(t){var n=e(t),i=a(n,1);return t-n<i-t?n:i}function r(n){return t(n=e(new qt(n-1)),1),n}function a(e,n){return t(e=new qt(+e),n),e}function o(e,i,a){var o=r(e),s=[];if(a>1)for(;o<i;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;o<i;)s.push(new Date(+o)),t(o,1);return s}e.floor=e,e.round=i,e.ceil=r,e.offset=a,e.range=o;var s=e.utc=zt(e);return s.floor=s,s.round=zt(i),s.ceil=zt(r),s.offset=zt(a),s.range=function(e,t,n){try{qt=Zt;var i=new Zt;return i._=e,o(i,t,n)}finally{qt=Date}},e}function zt(e){return function(t,n){try{qt=Zt;var i=new Zt;return i._=t,e(i,n)._}finally{qt=Date}}}function Ut(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,s=e.shortDays,l=e.months,c=e.shortMonths;function u(e){var t=e.length;function n(n){for(var i,r,a,o=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(r=Wt[i=e.charAt(++s)])&&(i=e.charAt(++s)),(a=w[i])&&(i=a(n,null==r?"e"===i?" ":"0":r)),o.push(i),l=s+1);return o.push(e.slice(l,s)),o.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&qt!==Zt,r=new(i?Zt:qt);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return e},n}function d(e,t,n,i){for(var r,a,o,s=0,l=t.length,c=n.length;s<l;){if(i>=c)return-1;if(37===(r=t.charCodeAt(s++))){if(o=t.charAt(s++),!(a=k[o in Wt?t.charAt(s++):o])||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}u.utc=function(e){var t=u(e);function n(e){try{var n=new(qt=Zt);return n._=e,t(n)}finally{qt=Date}}return n.parse=function(e){try{qt=Zt;var n=t.parse(e);return n&&n._}finally{qt=Date}},n.toString=t.toString,n},u.multi=u.utc.multi=pn;var h=a.map(),p=Kt(o),f=Gt(o),m=Kt(s),g=Gt(s),v=Kt(l),y=Gt(l),b=Kt(c),_=Gt(c);r.forEach((function(e,t){h.set(e.toLowerCase(),t)}));var w={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:u(t),d:function(e,t){return $t(e.getDate(),t,2)},e:function(e,t){return $t(e.getDate(),t,2)},H:function(e,t){return $t(e.getHours(),t,2)},I:function(e,t){return $t(e.getHours()%12||12,t,2)},j:function(e,t){return $t(1+Lt.dayOfYear(e),t,3)},L:function(e,t){return $t(e.getMilliseconds(),t,3)},m:function(e,t){return $t(e.getMonth()+1,t,2)},M:function(e,t){return $t(e.getMinutes(),t,2)},p:function(e){return r[+(e.getHours()>=12)]},S:function(e,t){return $t(e.getSeconds(),t,2)},U:function(e,t){return $t(Lt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return $t(Lt.mondayOfYear(e),t,2)},x:u(n),X:u(i),y:function(e,t){return $t(e.getFullYear()%100,t,2)},Y:function(e,t){return $t(e.getFullYear()%1e4,t,4)},Z:dn,"%":function(){return"%"}},k={a:function(e,t,n){m.lastIndex=0;var i=m.exec(t.slice(n));return i?(e.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){p.lastIndex=0;var i=p.exec(t.slice(n));return i?(e.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){b.lastIndex=0;var i=b.exec(t.slice(n));return i?(e.m=_.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){v.lastIndex=0;var i=v.exec(t.slice(n));return i?(e.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,t,n){return d(e,w.c.toString(),t,n)},d:an,e:an,H:sn,I:sn,j:on,L:un,m:rn,M:ln,p:function(e,t,n){var i=h.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)},S:cn,U:Qt,w:Xt,W:Jt,x:function(e,t,n){return d(e,w.x.toString(),t,n)},X:function(e,t,n){return d(e,w.X.toString(),t,n)},y:tn,Y:en,Z:nn,"%":hn};return u}Lt.year=Vt((function(e){return(e=Lt.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Lt.years=Lt.year.range,Lt.years.utc=Lt.year.utc.range,Lt.day=Vt((function(e){var t=new qt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Lt.days=Lt.day.range,Lt.days.utc=Lt.day.utc.range,Lt.dayOfYear=function(e){var t=Lt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Lt[e]=Vt((function(e){return(e=Lt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Lt.year(e).getDay();return Math.floor((Lt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Lt[e+"s"]=n.range,Lt[e+"s"].utc=n.utc.range,Lt[e+"OfYear"]=function(e){var n=Lt.year(e).getDay();return Math.floor((Lt.dayOfYear(e)+(n+t)%7)/7)}})),Lt.week=Lt.sunday,Lt.weeks=Lt.sunday.range,Lt.weeks.utc=Lt.sunday.utc.range,Lt.weekOfYear=Lt.sundayOfYear;var Wt={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,Yt=/^%/;function $t(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function Kt(e){return new RegExp("^(?:"+e.map(a.requote).join("|")+")","i")}function Gt(e){for(var t=new C,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Xt(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Qt(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Jt(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function en(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function tn(e,t,n){Ht.lastIndex=0;var i,r=Ht.exec(t.slice(n,n+2));return r?(e.y=(i=+r[0])+(i>68?1900:2e3),n+r[0].length):-1}function nn(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function rn(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function an(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function on(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function sn(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function ln(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function cn(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function un(e,t,n){Ht.lastIndex=0;var i=Ht.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function dn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=k(t)/60|0,r=k(t)%60;return n+$t(i,"0",2)+$t(r,"0",2)}function hn(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function pn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}a.locale=function(e){return{numberFormat:Nt(e),timeFormat:Ut(e)}};var fn=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mn(){}a.format=fn.numberFormat,a.geo={},mn.prototype={s:0,t:0,add:function(e){vn(e,this.t,gn),vn(gn.s,this.s,this),this.s?this.t+=gn.t:this.s=gn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gn=new mn;function vn(e,t,n){var i=n.s=e+t,r=i-e,a=i-r;n.t=e-a+(t-r)}function yn(e,t){e&&_n.hasOwnProperty(e.type)&&_n[e.type](e,t)}a.geo.stream=function(e,t){e&&bn.hasOwnProperty(e.type)?bn[e.type](e,t):yn(e,t)};var bn={Feature:function(e,t){yn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)yn(n[i].geometry,t)}},_n={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){wn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)wn(n[i],t,0)},Polygon:function(e,t){kn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)kn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)yn(n[i],t)}};function wn(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function kn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)wn(e[n],t,1);t.polygonEnd()}a.geo.area=function(e){return xn=0,a.geo.stream(e,Rn),xn};var xn,En,Cn,Sn,Tn,Dn,Fn,Mn,An,In,On,Nn,Pn=new mn,Rn={sphere:function(){xn+=4*Me},point:L,lineStart:L,lineEnd:L,polygonStart:function(){Pn.reset(),Rn.lineStart=jn},polygonEnd:function(){var e=2*Pn;xn+=e<0?4*Me+e:e,Rn.lineStart=Rn.lineEnd=Rn.point=L}};function jn(){var e,t,n,i,r;function a(e,t){t=t*Ne/2+Me/4;var a=(e*=Ne)-n,o=a>=0?1:-1,s=o*a,l=Math.cos(t),c=Math.sin(t),u=r*c,d=i*l+u*Math.cos(s),h=u*o*Math.sin(s);Pn.add(Math.atan2(h,d)),n=e,i=l,r=c}Rn.point=function(o,s){Rn.point=a,n=(e=o)*Ne,i=Math.cos(s=(t=s)*Ne/2+Me/4),r=Math.sin(s)},Rn.lineEnd=function(){a(e,t)}}function Ln(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function qn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Zn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Bn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Vn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function zn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Un(e){return[Math.atan2(e[1],e[0]),qe(e[2])]}function Wn(e,t){return k(e[0]-t[0])<De&&k(e[1]-t[1])<De}a.geo.bounds=function(){var e,t,n,i,r,o,s,l,c,u,d,h={point:p,lineStart:m,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,c=0,Rn.polygonStart()},polygonEnd:function(){Rn.polygonEnd(),h.point=p,h.lineStart=m,h.lineEnd=g,Pn<0?(e=-(n=180),t=-(i=90)):c>De?i=90:c<-De&&(t=-90),d[0]=e,d[1]=n}};function p(r,a){u.push(d=[e=r,n=r]),a<t&&(t=a),a>i&&(i=a)}function f(a,o){var s=Ln([a*Ne,o*Ne]);if(l){var c=Zn(l,s),u=Zn([c[1],-c[0],0],c);zn(u),u=Un(u);var d=a-r,h=d>0?1:-1,f=u[0]*Pe*h,m=k(d)>180;if(m^(h*r<f&&f<h*a))(g=u[1]*Pe)>i&&(i=g);else if(m^(h*r<(f=(f+360)%360-180)&&f<h*a)){var g;(g=-u[1]*Pe)<t&&(t=g)}else o<t&&(t=o),o>i&&(i=o);m?a<r?_(e,a)>_(e,n)&&(n=a):_(a,n)>_(e,n)&&(e=a):n>=e?(a<e&&(e=a),a>n&&(n=a)):a>r?_(e,a)>_(e,n)&&(n=a):_(a,n)>_(e,n)&&(e=a)}else p(a,o);l=s,r=a}function m(){h.point=f}function g(){d[0]=e,d[1]=n,h.point=p,l=null}function v(e,t){if(l){var n=e-r;c+=k(n)>180?n+(n>0?360:-360):n}else o=e,s=t;Rn.point(e,t),f(e,t)}function y(){Rn.lineStart()}function b(){v(o,s),Rn.lineEnd(),k(c)>De&&(e=-(n=180)),d[0]=e,d[1]=n,l=null}function _(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function x(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(r){if(i=n=-(e=t=1/0),u=[],a.geo.stream(r,h),c=u.length){u.sort(w);for(var o=1,s=[m=u[0]];o<c;++o)x((p=u[o])[0],m)||x(p[1],m)?(_(m[0],p[1])>_(m[0],m[1])&&(m[1]=p[1]),_(p[0],m[1])>_(m[0],m[1])&&(m[0]=p[0])):s.push(m=p);for(var l,c,p,f=-1/0,m=(o=0,s[c=s.length-1]);o<=c;m=p,++o)p=s[o],(l=_(m[1],p[0]))>f&&(f=l,e=p[0],n=m[1])}return u=d=null,e===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,i]]}}(),a.geo.centroid=function(e){En=Cn=Sn=Tn=Dn=Fn=Mn=An=In=On=Nn=0,a.geo.stream(e,Hn);var t=In,n=On,i=Nn,r=t*t+n*n+i*i;return r<Fe&&(t=Fn,n=Mn,i=An,Cn<De&&(t=Sn,n=Tn,i=Dn),(r=t*t+n*n+i*i)<Fe)?[NaN,NaN]:[Math.atan2(n,t)*Pe,qe(i/Math.sqrt(r))*Pe]};var Hn={sphere:L,point:Yn,lineStart:Kn,lineEnd:Gn,polygonStart:function(){Hn.lineStart=Xn},polygonEnd:function(){Hn.lineStart=Kn}};function Yn(e,t){e*=Ne;var n=Math.cos(t*=Ne);$n(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function $n(e,t,n){++En,Sn+=(e-Sn)/En,Tn+=(t-Tn)/En,Dn+=(n-Dn)/En}function Kn(){var e,t,n;function i(i,r){i*=Ne;var a=Math.cos(r*=Ne),o=a*Math.cos(i),s=a*Math.sin(i),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=t*l-n*s)*c+(c=n*o-e*l)*c+(c=e*s-t*o)*c),e*o+t*s+n*l);Cn+=c,Fn+=c*(e+(e=o)),Mn+=c*(t+(t=s)),An+=c*(n+(n=l)),$n(e,t,n)}Hn.point=function(r,a){r*=Ne;var o=Math.cos(a*=Ne);e=o*Math.cos(r),t=o*Math.sin(r),n=Math.sin(a),Hn.point=i,$n(e,t,n)}}function Gn(){Hn.point=Yn}function Xn(){var e,t,n,i,r;function a(e,t){e*=Ne;var a=Math.cos(t*=Ne),o=a*Math.cos(e),s=a*Math.sin(e),l=Math.sin(t),c=i*l-r*s,u=r*o-n*l,d=n*s-i*o,h=Math.sqrt(c*c+u*u+d*d),p=n*o+i*s+r*l,f=h&&-Le(p)/h,m=Math.atan2(h,p);In+=f*c,On+=f*u,Nn+=f*d,Cn+=m,Fn+=m*(n+(n=o)),Mn+=m*(i+(i=s)),An+=m*(r+(r=l)),$n(n,i,r)}Hn.point=function(o,s){e=o,t=s,Hn.point=a,o*=Ne;var l=Math.cos(s*=Ne);n=l*Math.cos(o),i=l*Math.sin(o),r=Math.sin(s),$n(n,i,r)},Hn.lineEnd=function(){a(e,t),Hn.lineEnd=Gn,Hn.point=Yn}}function Qn(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function Jn(){return!0}function ei(e,t,n,i,r){var a=[],o=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(Wn(n,i)){r.lineStart();for(var s=0;s<t;++s)r.point((n=e[s])[0],n[1]);r.lineEnd()}else{var l=new ni(n,e,null,!0),c=new ni(n,null,l,!1);l.o=c,a.push(l),o.push(c),l=new ni(i,e,null,!1),c=new ni(i,null,l,!0),l.o=c,a.push(l),o.push(c)}}})),o.sort(t),ti(a),ti(o),a.length){for(var s=0,l=n,c=o.length;s<c;++s)o[s].e=l=!l;for(var u,d,h=a[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;u=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(s=0,c=u.length;s<c;++s)r.point((d=u[s])[0],d[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(f)for(s=(u=p.p.z).length-1;s>=0;--s)r.point((d=u[s])[0],d[1]);else i(p.x,p.p.x,-1,r);p=p.p}u=(p=p.o).z,f=!f}while(!p.v);r.lineEnd()}}}function ti(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function ni(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ii(e,t,n,i){return function(r,o){var s,l=t(o),c=r.invert(i[0],i[1]),u={point:d,lineStart:p,lineEnd:f,polygonStart:function(){u.point=_,u.lineStart=w,u.lineEnd=k,s=[],m=[]},polygonEnd:function(){u.point=d,u.lineStart=p,u.lineEnd=f,s=a.merge(s);var e=function(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Pn.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],h=d[0],p=d[1]/2+Me/4,f=Math.sin(p),m=Math.cos(p),g=1;;){g===u&&(g=0);var v=(e=c[g])[0],y=e[1]/2+Me/4,b=Math.sin(y),_=Math.cos(y),w=v-h,k=w>=0?1:-1,x=k*w,E=x>Me,C=f*b;if(Pn.add(Math.atan2(C*k*Math.sin(x),m*_+C*Math.cos(x))),a+=E?w+k*Ae:w,E^h>=n^v>=n){var S=Zn(Ln(d),Ln(e));zn(S);var T=Zn(r,S);zn(T);var D=(E^w>=0?-1:1)*qe(T[2]);(i>D||i===D&&(S[0]||S[1]))&&(o+=E^w>=0?1:-1)}if(!g++)break;h=v,f=b,m=_,d=e}}return(a<-De||a<De&&Pn<-De)^1&o}(c,m);s.length?(b||(o.polygonStart(),b=!0),ei(s,oi,e,n,o)):e&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),s=m=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&o.point(t,n)}function h(e,t){var n=r(e,t);l.point(n[0],n[1])}function p(){u.point=h,l.lineStart()}function f(){u.point=d,l.lineEnd()}var m,g,v=ai(),y=t(v),b=!1;function _(e,t){g.push([e,t]);var n=r(e,t);y.point(n[0],n[1])}function w(){y.lineStart(),g=[]}function k(){_(g[0][0],g[0][1]),y.lineEnd();var e,t=y.clean(),n=v.buffer(),i=n.length;if(g.pop(),m.push(g),g=null,i)if(1&t){var r,a=-1;if((i=(e=n[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++a<i;)o.point((r=e[a])[0],r[1]);o.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(ri))}return u}}function ri(e){return e.length>1}function ai(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:L,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function oi(e,t){return((e=e.x)[0]<0?e[1]-Oe-De:Oe-e[1])-((t=t.x)[0]<0?t[1]-Oe-De:Oe-t[1])}var si=ii(Jn,(function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Me:-Me,l=k(a-n);k(l-Me)<De?(e.point(n,i=(i+o)/2>0?Oe:-Oe),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(a,i),t=0):r!==s&&l>=Me&&(k(n-r)<De&&(n-=r*De),k(a-s)<De&&(a-=s*De),i=function(e,t,n,i){var r,a,o=Math.sin(e-n);return k(o)>De?Math.atan((Math.sin(t)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*a*o)):(t+i)/2}(n,i,a,o),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=a,i=o),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}),(function(e,t,n,i){var r;if(null==e)r=n*Oe,i.point(-Me,r),i.point(0,r),i.point(Me,r),i.point(Me,0),i.point(Me,-r),i.point(0,-r),i.point(-Me,-r),i.point(-Me,0),i.point(-Me,r);else if(k(e[0]-t[0])>De){var a=e[0]<t[0]?Me:-Me;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(t[0],t[1])}),[-Me,-Me/2]);function li(e){var t=Math.cos(e),n=t>0,i=k(t)>De;return ii(r,(function(e){var t,s,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var p,f=[d,h],m=r(d,h),g=n?m?0:o(d,h):m?o(d+(d<0?Me:-Me),h):0;if(!t&&(c=l=m)&&e.lineStart(),m!==l&&(p=a(t,f),(Wn(t,p)||Wn(f,p))&&(f[0]+=De,f[1]+=De,m=r(f[0],f[1]))),m!==l)u=0,m?(e.lineStart(),p=a(f,t),e.point(p[0],p[1])):(p=a(t,f),e.point(p[0],p[1]),e.lineEnd()),t=p;else if(i&&t&&n^m){var v;g&s||!(v=a(f,t,!0))||(u=0,n?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||t&&Wn(t,f)||e.point(f[0],f[1]),t=f,l=m,s=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}}),Wi(e,6*Ne),n?[0,-e]:[-Me,e-Me]);function r(e,n){return Math.cos(e)*Math.cos(n)>t}function a(e,n,i){var r=[1,0,0],a=Zn(Ln(e),Ln(n)),o=qn(a,a),s=a[0],l=o-s*s;if(!l)return!i&&e;var c=t*o/l,u=-t*s/l,d=Zn(r,a),h=Vn(r,c);Bn(h,Vn(a,u));var p=d,f=qn(h,p),m=qn(p,p),g=f*f-m*(qn(h,h)-1);if(!(g<0)){var v=Math.sqrt(g),y=Vn(p,(-f-v)/m);if(Bn(y,h),y=Un(y),!i)return y;var b,_=e[0],w=n[0],x=e[1],E=n[1];w<_&&(b=_,_=w,w=b);var C=w-_,S=k(C-Me)<De;if(!S&&E<x&&(b=x,x=E,E=b),S||C<De?S?x+E>0^y[1]<(k(y[0]-_)<De?x:E):x<=y[1]&&y[1]<=E:C>Me^(_<=y[0]&&y[0]<=w)){var T=Vn(p,(-f+v)/m);return Bn(T,h),[y,Un(T)]}}}function o(t,i){var r=n?e:Me-e,a=0;return t<-r?a|=1:t>r&&(a|=2),i<-r?a|=4:i>r&&(a|=8),a}}function ci(e,t,n,i){return function(r){var a,o=r.a,s=r.b,l=o.x,c=o.y,u=0,d=1,h=s.x-l,p=s.y-c;if(a=e-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<d&&(d=a)}else if(h>0){if(a>d)return;a>u&&(u=a)}if(a=n-l,h||!(a<0)){if(a/=h,h<0){if(a>d)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<d&&(d=a)}if(a=t-c,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>u&&(u=a)}if(a=i-c,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<d&&(d=a)}return u>0&&(r.a={x:l+u*h,y:c+u*p}),d<1&&(r.b={x:l+d*h,y:c+d*p}),r}}}}}}var ui=1e9;function di(e,t,n,i){return function(l){var c,u,d,h,p,f,m,g,v,y,b,_=l,w=ai(),k=ci(e,t,n,i),x={point:S,lineStart:function(){x.point=T,u&&u.push(d=[]);y=!0,v=!1,m=g=NaN},lineEnd:function(){c&&(T(h,p),f&&v&&w.rejoin(),c.push(w.buffer()));x.point=S,v&&l.lineEnd()},polygonStart:function(){l=w,c=[],u=[],b=!0},polygonEnd:function(){l=_,c=a.merge(c);var t=function(e){for(var t=0,n=u.length,i=e[1],r=0;r<n;++r)for(var a,o=1,s=u[r],l=s.length,c=s[0];o<l;++o)a=s[o],c[1]<=i?a[1]>i&&je(c,a,e)>0&&++t:a[1]<=i&&je(c,a,e)<0&&--t,c=a;return 0!==t}([e,i]),n=b&&t,r=c.length;(n||r)&&(l.polygonStart(),n&&(l.lineStart(),E(null,null,1,l),l.lineEnd()),r&&ei(c,o,t,E,l),l.polygonEnd()),c=u=d=null}};function E(a,o,l,c){var u=0,d=0;if(null==a||(u=r(a,l))!==(d=r(o,l))||s(a,o)<0^l>0)do{c.point(0===u||3===u?e:n,u>1?i:t)}while((u=(u+l+4)%4)!==d);else c.point(o[0],o[1])}function C(r,a){return e<=r&&r<=n&&t<=a&&a<=i}function S(e,t){C(e,t)&&l.point(e,t)}function T(e,t){var n=C(e=Math.max(-1e9,Math.min(ui,e)),t=Math.max(-1e9,Math.min(ui,t)));if(u&&d.push([e,t]),y)h=e,p=t,f=n,y=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&v)l.point(e,t);else{var i={a:{x:m,y:g},b:{x:e,y:t}};k(i)?(v||(l.lineStart(),l.point(i.a.x,i.a.y)),l.point(i.b.x,i.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(e,t),b=!1)}m=e,g=t,v=n}return x};function r(i,r){return k(i[0]-e)<De?r>0?0:3:k(i[0]-n)<De?r>0?2:1:k(i[1]-t)<De?r>0?1:0:r>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=r(e,1),i=r(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function hi(e){var t=0,n=Me/3,i=ji(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*Me/180,n=e[1]*Me/180):[t/Me*180,n/Me*180]},r}function pi(e,t){var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),a=Math.sqrt(r)/i;function o(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}return o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,qe((r-(e*e+n*n)*i*i)/(2*i))]},o}a.geo.clipExtent=function(){var e,t,n,i,r,a,o={stream:function(e){return r&&(r.valid=!1),(r=a(e)).valid=!0,r},extent:function(s){return arguments.length?(a=di(e=+s[0][0],t=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[e,t],[n,i]]}};return o.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return hi(pi)}).raw=pi,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var e,t,n,i,r=a.geo.albers(),o=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};function c(r){var a=r[0],o=r[1];return e=null,t(a,o),e||(n(a,o),e)||i(a,o),e}return c.invert=function(e){var t=r.scale(),n=r.translate(),i=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&a<.234&&i>=-.425&&i<-.214?o:a>=.166&&a<.234&&i>=-.214&&i<-.115?s:r).invert(e)},c.stream=function(e){var t=r.stream(e),n=o.stream(e),i=s.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},c.precision=function(e){return arguments.length?(r.precision(e),o.precision(e),s.precision(e),c):r.precision()},c.scale=function(e){return arguments.length?(r.scale(e),o.scale(.35*e),s.scale(e),c.translate(r.translate())):r.scale()},c.translate=function(e){if(!arguments.length)return r.translate();var a=r.scale(),u=+e[0],d=+e[1];return t=r.translate(e).clipExtent([[u-.455*a,d-.238*a],[u+.455*a,d+.238*a]]).stream(l).point,n=o.translate([u-.307*a,d+.201*a]).clipExtent([[u-.425*a+De,d+.12*a+De],[u-.214*a-De,d+.234*a-De]]).stream(l).point,i=s.translate([u-.205*a,d+.212*a]).clipExtent([[u-.214*a+De,d+.166*a+De],[u-.115*a-De,d+.234*a-De]]).stream(l).point,c},c.scale(1070)};var fi,mi,gi,vi,yi,bi,_i={point:L,lineStart:L,lineEnd:L,polygonStart:function(){mi=0,_i.lineStart=wi},polygonEnd:function(){_i.lineStart=_i.lineEnd=_i.point=L,fi+=k(mi/2)}};function wi(){var e,t,n,i;function r(e,t){mi+=i*e-n*t,n=e,i=t}_i.point=function(a,o){_i.point=r,e=n=a,t=i=o},_i.lineEnd=function(){r(e,t)}}var ki={point:function(e,t){e<gi&&(gi=e);e>yi&&(yi=e);t<vi&&(vi=t);t>bi&&(bi=t)},lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L};function xi(){var e=Ei(4.5),t=[],n={point:i,lineStart:function(){n.point=r},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=i},pointRadius:function(t){return e=Ei(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function i(n,i){t.push("M",n,",",i,e)}function r(e,i){t.push("M",e,",",i),n.point=a}function a(e,n){t.push("L",e,",",n)}function o(){n.point=i}function s(){t.push("Z")}return n}function Ei(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var Ci,Si={point:Ti,lineStart:Di,lineEnd:Fi,polygonStart:function(){Si.lineStart=Mi},polygonEnd:function(){Si.point=Ti,Si.lineStart=Di,Si.lineEnd=Fi}};function Ti(e,t){Sn+=e,Tn+=t,++Dn}function Di(){var e,t;function n(n,i){var r=n-e,a=i-t,o=Math.sqrt(r*r+a*a);Fn+=o*(e+n)/2,Mn+=o*(t+i)/2,An+=o,Ti(e=n,t=i)}Si.point=function(i,r){Si.point=n,Ti(e=i,t=r)}}function Fi(){Si.point=Ti}function Mi(){var e,t,n,i;function r(e,t){var r=e-n,a=t-i,o=Math.sqrt(r*r+a*a);Fn+=o*(n+e)/2,Mn+=o*(i+t)/2,An+=o,In+=(o=i*e-n*t)*(n+e),On+=o*(i+t),Nn+=3*o,Ti(n=e,i=t)}Si.point=function(a,o){Si.point=r,Ti(e=n=a,t=i=o)},Si.lineEnd=function(){r(e,t)}}function Ai(e){var t=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=i},pointRadius:function(e){return t=e,n},result:L};function i(n,i){e.moveTo(n+t,i),e.arc(n,i,t,0,Ae)}function r(t,i){e.moveTo(t,i),n.point=a}function a(t,n){e.lineTo(t,n)}function o(){n.point=i}function s(){e.closePath()}return n}function Ii(e){var t=.5,n=Math.cos(30*Ne),i=16;function r(e){return(i?o:a)(e)}function a(t){return Pi(t,(function(n,i){n=e(n,i),t.point(n[0],n[1])}))}function o(t){var n,r,a,o,l,c,u,d,h,p,f,m,g={point:v,lineStart:y,lineEnd:_,polygonStart:function(){t.polygonStart(),g.lineStart=w},polygonEnd:function(){t.polygonEnd(),g.lineStart=y}};function v(n,i){n=e(n,i),t.point(n[0],n[1])}function y(){d=NaN,g.point=b,t.lineStart()}function b(n,r){var a=Ln([n,r]),o=e(n,r);s(d,h,u,p,f,m,d=o[0],h=o[1],u=n,p=a[0],f=a[1],m=a[2],i,t),t.point(d,h)}function _(){g.point=v,t.lineEnd()}function w(){y(),g.point=k,g.lineEnd=x}function k(e,t){b(n=e,t),r=d,a=h,o=p,l=f,c=m,g.point=b}function x(){s(d,h,u,p,f,m,r,a,n,o,l,c,i,t),g.lineEnd=_,_()}return g}function s(i,r,a,o,l,c,u,d,h,p,f,m,g,v){var y=u-i,b=d-r,_=y*y+b*b;if(_>4*t&&g--){var w=o+p,x=l+f,E=c+m,C=Math.sqrt(w*w+x*x+E*E),S=Math.asin(E/=C),T=k(k(E)-1)<De||k(a-h)<De?(a+h)/2:Math.atan2(x,w),D=e(T,S),F=D[0],M=D[1],A=F-i,I=M-r,O=b*A-y*I;(O*O/_>t||k((y*A+b*I)/_-.5)>.3||o*p+l*f+c*m<n)&&(s(i,r,a,o,l,c,F,M,T,w/=C,x/=C,E,g,v),v.point(F,M),s(F,M,T,w,x,E,u,d,h,p,f,m,g,v))}}return r.precision=function(e){return arguments.length?(i=(t=e*e)>0&&16,r):Math.sqrt(t)},r}function Oi(e){var t=Ii((function(t,n){return e([t*Pe,n*Pe])}));return function(e){return Li(t(e))}}function Ni(e){this.stream=e}function Pi(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Ri(e){return ji((function(){return e}))()}function ji(e){var t,n,i,r,o,s,l=Ii((function(e,n){return[(e=t(e,n))[0]*c+r,o-e[1]*c]})),c=150,u=480,d=250,h=0,p=0,f=0,m=0,g=0,v=si,y=N,b=null,_=null;function w(e){return[(e=i(e[0]*Ne,e[1]*Ne))[0]*c+r,o-e[1]*c]}function k(e){return(e=i.invert((e[0]-r)/c,(o-e[1])/c))&&[e[0]*Pe,e[1]*Pe]}function x(){i=Qn(n=Bi(f,m,g),t);var e=t(h,p);return r=u-e[0]*c,o=d+e[1]*c,E()}function E(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Li(v(n,l(y(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(v=null==e?(b=e,si):li((b=+e)*Ne),E()):b},w.clipExtent=function(e){return arguments.length?(_=e,y=e?di(e[0][0],e[0][1],e[1][0],e[1][1]):N,E()):_},w.scale=function(e){return arguments.length?(c=+e,x()):c},w.translate=function(e){return arguments.length?(u=+e[0],d=+e[1],x()):[u,d]},w.center=function(e){return arguments.length?(h=e[0]%360*Ne,p=e[1]%360*Ne,x()):[h*Pe,p*Pe]},w.rotate=function(e){return arguments.length?(f=e[0]%360*Ne,m=e[1]%360*Ne,g=e.length>2?e[2]%360*Ne:0,x()):[f*Pe,m*Pe,g*Pe]},a.rebind(w,l,"precision"),function(){return t=e.apply(this,arguments),w.invert=t.invert&&k,x()}}function Li(e){return Pi(e,(function(t,n){e.point(t*Ne,n*Ne)}))}function qi(e,t){return[e,t]}function Zi(e,t){return[e>Me?e-Ae:e<-Me?e+Ae:e,t]}function Bi(e,t,n){return e?t||n?Qn(zi(e),Ui(t,n)):zi(e):t||n?Ui(t,n):Zi}function Vi(e){return function(t,n){return[(t+=e)>Me?t-Ae:t<-Me?t+Ae:t,n]}}function zi(e){var t=Vi(e);return t.invert=Vi(-e),t}function Ui(e,t){var n=Math.cos(e),i=Math.sin(e),r=Math.cos(t),a=Math.sin(t);function o(e,t){var o=Math.cos(t),s=Math.cos(e)*o,l=Math.sin(e)*o,c=Math.sin(t),u=c*n+s*i;return[Math.atan2(l*r-u*a,s*n-c*i),qe(u*r+l*a)]}return o.invert=function(e,t){var o=Math.cos(t),s=Math.cos(e)*o,l=Math.sin(e)*o,c=Math.sin(t),u=c*r-l*a;return[Math.atan2(l*r+c*a,s*n+u*i),qe(u*n-s*i)]},o}function Wi(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,a,o,s){var l=o*t;null!=r?(r=Hi(n,r),a=Hi(n,a),(o>0?r<a:r>a)&&(r+=o*Ae)):(r=e+o*Ae,a=e-.5*l);for(var c,u=r;o>0?u>a:u<a;u-=l)s.point((c=Un([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],c[1])}}function Hi(e,t){var n=Ln(t);n[0]-=e,zn(n);var i=Le(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-De)%(2*Math.PI)}function Yi(e,t,n){var i=a.range(e,t-De,n).concat(t);return function(e){return i.map((function(t){return[e,t]}))}}function $i(e,t,n){var i=a.range(e,t-De,n).concat(t);return function(e){return i.map((function(t){return[t,e]}))}}function Ki(e){return e.source}function Gi(e){return e.target}a.geo.path=function(){var e,t,n,i,r,o=4.5;function s(e){return e&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),r&&r.valid||(r=n(i)),a.geo.stream(e,r)),i.result()}function l(){return r=null,s}return s.area=function(e){return fi=0,a.geo.stream(e,n(_i)),fi},s.centroid=function(e){return Sn=Tn=Dn=Fn=Mn=An=In=On=Nn=0,a.geo.stream(e,n(Si)),Nn?[In/Nn,On/Nn]:An?[Fn/An,Mn/An]:Dn?[Sn/Dn,Tn/Dn]:[NaN,NaN]},s.bounds=function(e){return yi=bi=-(gi=vi=1/0),a.geo.stream(e,n(ki)),[[gi,vi],[yi,bi]]},s.projection=function(t){return arguments.length?(n=(e=t)?t.stream||Oi(t):N,l()):e},s.context=function(e){return arguments.length?(i=null==(t=e)?new xi:new Ai(e),"function"!=typeof o&&i.pointRadius(o),l()):t},s.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(i.pointRadius(+e),+e),s):o},s.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(e){return{stream:function(t){var n=new Ni(t);for(var i in e)n[i]=e[i];return n}}},Ni.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=Ri,a.geo.projectionMutator=ji,(a.geo.equirectangular=function(){return Ri(qi)}).raw=qi.invert=qi,a.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ne,t[1]*Ne))[0]*=Pe,t[1]*=Pe,t}return e=Bi(e[0]%360*Ne,e[1]*Ne,e.length>2?e[2]*Ne:0),t.invert=function(t){return(t=e.invert(t[0]*Ne,t[1]*Ne))[0]*=Pe,t[1]*=Pe,t},t},Zi.invert=qi,a.geo.circle=function(){var e,t,n=[0,0],i=6;function r(){var e="function"==typeof n?n.apply(this,arguments):n,i=Bi(-e[0]*Ne,-e[1]*Ne,0).invert,r=[];return t(null,null,1,{point:function(e,t){r.push(e=i(e,t)),e[0]*=Pe,e[1]*=Pe}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(e){return arguments.length?(n=e,r):n},r.angle=function(n){return arguments.length?(t=Wi((e=+n)*Ne,i*Ne),r):e},r.precision=function(n){return arguments.length?(t=Wi(e*Ne,(i=+n)*Ne),r):i},r.angle(90)},a.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Ne,r=e[1]*Ne,a=t[1]*Ne,o=Math.sin(i),s=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},a.geo.graticule=function(){var e,t,n,i,r,o,s,l,c,u,d,h,p=10,f=p,m=90,g=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return a.range(Math.ceil(i/m)*m,n,m).map(d).concat(a.range(Math.ceil(l/g)*g,s,g).map(h)).concat(a.range(Math.ceil(t/p)*p,e,p).filter((function(e){return k(e%m)>De})).map(c)).concat(a.range(Math.ceil(o/f)*f,r,f).filter((function(e){return k(e%g)>De})).map(u))}return y.lines=function(){return b().map((function(e){return{type:"LineString",coordinates:e}}))},y.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.majorExtent(e).minorExtent(e):y.minorExtent()},y.majorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],l=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),l>s&&(e=l,l=s,s=e),y.precision(v)):[[i,l],[n,s]]},y.minorExtent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),o>r&&(n=o,o=r,r=n),y.precision(v)):[[t,o],[e,r]]},y.step=function(e){return arguments.length?y.majorStep(e).minorStep(e):y.minorStep()},y.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],y):[m,g]},y.minorStep=function(e){return arguments.length?(p=+e[0],f=+e[1],y):[p,f]},y.precision=function(a){return arguments.length?(v=+a,c=Yi(o,r,90),u=$i(t,e,v),d=Yi(l,s,90),h=$i(i,n,v),y):v},y.majorExtent([[-180,-90+De],[180,90-De]]).minorExtent([[-180,-80-De],[180,80+De]])},a.geo.greatArc=function(){var e,t,n=Ki,i=Gi;function r(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),t||i.apply(this,arguments)]}}return r.distance=function(){return a.geo.distance(e||n.apply(this,arguments),t||i.apply(this,arguments))},r.source=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,r):n},r.target=function(e){return arguments.length?(i=e,t="function"==typeof e?null:e,r):i},r.precision=function(){return arguments.length?r:0},r},a.geo.interpolate=function(e,t){return n=e[0]*Ne,i=e[1]*Ne,r=t[0]*Ne,a=t[1]*Ne,o=Math.cos(i),s=Math.sin(i),l=Math.cos(a),c=Math.sin(a),u=o*Math.cos(n),d=o*Math.sin(n),h=l*Math.cos(r),p=l*Math.sin(r),f=2*Math.asin(Math.sqrt(Be(a-i)+o*l*Be(r-n))),m=1/Math.sin(f),(g=f?function(e){var t=Math.sin(e*=f)*m,n=Math.sin(f-e)*m,i=n*u+t*h,r=n*d+t*p,a=n*s+t*c;return[Math.atan2(r,i)*Pe,Math.atan2(a,Math.sqrt(i*i+r*r))*Pe]}:function(){return[n*Pe,i*Pe]}).distance=f,g;var n,i,r,a,o,s,l,c,u,d,h,p,f,m,g},a.geo.length=function(e){return Ci=0,a.geo.stream(e,Xi),Ci};var Xi={sphere:L,point:L,lineStart:function(){var e,t,n;function i(i,r){var a=Math.sin(r*=Ne),o=Math.cos(r),s=k((i*=Ne)-e),l=Math.cos(s);Ci+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-t*o*l)*s),t*a+n*o*l),e=i,t=a,n=o}Xi.point=function(r,a){e=r*Ne,t=Math.sin(a*=Ne),n=Math.cos(a),Xi.point=i},Xi.lineEnd=function(){Xi.point=Xi.lineEnd=L}},lineEnd:L,polygonStart:L,polygonEnd:L};function Qi(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),a=e(i*r);return[a*r*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(e*a,i*o),Math.asin(i&&n*a/i)]},n}var Ji=Qi((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(a.geo.azimuthalEqualArea=function(){return Ri(Ji)}).raw=Ji;var er=Qi((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),N);function tr(e,t){var n=Math.cos(e),i=function(e){return Math.tan(Me/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),a=n*Math.pow(i(e),r)/r;if(!r)return rr;function o(e,t){a>0?t<-Oe+De&&(t=-Oe+De):t>Oe-De&&(t=Oe-De);var n=a/Math.pow(i(t),r);return[n*Math.sin(r*e),a-n*Math.cos(r*e)]}return o.invert=function(e,t){var n=a-t,i=Re(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(a/i,1/r))-Oe]},o}function nr(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;if(k(i)<De)return qi;function a(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}return a.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-Re(i)*Math.sqrt(e*e+n*n)]},a}(a.geo.azimuthalEquidistant=function(){return Ri(er)}).raw=er,(a.geo.conicConformal=function(){return hi(tr)}).raw=tr,(a.geo.conicEquidistant=function(){return hi(nr)}).raw=nr;var ir=Qi((function(e){return 1/e}),Math.atan);function rr(e,t){return[e,Math.log(Math.tan(Me/4+t/2))]}function ar(e){var t,n=Ri(e),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=Me*i(),l=r();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}(a.geo.gnomonic=function(){return Ri(ir)}).raw=ir,rr.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Oe]},(a.geo.mercator=function(){return ar(rr)}).raw=rr;var or=Qi((function(){return 1}),Math.asin);(a.geo.orthographic=function(){return Ri(or)}).raw=or;var sr=Qi((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function lr(e,t){return[Math.log(Math.tan(Me/4+t/2)),-e]}function cr(e){return e[0]}function ur(e){return e[1]}function dr(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;i>1&&je(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function hr(e,t){return e[0]-t[0]||e[1]-t[1]}(a.geo.stereographic=function(){return Ri(sr)}).raw=sr,lr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Oe]},(a.geo.transverseMercator=function(){var e=ar(lr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=lr,a.geom={},a.geom.hull=function(e){var t=cr,n=ur;if(arguments.length)return i(e);function i(e){if(e.length<3)return[];var i,r=_t(t),a=_t(n),o=e.length,s=[],l=[];for(i=0;i<o;i++)s.push([+r.call(this,e[i],i),+a.call(this,e[i],i),i]);for(s.sort(hr),i=0;i<o;i++)l.push([s[i][0],-s[i][1]]);var c=dr(s),u=dr(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],p=[];for(i=c.length-1;i>=0;--i)p.push(e[s[c[i]][2]]);for(i=+d;i<u.length-h;++i)p.push(e[s[u[i]][2]]);return p}return i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(e){return arguments.length?(n=e,i):n},i},a.geom.polygon=function(e){return W(e,pr),e};var pr=a.geom.polygon.prototype=[];function fr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function mr(e,t,n,i){var r=e[0],a=n[0],o=t[0]-r,s=i[0]-a,l=e[1],c=n[1],u=t[1]-l,d=i[1]-c,h=(s*(l-c)-d*(r-a))/(d*o-s*u);return[r+h*o,l+h*u]}function gr(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}pr.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},pr.centroid=function(e){var t,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},pr.clip=function(e){for(var t,n,i,r,a,o,s=gr(e),l=-1,c=this.length-gr(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,r=this[l],a=t[(i=t.length-s)-1],n=-1;++n<i;)fr(o=t[n],u,r)?(fr(a,u,r)||e.push(mr(a,o,u,r)),e.push(o)):fr(a,u,r)&&e.push(mr(a,o,u,r)),a=o;s&&e.push(e[0]),u=r}return e};var vr,yr,br,_r,wr,kr=[],xr=[];function Er(){zr(this),this.edge=this.site=this.circle=null}function Cr(e){var t=kr.pop()||new Er;return t.site=e,t}function Sr(e){Pr(e),br.remove(e),kr.push(e),zr(e)}function Tr(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},a=e.P,o=e.N,s=[e];Sr(e);for(var l=a;l.circle&&k(n-l.circle.x)<De&&k(i-l.circle.cy)<De;)a=l.P,s.unshift(l),Sr(l),l=a;s.unshift(l),Pr(l);for(var c=o;c.circle&&k(n-c.circle.x)<De&&k(i-c.circle.cy)<De;)o=c.N,s.push(c),Sr(c),c=o;s.push(c),Pr(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],Zr(c.edge,l.site,c.site,r);l=s[0],(c=s[d-1]).edge=Lr(l.site,c.site,null,r),Nr(l),Nr(c)}function Dr(e){for(var t,n,i,r,a=e.x,o=e.y,s=br._;s;)if((i=Fr(s,o)-a)>De)s=s.L;else{if(!((r=a-Mr(s,o))>De)){i>-De?(t=s.P,n=s):r>-De?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=Cr(e);if(br.insert(t,l),t||n){if(t===n)return Pr(t),n=Cr(t.site),br.insert(l,n),l.edge=n.edge=Lr(t.site,l.site),Nr(t),void Nr(n);if(n){Pr(t),Pr(n);var c=t.site,u=c.x,d=c.y,h=e.x-u,p=e.y-d,f=n.site,m=f.x-u,g=f.y-d,v=2*(h*g-p*m),y=h*h+p*p,b=m*m+g*g,_={x:(g*y-p*b)/v+u,y:(h*b-m*y)/v+d};Zr(n.edge,c,f,_),l.edge=Lr(c,e,null,_),n.edge=Lr(e,f,null,_),Nr(t),Nr(n)}else l.edge=Lr(t.site,l.site)}}function Fr(e,t){var n=e.site,i=n.x,r=n.y,a=r-t;if(!a)return i;var o=e.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,c=l-t;if(!c)return s;var u=s-i,d=1/a-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-a/2)))/d+i:(i+s)/2}function Mr(e,t){var n=e.N;if(n)return Fr(n,t);var i=e.site;return i.y===t?i.x:1/0}function Ar(e){this.site=e,this.edges=[]}function Ir(e,t){return t.angle-e.angle}function Or(){zr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Nr(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,a=n.site;if(i!==a){var o=r.x,s=r.y,l=i.x-o,c=i.y-s,u=a.x-o,d=2*(l*(g=a.y-s)-c*u);if(!(d>=-Fe)){var h=l*l+c*c,p=u*u+g*g,f=(g*h-c*p)/d,m=(l*p-u*h)/d,g=m+s,v=xr.pop()||new Or;v.arc=e,v.site=r,v.x=f+o,v.y=g+Math.sqrt(f*f+m*m),v.cy=g,e.circle=v;for(var y=null,b=wr._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}wr.insert(y,v),y||(_r=v)}}}}function Pr(e){var t=e.circle;t&&(t.P||(_r=t.N),wr.remove(t),xr.push(t),zr(t),e.circle=null)}function Rr(e,t){var n=e.b;if(n)return!0;var i,r,a=e.a,o=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,h=u.x,p=u.y,f=d.x,m=d.y,g=(h+f)/2,v=(p+m)/2;if(m===p){if(g<o||g>=s)return;if(h>f){if(a){if(a.y>=c)return}else a={x:g,y:l};n={x:g,y:c}}else{if(a){if(a.y<l)return}else a={x:g,y:c};n={x:g,y:l}}}else if(r=v-(i=(h-f)/(m-p))*g,i<-1||i>1)if(h>f){if(a){if(a.y>=c)return}else a={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(p<m){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return e.a=a,e.b=n,!0}function jr(e,t){this.l=e,this.r=t,this.a=this.b=null}function Lr(e,t,n,i){var r=new jr(e,t);return vr.push(r),n&&Zr(r,e,t,n),i&&Zr(r,t,e,i),yr[e.i].edges.push(new Br(r,e,t)),yr[t.i].edges.push(new Br(r,t,e)),r}function qr(e,t,n){var i=new jr(e,null);return i.a=t,i.b=n,vr.push(i),i}function Zr(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function Br(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Vr(){this._=null}function zr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Ur(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Wr(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Hr(e){for(;e.L;)e=e.L;return e}function Yr(e,t){var n,i,r,a=e.sort($r).pop();for(vr=[],yr=new Array(e.length),br=new Vr,wr=new Vr;;)if(r=_r,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(yr[a.i]=new Ar(a),Dr(a),n=a.x,i=a.y),a=e.pop();else{if(!r)break;Tr(r.arc)}t&&(function(e){for(var t,n=vr,i=ci(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)(!Rr(t=n[r],e)||!i(t)||k(t.a.x-t.b.x)<De&&k(t.a.y-t.b.y)<De)&&(t.a=t.b=null,n.splice(r,1))}(t),function(e){for(var t,n,i,r,a,o,s,l,c,u,d=e[0][0],h=e[1][0],p=e[0][1],f=e[1][1],m=yr,g=m.length;g--;)if((a=m[g])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)i=(u=s[o].end()).x,r=u.y,t=(c=s[++o%l].start()).x,n=c.y,(k(i-t)>De||k(r-n)>De)&&(s.splice(o,0,new Br(qr(a.site,u,k(i-d)<De&&f-r>De?{x:d,y:k(t-d)<De?n:f}:k(r-f)<De&&h-i>De?{x:k(n-f)<De?t:h,y:f}:k(i-h)<De&&r-p>De?{x:h,y:k(t-h)<De?n:p}:k(r-p)<De&&i-d>De?{x:k(n-p)<De?t:d,y:p}:null),a.site,null)),++l)}(t));var o={cells:yr,edges:vr};return br=wr=vr=yr=null,o}function $r(e,t){return t.y-e.y||t.x-e.x}Ar.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Ir),t.length},Br.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Vr.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Hr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Ur(this,n),n=(e=n).U),n.C=!1,i.C=!0,Wr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Wr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Ur(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,a=e.L,o=e.R;if(n=a?o?Hr(o):a:o,r?r.L===e?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=o,o.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,Ur(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Wr(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Ur(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Wr(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Ur(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Wr(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},a.geom.voronoi=function(e){var t=cr,n=ur,i=t,r=n,a=Kr;if(e)return o(e);function o(e){var t=new Array(e.length),n=a[0][0],i=a[0][1],r=a[1][0],o=a[1][1];return Yr(s(e),a).cells.forEach((function(a,s){var l=a.edges,c=a.site;(t[s]=l.length?l.map((function(e){var t=e.start();return[t.x,t.y]})):c.x>=n&&c.x<=r&&c.y>=i&&c.y<=o?[[n,o],[r,o],[r,i],[n,i]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(i(e,t)/De)*De,y:Math.round(r(e,t)/De)*De,i:t}}))}return o.links=function(e){return Yr(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},o.triangles=function(e){var t=[];return Yr(s(e)).cells.forEach((function(n,i){for(var r,a=n.site,o=n.edges.sort(Ir),s=-1,l=o.length,c=o[l-1].edge,u=c.l===a?c.r:c.l;++s<l;)c,r=u,u=(c=o[s].edge).l===a?c.r:c.l,i<r.i&&i<u.i&&Gr(a,r,u)<0&&t.push([e[i],e[r.i],e[u.i]])})),t},o.x=function(e){return arguments.length?(i=_t(t=e),o):t},o.y=function(e){return arguments.length?(r=_t(n=e),o):n},o.clipExtent=function(e){return arguments.length?(a=null==e?Kr:e,o):a===Kr?null:a},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):a===Kr?null:a&&a[1]},o};var Kr=[[-1e6,-1e6],[1e6,1e6]];function Gr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function Xr(e){return e.x}function Qr(e){return e.y}function Jr(e,t,n,i,r,a){if(!e(t,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),l=t.nodes;l[0]&&Jr(e,l[0],n,i,o,s),l[1]&&Jr(e,l[1],o,i,r,s),l[2]&&Jr(e,l[2],n,s,o,a),l[3]&&Jr(e,l[3],o,s,r,a)}}function ea(e,t,n,i,r,a,o){var s,l=1/0;return function e(c,u,d,h,p){if(!(u>a||d>o||h<i||p<r)){if(f=c.point){var f,m=t-c.x,g=n-c.y,v=m*m+g*g;if(v<l){var y=Math.sqrt(l=v);i=t-y,r=n-y,a=t+y,o=n+y,s=f}}for(var b=c.nodes,_=.5*(u+h),w=.5*(d+p),k=(n>=w)<<1|t>=_,x=k+4;k<x;++k)if(c=b[3&k])switch(3&k){case 0:e(c,u,d,_,w);break;case 1:e(c,_,d,h,w);break;case 2:e(c,u,w,_,p);break;case 3:e(c,_,w,h,p)}}}(e,i,r,a,o),s}function ta(e,t){e=a.rgb(e),t=a.rgb(t);var n=e.r,i=e.g,r=e.b,o=t.r-n,s=t.g-i,l=t.b-r;return function(e){return"#"+pt(Math.round(n+o*e))+pt(Math.round(i+s*e))+pt(Math.round(r+l*e))}}function na(e,t){var n,i={},r={};for(n in e)n in t?i[n]=sa(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function ia(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ra(e,t){var n,i,r,a=aa.lastIndex=oa.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=aa.exec(e))&&(i=oa.exec(t));)(r=i.index)>a&&(r=t.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:ia(n,i)})),a=oa.lastIndex;return a<t.length&&(r=t.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}a.geom.delaunay=function(e){return a.geom.voronoi().triangles(e)},a.geom.quadtree=function(e,t,n,i,r){var a,o=cr,s=ur;if(a=arguments.length)return o=Xr,s=Qr,3===a&&(r=n,i=t,n=t=0),l(e);function l(e){var l,c,u,d,h,p,f,m,g,v=_t(o),y=_t(s);if(null!=t)p=t,f=n,m=i,g=r;else if(m=g=-(p=f=1/0),c=[],u=[],h=e.length,a)for(d=0;d<h;++d)(l=e[d]).x<p&&(p=l.x),l.y<f&&(f=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var b=+v(l=e[d],d),_=+y(l,d);b<p&&(p=b),_<f&&(f=_),b>m&&(m=b),_>g&&(g=_),c.push(b),u.push(_)}var w=m-p,x=g-f;function E(e,t,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(k(l-n)+k(c-i)<.01)C(e,t,n,i,r,a,o,s);else{var u=e.point;e.x=e.y=e.point=null,C(e,u,l,c,r,a,o,s),C(e,t,n,i,r,a,o,s)}else e.x=n,e.y=i,e.point=t}else C(e,t,n,i,r,a,o,s)}function C(e,t,n,i,r,a,o,s){var l=.5*(r+o),c=.5*(a+s),u=n>=l,d=i>=c,h=d<<1|u;e.leaf=!1,u?r=l:o=l,d?a=c:s=c,E(e=e.nodes[h]||(e.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,i,r,a,o,s)}w>x?g=f+w:m=p+x;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){E(S,e,+v(e,++d),+y(e,d),p,f,m,g)},visit:function(e){Jr(e,S,p,f,m,g)},find:function(e){return ea(S,e[0],e[1],p,f,m,g)}};if(d=-1,null==t){for(;++d<h;)E(S,e[d],c[d],u[d],p,f,m,g);--d}else e.forEach(S.add);return c=u=e=l=null,S}return l.x=function(e){return arguments.length?(o=e,l):o},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),l):null==t?null:[[t,n],[i,r]]},l.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),l):null==t?null:[i-t,r-n]},l},a.interpolateRgb=ta,a.interpolateObject=na,a.interpolateNumber=ia,a.interpolateString=ra;var aa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oa=new RegExp(aa.source,"g");function sa(e,t){for(var n,i=a.interpolators.length;--i>=0&&!(n=a.interpolators[i](e,t)););return n}function la(e,t){var n,i=[],r=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)i.push(sa(e[n],t[n]));for(;n<a;++n)r[n]=e[n];for(;n<o;++n)r[n]=t[n];return function(e){for(n=0;n<s;++n)r[n]=i[n](e);return r}}a.interpolate=sa,a.interpolators=[function(e,t){var n=typeof t;return("string"===n?bt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?ta:ra:t instanceof He?ta:Array.isArray(t)?la:"object"===n&&isNaN(t)?na:ia)(e,t)}],a.interpolateArray=la;var ca=function(){return N},ua=a.map({linear:ca,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return ma},cubic:function(){return ga},sin:function(){return ya},exp:function(){return ba},circle:function(){return _a},elastic:function(e,t){var n;arguments.length<2&&(t=.45);arguments.length?n=t/Ae*Math.asin(1/e):(e=1,n=t/4);return function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*Ae/t)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return wa}}),da=a.map({in:N,out:pa,"in-out":fa,"out-in":function(e){return fa(pa(e))}});function ha(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function pa(e){return function(t){return 1-e(1-t)}}function fa(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function ma(e){return e*e}function ga(e){return e*e*e}function va(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function ya(e){return 1-Math.cos(e*Oe)}function ba(e){return Math.pow(2,10*(e-1))}function _a(e){return 1-Math.sqrt(1-e*e)}function wa(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function ka(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function xa(e){var t=[e.a,e.b],n=[e.c,e.d],i=Ca(t),r=Ea(t,n),a=Ca(function(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Pe,this.translate=[e.e,e.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Pe:0}function Ea(e,t){return e[0]*t[0]+e[1]*t[1]}function Ca(e){var t=Math.sqrt(Ea(e,e));return t&&(e[0]/=t,e[1]/=t),t}a.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=ua.get(n)||ca,ha((i=da.get(i)||N)(n.apply(null,o.call(arguments,1))))},a.interpolateHcl=function(e,t){e=a.hcl(e),t=a.hcl(t);var n=e.h,i=e.c,r=e.l,o=t.h-n,s=t.c-i,l=t.l-r;isNaN(s)&&(s=0,i=isNaN(i)?t.c:i);isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360);return function(e){return Qe(n+o*e,i+s*e,r+l*e)+""}},a.interpolateHsl=function(e,t){e=a.hsl(e),t=a.hsl(t);var n=e.h,i=e.s,r=e.l,o=t.h-n,s=t.s-i,l=t.l-r;isNaN(s)&&(s=0,i=isNaN(i)?t.s:i);isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360);return function(e){return Ke(n+o*e,i+s*e,r+l*e)+""}},a.interpolateLab=function(e,t){e=a.lab(e),t=a.lab(t);var n=e.l,i=e.a,r=e.b,o=t.l-n,s=t.a-i,l=t.b-r;return function(e){return rt(n+o*e,i+s*e,r+l*e)+""}},a.interpolateRound=ka,a.transform=function(e){var t=l.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new xa(n?n.matrix:Sa)})(e)},xa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Sa={a:1,b:0,c:0,d:1,e:0,f:0};function Ta(e){return e.length?e.pop()+",":""}function Da(e,t){var n=[],i=[];return e=a.transform(e),t=a.transform(t),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:ia(e[0],t[0])},{i:r-2,x:ia(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,t.translate,n,i),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(Ta(n)+"rotate(",null,")")-2,x:ia(e,t)})):t&&n.push(Ta(n)+"rotate("+t+")")}(e.rotate,t.rotate,n,i),function(e,t,n,i){e!==t?i.push({i:n.push(Ta(n)+"skewX(",null,")")-2,x:ia(e,t)}):t&&n.push(Ta(n)+"skewX("+t+")")}(e.skew,t.skew,n,i),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(Ta(n)+"scale(",null,",",null,")");i.push({i:r-4,x:ia(e[0],t[0])},{i:r-2,x:ia(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Ta(n)+"scale("+t+")")}(e.scale,t.scale,n,i),e=t=null,function(e){for(var t,r=-1,a=i.length;++r<a;)n[(t=i[r]).i]=t.x(e);return n.join("")}}function Fa(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Ma(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Aa(e){for(var t=e.source,n=e.target,i=function(e,t){if(e===t)return e;var n=Ia(e),i=Ia(t),r=n.pop(),a=i.pop(),o=null;for(;r===a;)o=r,r=n.pop(),a=i.pop();return o}(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Ia(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Oa(e){e.fixed|=2}function Na(e){e.fixed&=-7}function Pa(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Ra(e){e.fixed&=-5}function ja(e,t,n){var i=0,r=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(ja(a,t,n),e.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,r+=c*e.point.y}e.cx=i/e.charge,e.cy=r/e.charge}a.interpolateTransform=Da,a.layout={},a.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(Aa(e[n]));return t}},a.layout.chord=function(){var e,t,n,i,r,o,s,l={},c=0;function u(){var l,u,h,p,f,m={},g=[],v=a.range(i),y=[];for(e=[],t=[],l=0,p=-1;++p<i;){for(u=0,f=-1;++f<i;)u+=n[p][f];g.push(u),y.push(a.range(i)),l+=u}for(r&&v.sort((function(e,t){return r(g[e],g[t])})),o&&y.forEach((function(e,t){e.sort((function(e,i){return o(n[t][e],n[t][i])}))})),l=(Ae-c*i)/l,u=0,p=-1;++p<i;){for(h=u,f=-1;++f<i;){var b=v[p],_=y[b][f],w=n[b][_],k=u,x=u+=w*l;m[b+"-"+_]={index:b,subindex:_,startAngle:k,endAngle:x,value:w}}t[b]={index:b,startAngle:h,endAngle:u,value:g[b]},u+=c}for(p=-1;++p<i;)for(f=p-1;++f<i;){var E=m[p+"-"+f],C=m[f+"-"+p];(E.value||C.value)&&e.push(E.value<C.value?{source:C,target:E}:{source:E,target:C})}s&&d()}function d(){e.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return l.matrix=function(r){return arguments.length?(i=(n=r)&&n.length,e=t=null,l):n},l.padding=function(n){return arguments.length?(c=n,e=t=null,l):c},l.sortGroups=function(n){return arguments.length?(r=n,e=t=null,l):r},l.sortSubgroups=function(t){return arguments.length?(o=t,e=null,l):o},l.sortChords=function(t){return arguments.length?(s=t,e&&d(),l):s},l.chords=function(){return e||u(),e},l.groups=function(){return t||u(),t},l},a.layout.force=function(){var e,t,n,i,r,o,s={},l=a.dispatch("start","tick","end"),c=[1,1],u=.9,d=La,h=qa,p=-30,f=Za,m=.1,g=.64,v=[],y=[];function b(e){return function(t,n,i,r){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=r-n,l=a*a+o*o;if(s*s/g<l){if(l<f){var c=t.charge/l;e.px-=a*c,e.py-=o*c}return!0}if(t.point&&l&&l<f){c=t.pointCharge/l;e.px-=a*c,e.py-=o*c}}return!t.charge}}function _(e){e.px=a.event.x,e.py=a.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return e=null,l.end({type:"end",alpha:n=0}),!0;var t,s,d,h,f,g,_,w,k,x=v.length,E=y.length;for(s=0;s<E;++s)h=(d=y[s]).source,(g=(w=(f=d.target).x-h.x)*w+(k=f.y-h.y)*k)&&(w*=g=n*r[s]*((g=Math.sqrt(g))-i[s])/g,k*=g,f.x-=w*(_=h.weight+f.weight?h.weight/(h.weight+f.weight):.5),f.y-=k*_,h.x+=w*(_=1-_),h.y+=k*_);if((_=n*m)&&(w=c[0]/2,k=c[1]/2,s=-1,_))for(;++s<x;)(d=v[s]).x+=(w-d.x)*_,d.y+=(k-d.y)*_;if(p)for(ja(t=a.geom.quadtree(v),n,o),s=-1;++s<x;)(d=v[s]).fixed||t.visit(b(d));for(s=-1;++s<x;)(d=v[s]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.chargeDistance=function(e){return arguments.length?(f=e*e,s):Math.sqrt(f)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,n?t>0?n=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:n=0})):t>0&&(l.start({type:"start",alpha:n=t}),e=Dt(s.tick)),s):n},s.start=function(){var e,t,n,a=v.length,l=y.length,u=c[0],f=c[1];for(e=0;e<a;++e)(n=v[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=y[e]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<a;++e)n=v[e],isNaN(n.x)&&(n.x=m("x",u)),isNaN(n.y)&&(n.y=m("y",f)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof d)for(e=0;e<l;++e)i[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)i[e]=d;if(r=[],"function"==typeof h)for(e=0;e<l;++e)r[e]=+h.call(this,y[e],e);else for(e=0;e<l;++e)r[e]=h;if(o=[],"function"==typeof p)for(e=0;e<a;++e)o[e]=+p.call(this,v[e],e);else for(e=0;e<a;++e)o[e]=p;function m(n,i){if(!t){for(t=new Array(a),c=0;c<a;++c)t[c]=[];for(c=0;c<l;++c){var r=y[c];t[r.source.index].push(r.target),t[r.target.index].push(r.source)}}for(var o,s=t[e],c=-1,u=s.length;++c<u;)if(!isNaN(o=s[c][n]))return o;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(t||(t=a.behavior.drag().origin(N).on("dragstart.force",Oa).on("drag.force",_).on("dragend.force",Na)),!arguments.length)return t;this.on("mouseover.force",Pa).on("mouseout.force",Ra).call(t)},a.rebind(s,l,"on")};var La=20,qa=1,Za=1/0;function Ba(e,t){return a.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Ya,e}function Va(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function za(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(a=e.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(e=i.pop());)t(e)}function Ua(e){return e.children}function Wa(e){return e.value}function Ha(e,t){return t.value-e.value}function Ya(e){return a.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}a.layout.hierarchy=function(){var e=Ha,t=Ua,n=Wa;function i(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(c=t.call(i,a,a.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)o.push(u=c[l]),u.parent=a,u.depth=a.depth+1;n&&(a.value=0),a.children=c}else n&&(a.value=+n.call(i,a,a.depth)||0),delete a.children;return za(r,(function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)})),s}return i.sort=function(t){return arguments.length?(e=t,i):e},i.children=function(e){return arguments.length?(t=e,i):t},i.value=function(e){return arguments.length?(n=e,i):n},i.revalue=function(e){return n&&(Va(e,(function(e){e.children&&(e.value=0)})),za(e,(function(e){var t;e.children||(e.value=+n.call(i,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},i},a.layout.partition=function(){var e=a.layout.hierarchy(),t=[1,1];function n(e,t,i,r){var a=e.children;if(e.x=t,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,l,c=-1;for(i=e.value?i/e.value:0;++c<o;)n(s=a[c],t,l=s.value*i,r),t+=l}}function i(e){var t=e.children,n=0;if(t&&(r=t.length))for(var r,a=-1;++a<r;)n=Math.max(n,i(t[a]));return 1+n}function r(r,a){var o=e.call(this,r,a);return n(o[0],0,t[0],t[1]/i(o[0])),o}return r.size=function(e){return arguments.length?(t=e,r):t},Ba(r,e)},a.layout.pie=function(){var e=Number,t=$a,n=0,i=Ae,r=0;function o(s){var l,c=s.length,u=s.map((function(t,n){return+e.call(o,t,n)})),d=+("function"==typeof n?n.apply(this,arguments):n),h=("function"==typeof i?i.apply(this,arguments):i)-d,p=Math.min(Math.abs(h)/c,+("function"==typeof r?r.apply(this,arguments):r)),f=p*(h<0?-1:1),m=a.sum(u),g=m?(h-c*f)/m:0,v=a.range(c),y=[];return null!=t&&v.sort(t===$a?function(e,t){return u[t]-u[e]}:function(e,n){return t(s[e],s[n])}),v.forEach((function(e){y[e]={data:s[e],value:l=u[e],startAngle:d,endAngle:d+=l*g+f,padAngle:p}})),y}return o.value=function(t){return arguments.length?(e=t,o):e},o.sort=function(e){return arguments.length?(t=e,o):t},o.startAngle=function(e){return arguments.length?(n=e,o):n},o.endAngle=function(e){return arguments.length?(i=e,o):i},o.padAngle=function(e){return arguments.length?(r=e,o):r},o};var $a={};function Ka(e){return e.x}function Ga(e){return e.y}function Xa(e,t,n){e.y0=t,e.y=n}a.layout.stack=function(){var e=N,t=eo,n=to,i=Xa,r=Ka,o=Ga;function s(l,c){if(!(p=l.length))return l;var u=l.map((function(t,n){return e.call(s,t,n)})),d=u.map((function(e){return e.map((function(e,t){return[r.call(s,e,t),o.call(s,e,t)]}))})),h=t.call(s,d,c);u=a.permute(u,h),d=a.permute(d,h);var p,f,m,g,v=n.call(s,d,c),y=u[0].length;for(m=0;m<y;++m)for(i.call(s,u[0][m],g=v[m],d[0][m][1]),f=1;f<p;++f)i.call(s,u[f][m],g+=d[f-1][m][1],d[f][m][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(t="function"==typeof e?e:Qa.get(e)||eo,s):t},s.offset=function(e){return arguments.length?(n="function"==typeof e?e:Ja.get(e)||to,s):n},s.x=function(e){return arguments.length?(r=e,s):r},s.y=function(e){return arguments.length?(o=e,s):o},s.out=function(e){return arguments.length?(i=e,s):i},s};var Qa=a.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(no),o=e.map(io),s=a.range(i).sort((function(e,t){return r[e]-r[t]})),l=0,c=0,u=[],d=[];for(t=0;t<i;++t)n=s[t],l<c?(l+=o[n],u.push(n)):(c+=o[n],d.push(n));return d.reverse().concat(u)},reverse:function(e){return a.range(e.length).reverse()},default:eo}),Ja=a.map({silhouette:function(e){var t,n,i,r=e.length,a=e[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];i>s&&(s=i),o.push(i)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,i,r,a,o,s,l,c,u=e.length,d=e[0],h=d.length,p=[];for(p[0]=l=c=0,n=1;n<h;++n){for(t=0,r=0;t<u;++t)r+=e[t][n][1];for(t=0,a=0,s=d[n][0]-d[n-1][0];t<u;++t){for(i=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);i<t;++i)o+=(e[i][n][1]-e[i][n-1][1])/s;a+=o*e[t][n][1]}p[n]=l-=r?a/r*s:0,l<c&&(c=l)}for(n=0;n<h;++n)p[n]-=c;return p},expand:function(e){var t,n,i,r=e.length,a=e[0].length,o=1/r,s=[];for(n=0;n<a;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:to});function eo(e){return a.range(e.length)}function to(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function no(e){for(var t,n=1,i=0,r=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function io(e){return e.reduce(ro,0)}function ro(e,t){return e+t[1]}function ao(e,t){return oo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function oo(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,a=[];++n<=t;)a[n]=r*n+i;return a}function so(e){return[a.min(e),a.max(e)]}function lo(e,t){return e.value-t.value}function co(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function uo(e,t){e._pack_next=t,t._pack_prev=e}function ho(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function po(e){if((t=e.children)&&(l=t.length)){var t,n,i,r,a,o,s,l,c=1/0,u=-1/0,d=1/0,h=-1/0;if(t.forEach(fo),(n=t[0]).x=-n.r,n.y=0,b(n),l>1&&((i=t[1]).x=i.r,i.y=0,b(i),l>2))for(vo(n,i,r=t[2]),b(r),co(n,r),n._pack_prev=r,co(r,i),i=n._pack_next,a=3;a<l;a++){vo(n,i,r=t[a]);var p=0,f=1,m=1;for(o=i._pack_next;o!==i;o=o._pack_next,f++)if(ho(o,r)){p=1;break}if(1==p)for(s=n._pack_prev;s!==o._pack_prev&&!ho(s,r);s=s._pack_prev,m++);p?(f<m||f==m&&i.r<n.r?uo(n,i=o):uo(n=s,i),a--):(co(n,r),i=r,b(r))}var g=(c+u)/2,v=(d+h)/2,y=0;for(a=0;a<l;a++)(r=t[a]).x-=g,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=y,t.forEach(mo)}function b(e){c=Math.min(e.x-e.r,c),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}}function fo(e){e._pack_next=e._pack_prev=e}function mo(e){delete e._pack_next,delete e._pack_prev}function go(e,t,n,i){var r=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,r)for(var a=-1,o=r.length;++a<o;)go(r[a],t,n,i)}function vo(e,t,n){var i=e.r+n.r,r=t.x-e.x,a=t.y-e.y;if(i&&(r||a)){var o=t.r+n.r,s=r*r+a*a,l=.5+((i*=i)-(o*=o))/(2*s),c=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=e.x+l*r+c*a,n.y=e.y+l*a-c*r}else n.x=e.x+i,n.y=e.y}function yo(e,t){return e.parent==t.parent?1:2}function bo(e){var t=e.children;return t.length?t[0]:e.t}function _o(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function wo(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function ko(e,t,n){return e.a.parent===t.parent?e.a:n}function xo(e){var t=e.children;return t&&t.length?xo(t[0]):e}function Eo(e){var t,n=e.children;return n&&(t=n.length)?Eo(n[t-1]):e}function Co(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function So(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),a<0&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function To(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Do(e){return e.rangeExtent?e.rangeExtent():To(e.range())}function Fo(e,t,n,i){var r=n(e[0],e[1]),a=i(t[0],t[1]);return function(e){return a(r(e))}}function Mo(e,t){var n,i=0,r=e.length-1,a=e[i],o=e[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),e[i]=t.floor(a),e[r]=t.ceil(o),e}function Ao(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Io}a.layout.histogram=function(){var e=!0,t=Number,n=so,i=ao;function r(r,o){for(var s,l,c=[],u=r.map(t,this),d=n.call(this,u,o),h=i.call(this,d,u,o),p=(o=-1,u.length),f=h.length-1,m=e?1:1/p;++o<f;)(s=c[o]=[]).dx=h[o+1]-(s.x=h[o]),s.y=0;if(f>0)for(o=-1;++o<p;)(l=u[o])>=d[0]&&l<=d[1]&&((s=c[a.bisect(h,l,1,f)-1]).y+=m,s.push(r[o]));return c}return r.value=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=_t(e),r):n},r.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return oo(t,e)}:_t(e),r):i},r.frequency=function(t){return arguments.length?(e=!!t,r):e},r},a.layout.pack=function(){var e,t=a.layout.hierarchy().sort(lo),n=0,i=[1,1];function r(r,a){var o=t.call(this,r,a),s=o[0],l=i[0],c=i[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,za(s,(function(e){e.r=+u(e.value)})),za(s,po),n){var d=n*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;za(s,(function(e){e.r+=d})),za(s,po),za(s,(function(e){e.r-=d}))}return go(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),o}return r.size=function(e){return arguments.length?(i=e,r):i},r.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,r):e},r.padding=function(e){return arguments.length?(n=+e,r):n},Ba(r,t)},a.layout.tree=function(){var e=a.layout.hierarchy().sort(null).value(null),t=yo,n=[1,1],i=null;function r(r,a){var c=e.call(this,r,a),u=c[0],d=function(e){var t,n={A:null,children:[e]},i=[n];for(;null!=(t=i.pop());)for(var r,a=t.children,o=0,s=a.length;o<s;++o)i.push((a[o]=r={_:a[o],parent:t,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}(u);if(za(d,o),d.parent.m=-d.z,Va(d,s),i)Va(u,l);else{var h=u,p=u,f=u;Va(u,(function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>f.depth&&(f=e)}));var m=t(h,p)/2-h.x,g=n[0]/(p.x+t(p,h)/2+m),v=n[1]/(f.depth||1);Va(u,(function(e){e.x=(e.x+m)*g,e.y=e.depth*v}))}return c}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n.length){!function(e){var t,n=0,i=0,r=e.children,a=r.length;for(;--a>=0;)(t=r[a]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-a):e.z=a}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,a=e,o=e,s=n,l=a.parent.children[0],c=a.m,u=o.m,d=s.m,h=l.m;s=_o(s),a=bo(a),s&&a;)l=bo(l),(o=_o(o)).a=e,(r=s.z+d-a.z-c+t(s._,a._))>0&&(wo(ko(s,e,i),e,r),c+=r,u+=r),d+=s.m,c+=a.m,h+=l.m,u+=o.m;s&&!_o(o)&&(o.t=s,o.m+=d-u),a&&!bo(l)&&(l.t=a,l.m+=c-h,i=e)}return i}(e,r,e.parent.A||i[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=n[0],e.y=e.depth*n[1]}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(i=null==(n=e)?l:null,r):i?null:n},r.nodeSize=function(e){return arguments.length?(i=null==(n=e)?null:l,r):i?n:null},Ba(r,e)},a.layout.cluster=function(){var e=a.layout.hierarchy().sort(null).value(null),t=yo,n=[1,1],i=!1;function r(r,o){var s,l=e.call(this,r,o),c=l[0],u=0;za(c,(function(e){var n=e.children;n&&n.length?(e.x=function(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}(n),e.y=function(e){return 1+a.max(e,(function(e){return e.y}))}(n)):(e.x=s?u+=t(e,s):0,e.y=0,s=e)}));var d=xo(c),h=Eo(c),p=d.x-t(d,h)/2,f=h.x+t(h,d)/2;return za(c,i?function(e){e.x=(e.x-c.x)*n[0],e.y=(c.y-e.y)*n[1]}:function(e){e.x=(e.x-p)/(f-p)*n[0],e.y=(1-(c.y?e.y/c.y:1))*n[1]}),l}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(i=null==(n=e),r):i?null:n},r.nodeSize=function(e){return arguments.length?(i=null!=(n=e),r):i?n:null},Ba(r,e)},a.layout.treemap=function(){var e,t=a.layout.hierarchy(),n=Math.round,i=[1,1],r=null,o=Co,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));function u(e,t){for(var n,i,r=-1,a=e.length;++r<a;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function d(e){var t=e.children;if(t&&t.length){var n,i,r,a=o(e),s=[],c=t.slice(),h=1/0,m="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&e.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(u(c,a.dx*a.dy/e.value),s.area=0;(r=c.length)>0;)s.push(n=c[r-1]),s.area+=n.area,"squarify"!==l||(i=p(s,m))<=h?(c.pop(),h=i):(s.area-=s.pop().area,f(s,m,a,!1),m=Math.min(a.dx,a.dy),s.length=s.area=0,h=1/0);s.length&&(f(s,m,a,!0),s.length=s.area=0),t.forEach(d)}}function h(e){var t=e.children;if(t&&t.length){var n,i=o(e),r=t.slice(),a=[];for(u(r,i.dx*i.dy/e.value),a.area=0;n=r.pop();)a.push(n),a.area+=n.area,null!=n.z&&(f(a,n.z?i.dx:i.dy,i,!r.length),a.length=a.area=0);t.forEach(h)}}function p(e,t){for(var n,i=e.area,r=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(n<a&&(a=n),n>r&&(r=n));return t*=t,(i*=i)?Math.max(t*r*c/i,i/(t*a*c)):1/0}function f(e,t,i,r){var a,o=-1,s=e.length,l=i.x,c=i.y,u=t?n(e.area/t):0;if(t==i.dx){for((r||u>i.dy)&&(u=i.dy);++o<s;)(a=e[o]).x=l,a.y=c,a.dy=u,l+=a.dx=Math.min(i.x+i.dx-l,u?n(a.area/u):0);a.z=!0,a.dx+=i.x+i.dx-l,i.y+=u,i.dy-=u}else{for((r||u>i.dx)&&(u=i.dx);++o<s;)(a=e[o]).x=l,a.y=c,a.dx=u,c+=a.dy=Math.min(i.y+i.dy-c,u?n(a.area/u):0);a.z=!1,a.dy+=i.y+i.dy-c,i.x+=u,i.dx-=u}}function m(n){var r=e||t(n),a=r[0];return a.x=a.y=0,a.value?(a.dx=i[0],a.dy=i[1]):a.dx=a.dy=0,e&&t.revalue(a),u([a],a.dx*a.dy/a.value),(e?h:d)(a),s&&(e=r),r}return m.size=function(e){return arguments.length?(i=e,m):i},m.padding=function(e){if(!arguments.length)return r;function t(t){var n=e.call(m,t,t.depth);return null==n?Co(t):So(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return So(t,e)}var i;return o=null==(r=e)?Co:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,m},m.round=function(e){return arguments.length?(n=e?Math.round:Number,m):n!=Number},m.sticky=function(t){return arguments.length?(s=t,e=null,m):s},m.ratio=function(e){return arguments.length?(c=e,m):c},m.mode=function(e){return arguments.length?(l=e+"",m):l},Ba(m,t)},a.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=a.random.normal.apply(a,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=a.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},a.scale={};var Io={floor:N,ceil:N};function Oo(e,t,n,i){var r=[],o=[],s=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=l;)r.push(n(e[s-1],e[s])),o.push(i(t[s-1],t[s]));return function(t){var n=a.bisect(e,t,1,l)-1;return o[n](r[n](t))}}function No(e,t,n,i){var r,a;function o(){var o=Math.min(e.length,t.length)>2?Oo:Fo,l=i?Ma:Fa;return r=o(e,t,l,n),a=o(t,e,l,sa),s}function s(e){return r(e)}return s.invert=function(e){return a(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},s.range=function(e){return arguments.length?(t=e,o()):t},s.rangeRound=function(e){return s.range(e).interpolate(ka)},s.clamp=function(e){return arguments.length?(i=e,o()):i},s.interpolate=function(e){return arguments.length?(n=e,o()):n},s.ticks=function(t){return Lo(e,t)},s.tickFormat=function(t,n){return qo(e,t,n)},s.nice=function(t){return Ro(e,t),o()},s.copy=function(){return No(e,t,n,i)},o()}function Po(e,t){return a.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ro(e,t){return Mo(e,Ao(jo(e,t)[2])),Mo(e,Ao(jo(e,t)[2])),e}function jo(e,t){null==t&&(t=10);var n=To(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),a=t/i*r;return a<=.15?r*=10:a<=.35?r*=5:a<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Lo(e,t){return a.range.apply(a,jo(e,t))}function qo(e,t,n){var i=jo(e,t);if(n){var r=Pt.exec(n);if(r.shift(),"s"===r[8]){var o=a.formatPrefix(Math.max(k(i[0]),k(i[1])));return r[7]||(r[7]="."+Bo(o.scale(i[2]))),r[8]="f",n=a.format(r.join("")),function(e){return n(o.scale(e))+o.symbol}}r[7]||(r[7]="."+function(e,t){var n=Bo(t[2]);return e in Zo?Math.abs(n-Bo(Math.max(k(t[0]),k(t[1]))))+ +("e"!==e):n-2*("%"===e)}(r[8],i)),n=r.join("")}else n=",."+Bo(i[2])+"f";return a.format(n)}a.scale.linear=function(){return No([0,1],[0,1],sa,!1)};var Zo={s:1,g:1,p:1,r:1,e:1};function Bo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Vo(e,t,n,i){function r(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(r(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((i=t.map(Number)).map(r)),s):i},s.base=function(n){return arguments.length?(t=+n,e.domain(i.map(r)),s):t},s.nice=function(){var t=Mo(i.map(r),n?Math:Uo);return e.domain(t),i=t.map(o),s},s.ticks=function(){var e=To(i),a=[],s=e[0],l=e[1],c=Math.floor(r(s)),u=Math.ceil(r(l)),d=t%1?2:t;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var h=1;h<d;h++)a.push(o(c)*h);a.push(o(c))}else for(a.push(o(c));c++<u;)for(h=d-1;h>0;h--)a.push(o(c)*h);for(c=0;a[c]<s;c++);for(u=a.length;a[u-1]>l;u--);a=a.slice(c,u)}return a},s.tickFormat=function(e,n){if(!arguments.length)return zo;arguments.length<2?n=zo:"function"!=typeof n&&(n=a.format(n));var i=Math.max(1,t*e/s.ticks().length);return function(e){var a=e/o(Math.round(r(e)));return a*t<t-.5&&(a*=t),a<=i?n(e):""}},s.copy=function(){return Vo(e.copy(),t,n,i)},Po(s,e)}a.scale.log=function(){return Vo(a.scale.linear().domain([0,1]),10,!0,[1,10])};var zo=a.format(".0e"),Uo={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Wo(e,t,n){var i=Ho(t),r=Ho(1/t);function a(t){return e(i(t))}return a.invert=function(t){return r(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),a):n},a.ticks=function(e){return Lo(n,e)},a.tickFormat=function(e,t){return qo(n,e,t)},a.nice=function(e){return a.domain(Ro(n,e))},a.exponent=function(o){return arguments.length?(i=Ho(t=o),r=Ho(1/t),e.domain(n.map(i)),a):t},a.copy=function(){return Wo(e.copy(),t,n)},Po(a,e)}function Ho(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yo(e,t){var n,i,r;function o(r){return i[((n.get(r)||("range"===t.t?n.set(r,e.push(r)):NaN))-1)%i.length]}function s(t,n){return a.range(e.length).map((function(e){return t+n*e}))}return o.domain=function(i){if(!arguments.length)return e;e=[],n=new C;for(var r,a=-1,s=i.length;++a<s;)n.has(r=i[a])||n.set(r,e.push(r));return o[t.t].apply(o,t.a)},o.range=function(e){return arguments.length?(i=e,r=0,t={t:"range",a:arguments},o):i},o.rangePoints=function(n,a){arguments.length<2&&(a=0);var l=n[0],c=n[1],u=e.length<2?(l=(l+c)/2,0):(c-l)/(e.length-1+a);return i=s(l+u*a/2,u),r=0,t={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(n,a){arguments.length<2&&(a=0);var l=n[0],c=n[1],u=e.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(e.length-1+a)|0;return i=s(l+Math.round(u*a/2+(c-l-(e.length-1+a)*u)/2),u),r=0,t={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(n,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=n[1]<n[0],u=n[c-0],d=n[1-c],h=(d-u)/(e.length-a+2*l);return i=s(u+h*l,h),c&&i.reverse(),r=h*(1-a),t={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(n,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=n[1]<n[0],u=n[c-0],d=n[1-c],h=Math.floor((d-u)/(e.length-a+2*l));return i=s(u+Math.round((d-u-(e.length-a)*h)/2),h),c&&i.reverse(),r=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return r},o.rangeExtent=function(){return To(t.a[0])},o.copy=function(){return Yo(e,t)},o.domain(e)}a.scale.pow=function(){return Wo(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Yo([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range($o)},a.scale.category20=function(){return a.scale.ordinal().range(Ko)},a.scale.category20b=function(){return a.scale.ordinal().range(Go)},a.scale.category20c=function(){return a.scale.ordinal().range(Xo)};var $o=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dt),Ko=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dt),Go=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dt),Xo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dt);function Qo(e,t){var n;function i(){var i=0,o=t.length;for(n=[];++i<o;)n[i-1]=a.quantile(e,i/o);return r}function r(e){if(!isNaN(e=+e))return t[a.bisect(n,e)]}return r.domain=function(t){return arguments.length?(e=t.map(v).filter(y).sort(g),i()):e},r.range=function(e){return arguments.length?(t=e,i()):t},r.quantiles=function(){return n},r.invertExtent=function(i){return(i=t.indexOf(i))<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},r.copy=function(){return Qo(e,t)},i()}function Jo(e,t,n){var i,r;function a(t){return n[Math.max(0,Math.min(r,Math.floor(i*(t-e))))]}function o(){return i=n.length/(t-e),r=n.length-1,a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},a.range=function(e){return arguments.length?(n=e,o()):n},a.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/i+e,t+1/i]},a.copy=function(){return Jo(e,t,n)},o()}function es(e,t){function n(n){if(n<=n)return t[a.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return es(e,t)},n}function ts(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Lo(e,t)},t.tickFormat=function(t,n){return qo(e,t,n)},t.copy=function(){return ts(e)},t}function ns(){return 0}a.scale.quantile=function(){return Qo([],[])},a.scale.quantize=function(){return Jo(0,1,[0,1])},a.scale.threshold=function(){return es([.5],[0,1])},a.scale.identity=function(){return ts([0,1])},a.svg={},a.svg.arc=function(){var e=rs,t=as,n=ns,i=is,r=os,a=ss,o=ls;function s(){var s=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+t.apply(this,arguments)),u=r.apply(this,arguments)-Oe,d=a.apply(this,arguments)-Oe,h=Math.abs(d-u),p=u>d?0:1;if(c<s&&(f=c,c=s,s=f),h>=Ie)return l(c,p)+(s?l(s,1-p):"")+"Z";var f,m,g,v,y,b,_,w,k,x,E,C,S=0,T=0,D=[];if((v=(+o.apply(this,arguments)||0)/2)&&(g=i===is?Math.sqrt(s*s+c*c):+i.apply(this,arguments),p||(T*=-1),c&&(T=qe(g/c*Math.sin(v))),s&&(S=qe(g/s*Math.sin(v)))),c){y=c*Math.cos(u+T),b=c*Math.sin(u+T),_=c*Math.cos(d-T),w=c*Math.sin(d-T);var F=Math.abs(d-u-2*T)<=Me?0:1;if(T&&cs(y,b,_,w)===p^F){var M=(u+d)/2;y=c*Math.cos(M),b=c*Math.sin(M),_=w=null}}else y=b=0;if(s){k=s*Math.cos(d-S),x=s*Math.sin(d-S),E=s*Math.cos(u+S),C=s*Math.sin(u+S);var A=Math.abs(u-d+2*S)<=Me?0:1;if(S&&cs(k,x,E,C)===1-p^A){var I=(u+d)/2;k=s*Math.cos(I),x=s*Math.sin(I),E=C=null}}else k=x=0;if(h>De&&(f=Math.min(Math.abs(c-s)/2,+n.apply(this,arguments)))>.001){m=s<c^p?0:1;var O=f,N=f;if(h<Me){var P=null==E?[k,x]:null==_?[y,b]:mr([y,b],[E,C],[_,w],[k,x]),R=y-P[0],j=b-P[1],L=_-P[0],q=w-P[1],Z=1/Math.sin(Math.acos((R*L+j*q)/(Math.sqrt(R*R+j*j)*Math.sqrt(L*L+q*q)))/2),B=Math.sqrt(P[0]*P[0]+P[1]*P[1]);N=Math.min(f,(s-B)/(Z-1)),O=Math.min(f,(c-B)/(Z+1))}if(null!=_){var V=us(null==E?[k,x]:[E,C],[y,b],c,O,p),z=us([_,w],[k,x],c,O,p);f===O?D.push("M",V[0],"A",O,",",O," 0 0,",m," ",V[1],"A",c,",",c," 0 ",1-p^cs(V[1][0],V[1][1],z[1][0],z[1][1]),",",p," ",z[1],"A",O,",",O," 0 0,",m," ",z[0]):D.push("M",V[0],"A",O,",",O," 0 1,",m," ",z[0])}else D.push("M",y,",",b);if(null!=E){var U=us([y,b],[E,C],s,-N,p),W=us([k,x],null==_?[y,b]:[_,w],s,-N,p);f===N?D.push("L",W[0],"A",N,",",N," 0 0,",m," ",W[1],"A",s,",",s," 0 ",p^cs(W[1][0],W[1][1],U[1][0],U[1][1]),",",1-p," ",U[1],"A",N,",",N," 0 0,",m," ",U[0]):D.push("L",W[0],"A",N,",",N," 0 0,",m," ",U[0])}else D.push("L",k,",",x)}else D.push("M",y,",",b),null!=_&&D.push("A",c,",",c," 0 ",F,",",p," ",_,",",w),D.push("L",k,",",x),null!=E&&D.push("A",s,",",s," 0 ",A,",",1-p," ",E,",",C);return D.push("Z"),D.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=_t(t),s):e},s.outerRadius=function(e){return arguments.length?(t=_t(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=_t(e),s):n},s.padRadius=function(e){return arguments.length?(i=e==is?is:_t(e),s):i},s.startAngle=function(e){return arguments.length?(r=_t(e),s):r},s.endAngle=function(e){return arguments.length?(a=_t(e),s):a},s.padAngle=function(e){return arguments.length?(o=_t(e),s):o},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-Oe;return[Math.cos(i)*n,Math.sin(i)*n]},s};var is="auto";function rs(e){return e.innerRadius}function as(e){return e.outerRadius}function os(e){return e.startAngle}function ss(e){return e.endAngle}function ls(e){return e&&e.padAngle}function cs(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function us(e,t,n,i,r){var a=e[0]-t[0],o=e[1]-t[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=e[0]+l,d=e[1]+c,h=t[0]+l,p=t[1]+c,f=(u+h)/2,m=(d+p)/2,g=h-u,v=p-d,y=g*g+v*v,b=n-i,_=u*p-h*d,w=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-_*_)),k=(_*v-g*w)/y,x=(-_*g-v*w)/y,E=(_*v+g*w)/y,C=(-_*g+v*w)/y,S=k-f,T=x-m,D=E-f,F=C-m;return S*S+T*T>D*D+F*F&&(k=E,x=C),[[k-l,x-c],[k*n/b,x*n/b]]}function ds(e){var t=cr,n=ur,i=Jn,r=ps,a=r.key,o=.7;function s(a){var s,l=[],c=[],u=-1,d=a.length,h=_t(t),p=_t(n);function f(){l.push("M",r(e(c),o))}for(;++u<d;)i.call(this,s=a[u],u)?c.push([+h.call(this,s,u),+p.call(this,s,u)]):c.length&&(f(),c=[]);return c.length&&f(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(i=e,s):i},s.interpolate=function(e){return arguments.length?(a="function"==typeof e?r=e:(r=hs.get(e)||ps).key,s):a},s.tension=function(e){return arguments.length?(o=e,s):o},s}a.svg.line=function(){return ds(N)};var hs=a.map({linear:ps,"linear-closed":fs,step:function(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];for(;++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":ms,"step-after":gs,basis:bs,"basis-open":function(e){if(e.length<4)return ps(e);var t,n=[],i=-1,r=e.length,a=[0],o=[0];for(;++i<3;)t=e[i],a.push(t[0]),o.push(t[1]);n.push(_s(xs,a)+","+_s(xs,o)),--i;for(;++i<r;)t=e[i],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),Es(n,a,o);return n.join("")},"basis-closed":function(e){var t,n,i=-1,r=e.length,a=r+4,o=[],s=[];for(;++i<4;)n=e[i%r],o.push(n[0]),s.push(n[1]);t=[_s(xs,o),",",_s(xs,s)],--i;for(;++i<a;)n=e[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Es(t,o,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var i,r,a=e[0][0],o=e[0][1],s=e[n][0]-a,l=e[n][1]-o,c=-1;++c<=n;)i=e[c],r=c/n,i[0]=t*i[0]+(1-t)*(a+r*s),i[1]=t*i[1]+(1-t)*(o+r*l);return bs(e)},cardinal:function(e,t){return e.length<3?ps(e):e[0]+vs(e,ys(e,t))},"cardinal-open":function(e,t){return e.length<4?ps(e):e[1]+vs(e.slice(1,-1),ys(e,t))},"cardinal-closed":function(e,t){return e.length<3?fs(e):e[0]+vs((e.push(e[0]),e),ys([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?ps(e):e[0]+vs(e,function(e){var t,n,i,r,a=[],o=function(e){var t=0,n=e.length-1,i=[],r=e[0],a=e[1],o=i[0]=Cs(r,a);for(;++t<n;)i[t]=(o+(o=Cs(r=a,a=e[t+1])))/2;return i[t]=o,i}(e),s=-1,l=e.length-1;for(;++s<l;)t=Cs(e[s],e[s+1]),k(t)<De?o[s]=o[s+1]=0:(r=(n=o[s]/t)*n+(i=o[s+1]/t)*i)>9&&(r=3*t/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i);s=-1;for(;++s<=l;)r=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}(e))}});function ps(e){return e.length>1?e.join("L"):e+"Z"}function fs(e){return e.join("L")+"Z"}function ms(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function gs(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function vs(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ps(e);var n=e.length!=t.length,i="",r=e[0],a=e[1],o=t[0],s=o,l=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=e[1],l=2),t.length>1){s=t[1],a=e[l],l++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<t.length;c++,l++)a=e[l],s=t[c],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=e[l];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function ys(e,t){for(var n,i=[],r=(1-t)/2,a=e[0],o=e[1],s=1,l=e.length;++s<l;)n=a,a=o,o=e[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function bs(e){if(e.length<3)return ps(e);var t=1,n=e.length,i=e[0],r=i[0],a=i[1],o=[r,r,r,(i=e[1])[0]],s=[a,a,a,i[1]],l=[r,",",a,"L",_s(xs,o),",",_s(xs,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Es(l,o,s);return e.pop(),l.push("L",i),l.join("")}function _s(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}hs.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var ws=[0,2/3,1/3,0],ks=[0,1/3,2/3,0],xs=[0,1/6,2/3,1/6];function Es(e,t,n){e.push("C",_s(ws,t),",",_s(ws,n),",",_s(ks,t),",",_s(ks,n),",",_s(xs,t),",",_s(xs,n))}function Cs(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ss(e){for(var t,n,i,r=-1,a=e.length;++r<a;)n=(t=e[r])[0],i=t[1]-Oe,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function Ts(e){var t=cr,n=cr,i=0,r=ur,a=Jn,o=ps,s=o.key,l=o,c="L",u=.7;function d(s){var d,h,p,f=[],m=[],g=[],v=-1,y=s.length,b=_t(t),_=_t(i),w=t===n?function(){return h}:_t(n),k=i===r?function(){return p}:_t(r);function x(){f.push("M",o(e(g),u),c,l(e(m.reverse()),u),"Z")}for(;++v<y;)a.call(this,d=s[v],v)?(m.push([h=+b.call(this,d,v),p=+_.call(this,d,v)]),g.push([+w.call(this,d,v),+k.call(this,d,v)])):m.length&&(x(),m=[],g=[]);return m.length&&x(),f.length?f.join(""):null}return d.x=function(e){return arguments.length?(t=n=e,d):n},d.x0=function(e){return arguments.length?(t=e,d):t},d.x1=function(e){return arguments.length?(n=e,d):n},d.y=function(e){return arguments.length?(i=r=e,d):r},d.y0=function(e){return arguments.length?(i=e,d):i},d.y1=function(e){return arguments.length?(r=e,d):r},d.defined=function(e){return arguments.length?(a=e,d):a},d.interpolate=function(e){return arguments.length?(s="function"==typeof e?o=e:(o=hs.get(e)||ps).key,l=o.reverse||o,c=o.closed?"M":"L",d):s},d.tension=function(e){return arguments.length?(u=e,d):u},d}function Ds(e){return e.radius}function Fs(e){return[e.x,e.y]}function Ms(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Oe;return[n*Math.cos(i),n*Math.sin(i)]}}function As(){return 64}function Is(){return"circle"}function Os(e){var t=Math.sqrt(e/Me);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}a.svg.line.radial=function(){var e=ds(Ss);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},ms.reverse=gs,gs.reverse=ms,a.svg.area=function(){return Ts(N)},a.svg.area.radial=function(){var e=Ts(Ss);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},a.svg.chord=function(){var e=Ki,t=Gi,n=Ds,i=os,r=ss;function a(n,i){var r=o(this,e,n,i),a=o(this,t,n,i);return"M"+r.p0+s(r.r,r.p1,r.a1-r.a0)+(function(e,t){return e.a0==t.a0&&e.a1==t.a1}(r,a)?l(r.r,r.p1,r.r,r.p0):l(r.r,r.p1,a.r,a.p0)+s(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,r.r,r.p0))+"Z"}function o(e,t,a,o){var s=t.call(e,a,o),l=n.call(e,s,o),c=i.call(e,s,o)-Oe,u=r.call(e,s,o)-Oe;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Me)+",1 "+t}function l(e,t,n,i){return"Q 0,0 "+i}return a.radius=function(e){return arguments.length?(n=_t(e),a):n},a.source=function(t){return arguments.length?(e=_t(t),a):e},a.target=function(e){return arguments.length?(t=_t(e),a):t},a.startAngle=function(e){return arguments.length?(i=_t(e),a):i},a.endAngle=function(e){return arguments.length?(r=_t(e),a):r},a},a.svg.diagonal=function(){var e=Ki,t=Gi,n=Fs;function i(i,r){var a=e.call(this,i,r),o=t.call(this,i,r),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return i.source=function(t){return arguments.length?(e=_t(t),i):e},i.target=function(e){return arguments.length?(t=_t(e),i):t},i.projection=function(e){return arguments.length?(n=e,i):n},i},a.svg.diagonal.radial=function(){var e=a.svg.diagonal(),t=Fs,n=e.projection;return e.projection=function(e){return arguments.length?n(Ms(t=e)):t},e},a.svg.symbol=function(){var e=Is,t=As;function n(n,i){return(Ns.get(e.call(this,n,i))||Os)(t.call(this,n,i))}return n.type=function(t){return arguments.length?(e=_t(t),n):e},n.size=function(e){return arguments.length?(t=_t(e),n):t},n};var Ns=a.map({circle:Os,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Rs)),n=t*Rs;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ps),n=t*Ps/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ps),n=t*Ps/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});a.svg.symbolTypes=Ns.keys();var Ps=Math.sqrt(3),Rs=Math.tan(30*Ne);G.transition=function(e){for(var t,n,i=Zs||++zs,r=Hs(e),a=[],o=Bs||{time:Date.now(),ease:va,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&Ys(n,u,r,i,o),t.push(n)}return qs(a,r,i)},G.interrupt=function(e){return this.each(null==e?js:Ls(Hs(e)))};var js=Ls(Hs());function Ls(e){return function(){var t,n,i;(t=this[e])&&(i=t[n=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function qs(e,t,n){return W(e,Vs),e.namespace=t,e.id=n,e}var Zs,Bs,Vs=[],zs=0;function Us(e,t,n,i){var r=e.id,a=e.namespace;return fe(e,"function"==typeof n?function(e,o,s){e[a][r].tween.set(t,i(n.call(e,e.__data__,o,s)))}:(n=i(n),function(e){e[a][r].tween.set(t,n)}))}function Ws(e){return null==e&&(e=""),function(){this.textContent=e}}function Hs(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ys(e,t,n,i,r){var a,o,s,l,c,u=e[n]||(e[n]={active:0,count:0}),d=u[i];function h(n){var r=u.active,h=u[r];for(var f in h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[r],h.event&&h.event.interrupt.call(e,e.__data__,h.index)),u)if(+f<i){var m=u[f];m.timer.c=null,m.timer.t=NaN,--u.count,delete u[f]}o.c=p,Dt((function(){return o.c&&p(n||1)&&(o.c=null,o.t=NaN),1}),0,a),u.active=i,d.event&&d.event.start.call(e,e.__data__,t),c=[],d.tween.forEach((function(n,i){(i=i.call(e,e.__data__,t))&&c.push(i)})),l=d.ease,s=d.duration}function p(r){for(var a=r/s,o=l(a),h=c.length;h>0;)c[--h].call(e,o);if(a>=1)return d.event&&d.event.end.call(e,e.__data__,t),--u.count?delete u[i]:delete e[n],1}d||(a=r.time,o=Dt((function(e){var t=d.delay;if(o.t=t+a,t<=e)return h(e-t);o.c=h}),0,a),d=u[i]={tween:new C,time:a,timer:o,delay:r.delay,duration:r.duration,ease:r.ease,index:t},r=null,++u.count)}Vs.call=G.call,Vs.empty=G.empty,Vs.node=G.node,Vs.size=G.size,a.transition=function(e,t){return e&&e.transition?Zs?e.transition(t):e:a.selection().transition(e)},a.transition.prototype=Vs,Vs.select=function(e){var t,n,i,r=this.id,a=this.namespace,o=[];e=X(e);for(var s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(i=c[u])&&(n=e.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),Ys(n,u,a,r,i[a][r]),t.push(n)):t.push(null)}return qs(o,a,r)},Vs.selectAll=function(e){var t,n,i,r,a,o=this.id,s=this.namespace,l=[];e=Q(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,p=d.length;++h<p;)if(i=d[h]){a=i[s][o],n=e.call(i,i.__data__,h,c),l.push(t=[]);for(var f=-1,m=n.length;++f<m;)(r=n[f])&&Ys(r,f,s,o,a),t.push(r)}return qs(l,s,o)},Vs.filter=function(e){var t,n,i=[];"function"!=typeof e&&(e=he(e));for(var r=0,a=this.length;r<a;r++){i.push(t=[]);for(var o,s=0,l=(o=this[r]).length;s<l;s++)(n=o[s])&&e.call(n,n.__data__,s,r)&&t.push(n)}return qs(i,this.namespace,this.id)},Vs.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):fe(this,null==t?function(t){t[i][n].tween.remove(e)}:function(r){r[i][n].tween.set(e,t)})},Vs.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?Da:sa,i=a.ns.qualify(e);function r(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function s(e){return null==e?r:(e+="",function(){var t,r=this.getAttribute(i);return r!==e&&(t=n(r,e),function(e){this.setAttribute(i,t(e))})})}function l(e){return null==e?o:(e+="",function(){var t,r=this.getAttributeNS(i.space,i.local);return r!==e&&(t=n(r,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}return Us(this,"attr."+e,t,i.local?l:s)},Vs.attrTween=function(e,t){var n=a.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,i){var r=t.call(this,e,i,this.getAttributeNS(n.space,n.local));return r&&function(e){this.setAttributeNS(n.space,n.local,r(e))}}:function(e,i){var r=t.call(this,e,i,this.getAttribute(n));return r&&function(e){this.setAttribute(n,r(e))}})},Vs.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function r(){this.style.removeProperty(e)}function a(t){return null==t?r:(t+="",function(){var i,r=u(this).getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=sa(r,t),function(t){this.style.setProperty(e,i(t),n)})})}return Us(this,"style."+e,t,a)},Vs.styleTween=function(e,t,n){function i(i,r){var a=t.call(this,i,r,u(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,i)},Vs.text=function(e){return Us(this,"text",e,Ws)},Vs.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Vs.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=a.ease.apply(a,arguments)),fe(this,(function(i){i[n][t].ease=e})))},Vs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:fe(this,"function"==typeof e?function(i,r,a){i[n][t].delay=+e.call(i,i.__data__,r,a)}:(e=+e,function(i){i[n][t].delay=e}))},Vs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:fe(this,"function"==typeof e?function(i,r,a){i[n][t].duration=Math.max(1,e.call(i,i.__data__,r,a))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},Vs.each=function(e,t){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Bs,o=Zs;try{Zs=n,fe(this,(function(t,r,a){Bs=t[i][n],e.call(t,t.__data__,r,a)}))}finally{Bs=r,Zs=o}}else fe(this,(function(r){var o=r[i][n];(o.event||(o.event=a.dispatch("start","end","interrupt"))).on(e,t)}));return this},Vs.transition=function(){for(var e,t,n,i=this.id,r=++zs,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(e=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(t=c[u])&&Ys(t,u,a,r,{time:(n=t[a][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return qs(o,a,r)},a.svg.axis=function(){var e,t=a.scale.linear(),n=$s,i=6,r=6,o=3,l=[10],c=null;function u(s){s.each((function(){var s,u=a.select(this),d=this.__chart__||t,h=this.__chart__=t.copy(),p=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,f=null==e?h.tickFormat?h.tickFormat.apply(h,l):N:e,m=u.selectAll(".tick").data(p,h),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",De),v=a.transition(m.exit()).style("opacity",De).remove(),y=a.transition(m.order()).style("opacity",1),b=Math.max(i,0)+o,_=Do(h),w=u.selectAll(".domain").data([0]),k=(w.enter().append("path").attr("class","domain"),a.transition(w));g.append("line"),g.append("text");var x,E,C,S,T=g.select("line"),D=y.select("line"),F=m.select("text").text(f),M=g.select("text"),A=y.select("text"),I="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Gs,x="x",C="y",E="x2",S="y2",F.attr("dy",I<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+_[0]+","+I*r+"V0H"+_[1]+"V"+I*r)):(s=Xs,x="y",C="x",E="y2",S="x2",F.attr("dy",".32em").style("text-anchor",I<0?"end":"start"),k.attr("d","M"+I*r+","+_[0]+"H0V"+_[1]+"H"+I*r)),T.attr(S,I*i),M.attr(C,I*b),D.attr(E,0).attr(S,I*i),A.attr(x,0).attr(C,I*b),h.rangeBand){var O=h,P=O.rangeBand()/2;d=h=function(e){return O(e)+P}}else d.rangeBand?d=h:v.call(s,h,d);g.call(s,d,h),y.call(s,h,h)}))}return u.scale=function(e){return arguments.length?(t=e,u):t},u.orient=function(e){return arguments.length?(n=e in Ks?e+"":$s,u):n},u.ticks=function(){return arguments.length?(l=s(arguments),u):l},u.tickValues=function(e){return arguments.length?(c=e,u):c},u.tickFormat=function(t){return arguments.length?(e=t,u):e},u.tickSize=function(e){var t=arguments.length;return t?(i=+e,r=+arguments[t-1],u):i},u.innerTickSize=function(e){return arguments.length?(i=+e,u):i},u.outerTickSize=function(e){return arguments.length?(r=+e,u):r},u.tickPadding=function(e){return arguments.length?(o=+e,u):o},u.tickSubdivide=function(){return arguments.length&&u},u};var $s="bottom",Ks={top:1,right:1,bottom:1,left:1};function Gs(e,t,n){e.attr("transform",(function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"}))}function Xs(e,t,n){e.attr("transform",(function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"}))}a.svg.brush=function(){var e,t,n=z(h,"brushstart","brush","brushend"),i=null,r=null,o=[0,0],s=[0,0],l=!0,c=!0,d=Js[0];function h(e){e.each((function(){var e=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(d,N);n.exit().remove(),n.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Qs[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var o,s=a.transition(e),l=a.transition(t);i&&(o=Do(i),l.attr("x",o[0]).attr("width",o[1]-o[0]),f(s)),r&&(o=Do(r),l.attr("y",o[0]).attr("height",o[1]-o[0]),m(s)),p(s)}))}function p(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+o[+/e$/.test(e)]+","+s[+/^s/.test(e)]+")"}))}function f(e){e.select(".extent").attr("x",o[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function m(e){e.select(".extent").attr("y",s[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function g(){var d,g,v=this,y=a.select(a.event.target),b=n.of(v,arguments),_=a.select(v),w=y.datum(),k=!/^(n|s)$/.test(w)&&i,x=!/^(e|w)$/.test(w)&&r,E=y.classed("extent"),C=Ee(v),S=a.mouse(v),T=a.select(u(v)).on("keydown.brush",M).on("keyup.brush",A);if(a.event.changedTouches?T.on("touchmove.brush",I).on("touchend.brush",N):T.on("mousemove.brush",I).on("mouseup.brush",N),_.interrupt().selectAll("*").interrupt(),E)S[0]=o[0]-S[0],S[1]=s[0]-S[1];else if(w){var D=+/w$/.test(w),F=+/^n/.test(w);g=[o[1-D]-S[0],s[1-F]-S[1]],S[0]=o[D],S[1]=s[F]}else a.event.altKey&&(d=S.slice());function M(){32==a.event.keyCode&&(E||(d=null,S[0]-=o[1],S[1]-=s[1],E=2),B())}function A(){32==a.event.keyCode&&2==E&&(S[0]+=o[1],S[1]+=s[1],E=0,B())}function I(){var e=a.mouse(v),t=!1;g&&(e[0]+=g[0],e[1]+=g[1]),E||(a.event.altKey?(d||(d=[(o[0]+o[1])/2,(s[0]+s[1])/2]),S[0]=o[+(e[0]<d[0])],S[1]=s[+(e[1]<d[1])]):d=null),k&&O(e,i,0)&&(f(_),t=!0),x&&O(e,r,1)&&(m(_),t=!0),t&&(p(_),b({type:"brush",mode:E?"move":"resize"}))}function O(n,i,r){var a,u,h=Do(i),p=h[0],f=h[1],m=S[r],g=r?s:o,v=g[1]-g[0];if(E&&(p-=m,f-=v+m),a=(r?c:l)?Math.max(p,Math.min(f,n[r])):n[r],E?u=(a+=m)+v:(d&&(m=Math.max(p,Math.min(f,2*d[r]-a))),m<a?(u=a,a=m):u=m),g[0]!=a||g[1]!=u)return r?t=null:e=null,g[0]=a,g[1]=u,!0}function N(){I(),_.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),a.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),b({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),I()}return h.event=function(i){i.each((function(){var i=n.of(this,arguments),r={x:o,y:s,i:e,j:t},l=this.__chart__||r;this.__chart__=r,Zs?a.select(this).transition().each("start.brush",(function(){e=l.i,t=l.j,o=l.x,s=l.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var n=la(o,r.x),a=la(s,r.y);return e=t=null,function(e){o=r.x=n(e),s=r.y=a(e),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=r.i,t=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},h.x=function(e){return arguments.length?(d=Js[!(i=e)<<1|!r],h):i},h.y=function(e){return arguments.length?(d=Js[!i<<1|!(r=e)],h):r},h.clamp=function(e){return arguments.length?(i&&r?(l=!!e[0],c=!!e[1]):i?l=!!e:r&&(c=!!e),h):i&&r?[l,c]:i?l:r?c:null},h.extent=function(n){var a,l,c,u,d;return arguments.length?(i&&(a=n[0],l=n[1],r&&(a=a[0],l=l[0]),e=[a,l],i.invert&&(a=i(a),l=i(l)),l<a&&(d=a,a=l,l=d),a==o[0]&&l==o[1]||(o=[a,l])),r&&(c=n[0],u=n[1],i&&(c=c[1],u=u[1]),t=[c,u],r.invert&&(c=r(c),u=r(u)),u<c&&(d=c,c=u,u=d),c==s[0]&&u==s[1]||(s=[c,u])),h):(i&&(e?(a=e[0],l=e[1]):(a=o[0],l=o[1],i.invert&&(a=i.invert(a),l=i.invert(l)),l<a&&(d=a,a=l,l=d))),r&&(t?(c=t[0],u=t[1]):(c=s[0],u=s[1],r.invert&&(c=r.invert(c),u=r.invert(u)),u<c&&(d=c,c=u,u=d))),i&&r?[[a,c],[l,u]]:i?[a,l]:r&&[c,u])},h.clear=function(){return h.empty()||(o=[0,0],s=[0,0],e=t=null),h},h.empty=function(){return!!i&&o[0]==o[1]||!!r&&s[0]==s[1]},a.rebind(h,n,"on")};var Qs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Js=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],el=Lt.format=fn.timeFormat,tl=el.utc,nl=tl("%Y-%m-%dT%H:%M:%S.%LZ");function il(e){return e.toISOString()}function rl(e,t,n){function i(t){return e(t)}function r(e,n){var i=(e[1]-e[0])/n,r=a.bisect(ol,i);return r==ol.length?[t.year,jo(e.map((function(e){return e/31536e6})),n)[2]]:r?t[i/ol[r-1]<ol[r]/i?r-1:r]:[cl,jo(e,n)[2]]}return i.invert=function(t){return al(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(al)},i.nice=function(e,t){var n=i.domain(),a=To(n),o=null==e?r(a,10):"number"==typeof e&&r(a,e);function s(n){return!isNaN(n)&&!e.range(n,al(+n+1),t).length}return o&&(e=o[0],t=o[1]),i.domain(Mo(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=al(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=al(+t+1);return t}}:e))},i.ticks=function(e,t){var n=To(i.domain()),a=null==e?r(n,10):"number"==typeof e?r(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],al(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return n},i.copy=function(){return rl(e.copy(),t,n)},Po(i,e)}function al(e){return new Date(e)}el.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?il:nl,il.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},il.toString=nl.toString,Lt.second=Vt((function(e){return new qt(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Lt.seconds=Lt.second.range,Lt.seconds.utc=Lt.second.utc.range,Lt.minute=Vt((function(e){return new qt(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Lt.minutes=Lt.minute.range,Lt.minutes.utc=Lt.minute.utc.range,Lt.hour=Vt((function(e){var t=e.getTimezoneOffset()/60;return new qt(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Lt.hours=Lt.hour.range,Lt.hours.utc=Lt.hour.utc.range,Lt.month=Vt((function(e){return(e=Lt.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Lt.months=Lt.month.range,Lt.months.utc=Lt.month.utc.range;var ol=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],sl=[[Lt.second,1],[Lt.second,5],[Lt.second,15],[Lt.second,30],[Lt.minute,1],[Lt.minute,5],[Lt.minute,15],[Lt.minute,30],[Lt.hour,1],[Lt.hour,3],[Lt.hour,6],[Lt.hour,12],[Lt.day,1],[Lt.day,2],[Lt.week,1],[Lt.month,1],[Lt.month,3],[Lt.year,1]],ll=el.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Jn]]),cl={range:function(e,t,n){return a.range(Math.ceil(e/n)*n,+t,n).map(al)},floor:N,ceil:N};sl.year=Lt.year,Lt.scale=function(){return rl(a.scale.linear(),sl,ll)};var ul=sl.map((function(e){return[e[0].utc,e[1]]})),dl=tl.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Jn]]);function hl(e){return JSON.parse(e.responseText)}function pl(e){var t=l.createRange();return t.selectNode(l.body),t.createContextualFragment(e.responseText)}ul.year=Lt.year.utc,Lt.scale.utc=function(){return rl(a.scale.linear(),ul,dl)},a.text=wt((function(e){return e.responseText})),a.json=function(e,t){return kt(e,"application/json",hl,t)},a.html=function(e,t){return kt(e,"text/html",pl,t)},a.xml=wt((function(e){return e.responseXML})),this.d3=a,void 0===(r="function"==typeof(i=a)?i.call(t,n,t,e):i)||(e.exports=r)}()},2828:e=>{if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},9438:(e,t,n)=>{var i=n(2828);function r(e,t,n,i,r){var o=a.apply(this,arguments);return e.addEventListener(n,o,r),{destroy:function(){e.removeEventListener(n,o,r)}}}function a(e,t,n,r){return function(n){n.delegateTarget=i(n.target,t),n.delegateTarget&&r.call(e,n)}}e.exports=function(e,t,n,i,a){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,n,i,a)})))}},9306:function(e){!function(t){"use strict";var n=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return(i="application/font-woff",r="image/jpeg",{woff:i,woff2:i,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:r,jpeg:r,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var i,r},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);t(new Blob([r],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),i=n.createElement("base");n.head.appendChild(i);var r=n.createElement("a");return n.body.appendChild(r),i.href=t,r.href=e,r.href},getAndEncode:function(e){var t=3e4;l.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());return new Promise((function(n){var i,r=new XMLHttpRequest;if(r.onreadystatechange=o,r.ontimeout=s,r.responseType="blob",r.timeout=t,r.open("GET",e,!0),r.send(),l.impl.options.imagePlaceholder){var a=l.impl.options.imagePlaceholder.split(/,/);a&&a[1]&&(i=a[1])}function o(){if(4===r.readyState)if(200===r.status){var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];n(e)},t.readAsDataURL(r.response)}else i?n(i):c("cannot fetch resource: "+e+", status: "+r.status)}function s(){i?n(i):c("timeout of "+t+"ms occured while fetching resource: "+e)}function c(e){console.error(e),n("")}}))},uid:(e=0,function(){return"u"+t()+e++;function t(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src=e}))},width:function(e){var t=n(e,"border-left-width"),i=n(e,"border-right-width"),r=n(e,"margin-left"),a=n(e,"margin-right");return e.scrollWidth+t+i+r+a},height:function(e){var t=n(e,"border-top-width"),i=n(e,"border-bottom-width"),r=n(e,"margin-top"),a=n(e,"margin-bottom");return e.scrollHeight+t+i+r+a}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),i=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,n,a){return o()?Promise.resolve(e):Promise.resolve(e).then(i).then((function(t){var i=Promise.resolve(e);return t.forEach((function(e){i=i.then((function(t){return r(t,e,n,a)}))})),i}));function o(){return!t(e)}},shouldProcess:t,impl:{readUrls:i,inline:r}};function t(t){return-1!==t.search(e)}function i(t){for(var i,r=[];null!==(i=e.exec(t));)r.push(i[1]);return r.filter((function(e){return!n.isDataUrl(e)}))}function r(e,t,i,r){return Promise.resolve(t).then((function(e){return i?n.resolveUrl(e,i):e})).then(r||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t))})).then((function(i){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+n.escape(e)+")(['\"]?\\))","g")}(t),"$1"+i+"$3")}))}}(),r=function(){return{resolveAll:function(){return e(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:e}};function e(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(e){if(navigator.userAgent.includes("Firefox"))return[];var t=[];return e.forEach((function(e){try{n.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return i.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return i.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),a=function(){return{inlineAll:function t(r){return r instanceof Element?a(r).then((function(){return r instanceof HTMLImageElement?e(r).inline():Promise.all(n.asArray(r.childNodes).map((function(e){return t(e)})))})):Promise.resolve(r);function a(e){var t=e.style.getPropertyValue("background");return t?i.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}},impl:{newImage:e}};function e(e){return{inline:function(t){return n.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e.src))})).then((function(t){return new Promise((function(n,i){e.onload=n,e.onerror=i,e.src=t}))}))}}}}(),o={imagePlaceholder:void 0,cacheBust:!1},s=function(){return window.devicePixelRatio||1},l={toSvg:c,toPng:function(e,t){return u(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return u(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return u(e,t||{}).then(n.canvasToBlob)},toPixelData:function(e,t){return u(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,n.width(e),n.height(e)).data}))},impl:{fontFaces:r,images:a,util:n,inliner:i,options:{}}};function c(e,t){return function(e){void 0===e.imagePlaceholder?l.impl.options.imagePlaceholder=o.imagePlaceholder:l.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?l.impl.options.cacheBust=o.cacheBust:l.impl.options.cacheBust=e.cacheBust}(t=t||{}),Promise.resolve(e).then((function(e){return d(e,t.filter,!0)})).then(h).then(p).then((function(e){t.bgcolor&&(e.style.backgroundColor=t.bgcolor);t.width&&(e.style.width=t.width+"px");t.height&&(e.style.height=t.height+"px");t.style&&Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]}));return e})).then((function(i){return function(e,t,i){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(n.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+i+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(i,t.width||n.width(e),t.height||n.height(e))}))}function u(e,t){return c(e,t).then(n.makeImage).then(n.delay(100)).then((function(i){var r=s(),a=function(e){var i=s(),r=document.createElement("canvas");if(r.width=(t.width||n.width(e))*i,r.height=(t.height||n.height(e))*i,t.bgcolor){var a=r.getContext("2d");a.fillStyle=t.bgcolor,a.fillRect(0,0,r.width,r.height)}return r}(e),o=a.getContext("2d");return o.mozImageSmoothingEnabled=!1,o.msImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1,o.scale(r,r),o.drawImage(i,0,0),a}))}function d(e,t,i){return i||!t||t(e)?Promise.resolve(e).then((function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(i){return function(e,t,i){var r=e.childNodes;return 0===r.length?Promise.resolve(t):a(t,n.asArray(r),i).then((function(){return t}));function a(e,t,n){var i=Promise.resolve();return t.forEach((function(t){i=i.then((function(){return d(t,n)})).then((function(t){t&&e.appendChild(t)}))})),i}}(e,i,t)})).then((function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(i).then(r).then(a).then(o).then((function(){return t})):t;function i(){function i(e,t){function i(e,t){n.asArray(e).forEach((function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}))}e.cssText?(t.cssText=e.cssText,t.font=e.font):i(e,t)}i(window.getComputedStyle(e),t.style)}function r(){function i(i){var r=window.getComputedStyle(e,i),a=r.getPropertyValue("content");if(""!==a&&"none"!==a){var o=n.uid();t.className=t.className+" "+o;var s=document.createElement("style");s.appendChild(l(o,i,r)),t.appendChild(s)}function l(e,t,i){var r="."+e+":"+t,a=i.cssText?o(i):s(i);return document.createTextNode(r+"{"+a+"}");function o(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function s(e){return n.asArray(e).map(t).join("; ")+";";function t(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}}[":before",":after"].forEach((function(e){i(e)}))}function a(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function o(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})))}}(e,t)})):Promise.resolve()}function h(e){return r.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function p(e){return a.inlineAll(e).then((function(){return e}))}e.exports=l}()},7856:function(e){e.exports=function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,i=Object.isFrozen,r=Object.getPrototypeOf,a=Object.getOwnPropertyDescriptor,o=Object.freeze,s=Object.seal,l=Object.create,c="undefined"!=typeof Reflect&&Reflect,u=c.apply,d=c.construct;u||(u=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),s||(s=function(e){return e}),d||(d=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var h=k(Array.prototype.forEach),p=k(Array.prototype.pop),f=k(Array.prototype.push),m=k(String.prototype.toLowerCase),g=k(String.prototype.match),v=k(String.prototype.replace),y=k(String.prototype.indexOf),b=k(String.prototype.trim),_=k(RegExp.prototype.test),w=x(TypeError);function k(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return u(e,t,i)}}function x(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return d(e,n)}}function E(e,t){n&&n(e,null);for(var r=t.length;r--;){var a=t[r];if("string"==typeof a){var o=m(a);o!==a&&(i(t)||(t[r]=o),a=o)}e[a]=!0}return e}function C(e){var n=l(null),i=void 0;for(i in e)u(t,e,[i])&&(n[i]=e[i]);return n}function S(e,t){for(;null!==e;){var n=a(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=r(e)}function i(e){return console.warn("fallback value for",e),null}return i}var T=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=o(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),I=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O=o(["#text"]),N=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),P=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),L=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),q=s(/<%[\s\S]*|[\s\S]*%>/gm),Z=s(/^data-[\-\w.\u00B7-\uFFFF]/),B=s(/^aria-[\-\w]+$/),V=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),z=s(/^(?:\w+script|data):/i),U=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=s(/^html$/i),H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var $=function(){return"undefined"==typeof window?null:window},K=function(e,t){if("object"!==(void 0===e?"undefined":H(e))||"function"!=typeof e.createPolicy)return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(),t=function(e){return G(e)};if(t.version="2.3.6",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,i=e.document,r=e.DocumentFragment,a=e.HTMLTemplateElement,s=e.Node,l=e.Element,c=e.NodeFilter,u=e.NamedNodeMap,d=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,k=e.HTMLFormElement,x=e.DOMParser,X=e.trustedTypes,Q=l.prototype,J=S(Q,"cloneNode"),ee=S(Q,"nextSibling"),te=S(Q,"childNodes"),ne=S(Q,"parentNode");if("function"==typeof a){var ie=i.createElement("template");ie.content&&ie.content.ownerDocument&&(i=ie.content.ownerDocument)}var re=K(X,n),ae=re?re.createHTML(""):"",oe=i,se=oe.implementation,le=oe.createNodeIterator,ce=oe.createDocumentFragment,ue=oe.getElementsByTagName,de=n.importNode,he={};try{he=C(i).documentMode?i.documentMode:{}}catch(e){}var pe={};t.isSupported="function"==typeof ne&&se&&void 0!==se.createHTMLDocument&&9!==he;var fe=L,me=q,ge=Z,ve=B,ye=z,be=U,_e=V,we=null,ke=E({},[].concat(Y(T),Y(D),Y(F),Y(A),Y(O))),xe=null,Ee=E({},[].concat(Y(N),Y(P),Y(R),Y(j))),Ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Se=null,Te=null,De=!0,Fe=!0,Me=!1,Ae=!1,Ie=!1,Oe=!1,Ne=!1,Pe=!1,Re=!1,je=!1,Le=!0,qe=!0,Ze=!1,Be={},Ve=null,ze=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ue=null,We=E({},["audio","video","img","source","image","track"]),He=null,Ye=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$e="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml",Xe=Ge,Qe=!1,Je=void 0,et=["application/xhtml+xml","text/html"],tt="text/html",nt=void 0,it=null,rt=i.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},ot=function(e){it&&it===e||(e&&"object"===(void 0===e?"undefined":H(e))||(e={}),e=C(e),we="ALLOWED_TAGS"in e?E({},e.ALLOWED_TAGS):ke,xe="ALLOWED_ATTR"in e?E({},e.ALLOWED_ATTR):Ee,He="ADD_URI_SAFE_ATTR"in e?E(C(Ye),e.ADD_URI_SAFE_ATTR):Ye,Ue="ADD_DATA_URI_TAGS"in e?E(C(We),e.ADD_DATA_URI_TAGS):We,Ve="FORBID_CONTENTS"in e?E({},e.FORBID_CONTENTS):ze,Se="FORBID_TAGS"in e?E({},e.FORBID_TAGS):{},Te="FORBID_ATTR"in e?E({},e.FORBID_ATTR):{},Be="USE_PROFILES"in e&&e.USE_PROFILES,De=!1!==e.ALLOW_ARIA_ATTR,Fe=!1!==e.ALLOW_DATA_ATTR,Me=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=e.SAFE_FOR_TEMPLATES||!1,Ie=e.WHOLE_DOCUMENT||!1,Pe=e.RETURN_DOM||!1,Re=e.RETURN_DOM_FRAGMENT||!1,je=e.RETURN_TRUSTED_TYPE||!1,Ne=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,qe=!1!==e.KEEP_CONTENT,Ze=e.IN_PLACE||!1,_e=e.ALLOWED_URI_REGEXP||_e,Xe=e.NAMESPACE||Ge,e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Je=Je=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,nt="application/xhtml+xml"===Je?function(e){return e}:m,Ae&&(Fe=!1),Re&&(Pe=!0),Be&&(we=E({},[].concat(Y(O))),xe=[],!0===Be.html&&(E(we,T),E(xe,N)),!0===Be.svg&&(E(we,D),E(xe,P),E(xe,j)),!0===Be.svgFilters&&(E(we,F),E(xe,P),E(xe,j)),!0===Be.mathMl&&(E(we,A),E(xe,R),E(xe,j))),e.ADD_TAGS&&(we===ke&&(we=C(we)),E(we,e.ADD_TAGS)),e.ADD_ATTR&&(xe===Ee&&(xe=C(xe)),E(xe,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&E(He,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(Ve===ze&&(Ve=C(Ve)),E(Ve,e.FORBID_CONTENTS)),qe&&(we["#text"]=!0),Ie&&E(we,["html","head","body"]),we.table&&(E(we,["tbody"]),delete Se.tbody),o&&o(e),it=e)},st=E({},["mi","mo","mn","ms","mtext"]),lt=E({},["foreignobject","desc","title","annotation-xml"]),ct=E({},D);E(ct,F),E(ct,M);var ut=E({},A);E(ut,I);var dt=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Ge,tagName:"template"});var n=m(e.tagName),i=m(t.tagName);if(e.namespaceURI===Ke)return t.namespaceURI===Ge?"svg"===n:t.namespaceURI===$e?"svg"===n&&("annotation-xml"===i||st[i]):Boolean(ct[n]);if(e.namespaceURI===$e)return t.namespaceURI===Ge?"math"===n:t.namespaceURI===Ke?"math"===n&&lt[i]:Boolean(ut[n]);if(e.namespaceURI===Ge){if(t.namespaceURI===Ke&&!lt[i])return!1;if(t.namespaceURI===$e&&!st[i])return!1;var r=E({},["title","style","font","a","script"]);return!ut[n]&&(r[n]||!ct[n])}return!1},ht=function(e){f(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ae}catch(t){e.remove()}}},pt=function(e,n){try{f(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(e){f(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!xe[e])if(Pe||Re)try{ht(n)}catch(e){}else try{n.setAttribute(e,"")}catch(e){}},ft=function(e){var t=void 0,n=void 0;if(Ne)e="<remove></remove>"+e;else{var r=g(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===Je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=re?re.createHTML(e):e;if(Xe===Ge)try{t=(new x).parseFromString(a,Je)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Qe?"":a}catch(e){}}var o=t.body||t.documentElement;return e&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Xe===Ge?ue.call(t,Ie?"html":"body")[0]:Ie?t.documentElement:o},mt=function(e){return le.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},gt=function(e){return e instanceof k&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},vt=function(e){return"object"===(void 0===s?"undefined":H(s))?e instanceof s:e&&"object"===(void 0===e?"undefined":H(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},yt=function(e,n,i){pe[e]&&h(pe[e],(function(e){e.call(t,n,i,it)}))},bt=function(e){var n=void 0;if(yt("beforeSanitizeElements",e,null),gt(e))return ht(e),!0;if(g(e.nodeName,/[\u0080-\uFFFF]/))return ht(e),!0;var i=nt(e.nodeName);if(yt("uponSanitizeElement",e,{tagName:i,allowedTags:we}),!vt(e.firstElementChild)&&(!vt(e.content)||!vt(e.content.firstElementChild))&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===i&&_(/<template/i,e.innerHTML))return ht(e),!0;if(!we[i]||Se[i]){if(!Se[i]&&wt(i)){if(Ce.tagNameCheck instanceof RegExp&&_(Ce.tagNameCheck,i))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(i))return!1}if(qe&&!Ve[i]){var r=ne(e)||e.parentNode,a=te(e)||e.childNodes;if(a&&r)for(var o=a.length-1;o>=0;--o)r.insertBefore(J(a[o],!0),ee(e))}return ht(e),!0}return e instanceof l&&!dt(e)?(ht(e),!0):"noscript"!==i&&"noembed"!==i||!_(/<\/no(script|embed)/i,e.innerHTML)?(Ae&&3===e.nodeType&&(n=e.textContent,n=v(n,fe," "),n=v(n,me," "),e.textContent!==n&&(f(t.removed,{element:e.cloneNode()}),e.textContent=n)),yt("afterSanitizeElements",e,null),!1):(ht(e),!0)},_t=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in i||n in rt))return!1;if(Fe&&!Te[t]&&_(ge,t));else if(De&&_(ve,t));else if(!xe[t]||Te[t]){if(!(wt(e)&&(Ce.tagNameCheck instanceof RegExp&&_(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&_(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&_(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(He[t]);else if(_(_e,v(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!Ue[e])if(Me&&!_(ye,v(n,be,"")));else if(n)return!1;return!0},wt=function(e){return e.indexOf("-")>0},kt=function(e){var n=void 0,i=void 0,r=void 0,a=void 0;yt("beforeSanitizeAttributes",e,null);var o=e.attributes;if(o){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(a=o.length;a--;){var l=n=o[a],c=l.name,u=l.namespaceURI;if(i=b(n.value),r=nt(c),s.attrName=r,s.attrValue=i,s.keepAttr=!0,s.forceKeepAttr=void 0,yt("uponSanitizeAttribute",e,s),i=s.attrValue,!s.forceKeepAttr&&(pt(c,e),s.keepAttr))if(_(/\/>/i,i))pt(c,e);else{Ae&&(i=v(i,fe," "),i=v(i,me," "));var d=nt(e.nodeName);if(_t(d,r,i))try{u?e.setAttributeNS(u,c,i):e.setAttribute(c,i),p(t.removed)}catch(e){}}}yt("afterSanitizeAttributes",e,null)}},xt=function e(t){var n=void 0,i=mt(t);for(yt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)yt("uponSanitizeShadowNode",n,null),bt(n)||(n.content instanceof r&&e(n.content),kt(n));yt("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(i,a){var o=void 0,l=void 0,c=void 0,u=void 0,d=void 0;if((Qe=!i)&&(i="\x3c!--\x3e"),"string"!=typeof i&&!vt(i)){if("function"!=typeof i.toString)throw w("toString is not a function");if("string"!=typeof(i=i.toString()))throw w("dirty is not a string, aborting")}if(!t.isSupported){if("object"===H(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof i)return e.toStaticHTML(i);if(vt(i))return e.toStaticHTML(i.outerHTML)}return i}if(Oe||ot(a),t.removed=[],"string"==typeof i&&(Ze=!1),Ze){if(i.nodeName){var h=nt(i.nodeName);if(!we[h]||Se[h])throw w("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof s)1===(l=(o=ft("\x3c!----\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?o=l:o.appendChild(l);else{if(!Pe&&!Ae&&!Ie&&-1===i.indexOf("<"))return re&&je?re.createHTML(i):i;if(!(o=ft(i)))return Pe?null:je?ae:""}o&&Ne&&ht(o.firstChild);for(var p=mt(Ze?i:o);c=p.nextNode();)3===c.nodeType&&c===u||bt(c)||(c.content instanceof r&&xt(c.content),kt(c),u=c);if(u=null,Ze)return i;if(Pe){if(Re)for(d=ce.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return xe.shadowroot&&(d=de.call(n,d,!0)),d}var f=Ie?o.outerHTML:o.innerHTML;return Ie&&we["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&_(W,o.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+f),Ae&&(f=v(f,fe," "),f=v(f,me," ")),re&&je?re.createHTML(f):f},t.setConfig=function(e){ot(e),Oe=!0},t.clearConfig=function(){it=null,Oe=!1},t.isValidAttribute=function(e,t,n){it||ot({});var i=nt(e),r=nt(t);return _t(i,r,n)},t.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],f(pe[e],t))},t.removeHook=function(e){pe[e]&&p(pe[e])},t.removeHooks=function(e){pe[e]&&(pe[e]=[])},t.removeAllHooks=function(){pe={}},t}return G()}()},4389:()=>{"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),a=window.setTimeout((function(){t(i+r)}),r);return e=i+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},809:e=>{"use strict";e.exports=function(){return/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g}},2777:(e,t,n)=>{var i,r,a,o,s,l,c,u,d,h,p,f,m,g,v,y,b,_,w,k,x,E=E||{version:"3.6.6"};if(t.fabric=E,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?E.document=document:E.document=document.implementation.createHTMLDocument(""),E.window=window;else{var C=new(n(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;E.document=C.document,E.jsdomImplForWrapper=n(6759).implForWrapper,E.nodeCanvas=n(6272).Canvas,E.window=C,DOMParser=E.window.DOMParser}function S(e,t){var n=e.canvas,i=t.targetCanvas,r=i.getContext("2d");r.translate(0,i.height),r.scale(1,-1);var a=n.height-i.height;r.drawImage(n,0,a,i.width,i.height,0,0,i.width,i.height)}function T(e,t){var n=t.targetCanvas.getContext("2d"),i=t.destinationWidth,r=t.destinationHeight,a=i*r*4,o=new Uint8Array(this.imageBuffer,0,a),s=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,i,r,e.RGBA,e.UNSIGNED_BYTE,o);var l=new ImageData(s,i,r);n.putImageData(l,0,0)}E.isTouchSupported="ontouchstart"in E.window||"ontouchstart"in E.document||E.window&&E.window.navigator&&E.window.navigator.maxTouchPoints>0,E.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,E.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],E.DPI=96,E.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",E.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,E.reNonWord=/[ \n\.,;!\?\-]/,E.fontPaths={},E.iMatrix=[1,0,0,1,0,0],E.svgNS="http://www.w3.org/2000/svg",E.perfLimitSizeTotal=2097152,E.maxCacheSideLimit=4096,E.minCacheSideLimit=256,E.charWidthsCache={},E.textureSize=2048,E.disableStyleCopyPaste=!1,E.enableGLFiltering=!0,E.devicePixelRatio=E.window.devicePixelRatio||E.window.webkitDevicePixelRatio||E.window.mozDevicePixelRatio||1,E.browserShadowBlurConstant=1,E.arcToSegmentsCache={},E.boundsOfCurveCache={},E.cachesBoundsOfCurve=!0,E.forceGLPutImageData=!1,E.initFilterBackend=function(){return E.enableGLFiltering&&E.isWebglSupported&&E.isWebglSupported(E.textureSize)?(console.log("max texture size: "+E.maxTextureSize),new E.WebglFilterBackend({tileSize:E.textureSize})):E.Canvas2dFilterBackend?new E.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=E),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:E.util.array.fill(n,!1)}}function t(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this}function n(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"==typeof arguments[0])for(var i in t)e.call(this,i,t[i]);else e.call(this,t,n);return this}function i(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var i=0,r=n.length;i<r;i++)n[i]&&n[i].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this}E.Observable={observe:t,stopObserving:n,fire:i,on:t,off:n,trigger:i}}(),E.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var i=this._objects;return n?i[t]=e:i.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,i=0,r=arguments.length;i<r;i++)-1!==(e=t.indexOf(arguments[i]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);return this},getObjects:function(e){return void 0===e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e){return this._objects.indexOf(e)>-1},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},E.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof E.Gradient||this.set(t,new E.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof E.Pattern?n&&n():this.set(t,new E.Pattern(e,n))},_initClipping:function(e){if(e.clipTo&&"string"==typeof e.clipTo){var t=E.util.getFunctionBody(e.clipTo);void 0!==t&&(this.clipTo=new Function("ctx",t))}},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"==typeof e?this._setObject(e):"function"==typeof t&&"clipTo"!==e?this._set(e,t(this.get(e))):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},i=t,r=Math.sqrt,a=Math.atan2,o=Math.pow,s=Math.PI/180,l=Math.PI/2,E.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/l){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/l){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*s},radiansToDegrees:function(e){return e/s},rotatePoint:function(e,t,n){e.subtractEquals(t);var i=E.util.rotateVector(e,n);return new E.Point(i.x,i.y).addEquals(t)},rotateVector:function(e,t){var n=E.util.sin(t),i=E.util.cos(t);return{x:e.x*i-e.y*n,y:e.x*n+e.y*i}},transformPoint:function(e,t,n){return n?new E.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new E.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=E.util.transformPoint(e[n],t);var i=[e[0].x,e[1].x,e[2].x,e[3].x],r=E.util.array.min(i),a=E.util.array.max(i)-r,o=[e[0].y,e[1].y,e[2].y,e[3].y],s=E.util.array.min(o);return{left:r,top:s,width:a,height:E.util.array.max(o)-s}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],i=E.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-i.x,n[5]=-i.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),i=parseFloat(e);switch(t||(t=E.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return i*E.DPI/25.4;case"cm":return i*E.DPI/2.54;case"in":return i*E.DPI;case"pt":return i*E.DPI/72;case"pc":return i*E.DPI/72*12;case"em":return i*t;default:return i}},falseFunction:function(){return!1},getKlass:function(e,t){return e=E.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),E.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(e){if(!e)return E;var t,n=e.split("."),r=n.length,a=i||E.window;for(t=0;t<r;++t)a=a[n[t]];return a},loadImage:function(e,t,n,i){if(e){var r=E.util.createImage(),a=function(){t&&t.call(n,r),r=r.onload=r.onerror=null};r.onload=a,r.onerror=function(){E.log("Error loading "+r.src),t&&t.call(n,null,!0),r=r.onload=r.onerror=null},0!==e.indexOf("data")&&i&&(r.crossOrigin=i),"data:image/svg"===e.substring(0,14)&&(r.onload=null,E.util.loadImageInDom(r,a)),r.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=E.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),E.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,i){var r=[],a=0,o=(e=e||[]).length;function s(){++a===o&&t&&t(r.filter((function(e){return e})))}o?e.forEach((function(e,t){e&&e.type?E.util.getKlass(e.type,n).fromObject(e,(function(n,a){a||(r[t]=n),i&&i(e,n,a),s()})):s()})):t&&t(r)},enlivenPatterns:function(e,t){function n(){++r===a&&t&&t(i)}var i=[],r=0,a=(e=e||[]).length;a?e.forEach((function(e,t){e&&e.source?new E.Pattern(e,(function(e){i[t]=e,n()})):(i[t]=e,n())})):t&&t(i)},groupSVGElements:function(e,t,n){var i;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),i=new E.Group(e,t),void 0!==n&&(i.sourcePath=n),i)},populateWithProperties:function(e,t,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var i=0,r=n.length;i<r;i++)n[i]in e&&(t[n[i]]=e[n[i]])},drawDashedLine:function(e,t,n,i,o,s){var l=i-t,c=o-n,u=r(l*l+c*c),d=a(c,l),h=s.length,p=0,f=!0;for(e.save(),e.translate(t,n),e.moveTo(0,0),e.rotate(d),t=0;u>t;)(t+=s[p++%h])>u&&(t=u),e[f?"lineTo":"moveTo"](t,0),f=!f;e.restore()},createCanvasElement:function(){return E.document.createElement("canvas")},copyCanvasElement:function(e){var t=E.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return E.document.createElement("img")},clipContext:function(e,t){t.save(),t.beginPath(),e.clipTo(t),t.clip()},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var t=a(e[1],e[0]),n=o(e[0],2)+o(e[1],2),i=r(n),l=(e[0]*e[3]-e[2]*e[1])/i,c=a(e[0]*e[2]+e[1]*e[3],n);return{angle:t/s,scaleX:i,scaleY:l,skewX:c/s,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return E.iMatrix.concat();var t=E.util.degreesToRadians(e.angle),n=E.util.cos(t),i=E.util.sin(t);return[n,i,-i,n,0,0]},calcDimensionsMatrix:function(e){var t=void 0===e.scaleX?1:e.scaleX,n=void 0===e.scaleY?1:e.scaleY,i=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],r=E.util.multiplyTransformMatrices,a=E.util.degreesToRadians;return e.skewX&&(i=r(i,[1,0,Math.tan(a(e.skewX)),1],!0)),e.skewY&&(i=r(i,[1,Math.tan(a(e.skewY)),0,1],!0)),i},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=E.util.multiplyTransformMatrices;return e.angle&&(t=n(t,E.util.calcRotateMatrix(e))),(e.scaleX||e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,E.util.calcDimensionsMatrix(e))),t},customTransformMatrix:function(e,t,n){return E.util.composeMatrix({scaleX:e,scaleY:t,skewX:n})},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},getFunctionBody:function(e){return(String(e).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(e,t,n,i){i>0&&(t>i?t-=i:t=0,n>i?n-=i:n=0);var r,a=!0,o=e.getImageData(t,n,2*i||1,2*i||1),s=o.data.length;for(r=3;r<s&&!1!=(a=o.data[r]<=0);r+=4);return o=null,a},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",i=e.split(" ");return i&&i.length&&("meet"!==(n=i.pop())&&"slice"!==n?(t=n,n="meet"):i.length&&(t=i.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?E.charWidthsCache[e]&&delete E.charWidthsCache[e]:E.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),i=Math.floor(t/n);return{x:Math.floor(n),y:i}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return E.util.toFixed(e,E.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"}},function(){var e=Array.prototype.join;function t(t,r,a,o,s,l,c){var u=e.call(arguments);if(E.arcToSegmentsCache[u])return E.arcToSegmentsCache[u];var d=Math.PI,h=c*d/180,p=E.util.sin(h),f=E.util.cos(h),m=0,g=0,v=-f*t*.5-p*r*.5,y=-f*r*.5+p*t*.5,b=(a=Math.abs(a))*a,_=(o=Math.abs(o))*o,w=y*y,k=v*v,x=b*_-b*w-_*k,C=0;if(x<0){var S=Math.sqrt(1-x/(b*_));a*=S,o*=S}else C=(s===l?-1:1)*Math.sqrt(x/(b*w+_*k));var T=C*a*y/o,D=-C*o*v/a,F=f*T-p*D+.5*t,M=p*T+f*D+.5*r,A=i(1,0,(v-T)/a,(y-D)/o),I=i((v-T)/a,(y-D)/o,(-v-T)/a,(-y-D)/o);0===l&&I>0?I-=2*d:1===l&&I<0&&(I+=2*d);for(var O=Math.ceil(Math.abs(I/d*2)),N=[],P=I/O,R=8/3*Math.sin(P/4)*Math.sin(P/4)/Math.sin(P/2),j=A+P,L=0;L<O;L++)N[L]=n(A,j,f,p,a,o,F,M,R,m,g),m=N[L][4],g=N[L][5],A=j,j+=P;return E.arcToSegmentsCache[u]=N,N}function n(e,t,n,i,r,a,o,s,l,c,u){var d=E.util.cos(e),h=E.util.sin(e),p=E.util.cos(t),f=E.util.sin(t),m=n*r*p-i*a*f+o,g=i*r*p+n*a*f+s;return[c+l*(-n*r*h-i*a*d),u+l*(-i*r*h+n*a*d),m+l*(n*r*f+i*a*p),g+l*(i*r*f-n*a*p),m,g]}function i(e,t,n,i){var r=Math.atan2(t,e),a=Math.atan2(i,n);return a>=r?a-r:2*Math.PI-(r-a)}function r(t,n,i,r,a,o,s,l){var c;if(E.cachesBoundsOfCurve&&(c=e.call(arguments),E.boundsOfCurveCache[c]))return E.boundsOfCurveCache[c];var u,d,h,p,f,m,g,v,y=Math.sqrt,b=Math.min,_=Math.max,w=Math.abs,k=[],x=[[],[]];d=6*t-12*i+6*a,u=-3*t+9*i-9*a+3*s,h=3*i-3*t;for(var C=0;C<2;++C)if(C>0&&(d=6*n-12*r+6*o,u=-3*n+9*r-9*o+3*l,h=3*r-3*n),w(u)<1e-12){if(w(d)<1e-12)continue;0<(p=-h/d)&&p<1&&k.push(p)}else(g=d*d-4*h*u)<0||(0<(f=(-d+(v=y(g)))/(2*u))&&f<1&&k.push(f),0<(m=(-d-v)/(2*u))&&m<1&&k.push(m));for(var S,T,D,F=k.length,M=F;F--;)S=(D=1-(p=k[F]))*D*D*t+3*D*D*p*i+3*D*p*p*a+p*p*p*s,x[0][F]=S,T=D*D*D*n+3*D*D*p*r+3*D*p*p*o+p*p*p*l,x[1][F]=T;x[0][M]=t,x[1][M]=n,x[0][M+1]=s,x[1][M+1]=l;var A=[{x:b.apply(null,x[0]),y:b.apply(null,x[1])},{x:_.apply(null,x[0]),y:_.apply(null,x[1])}];return E.cachesBoundsOfCurve&&(E.boundsOfCurveCache[c]=A),A}E.util.drawArc=function(e,n,i,r){for(var a=r[0],o=r[1],s=r[2],l=r[3],c=r[4],u=[[],[],[],[]],d=t(r[5]-n,r[6]-i,a,o,l,c,s),h=0,p=d.length;h<p;h++)u[h][0]=d[h][0]+n,u[h][1]=d[h][1]+i,u[h][2]=d[h][2]+n,u[h][3]=d[h][3]+i,u[h][4]=d[h][4]+n,u[h][5]=d[h][5]+i,e.bezierCurveTo.apply(e,u[h])},E.util.getBoundsOfArc=function(e,n,i,a,o,s,l,c,u){for(var d,h=0,p=0,f=[],m=t(c-e,u-n,i,a,s,l,o),g=0,v=m.length;g<v;g++)d=r(h,p,m[g][0],m[g][1],m[g][2],m[g][3],m[g][4],m[g][5]),f.push({x:d[0].x+e,y:d[0].y+n}),f.push({x:d[1].x+e,y:d[1].y+n}),h=m[g][4],p=m[g][5];return f},E.util.getBoundsOfCurve=r}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var i=e.length-1,r=t?e[i][t]:e[i];if(t)for(;i--;)n(e[i][t],r)&&(r=e[i][t]);else for(;i--;)n(e[i],r)&&(r=e[i]);return r}}E.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var i=e.call(arguments,2),r=[],a=0,o=t.length;a<o;a++)r[a]=i.length?t[a][n].apply(t[a],i):t[a][n].call(t[a]);return r},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,i){if(i)if(!E.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var r=0,a=n.length;r<a;r++)t[r]=e({},n[r],i)}else if(n&&"object"==typeof n)for(var o in n)"canvas"===o?t[o]=e({},n[o]):n.hasOwnProperty(o)&&(t[o]=e({},n[o],i));else t=n;else for(var o in n)t[o]=n[o];return t}E.util.object={extend:e,clone:function(t,n){return e({},t,n)}},E.util.object.extend(E.util,E.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var i=e.charCodeAt(t+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var r=e.charCodeAt(t-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}E.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,i=0,r=[];for(i=0;i<t.length;i++)!1!==(n=e(t,i))&&r.push(n);return r}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),i=function(e,t,i){for(var r in t)r in e.prototype&&"function"==typeof e.prototype[r]&&(t[r]+"").indexOf("callSuper")>-1?e.prototype[r]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var r=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return r}}(r):e.prototype[r]=t[r],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function r(){}function a(t){for(var n=null,i=this;i.constructor.superclass;){var r=i.constructor.superclass.prototype[t];if(i[t]!==r){n=r;break}i=i.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}E.util.createClass=function(){var n=null,o=e.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"==typeof o[0]&&(n=o.shift()),s.superclass=n,s.subclasses=[],n&&(r.prototype=n.prototype,s.prototype=new r,n.subclasses.push(s));for(var l=0,c=o.length;l<c;l++)i(s,o[l],n);return s.prototype.initialize||(s.prototype.initialize=t),s.prototype.constructor=s,s.prototype.callSuper=a,s}}(),c=!!E.document.createElement("div").attachEvent,E.util.addListener=function(e,t,n,i){e&&e.addEventListener(t,n,!c&&i)},E.util.removeListener=function(e,t,n,i){e&&e.removeEventListener(t,n,!c&&i)},E.util.getPointer=function(e){var t=e.target,n=E.util.getScrollLeftTop(t),i=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:i.clientX+n.left,y:i.clientY+n.top}},u=E.document.createElement("div"),d="string"==typeof u.style.opacity,h="string"==typeof u.style.filter,p=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,f=function(e){return e},d?f=function(e,t){return e.style.opacity=t,e}:h&&(f=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),p.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(p,t)):n.filter+=" alpha(opacity="+100*t+")",e}),E.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"==typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?f(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var i in t)"opacity"===i?f(e,t[i]):n["float"===i||"cssFloat"===i?void 0===n.styleFloat?"cssFloat":"styleFloat":i]=t[i];return e},function(){var e=Array.prototype.slice;var t,n,i,r,a=function(t){return e.call(t,0)};try{t=a(E.document.childNodes)instanceof Array}catch(e){}function o(e,t){var n=E.document.createElement(e);for(var i in t)"class"===i?n.className=t[i]:"for"===i?n.htmlFor=t[i]:n.setAttribute(i,t[i]);return n}function s(e){for(var t=0,n=0,i=E.document.documentElement,r=E.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===E.document?(t=r.scrollLeft||i.scrollLeft||0,n=r.scrollTop||i.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}t||(a=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),n=E.document.defaultView&&E.document.defaultView.getComputedStyle?function(e,t){var n=E.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},i=E.document.documentElement.style,r="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"",E.util.makeElementUnselectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=E.util.falseFunction),r?e.style[r]="none":"string"==typeof e.unselectable&&(e.unselectable="on"),e},E.util.makeElementSelectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=null),r?e.style[r]="":"string"==typeof e.unselectable&&(e.unselectable=""),e},E.util.getScript=function(e,t){var n=E.document.getElementsByTagName("head")[0],i=E.document.createElement("script"),r=!0;i.onload=i.onreadystatechange=function(e){if(r){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;r=!1,t(e||E.window.event),i=i.onload=i.onreadystatechange=null}},i.src=e,n.appendChild(i)},E.util.getById=function(e){return"string"==typeof e?E.document.getElementById(e):e},E.util.toArray=a,E.util.makeElement=o,E.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},E.util.wrapElement=function(e,t,n){return"string"==typeof t&&(t=o(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},E.util.getScrollLeftTop=s,E.util.getElementOffset=function(e){var t,i,r=e&&e.ownerDocument,a={left:0,top:0},o={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return o;for(var c in l)o[l[c]]+=parseInt(n(e,c),10)||0;return t=r.documentElement,void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect()),i=s(e),{left:a.left+i.left-(t.clientLeft||0)+o.left,top:a.top+i.top-(t.clientTop||0)+o.top}},E.util.getElementStyle=n,E.util.getNodeCanvas=function(e){var t=E.jsdomImplForWrapper(e);return t._canvas||t._image},E.util.cleanUpJsdomNode=function(e){if(E.isLikelyNode){var t=E.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}E.util.request=function(t,n){n||(n={});var i=n.method?n.method.toUpperCase():"GET",r=n.onComplete||function(){},a=new E.window.XMLHttpRequest,o=n.body||n.parameters;return a.onreadystatechange=function(){4===a.readyState&&(r(a),a.onreadystatechange=e)},"GET"===i&&(o=null,"string"==typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),a.open(i,t,!0),"POST"!==i&&"PUT"!==i||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(o),a}}(),E.log=console.log,E.warn=console.warn,function(){function e(){return!1}function t(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t}var n=E.window.requestAnimationFrame||E.window.webkitRequestAnimationFrame||E.window.mozRequestAnimationFrame||E.window.oRequestAnimationFrame||E.window.msRequestAnimationFrame||function(e){return E.window.setTimeout(e,1e3/60)},i=E.window.cancelAnimationFrame||E.window.clearTimeout;function r(){return n.apply(E.window,arguments)}E.util.animate=function(n){r((function(i){n||(n={});var a,o=i||+new Date,s=n.duration||500,l=o+s,c=n.onChange||e,u=n.abort||e,d=n.onComplete||e,h=n.easing||t,p="startValue"in n?n.startValue:0,f="endValue"in n?n.endValue:100,m=n.byValue||f-p;n.onStart&&n.onStart(),function e(t){var n=(a=t||+new Date)>l?s:a-o,i=n/s,g=h(n,p,m,s),v=Math.abs((g-p)/m);if(!u())return a>l?(c(f,1,1),void d(f,1,1)):(c(g,v,i),void r(e));d(f,1,1)}(o)}))},E.util.requestAnimFrame=r,E.util.cancelAnimFrame=function(){return i.apply(E.window,arguments)}}(),E.util.animateColor=function(e,t,n,i){var r=new E.Color(e).getSource(),a=new E.Color(t).getSource();i=i||{},E.util.animate(E.util.object.extend(i,{duration:n||500,startValue:r,endValue:a,byValue:a,easing:function(e,t,n,r){var a,o,s,l,c=i.colorEasing?i.colorEasing(e,r):1-Math.cos(e/r*(Math.PI/2));return a=t,o=n,s=c,l="rgba("+parseInt(a[0]+s*(o[0]-a[0]),10)+","+parseInt(a[1]+s*(o[1]-a[1]),10)+","+parseInt(a[2]+s*(o[2]-a[2]),10),(l+=","+(a&&o?parseFloat(a[3]+s*(o[3]-a[3])):1))+")"}}))},function(){function e(e,t,n,i){return e<Math.abs(t)?(e=t,i=n/4):i=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:i}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,r){return n-i(r-e,0,n,r)+t}function i(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}E.util.ease={easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,i){return n*(e/=i)*e*e+t},easeOutCubic:function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,i){return n*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return 0===e?t:n*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){return e===i?t+n:n*(1-Math.pow(2,-10*e/i))+t},easeInOutExpo:function(e,t,n,i){return 0===e?t:e===i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},easeOutCirc:function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,i,r,a){var o=0;return 0===n?i:1===(n/=a)?i+r:(o||(o=.3*a),-t(e(r,r,o,1.70158),n,a)+i)},easeOutElastic:function(t,n,i,r){var a=0;if(0===t)return n;if(1===(t/=r))return n+i;a||(a=.3*r);var o=e(i,i,a,1.70158);return o.a*Math.pow(2,-10*t)*Math.sin((t*r-o.s)*(2*Math.PI)/o.p)+o.c+n},easeInOutElastic:function(n,i,r,a){var o=0;if(0===n)return i;if(2===(n/=a/2))return i+r;o||(o=a*(.3*1.5));var s=e(r,r,o,1.70158);return n<1?-.5*t(s,n,a)+i:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*a-s.s)*(2*Math.PI)/s.p)*.5+s.c+i},easeInBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:n,easeOutBounce:i,easeInOutBounce:function(e,t,r,a){return e<a/2?.5*n(2*e,0,r,a)+t:.5*i(2*e-a,0,r,a)+.5*r+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r=t.util.toFixed,a=t.util.parseUnit,o=t.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform"},l={stroke:"strokeOpacity",fill:"fillOpacity"},c="font-size",u="clip-path";function d(e){return e in s?s[e]:e}function h(e,n,i,r){var s,l="[object Array]"===Object.prototype.toString.call(n);if("fill"!==e&&"stroke"!==e||"none"!==n)if("vector-effect"===e)n="non-scaling-stroke"===n;else if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=i&&i.transformMatrix?o(i.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,i&&!1===i.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),i&&void 0!==i.opacity&&(n*=i.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)s=a(n,r)/r*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill";(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e)return n;s=l?n.map(a):a(n,r)}else n="";return!l&&isNaN(s)?n:s}function p(e){return new RegExp("^("+e.join("|")+")\\b","i")}function f(e,t){var n,i,r,a,o=[];for(r=0,a=t.length;r<a;r++)n=t[r],i=e.getElementsByTagName(n),o=o.concat(Array.prototype.slice.call(i));return o}function m(e,t){var n,i=!0;return(n=g(e,t.pop()))&&t.length&&(i=function(e,t){var n,i=!0;for(;e.parentNode&&1===e.parentNode.nodeType&&t.length;)i&&(n=t.pop()),i=g(e=e.parentNode,n);return 0===t.length}(e,t)),n&&i&&0===t.length}function g(e,t){var n,i,r=e.nodeName,a=e.getAttribute("class"),o=e.getAttribute("id");if(n=new RegExp("^"+r,"i"),t=t.replace(n,""),o&&t.length&&(n=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),a&&t.length)for(i=(a=a.split(" ")).length;i--;)n=new RegExp("\\."+a[i]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function v(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var i,r,a,o=e.getElementsByTagName("*");for(r=0,a=o.length;r<a;r++)if(t===(i=o[r]).getAttribute("id"))return i}t.svgValidTagNamesRegEx=p(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=p(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=p(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=p(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,i){e[i]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,i=t.reNum,r="(?:\\s+,?\\s*|,\\s*)",a="(?:"+("(?:(matrix)\\s*\\(\\s*("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+")"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+i+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+i+")\\s*\\))")+")",o=new RegExp("^\\s*(?:"+("(?:"+a+"(?:"+r+"*"+a+")*)")+"?)\\s*$"),s=new RegExp(a,"g");return function(i){var r=n.concat(),l=[];if(!i||i&&!o.test(i))return r;i.replace(s,(function(i){var o=new RegExp(a).exec(i).filter((function(e){return!!e})),s=o[1],c=o.slice(2).map(parseFloat);switch(s){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(r,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var i=t.util.cos(n[0]),r=t.util.sin(n[0]),a=0,o=0;3===n.length&&(a=n[1],o=n[2]),e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=a-(i*a-r*o),e[5]=o-(r*a+i*o)}(r,c);break;case"scale":!function(e,t){var n=t[0],i=2===t.length?t[1]:t[0];e[0]=n,e[3]=i}(r,c);break;case"skewX":e(r,c,2);break;case"skewY":e(r,c,1);break;case"matrix":r=c}l.push(r.concat()),r=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var y=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function b(e){var n,i,r,o,s,l,c=e.getAttribute("viewBox"),u=1,d=1,h=e.getAttribute("width"),p=e.getAttribute("height"),f=e.getAttribute("x")||0,m=e.getAttribute("y")||0,g=e.getAttribute("preserveAspectRatio")||"",v=!c||!t.svgViewBoxElementsRegEx.test(e.nodeName)||!(c=c.match(y)),b=!h||!p||"100%"===h||"100%"===p,_=v&&b,w={},k="",x=0,E=0;if(w.width=0,w.height=0,w.toBeParsed=_,_)return w;if(v)return w.width=a(h),w.height=a(p),w;if(n=-parseFloat(c[1]),i=-parseFloat(c[2]),r=parseFloat(c[3]),o=parseFloat(c[4]),w.minX=n,w.minY=i,w.viewBoxWidth=r,w.viewBoxHeight=o,b?(w.width=r,w.height=o):(w.width=a(h),w.height=a(p),u=w.width/r,d=w.height/o),"none"!==(g=t.util.parsePreserveAspectRatioAttribute(g)).alignX&&("meet"===g.meetOrSlice&&(d=u=u>d?d:u),"slice"===g.meetOrSlice&&(d=u=u>d?u:d),x=w.width-r*u,E=w.height-o*u,"Mid"===g.alignX&&(x/=2),"Mid"===g.alignY&&(E/=2),"Min"===g.alignX&&(x=0),"Min"===g.alignY&&(E=0)),1===u&&1===d&&0===n&&0===i&&0===f&&0===m)return w;if((f||m)&&(k=" translate("+a(f)+" "+a(m)+") "),s=k+" matrix("+u+" 0 0 "+d+" "+(n*u+x)+" "+(i*d+E)+") ",w.viewboxTransform=t.parseTransformAttribute(s),"svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else s=(l=e).getAttribute("transform")+s;return l.setAttribute("transform",s),w}function _(e,t){var n="xlink:href",i=v(e,t.getAttribute(n).substr(1));if(i&&i.getAttribute(n)&&_(e,i),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){i&&!t.hasAttribute(e)&&i.hasAttribute(e)&&t.setAttribute(e,i.getAttribute(e))})),!t.children.length)for(var r=i.cloneNode(!0);r.firstChild;)t.appendChild(r.firstChild);t.removeAttribute(n)}t.parseSVGDocument=function(e,n,r,a){if(e){!function(e){for(var n=f(e,["use","svg:use"]),i=0;n.length&&i<n.length;){var r,a,o,s,l=n[i],c=(l.getAttribute("xlink:href")||l.getAttribute("href")).substr(1),u=l.getAttribute("x")||0,d=l.getAttribute("y")||0,h=v(e,c).cloneNode(!0),p=(h.getAttribute("transform")||"")+" translate("+u+", "+d+")",m=n.length,g=t.svgNS;if(b(h),/^svg$/i.test(h.nodeName)){var y=h.ownerDocument.createElementNS(g,"g");for(a=0,s=(o=h.attributes).length;a<s;a++)r=o.item(a),y.setAttributeNS(g,r.nodeName,r.nodeValue);for(;h.firstChild;)y.appendChild(h.firstChild);h=y}for(a=0,s=(o=l.attributes).length;a<s;a++)"x"!==(r=o.item(a)).nodeName&&"y"!==r.nodeName&&"xlink:href"!==r.nodeName&&"href"!==r.nodeName&&("transform"===r.nodeName?p=r.nodeValue+" "+p:h.setAttribute(r.nodeName,r.nodeValue));h.setAttribute("transform",p),h.setAttribute("instantiated_by_use","1"),h.removeAttribute("id"),l.parentNode.replaceChild(h,l),n.length===m&&i++}}(e);var o,s,l=t.Object.__uid++,c=b(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=a&&a.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var d=[];for(o=0,s=(u=e.selectNodes('//*[name(.)!="svg"]')).length;o<s;o++)d[o]=u[o];u=d}var h=u.filter((function(e){return b(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!h||h&&!h.length)n&&n([],{});else{var p={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");p[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=p,t.parseElements(h,(function(e,i){n&&(n(e,c,i,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),i(c),r,a)}}};var w=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(w);if(n){var i=n[1],r=n[3],o=n[4],s=n[5],l=n[6];i&&(t.fontStyle=i),r&&(t.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),o&&(t.fontSize=a(o)),l&&(t.fontFamily=l),s&&(t.lineHeight="normal"===s?1:s)}},getGradientDefs:function(e){var t,n=f(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),i=0,r={};for(i=n.length;i--;)(t=n[i]).getAttribute("xlink:href")&&_(e,t),r[t.getAttribute("id")]=t;return r},parseAttributes:function(e,i,o){if(e){var s,p,f,g={};void 0===o&&(o=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(g=t.parseAttributes(e.parentNode,i,o));var v=i.reduce((function(t,n){return(s=e.getAttribute(n))&&(t[n]=s),t}),{}),y=n(function(e,n){var i={};for(var r in t.cssRules[n])if(m(e,r.split(" ")))for(var a in t.cssRules[n][r])i[a]=t.cssRules[n][r][a];return i}(e,o),t.parseStyleAttribute(e));v=n(v,y),y[u]&&e.setAttribute(u,y[u]),p=f=g.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,v[c]&&(v[c]=p=a(v[c],f));var b,_,w={};for(var k in v)_=h(b=d(k),v[k],g,p),w[b]=_;w&&w.font&&t.parseFontDeclaration(w.font,w);var x=n(g,w);return t.svgValidParentsRegEx.test(e.nodeName)?x:function(e){for(var n in l)if(void 0!==e[l[n]]&&""!==e[n]){if(void 0===e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var i=new t.Color(e[n]);e[n]=i.setAlpha(r(i.getAlpha()*e[l[n]],2)).toRgba()}}return e}(x)}},parseElements:function(e,n,i,r,a){new t.ElementsParser(e,n,i,r,a).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"==typeof n?function(e,t){var n,i;e.replace(/;\s*$/,"").split(";").forEach((function(e){var r=e.split(":");n=r[0].trim().toLowerCase(),i=r[1].trim(),t[n]=i}))}(n,t):function(e,t){var n,i;for(var r in e)void 0!==e[r]&&(n=r.toLowerCase(),i=e[r],t[n]=i)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,i=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)i.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return i},getCSSRules:function(e){var n,i,r=e.getElementsByTagName("style"),a={};for(n=0,i=r.length;n<i;n++){var o=r[n].textContent||"";""!==(o=o.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&o.match(/[^{]*\{[\s\S]*?\}/g).map((function(e){return e.trim()})).forEach((function(e){var r=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),o={},s=r[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,i=s.length;n<i;n++){var l=s[n].split(/\s*:\s*/),c=l[0],u=l[1];o[c]=u}(e=r[1]).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(a[e]?t.util.object.extend(a[e],o):a[e]=t.util.object.clone(o))}))}))}return a},loadSVGFromURL:function(e,n,i,r){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var a=e.responseXML;a&&!a.documentElement&&t.window.ActiveXObject&&e.responseText&&((a=new ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(e.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));if(!a||!a.documentElement)return n&&n(null),!1;t.parseSVGDocument(a.documentElement,(function(e,t,i,r){n&&n(e,t,i,r)}),i,r)}})},loadSVGFromString:function(e,n,i,r){var a;if(e=e.trim(),void 0!==t.window.DOMParser){var o=new t.window.DOMParser;o&&o.parseFromString&&(a=o.parseFromString(e,"text/xml"))}else t.window.ActiveXObject&&((a=new ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));t.parseSVGDocument(a.documentElement,(function(e,t,i,r){n(e,t,i,r)}),i,r)}})}(t),E.ElementsParser=function(e,t,n,i,r,a){this.elements=e,this.callback=t,this.options=n,this.reviver=i,this.svgUid=n&&n.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},(m=E.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},m.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},m.findTag=function(e){return E[E.util.string.capitalize(e.tagName.replace("svg:",""))]},m.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(e){E.log(e)}else this.checkIfDone()},m.createCallback=function(e,t){var n=this;return function(i){var r;n.resolveGradient(i,t,"fill"),n.resolveGradient(i,t,"stroke"),i instanceof E.Image&&i._originalElement&&(r=i.parsePreserveAspectRatioAttribute(t)),i._removeTransformMatrix(r),n.resolveClipPath(i,t),n.reviver&&n.reviver(t,i),n.instances[e]=i,n.checkIfDone()}},m.extractPropertyDefinition=function(e,t,n){var i=e[t],r=this.regexUrl;if(r.test(i)){r.lastIndex=0;var a=r.exec(i)[1];return r.lastIndex=0,E[n][this.svgUid][a]}},m.resolveGradient=function(e,t,n){var i=this.extractPropertyDefinition(e,n,"gradientDefs");if(i){var r=t.getAttribute(n+"-opacity"),a=E.Gradient.fromElement(i,e,r,this.options);e.set(n,a)}},m.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},m.resolveClipPath=function(e,t){var n,i,r,a,o=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(o){r=[],i=E.util.invertTransform(e.calcTransformMatrix());for(var s=o[0].parentNode,l=t;l.parentNode&&l.getAttribute("clip-path")!==e.clipPath;)l=l.parentNode;l.parentNode.appendChild(s);for(var c=0;c<o.length;c++)n=o[c],this.findTag(n).fromElement(n,this.createClipPathCallback(e,r),this.options);o=1===r.length?r[0]:new E.Group(r),a=E.util.multiplyTransformMatrices(i,o.calcTransformMatrix()),o.clipPath&&this.resolveClipPath(o,l);var u=E.util.qrDecompose(a);o.flipX=!1,o.flipY=!1,o.set("scaleX",u.scaleX),o.set("scaleY",u.scaleY),o.angle=u.angle,o.skewX=u.skewX,o.skewY=0,o.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),e.clipPath=o}else delete e.clipPath},m.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return void 0===t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,i,r,a){var o,s=(a.x-r.x)*(e.y-r.y)-(a.y-r.y)*(e.x-r.x),l=(i.x-e.x)*(e.y-r.y)-(i.y-e.y)*(e.x-r.x),c=(a.y-r.y)*(i.x-e.x)-(a.x-r.x)*(i.y-e.y);if(0!==c){var u=s/c,d=l/c;0<=u&&u<=1&&0<=d&&d<=1?(o=new n("Intersection")).appendPoint(new t.Point(e.x+u*(i.x-e.x),e.y+u*(i.y-e.y))):o=new n}else o=new n(0===s||0===l?"Coincident":"Parallel");return o},t.Intersection.intersectLinePolygon=function(e,t,i){var r,a,o,s,l=new n,c=i.length;for(s=0;s<c;s++)r=i[s],a=i[(s+1)%c],o=n.intersectLineLine(e,t,r,a),l.appendPoints(o.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var i,r=new n,a=e.length;for(i=0;i<a;i++){var o=e[i],s=e[(i+1)%a],l=n.intersectLinePolygon(o,s,t);r.appendPoints(l.points)}return r.points.length>0&&(r.status="Intersection"),r},t.Intersection.intersectPolygonRectangle=function(e,i,r){var a=i.min(r),o=i.max(r),s=new t.Point(o.x,a.y),l=new t.Point(a.x,o.y),c=n.intersectLinePolygon(a,s,e),u=n.intersectLinePolygon(s,o,e),d=n.intersectLinePolygon(o,l,e),h=n.intersectLinePolygon(l,a,e),p=new n;return p.appendPoints(c.points),p.appendPoints(u.points),p.appendPoints(d.points),p.appendPoints(h.points),p.points.length>0&&(p.status="Intersection"),p})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,i){e/=255,n/=255,i/=255;var r,a,o,s=t.util.array.max([e,n,i]),l=t.util.array.min([e,n,i]);if(o=(s+l)/2,s===l)r=a=0;else{var c=s-l;switch(a=o>.5?c/(2-s-l):c/(s+l),s){case e:r=(n-i)/c+(n<i?6:0);break;case n:r=(i-e)/c+2;break;case i:r=(e-n)/c+4}r/=6}return[Math.round(360*r),Math.round(100*a),Math.round(100*o)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,i=this.getSource();return e=1===(e=i[0].toString(16)).length?"0"+e:e,t=1===(t=i[1].toString(16)).length?"0"+t:t,n=1===(n=i[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),i=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,i]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,i=[],r=this.getAlpha(),a=this.getSource(),o=e.getSource();for(t=0;t<3;t++)i.push(Math.round(.5*a[t]+.5*o[t]));return i[3]=r,this.setSource(i),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var i=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),r=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),a=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(i,10),parseInt(r,10),parseInt(a,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var r,a,o,s=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)r=a=o=c;else{var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u;r=i(d,u,s+1/3),a=i(d,u,s),o=i(d,u,s-1/3)}return[Math.round(255*r),Math.round(255*a),Math.round(255*o),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),i=3===t.length||4===t.length,r=8===t.length||4===t.length,a=i?t.charAt(0)+t.charAt(0):t.substring(0,2),o=i?t.charAt(1)+t.charAt(1):t.substring(2,4),s=i?t.charAt(2)+t.charAt(2):t.substring(4,6),l=r?i?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(a,16),parseInt(o,16),parseInt(s,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(){function e(e,t){var n,i,r,a,o=e.getAttribute("style"),s=e.getAttribute("offset")||0;if(s=(s=parseFloat(s)/(/%$/.test(s)?100:1))<0?0:s>1?1:s,o){var l=o.split(/\s*;\s*/);for(""===l[l.length-1]&&l.pop(),a=l.length;a--;){var c=l[a].split(/\s*:\s*/),u=c[0].trim(),d=c[1].trim();"stop-color"===u?n=d:"stop-opacity"===u&&(r=d)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=e.getAttribute("stop-opacity")),i=(n=new E.Color(n)).getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=i*t,{offset:s,color:n.toRgb(),opacity:r}}var t=E.util.object.clone;function n(e,t,n,i){var r,a;Object.keys(t).forEach((function(e){"Infinity"===(r=t[e])?a=1:"-Infinity"===r?a=0:(a=parseFloat(t[e],10),"string"==typeof r&&/^(\d+\.\d+)%|(\d+)%$/.test(r)&&(a*=.01,"pixels"===i&&("x1"!==e&&"x2"!==e&&"r2"!==e||(a*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(a*=n.viewBoxHeight||n.height)))),t[e]=a}))}E.Gradient=E.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+E.Object.__uid++:this.id=E.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new E.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return E.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var i,r,a,o,s=t(this.coords,!0),l=(n=n||{},t(this.colorStops,!0)),c=s.r1>s.r2,u=this.gradientTransform?this.gradientTransform.concat():E.iMatrix.concat(),d=-this.offsetX,h=-this.offsetY,p=!!n.additionalTransform,f="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(l.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===f?(d/=e.width,h/=e.height):(d+=e.width/2,h+=e.height/2),"path"===e.type&&(d-=e.pathOffset.x,h-=e.pathOffset.y),u[4]-=d,u[5]-=h,o='id="SVGID_'+this.id+'" gradientUnits="'+f+'"',o+=' gradientTransform="'+(p?n.additionalTransform+" ":"")+E.util.matrixToSVG(u)+'" ',"linear"===this.type?a=["<linearGradient ",o,' x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,'">\n']:"radial"===this.type&&(a=["<radialGradient ",o,' cx="',c?s.x1:s.x2,'" cy="',c?s.y1:s.y2,'" r="',c?s.r1:s.r2,'" fx="',c?s.x2:s.x1,'" fy="',c?s.y2:s.y1,'">\n']),"radial"===this.type){if(c)for((l=l.concat()).reverse(),i=0,r=l.length;i<r;i++)l[i].offset=1-l[i].offset;var m=Math.min(s.r1,s.r2);if(m>0){var g=m/Math.max(s.r1,s.r2);for(i=0,r=l.length;i<r;i++)l[i].offset+=g*(1-l[i].offset)}}for(i=0,r=l.length;i<r;i++){var v=l[i];a.push("<stop ",'offset="',100*v.offset+"%",'" style="stop-color:',v.color,void 0!==v.opacity?";stop-opacity: "+v.opacity:";",'"/>\n')}return a.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),a.join("")},toLive:function(e,t){var n,i,r,a=E.util.object.clone(this.coords),o=a.x1,s=a.y1,l=a.x2,c=a.y2,u=this.colorStops;if(this.type){for(t instanceof E.Text&&"percentage"===this.gradientUnits&&(o*=t.width,s*=t.height,l*=t.width,c*=t.height),"linear"===this.type?n=e.createLinearGradient(o,s,l,c):"radial"===this.type&&(n=e.createRadialGradient(o,s,a.r1,l,c,a.r2)),i=0,r=u.length;i<r;i++){var d=u[i].color,h=u[i].opacity,p=u[i].offset;void 0!==h&&(d=new E.Color(d).setAlpha(h).toRgba()),n.addColorStop(p,d)}return n}}}),E.util.object.extend(E.Gradient,{fromElement:function(t,i,r,a){var o=parseFloat(r)/(/%$/.test(r)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var s,l,c,u,d=t.getElementsByTagName("stop"),h="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",p=t.getAttribute("gradientTransform")||"",f=[],m=0,g=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(s="linear",l=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(s="radial",l=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),c=d.length;c--;)f.push(e(d[c],o));return u=E.parseTransformAttribute(p),n(i,l,a,h),"pixels"===h&&(m=-i.left,g=-i.top),new E.Gradient({id:t.getAttribute("id"),type:s,coords:l,colorStops:f,gradientUnits:h,gradientTransform:u,offsetX:m,offsetY:g})},forObject:function(e,t){return t||(t={}),n(e,t.coords,t.gradientUnits,{viewBoxWidth:100,viewBoxHeight:100}),new E.Gradient(t)}})}(),function(){"use strict";var e=E.util.toFixed;E.Pattern=E.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=E.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!=typeof e.source)t&&t(this);else if(void 0!==E.util.getFunctionBody(e.source))this.source=new Function(E.util.getFunctionBody(e.source)),t&&t(this);else{var n=this;this.source=E.util.createImage(),E.util.loadImage(e.source,(function(e){n.source=e,t&&t(n)}),null,this.crossOrigin)}},toObject:function(t){var n,i,r=E.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?n=String(this.source):"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),i={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,r),offsetY:e(this.offsetY,r),patternTransform:this.patternTransform?this.patternTransform.concat():null},E.util.populateWithProperties(this,i,t),i},toSVG:function(e){var t="function"==typeof this.source?this.source():this.source,n=t.width/e.width,i=t.height/e.height,r=this.offsetX/e.width,a=this.offsetY/e.height,o="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,a&&(i+=Math.abs(a))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,r&&(n+=Math.abs(r))),t.src?o=t.src:t.toDataURL&&(o=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+a+'" width="'+n+'" height="'+i+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+o+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t="function"==typeof this.source?this.source():this.source;if(!t)return"";if(void 0!==t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"==typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),i=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(i[1],10)||0,offsetY:parseInt(i[2],10)||0,blur:parseInt(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var i=40,r=40,a=t.Object.NUM_FRACTION_DIGITS,o=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),s=new t.Color(this.color);return e.width&&e.height&&(i=100*n((Math.abs(o.x)+this.blur)/e.width,a)+20,r=100*n((Math.abs(o.y)+this.blur)/e.height,a)+20),e.flipX&&(o.x*=-1),e.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,a)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(o.x,a)+'" dy="'+n(o.y,a)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(E.StaticCanvas)E.warn("fabric.StaticCanvas is already defined.");else{var e=E.util.object.extend,t=E.util.getElementOffset,n=E.util.removeFromArray,i=E.util.toFixed,r=E.util.transformPoint,a=E.util.invertTransform,o=E.util.getNodeCanvas,s=E.util.createCanvasElement,l=new Error("Could not initialize `canvas` element");E.StaticCanvas=E.util.createClass(E.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:E.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==E.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?E.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=E.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},_setImageSmoothing:function(){var e=this.getContext();e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(e,t,n,i){return"string"==typeof t?E.util.loadImage(t,(function(t){if(t){var r=new E.Image(t,i);this[e]=r,r.canvas=this}n&&n(t)}),this,i&&i.crossOrigin):(i&&t.setOptions(i),this[e]=t,t&&(t.canvas=this),n&&n(t)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=s();if(!e)throw l;if(e.style||(e.style={}),void 0===e.getContext)throw l;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=E.util.getById(e)||this._createCanvasElement(),E.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var i in t=t||{},e)n=e[i],t.cssOnly||(this._setBackstoreDimension(i,e[i]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(i,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,i,r=this._activeObject;for(this.viewportTransform=e,n=0,i=this._objects.length;n<i;n++)(t=this._objects[n]).group||t.setCoords(false,true);return r&&"activeSelection"===r.type&&r.setCoords(false,true),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,i=this.viewportTransform.slice(0);e=r(e,a(this.viewportTransform)),i[0]=t,i[3]=t;var o=r(e,i);return i[4]+=n.x-o.x,i[5]+=n.y-o.y,this.setViewportTransform(i)},setZoom:function(e){return this.zoomToPoint(new E.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new E.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=E.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,i=a(this.viewportTransform);return e.tl=r({x:0,y:0},i),e.br=r({x:t,y:n},i),e.tr=new E.Point(e.br.x,e.tl.y),e.bl=new E.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(E.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,i=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),this.fire("before:render",{ctx:e}),this.clipTo&&E.util.clipContext(this,e),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.clipTo&&e.restore(),i&&(i.canvas=this,i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,i;for(n=0,i=t.length;n<i;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],i=this[t+"Image"],r=this.viewportTransform,a=this[t+"Vpt"];if(n||i){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,a&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var o=n.gradientTransform||n.patternTransform;o&&e.transform(o[0],o[1],o[2],o[3],o[4],o[5]),e.fill(),e.restore()}i&&(e.save(),a&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),i.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(e){return this._centerObject(e,new E.Point(this.getCenter().left,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new E.Point(e.getCenterPoint().x,this.getCenter().top))},centerObject:function(e){var t=this.getCenter();return this._centerObject(e,new E.Point(t.left,t.top))},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new E.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new E.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenter(),t=a(this.viewportTransform);return r({x:e.left,y:e.top},t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var i=this.clipPath,r={version:E.version,objects:this._toObjects(t,n)};return i&&(r.clipPath=this._toObject(this.clipPath,t,n)),e(r,this.__serializeBgOverlay(t,n)),E.util.populateWithProperties(this,r,n),r},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);var r=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=i),r},__serializeBgOverlay:function(e,t){var n={},i=this.backgroundImage,r=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(t):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(t):this.overlayColor),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,t)),r&&!r.excludeFromExport&&(n.overlayImage=this._toObject(r,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,r=t.width||this.width,a=t.height||this.height,o='viewBox="0 0 '+this.width+" "+this.height+'" ',s=E.Object.NUM_FRACTION_DIGITS;t.viewBox?o='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,o='viewBox="'+i(-n[4]/n[0],s)+" "+i(-n[5]/n[3],s)+" "+i(this.width/n[0],s)+" "+i(this.height/n[3],s)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',a,'" ',o,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",E.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+E.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var i=e[t+"Vpt"],r=e.viewportTransform,a={width:e.width/(i?r[0]:1),height:e.height/(i?r[3]:1)};return n.toSVG(a,{additionalTransform:i?E.util.matrixToSVG(r):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,i,r,a,o,s,l="",c={},u=E.fontPaths,d=[];for(this._objects.forEach((function e(t){d.push(t),t._objects&&t._objects.forEach(e)})),o=0,s=d.length;o<s;o++)if(t=(e=d[o]).fontFamily,-1!==e.type.indexOf("text")&&!c[t]&&u[t]&&(c[t]=!0,e.styles))for(r in n=e.styles)for(a in i=n[r])!c[t=i[a].fontFamily]&&u[t]&&(c[t]=!0);for(var h in c)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",h,"';\n","\t\t\tsrc: url('",u[h],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(e,t){var n,i,r,a=this._objects;for(i=0,r=a.length;i<r;i++)(n=a[i]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],i=this.viewportTransform,r=this.width,a=this.height;if(n)if(n.toLive){var o=n.repeat,s=E.util.invertTransform(i),l=this[t+"Vpt"]?E.util.matrixToSVG(s):"";e.push('<rect transform="'+l+" translate(",r/2,",",a/2,')"',' x="',n.offsetX-r/2,'" y="',n.offsetY-a/2,'" ','width="',"repeat-y"===o||"no-repeat"===o?n.source.width:r,'" height="',"repeat-x"===o||"no-repeat"===o?n.source.height:a,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,i,r,a=this._activeObject;if(e===a&&"activeSelection"===e.type)for(t=(r=a._objects).length;t--;)i=r[t],n(this._objects,i),this._objects.unshift(i);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,i,r,a=this._activeObject;if(e===a&&"activeSelection"===e.type)for(r=a._objects,t=0;t<r.length;t++)i=r[t],n(this._objects,i),this._objects.push(i);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var i,r,a,o,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(s=l._objects,i=0;i<s.length;i++)r=s[i],(a=this._objects.indexOf(r))>0+c&&(o=a-1,n(this._objects,r),this._objects.splice(o,0,r)),c++;else 0!==(a=this._objects.indexOf(e))&&(o=this._findNewLowerIndex(e,a,t),n(this._objects,e),this._objects.splice(o,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var i,r;if(n)for(i=t,r=t-1;r>=0;--r){if(e.intersectsWithObject(this._objects[r])||e.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(e)){i=r;break}}else i=t-1;return i},bringForward:function(e,t){if(!e)return this;var i,r,a,o,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(i=(s=l._objects).length;i--;)r=s[i],(a=this._objects.indexOf(r))<this._objects.length-1-c&&(o=a+1,n(this._objects,r),this._objects.splice(o,0,r)),c++;else(a=this._objects.indexOf(e))!==this._objects.length-1&&(o=this._findNewUpperIndex(e,a,t),n(this._objects,e),this._objects.splice(o,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var i,r,a;if(n)for(i=t,r=t+1,a=this._objects.length;r<a;++r){if(e.intersectsWithObject(this._objects[r])||e.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(e)){i=r;break}}else i=t+1;return i},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(E.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,E.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(E.StaticCanvas.prototype,E.Observable),e(E.StaticCanvas.prototype,E.Collection),e(E.StaticCanvas.prototype,E.DataURLExporter),e(E.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=s();if(!t||!t.getContext)return null;var n=t.getContext("2d");return n&&"setLineDash"===e?void 0!==n.setLineDash:null}}),E.StaticCanvas.prototype.toJSON=E.StaticCanvas.prototype.toObject,E.isLikelyNode&&(E.StaticCanvas.prototype.createPNGStream=function(){var e=o(this.lowerCanvasEl);return e&&e.createPNGStream()},E.StaticCanvas.prototype.createJPEGStream=function(e){var t=o(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),E.BaseBrush=E.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(e){return this.shadow=new E.Shadow(e),this},_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,E.StaticCanvas.supports("setLineDash")&&e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,i=e.getZoom();e&&e._isRetinaScaling()&&(i*=E.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*i,n.shadowOffsetX=t.offsetX*i,n.shadowOffsetY=t.offsetY*i}},needsFullRender:function(){return new E.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}}),E.PencilBrush=E.util.createClass(E.BaseBrush,{decimate:.4,initialize:function(e){this.canvas=e,this._points=[]},_drawSegment:function(e,t,n){var i=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,i.x,i.y),i},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&this._captureDrawingPath(e)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,i=n.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,n[i-2],n[i-1],!0),r.stroke(),r.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new E.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1])||(this._points.push(e),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var t=new E.Point(e.x,e.y);return this._addPoint(t)},_render:function(){var e,t,n=this.canvas.contextTop,i=this._points[0],r=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&i.x===r.x&&i.y===r.y){var a=this.width/1e3;i=new E.Point(i.x,i.y),r=new E.Point(r.x,r.y),i.x-=a,r.x+=a}for(n.moveTo(i.x,i.y),e=1,t=this._points.length;e<t;e++)this._drawSegment(n,i,r),i=this._points[e],r=this._points[e+1];n.lineTo(i.x,i.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(e){var t,n=[],i=this.width/1e3,r=new E.Point(e[0].x,e[0].y),a=new E.Point(e[1].x,e[1].y),o=e.length,s=1,l=0,c=o>2;for(c&&(s=e[2].x<a.x?-1:e[2].x===a.x?0:1,l=e[2].y<a.y?-1:e[2].y===a.y?0:1),n.push("M ",r.x-s*i," ",r.y-l*i," "),t=1;t<o;t++){if(!r.eq(a)){var u=r.midPointFrom(a);n.push("Q ",r.x," ",r.y," ",u.x," ",u.y," ")}r=e[t],t+1<e.length&&(a=e[t+1])}return c&&(s=r.x>e[t-2].x?1:r.x===e[t-2].x?0:-1,l=r.y>e[t-2].y?1:r.y===e[t-2].y?0:-1),n.push("L ",r.x+s*i," ",r.y+l*i),n},createPath:function(e){var t=new E.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.setShadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,i=this.canvas.getZoom(),r=Math.pow(t/i,2),a=e.length-1,o=e[0],s=[o];for(n=1;n<a;n++)Math.pow(o.x-e[n].x,2)+Math.pow(o.y-e[n].y,2)>=r&&(o=e[n],s.push(o));return 1===s.length&&s.push(new E.Point(s[0].x,s[0].y)),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==e){var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}else this.canvas.requestRenderAll()}}),E.CircleBrush=E.util.createClass(E.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,i=this.points;for(this._saveAndTransform(n),e=0,t=i.length;e<t;e++)this.dot(n,i[e]);n.restore()},onMouseMove:function(e){this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e)},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var i=[];for(e=0,t=this.points.length;e<t;e++){var r=this.points[e],a=new E.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&a.setShadow(this.shadow),i.push(a)}var o=new E.Group(i);o.canvas=this.canvas,this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new E.Point(e.x,e.y),n=E.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new E.Color(this.color).setAlpha(E.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=i,this.points.push(t),t}}),E.SprayBrush=E.util.createClass(E.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,i=this.sprayChunks.length;n<i;n++)for(var r=this.sprayChunks[n],a=0,o=r.length;a<o;a++){var s=new E.Rect({width:r[a].width,height:r[a].width,left:r[a].x+1,top:r[a].y+1,originX:"center",originY:"center",fill:this.color});t.push(s)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var l=new E.Group(t);this.shadow&&l.setShadow(this.shadow),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,i,r={};for(n=0,i=e.length;n<i;n++)r[t=e[n].left+""+e[n].top]||(r[t]=e[n]);var a=[];for(t in r)a.push(r[t]);return a},render:function(e){var t,n,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,n=e.length;t<n;t++){var r=e[t];void 0!==r.opacity&&(i.globalAlpha=r.opacity),i.fillRect(r.x,r.y,r.width,r.width)}i.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,i,r,a=this.width/2;for(r=0;r<this.density;r++){t=E.util.getRandomInt(e.x-a,e.x+a),n=E.util.getRandomInt(e.y-a,e.y+a),i=this.dotWidthVariance?E.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var o=new E.Point(t,n);o.width=i,this.randomOpacity&&(o.opacity=E.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),E.PatternBrush=E.util.createClass(E.PencilBrush,{getPatternSrc:function(){var e=E.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new E.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=E.util.getPointer,t=E.util.degreesToRadians,n=E.util.radiansToDegrees,i=Math.atan2,r=Math.abs,a=E.StaticCanvas.supports("setLineDash"),o=.5;for(var s in E.Canvas=E.util.createClass(E.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=E.PencilBrush&&new E.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,i=this.getActiveObjects();if(i.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var r=0,a=this._objects.length;r<a;r++)e=this._objects[r],-1===i.indexOf(e)?t.push(e):n.push(e);i.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_resetCurrentTransform:function(){var e=this._currentTransform;e.target.set({scaleX:e.original.scaleX,scaleY:e.original.scaleY,skewX:e.original.skewX,skewY:e.original.skewY,left:e.original.left,top:e.original.top}),this._shouldCenterTransform(e.target)?("center"!==e.originX&&("right"===e.originX?e.mouseXSign=-1:e.mouseXSign=1),"center"!==e.originY&&("bottom"===e.originY?e.mouseYSign=-1:e.mouseYSign=1),e.originX="center",e.originY="center"):(e.originX=e.original.originX,e.originY=e.original.originY)},containsPoint:function(e,t,n){var i,r=n||this.getPointer(e,!0);return i=t.group&&t.group===this._activeObject&&"activeSelection"===t.group.type?this._normalizePointer(t.group,r):{x:r.x,y:r.y},t.containsPoint(i)||t._findTargetCorner(r)},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),i=E.util.invertTransform(n),r=this.restorePointerVpt(t);return E.util.transformPoint(r,i)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var i=this._normalizePointer(e,{x:t,y:n}),r=Math.max(e.cacheTranslationX+i.x*e.zoomX,0),a=Math.max(e.cacheTranslationY+i.y*e.zoomY,0);return E.util.isTransparent(e._cacheContext,Math.round(r),Math.round(a),this.targetFindTolerance)}var o=this.contextCache,s=e.selectionBackgroundColor,l=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(o),o.save(),o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),e.render(o),o.restore(),e===this._activeObject&&e._renderControls(o,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),e.selectionBackgroundColor=s,E.util.isTransparent(o,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),i=this._activeObject;return!t||t&&i&&n.length>1&&-1===n.indexOf(t)&&i!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&i&&i!==t},_shouldCenterTransform:function(e){if(e){var t,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?t=this.centeredScaling||e.centeredScaling:"rotate"===n.action&&(t=this.centeredRotation||e.centeredRotation),t?!n.altKey:n.altKey}},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n){if(!t||!e)return"drag";switch(t){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(e,n,i){if(n){var r=this.getPointer(e),a=n._findTargetCorner(this.getPointer(e,!0)),o=this._getActionFromCorner(i,a,e,n),s=this._getOriginFromCorner(n,a);this._currentTransform={target:n,action:o,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:r.x-n.left,offsetY:r.y-n.top,originX:s.x,originY:s.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:t(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:e.shiftKey,altKey:e[this.centeredKey],original:E.util.saveObjectTransform(n)},this._currentTransform.original.originX=s.x,this._currentTransform.original.originY=s.y,this._resetCurrentTransform(),this._beforeTransform(e)}},_translateObject:function(e,t){var n=this._currentTransform,i=n.target,r=e-n.offsetX,a=t-n.offsetY,o=!i.get("lockMovementX")&&i.left!==r,s=!i.get("lockMovementY")&&i.top!==a;return o&&i.set("left",r),s&&i.set("top",a),o||s},_changeSkewTransformOrigin:function(e,t,n){var i="originX",r={0:"center"},a=t.target.skewX,o="left",s="right",l="mt"===t.corner||"ml"===t.corner?1:-1,c=1;e=e>0?1:-1,"y"===n&&(a=t.target.skewY,o="top",s="bottom",i="originY"),r[-1]=o,r[1]=s,t.target.flipX&&(c*=-1),t.target.flipY&&(c*=-1),0===a?(t.skewSign=-l*e*c,t[i]=r[-e]):(a=a>0?1:-1,t.skewSign=a,t[i]=r[a*l*c])},_skewObject:function(e,t,n){var i,r=this._currentTransform,a=r.target,o=a.get("lockSkewingX"),s=a.get("lockSkewingY");if(o&&"x"===n||s&&"y"===n)return!1;var l,c,u=a.getCenterPoint(),d=a.toLocalPoint(new E.Point(e,t),"center","center")[n],h=a.toLocalPoint(new E.Point(r.lastX,r.lastY),"center","center")[n],p=a._getTransformedDimensions();return this._changeSkewTransformOrigin(d-h,r,n),l=a.toLocalPoint(new E.Point(e,t),r.originX,r.originY)[n],c=a.translateToOriginPoint(u,r.originX,r.originY),i=this._setObjectSkew(l,r,n,p),r.lastX=e,r.lastY=t,a.setPositionByOrigin(c,r.originX,r.originY),i},_setObjectSkew:function(e,t,n,i){var r,a,o,s,l,c,u,d,h,p,f=t.target,m=t.skewSign;return"x"===n?(l="y",c="Y",u="X",h=0,p=f.skewY):(l="x",c="X",u="Y",h=f.skewX,p=0),s=f._getTransformedDimensions(h,p),(d=2*Math.abs(e)-s[n])<=2?r=0:(r=m*Math.atan(d/f["scale"+u]/(s[l]/f["scale"+c])),r=E.util.radiansToDegrees(r)),a=f["skew"+u]!==r,f.set("skew"+u,r),0!==f["skew"+c]&&(o=f._getTransformedDimensions(),r=i[l]/o[l]*f["scale"+c],f.set("scale"+c,r)),a},_scaleObject:function(e,t,n){var i=this._currentTransform,r=i.target,a=r.lockScalingX,o=r.lockScalingY,s=r.lockScalingFlip;if(a&&o)return!1;var l,c=r.translateToOriginPoint(r.getCenterPoint(),i.originX,i.originY),u=r.toLocalPoint(new E.Point(e,t),i.originX,i.originY),d=r._getTransformedDimensions();return this._setLocalMouse(u,i),l=this._setObjectScale(u,i,a,o,n,s,d),r.setPositionByOrigin(c,i.originX,i.originY),l},_setObjectScale:function(e,t,n,i,r,a,o){var s=t.target,l=!1,c=!1,u=!1,d=e.x*s.scaleX/o.x,h=e.y*s.scaleY/o.y,p=s.scaleX!==d,f=s.scaleY!==h;if(t.newScaleX=d,t.newScaleY=h,E.Textbox&&"x"===r&&s instanceof E.Textbox){var m=s.width*(e.x/o.x);return m>=s.getMinWidth()&&(u=m!==s.width,s.set("width",m),u)}return a&&d<=0&&d<s.scaleX&&(l=!0,e.x=0),a&&h<=0&&h<s.scaleY&&(c=!0,e.y=0),"equally"!==r||n||i?r?"x"!==r||s.get("lockUniScaling")?"y"!==r||s.get("lockUniScaling")||c||i||s.set("scaleY",h)&&(u=f):l||n||s.set("scaleX",d)&&(u=p):(l||n||s.set("scaleX",d)&&(u=u||p),c||i||s.set("scaleY",h)&&(u=u||f)):u=this._scaleObjectEqually(e,s,t,o),l||c||this._flipObject(t,r),u},_scaleObjectEqually:function(e,t,n,i){var r,a,o,s=e.y+e.x,l=i.y*n.original.scaleY/t.scaleY+i.x*n.original.scaleX/t.scaleX,c=e.x<0?-1:1,u=e.y<0?-1:1;return a=c*Math.abs(n.original.scaleX*s/l),o=u*Math.abs(n.original.scaleY*s/l),r=a!==t.scaleX||o!==t.scaleY,t.set("scaleX",a),t.set("scaleY",o),r},_flipObject:function(e,t){e.newScaleX<0&&"y"!==t&&("left"===e.originX?e.originX="right":"right"===e.originX&&(e.originX="left")),e.newScaleY<0&&"x"!==t&&("top"===e.originY?e.originY="bottom":"bottom"===e.originY&&(e.originY="top"))},_setLocalMouse:function(e,t){var n=t.target,i=this.getZoom(),a=n.padding/i;"right"===t.originX?e.x*=-1:"center"===t.originX&&(e.x*=2*t.mouseXSign,e.x<0&&(t.mouseXSign=-t.mouseXSign)),"bottom"===t.originY?e.y*=-1:"center"===t.originY&&(e.y*=2*t.mouseYSign,e.y<0&&(t.mouseYSign=-t.mouseYSign)),r(e.x)>a?e.x<0?e.x+=a:e.x-=a:e.x=0,r(e.y)>a?e.y<0?e.y+=a:e.y-=a:e.y=0},_rotateObject:function(e,t){var r=this._currentTransform,a=r.target,o=a.translateToOriginPoint(a.getCenterPoint(),r.originX,r.originY);if(a.lockRotation)return!1;var s=i(r.ey-o.y,r.ex-o.x),l=i(t-o.y,e-o.x),c=n(l-s+r.theta),u=!0;if(a.snapAngle>0){var d=a.snapAngle,h=a.snapThreshold||d,p=Math.ceil(c/d)*d,f=Math.floor(c/d)*d;Math.abs(c-f)<h?c=f:Math.abs(c-p)<h&&(c=p)}return c<0&&(c=360+c),c%=360,a.angle===c?u=!1:(a.angle=c,a.setPositionByOrigin(o,r.originX,r.originY)),u},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,n=t.left,i=t.top,s=r(n),l=r(i);if(this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(t.ex-(n>0?0:-n),t.ey-(i>0?0:-i),s,l)),this.selectionLineWidth&&this.selectionBorderColor)if(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!a){var c=t.ex+o-(n>0?0:s),u=t.ey+o-(i>0?0:l);e.beginPath(),E.util.drawDashedLine(e,c,u,c+s,u,this.selectionDashArray),E.util.drawDashedLine(e,c,u+l-1,c+s,u+l-1,this.selectionDashArray),E.util.drawDashedLine(e,c,u,c,u+l,this.selectionDashArray),E.util.drawDashedLine(e,c+s-1,u,c+s-1,u+l,this.selectionDashArray),e.closePath(),e.stroke()}else E.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(t.ex+o-(n>0?0:s),t.ey+o-(i>0?0:l),s,l)},findTarget:function(e,t){if(!this.skipTargetFind){var n,i,r=this.getPointer(e,!0),a=this._activeObject,o=this.getActiveObjects();if(this.targets=[],o.length>1&&!t&&a===this._searchPossibleTargets([a],r))return a;if(1===o.length&&a._findTargetCorner(r))return a;if(1===o.length&&a===this._searchPossibleTargets([a],r)){if(!this.preserveObjectStacking)return a;n=a,i=this.targets,this.targets=[]}var s=this._searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&s&&n&&s!==n&&(s=n,this.targets=i),s}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&this.containsPoint(null,t,e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,i,r=e.length;r--;){var a=e[r],o=a.group&&"activeSelection"!==a.group.type?this._normalizePointer(a.group,t):t;if(this._checkTarget(o,a,t)){(n=e[r]).subTargetCheck&&n instanceof E.Group&&(i=this._searchPossibleTargets(n._objects,t))&&this.targets.push(i);break}}return n},restorePointerVpt:function(e){return E.util.transformPoint(e,E.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var i,r=e(t),a=this.upperCanvasEl,o=a.getBoundingClientRect(),s=o.width||0,l=o.height||0;s&&l||("top"in o&&"bottom"in o&&(l=Math.abs(o.top-o.bottom)),"right"in o&&"left"in o&&(s=Math.abs(o.right-o.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,n||(r=this.restorePointerVpt(r));var c=this.getRetinaScaling();return 1!==c&&(r.x/=c,r.y/=c),i=0===s||0===l?{width:1,height:1}:{width:a.width/s,height:a.height/l},{x:r.x*i.width,y:r.y*i.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),E.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=E.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),E.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),E.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;E.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,E.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,i=this.getActiveObjects(),r=[],a=[],o={e:t};e.forEach((function(e){-1===i.indexOf(e)&&(n=!0,e.fire("deselected",o),a.push(e))})),i.forEach((function(t){-1===e.indexOf(t)&&(n=!0,t.fire("selected",o),r.push(t))})),e.length>0&&i.length>0?(o.selected=r,o.deselected=a,o.updated=r[0]||a[0],o.target=this._activeObject,n&&this.fire("selection:updated",o)):i.length>0?(1===i.length&&(o.target=r[0],this.fire("object:selected",o)),o.selected=r,o.target=this._activeObject,this.fire("selection:created",o)):e.length>0&&(o.deselected=a,this.fire("selection:cleared",o))},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&(!!this._discardActiveObject(t,e)&&(!e.onSelect({e:t})&&(this._activeObject=e,!0)))},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){E.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,E.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var i=this._realizeGroupTransformOnObject(e),r=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,i),r},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),this._activeObject.realizeTransform(e),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var i=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,i)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),E.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),E.StaticCanvas)"prototype"!==s&&(E.Canvas[s]=E.StaticCanvas[s])}(),function(){var e={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},t=E.util.addListener,n=E.util.removeListener,i={passive:!1};function r(e,t){return e.button&&e.button===t-1}E.util.object.extend(E.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var n=this.upperCanvasEl,r=this._getEventPrefix();e(E.window,"resize",this._onResize),e(n,r+"down",this._onMouseDown),e(n,r+"move",this._onMouseMove,i),e(n,r+"out",this._onMouseOut),e(n,r+"enter",this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"dblclick",this._onDoubleClick),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,i),"undefined"!=typeof eventjs&&t in eventjs&&(eventjs[t](n,"gesture",this._onGesture),eventjs[t](n,"drag",this._onDrag),eventjs[t](n,"orientation",this._onOrientationChange),eventjs[t](n,"shake",this._onShake),eventjs[t](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove");var e=this._getEventPrefix();n(E.document,e+"up",this._onMouseUp),n(E.document,"touchend",this._onTouchEnd,i),n(E.document,e+"move",this._onMouseMove,i),n(E.document,"touchmove",this._onMouseMove,i)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e});var n=this;this._hoveredTargets.forEach((function(i){n.fire("mouse:out",{target:t,e}),i&&t.fire("mouseout",{e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this.currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||(!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(e){e.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();var r=this.upperCanvasEl,a=this._getEventPrefix();t(E.document,"touchend",this._onTouchEnd,i),t(E.document,"touchmove",this._onMouseMove,i),n(r,a+"down",this._onMouseDown)},_onMouseDown:function(e){this.__onMouseDown(e),this._resetTransformEventData();var r=this.upperCanvasEl,a=this._getEventPrefix();n(r,a+"move",this._onMouseMove,i),t(E.document,a+"up",this._onMouseUp),t(E.document,a+"move",this._onMouseMove,i)},_onTouchEnd:function(e){if(!(e.touches.length>0)){this.__onMouseUp(e),this._resetTransformEventData(),this.mainTouchId=null;var r=this._getEventPrefix();n(E.document,"touchend",this._onTouchEnd,i),n(E.document,"touchmove",this._onMouseMove,i);var a=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(a.upperCanvasEl,r+"down",a._onMouseDown),a._willAddMouseDown=0}),400)}},_onMouseUp:function(e){this.__onMouseUp(e),this._resetTransformEventData();var r=this.upperCanvasEl,a=this._getEventPrefix();this._isMainEvent(e)&&(n(E.document,a+"up",this._onMouseUp),n(E.document,a+"move",this._onMouseMove,i),t(r,a+"move",this._onMouseMove,i))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!=!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,i=this._groupSelector,a=!1,o=!i||0===i.left&&0===i.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),!r(e,3))return r(e,2)?(this.fireMiddleClick&&this._handleEvent(e,"up",2,o),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(e):this._isMainEvent(e)&&(n&&(this._finalizeCurrentTransform(e),a=n.actionPerformed),o||(this._maybeGroupObjects(e),a||(a=this._shouldRender(t))),t&&(t.isMoving=!1),this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,o),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),a?this.requestRenderAll():o||this.renderTop()));this.fireRightClick&&this._handleEvent(e,"up",3,o)},_simpleEventHandler:function(e,t){var n=this.findTarget(t),i=this.targets,r={e:t,target:n,subTargets:i};if(this.fire(e,r),n&&n.fire(e,r),!i)return n;for(var a=0;a<i.length;a++)i[a].fire(e,r);return n},_handleEvent:function(e,t,n,i){var r=this._target,a=this.targets||[],o={e,target:r,subTargets:a,button:n||1,isClick:i||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+t,o),r&&r.fire("mouse"+t,o);for(var s=0;s<a.length;s++)a[s].fire("mouse"+t,o)},_finalizeCurrentTransform:function(e){var t,n=this._currentTransform,i=n.target,r={e,target:i,transform:n};i._scaling&&(i._scaling=!1),i.setCoords(),(n.actionPerformed||this.stateful&&i.hasStateChanged())&&(n.actionPerformed&&(t=this._addEventOptions(r,n),this._fire(t,r)),this._fire("modified",r))},_addEventOptions:function(e,t){var n,i;switch(t.action){case"scaleX":n="scaled",i="x";break;case"scaleY":n="scaled",i="y";break;case"skewX":n="skewed",i="x";break;case"skewY":n="skewed",i="y";break;case"scale":n="scaled",i="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return e.by=i,n},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll(),this.clipTo&&E.util.clipContext(this,this.contextTop);var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){this.clipTo&&this.contextTop.restore();var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(r(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(r(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var i=this._shouldRender(t),a=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):a&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),t){var o=t===this._activeObject;t.selectable&&this.setActiveObject(t,e),t!==this._activeObject||!t.__corner&&a||this._setupCurrentTransform(e,t,o)}this._handleEvent(e,"down"),(i||a)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e,transform:t}),t.corner&&this.onBeforeScaleRotate(t.target)},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var i=this._groupSelector;i?(n=this._pointer,i.left=n.x-i.ex,i.top=n.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,i=this._hoveredTargets,r=this.targets,a=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var o=0;o<a;o++)this.fireSyntheticInOutEvents(r[o],t,{oldTarget:i[o],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,i=this._hoveredTargets,r=this.targets,a=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var o=0;o<a;o++)this.fireSyntheticInOutEvents(r[o],t,{oldTarget:i[o],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var i,r,a,o=n.oldTarget,s=o!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;s&&(i={e:t,target:e,previousTarget:o},r={e:t,target:o,nextTarget:e}),a=e&&s,o&&s&&(c&&this.fire(c,r),o.fire(n.evtOut,r)),a&&(l&&this.fire(l,i),e.fire(n.evtIn,i))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._beforeScaleTransform(e,n),this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var i=n.x,r=n.y,a=t.action,o=!1,s={target:t.target,e,transform:t,pointer:n};"rotate"===a?(o=this._rotateObject(i,r))&&this._fire("rotating",s):"scale"===a?(o=this._onScale(e,t,i,r))&&this._fire("scaling",s):"scaleX"===a?(o=this._scaleObject(i,r,"x"))&&this._fire("scaling",s):"scaleY"===a?(o=this._scaleObject(i,r,"y"))&&this._fire("scaling",s):"skewX"===a?(o=this._skewObject(i,r,"x"))&&this._fire("skewing",s):"skewY"===a?(o=this._skewObject(i,r,"y"))&&this._fire("skewing",s):(o=this._translateObject(i,r))&&(this._fire("moving",s),this.setCursor(s.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||o},_fire:function(e,t){this.fire("object:"+e,t),t.target.fire(e,t)},_beforeScaleTransform:function(e,t){if("scale"===t.action||"scaleX"===t.action||"scaleY"===t.action){var n=this._shouldCenterTransform(t.target);(n&&("center"!==t.originX||"center"!==t.originY)||!n&&"center"===t.originX&&"center"===t.originY)&&(this._resetCurrentTransform(),t.reset=!0)}},_onScale:function(e,t,n,i){return this._isUniscalePossible(e,t.target)?(t.currentAction="scale",this._scaleObject(n,i)):(t.reset||"scale"!==t.currentAction||this._resetCurrentTransform(),t.currentAction="scaleEqually",this._scaleObject(n,i,"equally"))},_isUniscalePossible:function(e,t){return(e[this.uniScaleKey]||this.uniScaleTransform)&&!t.get("lockUniScaling")},_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,i=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!i||!i.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));r?this.setCursor(this.getCornerCursor(r,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(t,n,i){return this.actionIsDisabled(t,n,i)?this.notAllowedCursor:t in e?this._getRotatedCornerCursor(t,n,i):"mtr"===t&&n.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(e,t,n){return"mt"===e||"mb"===e?n[this.altActionKey]?t.lockSkewingX:t.lockScalingY:"ml"===e||"mr"===e?n[this.altActionKey]?t.lockSkewingY:t.lockScalingX:"mtr"===e?t.lockRotation:this._isUniscalePossible(n,t)?t.lockScalingX&&t.lockScalingY:t.lockScalingX||t.lockScalingY},_getRotatedCornerCursor:function(t,n,i){var r=Math.round(n.angle%360/45);return r<0&&(r+=8),r+=e[t],i[this.altActionKey]&&e[t]%2==0&&(r+=2),r%=8,this.cursorMap[r]}})}(),g=Math.min,v=Math.max,E.util.object.extend(E.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,i=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(i,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),i=this._createGroup(e);this._hoveredTarget=i,this._setActiveObject(i,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new E.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new E.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(e){for(var t,n=[],i=this._groupSelector.ex,r=this._groupSelector.ey,a=i+this._groupSelector.left,o=r+this._groupSelector.top,s=new E.Point(g(i,a),g(r,o)),l=new E.Point(v(i,a),v(r,o)),c=!this.selectionFullyContained,u=i===a&&r===o,d=this._objects.length;d--&&!((t=this._objects[d])&&t.selectable&&t.visible&&(c&&t.intersectsWithRect(s,l)||t.isContainedWithinRect(s,l)||c&&t.containsPoint(s)||c&&t.containsPoint(l))&&(n.push(t),u)););return n.length>1&&(n=n.filter((function(t){return!t.onSelect({e})}))),n},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}}),E.util.object.extend(E.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,i=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(i,e);return E.util.toDataURL(r,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,i=(t.height||this.height)*e,r=this.getZoom(),a=this.width,o=this.height,s=r*e,l=this.viewportTransform,c=(l[4]-(t.left||0))*e,u=(l[5]-(t.top||0))*e,d=this.interactive,h=[s,0,0,s,c,u],p=this.enableRetinaScaling,f=E.util.createCanvasElement(),m=this.contextTop;return f.width=n,f.height=i,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=h,this.width=n,this.height=i,this.calcViewportBoundaries(),this.renderCanvas(f.getContext("2d"),this._objects),this.viewportTransform=l,this.width=a,this.height=o,this.calcViewportBoundaries(),this.interactive=d,this.enableRetinaScaling=p,this.contextTop=m,f}}),E.util.object.extend(E.StaticCanvas.prototype,{loadFromDatalessJSON:function(e,t,n){return this.loadFromJSON(e,t,n)},loadFromJSON:function(e,t,n){if(e){var i="string"==typeof e?JSON.parse(e):E.util.object.clone(e),r=this,a=i.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete i.clipPath,this._enlivenObjects(i.objects,(function(e){r.clear(),r._setBgOverlay(i,(function(){a?r._enlivenObjects([a],(function(n){r.clipPath=n[0],r.__setupCanvas.call(r,i,e,o,t)})):r.__setupCanvas.call(r,i,e,o,t)}))}),n),this}},__setupCanvas:function(e,t,n,i){var r=this;t.forEach((function(e,t){r.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),i&&i()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var i=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,i),this.__setBgOverlay("overlayImage",e.overlayImage,n,i),this.__setBgOverlay("backgroundColor",e.background,n,i),this.__setBgOverlay("overlayColor",e.overlay,n,i)}else t&&t()},__setBgOverlay:function(e,t,n,i){var r=this;if(!t)return n[e]=!0,void(i&&i());"backgroundImage"===e||"overlayImage"===e?E.util.enlivenObjects([t],(function(t){r[e]=t[0],n[e]=!0,i&&i()})):this["set"+E.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,i&&i()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?E.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(i){n(i.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=E.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new E.Canvas(t);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r=t.util.toFixed,a=t.util.string.capitalize,o=t.util.degreesToRadians,s=t.StaticCanvas.supports("setLineDash"),l=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,i=e.width,r=e.height,a=t.maxCacheSideLimit,o=t.minCacheSideLimit;if(i<=a&&r<=a&&i*r<=n)return i<o&&(e.width=o),r<o&&(e.height=o),e;var s=i/r,l=t.util.limitDimsByArea(s,n),c=t.util.capValue,u=c(o,l.x,a),d=c(o,l.y,a);return i>u&&(e.zoomX/=i/u,e.width=u,e.capped=!0),r>d&&(e.zoomY/=r/d,e.height=d,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,i=t.y*e.scaleY/this.scaleY;return{width:n+2,height:i+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:i}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,i=e._currentTransform.action;if(this===n&&i.slice&&"scale"===i.slice(0,5))return!1}var r,a,o=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=s.width,u=s.height,d=s.zoomX,h=s.zoomY,p=c!==this.cacheWidth||u!==this.cacheHeight,f=this.zoomX!==d||this.zoomY!==h,m=p||f,g=0,v=0,y=!1;if(p){var b=this._cacheCanvas.width,_=this._cacheCanvas.height,w=c>b||u>_;y=w||(c<.9*b||u<.9*_)&&b>l&&_>l,w&&!s.capped&&(c>l||u>l)&&(g=.1*c,v=.1*u)}return!!m&&(y?(o.width=Math.ceil(c+g),o.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,o.width,o.height)),r=s.x/2,a=s.y/2,this.cacheTranslationX=Math.round(o.width/2-r)+r,this.cacheTranslationY=Math.round(o.height/2-a)+a,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(d,h),this.zoomX=d,this.zoomY=h,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initClipping(e),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t;t=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,i={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:r(this.left,n),top:r(this.top,n),width:r(this.width,n),height:r(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:r(this.strokeMiterLimit,n),scaleX:r(this.scaleX,n),scaleY:r(this.scaleY,n),angle:r(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:r(this.skewX,n),skewY:r(this.skewY,n)};return this.clipPath&&(i.clipPath=this.clipPath.toObject(e),i.clipPath.inverted=this.clipPath.inverted,i.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,i,e),this.includeDefaultValues||(i=this._removeDefaultValues(i)),i},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],"[object Array]"===Object.prototype.toString.call(e[t])&&"[object Array]"===Object.prototype.toString.call(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){var e=t.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(e.scaleX),scaleY:Math.abs(e.scaleY)}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var i=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();t*=i*r,n*=i*r}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var i="scaleX"===e||"scaleY"===e,r=this[e]!==n,a=!1;return i&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,r&&(a=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,a&&this.group.set("dirty",!0)):a&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this.clipTo&&t.util.clipContext(this,e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&e.restore(),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e){var n=this.clipPath;if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var i=t.util.invertTransform(this.calcTransformMatrix());e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,i=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):(this._renderBackground(e),this._setStrokeStyles(e,this),this._setFillStyles(e,this)),this._render(e),this._drawClipPath(e),this.fill=n,this.stroke=i},_drawClipPath:function(e){var t=this.clipPath;t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){t.stroke&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,e.strokeStyle=t.stroke.toLive?t.stroke.toLive(e,this):t.stroke)},_setFillStyles:function(e,t){t.fill&&(e.fillStyle=t.fill.toLive?t.fill.toLive(e,this):t.fill)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t,n){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),s?e.setLineDash(t):n&&n(e))},_renderControls:function(e,n){var i,r,a,s=this.getViewportTransform(),l=this.calcTransformMatrix();r=void 0!==(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,a=void 0!==n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(s,l),i=t.util.qrDecompose(l),e.save(),e.translate(i.translateX,i.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),n.forActiveSelection?(e.rotate(o(i.angle)),r&&this.drawBordersInGroup(e,i,n)):(e.rotate(o(this.angle)),r&&this.drawBorders(e,n)),a&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,i=this.shadow,r=this.canvas,a=r&&r.viewportTransform[0]||1,o=r&&r.viewportTransform[3]||1;n=i.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(a*=t.devicePixelRatio,o*=t.devicePixelRatio),e.shadowColor=i.color,e.shadowBlur=i.blur*t.browserShadowBlurConstant*(a+o)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=i.offsetX*a*n.scaleX,e.shadowOffsetY=i.offsetY*o*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,i=-this.width/2+t.offsetX||0,r=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,i,r):e.transform(1,0,0,1,i,r),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:r}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._applyPatternGradientTransform(e,this.fill),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&this.group){var t=this.getObjectScaling();e.scale(1/t.scaleX,1/t.scaleY)}else this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(e,this.strokeDashArray,this._renderDashedStroke),this.stroke.toLive&&"percentage"===this.stroke.gradientUnits?this._applyPatternForTransformedGradient(e,this.stroke):this._applyPatternGradientTransform(e,this.stroke),e.stroke(),e.restore()}},_applyPatternForTransformedGradient:function(e,n){var i,r=this._limitCacheSize(this._getCacheCanvasDimensions()),a=t.util.createCanvasElement(),o=this.canvas.getRetinaScaling(),s=r.x/this.scaleX/o,l=r.y/this.scaleY/o;a.width=s,a.height=l,(i=a.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(s,0),i.lineTo(s,l),i.lineTo(0,l),i.closePath(),i.translate(s/2,l/2),i.scale(r.zoomX/this.scaleX/o,r.zoomY/this.scaleY/o),this._applyPatternGradientTransform(i,n),i.fillStyle=n.toLive(e),i.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(o*this.scaleX/r.zoomX,o*this.scaleY/r.zoomY),e.strokeStyle=i.createPattern(a,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var i=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(i,e):t.Object._fromObject("Object",i,e)},cloneAsImage:function(e,n){var i=this.toCanvasElement(n);return e&&e(new t.Image(i)),this},toCanvasElement:function(e){e||(e={});var n=t.util,i=n.saveObjectTransform(this),r=this.group,a=this.shadow,o=Math.abs,s=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u,d,h=t.util.createCanvasElement(),p=this.getBoundingRect(!0,!0),f=this.shadow,m={x:0,y:0};f&&(c=f.blur,l=f.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),m.x=2*Math.round(o(f.offsetX)+c)*o(l.scaleX),m.y=2*Math.round(o(f.offsetY)+c)*o(l.scaleY)),u=p.width+m.x,d=p.height+m.y,h.width=Math.ceil(u),h.height=Math.ceil(d);var g=new t.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(g.width/2,g.height/2),"center","center");var v=this.canvas;g.add(this);var y=g.toCanvasElement(s||1,e);return this.shadow=a,this.set("canvas",v),r&&(this.group=r),this.set(i).setCoords(),g._objects=[],g.dispose(),g=null,y},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},setGradient:function(e,n){n||(n={});var i={colorStops:[]};return i.type=n.type||(n.r1||n.r2?"radial":"linear"),i.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},i.gradientUnits=n.gradientUnits||"pixels",(n.r1||n.r2)&&(i.coords.r1=n.r1,i.coords.r2=n.r2),i.gradientTransform=n.gradientTransform,t.Gradient.prototype.addColorStop.call(i,n.colorStops),this.set(e,t.Gradient.forObject(this,i))},setPatternFill:function(e,n){return this.set("fill",new t.Pattern(e,n))},setShadow:function(e){return this.set("shadow",e?new t.Shadow(e):null)},setColor:function(e){return this.set("fill",e),this},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var i=new t.Point(n.x,n.y),r=this._getLeftTopCoords();return this.angle&&(i=t.util.rotatePoint(i,r,o(-this.angle))),{x:i.x-r.x,y:i.y-r.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object._fromObject=function(e,n,r,a){var o=t[e];n=i(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){void 0!==e[0]&&(n.fill=e[0]),void 0!==e[1]&&(n.stroke=e[1]),t.util.enlivenObjects([n.clipPath],(function(e){n.clipPath=e[0];var t=a?new o(n[a],n):new o(n);r&&r(t)}))}))},t.Object.__uid=0)}(t),y=E.util.degreesToRadians,b={left:-.5,center:0,right:.5},_={top:-.5,center:0,bottom:.5},E.util.object.extend(E.Object.prototype,{translateToGivenOrigin:function(e,t,n,i,r){var a,o,s,l=e.x,c=e.y;return"string"==typeof t?t=b[t]:t-=.5,"string"==typeof i?i=b[i]:i-=.5,"string"==typeof n?n=_[n]:n-=.5,"string"==typeof r?r=_[r]:r-=.5,o=r-n,((a=i-t)||o)&&(s=this._getTransformedDimensions(),l=e.x+a*s.x,c=e.y+o*s.y),new E.Point(l,c)},translateToCenterPoint:function(e,t,n){var i=this.translateToGivenOrigin(e,t,n,"center","center");return this.angle?E.util.rotatePoint(i,e,y(this.angle)):i},translateToOriginPoint:function(e,t,n){var i=this.translateToGivenOrigin(e,"center","center",t,n);return this.angle?E.util.rotatePoint(i,e,y(this.angle)):i},getCenterPoint:function(){var e=new E.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(e,t,n){var i,r,a=this.getCenterPoint();return i=void 0!==t&&void 0!==n?this.translateToGivenOrigin(a,"center","center",t,n):new E.Point(this.left,this.top),r=new E.Point(e.x,e.y),this.angle&&(r=E.util.rotatePoint(r,a,-y(this.angle))),r.subtractEquals(i)},setPositionByOrigin:function(e,t,n){var i=this.translateToCenterPoint(e,t,n),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(e){var t,n,i=y(this.angle),r=this.getScaledWidth(),a=E.util.cos(i)*r,o=E.util.sin(i)*r;t="string"==typeof this.originX?b[this.originX]:this.originX-.5,n="string"==typeof e?b[e]:e-.5,this.left+=a*(n-t),this.top+=o*(n-t),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var e=E.util.degreesToRadians,t=E.util.multiplyTransformMatrices,n=E.util.transformPoint;E.util.object.extend(E.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(e,t){this.oCoords||this.setCoords();var n=e?this.aCoords:this.oCoords;return function(e){return[new E.Point(e.tl.x,e.tl.y),new E.Point(e.tr.x,e.tr.y),new E.Point(e.br.x,e.br.y),new E.Point(e.bl.x,e.bl.y)]}(t?this.calcCoords(e):n)},intersectsWithRect:function(e,t,n,i){var r=this.getCoords(n,i);return"Intersection"===E.Intersection.intersectPolygonRectangle(r,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===E.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var i=this.getCoords(t,n),r=0,a=e._getImageLines(n?e.calcCoords(t):t?e.aCoords:e.oCoords);r<4;r++)if(!e.containsPoint(i[r],a))return!1;return!0},isContainedWithinRect:function(e,t,n,i){var r=this.getBoundingRect(n,i);return r.left>=e.x&&r.left+r.width<=t.x&&r.top>=e.y&&r.top+r.height<=t.y},containsPoint:function(e,t,n,i){t=t||this._getImageLines(i?this.calcCoords(n):n?this.aCoords:this.oCoords);var r=this._findCrossPoints(e,t);return 0!==r&&r%2==1},isOnScreen:function(e){if(!this.canvas)return!1;for(var t,n=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,r=this.getCoords(!0,e),a=0;a<4;a++)if((t=r[a]).x<=i.x&&t.x>=n.x&&t.y<=i.y&&t.y>=n.y)return!0;return!!this.intersectsWithRect(n,i,!0,e)||this._containsCenterOfCanvas(n,i,e)},_containsCenterOfCanvas:function(e,t,n){var i={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(i,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,i,r,a=0;for(var o in t)if(!((r=t[o]).o.y<e.y&&r.d.y<e.y||r.o.y>=e.y&&r.d.y>=e.y||(r.o.x===r.d.x&&r.o.x>=e.x?i=r.o.x:(0,n=(r.d.y-r.o.y)/(r.d.x-r.o.x),i=-(e.y-0*e.x-(r.o.y-n*r.o.x))/(0-n)),i>=e.x&&(a+=1),2!==a)))break;return a},getBoundingRect:function(e,t){var n=this.getCoords(e,t);return E.util.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(i){var r=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),o=t(a,r),s=this.getViewportTransform(),l=i?o:t(s,o),c=this._getTransformedDimensions(),u=c.x/2,d=c.y/2,h=n({x:-u,y:-d},l),p=n({x:u,y:-d},l),f=n({x:-u,y:d},l),m=n({x:u,y:d},l);if(!i){var g=this.padding,v=e(this.angle),y=E.util.cos(v),b=E.util.sin(v),_=y*g,w=b*g,k=_+w,x=_-w;g&&(h.x-=x,h.y-=k,p.x+=k,p.y-=x,f.x-=k,f.y+=x,m.x+=x,m.y+=k);var C=new E.Point((h.x+f.x)/2,(h.y+f.y)/2),S=new E.Point((p.x+h.x)/2,(p.y+h.y)/2),T=new E.Point((m.x+p.x)/2,(m.y+p.y)/2),D=new E.Point((m.x+f.x)/2,(m.y+f.y)/2),F=new E.Point(S.x+b*this.rotatingPointOffset,S.y-y*this.rotatingPointOffset)}var M={tl:h,tr:p,br:m,bl:f};return i||(M.ml=C,M.mt=S,M.mr=T,M.mb=D,M.mtr=F),M},setCoords:function(e,t){return this.oCoords=this.calcCoords(e),t||(this.aCoords=this.calcCoords(!0)),e||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){return E.util.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="_",n="";return!e&&this.group&&(n=this.group.transformMatrixKey(e)+t),n+this.top+t+this.left+t+this.scaleX+t+this.scaleY+t+this.skewX+t+this.skewY+t+this.angle+t+this.originX+t+this.originY+t+this.width+t+this.height+t+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){if(e)return this.calcOwnMatrix();var n=this.transformMatrixKey(),i=this.matrixCache||(this.matrixCache={});if(i.key===n)return i.value;var r=this.calcOwnMatrix();return this.group&&(r=t(this.group.calcTransformMatrix(),r)),i.key=n,i.value=r,r},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),t=this.ownMatrixCache||(this.ownMatrixCache={});if(t.key===e)return t.value;var n=this._calcTranslateMatrix();return this.translateX=n[4],this.translateY=n[5],t.key=e,t.value=E.util.composeMatrix(this),t.value},_calcDimensionsTransformMatrix:function(e,t,n){return E.util.calcDimensionsMatrix({skewX:e,skewY:t,scaleX:this.scaleX*(n&&this.flipX?-1:1),scaleY:this.scaleY*(n&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(e,t){void 0===e&&(e=this.skewX),void 0===t&&(t=this.skewY);var n,i,r=this._getNonTransformedDimensions(),a=0===e&&0===t;if(this.strokeUniform?(n=this.width,i=this.height):(n=r.x,i=r.y),a)return this._finalizeDimensions(n*this.scaleX,i*this.scaleY);var o=[{x:-(n/=2),y:-(i/=2)},{x:n,y:-i},{x:-n,y:i},{x:n,y:i}],s=E.util.calcDimensionsMatrix({scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:t}),l=E.util.makeBoundingBoxFromPoints(o,s);return this._finalizeDimensions(l.width,l.height)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return E.util.transformPoint(t,e,!0).scalarAdd(2*this.padding)}})}(),E.util.object.extend(E.Object.prototype,{sendToBack:function(){return this.group?E.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?E.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?E.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas&&this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?E.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas&&this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?E.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas&&this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new E.Color(t),i=e+": "+n.toRgb()+"; ",r=n.getAlpha();return 1!==r&&(i+=e+"-opacity: "+r.toString()+"; "),i}return e+": none; "}var t=E.util.toFixed;E.util.object.extend(E.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=t?"":this.getSvgFilter(),h=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",n,"; ","opacity: ",c,";",d,u].join("")},getSvgSpanStyles:function(t,n){var i="; ",r=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+i:"",a=t.strokeWidth?"stroke-width: "+t.strokeWidth+i:"",o=(r=r,t.fontSize?"font-size: "+t.fontSize+"px"+i:""),s=t.fontStyle?"font-style: "+t.fontStyle+i:"",l=t.fontWeight?"font-weight: "+t.fontWeight+i:"",c=t.fill?e("fill",t.fill):"",u=t.stroke?e("stroke",t.stroke):"",d=this.getSvgTextDecoration(t);return d&&(d="text-decoration: "+d+i),[u,a,r,o,s,l,d,c,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+E.util.matrixToSVG(n)+(t||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" "+E.util.matrixToSVG(this.transformMatrix):""},_setSVGBg:function(e){if(this.backgroundColor){var n=E.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,i=t.additionalTransform||"",r=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),a=e.indexOf("COMMON_PARTS");return e[a]=r,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,i,r=(t=t||{}).noStyle,a=t.reviver,o=r?"":'style="'+this.getSvgStyles()+'" ',s=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,h=this.fill,p=this.shadow,f=[],m=e.indexOf("COMMON_PARTS"),g=t.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+E.Object.__uid++,i='<clipPath id="'+l.clipPathId+'" >\n'+l.toClipPathSVG(a)+"</clipPath>\n"),u&&f.push("<g ",s,this.getSvgCommons()," >\n"),f.push("<g ",this.getSvgTransform(!1),u?"":s+this.getSvgCommons()," >\n"),n=[o,c,r?"":this.addPaintOrder()," ",g?'transform="'+g+'" ':""].join(""),e[m]=n,h&&h.toLive&&f.push(h.toSVG(this)),d&&d.toLive&&f.push(d.toSVG(this)),p&&f.push(p.toSVG(this)),l&&f.push(i),f.push(e.join("")),f.push("</g>\n"),u&&f.push("</g>\n"),a?a(f.join("")):f.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=E.util.object.extend,t="stateProperties";function n(t,n,i){var r={};i.forEach((function(e){r[e]=t[e]})),e(t[n],r,!0)}function i(e,t,n){if(e===t)return!0;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0,a=e.length;r<a;r++)if(!i(e[r],t[r]))return!1;return!0}if(e&&"object"==typeof e){var o,s=Object.keys(e);if(!t||"object"!=typeof t||!n&&s.length!==Object.keys(t).length)return!1;for(r=0,a=s.length;r<a;r++)if("canvas"!==(o=s[r])&&!i(e[o],t[o]))return!1;return!0}}E.util.object.extend(E.Object.prototype,{hasStateChanged:function(e){var n="_"+(e=e||t);return Object.keys(this[n]).length<this[e].length||!i(this[n],this,!0)},saveState:function(e){var i=e&&e.propertySet||t,r="_"+i;return this[r]?(n(this,r,this[i]),e&&e.stateProperties&&n(this,r,e.stateProperties),this):this.setupState(e)},setupState:function(e){var n=(e=e||{}).propertySet||t;return e.propertySet=n,this["_"+n]={},this.saveState(e),this}})}(),function(){var e=E.util.degreesToRadians;E.util.object.extend(E.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var t,n,i=e.x,r=e.y;for(var a in this.__corner=0,this.oCoords)if(this.isControlVisible(a)&&("mtr"!==a||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==a&&"mr"!==a&&"mb"!==a&&"ml"!==a)&&(n=this._getImageLines(this.oCoords[a].corner),0!==(t=this._findCrossPoints({x:i,y:r},n))&&t%2==1))return this.__corner=a,a;return!1},_setCornerCoords:function(){var t,n,i=this.oCoords,r=e(45-this.angle),a=.707106*this.cornerSize,o=a*E.util.cos(r),s=a*E.util.sin(r);for(var l in i)t=i[l].x,n=i[l].y,i[l].corner={tl:{x:t-s,y:n-o},tr:{x:t+o,y:n-s},bl:{x:t-o,y:n+s},br:{x:t+s,y:n+o}}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),i=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/r[0],1/r[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),i=this.borderScaleFactor,r=n.x+i,a=n.y+i,o=void 0!==t.hasRotatingPoint?t.hasRotatingPoint:this.hasRotatingPoint,s=void 0!==t.hasControls?t.hasControls:this.hasControls,l=void 0!==t.rotatingPointOffset?t.rotatingPointOffset:this.rotatingPointOffset;if(e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray,null),e.strokeRect(-r/2,-a/2,r,a),o&&this.isControlVisible("mtr")&&s){var c=-a/2;e.beginPath(),e.moveTo(0,c),e.lineTo(0,c-l),e.stroke()}return e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var i={x:this.width,y:this.height},r=E.util.composeMatrix({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX}),a=E.util.transformPoint(i,r),o=this.strokeWidth,s=this.borderScaleFactor,l=a.x+o*(this.strokeUniform?this.canvas.getZoom():t.scaleX)+s,c=a.y+o*(this.strokeUniform?this.canvas.getZoom():t.scaleY)+s;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray,null),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-l/2,-c/2,l,c),e.restore(),this},drawControls:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),i=n.x,r=n.y,a=t.cornerSize||this.cornerSize,o=-(i+a)/2,s=-(r+a)/2,l=void 0!==t.transparentCorners?t.transparentCorners:this.transparentCorners,c=void 0!==t.hasRotatingPoint?t.hasRotatingPoint:this.hasRotatingPoint,u=l?"stroke":"fill";return e.save(),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",e,u,o,s,t),this._drawControl("tr",e,u,o+i,s,t),this._drawControl("bl",e,u,o,s+r,t),this._drawControl("br",e,u,o+i,s+r,t),this.get("lockUniScaling")||(this._drawControl("mt",e,u,o+i/2,s,t),this._drawControl("mb",e,u,o+i/2,s+r,t),this._drawControl("mr",e,u,o+i,s+r/2,t),this._drawControl("ml",e,u,o,s+r/2,t)),c&&this._drawControl("mtr",e,u,o+i/2,s-this.rotatingPointOffset,t),e.restore(),this},_drawControl:function(e,t,n,i,r,a){if(a=a||{},this.isControlVisible(e)){var o=this.cornerSize,s=!this.transparentCorners&&this.cornerStrokeColor;if("circle"===(a.cornerStyle||this.cornerStyle))t.beginPath(),t.arc(i+o/2,r+o/2,o/2,0,2*Math.PI,!1),t[n](),s&&t.stroke();else this.transparentCorners||t.clearRect(i,r,o,o),t[n+"Rect"](i,r,o,o),s&&t.strokeRect(i,r,o,o)}},isControlVisible:function(e){return this._getControlsVisibility()[e]},setControlVisible:function(e,t){return this._getControlsVisibility()[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),E.util.object.extend(E.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,r=t.onChange||n,a=this;return E.util.animate({startValue:e.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),a.requestRenderAll(),r()},onComplete:function(){e.setCoords(),i()}}),this},fxCenterObjectV:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,r=t.onChange||n,a=this;return E.util.animate({startValue:e.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),a.requestRenderAll(),r()},onComplete:function(){e.setCoords(),i()}}),this},fxRemove:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,r=t.onChange||n,a=this;return E.util.animate({startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),a.requestRenderAll(),r()},onComplete:function(){a.remove(e),i()}}),this}}),E.util.object.extend(E.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var e,t,n=[];for(e in arguments[0])n.push(e);for(var i=0,r=n.length;i<r;i++)e=n[i],t=i!==r-1,this._animate(e,arguments[0][e],arguments[1],t)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,n,i){var r,a=this;t=t.toString(),n=n?E.util.object.clone(n):{},~e.indexOf(".")&&(r=e.split("."));var o=r?this.get(r[0])[r[1]]:this.get(e);"from"in n||(n.from=o),t=~t.indexOf("=")?o+parseFloat(t.replace("=","")):parseFloat(t),E.util.animate({startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(a)},onChange:function(t,o,s){r?a[r[0]][r[1]]=t:a.set(e,t),i||n.onChange&&n.onChange(t,o,s)},onComplete:function(e,t,r){i||(a.setCoords(),n.onComplete&&n.onComplete(e,t,r))}})}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r={x1:1,x2:1,y1:1,y2:1},a=t.StaticCanvas.supports("setLineDash");function o(e,t){var n=e.origin,i=e.axis1,r=e.axis2,a=e.dimension,o=t.nearest,s=t.center,l=t.farthest;return function(){switch(this.get(n)){case o:return Math.min(this.get(i),this.get(r));case s:return Math.min(this.get(i),this.get(r))+.5*this.get(a);case l:return Math.max(this.get(i),this.get(r))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),void 0!==r[e]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){if(e.beginPath(),!this.strokeDashArray||this.strokeDashArray&&a){var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2)}e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_renderDashedStroke:function(e){var n=this.calcLinePoints();e.beginPath(),t.util.drawDashedLine(e,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),e.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,i=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:i,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,i,r){r=r||{};var a=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),o=[a.x1||0,a.y1||0,a.x2||0,a.y2||0];i(new t.Line(o,n(a,r)))},t.Line.fromObject=function(e,n){var r=i(e,!0);r.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",r,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.PI;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,i=(this.endAngle-this.startAngle)%(2*n);if(0===i)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var r=t.util.cos(this.startAngle)*this.radius,a=t.util.sin(this.startAngle)*this.radius,o=t.util.cos(this.endAngle)*this.radius,s=t.util.sin(this.endAngle)*this.radius,l=i>n?"1":"0";e=['<path d="M '+r+" "+a," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+o+" "+s,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var i,r=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(i=r)&&i.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,n(new t.Circle(r))},t.Circle.fromObject=function(e,n){return t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=this.width/2,i=this.height/2;e.beginPath(),t.util.drawDashedLine(e,-n,i,0,-i,this.strokeDashArray),t.util.drawDashedLine(e,0,-i,n,i,this.strokeDashArray),t.util.drawDashedLine(e,n,i,-n,i,this.strokeDashArray),e.closePath()},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var i=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,n(new t.Ellipse(i))},t.Ellipse.fromObject=function(e,n){return t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,r=this.height,a=-this.width/2,o=-this.height/2,s=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(a+t,o),e.lineTo(a+i-t,o),s&&e.bezierCurveTo(a+i-l*t,o,a+i,o+l*n,a+i,o+n),e.lineTo(a+i,o+r-n),s&&e.bezierCurveTo(a+i,o+r-l*n,a+i-l*t,o+r,a+i-t,o+r),e.lineTo(a+t,o+r),s&&e.bezierCurveTo(a+l*t,o+r,a,o+r-l*n,a,o+r-n),e.lineTo(a,o+n),s&&e.bezierCurveTo(a,o+l*n,a+l*t,o,a+t,o),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=-this.width/2,i=-this.height/2,r=this.width,a=this.height;e.beginPath(),t.util.drawDashedLine(e,n,i,n+r,i,this.strokeDashArray),t.util.drawDashedLine(e,n+r,i,n+r,i+a,this.strokeDashArray),t.util.drawDashedLine(e,n+r,i+a,n,i+a,this.strokeDashArray),t.util.drawDashedLine(e,n,i+a,n,i,this.strokeDashArray),e.closePath()},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,i,r){if(!e)return i(null);r=r||{};var a=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var o=new t.Rect(n(r?t.util.object.clone(r):{},a));o.visible=o.visible&&o.width>0&&o.height>0,i(o)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.array.min,r=t.util.array.max,a=t.util.toFixed;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e);this.width=n.width,this.height=n.height,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===e.left&&(this.left=e.fromSVG?n.left:t.x),void 0===e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var e=this.points,t=i(e,"x")||0,n=i(e,"y")||0;return{left:t,top:n,width:(r(e,"x")||0)-t,height:(r(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,i=this.pathOffset.y,r=t.Object.NUM_FRACTION_DIGITS,o=0,s=this.points.length;o<s;o++)e.push(a(this.points[o].x-n,r),",",a(this.points[o].y-i,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,i=this.pathOffset.x,r=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-i,this.points[0].y-r);for(var a=0;a<n;a++)t=this.points[a],e.lineTo(t.x-i,t.y-r);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n,i;e.beginPath();for(var r=0,a=this.points.length;r<a;r++)n=this.points[r],i=this.points[r+1]||n,t.util.drawDashedLine(e,n.x,n.y,i.x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(i,r,a){if(!i)return r(null);a||(a={});var o=t.parsePointsAttribute(i.getAttribute("points")),s=t.parseAttributes(i,t[e].ATTRIBUTE_NAMES);s.fromSVG=!0,r(new t[e](o,n(s,a)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))},_renderDashedStroke:function(e){this.callSuper("_renderDashedStroke",e),e.closePath()}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){return t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,i=t.util.array.max,r=t.util.object.extend,a=Object.prototype.toString,o=t.util.drawArc,s=t.util.toFixed,l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,n){n=n||{},this.callSuper("initialize",n),e||(e=[]);var i="[object Array]"===a.call(e);this.path=i?e:e.match&&e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(i||(this.path=this._parsePath()),t.Polyline.prototype._setPositionDimensions.call(this,n))},_renderPathCommands:function(e){var t,n,i,r=null,a=0,s=0,l=0,c=0,u=0,d=0,h=-this.pathOffset.x,p=-this.pathOffset.y;e.beginPath();for(var f=0,m=this.path.length;f<m;++f){switch((t=this.path[f])[0]){case"l":l+=t[1],c+=t[2],e.lineTo(l+h,c+p);break;case"L":l=t[1],c=t[2],e.lineTo(l+h,c+p);break;case"h":l+=t[1],e.lineTo(l+h,c+p);break;case"H":l=t[1],e.lineTo(l+h,c+p);break;case"v":c+=t[1],e.lineTo(l+h,c+p);break;case"V":c=t[1],e.lineTo(l+h,c+p);break;case"m":a=l+=t[1],s=c+=t[2],e.moveTo(l+h,c+p);break;case"M":a=l=t[1],s=c=t[2],e.moveTo(l+h,c+p);break;case"c":n=l+t[5],i=c+t[6],u=l+t[3],d=c+t[4],e.bezierCurveTo(l+t[1]+h,c+t[2]+p,u+h,d+p,n+h,i+p),l=n,c=i;break;case"C":l=t[5],c=t[6],u=t[3],d=t[4],e.bezierCurveTo(t[1]+h,t[2]+p,u+h,d+p,l+h,c+p);break;case"s":n=l+t[3],i=c+t[4],null===r[0].match(/[CcSs]/)?(u=l,d=c):(u=2*l-u,d=2*c-d),e.bezierCurveTo(u+h,d+p,l+t[1]+h,c+t[2]+p,n+h,i+p),u=l+t[1],d=c+t[2],l=n,c=i;break;case"S":n=t[3],i=t[4],null===r[0].match(/[CcSs]/)?(u=l,d=c):(u=2*l-u,d=2*c-d),e.bezierCurveTo(u+h,d+p,t[1]+h,t[2]+p,n+h,i+p),l=n,c=i,u=t[1],d=t[2];break;case"q":n=l+t[3],i=c+t[4],u=l+t[1],d=c+t[2],e.quadraticCurveTo(u+h,d+p,n+h,i+p),l=n,c=i;break;case"Q":n=t[3],i=t[4],e.quadraticCurveTo(t[1]+h,t[2]+p,n+h,i+p),l=n,c=i,u=t[1],d=t[2];break;case"t":n=l+t[1],i=c+t[2],null===r[0].match(/[QqTt]/)?(u=l,d=c):(u=2*l-u,d=2*c-d),e.quadraticCurveTo(u+h,d+p,n+h,i+p),l=n,c=i;break;case"T":n=t[1],i=t[2],null===r[0].match(/[QqTt]/)?(u=l,d=c):(u=2*l-u,d=2*c-d),e.quadraticCurveTo(u+h,d+p,n+h,i+p),l=n,c=i;break;case"a":o(e,l+h,c+p,[t[1],t[2],t[3],t[4],t[5],t[6]+l+h,t[7]+c+p]),l+=t[6],c+=t[7];break;case"A":o(e,l+h,c+p,[t[1],t[2],t[3],t[4],t[5],t[6]+h,t[7]+p]),l=t[6],c=t[7];break;case"z":case"Z":l=a,c=s,e.closePath()}r=t}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return r(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(e){return e.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,e)+", "+s(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_parsePath:function(){for(var e,n,i,r,a,o=[],s=[],u=t.rePathCommand,d=0,h=this.path.length;d<h;d++){for(r=(e=this.path[d]).slice(1).trim(),s.length=0;i=u.exec(r);)s.push(i[0]);a=[e.charAt(0)];for(var p=0,f=s.length;p<f;p++)n=parseFloat(s[p]),isNaN(n)||a.push(n);var m=a[0],g=l[m.toLowerCase()],v=c[m]||m;if(a.length-1>g)for(var y=1,b=a.length;y<b;y+=g)o.push([m].concat(a.slice(y,y+g))),m=v;else o.push(a)}return o},_calcDimensions:function(){for(var e,r,a,o,s=[],l=[],c=null,u=0,d=0,h=0,p=0,f=0,m=0,g=0,v=this.path.length;g<v;++g){switch((e=this.path[g])[0]){case"l":h+=e[1],p+=e[2],o=[];break;case"L":h=e[1],p=e[2],o=[];break;case"h":h+=e[1],o=[];break;case"H":h=e[1],o=[];break;case"v":p+=e[1],o=[];break;case"V":p=e[1],o=[];break;case"m":u=h+=e[1],d=p+=e[2],o=[];break;case"M":u=h=e[1],d=p=e[2],o=[];break;case"c":r=h+e[5],a=p+e[6],f=h+e[3],m=p+e[4],o=t.util.getBoundsOfCurve(h,p,h+e[1],p+e[2],f,m,r,a),h=r,p=a;break;case"C":f=e[3],m=e[4],o=t.util.getBoundsOfCurve(h,p,e[1],e[2],f,m,e[5],e[6]),h=e[5],p=e[6];break;case"s":r=h+e[3],a=p+e[4],null===c[0].match(/[CcSs]/)?(f=h,m=p):(f=2*h-f,m=2*p-m),o=t.util.getBoundsOfCurve(h,p,f,m,h+e[1],p+e[2],r,a),f=h+e[1],m=p+e[2],h=r,p=a;break;case"S":r=e[3],a=e[4],null===c[0].match(/[CcSs]/)?(f=h,m=p):(f=2*h-f,m=2*p-m),o=t.util.getBoundsOfCurve(h,p,f,m,e[1],e[2],r,a),h=r,p=a,f=e[1],m=e[2];break;case"q":r=h+e[3],a=p+e[4],f=h+e[1],m=p+e[2],o=t.util.getBoundsOfCurve(h,p,f,m,f,m,r,a),h=r,p=a;break;case"Q":f=e[1],m=e[2],o=t.util.getBoundsOfCurve(h,p,f,m,f,m,e[3],e[4]),h=e[3],p=e[4];break;case"t":r=h+e[1],a=p+e[2],null===c[0].match(/[QqTt]/)?(f=h,m=p):(f=2*h-f,m=2*p-m),o=t.util.getBoundsOfCurve(h,p,f,m,f,m,r,a),h=r,p=a;break;case"T":r=e[1],a=e[2],null===c[0].match(/[QqTt]/)?(f=h,m=p):(f=2*h-f,m=2*p-m),o=t.util.getBoundsOfCurve(h,p,f,m,f,m,r,a),h=r,p=a;break;case"a":o=t.util.getBoundsOfArc(h,p,e[1],e[2],e[3],e[4],e[5],e[6]+h,e[7]+p),h+=e[6],p+=e[7];break;case"A":o=t.util.getBoundsOfArc(h,p,e[1],e[2],e[3],e[4],e[5],e[6],e[7]),h=e[6],p=e[7];break;case"z":case"Z":h=u,p=d}c=e,o.forEach((function(e){s.push(e.x),l.push(e.y)})),s.push(h),l.push(p)}var y=n(s)||0,b=n(l)||0;return{left:y,top:b,width:(i(s)||0)-y,height:(i(l)||0)-b}}}),t.Path.fromObject=function(e,n){if("string"==typeof e.sourcePath){var i=e.sourcePath;t.loadSVGFromURL(i,(function(t){var i=t[0];i.setOptions(e),n&&n(i)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,i){var a=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);a.fromSVG=!0,n(new t.Path(a.d,r(a,i)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,i=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;if(n)this._updateObjectsACoords();else{var r=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(true,true)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,i=e.top;e.set({left:n-t.x,top:i-t.y}),e.group=this,e.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var i=this._objects.length;if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(e,n);if("canvas"===e)for(;i--;)this._objects[i]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,i=this._objects.map((function(t){var i=t.includeDefaultValues;t.includeDefaultValues=n;var r=t.toObject(e);return t.includeDefaultValues=i,r})),r=t.Object.prototype.toObject.call(this,e);return r.objects=i,r},toDatalessObject:function(e){var n,i=this.sourcePath;if(i)n=i;else{var r=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=r;var i=t.toDatalessObject(e);return t.includeDefaultValues=n,i}))}var a=t.Object.prototype.toDatalessObject.call(this,e);return a.objects=n,a},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,i=this._objects.length;n<i;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(t.Object.prototype.willDrawShadow.call(this))return!0;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var i=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-i/2,-r/2,i,r)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(e){var n=e.calcTransformMatrix(),i=t.util.qrDecompose(n),r=new t.Point(i.translateX,i.translateY);return e.flipX=!1,e.flipY=!1,e.set("scaleX",i.scaleX),e.set("scaleY",i.scaleY),e.skewX=i.skewX,e.skewY=i.skewY,e.angle=i.angle,e.setPositionByOrigin(r,"center","center"),e},_restoreObjectState:function(e){return this.realizeTransform(e),e.setCoords(),delete e.group,this},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var r=new t.ActiveSelection([]);return r.set(i),r.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=r,e.dirty=!0,n.add(e)})),r.canvas=n,r._objects=e,n._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(true,true)})),this},_calcBounds:function(e){for(var t,n,i,r=[],a=[],o=["tr","br","bl","tl"],s=0,l=this._objects.length,c=o.length;s<l;++s)for((t=this._objects[s]).setCoords(true),i=0;i<c;i++)n=o[i],r.push(t.oCoords[n].x),a.push(t.oCoords[n].y);this._getBounds(r,a,e)},_getBounds:function(e,r,a){var o=new t.Point(n(e),n(r)),s=new t.Point(i(e),i(r)),l=o.y||0,c=o.x||0,u=s.x-o.x||0,d=s.y-o.y||0;this.width=u,this.height=d,a||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,i=this._objects.length;n<i;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,i=this._objects.length;n<i;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var i=e.objects,r=t.util.object.clone(e,!0);delete r.objects,"string"!=typeof i?t.util.enlivenObjects(i,(function(i){t.util.enlivenObjects([e.clipPath],(function(r){var a=t.util.object.clone(e,!0);a.clipPath=r[0],delete a.objects,n&&n(new t.Group(i,a,!0))}))})):t.loadSVGFromURL(i,(function(a){var o=t.util.groupSVGElements(a,e,i);o.set(r),n&&n(o)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),i=new t.Group([]);if(delete n.type,i.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=i})),i._objects=e,!this.canvas)return i;var r=this.canvas;return r.add(i),r._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),void 0===(n=n||{}).hasControls&&(n.hasControls=!1),void 0===n.hasRotatingPoint&&(n.hasRotatingPoint=!1),n.forActiveSelection=!0;for(var i=0,r=this._objects.length;i<r;i++)this._objects[i]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(i){delete e.objects,n&&n(new t.ActiveSelection(i,e,!0))}))})}(t),function(e){"use strict";var t=E.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?E.warn("fabric.Image is already defined."):(E.Image=E.util.createClass(E.Object,{type:"image",crossOrigin:"",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:E.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+E.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=E.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){E.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},setCrossOrigin:function(e){return this.crossOrigin=e,this._element.crossOrigin=e,this},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},_renderDashedStroke:function(e){var t=-this.width/2,n=-this.height/2,i=this.width,r=this.height;e.save(),this._setStrokeStyles(e,this),e.beginPath(),E.util.drawDashedLine(e,t,n,t+i,n,this.strokeDashArray),E.util.drawDashedLine(e,t+i,n,t+i,n+r,this.strokeDashArray),E.util.drawDashedLine(e,t+i,n+r,t,n+r,this.strokeDashArray),E.util.drawDashedLine(e,t,n+r,t,n,this.strokeDashArray),e.closePath(),e.restore()},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var i=t(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(e)),{src:this.getSrc(),filters:n});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],i=-this.width/2,r=-this.height/2,a="";if(this.hasCrop()){var o=E.Object.__uid++;t.push('<clipPath id="imageCrop_'+o+'">\n','\t<rect x="'+i+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+o+')" '}if(n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',i-this.cropX,'" y="',r-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',a,"></image>\n"),this.stroke||this.strokeDashArray){var s=this.fill;this.fill=null,e=["\t<rect ",'x="',i,'" y="',r,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=s}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return E.util.loadImage(e,(function(e){this.setElement(e,n),this._setWidthHeight(),t&&t(this)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.scaleX,r=n.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>t&&r>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=r);E.filterBackend||(E.filterBackend=E.initFilterBackend());var o=E.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,l=a.width,c=a.height;o.width=l,o.height=c,this._element=o,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=r,E.filterBackend.applyFilters([e],a,l,c,this._element,s),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,i=t.naturalHeight||t.height;if(this._element===this._originalElement){var r=E.util.createCanvasElement();r.width=n,r.height=i,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1;return E.filterBackend||(E.filterBackend=E.initFilterBackend()),E.filterBackend.applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element;if(t){var n=this._filterScalingX,i=this._filterScalingY,r=this.width,a=this.height,o=Math.min,s=Math.max,l=s(this.cropX,0),c=s(this.cropY,0),u=t.naturalWidth||t.width,d=t.naturalHeight||t.height,h=l*n,p=c*i,f=o(r*n,u-h),m=o(a*i,d-p),g=-r/2,v=-a/2,y=o(r,u/n-l),b=o(a,d/n-c);t&&e.drawImage(t,h,p,f,m,g,v,y,b)}},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(E.util.getById(e),t),E.util.addClass(this.getElement(),E.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(e,t){e&&e.length?E.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=E.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,i=this._element.height,r=1,a=1,o=0,s=0,l=0,c=0,u=this.width,d=this.height,h={width:u,height:d};return!t||"none"===t.alignX&&"none"===t.alignY?(r=u/n,a=d/i):("meet"===t.meetOrSlice&&(e=(u-n*(r=a=E.util.findScaleToFit(this._element,h)))/2,"Min"===t.alignX&&(o=-e),"Max"===t.alignX&&(o=e),e=(d-i*a)/2,"Min"===t.alignY&&(s=-e),"Max"===t.alignY&&(s=e)),"slice"===t.meetOrSlice&&(e=n-u/(r=a=E.util.findScaleToCover(this._element,h)),"Mid"===t.alignX&&(l=e/2),"Max"===t.alignX&&(l=e),e=i-d/a,"Mid"===t.alignY&&(c=e/2),"Max"===t.alignY&&(c=e),n=u/r,i=d/a)),{width:n,height:i,scaleX:r,scaleY:a,offsetLeft:o,offsetTop:s,cropX:l,cropY:c}}}),E.Image.CSS_CANVAS="canvas-img",E.Image.prototype.getSvgSrc=E.Image.prototype.getSrc,E.Image.fromObject=function(e,t){var n=E.util.object.clone(e);E.util.loadImage(n.src,(function(e,i){i?t&&t(null,i):E.Image.prototype._initFilters.call(n,n.filters,(function(i){n.filters=i||[],E.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(i){n.resizeFilter=i[0],E.util.enlivenObjects([n.clipPath],(function(i){n.clipPath=i[0];var r=new E.Image(e,n);t(r)}))}))}))}),null,n.crossOrigin)},E.Image.fromURL=function(e,t,n){E.util.loadImage(e,(function(e){t&&t(new E.Image(e,n))}),null,n&&n.crossOrigin)},E.Image.ATTRIBUTE_NAMES=E.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),E.Image.fromElement=function(e,n,i){var r=E.parseAttributes(e,E.Image.ATTRIBUTE_NAMES);E.Image.fromURL(r["xlink:href"],n,t(i?E.util.object.clone(i):{},r))})}(t),E.util.object.extend(E.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,i=e.onChange||t,r=this;return E.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){r.rotate(e),i()},onComplete:function(){r.setCoords(),n()}}),this}}),E.util.object.extend(E.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}E.isWebglSupported=function(t){if(E.isLikelyNode)return!1;t=t||E.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),i=n.getContext("webgl")||n.getContext("experimental-webgl"),r=!1;if(i){E.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),r=E.maxTextureSize>=t;for(var a=["highp","mediump","lowp"],o=0;o<3;o++)if(e(i,a[o])){E.webGlPrecision=a[o];break}}return this.isSupported=r,r},E.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,i=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(e){n=!1}var r="undefined"!=typeof ArrayBuffer,a="undefined"!=typeof Uint8ClampedArray;if(i&&n&&r&&a){var o=E.util.createCanvasElement(),s=new ArrayBuffer(e*t*4);if(E.forceGLPutImageData)return this.imageBuffer=s,void(this.copyGLTo2D=T);var l,c,u={imageBuffer:s,destinationWidth:e,destinationHeight:t,targetCanvas:o};o.width=e,o.height=t,l=window.performance.now(),S.call(u,this.gl,u),c=window.performance.now()-l,l=window.performance.now(),T.call(u,this.gl,u),c>window.performance.now()-l?(this.imageBuffer=s,this.copyGLTo2D=T):this.copyGLTo2D=S}},createWebGLCanvas:function(e,t){var n=E.util.createCanvasElement();n.width=e,n.height=t;var i={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=n.getContext("webgl",i);r||(r=n.getContext("experimental-webgl",i)),r&&(r.clearColor(0,0,0,0),this.canvas=n,this.gl=r)},applyFilters:function(e,t,n,i,r,a){var o,s=this.gl;a&&(o=this.getCachedTexture(a,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:s,sourceTexture:this.createTexture(s,n,i,!o&&t),targetTexture:this.createTexture(s,n,i),originalTexture:o||this.createTexture(s,n,i,!o&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,i=t.height,r=e.destinationWidth,a=e.destinationHeight;n===r&&i===a||(t.width=r,t.height=a)}(l),this.copyGLTo2D(s,l),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(l.sourceTexture),s.deleteTexture(l.targetTexture),s.deleteFramebuffer(c),r.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,i){var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),r},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:S,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),r=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(t.renderer=i.toLowerCase()),r&&(t.vendor=r.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}E.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,i,r){var a=r.getContext("2d");a.drawImage(t,0,0,n,i);var o={sourceWidth:n,sourceHeight:i,imageData:a.getImageData(0,0,n,i),originalEl:t,originalImageData:a.getImageData(0,0,n,i),canvasEl:r,ctx:a,filterBackend:this};return e.forEach((function(e){e.applyTo(o)})),o.imageData.width===n&&o.imageData.height===i||(r.width=o.imageData.width,r.height=o.imageData.height),a.putImageData(o.imageData,0,0),o}}}(),E.Image=E.Image||{},E.Image.filters=E.Image.filters||{},E.Image.filters.BaseFilter=E.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==E.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+E.webGlPrecision+" float"));var i=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(i));var r=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(r));var a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,r),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(a));var o=this.getAttributeLocations(e,a),s=this.getUniformLocations(e,a)||{};return s.uStepW=e.getUniformLocation(a,"uStepW"),s.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:o,uniformLocations:s}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var i=t.aPosition,r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,i=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(i.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(i,t,n)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=E.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),E.Image.filters.BaseFilter.fromObject=function(e,t){var n=new E.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.ColorMatrix=i(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,i,r,a,o=e.imageData.data,s=o.length,l=this.matrix,c=this.colorsOnly;for(a=0;a<s;a+=4)t=o[a],n=o[a+1],i=o[a+2],c?(o[a]=t*l[0]+n*l[1]+i*l[2]+255*l[4],o[a+1]=t*l[5]+n*l[6]+i*l[7]+255*l[9],o[a+2]=t*l[10]+n*l[11]+i*l[12]+255*l[14]):(r=o[a+3],o[a]=t*l[0]+n*l[1]+i*l[2]+r*l[3]+255*l[4],o[a+1]=t*l[5]+n*l[6]+i*l[7]+r*l[8]+255*l[9],o[a+2]=t*l[10]+n*l[11]+i*l[12]+r*l[13]+255*l[14],o[a+3]=t*l[15]+n*l[16]+i*l[17]+r*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],r=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,i),e.uniform4fv(t.uConstants,r)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Brightness=i(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,i=n.length,r=Math.round(255*this.brightness);for(t=0;t<i;t+=4)n[t]=n[t]+r,n[t+1]=n[t+1]+r,n[t+2]=n[t+2]+r}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.Convolute=r(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),i=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,i)),e.programCache[n]},applyTo2d:function(e){var t,n,i,r,a,o,s,l,c,u,d,h,p,f=e.imageData,m=f.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),y=Math.floor(v/2),b=f.width,_=f.height,w=e.ctx.createImageData(b,_),k=w.data,x=this.opaque?1:0;for(d=0;d<_;d++)for(u=0;u<b;u++){for(a=4*(d*b+u),t=0,n=0,i=0,r=0,p=0;p<v;p++)for(h=0;h<v;h++)o=u+h-y,(s=d+p-y)<0||s>=_||o<0||o>=b||(l=4*(s*b+o),c=g[p*v+h],t+=m[l]*c,n+=m[l+1]*c,i+=m[l+2]*c,x||(r+=m[l+3]*c));k[a]=t,k[a+1]=n,k[a+2]=i,k[a+3]=x?m[a+3]:r}e.imageData=w},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Grayscale=i(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,i=e.imageData.data,r=i.length,a=this.mode;for(t=0;t<r;t+=4)"average"===a?n=(i[t]+i[t+1]+i[t+2])/3:"lightness"===a?n=(Math.min(i[t],i[t+1],i[t+2])+Math.max(i[t],i[t+1],i[t+2]))/2:"luminosity"===a&&(n=.21*i[t]+.72*i[t+1]+.07*i[t+2]),i[t]=n,i[t+1]=n,i[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Invert=i(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,i=n.length;for(t=0;t<i;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.Noise=r(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,i=e.imageData.data,r=i.length,a=this.noise;for(t=0,r=i.length;t<r;t+=4)n=(.5-Math.random())*a,i[t]+=n,i[t+1]+=n,i[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Pixelate=i(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,i,r,a,o,s,l,c,u,d,h=e.imageData,p=h.data,f=h.height,m=h.width;for(n=0;n<f;n+=this.blocksize)for(i=0;i<m;i+=this.blocksize)for(r=p[t=4*n*m+4*i],a=p[t+1],o=p[t+2],s=p[t+3],u=Math.min(n+this.blocksize,f),d=Math.min(i+this.blocksize,m),l=n;l<u;l++)for(c=i;c<d;c++)p[t=4*l*m+4*c]=r,p[t+1]=a,p[t+2]=o,p[t+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.RemoveColor=r(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,i,r,a,o=e.imageData.data,s=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-s,l[1]-s,l[2]-s],u=[l[0]+s,l[1]+s,l[2]+s];for(n=0;n<o.length;n+=4)i=o[n],r=o[n+1],a=o[n+2],i>c[0]&&r>c[1]&&a>c[2]&&i<u[0]&&r<u[1]&&a<u[2]&&(o[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var i=new t.Color(this.color).getSource(),r=parseFloat(this.distance),a=[0+i[0]/255-r,0+i[1]/255-r,0+i[2]/255-r,1],o=[i[0]/255+r,i[1]/255+r,i[2]/255+r,1];e.uniform4fv(n.uLow,a),e.uniform4fv(n.uHigh,o)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in r)n[a]=i(n.ColorMatrix,{type:a,matrix:r[a],mainParameter:!1,colorsOnly:!0}),t.Image.filters[a].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,i=t.util.createClass;n.BlendColor=i(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,i,r,a,o,s,l,c=e.imageData.data,u=c.length,d=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,i=l[1]*this.alpha,r=l[2]*this.alpha;for(var h=0;h<u;h+=4)switch(a=c[h],o=c[h+1],s=c[h+2],this.mode){case"multiply":c[h]=a*n/255,c[h+1]=o*i/255,c[h+2]=s*r/255;break;case"screen":c[h]=255-(255-a)*(255-n)/255,c[h+1]=255-(255-o)*(255-i)/255,c[h+2]=255-(255-s)*(255-r)/255;break;case"add":c[h]=a+n,c[h+1]=o+i,c[h+2]=s+r;break;case"diff":case"difference":c[h]=Math.abs(a-n),c[h+1]=Math.abs(o-i),c[h+2]=Math.abs(s-r);break;case"subtract":c[h]=a-n,c[h+1]=o-i,c[h+2]=s-r;break;case"darken":c[h]=Math.min(a,n),c[h+1]=Math.min(o,i),c[h+2]=Math.min(s,r);break;case"lighten":c[h]=Math.max(a,n),c[h+1]=Math.max(o,i),c[h+2]=Math.max(s,r);break;case"overlay":c[h]=n<128?2*a*n/255:255-2*(255-a)*(255-n)/255,c[h+1]=i<128?2*o*i/255:255-2*(255-o)*(255-i)/255,c[h+2]=r<128?2*s*r/255:255-2*(255-s)*(255-r)/255;break;case"exclusion":c[h]=n+a-2*n*a/255,c[h+1]=i+o-2*i*o/255,c[h+2]=r+s-2*r*s/255;break;case"tint":c[h]=n+a*d,c[h+1]=i+o*d,c[h+2]=r+s*d}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var i=new t.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,e.uniform4fv(n.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,i=t.util.createClass;n.BlendImage=i(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,i,r,a,o,s,l,c,u,d,h,p=e.imageData,f=e.filterBackend.resources,m=p.data,g=m.length,v=p.width,y=p.height,b=this.image;f.blendImage||(f.blendImage=t.util.createCanvasElement()),d=(u=f.blendImage).getContext("2d"),u.width!==v||u.height!==y?(u.width=v,u.height=y):d.clearRect(0,0,v,y),d.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),d.drawImage(b._element,0,0,v,y),h=d.getImageData(0,0,v,y).data;for(var _=0;_<g;_+=4)switch(o=m[_],s=m[_+1],l=m[_+2],c=m[_+3],n=h[_],i=h[_+1],r=h[_+2],a=h[_+3],this.mode){case"multiply":m[_]=o*n/255,m[_+1]=s*i/255,m[_+2]=l*r/255,m[_+3]=c*a/255;break;case"mask":m[_+3]=a}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(i){var r=t.util.object.clone(e);r.image=i,n(new t.Image.filters.BlendImage(r))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,i=Math.floor,r=Math.sqrt,a=Math.abs,o=Math.round,s=Math.sin,l=Math.ceil,c=t.Image.filters,u=t.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var i=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,i)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),i=new Array(n),r=1;r<=n;r++)i[r-1]=e(r*t);return i},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,i=1;i<=e;i++)t[i-1]=i+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return s(t)/t*s(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;var r,a=t.width,s=t.height,l=o(a*n),c=o(s*i);"sliceHack"===this.resizeType?r=this.sliceByTwo(e,a,s,l,c):"hermite"===this.resizeType?r=this.hermiteFastResize(e,a,s,l,c):"bilinear"===this.resizeType?r=this.bilinearFiltering(e,a,s,l,c):"lanczos"===this.resizeType&&(r=this.lanczosResize(e,a,s,l,c)),e.imageData=r},sliceByTwo:function(e,n,r,a,o){var s,l,c=e.imageData,u=.5,d=!1,h=!1,p=n*u,f=r*u,m=t.filterBackend.resources,g=0,v=0,y=n,b=0;for(m.sliceByTwo||(m.sliceByTwo=document.createElement("canvas")),((s=m.sliceByTwo).width<1.5*n||s.height<r)&&(s.width=1.5*n,s.height=r),(l=s.getContext("2d")).clearRect(0,0,1.5*n,r),l.putImageData(c,0,0),a=i(a),o=i(o);!d||!h;)n=p,r=f,a<i(p*u)?p=i(p*u):(p=a,d=!0),o<i(f*u)?f=i(f*u):(f=o,h=!0),l.drawImage(s,g,v,n,r,y,b,p,f),g=y,v=b,b+=f;return l.getImageData(g,v,a,o)},lanczosResize:function(e,t,o,s,c){var u=e.imageData.data,d=e.ctx.createImageData(s,c),h=d.data,p=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,y=l(f*this.lanczosLobes/2),b=l(m*this.lanczosLobes/2),_={},w={},k={};return function e(l){var x,E,C,S,T,D,F,M,A,I,O;for(w.x=(l+.5)*f,k.x=i(w.x),x=0;x<c;x++){for(w.y=(x+.5)*m,k.y=i(w.y),T=0,D=0,F=0,M=0,A=0,E=k.x-y;E<=k.x+y;E++)if(!(E<0||E>=t)){I=i(1e3*a(E-w.x)),_[I]||(_[I]={});for(var N=k.y-b;N<=k.y+b;N++)N<0||N>=o||(O=i(1e3*a(N-w.y)),_[I][O]||(_[I][O]=p(r(n(I*g,2)+n(O*v,2))/1e3)),(C=_[I][O])>0&&(T+=C,D+=C*u[S=4*(N*t+E)],F+=C*u[S+1],M+=C*u[S+2],A+=C*u[S+3]))}h[S=4*(x*s+l)]=D/T,h[S+1]=F/T,h[S+2]=M/T,h[S+3]=A/T}return++l<s?e(l):d}(0)},bilinearFiltering:function(e,t,n,r,a){var o,s,l,c,u,d,h,p,f,m=0,g=this.rcpScaleX,v=this.rcpScaleY,y=4*(t-1),b=e.imageData.data,_=e.ctx.createImageData(r,a),w=_.data;for(l=0;l<a;l++)for(c=0;c<r;c++)for(u=g*c-(o=i(g*c)),d=v*l-(s=i(v*l)),f=4*(s*t+o),h=0;h<4;h++)p=b[f+h]*(1-u)*(1-d)+b[f+4+h]*u*(1-d)+b[f+y+h]*d*(1-u)+b[f+y+4+h]*u*d,w[m++]=p;return _},hermiteFastResize:function(e,t,n,o,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,d=l(c/2),h=l(u/2),p=e.imageData.data,f=e.ctx.createImageData(o,s),m=f.data,g=0;g<s;g++)for(var v=0;v<o;v++){for(var y=4*(v+g*o),b=0,_=0,w=0,k=0,x=0,E=0,C=0,S=(g+.5)*u,T=i(g*u);T<(g+1)*u;T++)for(var D=a(S-(T+.5))/h,F=(v+.5)*c,M=D*D,A=i(v*c);A<(v+1)*c;A++){var I=a(F-(A+.5))/d,O=r(M+I*I);O>1&&O<-1||(b=2*O*O*O-3*O*O+1)>0&&(C+=b*p[(I=4*(A+T*t))+3],w+=b,p[I+3]<255&&(b=b*p[I+3]/250),k+=b*p[I],x+=b*p[I+1],E+=b*p[I+2],_+=b)}m[y]=k/_,m[y+1]=x/_,m[y+2]=E/_,m[y+3]=C/w}return f},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Contrast=i(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,i=n.length,r=Math.floor(255*this.contrast),a=259*(r+255)/(255*(259-r));for(t=0;t<i;t+=4)n[t]=a*(n[t]-128)+128,n[t+1]=a*(n[t+1]-128)+128,n[t+2]=a*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Saturation=i(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,i=e.imageData.data,r=i.length,a=-this.saturation;for(t=0;t<r;t+=4)n=Math.max(i[t],i[t+1],i[t+2]),i[t]+=n!==i[t]?(n-i[t])*a:0,i[t+1]+=n!==i[t+1]?(n-i[t+1])*a:0,i[t+2]+=n!==i[t+2]?(n-i[t+2])*a:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Blur=i(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,i,r=e.filterBackend.resources,a=e.imageData.width,o=e.imageData.height;r.blurLayer1||(r.blurLayer1=t.util.createCanvasElement(),r.blurLayer2=t.util.createCanvasElement()),n=r.blurLayer1,i=r.blurLayer2,n.width===a&&n.height===o||(i.width=n.width=a,i.height=n.height=o);var s,l,c,u,d=n.getContext("2d"),h=i.getContext("2d"),p=15,f=.06*this.blur*.5;for(d.putImageData(e.imageData,0,0),h.clearRect(0,0,a,o),u=-15;u<=p;u++)c=f*(l=u/p)*a+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,c,s),d.drawImage(i,0,0),h.globalAlpha=1,h.clearRect(0,0,i.width,i.height);for(u=-15;u<=p;u++)c=f*(l=u/p)*o+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,s,c),d.drawImage(i,0,0),h.globalAlpha=1,h.clearRect(0,0,i.width,i.height);e.ctx.drawImage(n,0,0);var m=e.ctx.getImageData(0,0,n.width,n.height);return d.globalAlpha=1,d.clearRect(0,0,n.width,n.height),m},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Gamma=i(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,i=this.gamma,r=n.length,a=1/i[0],o=1/i[1],s=1/i[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,r=256;t<r;t++)this.rVals[t]=255*Math.pow(t/255,a),this.gVals[t]=255*Math.pow(t/255,o),this.bVals[t]=255*Math.pow(t/255,s);for(t=0,r=n.length;t<r;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Composed=i(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var i=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),r=new t.Image.filters.Composed({subFilters:i});return n&&n(r),r}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.HueRotation=i(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),i=t.util.sin(e),r=1/3,a=Math.sqrt(r)*i,o=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+o/3,this.matrix[1]=r*o-a,this.matrix[2]=r*o+a,this.matrix[5]=r*o+a,this.matrix[6]=n+r*o,this.matrix[7]=r*o-a,this.matrix[10]=r*o-a,this.matrix[11]=r*o+a,this.matrix[12]=n+r*o},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;t.Text?t.warn("fabric.Text is already defined"):(t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:t.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,i,r,a,o,s=0,l=this._textLines.length;s<l;s++)if(("justify"===this.textAlign||s!==l-1&&!this.isEndOfWrapping(s))&&(i=0,r=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(o=this.textLines[s].match(this._reSpacesAndTabs)))){n=o.length,e=(this.width-t)/n;for(var c=0,u=r.length;c<=u;c++)a=this.__charBounds[s][c],this._reSpaceAndTab.test(r[c])?(a.width+=e,a.kernedWidth+=e,a.left+=i,i+=e):a.left+=i}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){e.textBaseline="alphabetic",e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var i=this.getLineWidth(t);i>e&&(e=i)}return e},_renderTextLine:function(e,t,n,i,r,a){this._renderChars(e,t,n,i,r,a)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,i,r,a,o,s=0,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),d=0,h=0,p=0,f=this._textLines.length;p<f;p++)if(t=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){i=this._textLines[p],n=this._getLineLeftOffset(p),h=0,d=0,r=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var m=0,g=i.length;m<g;m++)a=this.__charBounds[p][m],(o=this.getValueOfPropertyAt(p,m,"textBackgroundColor"))!==r?(e.fillStyle=r,r&&e.fillRect(c+n+d,u+s,h,t/this.lineHeight),d=a.left,h=a.width,r=o):h+=a.kernedWidth;o&&(e.fillStyle=o,e.fillRect(c+n+d,u+s,h,t/this.lineHeight)),s+=t}else s+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var i=t.charWidthsCache[n],r=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return i[r]||(i[r]={}),i[r]},_applyCharStyles:function(e,t,n,i,r){this._setFillStyles(t,r),this._setStrokeStyles(t,r),t.font=this._getFontDeclaration(r)},_measureChar:function(e,t,n,i){var r,a,o,s,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(i),d=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(o=l[n]),void 0!==l[e]&&(s=r=l[e]),u&&void 0!==l[c]&&(s=(a=l[c])-o),void 0===r||void 0===o||void 0===a){var h=this.getMeasuringContext();this._setTextStyles(h,t,!0)}return void 0===r&&(s=r=h.measureText(e).width,l[e]=r),void 0===o&&u&&n&&(o=h.measureText(n).width,l[n]=o),u&&void 0===a&&(a=h.measureText(c).width,l[c]=a,s=a-o),{width:r*d,kernedWidth:s*d}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var t,n,i,r,a=0,o=this._textLines[e],s=new Array(o.length);for(this.__charBounds[e]=s,t=0;t<o.length;t++)n=o[t],r=this._getGraphemeBox(n,e,t,i),s[t]=r,a+=r.kernedWidth,i=n;return s[t]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:a,numOfSpaces:0}},_getGraphemeBox:function(e,t,n,i,r){var a,o=this.getCompleteStyleDeclaration(t,n),s=i?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,o,i,s),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=a=this._getWidthOfCharSpacing(),c+=a);var d={width:u,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(n>0&&!r){var h=this.__charBounds[t][n-1];d.left=h.left+h.width+l.kernedWidth-l.width}return d},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),i=1,r=t.length;i<r;i++)n=Math.max(this.getHeightOfChar(e,i),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,i=this._textLines.length;n<i;n++)e=this.getHeightOfLine(n),t+=n===i-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return e.transform(1,0,0,1,n,i),{offsetX:n,offsetY:i}},_renderTextCommon:function(e,t){e.save();for(var n=0,i=this._getLeftOffset(),r=this._getTopOffset(),a=this._applyPatternGradientTransform(e,"fillText"===t?this.fill:this.stroke),o=0,s=this._textLines.length;o<s;o++){var l=this.getHeightOfLine(o),c=l/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(t,e,this._textLines[o],i+u-a.offsetX,r+n+c-a.offsetY,o),n+=l}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,i,r,a){var o,s,l,c,u=this.getHeightOfLine(a),d=-1!==this.textAlign.indexOf("justify"),h="",p=0,f=!d&&0===this.charSpacing&&this.isEmptyStyles(a);if(t.save(),r-=u*this._fontSizeFraction/this.lineHeight,f)return this._renderChar(e,t,a,0,this.textLines[a],i,r,u),void t.restore();for(var m=0,g=n.length-1;m<=g;m++)c=m===g||this.charSpacing,h+=n[m],l=this.__charBounds[a][m],0===p?(i+=l.kernedWidth-l.width,p+=l.width):p+=l.kernedWidth,d&&!c&&this._reSpaceAndTab.test(n[m])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(a,m),s=this.getCompleteStyleDeclaration(a,m+1),c=this._hasStyleChanged(o,s)),c&&(this._renderChar(e,t,a,m,h,i,r,u),h="",o=s,i+=p,p=0);t.restore()},_renderChar:function(e,t,n,i,r,a,o){var s=this._getStyleDeclaration(n,i),l=this.getCompleteStyleDeclaration(n,i),c="fillText"===e&&l.fill,u="strokeText"===e&&l.stroke&&l.strokeWidth;(u||c)&&(s&&t.save(),this._applyCharStyles(e,t,n,i,l),s&&s.textBackgroundColor&&this._removeShadow(t),s&&s.deltaY&&(o+=s.deltaY),c&&t.fillText(r,a,o),u&&t.strokeText(r,a,o),s&&t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var i=this.get2DCursorLocation(e,!0),r=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),a=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),o={fontSize:r*n.size,deltaY:a+r*n.baseline};return this.setSelectionStyles(o,e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e);return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:"justify-center"===this.textAlign&&this.isEndOfWrapping(e)?(this.width-t)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(e)?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){return this.__lineWidths[e]?this.__lineWidths[e]:(t=""===this._textLines[e]?0:this.measureLine(e).width,this.__lineWidths[e]=t,t);var t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var i=this._getStyleDeclaration(e,t);return i&&void 0!==i[n]?i[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,i,r,a,o,s,l,c,u,d,h,p,f,m,g,v,y=this._getLeftOffset(),b=this._getTopOffset(),_=this._getWidthOfCharSpacing(),w=0,k=this._textLines.length;w<k;w++)if(n=this.getHeightOfLine(w),this[t]||this.styleHas(t,w)){l=this._textLines[w],m=n/this.lineHeight,a=this._getLineLeftOffset(w),d=0,h=0,c=this.getValueOfPropertyAt(w,0,t),v=this.getValueOfPropertyAt(w,0,"fill"),u=b+m*(1-this._fontSizeFraction),i=this.getHeightOfChar(w,0),o=this.getValueOfPropertyAt(w,0,"deltaY");for(var x=0,E=l.length;x<E;x++)p=this.__charBounds[w][x],f=this.getValueOfPropertyAt(w,x,t),g=this.getValueOfPropertyAt(w,x,"fill"),r=this.getHeightOfChar(w,x),s=this.getValueOfPropertyAt(w,x,"deltaY"),(f!==c||g!==v||r!==i||s!==o)&&h>0?(e.fillStyle=v,c&&v&&e.fillRect(y+a+d,u+this.offsets[t]*i+o,h,this.fontSize/15),d=p.left,h=p.width,c=f,v=g,i=r,o=s):h+=p.kernedWidth;e.fillStyle=g,f&&g&&e.fillRect(y+a+d,u+this.offsets[t]*i+o,h-_,this.fontSize/15),b+=n}else b+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var i=e||this,r=this.fontFamily,a=t.Text.genericFonts.indexOf(r.toLowerCase())>-1,o=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||a?i.fontFamily:'"'+i.fontFamily+'"';return[t.isLikelyNode?i.fontWeight:i.fontStyle,t.isLikelyNode?i.fontStyle:i.fontWeight,n?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",o].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),i=new Array(n.length),r=["\n"],a=[],o=0;o<n.length;o++)i[o]=t.util.string.graphemeSplit(n[o]),a=a.concat(i[o],r);return a.pop(),{_unwrappedLines:i,lines:n,graphemeText:a,graphemeLines:i}},toObject:function(e){var t=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(e),i=this.callSuper("toObject",t);return i.styles=n(this.styles,!0),i},set:function(e,t){this.callSuper("set",e,t);var n=!1;if("object"==typeof e)for(var i in e)n=n||-1!==this._dimensionAffectingProps.indexOf(i);else n=-1!==this._dimensionAffectingProps.indexOf(e);return n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,i,r){if(!e)return i(null);var a=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),o=a.textAnchor||"left";if((r=t.util.object.extend(r?n(r):{},a)).top=r.top||0,r.left=r.left||0,a.textDecoration){var s=a.textDecoration;-1!==s.indexOf("underline")&&(r.underline=!0),-1!==s.indexOf("overline")&&(r.overline=!0),-1!==s.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in a&&(r.left+=a.dx),"dy"in a&&(r.top+=a.dy),"fontSize"in r||(r.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=r.strokeWidth;r.strokeWidth=0;var u=new t.Text(l,r),d=u.getScaledHeight()/u.height,h=((u.height+u.strokeWidth)*u.lineHeight-u.height)*d,p=u.getScaledHeight()+h,f=0;"center"===o&&(f=u.getScaledWidth()/2),"right"===o&&(f=u.getScaledWidth()),u.set({left:u.left-f,top:u.top-(p-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:void 0!==c?c:1}),i(u)},t.Text.fromObject=function(e,n){return t.Object._fromObject("Text",e,n,"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text))}(t),E.util.object.extend(E.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;var t=void 0===e?this.styles:{line:this.styles[e]};for(var n in t)for(var i in t[n])for(var r in t[n][i])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if(void 0!==t&&!this.styles[t])return!1;var n=void 0===t?this.styles:{0:this.styles[t]};for(var i in n)for(var r in n[i])if(void 0!==n[i][r][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,i=this.styles,r=0,a=!0,o=0;for(var s in i){for(var l in t=0,i[s]){var c;r++,(c=i[s][l]).hasOwnProperty(e)?(n?c[e]!==n&&(a=!1):n=c[e],c[e]===this[e]&&delete c[e]):a=!1,0!==Object.keys(c).length?t++:delete i[s][l]}0===t&&delete i[s]}for(var u=0;u<this._textLines.length;u++)o+=this._textLines[u].length;a&&r===o&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,i,r=this.styles;for(n in r){for(i in t=r[n])delete t[i][e],0===Object.keys(t[i]).length&&delete t[i];0===Object.keys(t).length&&delete r[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),E.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){void 0===e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,i=n.length,r=0;r<i;r++){if(e<=n[r].length)return{lineIndex:r,charIndex:e};e-=n[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:n[r-1].length<e?n[r-1].length:e}},getSelectionStyles:function(e,t,n){void 0===e&&(e=this.selectionStart||0),void 0===t&&(t=this.selectionEnd||e);for(var i=[],r=e;r<t;r++)i.push(this.getStyleAtPosition(r,n));return i},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){void 0===t&&(t=this.selectionStart||0),void 0===n&&(n=this.selectionEnd||t);for(var i=t;i<n;i++)this._extendStyles(i,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,i=this._getStyleDeclaration(e,t)||{},r={},a=0;a<this._styleProperties.length;a++)r[n=this._styleProperties[a]]=void 0===i[n]?this[n]:i[n];return r},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}E.IText=E.util.createClass(E.Text,E.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){void 0===e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,i,r,a=0,o=0,s=this.get2DCursorLocation(e);i=s.charIndex,n=s.lineIndex;for(var l=0;l<n;l++)a+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][i];return c&&(o=c.left),0!==this.charSpacing&&i===this._textLines[n].length&&(o-=this._getWidthOfCharSpacing()),r={top:a,left:t+(o>0?o:0)},this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),i=n.lineIndex,r=n.charIndex>0?n.charIndex-1:0,a=this.getValueOfPropertyAt(i,r,"fontSize"),o=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/o,l=e.topOffset,c=this.getValueOfPropertyAt(i,r,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.getValueOfPropertyAt(i,r,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-s/2,l+e.top+c,s,a)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),a=this.get2DCursorLocation(n),o=this.get2DCursorLocation(i),s=a.lineIndex,l=o.lineIndex,c=a.charIndex<0?0:a.charIndex,u=o.charIndex<0?0:o.charIndex,d=s;d<=l;d++){var h,p=this._getLineLeftOffset(d)||0,f=this.getHeightOfLine(d),m=0,g=0;if(d===s&&(m=this.__charBounds[s][c].left),d>=s&&d<l)g=r&&!this.isEndOfWrapping(d)?this.width:this.getLineWidth(d)||5;else if(d===l)if(0===u)g=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}h=f,(this.lineHeight<1||d===l&&this.lineHeight>1)&&(f/=this.lineHeight),this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",t.fillRect(e.left+p+m,e.top+e.topOffset+f,g-m,1)):(t.fillStyle=this.selectionColor,t.fillRect(e.left+p+m,e.top+e.topOffset,g-m,f)),e.topOffset+=h}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),E.IText.fromObject=function(t,n){if(e(t),t.styles)for(var i in t.styles)for(var r in t.styles[i])e(t.styles[i][r]);E.Object._fromObject("IText",t,n,"text")}}(),w=E.util.object.clone,E.util.object.extend(E.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],E.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,i){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){r.isAborted||e[i]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,i=this._reSpace.test(n[e])?e-1:e,r=n[i],a=E.reNonWord;!a.test(r)&&i>0&&i<n.length;)r=n[i+=t];return a.test(r)&&(i+=1===t?0:1),i},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,i=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==i||n!==t&&i!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var i=n.slice(0,e),r=E.util.string.graphemeSplit(i).length;if(e===t)return{selectionStart:r,selectionEnd:r};var a=n.slice(e,t);return{selectionStart:r,selectionEnd:r+E.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(e,t,n){var i=n.slice(0,e).join("").length;return e===t?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,r=n.charIndex,a=this.getValueOfPropertyAt(i,r,"fontSize")*this.lineHeight,o=t.leftOffset,s=this.calcTransformMatrix(),l={x:t.left+o,y:t.top+t.topOffset+a},c=this.canvas.getRetinaScaling(),u=this.canvas.upperCanvasEl,d=u.width/c,h=u.height/c,p=d-a,f=h-a,m=u.clientWidth/d,g=u.clientHeight/h;return l=E.util.transformPoint(l,s),(l=E.util.transformPoint(l,this.canvas.viewportTransform)).x*=m,l.y*=g,l.x<0&&(l.x=0),l.x>p&&(l.x=p),l.y<0&&(l.y=0),l.y>f&&(l.y=f),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,i,r=this.get2DCursorLocation(e,!0),a=this.get2DCursorLocation(t,!0),o=r.lineIndex,s=r.charIndex,l=a.lineIndex,c=a.charIndex;if(o!==l){if(this.styles[o])for(n=s;n<this._unwrappedTextLines[o].length;n++)delete this.styles[o][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(i=this.styles[l][n])&&(this.styles[o]||(this.styles[o]={}),this.styles[o][s+n-c]=i);for(n=o+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,o-l)}else if(this.styles[o]){i=this.styles[o];var u,d,h=c-s;for(n=s;n<c;n++)delete i[n];for(d in this.styles[o])(u=parseInt(d,10))>=c&&(i[u-h]=i[d],delete i[d])}},shiftLineStyles:function(e,t){var n=w(this.styles);for(var i in this.styles){var r=parseInt(i,10);r>e&&(this.styles[r+t]=n[r],n[r-t]||delete this.styles[r])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,t,n,i){var r,a={},o=!1,s=this._unwrappedTextLines[e].length===t;for(var l in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(r=this.styles[e][0===t?t:t-1]),this.styles[e]){var c=parseInt(l,10);c>=t&&(o=!0,a[c-t]=this.styles[e][l],s&&0===t||delete this.styles[e][l])}var u=!1;for(o&&!s&&(this.styles[e+n]=a,u=!0),u&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:w(i[n-1])}:r?this.styles[e+n]={0:w(r)}:delete this.styles[e+n],n--;this._forceClearCache=!0},insertCharStyleObject:function(e,t,n,i){this.styles||(this.styles={});var r=this.styles[e],a=r?w(r):{};for(var o in n||(n=1),a){var s=parseInt(o,10);s>=t&&(r[s+n]=a[s],a[s-n]||delete r[s])}if(this._forceClearCache=!0,i)for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=w(i[n]));else if(r)for(var l=r[t?t-1:1];l&&n--;)this.styles[e][t+n]=w(l)},insertNewStyleBlock:function(e,t,n){for(var i=this.get2DCursorLocation(t,!0),r=[0],a=0,o=0;o<e.length;o++)"\n"===e[o]?r[++a]=0:r[a]++;for(r[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,r[0],n),n=n&&n.slice(r[0]+1)),a&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+r[0],a),o=1;o<a;o++)r[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,r[o],n):n&&(this.styles[i.lineIndex+o][0]=n[0]),n=n&&n.slice(r[o]+1);r[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,r[o],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}}),E.util.object.extend(E.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(e.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t=this.getLocalPointer(e),n=0,i=0,r=0,a=0,o=0,s=0,l=this._textLines.length;s<l&&r<=t.y;s++)r+=this.getHeightOfLine(s)*this.scaleY,o=s,s>0&&(a+=this._textLines[s-1].length+this.missingNewlineOffset(s-1));i=this._getLineLeftOffset(o)*this.scaleX;for(var c=0,u=this._textLines[o].length;c<u&&(n=i,(i+=this.__charBounds[o][c].kernedWidth*this.scaleX)<=t.x);c++)a++;return this._getNewSelectionStartFromOffset(t,n,i,a,u)},_getNewSelectionStartFromOffset:function(e,t,n,i,r){var a=e.x-t,o=n-e.x,s=i+(o>a||o<0?0:1);return this.flipX&&(s=r-s),s>this._text.length&&(s=this._text.length),s}}),E.util.object.extend(E.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=E.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+e.fontSize+";",E.document.body.appendChild(this.hiddenTextarea),E.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),E.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),E.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),E.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),E.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),E.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),E.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),E.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),E.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(E.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing&&!this.inCompositionMode){if(e.keyCode in this.keysMap)this[this.keysMap[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,i,r,a,o=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,l=o.length,c=l-s,u=this.selectionStart,d=this.selectionEnd,h=u!==d;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var p,f=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),m=u>f.selectionStart;h?(n=this._text.slice(u,d),c+=d-u):l<s&&(n=m?this._text.slice(d+c,d):this._text.slice(u,u-c)),i=o.slice(f.selectionEnd-c,f.selectionEnd),n&&n.length&&(i.length&&(p=this.getSelectionStyles(u,u+1,!0),p=i.map((function(){return p[0]}))),h?(r=u,a=d):m?(r=d-n.length,a=d):(r=d,a=d+n.length),this.removeStyleFromTo(r,a)),i.length&&(t&&i.join("")===E.copiedText&&!E.disableStyleCopyPaste&&(p=E.copiedTextStyle),this.insertNewStyleBlock(i,u,p)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(E.copiedText=this.getSelectedText(),E.disableStyleCopyPaste?E.copiedTextStyle=null:E.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||E.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,i=this._getLineLeftOffset(e);return t>0&&(i+=(n=this.__charBounds[e][t-1]).left+n.width),i},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),i=this.get2DCursorLocation(n),r=i.lineIndex;if(r===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var a=i.charIndex,o=this._getWidthBeforeCursor(r,a),s=this._getIndexOnLine(r+1,o);return this._textLines[r].slice(a).length+s+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),i=this.get2DCursorLocation(n),r=i.lineIndex;if(0===r||e.metaKey||33===e.keyCode)return-n;var a=i.charIndex,o=this._getWidthBeforeCursor(r,a),s=this._getIndexOnLine(r-1,o),l=this._textLines[r].slice(0,a),c=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+s-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,i,r=this._textLines[e],a=this._getLineLeftOffset(e),o=0,s=0,l=r.length;s<l;s++)if((a+=n=this.__charBounds[e][s].width)>t){i=!0;var c=a-n,u=a,d=Math.abs(c-t);o=Math.abs(u-t)<d?s:s-1;break}return i||(o=r.length-1),o},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var i;if(e.altKey)i=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;i=this["findLineBoundary"+n](this[t])}if(void 0!==typeof i&&this[t]!==i)return this[t]=i,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){void 0===t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,i){void 0===i&&(i=n),i>n&&this.removeStyleFromTo(n,i);var r=E.util.string.graphemeSplit(e);this.insertNewStyleBlock(r,n,t),this._text=[].concat(this._text.slice(0,n),r,this._text.slice(i)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),k=E.util.toFixed,x=/  +/g,E.util.object.extend(E.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,i=[],r=[],a=e;this._setSVGBg(r);for(var o=0,s=this._textLines.length;o<s;o++)n=this._getLineLeftOffset(o),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(r,o,t+n,a),this._setSVGTextLineText(i,o,t+n,a),a+=this.getHeightOfLine(o);return{textSpans:i,textBgRects:r}},_createTextCharSpan:function(e,t,n,i){var r=e!==e.trim()||e.match(x),a=this.getSvgSpanStyles(t,r),o=a?'style="'+a+'"':"",s=t.deltaY,l="",c=E.Object.NUM_FRACTION_DIGITS;return s&&(l=' dy="'+k(s,c)+'" '),['<tspan x="',k(n,c),'" y="',k(i,c),'" ',l,o,">",E.util.string.escapeXml(e),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,i){var r,a,o,s,l,c=this.getHeightOfLine(t),u=-1!==this.textAlign.indexOf("justify"),d="",h=0,p=this._textLines[t];i+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var f=0,m=p.length-1;f<=m;f++)l=f===m||this.charSpacing,d+=p[f],o=this.__charBounds[t][f],0===h?(n+=o.kernedWidth-o.width,h+=o.width):h+=o.kernedWidth,u&&!l&&this._reSpaceAndTab.test(p[f])&&(l=!0),l||(r=r||this.getCompleteStyleDeclaration(t,f),a=this.getCompleteStyleDeclaration(t,f+1),l=this._hasStyleChangedForSvg(r,a)),l&&(s=this._getStyleDeclaration(t,f)||{},e.push(this._createTextCharSpan(d,s,n,i)),d="",r=a,n+=h,h=0)},_pushTextBgRect:function(e,t,n,i,r,a){var o=E.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(t),' x="',k(n,o),'" y="',k(i,o),'" width="',k(r,o),'" height="',k(a,o),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,i){for(var r,a,o=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0,h=o.length;d<h;d++)r=this.__charBounds[t][d],(a=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,i,l,s),c=r.left,l=r.width,u=a):l+=r.kernedWidth;a&&this._pushTextBgRect(e,a,n+c,i,l,s)},_getFillAttributes:function(e){var t=e&&"string"==typeof e?new E.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,i=0;i<e;i++)n+=this.getHeightOfLine(i);return t=this.getHeightOfLine(i),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return E.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}}),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,i=0,r={},a=0;a<e.graphemeLines.length;a++)"\n"===e.graphemeText[i]&&a>0?(n=0,i++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&a>0&&(n++,i++),r[a]={line:t,offset:n},i+=e.graphemeLines[a].length,n+=e.graphemeLines[a].length;return r},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[n];i&&(n=i.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,i=0,r=!1,a=this._styleMap[e],o=this._styleMap[e+1];for(var s in a&&(e=a.line,i=a.offset),o&&(r=o.line===e,t=o.offset),n=void 0===e?this.styles:{line:this.styles[e]})for(var l in n[s])if(l>=i&&(!r||l<t))for(var c in n[s][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var i=this._styleMap[e];e=i.line,t=i.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,i=[];for(this.isWrapping=!0,n=0;n<e.length;n++)i=i.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,i},_measureWord:function(e,t,n){var i,r=0;n=n||0;for(var a=0,o=e.length;a<o;a++){r+=this._getGraphemeBox(e[a],t,a+n,i,true).kernedWidth,i=e[a]}return r},_wrapLine:function(e,n,i,r){var a=0,o=this.splitByGrapheme,s=[],l=[],c=o?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",d=0,h=o?"":" ",p=0,f=0,m=0,g=!0,v=o?0:this._getWidthOfCharSpacing();r=r||0;0===c.length&&c.push([]),i-=r;for(var y=0;y<c.length;y++)u=o?c[y]:t.util.string.graphemeSplit(c[y]),p=this._measureWord(u,n,d),d+=u.length,(a+=f+p-v)>=i&&!g?(s.push(l),l=[],a=p,g=!0):a+=v,g||o||l.push(h),l=l.concat(u),f=this._measureWord([h],n,d),d++,g=!1,p>m&&(m=p);return y&&s.push(l),m+r>this.dynamicMinWidth&&(this.dynamicMinWidth=m-v+r),s},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),i=this._wrapText(n.lines,this.width),r=new Array(i.length),a=0;a<i.length;a++)r[a]=i[a].join("");return n.lines=r,n.graphemeLines=i,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t)},3677:e=>{"use strict";e.exports={}},3759:e=>{"use strict";e.exports=function(e,t,n,i,r,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,a,o,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},5203:(e,t,n)=>{e.exports.Dispatcher=n(1063)},1063:(e,t,n)=>{"use strict";t.__esModule=!0;var i=n(546),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=r},546:e=>{"use strict";e.exports=function(e,t,n,i,r,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,a,o,s],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,(function(){return c[u++]})))}throw l.framesToPop=1,l}}},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,r="[object Function]";e.exports=function(e){var a=this;if("function"!=typeof a||i.call(a)!==r)throw new TypeError(t+a);for(var o,s=n.call(arguments,1),l=function(){if(this instanceof o){var t=a.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return a.apply(e,s.concat(n.call(arguments)))},c=Math.max(0,a.length-s.length),u=[],d=0;d<c;d++)u.push("$"+d);if(o=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),a.prototype){var h=function(){};h.prototype=a.prototype,o.prototype=new h,h.prototype=null}return o}},2514:(e,t,n)=>{"use strict";var i=n(7648);e.exports=Function.prototype.bind||i},210:(e,t,n)=>{"use strict";var i,r=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new o},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(1405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?i:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=h(r.prototype))}return m[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(2514),b=n(7642),_=y.call(Function.call,Array.prototype.concat),w=y.call(Function.apply,Array.prototype.splice),k=y.call(Function.call,String.prototype.replace),x=y.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,S=function(e){var t=x(e,0,1),n=x(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return k(e,E,(function(e,t,n,r){i[i.length]=n?k(r,C,"$1"):t||e})),i},T=function(e,t){var n,i=e;if(b(v,i)&&(i="%"+(n=v[i])[0]+"%"),b(m,i)){var a=m[i];if(a===p&&(a=g(i)),void 0===a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');var n=S(e),i=n.length>0?n[0]:"",a=T("%"+i+"%",t),s=a.name,c=a.value,u=!1,d=a.alias;d&&(i=d[0],w(n,_([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],g=x(f,0,1),v=x(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),b(m,s="%"+(i+="."+f)+"%"))c=m[s];else if(null!=c){if(!(f in c)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=b(c,f),c=c[f];p&&!u&&(m[s]=c)}}return c}},4879:(e,t)=>{t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},7370:(e,t,n)=>{var i=n(4879),r=n(9438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(i.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(i.string(e))return function(e,t,n){return r(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},1405:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5419);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},7642:(e,t,n)=>{"use strict";var i=n(2514);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},8679:(e,t,n)=>{"use strict";var i=n(9864),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?o:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!(a[v]||i&&i[v]||m&&m[v]||s&&s[v])){var y=h(n,v);try{c(t,v,y)}catch(e){}}}}return t}},1704:(e,t,n)=>{var i,r,a;r=[n(9755)],i=function(e){e.ui=e.ui||{},e.ui.version="1.12.0";var t,n=0,i=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(n){var i,r,a;for(a=0;null!=(r=n[a]);a++)try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}),e.widget=function(t,n,i){var r,a,o,s={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(o=new n).options=e.widget.extend({},o.options),e.each(i,(function(t,i){e.isFunction(i)?s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}():s[t]=i})),a.prototype=e.widget.extend(o,{widgetEventPrefix:r&&o.widgetEventPrefix||t},s,{constructor:a,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)})),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,r,a=i.call(arguments,1),o=0,s=a.length;o<s;o++)for(n in a[o])r=a[o][n],a[o].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,s=i.call(arguments,1),l=this;return o?this.each((function(){var n,i=e.data(this,r);return"instance"===a?(l=i,!1):i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")})):(s.length&&(a=e.widget.extend.apply(null,[a].concat(s))),this.each((function(){var t=e.data(this,r);t?(t.option(a||{}),t._init&&t._init()):e.data(this,r,new n(a,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,n){t._removeClass(n,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},i=t.split("."),t=i.shift(),i.length){for(r=o[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,r;for(n in t)r=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&r&&r.length&&(i=e(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],i=this;function r(r,a){var o,s;for(s=0;s<r.length;s++)o=i.classesElementLookup[r[s]]||e(),o=t.add?e(e.unique(o.get().concat(t.element.get()))):e(o.not(t.element).get()),i.classesElementLookup[r[s]]=o,n.push(r[s]),a&&t.classes[r[s]]&&n.push(t.classes[r[s]])}return(t=e.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),n.join(" ")},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,a={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return a.element.toggleClass(this._classes(a),i),this},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,(function(i,o){function s(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?r.on(c,u,s):n.on(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,a,o=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){var o;"string"==typeof r&&(r={effect:r});var s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),o&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,a):i.queue((function(n){e(this)[t](),a&&a.call(i[0]),n()}))}})),e.widget,function(){var t,n,i=Math.max,r=Math.abs,a=Math.round,o=/left|center|right/,s=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=e.fn.position;function h(e,t,n){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function f(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n=function(){var t=e("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),i=1.5===t.offset().top;return t.remove(),n=function(){return i},i},e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return e("body").append(r),n=a.offsetWidth,r.css("overflow","scroll"),n===(i=a.offsetWidth)&&(i=r[0].clientWidth),r.remove(),t=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:i||r?{left:0,top:0}:e(t).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return d.apply(this,arguments);t=e.extend({},t);var u,m,g,v,y,b,_=e(t.of),w=e.position.getWithinInfo(t.within),k=e.position.getScrollInfo(w),x=(t.collision||"flip").split(" "),E={};return b=f(_),_[0].preventDefault&&(t.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],(function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=o.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]),i[0]=o.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",e=l.exec(i[0]),n=l.exec(i[1]),E[this]=[e?e[0]:0,n?n[0]:0],t[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?y.left+=m:"center"===t.at[0]&&(y.left+=m/2),"bottom"===t.at[1]?y.top+=g:"center"===t.at[1]&&(y.top+=g/2),u=h(E.at,m,g),y.left+=u[0],y.top+=u[1],this.each((function(){var o,s,l=e(this),c=l.outerWidth(),d=l.outerHeight(),f=p(this,"marginLeft"),b=p(this,"marginTop"),C=c+f+p(this,"marginRight")+k.width,S=d+b+p(this,"marginBottom")+k.height,T=e.extend({},y),D=h(E.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?T.left-=c:"center"===t.my[0]&&(T.left-=c/2),"bottom"===t.my[1]?T.top-=d:"center"===t.my[1]&&(T.top-=d/2),T.left+=D[0],T.top+=D[1],n()||(T.left=a(T.left),T.top=a(T.top)),o={marginLeft:f,marginTop:b},e.each(["left","top"],(function(n,i){e.ui.position[x[n]]&&e.ui.position[x[n]][i](T,{targetWidth:m,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:o,collisionWidth:C,collisionHeight:S,offset:[u[0]+D[0],u[1]+D[1]],my:t.my,at:t.at,within:w,elem:l})})),t.using&&(s=function(e){var n=v.left-T.left,a=n+m-c,o=v.top-T.top,s=o+g-d,u={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:l,left:T.left,top:T.top,width:c,height:d},horizontal:a<0?"left":n>0?"right":"center",vertical:s<0?"top":o>0?"bottom":"middle"};m<c&&r(n+a)<m&&(u.horizontal="center"),g<d&&r(o+s)<g&&(u.vertical="middle"),i(r(n),r(a))>i(r(o),r(s))?u.important="horizontal":u.important="vertical",t.using.call(this,e,u)}),l.offset(e.extend(T,{using:s}))}))},e.ui.position={fit:{left:function(e,t){var n,r=t.within,a=r.isWindow?r.scrollLeft:r.offset.left,o=r.width,s=e.left-t.collisionPosition.marginLeft,l=a-s,c=s+t.collisionWidth-o-a;t.collisionWidth>o?l>0&&c<=0?(n=e.left+l+t.collisionWidth-o-a,e.left+=l-n):e.left=c>0&&l<=0?a:l>c?a+o-t.collisionWidth:a:l>0?e.left+=l:c>0?e.left-=c:e.left=i(e.left-s,e.left)},top:function(e,t){var n,r=t.within,a=r.isWindow?r.scrollTop:r.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=a-s,c=s+t.collisionHeight-o-a;t.collisionHeight>o?l>0&&c<=0?(n=e.top+l+t.collisionHeight-o-a,e.top+=l-n):e.top=c>0&&l<=0?a:l>c?a+o-t.collisionHeight:a:l>0?e.top+=l:c>0?e.top-=c:e.top=i(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,a=t.within,o=a.offset.left+a.scrollLeft,s=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?((n=e.left+h+p+f+t.collisionWidth-s-o)<0||n<r(u))&&(e.left+=h+p+f):d>0&&((i=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||r(i)<d)&&(e.left+=h+p+f)},top:function(e,t){var n,i,a=t.within,o=a.offset.top+a.scrollTop,s=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];u<0?((i=e.top+h+p+f+t.collisionHeight-s-o)<0||i<r(u))&&(e.top+=h+p+f):d>0&&((n=e.top-t.collisionPosition.marginTop+h+p+f-l)>0||r(n)<d)&&(e.top+=h+p+f)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,i){return!!e.data(t,i[3])}}),e.fn.extend({disableSelection:(r="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(r+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var r,a,o,s,l="ui-effects-",c="ui-effects-style",u="ui-effects-animated",d=e;function h(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"hidden"!==t}e.effects={effect:{}},function(e,t){var n,i="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=o.support={},u=e("<p>")[0],d=e.each;function h(e,t,n){var i=l[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function p(t){var i=o(),r=i._rgba=[];return t=t.toLowerCase(),d(a,(function(e,n){var a,o=n.re.exec(t),l=o&&n.parse(o),c=n.space||"rgba";if(l)return a=i[c](l),i[s[c].cache]=a[s[c].cache],r=i._rgba=a._rgba,!1})),r.length?("0,0,0,0"===r.join()&&e.extend(r,n.transparent),i):n[t]}function f(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}u.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=u.style.backgroundColor.indexOf("rgba")>-1,d(s,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),o.fn=e.extend(o.prototype,{parse:function(i,r,a,l){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(r),r=t);var c=this,u=e.type(i),f=this._rgba=[];return r!==t&&(i=[i,r,a,l],u="array"),"string"===u?this.parse(p(i)||n._default):"array"===u?(d(s.rgba.props,(function(e,t){f[t.idx]=h(i[t.idx],t)})),this):"object"===u?(d(s,i instanceof o?function(e,t){i[t.cache]&&(c[t.cache]=i[t.cache].slice())}:function(t,n){var r=n.cache;d(n.props,(function(e,t){if(!c[r]&&n.to){if("alpha"===e||null==i[e])return;c[r]=n.to(c._rgba)}c[r][t.idx]=h(i[e],t,!0)})),c[r]&&e.inArray(null,c[r].slice(0,3))<0&&(c[r][3]=1,n.from&&(c._rgba=n.from(c[r])))}),this):void 0},is:function(e){var t=o(e),n=!0,i=this;return d(s,(function(e,r){var a,o=t[r.cache];return o&&(a=i[r.cache]||r.to&&r.to(i._rgba)||[],d(r.props,(function(e,t){if(null!=o[t.idx])return n=o[t.idx]===a[t.idx]}))),n})),n},_space:function(){var e=[],t=this;return d(s,(function(n,i){t[i.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var n=o(e),i=n._space(),r=s[i],a=0===this.alpha()?o("transparent"):this,c=a[r.cache]||r.to(a._rgba),u=c.slice();return n=n[r.cache],d(r.props,(function(e,i){var r=i.idx,a=c[r],o=n[r],s=l[i.type]||{};null!==o&&(null===a?u[r]=o:(s.mod&&(o-a>s.mod/2?a+=s.mod:a-o>s.mod/2&&(a-=s.mod)),u[r]=h((o-a)*t+a,i)))})),this[i](u)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(t)._rgba;return o(e.map(n,(function(e,t){return(1-i)*r[t]+i*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,s.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,o=e[3],s=Math.max(i,r,a),l=Math.min(i,r,a),c=s-l,u=s+l,d=.5*u;return t=l===s?0:i===s?60*(r-a)/c+360:r===s?60*(a-i)/c+120:60*(i-r)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==o?1:o]},s.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],a=i<=.5?i*(1+n):i+n-i*n,o=2*i-a;return[Math.round(255*f(o,a,t+1/3)),Math.round(255*f(o,a,t)),Math.round(255*f(o,a,t-1/3)),r]},d(s,(function(n,i){var a=i.props,s=i.cache,l=i.to,c=i.from;o.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===t)return this[s].slice();var i,r=e.type(n),u="array"===r||"object"===r?n:arguments,p=this[s].slice();return d(a,(function(e,t){var n=u["object"===r?e:t.idx];null==n&&(n=p[t.idx]),p[t.idx]=h(n,t)})),c?((i=o(c(p)))[s]=p,i):o(p)},d(a,(function(t,i){o.fn[t]||(o.fn[t]=function(a){var o,s=e.type(a),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===s?u:("function"===s&&(a=a.call(this,u),s=e.type(a)),null==a&&i.empty?this:("string"===s&&(o=r.exec(a))&&(a=u+parseFloat(o[2])*("+"===o[1]?1:-1)),c[i.idx]=a,this[l](c)))})}))})),o.hook=function(t){var n=t.split(" ");d(n,(function(t,n){e.cssHooks[n]={set:function(t,i){var r,a,s="";if("transparent"!==i&&("string"!==e.type(i)||(r=p(i)))){if(i=o(r||i),!c.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=o(t.elem,n),t.end=o(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},o.hook(i),e.cssHooks.borderColor={expand:function(e){var t={};return d(["Top","Right","Bottom","Left"],(function(n,i){t["border"+i+"Color"]=e})),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(d),function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(a[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(a[n]=r[n]);return a}function r(t,i){var r,a,o={};for(r in i)a=i[r],t[r]!==a&&(n[r]||!e.fx.step[r]&&isNaN(parseFloat(a))||(o[r]=a));return o}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(d.style(e.elem,n,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,s){var l=e.speed(a,o,s);return this.queue((function(){var a,o=e(this),s=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map((function(){return{el:e(this),start:i(this)}})),(a=function(){e.each(t,(function(e,t){n[t]&&o[t+"Class"](n[t])}))})(),c=c.map((function(){return this.end=i(this.el[0]),this.diff=r(this.start,this.end),this})),o.attr("class",s),c=c.map((function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()})),e.when.apply(e,c.get()).done((function(){a(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),l.complete.call(o[0])}))}))},e.fn.extend({addClass:function(t){return function(n,i,r,a){return i?e.effects.animateClass.call(this,{add:n},i,r,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,a,o){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,a)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,a){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,a)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]||!!e.isFunction(t)||"object"==typeof t&&!t.effect}function i(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(u)||t(n)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var n=0,i=t.length;n<i;n++)null!==t[n]&&e.data(l+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0,r=t.length;i<r;i++)null!==t[i]&&(n=e.data(l+t[i]),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(e){a=document.body}return t.wrap(i),(t[0]===a||e.contains(t[0],a))&&e(a).trigger("focus"),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.0",define:function(t,n,i){return i||(i=n,n="effect"),e.effects.effect[t]=i,e.effects.effect[t].mode=n,i},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,r="vertical"!==n?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data(c,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(c)||"",e.removeData(c)},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(t){var n,i=t.css("position"),r=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(l+"placeholder",n)),t.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(e){var t=l+"placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,n,i,r){return r=r||{},e.each(n,(function(e,n){var a=t.cssUnit(n);a[0]>0&&(r[n]=a[0]*i+a[1])})),r}}),e.fn.extend({effect:function(){var n=t.apply(this,arguments),i=e.effects.effect[n.effect],r=i.mode,a=n.queue,o=a||"fx",s=n.complete,l=n.mode,c=[],d=function(t){var n=e(this),i=e.effects.mode(n,l)||r;n.data(u,!0),c.push(i),r&&("show"===i||i===r&&"hide"===i)&&n.show(),r&&"none"===i||e.effects.saveStyle(n),e.isFunction(t)&&t()};if(e.fx.off||!i)return l?this[l](n.duration,s):this.each((function(){s&&s.call(this)}));function h(t){var a=e(this);function o(){a.removeData(u),e.effects.cleanUp(a),"hide"===n.mode&&a.hide(),d()}function d(){e.isFunction(s)&&s.call(a[0]),e.isFunction(t)&&t()}n.mode=c.shift(),!1===e.uiBackCompat||r?"none"===n.mode?(a[l](),d()):i.call(a[0],n,o):(a.is(":hidden")?"hide"===l:"show"===l)?(a[l](),d()):i.call(a[0],n,d)}return!1===a?this.each(d).each(h):this.queue(o,d).queue(o,h)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],(function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])})),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):i(this.css("clip"),this)},transfer:function(t,n){var i=e(this),r=e(t.to),a="fixed"===r.css("position"),o=e("body"),s=a?o.scrollTop():0,l=a?o.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,(function(){h.remove(),e.isFunction(n)&&n()}))}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=i(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),a={},e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,t){a[t]=function(t){return Math.pow(t,e+2)}})),e.extend(a,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(a,(function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})),e.effects,e.effects.define("blind","hide",(function(t,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=e(this),a=t.direction||"up",o=r.cssClip(),s={clip:e.extend({},o)},l=e.effects.createPlaceholder(r);s.clip[i[a][0]]=s.clip[i[a][1]],"show"===t.mode&&(r.cssClip(s.clip),l&&l.css(e.effects.clipToBox(s)),s.clip=o),l&&l.animate(e.effects.clipToBox(s),t.duration,t.easing),r.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})),e.effects.define("bounce",(function(t,n){var i,r,a,o=e(this),s=t.mode,l="hide"===s,c="show"===s,u=t.direction||"up",d=t.distance,h=t.times||5,p=2*h+(c||l?1:0),f=t.duration/p,m=t.easing,g="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=0,b=o.queue().length;for(e.effects.createPlaceholder(o),a=o.css(g),d||(d=o["top"===g?"outerHeight":"outerWidth"]()/3),c&&((r={opacity:1})[g]=a,o.css("opacity",0).css(g,v?2*-d:2*d).animate(r,f,m)),l&&(d/=Math.pow(2,h-1)),(r={})[g]=a;y<h;y++)(i={})[g]=(v?"-=":"+=")+d,o.animate(i,f,m).animate(r,f,m),d=l?2*d:d/2;l&&((i={opacity:0})[g]=(v?"-=":"+=")+d,o.animate(i,f,m)),o.queue(n),e.effects.unshift(o,b,p+1)})),e.effects.define("clip","hide",(function(t,n){var i,r={},a=e(this),o=t.direction||"vertical",s="both"===o,l=s||"horizontal"===o,c=s||"vertical"===o;i=a.cssClip(),r.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},e.effects.createPlaceholder(a),"show"===t.mode&&(a.cssClip(r.clip),r.clip=i),a.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})),e.effects.define("drop","hide",(function(t,n){var i,r=e(this),a="show"===t.mode,o=t.direction||"left",s="up"===o||"down"===o?"top":"left",l="up"===o||"left"===o?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};e.effects.createPlaceholder(r),i=t.distance||r["top"===s?"outerHeight":"outerWidth"](!0)/2,u[s]=l+i,a&&(r.css(u),u[s]=c+i,u.opacity=1),r.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})),e.effects.define("explode","hide",(function(t,n){var i,r,a,o,s,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=c,d=e(this),h="show"===t.mode,p=d.show().css("visibility","hidden").offset(),f=Math.ceil(d.outerWidth()/u),m=Math.ceil(d.outerHeight()/c),g=[];function v(){g.push(this),g.length===c*u&&y()}for(i=0;i<c;i++)for(o=p.top+i*m,l=i-(c-1)/2,r=0;r<u;r++)a=p.left+r*f,s=r-(u-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*f,top:-i*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:m,left:a+(h?s*f:0),top:o+(h?l*m:0),opacity:h?0:1}).animate({left:a+(h?0:s*f),top:o+(h?0:l*m),opacity:h?1:0},t.duration||500,t.easing,v);function y(){d.css({visibility:"visible"}),e(g).remove(),n()}})),e.effects.define("fade","toggle",(function(t,n){var i="show"===t.mode;e(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:n})})),e.effects.define("fold","hide",(function(t,n){var i=e(this),r=t.mode,a="show"===r,o="hide"===r,s=t.size||15,l=/([0-9]+)%/.exec(s),c=t.horizFirst?["right","bottom"]:["bottom","right"],u=t.duration/2,d=e.effects.createPlaceholder(i),h=i.cssClip(),p={clip:e.extend({},h)},f={clip:e.extend({},h)},m=[h[c[0]],h[c[1]]],g=i.queue().length;l&&(s=parseInt(l[1],10)/100*m[o?0:1]),p.clip[c[0]]=s,f.clip[c[0]]=s,f.clip[c[1]]=0,a&&(i.cssClip(f.clip),d&&d.css(e.effects.clipToBox(f)),f.clip=h),i.queue((function(n){d&&d.animate(e.effects.clipToBox(p),u,t.easing).animate(e.effects.clipToBox(f),u,t.easing),n()})).animate(p,u,t.easing).animate(f,u,t.easing).queue(n),e.effects.unshift(i,g,4)})),e.effects.define("highlight","show",(function(t,n){var i=e(this),r={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(r.opacity=0),e.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})),e.effects.define("size",(function(t,n){var i,r,a,o=e(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=t.mode,d="effect"!==u,h=t.scale||"both",p=t.origin||["middle","center"],f=o.css("position"),m=o.position(),g=e.effects.scaledDimensions(o),v=t.from||g,y=t.to||e.effects.scaledDimensions(o,0);e.effects.createPlaceholder(o),"show"===u&&(a=v,v=y,y=a),r={from:{y:v.height/g.height,x:v.width/g.width},to:{y:y.height/g.height,x:y.width/g.width}},"box"!==h&&"both"!==h||(r.from.y!==r.to.y&&(v=e.effects.setTransition(o,l,r.from.y,v),y=e.effects.setTransition(o,l,r.to.y,y)),r.from.x!==r.to.x&&(v=e.effects.setTransition(o,c,r.from.x,v),y=e.effects.setTransition(o,c,r.to.x,y))),"content"!==h&&"both"!==h||r.from.y!==r.to.y&&(v=e.effects.setTransition(o,s,r.from.y,v),y=e.effects.setTransition(o,s,r.to.y,y)),p&&(i=e.effects.getBaseline(p,g),v.top=(g.outerHeight-v.outerHeight)*i.y+m.top,v.left=(g.outerWidth-v.outerWidth)*i.x+m.left,y.top=(g.outerHeight-y.outerHeight)*i.y+m.top,y.left=(g.outerWidth-y.outerWidth)*i.x+m.left),o.css(v),"content"!==h&&"both"!==h||(l=l.concat(["marginTop","marginBottom"]).concat(s),c=c.concat(["marginLeft","marginRight"]),o.find("*[width]").each((function(){var n=e(this),i=e.effects.scaledDimensions(n),a={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},o={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(a=e.effects.setTransition(n,l,r.from.y,a),o=e.effects.setTransition(n,l,r.to.y,o)),r.from.x!==r.to.x&&(a=e.effects.setTransition(n,c,r.from.x,a),o=e.effects.setTransition(n,c,r.to.x,o)),d&&e.effects.saveStyle(n),n.css(a),n.animate(o,t.duration,t.easing,(function(){d&&e.effects.restoreStyle(n)}))}))),o.animate(y,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=o.offset();0===y.opacity&&o.css("opacity",v.opacity),d||(o.css("position","static"===f?"relative":f).offset(t),e.effects.saveStyle(o)),n()}})})),e.effects.define("scale",(function(t,n){var i=e(this),r=t.mode,a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"effect"!==r?0:100),o=e.extend(!0,{from:e.effects.scaledDimensions(i),to:e.effects.scaledDimensions(i,a,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),e.effects.effect.size.call(this,o,n)})),e.effects.define("puff","hide",(function(t,n){var i=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,i,n)})),e.effects.define("pulsate","show",(function(t,n){var i=e(this),r=t.mode,a="show"===r,o=a||"hide"===r,s=2*(t.times||5)+(o?1:0),l=t.duration/s,c=0,u=1,d=i.queue().length;for(!a&&i.is(":visible")||(i.css("opacity",0).show(),c=1);u<s;u++)i.animate({opacity:c},l,t.easing),c=1-c;i.animate({opacity:c},l,t.easing),i.queue(n),e.effects.unshift(i,d,s+1)})),e.effects.define("shake",(function(t,n){var i=1,r=e(this),a=t.direction||"left",o=t.distance||20,s=t.times||3,l=2*s+1,c=Math.round(t.duration/l),u="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,h={},p={},f={},m=r.queue().length;for(e.effects.createPlaceholder(r),h[u]=(d?"-=":"+=")+o,p[u]=(d?"+=":"-=")+2*o,f[u]=(d?"-=":"+=")+2*o,r.animate(h,c,t.easing);i<s;i++)r.animate(p,c,t.easing).animate(f,c,t.easing);r.animate(p,c,t.easing).animate(h,c/2,t.easing).queue(n),e.effects.unshift(r,m,l+1)})),e.effects.define("slide","show",(function(t,n){var i,r,a=e(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=t.mode,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d=t.distance||a["top"===c?"outerHeight":"outerWidth"](!0),h={};e.effects.createPlaceholder(a),i=a.cssClip(),r=a.position()[c],h[c]=(u?-1:1)*d+r,h.clip=a.cssClip(),h.clip[o[l][1]]=h.clip[o[l][0]],"show"===s&&(a.cssClip(h.clip),a.css(c,h[c]),h.clip=i,h[c]=r),a.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})),!1!==e.uiBackCompat&&e.effects.define("transfer",(function(t,n){e(this).transfer(t,n)})),e.ui.focusable=function(t,n){var i,r,a,o,s,l=t.nodeName.toLowerCase();return"area"===l?(r=(i=t.parentNode).name,!(!t.href||!r||"map"!==i.nodeName.toLowerCase())&&(a=e("img[usemap='#"+r+"']")).length>0&&a.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(o=!t.disabled)&&(s=e(t).closest("fieldset")[0])&&(o=!s.disabled):o="a"===l&&t.href||n,o&&e(t).is(":visible")&&h(e(t)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable,e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout((function(){var n=t.data("ui-form-reset-instances");e.each(n,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],(function(t,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function o(t,n,r,a){return e.each(i,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}e.fn["inner"+n]=function(t){return void 0===t?a["inner"+n].call(this):this.each((function(){e(this).css(r,o(this,t)+"px")}))},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each((function(){e(this).css(r,o(this,t,!0,i)+"px")}))}})),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=(s=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(s,"\\$1")}),e.fn.labels=function(){var t,n,i,r,a;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(a=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),n="label[for='"+e.ui.escapeSelector(i)+"']",r=r.add(a.find(n).addBack(n))),this.pushStack(r))},e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter((function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&a.length?a:e(this[0].ownerDocument||document)},e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),i=null!=n;return(!i||n>=0)&&e.ui.focusable(t,i)}}),e.fn.extend({uniqueId:(o=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++o)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.widget("ui.accordion",{version:"1.12.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,n,i=this.options.icons;i&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),a=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:a=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:a=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:a=this.headers[0];break;case n.END:a=this.headers[i-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),e(a).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=r.height(),this.element.siblings(":visible").each((function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))})),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each((function(){var n=e(this).is(":visible");n||e(this).show(),t=Math.max(t,e(this).css("height","").height()),n||e(this).hide()})).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n,i,r=this.options,a=this.active,o=e(t.currentTarget),s=o[0]===a[0],l=s&&r.collapsible,c=l?e():o.next(),u=a.next(),d={oldHeader:a,oldPanel:u,newHeader:l?e():o,newPanel:c};t.preventDefault(),s&&!r.collapsible||!1===this._trigger("beforeActivate",t,d)||(r.active=!l&&this.headers.index(o),this.active=s?e():o,this._toggle(d),this._removeClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=a.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),s||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter((function(){return 0===parseInt(e(this).attr("tabIndex"),10)})).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,a,o=this,s=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){o._toggleComplete(n)};return"number"==typeof d&&(a=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:a,easing:r,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==o.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,a,r,h):e.animate(this.showProps,a,r,h)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target),i=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each((function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()}))},_keydown:function(t){var n,i,r,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),r===i?a=!0:r=i+r,n=this._filterMenuItems(r),(n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,i,r,a=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",!0);a._addClass(i,"ui-menu-icon","ui-icon "+o),n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))})),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);a._isDivider(t)&&a._addClass(t,"ui-menu-divider","ui-widget-content")})),r=(i=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,a,o,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.outerHeight(),r<0?this.activeMenu.scrollTop(a+r):r+s>o&&this.activeMenu.scrollTop(a+r-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i-r<0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i+r>0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))}))}}),e.widget("ui.autocomplete",{version:"1.12.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),a="textarea"===r,o="input"===r;this.isMultiLine=a||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var a=e.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case a.UP:t=!0,this._keyEvent("previous",r);break;case a.DOWN:t=!0,this._keyEvent("next",r);break;case a.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(t,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay((function(){this.previous=r,this.selectedItem=i}))),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||i)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,(function(e,n){i._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return i.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var p,f=/ui-corner-([a-z]){2,6}/g;function m(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function g(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=v(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function v(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",n,y)}function y(){e.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function b(t,n){for(var i in e.extend(t,n),n)null==n[i]&&(t[i]=n[i]);return t}e.widget("ui.controlgroup",{version:"1.12.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,n=[];e.each(this.options.items,(function(i,r){var a,o={};if(r)return"controlgroupLabel"===i?((a=t.element.find(r)).each((function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),t._addClass(a,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(a.get()))):void(e.fn[i]&&(t["_"+i+"Options"]&&(o=t["_"+i+"Options"]("middle")),t.element.find(r).each((function(){var r=e(this),a=r[i]("instance"),s=e.widget.extend({},o);if("button"!==i||!r.parent(".ui-spinner").length){a||(a=r[i]()[i]("instance")),a&&(s.classes=t._resolveClassesValues(s.classes,a)),r[i](s);var l=r[i]("widget");e.data(l[0],"ui-controlgroup-data",a||r[i]("instance")),n.push(l[0])}}))))})),this.childWidgets=e(e.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each((function(){var n=e(this).data("ui-controlgroup-data");n&&n[t]&&n[t]()}))},_updateCornerClass:function(e,t){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,n),this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,n){var i={};return e.each(t,(function(e){var r=n.options.classes[e]||"";r=r.replace(f,"").trim(),i[e]=(r+" "+t[e]).replace(/\s+/g," ")})),i},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],(function(e,i){var r=t[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var a=n["_"+r.widgetName+"Options"](1===t.length?"only":i);a.classes=n._resolveClassesValues(a.classes,r),r.element[r.widgetName](a)}else n._updateCornerClass(t[i](),i)})),this._callChildMethod("refresh"))}}),e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=e(n[n.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element).each((function(){i.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML})),this.originalLabel&&(r.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(r.disabled=t),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,n="input[name='"+e.ui.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(n):e(n).filter((function(){return 0===e(this).form().length}))).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each((function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio,e.widget("ui.button",{version:"1.12.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,n){var i="iconPosition"!==t,r=i?this.options.iconPosition:n,a="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),a?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.12.0"}}),e.extend(g.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return b(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,a;r="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(a=this._newInst(e(t),r)).settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,a):r&&this._inlineDatepicker(t,a)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?v(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,a,o=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[s?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),a=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:r,title:r}):r)),t[s?"before":"after"](n.trigger),n.trigger.on("click",(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,a){var o,s,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",d)),b(d.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),p===r&&(p=null))},_enableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,a.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,a.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,a,o,s,l=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):l?"all"===n?e.extend({},l.settings):this._get(l,n):null;r=n||{},"string"==typeof n&&((r={})[n]=i),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),s=this._getMinMaxDate(l,"max"),b(l.settings,r),null!==o&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==s&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,s)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,a=e.datepicker._getInst(t.target),o=!0,s=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return(r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv))[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,r[0]),(n=e.datepicker._get(a,"onSelect"))?(i=e.datepicker._formatDate(a),n.apply(a.input?a.input[0]:null,[i,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);if(e.datepicker._get(r,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,i,r,a,o,s,l;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(r=(i=e.datepicker._get(n,"beforeShow"))?i.apply(t,[t,n]):{})&&(b(n.settings,r),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each((function(){return!(a|="fixed"===e(this).css("position"))})),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),o=e.datepicker._checkOffset(n,o,a),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),n.inline||(s=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",m(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[s]?n.dpDiv.show(s,e.datepicker._get(n,"showOptions"),l):n.dpDiv[s||"show"](s?l:null),e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,p=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],a=17,o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&y.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-o:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+a>c&&c>a?Math.abs(a+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,i,r,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),r=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),i,r):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(a=this._get(o,"onClose"))&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),a=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(a,n+("M"===i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),a=this._getInst(r[0]);a["selected"+("M"===i?"Month":"Year")]=a["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(r)},_selectDay:function(t,n,i,r){var a,o=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((a=this._getInst(o[0])).selectedDay=a.currentDay=e("a",r).html(),a.selectedMonth=a.currentMonth=n,a.selectedYear=a.currentYear=i,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),a=this._getInst(r[0]);n=null!=n?n:this._formatDate(a),a.input&&a.input.val(n),this._updateAlternate(a),(i=this._get(a,"onSelect"))?i.apply(a.input?a.input[0]:null,[n,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,a=this._get(t,"altField");a&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(a).val(r))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,a,o,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},w=function(e){var t=_(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),a=n.substring(l).match(r);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},k=function(t,i,r){var a=-1,o=e.map(_(t)?r:i,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(o,(function(e,t){var i=t[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return a=t[0],l+=i.length,!1})),-1!==a)return a+1;throw"Unknown name at position "+l},x=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||_("'")?x():b=!1;else switch(t.charAt(r)){case"d":v=w("d");break;case"D":k("D",d,h);break;case"o":y=w("o");break;case"m":g=w("m");break;case"M":g=k("M",p,f);break;case"y":m=w("y");break;case"@":m=(s=new Date(w("@"))).getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":m=(s=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":_("'")?x():b=!0;break;default:x()}if(l<n.length&&(o=n.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),y>-1)for(g=1,v=y;!(v<=(a=this._getDaysInMonth(m,g-1)));)g++,v-=a;if((s=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,a);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,s);break;case"y":d+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),a=r,o=this._getFormatConfig(e);try{a=this.parseDate(n,i,o)||r}catch(e){i=t?"":i}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=i?a.getDate():0,e.currentMonth=i?a.getMonth():0,e.currentYear=i?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),a=i.getMonth(),o=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(r,a));break;case"y":case"Y":r+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(r,a))}l=s.exec(n)}return new Date(r,a,o)},o=null==n||""===n?i:"string"==typeof n?a(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return(o=o&&"Invalid Date"===o.toString()?i:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),r===e.selectedMonth&&a===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,i,r,a,o,s,l,c,u,d,h,p,f,m,g,v,y,b,_,w,k,x,E,C,S,T,D,F,M,A,I,O,N,P,R,j,L,q,Z=new Date,B=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth(),Z.getDate())),V=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),H=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),$=this._get(e,"stepMonths"),K=1!==H[0]||1!==H[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),J=e.drawMonth-Y,ee=e.drawYear;if(J<0&&(J+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-H[0]*H[1]+1,Q.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)--J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,n=this._get(e,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,J-$,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,J+$,1)),this._getFormatConfig(e)):r,a=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>",o=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?G:B,o=W?this.formatDate(o,s,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(V?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",k=0;k<H[0];k++){for(x="",this.maxRows=4,E=0;E<H[1];E++){if(C=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),S=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",H[1]>1)switch(E){case 0:T+=" ui-datepicker-group-first",S=" ui-corner-"+(V?"right":"left");break;case H[1]-1:T+=" ui-datepicker-group-last",S=" ui-corner-"+(V?"left":"right");break;default:T+=" ui-datepicker-group-middle",S=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===k?V?a:i:"")+(/all|right/.test(S)&&0===k?V?i:a:"")+this._generateMonthYearHeader(e,J,ee,X,Q,k>0||E>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)D+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[F=(w+u)%7]+"'>"+p[F]+"</span></th>";for(T+=D+"</tr></thead><tbody>",M=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),A=(this._getFirstDayOfMonth(ee,J)-u+7)%7,I=Math.ceil((A+M)/7),O=K&&this.maxRows>I?this.maxRows:I,this.maxRows=O,N=this._daylightSavingAdjust(new Date(ee,J,1-A)),P=0;P<O;P++){for(T+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",w=0;w<7;w++)j=g?g.apply(e.input?e.input[0]:null,[N]):[!0,""],q=(L=N.getMonth()!==J)&&!y||!j[0]||X&&N<X||Q&&N>Q,R+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(N.getTime()===C.getTime()&&J===e.selectedMonth&&e._keyEvent||b.getTime()===N.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(q?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+j[1]+(N.getTime()===G.getTime()?" "+this._currentClass:"")+(N.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(q?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":q?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===B.getTime()?" ui-state-highlight":"")+(N.getTime()===G.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);T+=R+"</tr>"}++J>11&&(J=0,ee++),x+=T+="</tbody></table>"+(K?"</div>"+(H[0]>0&&E===H[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=x}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,i,r,a,o,s){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=r.getMonth())&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),r=e.selectedMonth+("M"===n?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));return t<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),o=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new g,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.0",e.datepicker,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;e(document).on("mouseup",(function(){_=!1})),e.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),_=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,n,i){var r,a=e.ui[t].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,a=e.plugins[t];if(a&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<a.length;r++)e.options[a[r][0]]&&a[r][1].apply(e.element,n)}},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")},e.widget("ui.draggable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]),i=e(t.target);this._getHandle(t)&&i.closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,a=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=e(r.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,a,o=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-o.grid[1]:r+o.grid[1]:r,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=n?a-this.offset.click.left>=n[0]||a-this.offset.click.left>n[2]?a:a-this.offset.click.left>=n[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))}))},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,(function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))}))},drag:function(t,n,i){e.each(i.sortables,(function(){var r=!1,a=this;a.positionAbs=i.positionAbs,a.helperProportions=i.helperProportions,a.offset.click=i.offset.click,a._intersectsWith(a.containerCache)&&(r=!0,e.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(r=!1),r}))),r?(a.isOver||(a.isOver=1,i._parent=n.helper.parent(),a.currentItem=n.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return n.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=i.offset.click.top,a.offset.click.left=i.offset.click.left,a.offset.parent.left-=i.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=i.offset.parent.top-a.offset.parent.top,i._trigger("toSortable",t),i.dropped=a.element,e.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,a.fromOutside=i),a.currentItem&&(a._mouseDrag(t),n.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),a=i.options;r.css("cursor")&&(a._cursor=r.css("cursor")),r.css("cursor",a.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),a=i.options;r.css("opacity")&&(a._opacity=r.css("opacity")),r.css("opacity",a.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,a=!1,o=i.scrollParentNotHidden[0],s=i.document[0];o!==s&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<r.scrollSensitivity?o.scrollTop=a=o.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<r.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?a=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(a=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?a=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(a=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),!1!==a&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each((function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,i){var r,a,o,s,l,c,u,d,h,p,f=i.options,m=f.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)c=(l=i.snapElements[h].left-i.margins.left)+i.snapElements[h].width,d=(u=i.snapElements[h].top-i.margins.top)+i.snapElements[h].height,v<l-m||g>c+m||b<u-m||y>d+m||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-b)<=m,a=Math.abs(d-y)<=m,o=Math.abs(l-v)<=m,s=Math.abs(c-g)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=r||a||o||s,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=m,a=Math.abs(d-b)<=m,o=Math.abs(l-g)<=m,s=Math.abs(c-v)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||a||o||s||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||a||o||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,a=i.options,o=e.makeArray(e(a.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));o.length&&(r=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each((function(t){e(this).css("zIndex",r+t)})),this.css("zIndex",r+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),a=i.options;r.css("zIndex")&&(a._zIndex=r.css("zIndex")),r.css("zIndex",a.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",(function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())})).on("mouseleave",(function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){this._super(e,t),"handles"===e&&(this._removeHandles(),this._setupHandles())},_setupHandles:function(){var t,n,i,r,a,o=this.options,s=this;if(this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)r="ui-resizable-"+(t=e.trim(i[n])),a=e("<div>"),this._addClass(a,"ui-resizable-handle "+r),a.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(a);this._renderAxis=function(t){var n,i,r,a;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){s.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=a&&a[1]?a[1]:"se")})),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),a.containment&&(n+=e(a.containment).scrollLeft()||0,i+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,a=this.axis,o=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,a,o,s,l,c=this.options,u=this;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,a=i?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-r},s=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,i=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,r=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),i>a.minHeight&&(a.minHeight=i),n<a.maxWidth&&(a.maxWidth=n),r<a.maxHeight&&(a.maxHeight=r)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),a&&c&&(e.left=s-t.minWidth),i&&c&&(e.left=s-t.maxWidth),o&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(r[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=a?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-o},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,a,o,s,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,i){n[e]=l._num(t.css("padding"+i))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,a=l.containerSize.width,o=l._hasScroll(h,"left")?h.scrollWidth:a,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:o,height:s}))},resize:function(t){var n,i,r,a,o=e(this).resizable("instance"),s=o.options,l=o.containerOffset,c=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=s.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),r&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,a=t.containerElement,o=e(t.helper),s=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(a.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(a.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})}))},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,a=i.originalSize,o=i.originalPosition,s={height:i.size.height-a.height||0,width:i.size.width-a.width||0,top:i.position.top-o.top||0,left:i.position.left-o.left||0};e(r.alsoResize).each((function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},a=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,(function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)})),t.css(r)}))},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,a=n.originalSize,o=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-a.width)/c)*c,h=Math.round((r.height-a.height)/u)*u,p=a.width+d,f=a.height+h,m=i.maxWidth&&i.maxWidth<p,g=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),y&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(s)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.top=o.top-h):/^(sw)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.left=o.left-d):((f-u<=0||p-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=o.top-h):(f=u-t.height,n.size.height=f,n.position.top=o.top+a.height-f),p-c>0?(n.size.width=p,n.position.left=o.left-d):(p=c-t.width,n.size.width=p,n.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.12.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){n._trigger("close",t)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),a=Math.max.apply(null,r);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function n(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){r.trigger("focus")})),t.preventDefault()):(this._delay((function(){i.trigger("focus")})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(n,(function(n,i){var r,a;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,a={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,e("<button></button>",i).button(a).appendTo(t.uiButtonSet).on("click",(function(){r.apply(t.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,n=this.options;function i(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t._addClass(e(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",n,i(r))},drag:function(e,n){t._trigger("drag",e,i(n))},stop:function(r,a){var o=a.offset.left-t.document.scrollLeft(),s=a.offset.top-t.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:t.window},t._removeClass(e(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",r,i(a))}})},_makeResizable:function(){var t=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),a="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function o(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,i){t._addClass(e(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",n,o(i))},resize:function(e,n){t._trigger("resize",e,o(n))},stop:function(i,r){var a=t.uiDialog.offset(),s=a.left-t.document.scrollLeft(),l=a.top-t.document.scrollTop();n.height=t.uiDialog.height(),n.width=t.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(e(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",i,o(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};e.each(t,(function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)})),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,n){var i,r,a=this.uiDialog;"disabled"!==t&&(this._super(t,n),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=a.is(":data(ui-draggable)"))&&!n&&a.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((r=a.is(":data(ui-resizable)"))&&!n&&a.resizable("destroy"),r&&"string"==typeof n&&a.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog,e.widget("ui.droppable",{version:"1.12.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&k(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return r=!0,!1})),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var w,k=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,i,r){if(!n.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,s=a+t.helperProportions.width,l=o+t.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return c<=a&&s<=d&&u<=o&&l<=h;case"intersect":return c<a+t.helperProportions.width/2&&s-t.helperProportions.width/2<d&&u<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(r.pageY,u,n.proportions().height)&&e(r.pageX,c,n.proportions().width);case"touch":return(o>=u&&o<=h||l>=u&&l<=h||o<u&&l>h)&&(a>=c&&a<=d||s>=c&&s<=d||a<c&&s>d);default:return!1}}}();function x(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,r,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<a.length;i++)if(!(a[i].options.disabled||t&&!a[i].accept.call(a[i].element[0],t.currentItem||t.element))){for(r=0;r<s.length;r++)if(s[r]===a[i].element[0]){a[i].proportions().height=0;continue e}a[i].visible="none"!==a[i].element.css("display"),a[i].visible&&("mousedown"===o&&a[i]._activate.call(a[i],n),a[i].offset=a[i].element.offset(),a[i].proportions({width:a[i].element[0].offsetWidth,height:a[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&k(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,a,o=k(t,this,this.options.tolerance,n),s=!o&&this.isover?"isout":o&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,(a=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===r}))).length&&((i=e(a[0]).droppable("instance")).greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable,e.widget("ui.progressbar",{version:"1.12.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=e("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.12.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each((function(){var n=e(this),i=n.offset(),r={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))})),e(t.target).parents().addBack().each((function(){var i,r=e.data(this,"selectable-item");if(r)return i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,a=this.opos[0],o=this.opos[1],s=t.pageX,l=t.pageY;return a>s&&(n=s,s=a,a=n),o>l&&(n=l,l=o,o=n),this.helper.css({left:a,top:o,width:s-a,height:l-o}),this.selectees.each((function(){var n=e.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?c=!(u.left>s||u.right<a||u.top>l||u.bottom<o):"fit"===r.tolerance&&(c=u.left>a&&u.right<s&&u.top>o&&u.bottom<l),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})})),e(".ui-selecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})})),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=e("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){n._rendered||n._refreshMenu()}))},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var n=e("<span>");return this._setText(n,t.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(t,n){var i=this,r="";e.each(n,(function(n,a){var o;a.optgroup!==r&&(o=e("<li>",{text:a.optgroup}),i._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(t),r=a.optgroup),i._renderItemData(t,a)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>"),r=e("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(t){var n=this,i=[];t.each((function(t,r){i.push(n._parseOption(e(r),t))})),this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),e.widget("ui.slider",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle"),a="<span tabindex='0'></span>",o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;t<n;t++)o.push(a);this.handles=r.add(e(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,a,o,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var n=Math.abs(i-c.values(t));(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===u.min))&&(r=n,a=e(this),o=t)})),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(a,null,"ui-state-active"),a.trigger("focus"),s=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-a.width()/2,top:t.pageY-s.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,a;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),a=this._valueMin()+i*r,this._trimAlignValue(a)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r=this.value(),a=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),a[t]=n),n!==r&&!1!==this._trigger("slide",e,this._uiHash(t,n,a))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,r=arguments[0],a=0;a<i.length;a+=1)i[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),this._super(t,n),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,r,a,o=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each((function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n})):(i=this.value(),r=this._valueMin(),a=this._valueMax(),n=a!==r?(i-r)/(a-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(t){var n,i,r,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,a)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(t,a,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,(function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,a=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,a.widgetName+"-item")===a)return i=e(this),!1})),e.data(t.target,a.widgetName+"-item")===a&&(i=e(t.target)),!i||this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each((function(){this===t.target&&(r=!0)})),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,n,i){var r,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,a,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(a=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===a?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,(function(){i._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each((function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")})),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,a=e.left,o=a+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&i+c<l,h="y"===this.options.axis||t+u>a&&t+u<o,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!i||!r)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,a,o=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(i=(r=e(l[n],this.document[0])).length-1;i>=0;i--)(a=e.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&s.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);function c(){o.push(this)}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(c);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,a,o,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(r=e(h[n],this.document[0])).length-1;i>=0;i--)(a=e.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(n=d.length-1;n>=0;n--)for(o=d[n][1],i=0,c=(s=d[n][0]).length;i<c;i++)(l=e(s[i])).data(this.widgetName+"-item",o),u.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,i,r,a;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),a=r.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)a=this.containers[n].element.offset(),this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]);return t._addClass(r,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each((function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(t){var n,i,r,a,o,s,l,c,u,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,a=null,o=(u=h.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",d=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[o],c=!1,t[d]-l>this.items[i][s]/2&&(c=!0),Math.abs(t[d]-l)<r&&(r=Math.abs(t[d]-l),a=this.items[i],this.direction=c?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,a=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!i)}))},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}for(this.fromOutside&&!t&&i.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(i.push((function(e){this._trigger("remove",e,this._uiHash())})),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.12.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),n=this.element;return e.each(["min","max","step"],(function(e,i){var r=n.attr(i);null!=r&&r.length&&(t[i]=r)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){var n;function i(){this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay((function(){this.previous=n})))}n=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,n)}),e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return n=e-(t=null!==i.min?i.min:0),e=t+(n=Math.round(n/i.step)*i.step),e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n,i,r;if("culture"===e||"numberFormat"===e)return n=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(n));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:x((function(e){this._super(e)})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:x((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:x((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:x((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:x((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());x(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),e.ui.spinner,e.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(w=/#.*$/,function(e){var t,n;t=e.href.replace(w,""),n=location.href.replace(w,"");try{t=decodeURIComponent(t)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return e.hash.length>1&&t===n}),_create:function(){var t=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each((function(n,r){if(e(r).attr("aria-controls")===i)return t=n,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(e.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",i)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){var i=this.tabs.length-1;function r(){return t>i&&(t=0),t<0&&(t=i),t}for(;-1!==e.inArray(r(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),(function(e){return n.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each((function(n,i){var r,a,o,s=e(i).uniqueId().attr("id"),l=e(i).closest("li"),c=l.attr("aria-controls");t._isLocal(i)?(o=(r=i.hash).substring(1),a=t.element.find(t._sanitizeSelector(r))):(r="#"+(o=l.attr("aria-controls")||e({}).uniqueId()[0].id),(a=t.element.find(r)).length||(a=t._createPanel(o)).insertAfter(t.panels[n-1]||t.tablist),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o,"aria-labelledby":s}),a.attr("aria-labelledby",s)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var n,i,r;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;i=this.tabs[r];r++)n=e(i),!0===t||-1!==e.inArray(r,t)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each((function(){n=Math.max(n,e(this).height("").height())})).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget).closest("li"),a=r[0]===i[0],o=a&&n.collapsible,s=o?e():this._getPanelForTab(r),l=i.length?this._getPanelForTab(i):e(),c={oldTab:i,oldPanel:l,newTab:o?e():r,newPanel:s};t.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!o&&this.tabs.index(r),this.active=a?e():r,this.xhr&&this.xhr.abort(),l.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(r),t),this._toggle(t,c))},_toggle:function(t,n){var i=this,r=n.newPanel,a=n.oldPanel;function o(){i.running=!1,i._trigger("activate",t,n)}function s(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&i.options.show?i._show(r,i.options.show,o):(r.show(),o())}this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,(function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()})):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),s()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&a.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,n){return n!==t?n:null}))),this._setOptionDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setOptionDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),a=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),s={tab:r,panel:o},l=function(e,t){"abort"===t&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),o.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done((function(e,t,r){setTimeout((function(){o.html(e),i._trigger("load",n,s),l(r,t)}),1)})).fail((function(e,t){setTimeout((function(){l(e,t)}),1)}))))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,a){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:a},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),e.ui.tabs,e.widget("ui.tooltip",{version:"1.12.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),(i=e.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,n){var i=this;this._super(t,n),"content"===t&&e.each(this.tooltips,(function(e,t){i._updateContent(t.element)}))},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,(function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0],t.close(r,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})),this.disabledTitles=e([])},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each((function(){var t,i=e(this);i.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))})),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,a=t?t.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(t,e,i);(n=i.call(e[0],(function(n){r._delay((function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,n))}))})))&&this._open(t,e,n)},_open:function(t,n,i){var r,a,o,s,l=e.extend({},this.options.position);function c(e){l.of=e,a.is(":hidden")||a.position(l)}i&&((r=this._find(n))?r.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),a=r.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(s=e("<div>").html(a.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:c}),c(t)):a.position(e.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval((function(){a.is(":visible")&&(c(l.of),clearInterval(o))}),e.fx.interval)),this._trigger("open",t,{tooltip:a})))},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),a=this._find(r);a?(n=a.tooltip,a.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),a.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){i._removeTooltip(e(this))})),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]})),a.closing=!0,this._trigger("close",t,{tooltip:n}),a.hiding||(a.closing=!1))):r.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),i=e("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(t)),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,(function(n,i){var r=e.Event("blur"),a=i.element;r.target=r.currentTarget=a[0],t.close(r,!0),e("#"+n).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),e.ui.tooltip},void 0===(a="function"==typeof i?i.apply(t,r):i)||(e.exports=a)},5326:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}for(i in overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)},onChangeMonthYear:function(e,t,n){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,n,tp_inst)},onClose:function(e,t){!0===tp_inst.timeDefined&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}},overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,(function(e){return e.toUpperCase()})),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,(function(e){return e.toUpperCase()})),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&void 0===$.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzi<tzl;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),!0===tp_inst._defaults.altRedirectFocus&&tp_inst.$altInput.css({cursor:"pointer"}).focus((function(){$input.trigger("focus")}))),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",(function(){tp_inst._onFocus()})),tp_inst},_addTimePicker:function(e){var t=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var n=$.datepicker._get(this.inst,"dateFormat");try{var i=parseDateTimeInternal(n,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!i.timeObj)return!1;$.extend(this,i.timeObj)}catch(t){return $.timepicker.log("Error parsing the date/time string: "+t+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+n),!1}return!0}var r=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return!!r&&($.extend(this,r),!0)},_afterInject:function(){var e=this.inst.settings;$.isFunction(e.afterInject)&&e.afterInject.call(this)},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,n=this,i="",r="",a=null,o={},s={},l=null,c=0,u=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var d=" ui_tpicker_unit_hide",h='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+(t.oneLine&&"select"===t.controlType?" ui-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(t.showTime?"":d)+'">'+t.timeText+'</dt><dd class="ui_tpicker_time '+(t.showTime?"":d)+'"><input class="ui_tpicker_time_input" '+(t.timeInput?"":"disabled")+"/></dd>";for(c=0,u=this.units.length;c<u;c++){if(a=null!==t["show"+(r=(i=this.units[c]).substr(0,1).toUpperCase()+i.substr(1))]?t["show"+r]:this.support[i],o[i]=parseInt(t[i+"Max"]-(t[i+"Max"]-t[i+"Min"])%t["step"+r],10),s[i]=0,h+='<dt class="ui_tpicker_'+i+"_label"+(a?"":d)+'">'+t[i+"Text"]+'</dt><dd class="ui_tpicker_'+i+(a?"":d)+'"><div class="ui_tpicker_'+i+"_slider"+(a?"":d)+'"></div>',a&&t[i+"Grid"]>0){if(h+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===i)for(var p=t[i+"Min"];p<=o[i];p+=parseInt(t[i+"Grid"],10)){s[i]++;var f=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:p},t);h+='<td data-for="'+i+'">'+f+"</td>"}else for(var m=t[i+"Min"];m<=o[i];m+=parseInt(t[i+"Grid"],10))s[i]++,h+='<td data-for="'+i+'">'+(m<10?"0":"")+m+"</td>";h+="</tr></table></div>"}h+="</dd>"}var g=null!==t.showTimezone?t.showTimezone:this.support.timezone;h+='<dt class="ui_tpicker_timezone_label'+(g?"":d)+'">'+t.timezoneText+"</dt>",h+='<dd class="ui_tpicker_timezone'+(g?"":d)+'"></dd>';var v=$(h+="</dl></div>");for(!0===t.timeOnly&&(v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),c=0,u=n.units.length;c<u;c++)a=null!==t["show"+(r=(i=n.units[c]).substr(0,1).toUpperCase()+i.substr(1))]?t["show"+r]:this.support[i],n[i+"_slider"]=n.control.create(n,v.find(".ui_tpicker_"+i+"_slider"),i,n[i],t[i+"Min"],o[i],t["step"+r]),a&&t[i+"Grid"]>0&&(l=100*s[i]*t[i+"Grid"]/(o[i]-t[i+"Min"]),v.find(".ui_tpicker_"+i+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*s[i])+"%",marginRight:t.isRTL?l/(-2*s[i])+"%":"0",borderCollapse:"collapse"}).find("td").click((function(e){var t=$(this),r=t.html(),a=parseInt(r.replace(/[^0-9]/g),10),o=r.replace(/[^apm]/gi),s=t.data("for");"hour"===s&&(-1!==o.indexOf("p")&&a<12?a+=12:-1!==o.indexOf("a")&&12===a&&(a=0)),n.control.value(n,n[s+"_slider"],i,a),n._onTimeChange(),n._onSelectHandler()})).css({cursor:"pointer",width:100/s[i]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,(function(e,t){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)}))),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone?-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?selectLocalTimezone(n):this.timezone_select.val(this.timezone):void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(n),this.timezone_select.change((function(){n._onTimeChange(),n._onSelectHandler(),n._afterInject()}));var y=e.find(".ui-datepicker-buttonpane");if(y.length?y.before(v):e.append(v),this.$timeObj=v.find(".ui_tpicker_time_input"),this.$timeObj.change((function(){var e=n.inst.settings.timeFormat,t=$.datepicker.parseTime(e,this.value),i=new Date;t?(i.setHours(t.hour),i.setMinutes(t.minute),i.setSeconds(t.second),$.datepicker._setTime(n.inst,i)):(this.value=n.formattedTime,this.blur())})),null!==this.inst){var b=this.timeDefined;this._onTimeChange(),this.timeDefined=b}if(this._defaults.addSliderAccess){var _=this._defaults.sliderAccessArgs,w=this._defaults.isRTL;_.isRTL=w,setTimeout((function(){if(0===v.find(".ui-slider-access").length){v.find(".ui-slider:visible").sliderAccess(_);var e=v.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&v.find("table:visible").each((function(){var t=$(this),n=t.outerWidth(),i=t.css(w?"marginRight":"marginLeft").toString().replace("%",""),r=n-e,a=i*r/n+"%",o={width:r,marginRight:0,marginLeft:0};o[w?"marginRight":"marginLeft"]=a,t.css(o)}))}}),10)}n._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var n=this._defaults,i=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&i){var r=$.datepicker._get(e,"minDateTime"),a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=n.hourMin,this.minuteMinOriginal=n.minuteMin,this.secondMinOriginal=n.secondMin,this.millisecMinOriginal=n.millisecMin,this.microsecMinOriginal=n.microsecMin),e.settings.timeOnly||a.getTime()===i.getTime()?(this._defaults.hourMin=r.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=r.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=r.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=r.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=r.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&i){var o=$.datepicker._get(e,"maxDateTime"),s=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=n.hourMax,this.minuteMaxOriginal=n.minuteMax,this.secondMaxOriginal=n.secondMax,this.millisecMaxOriginal=n.millisecMax,this.microsecMaxOriginal=n.microsecMax),e.settings.timeOnly||s.getTime()===i.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=o.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==e.settings.minTime){var l=new Date("01/01/1970 "+e.settings.minTime);this.hour<l.getHours()?(this.hour=this._defaults.hourMin=l.getHours(),this.minute=this._defaults.minuteMin=l.getMinutes()):this.hour===l.getHours()&&this.minute<l.getMinutes()?this.minute=this._defaults.minuteMin=l.getMinutes():this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?this._defaults.minuteMin=l.getMinutes():this._defaults.minuteMin=0}if(null!==e.settings.maxTime){var c=new Date("01/01/1970 "+e.settings.maxTime);this.hour>c.getHours()?(this.hour=this._defaults.hourMax=c.getHours(),this.minute=this._defaults.minuteMax=c.getMinutes()):this.hour===c.getHours()&&this.minute>c.getMinutes()?this.minute=this._defaults.minuteMax=c.getMinutes():this._defaults.hourMax>c.getHours()?(this._defaults.hourMax=c.getHours(),this._defaults.minuteMax=c.getMinutes()):this._defaults.hourMax===c.getHours()===this.hour&&this._defaults.minuteMax>c.getMinutes()?this._defaults.minuteMax=c.getMinutes():this._defaults.minuteMax=59}if(void 0!==t&&!0===t){var u=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),d=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),h=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),p=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),f=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:u,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:d,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:h,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:p,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:f,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),t=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),n=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),i=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),r=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),a=!!this.timezone_select&&this.timezone_select.val(),o=this._defaults,s=o.pickerTimeFormat||o.timeFormat,l=o.pickerTimeSuffix||o.timeSuffix;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof n&&(n=!1),"object"==typeof i&&(i=!1),"object"==typeof r&&(r=!1),"object"==typeof a&&(a=!1),!1!==e&&(e=parseInt(e,10)),!1!==t&&(t=parseInt(t,10)),!1!==n&&(n=parseInt(n,10)),!1!==i&&(i=parseInt(i,10)),!1!==r&&(r=parseInt(r,10)),!1!==a&&(a=a.toString());var c=o[e<12?"amNames":"pmNames"][0],u=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||n!==parseInt(this.second,10)||i!==parseInt(this.millisec,10)||r!==parseInt(this.microsec,10)||this.ampm.length>0&&e<12!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&a!==this.timezone.toString();if(u&&(!1!==e&&(this.hour=e),!1!==t&&(this.minute=t),!1!==n&&(this.second=n),!1!==i&&(this.millisec=i),!1!==r&&(this.microsec=r),!1!==a&&(this.timezone=a),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=c),this.formattedTime=$.datepicker.formatTime(o.timeFormat,this,o),this.$timeObj&&(s===o.timeFormat?this.$timeObj.val(this.formattedTime+l):this.$timeObj.val($.datepicker.formatTime(s,this,o)+l),this.$timeObj[0].setSelectionRange)){var d=this.$timeObj[0].selectionStart,h=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(d,h)}this.timeDefined=!0,u&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t=(e=this.inst||e).currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),n=$.datepicker._daylightSavingAdjust(t),i=$.datepicker._get(e,"dateFormat"),r=$.datepicker._getFormatConfig(e),a=null!==n&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(i,null===n?new Date:n,r);var o=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?o=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||a)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(o+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=o,this._defaults.showTimepicker)if(this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(o);var s="",l=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,c=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(s=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===n?new Date:n,r):this.formattedDate)&&(s+=l),null!==this._defaults.altTimeFormat?s+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+c:s+=this.formattedTime+c,this.$altInput.val(s)}else this.$input.val(o);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(e){$.timepicker.log(e)}}},_controls:{slider:{create:function(e,t,n,i,r,a,o){var s=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:s?-1*i:i,min:s?-1*a:r,max:s?-1*r:a,step:o,slide:function(t,i){e.control.value(e,$(this),n,s?-1*i.value:i.value),e._onTimeChange()},stop:function(t,n){e._onSelectHandler()}})},options:function(e,t,n,i,r){if(e._defaults.isRTL){if("string"==typeof i)return"min"===i||"max"===i?void 0!==r?t.slider(i,-1*r):Math.abs(t.slider(i)):t.slider(i);var a=i.min,o=i.max;return i.min=i.max=null,void 0!==a&&(i.max=-1*a),void 0!==o&&(i.min=-1*o),t.slider(i)}return"string"==typeof i&&void 0!==r?t.slider(i,r):t.slider(i)},value:function(e,t,n,i){return e._defaults.isRTL?void 0!==i?t.slider("value",-1*i):Math.abs(t.slider("value")):void 0!==i?t.slider("value",i):t.slider("value")}},select:{create:function(e,t,n,i,r,a,o){for(var s='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+n+'" data-min="'+r+'" data-max="'+a+'" data-step="'+o+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,c=r;c<=a;c+=o)s+='<option value="'+c+'"'+(c===i?" selected":"")+">",s+="hour"===n?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:c},e._defaults):"millisec"===n||"microsec"===n||c>=10?c:"0"+c.toString(),s+="</option>";return s+="</select>",t.children("select").remove(),$(s).appendTo(t).change((function(t){e._onTimeChange(),e._onSelectHandler(),e._afterInject()})),t},options:function(e,t,n,i,r){var a={},o=t.children("select");if("string"==typeof i){if(void 0===r)return o.data(i);a[i]=r}else a=i;return e.control.create(e,t,o.data("unit"),o.val(),a.min>=0?a.min:o.data("min"),a.max||o.data("max"),a.step||o.data("step"))},value:function(e,t,n,i){var r=t.children("select");return void 0!==i?r.val(i):r.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each((function(){$.fn.datetimepicker.apply($(this),t)}))},datetimepicker:function(e){var t=arguments;return"string"==typeof(e=e||{})?"getDate"===e||"option"===e&&2===t.length&&"string"==typeof t[1]?$.fn.datepicker.apply($(this[0]),t):this.each((function(){var e=$(this);e.datepicker.apply(e,t)})):this.each((function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)}))}}),$.datepicker.parseDateTime=function(e,t,n,i,r){var a=parseDateTimeInternal(e,t,n,i,r);if(a.timeObj){var o=a.timeObj;a.date.setHours(o.hour,o.minute,o.second,o.millisec),a.date.setMicroseconds(o.microsec)}return a.date},$.datepicker.parseTime=function(e,t,n){var i=extendRemove(extendRemove({},$.timepicker._defaults),n||{}),r=(e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,n){var i,r="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){var t,i,r,a=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===a?"(\\d?\\d)":"(\\d{"+a+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return t=n.amNames,i=n.pmNames,r=[],t&&$.merge(r,t),i&&$.merge(r,i),"("+(r=$.map(r,(function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}))).join("|")+")?";default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,(function(e){return"\\"+e}))+")?"}})).replace(/\s/g,"\\s?")+n.timeSuffix+"$",a=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),n={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var i=0;i<t.length;i++)-1===n[t[i].toString().charAt(0)]&&(n[t[i].toString().charAt(0)]=i+1);return n}(e),o="",s={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(i=t.match(new RegExp(r,"i")))&&(-1!==a.t&&(void 0===i[a.t]||0===i[a.t].length?(o="",s.ampm=""):(o=-1!==$.inArray(i[a.t].toUpperCase(),$.map(n.amNames,(function(e,t){return e.toUpperCase()})))?"AM":"PM",s.ampm=n["AM"===o?"amNames":"pmNames"][0])),-1!==a.h&&("AM"===o&&"12"===i[a.h]?s.hour=0:"PM"===o&&"12"!==i[a.h]?s.hour=parseInt(i[a.h],10)+12:s.hour=Number(i[a.h])),-1!==a.m&&(s.minute=Number(i[a.m])),-1!==a.s&&(s.second=Number(i[a.s])),-1!==a.l&&(s.millisec=Number(i[a.l])),-1!==a.c&&(s.microsec=Number(i[a.c])),-1!==a.z&&void 0!==i[a.z]&&(s.timezone=$.timepicker.timezoneOffsetNumber(i[a.z])),s)});return"function"==typeof i.parse?i.parse(e,t,i):"loose"===i.parse?function(e,t,n){try{var i=new Date("2012-01-01 "+t);if(isNaN(i.getTime())&&(i=new Date("2012-01-01T"+t),isNaN(i.getTime())&&(i=new Date("01/01/2012 "+t),isNaN(i.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:i.getHours(),minute:i.getMinutes(),second:i.getSeconds(),millisec:i.getMilliseconds(),microsec:i.getMicroseconds(),timezone:-1*i.getTimezoneOffset()}}catch(i){try{return r(e,t,n)}catch(n){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1}(e,t,i):r(e,t,i)},$.datepicker.formatTime=function(e,t,n){n=n||{},n=$.extend({},$.timepicker._defaults,n),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var i=e,r=n.amNames[0],a=parseInt(t.hour,10);return a>11&&(r=n.pmNames[0]),i=i.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){switch(e){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+convert24to12(a)).slice(-2);case"h":return convert24to12(a);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?n.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?n.timezone:t.timezone,!0);case"T":return r.charAt(0).toUpperCase();case"TT":return r.toUpperCase();case"t":return r.charAt(0).toLowerCase();case"tt":return r.toLowerCase();default:return e.replace(/'/g,"")}}))},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var n,i=this._getInst($(e)[0]),r=this._get(i,"timepicker");r&&i.settings.showTimepicker?(r._limitMinMaxDateTime(i,!0),n=i.inline,i.inline=i.stay_open=!0,this._base_selectDate(e,t),i.inline=n,i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&!1!==e.stay_open)){this._base_updateDatepicker(e);var n=this._get(e,"timepicker");n&&n._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&$.datepicker._get(t,"constrainInput")){var i=n.support.ampm,r=null!==n._defaults.showTimezone?n._defaults.showTimezone:n.support.timezone,a=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),o=n._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,i?"APM":"").replace(/Tt/g,i?"AaPpMm":"").replace(/tT/g,i?"AaPpMm":"").replace(/T/g,i?"AP":"").replace(/tt/g,i?"apm":"").replace(/t/g,i?"ap":"")+" "+n._defaults.separator+n._defaults.timeSuffix+(r?n._defaults.timezoneList.join(""):"")+n._defaults.amNames.join("")+n._defaults.pmNames.join("")+a,s=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||s<" "||!a||o.indexOf(s)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var n=t._defaults.altField;if(n){t._defaults.altFormat||t._defaults.dateFormat;var i=this._getDate(e),r=$.datepicker._getFormatConfig(e),a="",o=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,s=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;a+=$.datepicker.formatTime(l,t,t._defaults)+s,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===i||(a=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,i,r)+o+a:t.formattedDate+o+a),$(n).val(e.input.val()?a:"")}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&n._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(e){$.timepicker.log(e)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]);this._base_gotoToday(e);var n=this._get(t,"timepicker");if(n){var i=$.timepicker.timezoneOffsetNumber(n.timezone),r=new Date;r.setMinutes(r.getMinutes()+r.getTimezoneOffset()+parseInt(i,10)),this._setTime(t,r),this._setDate(t,r),n._onSelectHandler()}},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var n=this._get(t,"timepicker");$(e).datepicker("getDate"),n&&(t.settings.showTimepicker=!1,n._defaults.showTimepicker=!1,n._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var n=this._get(t,"timepicker");$(e).datepicker("getDate"),n&&(t.settings.showTimepicker=!0,n._defaults.showTimepicker=!0,n._addTimePicker(t),n._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var n=this._get(e,"timepicker");if(n){var i=n._defaults;n.hour=t?t.getHours():i.hour,n.minute=t?t.getMinutes():i.minute,n.second=t?t.getSeconds():i.second,n.millisec=t?t.getMilliseconds():i.millisec,n.microsec=t?t.getMicroseconds():i.microsec,n._limitMinMaxDateTime(e,!0),n._onTimeChange(),n._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,n){var i=this._getInst(e);if(i){var r,a=this._get(i,"timepicker");a&&(this._setDateFromField(i),t&&("string"==typeof t?(a._parseTime(t,n),(r=new Date).setHours(a.hour,a.minute,a.second,a.millisec),r.setMicroseconds(a.microsec)):(r=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===r.toString()&&(r=void 0),this._setTime(i,r)))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var n=this._getInst(e),i=t;if(n){"string"==typeof t&&((i=new Date(t)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),i=$(e).datepicker("getDate")));var r,a=this._get(n,"timepicker");i instanceof Date?(r=new Date(i.getTime())).setMicroseconds(i.getMicroseconds()):r=i,a&&r&&(a.support.timezone||null!==a._defaults.timezone||(a.timezone=-1*r.getTimezoneOffset()),i=$.timepicker.timezoneAdjust(i,$.timepicker.timezoneOffsetString(-i.getTimezoneOffset()),a.timezone),r=$.timepicker.timezoneAdjust(r,$.timepicker.timezoneOffsetString(-r.getTimezoneOffset()),a.timezone)),this._updateDatepicker(n),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,r,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var n=this._getInst(e);if(n){var i=this._get(n,"timepicker");if(i){void 0===n.lastVal&&this._setDateFromField(n,t);var r=this._getDate(n),a=null;return a=i.$altInput&&i._defaults.altFieldTimeOnly?i.$input.val()+" "+i.$altInput.val():"INPUT"!==i.$input.get(0).tagName&&i.$altInput?i.$altInput.val():i.$input.val(),r&&i._parseTime(a,!n.settings.timeOnly)&&(r.setHours(i.hour,i.minute,i.second,i.millisec),r.setMicroseconds(i.microsec),null!=i.timezone&&(i.support.timezone||null!==i._defaults.timezone||(i.timezone=-1*r.getTimezoneOffset()),r=$.timepicker.timezoneAdjust(r,i.timezone,$.timepicker.timezoneOffsetString(-r.getTimezoneOffset())))),r}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,n){var i;try{i=this._base_parseDate(e,t,n)}catch(r){if(!(r.indexOf(":")>=0))throw r;i=this._base_parseDate(e,t.substring(0,t.length-(r.length-r.indexOf(":")-2)),n),$.timepicker.log("Error parsing the date string: "+r+"\ndate string = "+t+"\ndate format = "+e)}return i},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,n,i){var r=this._get(e,"timepicker");return r?(r._updateDateTime(e),r.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,n){var i,r=this._getInst(e);if(!r)return null;var a=this._get(r,"timepicker");if(a){var o,s,l,c,u=null,d=null,h=null,p=a._defaults.evnts,f={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)u=n;else if("maxDate"===t||"maxDateTime"===t)d=n;else if("onSelect"===t)h=n;else if(p.hasOwnProperty(t)){if(void 0===n)return p[t];f[t]=n,i={}}}else if("object"==typeof t)for(o in t.minDate?u=t.minDate:t.minDateTime?u=t.minDateTime:t.maxDate?d=t.maxDate:t.maxDateTime&&(d=t.maxDateTime),p)p.hasOwnProperty(o)&&t[o]&&(f[o]=t[o]);for(o in f)f.hasOwnProperty(o)&&(p[o]=f[o],i||(i=$.extend({},t)),delete i[o]);if(i&&isEmptyObject(i))return;if(u?(u=0===u?new Date:new Date(u),a._defaults.minDate=u,a._defaults.minDateTime=u):d?(d=0===d?new Date:new Date(d),a._defaults.maxDate=d,a._defaults.maxDateTime=d):h&&(a._defaults.onSelect=h),u||d)return l=(c=$(e)).datetimepicker("getDate"),s=this._base_optionDatepicker.call($.datepicker,e,i||t,n),c.datetimepicker("setDate",l),s}return void 0===n?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,i||t,n)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){for(var n in $.extend(e,t),t)null!==t[n]&&void 0!==t[n]||(e[n]=t[n]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),n=function(e,t){return-1!==e.indexOf(t)};return{hour:n(t,"h"),minute:n(t,"m"),second:n(t,"s"),millisec:n(t,"l"),microsec:n(t,"c"),timezone:n(t,"z"),ampm:n(t,"t")&&n(e,"h"),iso8601:n(e,"Z")}},convert24to12=function(e){return 0==(e%=12)&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var n=computeEffectiveSetting(t,"separator"),i=computeEffectiveSetting(t,"timeFormat").split(n).length,r=e.split(n),a=r.length;return a>1?{dateString:r.splice(0,a-i).join(n),timeString:r.splice(0,i).join(n)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,n,i,r){var a,o,s;if(o=splitDateTime(n,r),a=$.datepicker._base_parseDate(e,o.dateString,i),""===o.timeString)return{date:a};if(!(s=$.datepicker.parseTime(t,o.timeString,r)))throw"Wrong time format";return{date:a,timeObj:s}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var n=t||new Date;e.timezone_select.val(-n.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720)return e;var n=e%60,i=(e-n)/60,r=t?":":"",a=(e>=0?"+":"-")+("0"+Math.abs(i)).slice(-2)+r+("0"+Math.abs(n)).slice(-2);return"+00:00"===a?"Z":a},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):parseInt(e,10)},$.timepicker.timezoneAdjust=function(e,t,n){var i=$.timepicker.timezoneOffsetNumber(t),r=$.timepicker.timezoneOffsetNumber(n);return isNaN(r)||e.setMinutes(e.getMinutes()+-i- -r),e},$.timepicker.timeRange=function(e,t,n){return $.timepicker.handleRange("timepicker",e,t,n)},$.timepicker.datetimeRange=function(e,t,n){$.timepicker.handleRange("datetimepicker",e,t,n)},$.timepicker.dateRange=function(e,t,n){$.timepicker.handleRange("datepicker",e,t,n)},$.timepicker.handleRange=function(e,t,n,i){i=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},i);var r=!1;function a(r,a){var o=t[e]("getDate"),s=n[e]("getDate"),l=r[e]("getDate");if(null!==o){var c=new Date(o.getTime()),u=new Date(o.getTime());c.setMilliseconds(c.getMilliseconds()+i.minInterval),u.setMilliseconds(u.getMilliseconds()+i.maxInterval),i.minInterval>0&&c>s?n[e]("setDate",c):i.maxInterval>0&&u<s?n[e]("setDate",u):o>s&&a[e]("setDate",l)}}function o(t,n,r){if(t.val()){var a=t[e].call(t,"getDate");null!==a&&i.minInterval>0&&("minDate"===r&&a.setMilliseconds(a.getMilliseconds()+i.minInterval),"maxDate"===r&&a.setMilliseconds(a.getMilliseconds()-i.minInterval)),a.getTime&&n[e].call(n,"option",r,a)}}return"timepicker"===e&&(r=!0,e="datetimepicker"),$.fn[e].call(t,$.extend({timeOnly:r,onClose:function(e,t){a($(this),n)},onSelect:function(e){o($(this),n,"minDate")}},i,i.start)),$.fn[e].call(n,$.extend({timeOnly:r,onClose:function(e,n){a($(this),t)},onSelect:function(e){o($(this),t,"maxDate")}},i,i.end)),a(t,n),o(t,n,"minDate"),o(n,t,"maxDate"),$([t.get(0),n.get(0)])},$.timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="1.6.3"}},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9755),__webpack_require__(1704)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},9755:function(e,t){var n,i,r;i="undefined"!=typeof window?window:this,r=function(i,r){var a=[],o=i.document,s=a.slice,l=a.concat,c=a.push,u=a.indexOf,d={},h=d.toString,p=d.hasOwnProperty,f={},m="2.2.4",g=function(e,t){return new g.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,b=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()};function w(e){var t=!!e&&"length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:m,constructor:g,selector:"",length:0,toArray:function(){return s.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:s.call(this)},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},g.extend=g.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||g.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(i=e[t])&&(c&&i&&(g.isPlainObject(i)||(r=g.isArray(i)))?(r?(r=!1,a=n&&g.isArray(n)?n:[]):a=n&&g.isPlainObject(n)?n:{},o[t]=g.extend(c,a,i)):void 0!==i&&(o[t]=i));return o},g.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!g.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==g.type(e)||e.nodeType||g.isWindow(e))return!1;if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||p.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=g.trim(e))&&(1===e.indexOf("use strict")?((t=o.createElement("script")).text=e,o.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(y,"ms-").replace(b,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(w(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?g.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,o=[];if(w(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&o.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&o.push(r);return l.apply([],o)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return i=s.call(arguments,2),r=function(){return e.apply(t||this,i.concat(s.call(arguments)))},r.guid=e.guid=e.guid||g.guid++,r},now:Date.now,support:f}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=a[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var k=function(e){var t,n,i,r,a,o,s,l,c,u,d,h,p,f,m,g,v,y,b,_="sizzle"+1*new Date,w=e.document,k=0,x=0,E=ae(),C=ae(),S=ae(),T=function(e,t){return e===t&&(d=!0),0},D=1<<31,F={}.hasOwnProperty,M=[],A=M.pop,I=M.push,O=M.push,N=M.slice,P=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q="\\[[\\x20\\t\\r\\n\\f]*("+L+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+j+"*\\]",Z=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",B=new RegExp(j+"+","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),z=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),H=new RegExp(Z),Y=new RegExp("^"+L+"$"),$={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=function(){h()};try{O.apply(M=N.call(w.childNodes),w.childNodes),M[w.childNodes.length].nodeType}catch(e){O={apply:M.length?function(e,t){I.apply(e,N.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,i,r){var a,s,c,u,d,f,v,y,k=t&&t.ownerDocument,x=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return i;if(!r&&((t?t.ownerDocument||t:w)!==p&&h(t),t=t||p,m)){if(11!==x&&(f=Q.exec(e)))if(a=f[1]){if(9===x){if(!(c=t.getElementById(a)))return i;if(c.id===a)return i.push(c),i}else if(k&&(c=k.getElementById(a))&&b(t,c)&&c.id===a)return i.push(c),i}else{if(f[2])return O.apply(i,t.getElementsByTagName(e)),i;if((a=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(i,t.getElementsByClassName(a)),i}if(n.qsa&&!S[e+" "]&&(!g||!g.test(e))){if(1!==x)k=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(ee,"\\$&"):t.setAttribute("id",u=_),s=(v=o(e)).length,d=Y.test(u)?"#"+u:"[id='"+u+"']";s--;)v[s]=d+" "+me(v[s]);y=v.join(","),k=J.test(e)&&pe(t.parentNode)||t}if(y)try{return O.apply(i,k.querySelectorAll(y)),i}catch(e){}finally{u===_&&t.removeAttribute("id")}}}return l(e.replace(V,"$1"),t,i,r)}function ae(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function oe(e){return e[_]=!0,e}function se(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return oe((function(t){return t=+t,oe((function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))}))}))}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},a=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=re.setDocument=function(e){var t,r,o=e?e.ownerDocument||e:w;return o!==p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,m=!a(p),(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=se((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=se((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(p.getElementsByClassName),n.getById=se((function(e){return f.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=X.test(p.querySelectorAll))&&(se((function(e){f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+R+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")})),se((function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=X.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&se((function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",Z)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=X.test(f.compareDocumentPosition),b=t||X.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===p||e.ownerDocument===w&&b(w,e)?-1:t===p||t.ownerDocument===w&&b(w,t)?1:u?P(u,e)-P(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a)return e===p?-1:t===p?1:r?-1:a?1:u?P(u,e)-P(u,t):0;if(r===a)return ce(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?ce(o[i],s[i]):o[i]===w?-1:s[i]===w?1:0},p):p},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(W,"='$1']"),n.matchesSelector&&m&&!S[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,p,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var r=i.attrHandle[t.toLowerCase()],a=r&&F.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==a?a:n.attributes||!m?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],r=0,a=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[a++];)t===e[a]&&(r=i.push(a));for(;r--;)e.splice(i[r],1)}return u=null,e},r=re.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},i=re.selectors={cacheLength:50,createPseudo:oe,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+j+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=re.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(a){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(b=(p=(c=(u=(d=(h=g)[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[k,p,b];break}}else if(y&&(b=p=(c=(u=(d=(h=t)[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&c[1]),!1===b)for(;(h=++p&&h&&h[m]||(b=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[k,b]),h!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?oe((function(e,n){for(var i,a=r(e,t),o=a.length;o--;)e[i=P(e,a[o])]=!(n[i]=a[o])})):function(e){return r(e,0,n)}):r}},pseudos:{not:oe((function(e){var t=[],n=[],i=s(e.replace(V,"$1"));return i[_]?oe((function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,r,a){return t[0]=e,i(t,null,a,n),t[0]=null,!n.pop()}})),has:oe((function(e){return function(t){return re(e,t).length>0}})),contains:oe((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}})),lang:oe((function(e){return Y.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he((function(){return[0]})),last:he((function(e,t){return[t-1]})),eq:he((function(e,t,n){return[n<0?n+t:n]})),even:he((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:he((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:he((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:he((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=de(t);function fe(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=x++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var s,l,c,u=[k,a];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=(c=t[_]||(t[_]={}))[t.uniqueID]||(c[t.uniqueID]={}))[i])&&s[0]===k&&s[1]===a)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,o))return!0}}}function ve(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function ye(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),c&&t.push(s)));return o}function be(e,t,n,i,r,a){return i&&!i[_]&&(i=be(i)),r&&!r[_]&&(r=be(r,a)),oe((function(a,o,s,l){var c,u,d,h=[],p=[],f=o.length,m=a||function(e,t,n){for(var i=0,r=t.length;i<r;i++)re(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?m:ye(m,h,e,s,l),v=n?r||(a?e:f||i)?[]:o:g;if(n&&n(g,v,s,l),i)for(c=ye(v,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(a){if(r||e){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?P(a,d):h[u])>-1&&(a[c]=!(o[c]=d))}}else v=ye(v===o?v.splice(f,v.length):v),r?r(null,o,v,l):O.apply(o,v)}))}function _e(e){for(var t,n,r,a=e.length,o=i.relative[e[0].type],s=o||i.relative[" "],l=o?1:0,u=ge((function(e){return e===t}),s,!0),d=ge((function(e){return P(t,e)>-1}),s,!0),h=[function(e,n,i){var r=!o&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<a;l++)if(n=i.relative[e[l].type])h=[ge(ve(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<a&&!i.relative[e[r].type];r++);return be(l>1&&ve(h),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<r&&_e(e.slice(l,r)),r<a&&_e(e=e.slice(r)),r<a&&me(e))}h.push(n)}return ve(h)}return fe.prototype=i.filters=i.pseudos,i.setFilters=new fe,o=re.tokenize=function(e,t){var n,r,a,o,s,l,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(o in n&&!(r=z.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(V," ")}),s=s.slice(n.length)),i.filter)!(r=$[o].exec(s))||c[o]&&!(r=c[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):C(e,l).slice(0)},s=re.compile=function(e,t){var n,r=[],a=[],s=S[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=_e(t[n]))[_]?r.push(s):a.push(s);s=S(e,function(e,t){var n=t.length>0,r=e.length>0,a=function(a,o,s,l,u){var d,f,g,v=0,y="0",b=a&&[],_=[],w=c,x=a||r&&i.find.TAG("*",u),E=k+=null==w?1:Math.random()||.1,C=x.length;for(u&&(c=o===p||o||u);y!==C&&null!=(d=x[y]);y++){if(r&&d){for(f=0,o||d.ownerDocument===p||(h(d),s=!m);g=e[f++];)if(g(d,o||p,s)){l.push(d);break}u&&(k=E)}n&&((d=!g&&d)&&v--,a&&b.push(d))}if(v+=y,n&&y!==v){for(f=0;g=t[f++];)g(b,_,o,s);if(a){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=A.call(l));_=ye(_)}O.apply(l,_),u&&!a&&_.length>0&&v+t.length>1&&re.uniqueSort(l)}return u&&(k=E,c=w),b};return n?oe(a):a}(a,r)),s.selector=e}return s},l=re.select=function(e,t,r,a){var l,c,u,d,h,p="function"==typeof e&&e,f=!a&&o(e=p.selector||e);if(r=r||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===t.nodeType&&m&&i.relative[c[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return r;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=$.needsContext.test(e)?0:c.length;l--&&(u=c[l],!i.relative[d=u.type]);)if((h=i.find[d])&&(a=h(u.matches[0].replace(te,ne),J.test(c[0].type)&&pe(t.parentNode)||t))){if(c.splice(l,1),!(e=a.length&&me(c)))return O.apply(r,a),r;break}}return(p||s(e,f))(a,t,!m,r,!t||J.test(e)&&pe(t.parentNode)||t),r},n.sortStable=_.split("").sort(T).join("")===_,n.detectDuplicates=!!d,h(),n.sortDetached=se((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),se((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||le("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&se((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||le("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),se((function(e){return null==e.getAttribute("disabled")}))||le(R,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),re}(i);g.find=k,g.expr=k.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=k.uniqueSort,g.text=k.getText,g.isXMLDoc=k.isXML,g.contains=k.contains;var x=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&g(e).is(n))break;i.push(e)}return i},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=g.expr.match.needsContext,S=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,T=/^.[^:#\[\.,]*$/;function D(e,t,n){if(g.isFunction(t))return g.grep(e,(function(e,i){return!!t.call(e,i,e)!==n}));if(t.nodeType)return g.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(T.test(t))return g.filter(t,e,n);t=g.filter(t,e)}return g.grep(e,(function(e){return u.call(t,e)>-1!==n}))}g.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?g.find.matchesSelector(i,e)?[i]:[]:g.find.matches(e,g.grep(t,(function(e){return 1===e.nodeType})))},g.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(g(e).filter((function(){for(t=0;t<n;t++)if(g.contains(r[t],this))return!0})));for(t=0;t<n;t++)g.find(e,r[t],i);return(i=this.pushStack(n>1?g.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&C.test(e)?g(e):e||[],!1).length}});var F,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||F,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),S.test(i[1])&&g.isPlainObject(t))for(i in t)g.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=o.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==n.ready?n.ready(e):e(g):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),g.makeArray(e,this))}).prototype=g.fn,F=g(o);var A=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0}))},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=C.test(e)||"string"!=typeof e?g(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?g.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?u.call(g(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return e.contentDocument||g.merge([],e.childNodes)}},(function(e,t){g.fn[e]=function(n,i){var r=g.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=g.filter(i,r)),this.length>1&&(I[e]||g.uniqueSort(r),A.test(e)&&r.reverse()),this.pushStack(r)}}));var N,P=/\S+/g;function R(){o.removeEventListener("DOMContentLoaded",R),i.removeEventListener("load",R),g.ready()}g.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return g.each(e.match(P)||[],(function(e,n){t[n]=!0})),t}(e):g.extend({},e);var t,n,i,r,a=[],o=[],s=-1,l=function(){for(r=e.once,i=t=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(s=a.length-1,o.push(n)),function t(n){g.each(n,(function(n,i){g.isFunction(i)?e.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==g.type(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return g.each(arguments,(function(e,t){for(var n;(n=g.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(e){return e?g.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},g.extend({Deferred:function(e){var t=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return g.Deferred((function(n){g.each(t,(function(t,a){var o=g.isFunction(e[t])&&e[t];r[a[1]]((function(){var e=o&&o.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this===i?n.promise():this,o?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?g.extend(e,i):i}},r={};return i.pipe=i.then,g.each(t,(function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith})),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=s.call(arguments),o=a.length,l=1!==o||e&&g.isFunction(e.promise)?o:0,c=1===l?e:g.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?s.call(arguments):r,i===t?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);r<o;r++)a[r]&&g.isFunction(a[r].promise)?a[r].promise().progress(u(r,n,t)).done(u(r,i,a)).fail(c.reject):--l;return l||c.resolveWith(i,a),c.promise()}}),g.fn.ready=function(e){return g.ready.promise().done(e),this},g.extend({isReady:!1,readyWait:1,holdReady:function(e){e?g.readyWait++:g.ready(!0)},ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||(N.resolveWith(o,[g]),g.fn.triggerHandler&&(g(o).triggerHandler("ready"),g(o).off("ready"))))}}),g.ready.promise=function(e){return N||(N=g.Deferred(),"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?i.setTimeout(g.ready):(o.addEventListener("DOMContentLoaded",R),i.addEventListener("load",R))),N.promise(e)},g.ready.promise();var j=function(e,t,n,i,r,a,o){var s=0,l=e.length,c=null==n;if("object"===g.type(n))for(s in r=!0,n)j(e,t,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,g.isFunction(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(g(e),n)})),t))for(;s<l;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):a},L=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function q(){this.expando=g.expando+q.uid++}q.uid=1,q.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!L(e))return{};var t=e[this.expando];return t||(t={},L(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,g.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,a=e[this.expando];if(void 0!==a){if(void 0===t)this.register(e);else{g.isArray(t)?i=t.concat(t.map(g.camelCase)):(r=g.camelCase(t),i=t in a?[t,r]:(i=r)in a?[i]:i.match(P)||[]),n=i.length;for(;n--;)delete a[i[n]]}(void 0===t||g.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!g.isEmptyObject(t)}};var Z=new q,B=new q,V=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,z=/[A-Z]/g;function U(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:V.test(n)?g.parseJSON(n):n)}catch(e){}B.set(e,t,n)}else n=void 0;return n}g.extend({hasData:function(e){return B.hasData(e)||Z.hasData(e)},data:function(e,t,n){return B.access(e,t,n)},removeData:function(e,t){B.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=B.get(a),1===a.nodeType&&!Z.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=g.camelCase(i.slice(5)),U(a,i,r[i]));Z.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){B.set(this,e)})):j(this,(function(t){var n,i;if(a&&void 0===t)return void 0!==(n=B.get(a,e)||B.get(a,e.replace(z,"-$&").toLowerCase()))?n:(i=g.camelCase(e),void 0!==(n=B.get(a,i))||void 0!==(n=U(a,i,void 0))?n:void 0);i=g.camelCase(e),this.each((function(){var n=B.get(this,i);B.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&B.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){B.remove(this,e)}))}}),g.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Z.get(e,t),n&&(!i||g.isArray(n)?i=Z.access(e,t,g.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),i=n.length,r=n.shift(),a=g._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,(function(){g.dequeue(e,t)}),a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:g.Callbacks("once memory").add((function(){Z.remove(e,[t+"queue",n])}))})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each((function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){g.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=g.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=Z.get(a[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,H=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),Y=["Top","Right","Bottom","Left"],$=function(e,t){return e=t||e,"none"===g.css(e,"display")||!g.contains(e.ownerDocument,e)};function K(e,t,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return g.css(e,t,"")},l=s(),c=n&&n[3]||(g.cssNumber[t]?"":"px"),u=(g.cssNumber[t]||"px"!==c&&+l)&&H.exec(g.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=a=a||".5",g.style(e,t,u+c)}while(a!==(a=s()/l)&&1!==a&&--o)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var G=/^(?:checkbox|radio)$/i,X=/<([\w:-]+)/,Q=/^$|\/(?:java|ecma)script/i,J={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ee(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&g.nodeName(e,t)?g.merge([e],n):n}function te(e,t){for(var n=0,i=e.length;n<i;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}J.optgroup=J.option,J.tbody=J.tfoot=J.colgroup=J.caption=J.thead,J.th=J.td;var ne,ie,re=/<|&#?\w+;/;function ae(e,t,n,i,r){for(var a,o,s,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((a=e[p])||0===a)if("object"===g.type(a))g.merge(h,a.nodeType?[a]:a);else if(re.test(a)){for(o=o||d.appendChild(t.createElement("div")),s=(X.exec(a)||["",""])[1].toLowerCase(),l=J[s]||J._default,o.innerHTML=l[1]+g.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;g.merge(h,o.childNodes),(o=d.firstChild).textContent=""}else h.push(t.createTextNode(a));for(d.textContent="",p=0;a=h[p++];)if(i&&g.inArray(a,i)>-1)r&&r.push(a);else if(c=g.contains(a.ownerDocument,a),o=ee(d.appendChild(a),"script"),c&&te(o),n)for(u=0;a=o[u++];)Q.test(a.type||"")&&n.push(a);return d}ne=o.createDocumentFragment().appendChild(o.createElement("div")),(ie=o.createElement("input")).setAttribute("type","radio"),ie.setAttribute("checked","checked"),ie.setAttribute("name","t"),ne.appendChild(ie),f.checkClone=ne.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!ne.cloneNode(!0).lastChild.defaultValue;var oe=/^key/,se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,le=/^([^.]*)(?:\.(.+)|)/;function ce(){return!0}function ue(){return!1}function de(){try{return o.activeElement}catch(e){}}function he(e,t,n,i,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)he(e,s,n,i,t[s],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ue;else if(!r)return e;return 1===a&&(o=r,r=function(e){return g().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=g.guid++)),e.each((function(){g.event.add(this,t,r,i,n)}))}g.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,c,u,d,h,p,f,m,v=Z.get(e);if(v)for(n.handler&&(n=(a=n).handler,r=a.selector),n.guid||(n.guid=g.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(t){return void 0!==g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(P)||[""]).length;c--;)p=m=(s=le.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=g.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=g.event.special[p]||{},u=g.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&g.expr.match.needsContext.test(r),namespace:f.join(".")},a),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,o)||e.addEventListener&&e.addEventListener(p,o)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),g.event.global[p]=!0)},remove:function(e,t,n,i,r){var a,o,s,l,c,u,d,h,p,f,m,v=Z.hasData(e)&&Z.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(P)||[""]).length;c--;)if(p=m=(s=le.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=g.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)u=h[a],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(a,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,v.handle)||g.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)g.event.remove(e,p+t[c],n,i,!0);g.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){e=g.event.fix(e);var t,n,i,r,a,o=[],l=s.call(arguments),c=(Z.get(this,"events")||{})[e.type]||[],u=g.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(o=g.event.handlers.call(this,e,c),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(i=((g.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)void 0===i[r=(a=t[n]).selector+" "]&&(i[r]=a.needsContext?g(r,this).index(l)>-1:g.find(r,this,null,[l]).length),i[r]&&i.push(a);i.length&&o.push({elem:l,handlers:i})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||o).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[g.expando])return e;var t,n,i,r=e.type,a=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=se.test(r)?this.mouseHooks:oe.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new g.Event(a),t=i.length;t--;)e[n=i[t]]=a[n];return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==de()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===de()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(e){return g.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ce:ue):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:ue,isPropagationStopped:ue,isImmediatePropagationStopped:ue,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===i||g.contains(i,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}})),g.fn.extend({on:function(e,t,n,i){return he(this,e,t,n,i)},one:function(e,t,n,i){return he(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,g(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ue),this.each((function(){g.event.remove(this,e,n,t)}))}});var pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,fe=/<script|<style|<link/i,me=/checked\s*(?:[^=]|=\s*.checked.)/i,ge=/^true\/(.*)/,ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ye(e,t){return g.nodeName(e,"table")&&g.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _e(e){var t=ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function we(e,t){var n,i,r,a,o,s,l,c;if(1===t.nodeType){if(Z.hasData(e)&&(a=Z.access(e),o=Z.set(t,a),c=a.events))for(r in delete o.handle,o.events={},c)for(n=0,i=c[r].length;n<i;n++)g.event.add(t,r,c[r][n]);B.hasData(e)&&(s=B.access(e),l=g.extend({},s),B.set(t,l))}}function ke(e,t,n,i){t=l.apply([],t);var r,a,o,s,c,u,d=0,h=e.length,p=h-1,m=t[0],v=g.isFunction(m);if(v||h>1&&"string"==typeof m&&!f.checkClone&&me.test(m))return e.each((function(r){var a=e.eq(r);v&&(t[0]=m.call(this,r,a.html())),ke(a,t,n,i)}));if(h&&(a=(r=ae(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=g.map(ee(r,"script"),be)).length;d<h;d++)c=r,d!==p&&(c=g.clone(c,!0,!0),s&&g.merge(o,ee(c,"script"))),n.call(e[d],c,d);if(s)for(u=o[o.length-1].ownerDocument,g.map(o,_e),d=0;d<s;d++)c=o[d],Q.test(c.type||"")&&!Z.access(c,"globalEval")&&g.contains(u,c)&&(c.src?g._evalUrl&&g._evalUrl(c.src):g.globalEval(c.textContent.replace(ve,"")))}return e}function xe(e,t,n){for(var i,r=t?g.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||g.cleanData(ee(i)),i.parentNode&&(n&&g.contains(i.ownerDocument,i)&&te(ee(i,"script")),i.parentNode.removeChild(i));return e}g.extend({htmlPrefilter:function(e){return e.replace(pe,"<$1></$2>")},clone:function(e,t,n){var i,r,a,o,s,l,c,u=e.cloneNode(!0),d=g.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(o=ee(u),i=0,r=(a=ee(e)).length;i<r;i++)s=a[i],l=o[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&G.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(a=a||ee(e),o=o||ee(u),i=0,r=a.length;i<r;i++)we(a[i],o[i]);else we(e,u);return(o=ee(u,"script")).length>0&&te(o,!d&&ee(e,"script")),u},cleanData:function(e){for(var t,n,i,r=g.event.special,a=0;void 0!==(n=e[a]);a++)if(L(n)){if(t=n[Z.expando]){if(t.events)for(i in t.events)r[i]?g.event.remove(n,i):g.removeEvent(n,i,t.handle);n[Z.expando]=void 0}n[B.expando]&&(n[B.expando]=void 0)}}}),g.fn.extend({domManip:ke,detach:function(e){return xe(this,e,!0)},remove:function(e){return xe(this,e)},text:function(e){return j(this,(function(e){return void 0===e?g.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return ke(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ye(this,e).appendChild(e)}))},prepend:function(){return ke(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ye(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return ke(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return ke(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(ee(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return g.clone(this,e,t)}))},html:function(e){return j(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!fe.test(e)&&!J[(X.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(g.cleanData(ee(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return ke(this,arguments,(function(t){var n=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(ee(this)),n&&n.replaceChild(t,this))}),e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){g.fn[e]=function(e){for(var n,i=[],r=g(e),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),g(r[o])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var Ee,Ce={HTML:"block",BODY:"block"};function Se(e,t){var n=g(t.createElement(e)).appendTo(t.body),i=g.css(n[0],"display");return n.detach(),i}function Te(e){var t=o,n=Ce[e];return n||("none"!==(n=Se(e,t))&&n||((t=(Ee=(Ee||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Se(e,t),Ee.detach()),Ce[e]=n),n}var De=/^margin/,Fe=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Me=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ae=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in r=n.apply(e,i||[]),t)e.style[a]=o[a];return r},Ie=o.documentElement;function Oe(e,t,n){var i,r,a,o,s=e.style;return""!==(o=(n=n||Me(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==o||g.contains(e.ownerDocument,e)||(o=g.style(e,t)),n&&!f.pixelMarginRight()&&Fe.test(o)&&De.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a),void 0!==o?o+"":o}function Ne(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,n,r,a=o.createElement("div"),s=o.createElement("div");function l(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ie.appendChild(a);var o=i.getComputedStyle(s);e="1%"!==o.top,r="2px"===o.marginLeft,t="4px"===o.width,s.style.marginRight="50%",n="4px"===o.marginRight,Ie.removeChild(a)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),g.extend(f,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==t&&l(),t},pixelMarginRight:function(){return null==t&&l(),n},reliableMarginLeft:function(){return null==t&&l(),r},reliableMarginRight:function(){var e,t=s.appendChild(o.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",Ie.appendChild(a),e=!parseFloat(i.getComputedStyle(t).marginRight),Ie.removeChild(a),s.removeChild(t),e}}))}();var Pe=/^(none|table(?!-c[ea]).+)/,Re={position:"absolute",visibility:"hidden",display:"block"},je={letterSpacing:"0",fontWeight:"400"},Le=["Webkit","O","Moz","ms"],qe=o.createElement("div").style;function Ze(e){if(e in qe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Le.length;n--;)if((e=Le[n]+t)in qe)return e}function Be(e,t,n){var i=H.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ve(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=g.css(e,n+Y[a],!0,r)),i?("content"===n&&(o-=g.css(e,"padding"+Y[a],!0,r)),"margin"!==n&&(o-=g.css(e,"border"+Y[a]+"Width",!0,r))):(o+=g.css(e,"padding"+Y[a],!0,r),"padding"!==n&&(o+=g.css(e,"border"+Y[a]+"Width",!0,r)));return o}function ze(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=Me(e),o="border-box"===g.css(e,"boxSizing",!1,a);if(r<=0||null==r){if(((r=Oe(e,t,a))<0||null==r)&&(r=e.style[t]),Fe.test(r))return r;i=o&&(f.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Ve(e,t,n||(o?"border":"content"),i,a)+"px"}function Ue(e,t){for(var n,i,r,a=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(a[o]=Z.get(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&$(i)&&(a[o]=Z.access(i,"olddisplay",Te(i.nodeName)))):(r=$(i),"none"===n&&r||Z.set(i,"olddisplay",r?n:g.css(i,"display"))));for(o=0;o<s;o++)(i=e[o]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function We(e,t,n,i,r){return new We.prototype.init(e,t,n,i,r)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Oe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=g.camelCase(t),l=e.style;if(t=g.cssProps[s]||(g.cssProps[s]=Ze(s)||s),o=g.cssHooks[t]||g.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t];"string"==(a=typeof n)&&(r=H.exec(n))&&r[1]&&(n=K(e,t,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(g.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,a,o,s=g.camelCase(t);return t=g.cssProps[s]||(g.cssProps[s]=Ze(s)||s),(o=g.cssHooks[t]||g.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=Oe(e,t,i)),"normal"===r&&t in je&&(r=je[t]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),g.each(["height","width"],(function(e,t){g.cssHooks[t]={get:function(e,n,i){if(n)return Pe.test(g.css(e,"display"))&&0===e.offsetWidth?Ae(e,Re,(function(){return ze(e,t,i)})):ze(e,t,i)},set:function(e,n,i){var r,a=i&&Me(e),o=i&&Ve(e,t,i,"border-box"===g.css(e,"boxSizing",!1,a),a);return o&&(r=H.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=g.css(e,t)),Be(0,n,o)}}})),g.cssHooks.marginLeft=Ne(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Oe(e,"marginLeft"))||e.getBoundingClientRect().left-Ae(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),g.cssHooks.marginRight=Ne(f.reliableMarginRight,(function(e,t){if(t)return Ae(e,{display:"inline-block"},Oe,[e,"marginRight"])})),g.each({margin:"",padding:"",border:"Width"},(function(e,t){g.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Y[i]+t]=a[i]||a[i-2]||a[0];return r}},De.test(e)||(g.cssHooks[e+t].set=Be)})),g.fn.extend({css:function(e,t){return j(this,(function(e,t,n){var i,r,a={},o=0;if(g.isArray(t)){for(i=Me(e),r=t.length;o<r;o++)a[t[o]]=g.css(e,t[o],!1,i);return a}return void 0!==n?g.style(e,t,n):g.css(e,t)}),e,t,arguments.length>1)},show:function(){return Ue(this,!0)},hide:function(){return Ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){$(this)?g(this).show():g(this).hide()}))}}),g.Tween=We,We.prototype={constructor:We,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(g.cssNumber[n]?"":"px")},cur:function(){var e=We.propHooks[this.prop];return e&&e.get?e.get(this):We.propHooks._default.get(this)},run:function(e){var t,n=We.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):We.propHooks._default.set(this),this}},We.prototype.init.prototype=We.prototype,We.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}},We.propHooks.scrollTop=We.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=We.prototype.init,g.fx.step={};var He,Ye,$e=/^(?:toggle|show|hide)$/,Ke=/queueHooks$/;function Ge(){return i.setTimeout((function(){He=void 0})),He=g.now()}function Xe(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Y[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Qe(e,t,n){for(var i,r=(Je.tweeners[t]||[]).concat(Je.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,t,e))return i}function Je(e,t,n){var i,r,a=0,o=Je.prefilters.length,s=g.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=He||Ge(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(i);return s.notifyWith(e,[c,i,n]),i<1&&o?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},n),originalProperties:t,originalOptions:n,startTime:He||Ge(),duration:n.duration,tweens:[],createTween:function(t,n){var i=g.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,r,a,o;for(n in e)if(r=t[i=g.camelCase(n)],a=e[n],g.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(o=g.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete e[i],a)n in e||(e[n]=a[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);a<o;a++)if(i=Je.prefilters[a].call(c,e,u,c.opts))return g.isFunction(i.stop)&&(g._queueHooks(c.elem,c.opts.queue).stop=g.proxy(i.stop,i)),i;return g.map(u,Qe,c),g.isFunction(c.opts.start)&&c.opts.start.call(e,c),g.fx.timer(g.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(Je,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return K(n.elem,e,H.exec(t),n),n}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(P);for(var n,i=0,r=e.length;i<r;i++)n=e[i],Je.tweeners[n]=Je.tweeners[n]||[],Je.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,a,o,s,l,c,u=this,d={},h=e.style,p=e.nodeType&&$(e),f=Z.get(e,"fxshow");for(i in n.queue||(null==(s=g._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,g.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=g.css(e,"display"))?Z.get(e,"olddisplay")||Te(e.nodeName):c)&&"none"===g.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),t)if(r=t[i],$e.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;p=!0}d[i]=f&&f[i]||g.style(e,i)}else c=void 0;if(g.isEmptyObject(d))"inline"===("none"===c?Te(e.nodeName):c)&&(h.display=c);else for(i in f?"hidden"in f&&(p=f.hidden):f=Z.access(e,"fxshow",{}),a&&(f.hidden=!p),p?g(e).show():u.done((function(){g(e).hide()})),u.done((function(){var t;for(t in Z.remove(e,"fxshow"),d)g.style(e,t,d[t])})),d)o=Qe(p?f[i]:0,i,u),i in f||(f[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],prefilter:function(e,t){t?Je.prefilters.unshift(e):Je.prefilters.push(e)}}),g.speed=function(e,t,n){var i=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return i.duration=g.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in g.fx.speeds?g.fx.speeds[i.duration]:g.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g.isFunction(i.old)&&i.old.call(this),i.queue&&g.dequeue(this,i.queue)},i},g.fn.extend({fadeTo:function(e,t,n,i){return this.filter($).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=g.isEmptyObject(e),a=g.speed(t,n,i),o=function(){var t=Je(this,g.extend({},e),a);(r||Z.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",a=g.timers,o=Z.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&Ke.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));!t&&n||g.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Z.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=g.timers,o=i?i.length:0;for(n.finish=!0,g.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),g.each(["toggle","show","hide"],(function(e,t){var n=g.fn[t];g.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Xe(t,!0),e,i,r)}})),g.each({slideDown:Xe("show"),slideUp:Xe("hide"),slideToggle:Xe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){g.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for(He=g.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),He=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){Ye||(Ye=i.setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){i.clearInterval(Ye),Ye=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(e,t){return e=g.fx&&g.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}}))},function(){var e=o.createElement("input"),t=o.createElement("select"),n=t.appendChild(o.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=n.selected,t.disabled=!0,f.optDisabled=!n.disabled,(e=o.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var et,tt=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return j(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){g.removeAttr(this,e)}))}}),g.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?g.prop(e,t,n):(1===a&&g.isXMLDoc(e)||(t=t.toLowerCase(),r=g.attrHooks[t]||(g.expr.match.bool.test(t)?et:void 0)),void 0!==n?null===n?void g.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=g.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&g.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(P);if(a&&1===e.nodeType)for(;n=a[r++];)i=g.propFix[n]||n,g.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),et={set:function(e,t,n){return!1===t?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=tt[t]||g.find.attr;tt[t]=function(e,t,i){var r,a;return i||(a=tt[t],tt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,tt[t]=a),r}}));var nt=/^(?:input|select|textarea|button)$/i,it=/^(?:a|area)$/i;g.fn.extend({prop:function(e,t){return j(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[g.propFix[e]||e]}))}}),g.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&g.isXMLDoc(e)||(t=g.propFix[t]||t,r=g.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):nt.test(e.nodeName)||it.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this}));var rt=/[\t\r\n\f]/g;function at(e){return e.getAttribute&&e.getAttribute("class")||""}g.fn.extend({addClass:function(e){var t,n,i,r,a,o,s,l=0;if(g.isFunction(e))return this.each((function(t){g(this).addClass(e.call(this,t,at(this)))}));if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[l++];)if(r=at(n),i=1===n.nodeType&&(" "+r+" ").replace(rt," ")){for(o=0;a=t[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=g.trim(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,a,o,s,l=0;if(g.isFunction(e))return this.each((function(t){g(this).removeClass(e.call(this,t,at(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[l++];)if(r=at(n),i=1===n.nodeType&&(" "+r+" ").replace(rt," ")){for(o=0;a=t[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=g.trim(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each((function(n){g(this).toggleClass(e.call(this,n,at(this),t),t)})):this.each((function(){var t,i,r,a;if("string"===n)for(i=0,r=g(this),a=e.match(P)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=at(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+at(n)+" ").replace(rt," ").indexOf(t)>-1)return!0;return!1}});var ot=/\r/g,st=/[\x20\t\r\n\f]+/g;g.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=g.isFunction(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,g(this).val()):e)?r="":"number"==typeof r?r+="":g.isArray(r)&&(r=g.map(r,(function(e){return null==e?"":e+""}))),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=g.valHooks[r.type]||g.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ot,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:g.trim(g.text(e)).replace(st," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||r<0,o=a?null:[],s=a?r+1:i.length,l=r<0?s:a?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(f.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(t=g(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,a=g.makeArray(t),o=r.length;o--;)((i=r[o]).selected=g.inArray(g.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(e,t){if(g.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},f.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var lt=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(e,t,n,r){var a,s,l,c,u,d,h,f=[n||o],m=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(s=l=n=n||o,3!==n.nodeType&&8!==n.nodeType&&!lt.test(m+g.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[g.expando]?e:new g.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:g.makeArray(t,[e]),h=g.event.special[m]||{},r||!h.trigger||!1!==h.trigger.apply(n,t))){if(!r&&!h.noBubble&&!g.isWindow(n)){for(c=h.delegateType||m,lt.test(c+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),l=s;l===(n.ownerDocument||o)&&f.push(l.defaultView||l.parentWindow||i)}for(a=0;(s=f[a++])&&!e.isPropagationStopped();)e.type=a>1?c:h.bindType||m,(d=(Z.get(s,"events")||{})[e.type]&&Z.get(s,"handle"))&&d.apply(s,t),(d=u&&s[u])&&d.apply&&L(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!L(n)||u&&g.isFunction(n[m])&&!g.isWindow(n)&&((l=n[u])&&(n[u]=null),g.event.triggered=m,n[m](),g.event.triggered=void 0,l&&(n[u]=l)),e.result}},simulate:function(e,t,n){var i=g.extend(new g.Event,n,{type:e,isSimulated:!0});g.event.trigger(i,null,t)}}),g.fn.extend({trigger:function(e,t){return this.each((function(){g.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}}),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),f.focusin="onfocusin"in i,f.focusin||g.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Z.access(i,t);r||i.addEventListener(e,n,!0),Z.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Z.access(i,t)-1;r?Z.access(i,t,r):(i.removeEventListener(e,n,!0),Z.remove(i,t))}}}));var ct=i.location,ut=g.now(),dt=/\?/;g.parseJSON=function(e){return JSON.parse(e+"")},g.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+e),t};var ht=/#.*$/,pt=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt={},yt={},bt="*/".concat("*"),_t=o.createElement("a");function wt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(P)||[];if(g.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function kt(e,t,n,i){var r={},a=e===yt;function o(s){var l;return r[s]=!0,g.each(e[s]||[],(function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}return o(t.dataTypes[0])||!r["*"]&&o("*")}function xt(e,t){var n,i,r=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&g.extend(!0,e,i),e}_t.href=ct.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?xt(xt(e,g.ajaxSettings),t):xt(g.ajaxSettings,e)},ajaxPrefilter:wt(vt),ajaxTransport:wt(yt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,a,s,l,c,u,d,h=g.ajaxSetup({},t),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?g(p):g.event,m=g.Deferred(),v=g.Callbacks("once memory"),y=h.statusCode||{},b={},_={},w=0,k="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=ft.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=_[n]=_[n]||e,b[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)y[t]=[y[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||k;return n&&n.abort(t),E(0,t),this}};if(m.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||ct.href)+"").replace(ht,"").replace(gt,ct.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=g.trim(h.dataType||"*").toLowerCase().match(P)||[""],null==h.crossDomain){c=o.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=_t.protocol+"//"+_t.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=g.param(h.data,h.traditional)),kt(vt,h,t,x),2===w)return x;for(d in(u=g.event&&h.global)&&0==g.active++&&g.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!mt.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(dt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=pt.test(r)?r.replace(pt,"$1_="+ut++):r+(dt.test(r)?"&":"?")+"_="+ut++)),h.ifModified&&(g.lastModified[r]&&x.setRequestHeader("If-Modified-Since",g.lastModified[r]),g.etag[r]&&x.setRequestHeader("If-None-Match",g.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+bt+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,x,h)||2===w))return x.abort();for(d in k="abort",{success:1,error:1,complete:1})x[d](h[d]);if(n=kt(yt,h,t,x)){if(x.readyState=1,u&&f.trigger("ajaxSend",[x,h]),2===w)return x;h.async&&h.timeout>0&&(l=i.setTimeout((function(){x.abort("timeout")}),h.timeout));try{w=1,n.send(b,E)}catch(e){if(!(w<2))throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,t,o,s){var c,d,b,_,k,E=t;2!==w&&(w=2,l&&i.clearTimeout(l),n=void 0,a=s||"",x.readyState=e>0?4:0,c=e>=200&&e<300||304===e,o&&(_=function(e,t,n){for(var i,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(h,x,o)),_=function(e,t,n,i){var r,a,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if((s=r.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(h,_,x,c),c?(h.ifModified&&((k=x.getResponseHeader("Last-Modified"))&&(g.lastModified[r]=k),(k=x.getResponseHeader("etag"))&&(g.etag[r]=k)),204===e||"HEAD"===h.type?E="nocontent":304===e?E="notmodified":(E=_.state,d=_.data,c=!(b=_.error))):(b=E,!e&&E||(E="error",e<0&&(e=0))),x.status=e,x.statusText=(t||E)+"",c?m.resolveWith(p,[d,E,x]):m.rejectWith(p,[x,E,b]),x.statusCode(y),y=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[x,h,c?d:b]),v.fireWith(p,[x,E]),u&&(f.trigger("ajaxComplete",[x,h]),--g.active||g.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],(function(e,t){g[t]=function(e,n,i,r){return g.isFunction(n)&&(r=r||i,i=n,n=void 0),g.ajax(g.extend({url:e,type:t,dataType:r,data:n,success:i},g.isPlainObject(e)&&e))}})),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return g.isFunction(e)?this.each((function(t){g(this).wrapAll(e.call(this,t))})):(this[0]&&(t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return g.isFunction(e)?this.each((function(t){g(this).wrapInner(e.call(this,t))})):this.each((function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g.isFunction(e);return this.each((function(n){g(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)})).end()}}),g.expr.filters.hidden=function(e){return!g.expr.filters.visible(e)},g.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Et=/%20/g,Ct=/\[\]$/,St=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Ft(e,t,n,i){var r;if(g.isArray(t))g.each(t,(function(t,r){n||Ct.test(e)?i(e,r):Ft(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==g.type(t))i(e,t);else for(r in t)Ft(e+"["+r+"]",t[r],n,i)}g.param=function(e,t){var n,i=[],r=function(e,t){t=g.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,(function(){r(this.name,this.value)}));else for(n in e)Ft(n,e[n],t,r);return i.join("&").replace(Et,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&Dt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!G.test(e))})).map((function(e,t){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,(function(e){return{name:t.name,value:e.replace(St,"\r\n")}})):{name:t.name,value:n.replace(St,"\r\n")}})).get()}}),g.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Mt={0:200,1223:204},At=g.ajaxSettings.xhr();f.cors=!!At&&"withCredentials"in At,f.ajax=At=!!At,g.ajaxTransport((function(e){var t,n;if(f.cors||At&&!e.crossDomain)return{send:function(r,a){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Mt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),g.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}}));var It=[],Ot=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=It.pop()||g.expando+"_"+ut++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",(function(e,t,n){var r,a,o,s=!1!==e.jsonp&&(Ot.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ot,"$1"+r):!1!==e.jsonp&&(e.url+=(dt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||g.error(r+" was not called"),o[0]},e.dataTypes[0]="json",a=i[r],i[r]=function(){o=arguments},n.always((function(){void 0===a?g(i).removeProp(r):i[r]=a,e[r]&&(e.jsonpCallback=t.jsonpCallback,It.push(r)),o&&g.isFunction(a)&&a(o[0]),o=a=void 0})),"script"})),g.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var i=S.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ae([e],t,r),r&&r.length&&g(r).remove(),g.merge([],i.childNodes))};var Nt=g.fn.load;function Pt(e){return g.isWindow(e)?e:9===e.nodeType&&e.defaultView}g.fn.load=function(e,t,n){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var i,r,a,o=this,s=e.indexOf(" ");return s>-1&&(i=g.trim(e.slice(s)),e=e.slice(0,s)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&g.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){a=arguments,o.html(i?g("<div>").append(g.parseHTML(e)).find(i):e)})).always(n&&function(e,t){o.each((function(){n.apply(this,a||[e.responseText,t,e])}))}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){g.fn[t]=function(e){return this.on(t,e)}})),g.expr.filters.animated=function(e){return g.grep(g.timers,(function(t){return e===t.elem})).length},g.offset={setOffset:function(e,t,n){var i,r,a,o,s,l,c=g.css(e,"position"),u=g(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),a=g.css(e,"top"),l=g.css(e,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,n,g.extend({},s))),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){g.offset.setOffset(this,e,t)}));var t,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;return a?(t=a.documentElement,g.contains(t,i)?(r=i.getBoundingClientRect(),n=Pt(a),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),g.nodeName(e[0],"html")||(i=e.offset()),i.top+=g.css(e[0],"borderTopWidth",!0),i.left+=g.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-g.css(n,"marginTop",!0),left:t.left-i.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===g.css(e,"position");)e=e.offsetParent;return e||Ie}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;g.fn[e]=function(i){return j(this,(function(e,i,r){var a=Pt(e);if(void 0===r)return a?a[t]:e[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):e[i]=r}),e,i,arguments.length)}})),g.each(["top","left"],(function(e,t){g.cssHooks[t]=Ne(f.pixelPosition,(function(e,n){if(n)return n=Oe(e,t),Fe.test(n)?g(e).position()[t]+"px":n}))})),g.each({Height:"height",Width:"width"},(function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){g.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(!0===i||!0===r?"margin":"border");return j(this,(function(t,n,i){var r;return g.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?g.css(t,n,o):g.style(t,n,i,o)}),t,a?i:void 0,a,null)}}))})),g.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),g.fn.andSelf=g.fn.addBack,void 0===(n=function(){return g}.apply(t,[]))||(e.exports=n);var Rt=i.jQuery,jt=i.$;return g.noConflict=function(e){return i.$===g&&(i.$=jt),e&&i.jQuery===g&&(i.jQuery=Rt),g},r||(i.jQuery=i.$=g),g},"object"==typeof e.exports?e.exports=i.document?r(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(i)},8552:(e,t,n)=>{var i=n(852)(n(5639),"DataView");e.exports=i},1989:(e,t,n)=>{var i=n(1789),r=n(401),a=n(7667),o=n(1327),s=n(1866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},8407:(e,t,n)=>{var i=n(7040),r=n(4125),a=n(2117),o=n(7518),s=n(4705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7071:(e,t,n)=>{var i=n(852)(n(5639),"Map");e.exports=i},3369:(e,t,n)=>{var i=n(4785),r=n(1285),a=n(6e3),o=n(9916),s=n(5265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},3818:(e,t,n)=>{var i=n(852)(n(5639),"Promise");e.exports=i},8525:(e,t,n)=>{var i=n(852)(n(5639),"Set");e.exports=i},8668:(e,t,n)=>{var i=n(3369),r=n(619),a=n(2385);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=a,e.exports=o},6384:(e,t,n)=>{var i=n(8407),r=n(7465),a=n(5984),o=n(7599),s=n(4758),l=n(4309);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},2705:(e,t,n)=>{var i=n(5639).Symbol;e.exports=i},1149:(e,t,n)=>{var i=n(5639).Uint8Array;e.exports=i},577:(e,t,n)=>{var i=n(852)(n(5639),"WeakMap");e.exports=i},6874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4174:e=>{e.exports=function(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(i,o,n(o),e)}return i}},7412:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},4963:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}},7443:(e,t,n)=>{var i=n(2118);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},4636:(e,t,n)=>{var i=n(2545),r=n(5694),a=n(1469),o=n(4144),s=n(5776),l=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&r(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?i(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},9932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},2488:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},6556:(e,t,n)=>{var i=n(9465),r=n(7813);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},4865:(e,t,n)=>{var i=n(9465),r=n(7813),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&r(o,n)&&(void 0!==n||t in e)||i(e,t,n)}},8470:(e,t,n)=>{var i=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},1119:(e,t,n)=>{var i=n(9881);e.exports=function(e,t,n,r){return i(e,(function(e,i,a){t(r,e,n(e),a)})),r}},4037:(e,t,n)=>{var i=n(8363),r=n(3674);e.exports=function(e,t){return e&&i(t,r(t),e)}},3886:(e,t,n)=>{var i=n(8363),r=n(3360);e.exports=function(e,t){return e&&i(t,r(t),e)}},9465:(e,t,n)=>{var i=n(8777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5990:(e,t,n)=>{var i=n(6384),r=n(7412),a=n(4865),o=n(4037),s=n(3886),l=n(4626),c=n(278),u=n(8805),d=n(1911),h=n(8234),p=n(6904),f=n(4160),m=n(3824),g=n(9148),v=n(8517),y=n(1469),b=n(4144),_=n(6688),w=n(3218),k=n(2928),x=n(3674),E=n(3360),C="[object Arguments]",S="[object Function]",T="[object Object]",D={};D[C]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[T]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[S]=D["[object WeakMap]"]=!1,e.exports=function e(t,n,F,M,A,I){var O,N=1&n,P=2&n,R=4&n;if(F&&(O=A?F(t,M,A,I):F(t)),void 0!==O)return O;if(!w(t))return t;var j=y(t);if(j){if(O=m(t),!N)return c(t,O)}else{var L=f(t),q=L==S||"[object GeneratorFunction]"==L;if(b(t))return l(t,N);if(L==T||L==C||q&&!A){if(O=P||q?{}:v(t),!N)return P?d(t,s(O,t)):u(t,o(O,t))}else{if(!D[L])return A?t:{};O=g(t,L,N)}}I||(I=new i);var Z=I.get(t);if(Z)return Z;I.set(t,O),k(t)?t.forEach((function(i){O.add(e(i,n,F,i,t,I))})):_(t)&&t.forEach((function(i,r){O.set(r,e(i,n,F,r,t,I))}));var B=j?void 0:(R?P?p:h:P?E:x)(t);return r(B||t,(function(i,r){B&&(i=t[r=i]),a(O,r,e(i,n,F,r,t,I))})),O}},3118:(e,t,n)=>{var i=n(3218),r=Object.create,a=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},731:(e,t,n)=>{var i=n(8668),r=n(7443),a=n(1196),o=n(9932),s=n(1717),l=n(4757);e.exports=function(e,t,n,c){var u=-1,d=r,h=!0,p=e.length,f=[],m=t.length;if(!p)return f;n&&(t=o(t,s(n))),c?(d=a,h=!1):t.length>=200&&(d=l,h=!1,t=new i(t));e:for(;++u<p;){var g=e[u],v=null==n?g:n(g);if(g=c||0!==g?g:0,h&&v==v){for(var y=m;y--;)if(t[y]===v)continue e;f.push(g)}else d(t,v,c)||f.push(g)}return f}},9881:(e,t,n)=>{var i=n(7816),r=n(9291)(i);e.exports=r},1848:e=>{e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},1078:(e,t,n)=>{var i=n(2488),r=n(7285);e.exports=function e(t,n,a,o,s){var l=-1,c=t.length;for(a||(a=r),s||(s=[]);++l<c;){var u=t[l];n>0&&a(u)?n>1?e(u,n-1,a,o,s):i(s,u):o||(s[s.length]=u)}return s}},8483:(e,t,n)=>{var i=n(5063)();e.exports=i},7816:(e,t,n)=>{var i=n(8483),r=n(3674);e.exports=function(e,t){return e&&i(e,t,r)}},7786:(e,t,n)=>{var i=n(1811),r=n(327);e.exports=function(e,t){for(var n=0,a=(t=i(t,e)).length;null!=e&&n<a;)e=e[r(t[n++])];return n&&n==a?e:void 0}},8866:(e,t,n)=>{var i=n(2488),r=n(1469);e.exports=function(e,t,n){var a=t(e);return r(e)?a:i(a,n(e))}},4239:(e,t,n)=>{var i=n(2705),r=n(9607),a=n(2333),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):a(e)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2118:(e,t,n)=>{var i=n(1848),r=n(2722),a=n(2351);e.exports=function(e,t,n){return t==t?a(e,t,n):i(e,r,n)}},9454:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},939:(e,t,n)=>{var i=n(2492),r=n(7005);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,a,o,e,s))}},2492:(e,t,n)=>{var i=n(6384),r=n(7114),a=n(8351),o=n(6096),s=n(4160),l=n(1469),c=n(4144),u=n(6719),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),_=y?h:s(e),w=b?h:s(t),k=(_=_==d?p:_)==p,x=(w=w==d?p:w)==p,E=_==w;if(E&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(E&&!k)return v||(v=new i),y||u(e)?r(e,t,n,m,g,v):a(e,t,_,n,m,g,v);if(!(1&n)){var C=k&&f.call(e,"__wrapped__"),S=x&&f.call(t,"__wrapped__");if(C||S){var T=C?e.value():e,D=S?t.value():t;return v||(v=new i),g(T,D,n,m,v)}}return!!E&&(v||(v=new i),o(e,t,n,m,g,v))}},5588:(e,t,n)=>{var i=n(4160),r=n(7005);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},2958:(e,t,n)=>{var i=n(6384),r=n(939);e.exports=function(e,t,n,a){var o=n.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new i;if(a)var f=a(d,h,u,e,t,p);if(!(void 0===f?r(h,d,3,a,p):f))return!1}}return!0}},2722:e=>{e.exports=function(e){return e!=e}},8458:(e,t,n)=>{var i=n(3560),r=n(5346),a=n(3218),o=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(i(e)?h:s).test(o(e))}},9221:(e,t,n)=>{var i=n(4160),r=n(7005);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},8749:(e,t,n)=>{var i=n(4239),r=n(1780),a=n(7005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!o[i(e)]}},7206:(e,t,n)=>{var i=n(1573),r=n(6432),a=n(6557),o=n(1469),s=n(9601);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?r(e[0],e[1]):i(e):s(e)}},280:(e,t,n)=>{var i=n(5726),r=n(6916),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},313:(e,t,n)=>{var i=n(3218),r=n(5726),a=n(3498),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},9199:(e,t,n)=>{var i=n(9881),r=n(8612);e.exports=function(e,t){var n=-1,a=r(e)?Array(e.length):[];return i(e,(function(e,i,r){a[++n]=t(e,i,r)})),a}},1573:(e,t,n)=>{var i=n(2958),r=n(1499),a=n(2634);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},6432:(e,t,n)=>{var i=n(939),r=n(7361),a=n(9095),o=n(5403),s=n(9162),l=n(2634),c=n(327);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=r(n,e);return void 0===o&&o===t?a(n,e):i(t,o,3)}}},2980:(e,t,n)=>{var i=n(6384),r=n(6556),a=n(8483),o=n(9783),s=n(3218),l=n(3360),c=n(6390);e.exports=function e(t,n,u,d,h){t!==n&&a(n,(function(a,l){if(h||(h=new i),s(a))o(t,n,l,u,e,d,h);else{var p=d?d(c(t,l),a,l+"",t,n,h):void 0;void 0===p&&(p=a),r(t,l,p)}}),l)}},9783:(e,t,n)=>{var i=n(6556),r=n(4626),a=n(7133),o=n(278),s=n(8517),l=n(5694),c=n(1469),u=n(9246),d=n(4144),h=n(3560),p=n(3218),f=n(8630),m=n(6719),g=n(6390),v=n(3678);e.exports=function(e,t,n,y,b,_,w){var k=g(e,n),x=g(t,n),E=w.get(x);if(E)i(e,n,E);else{var C=_?_(k,x,n+"",e,t,w):void 0,S=void 0===C;if(S){var T=c(x),D=!T&&d(x),F=!T&&!D&&m(x);C=x,T||D||F?c(k)?C=k:u(k)?C=o(k):D?(S=!1,C=r(x,!0)):F?(S=!1,C=a(x,!0)):C=[]:f(x)||l(x)?(C=k,l(k)?C=v(k):p(k)&&!h(k)||(C=s(x))):S=!1}S&&(w.set(x,C),b(C,x,y,_,w),w.delete(x)),i(e,n,C)}}},371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9152:(e,t,n)=>{var i=n(7786);e.exports=function(e){return function(t){return i(t,e)}}},5976:(e,t,n)=>{var i=n(6557),r=n(5357),a=n(61);e.exports=function(e,t){return a(r(e,t,i),e+"")}},611:(e,t,n)=>{var i=n(4865),r=n(1811),a=n(5776),o=n(3218),s=n(327);e.exports=function(e,t,n,l){if(!o(e))return e;for(var c=-1,u=(t=r(t,e)).length,d=u-1,h=e;null!=h&&++c<u;){var p=s(t[c]),f=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var m=h[p];void 0===(f=l?l(m,p,h):void 0)&&(f=o(m)?m:a(t[c+1])?[]:{})}i(h,p,f),h=h[p]}return e}},6560:(e,t,n)=>{var i=n(5703),r=n(8777),a=n(6557),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:a;e.exports=o},4259:e=>{e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}},2545:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},531:(e,t,n)=>{var i=n(2705),r=n(9932),a=n(1469),o=n(3448),s=i?i.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return r(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},7561:(e,t,n)=>{var i=n(7990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},5652:(e,t,n)=>{var i=n(8668),r=n(7443),a=n(1196),o=n(4757),s=n(3593),l=n(1814);e.exports=function(e,t,n){var c=-1,u=r,d=e.length,h=!0,p=[],f=p;if(n)h=!1,u=a;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=o,f=new i}else f=t?[]:p;e:for(;++c<d;){var g=e[c],v=t?t(g):g;if(g=n||0!==g?g:0,h&&v==v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),p.push(g)}else u(f,v,n)||(f!==p&&f.push(v),p.push(g))}return p}},7406:(e,t,n)=>{var i=n(1811),r=n(928),a=n(292),o=n(327);e.exports=function(e,t){return t=i(t,e),null==(e=a(e,t))||delete e[o(r(t))]}},6128:(e,t,n)=>{var i=n(731),r=n(1078),a=n(5652);e.exports=function(e,t,n){var o=e.length;if(o<2)return o?a(e[0]):[];for(var s=-1,l=Array(o);++s<o;)for(var c=e[s],u=-1;++u<o;)u!=s&&(l[s]=i(l[s]||c,e[u],t,n));return a(r(l,1),t,n)}},4757:e=>{e.exports=function(e,t){return e.has(t)}},1811:(e,t,n)=>{var i=n(1469),r=n(5403),a=n(5514),o=n(9833);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:a(o(e))}},4318:(e,t,n)=>{var i=n(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},4626:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,o=a&&a.exports===r?i.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}},7157:(e,t,n)=>{var i=n(4318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},419:(e,t,n)=>{var i=n(2705),r=i?i.prototype:void 0,a=r?r.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},7133:(e,t,n)=>{var i=n(4318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},8363:(e,t,n)=>{var i=n(4865),r=n(9465);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=a?a(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?r(n,c,u):i(n,c,u)}return n}},8805:(e,t,n)=>{var i=n(8363),r=n(9551);e.exports=function(e,t){return i(e,r(e),t)}},1911:(e,t,n)=>{var i=n(8363),r=n(1442);e.exports=function(e,t){return i(e,r(e),t)}},4429:(e,t,n)=>{var i=n(5639)["__core-js_shared__"];e.exports=i},5189:(e,t,n)=>{var i=n(4174),r=n(1119),a=n(7206),o=n(1469);e.exports=function(e,t){return function(n,s){var l=o(n)?i:r,c=t?t():{};return l(n,e,a(s,2),c)}}},1463:(e,t,n)=>{var i=n(5976),r=n(6612);e.exports=function(e){return i((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&r(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++i<a;){var l=n[i];l&&e(t,l,i,o)}return t}))}},9291:(e,t,n)=>{var i=n(8612);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==r(s[o],o,s););return n}}},5063:e=>{e.exports=function(e){return function(t,n,i){for(var r=-1,a=Object(t),o=i(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(a[l],l,a))break}return t}}},7740:(e,t,n)=>{var i=n(7206),r=n(8612),a=n(3674);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!r(t)){var l=i(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}},3593:(e,t,n)=>{var i=n(8525),r=n(308),a=n(1814),o=i&&1/a(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=o},696:(e,t,n)=>{var i=n(8630);e.exports=function(e){return i(e)?void 0:e}},8777:(e,t,n)=>{var i=n(852),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},7114:(e,t,n)=>{var i=n(8668),r=n(2908),a=n(4757);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],y=t[f];if(o)var b=c?o(y,v,f,t,e,l):o(v,y,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!r(t,(function(e,t){if(!a(g,t)&&(v===e||s(v,e,n,o,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},8351:(e,t,n)=>{var i=n(2705),r=n(1149),a=n(7813),o=n(7114),s=n(8776),l=n(1814),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&i;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;i|=2,h.set(e,t);var g=o(p(e),p(t),i,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,n)=>{var i=n(8234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:r.call(t,h)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],y=t[h];if(a)var b=l?a(y,v,h,t,e,s):a(v,y,h,e,t,s);if(!(void 0===b?v===y||o(v,y,n,a,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},9021:(e,t,n)=>{var i=n(5564),r=n(5357),a=n(61);e.exports=function(e){return a(r(e,void 0,i),e+"")}},1957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},8234:(e,t,n)=>{var i=n(8866),r=n(9551),a=n(3674);e.exports=function(e){return i(e,a,r)}},6904:(e,t,n)=>{var i=n(8866),r=n(1442),a=n(3360);e.exports=function(e){return i(e,a,r)}},5050:(e,t,n)=>{var i=n(7019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var i=n(9162),r=n(3674);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,i(o)]}return t}},852:(e,t,n)=>{var i=n(8458),r=n(7801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},5924:(e,t,n)=>{var i=n(5569)(Object.getPrototypeOf,Object);e.exports=i},9607:(e,t,n)=>{var i=n(2705),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=o.call(e);return i&&(t?e[s]=n:delete e[s]),r}},9551:(e,t,n)=>{var i=n(4963),r=n(479),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),i(o(e),(function(t){return a.call(e,t)})))}:r;e.exports=s},1442:(e,t,n)=>{var i=n(2488),r=n(5924),a=n(9551),o=n(479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,a(e)),e=r(e);return t}:o;e.exports=s},4160:(e,t,n)=>{var i=n(8552),r=n(7071),a=n(3818),o=n(8525),s=n(577),l=n(4239),c=n(346),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(i),g=c(r),v=c(a),y=c(o),b=c(s),_=l;(i&&_(new i(new ArrayBuffer(1)))!=f||r&&_(new r)!=u||a&&_(a.resolve())!=d||o&&_(new o)!=h||s&&_(new s)!=p)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case m:return f;case g:return u;case v:return d;case y:return h;case b:return p}return t}),e.exports=_},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var i=n(1811),r=n(5694),a=n(1469),o=n(5776),s=n(1780),l=n(327);e.exports=function(e,t,n){for(var c=-1,u=(t=i(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(h,u)&&(a(e)||r(e))}},1789:(e,t,n)=>{var i=n(4536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},1866:(e,t,n)=>{var i=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},9148:(e,t,n)=>{var i=n(4318),r=n(7157),a=n(3147),o=n(419),s=n(7133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},8517:(e,t,n)=>{var i=n(3118),r=n(5924),a=n(5726);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:i(r(e))}},7285:(e,t,n)=>{var i=n(2705),r=n(5694),a=n(1469),o=i?i.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||r(e)||!!(o&&e&&e[o])}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},6612:(e,t,n)=>{var i=n(7813),r=n(8612),a=n(5776),o=n(3218);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&a(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},5403:(e,t,n)=>{var i=n(1469),r=n(3448),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var i,r=n(4429),a=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!a&&a in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9162:(e,t,n)=>{var i=n(3218);e.exports=function(e){return e==e&&!i(e)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var i=n(8470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},2117:(e,t,n)=>{var i=n(8470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var i=n(8470);e.exports=function(e){return i(this.__data__,e)>-1}},4705:(e,t,n)=>{var i=n(8470);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},4785:(e,t,n)=>{var i=n(1989),r=n(8407),a=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||r),string:new i}}},1285:(e,t,n)=>{var i=n(5050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).get(e)}},9916:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).has(e)}},5265:(e,t,n)=>{var i=n(5050);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},2634:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4523:(e,t,n)=>{var i=n(8306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var i=n(852)(Object,"create");e.exports=i},6916:(e,t,n)=>{var i=n(5569)(Object.keys,Object);e.exports=i},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:(e,t,n)=>{e=n.nmd(e);var i=n(1957),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,o=a&&a.exports===r&&i.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5357:(e,t,n)=>{var i=n(6874),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=r(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),i(e,this,c)}}},292:(e,t,n)=>{var i=n(7786),r=n(4259);e.exports=function(e,t){return t.length<2?e:i(e,r(t,0,-1))}},5639:(e,t,n)=>{var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},6390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},61:(e,t,n)=>{var i=n(6560),r=n(1275)(i);e.exports=r},1275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),a=16-(r-i);if(i=r,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},7465:(e,t,n)=>{var i=n(8407);e.exports=function(){this.__data__=new i,this.size=0}},5984:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var i=n(8407),r=n(7071),a=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!r||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},2351:e=>{e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},5514:(e,t,n)=>{var i=n(4523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(a,"$1"):n||e)})),t}));e.exports=o},327:(e,t,n)=>{var i=n(3448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8400:(e,t,n)=>{var i=n(4259),r=n(6612),a=n(554),o=Math.ceil,s=Math.max;e.exports=function(e,t,n){t=(n?r(e,t,n):void 0===t)?1:s(a(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,u=0,d=Array(o(l/t));c<l;)d[u++]=i(e,c,c+=t);return d}},361:(e,t,n)=>{var i=n(5990);e.exports=function(e){return i(e,5)}},9693:e=>{e.exports=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r}},5703:e=>{e.exports=function(e){return function(){return e}}},3279:(e,t,n)=>{var i=n(3218),r=n(7771),a=n(4841),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=c;return l=c=void 0,f=t,d=e.apply(i,n)}function b(e){return f=e,h=setTimeout(w,t),m?y(e):d}function _(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function w(){var e=r();if(_(e))return k(e);h=setTimeout(w,function(e){var n=t-(e-p);return g?s(n,u-(e-f)):n}(e))}function k(e){return h=void 0,v&&l?y(e):(l=c=void 0,d)}function x(){var e=r(),n=_(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return b(p);if(g)return clearTimeout(h),h=setTimeout(w,t),y(p)}return void 0===h&&(h=setTimeout(w,t)),d}return t=a(t)||0,i(n)&&(m=!!n.leading,u=(g="maxWait"in n)?o(a(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),x.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=c=h=void 0},x.flush=function(){return void 0===h?d:k(r())},x}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},3311:(e,t,n)=>{var i=n(7740)(n(998));e.exports=i},998:(e,t,n)=>{var i=n(1848),r=n(7206),a=n(554),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:a(n);return l<0&&(l=o(s+l,0)),i(e,r(t,3),l)}},5564:(e,t,n)=>{var i=n(1078);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},7361:(e,t,n)=>{var i=n(7786);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},9095:(e,t,n)=>{var i=n(13),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,i)}},6557:e=>{e.exports=function(e){return e}},5694:(e,t,n)=>{var i=n(9454),r=n(7005),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var i=n(3560),r=n(1780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},9246:(e,t,n)=>{var i=n(8612),r=n(7005);e.exports=function(e){return r(e)&&i(e)}},4144:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=n(5062),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l},1609:(e,t,n)=>{var i=n(280),r=n(4160),a=n(5694),o=n(1469),s=n(8612),l=n(4144),c=n(5726),u=n(6719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||a(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!i(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},8446:(e,t,n)=>{var i=n(939);e.exports=function(e,t){return i(e,t)}},7398:(e,t,n)=>{var i=n(5639).isFinite;e.exports=function(e){return"number"==typeof e&&i(e)}},3560:(e,t,n)=>{var i=n(4239),r=n(3218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,n)=>{var i=n(5588),r=n(1717),a=n(1167),o=a&&a.isMap,s=o?r(o):i;e.exports=s},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8630:(e,t,n)=>{var i=n(4239),r=n(5924),a=n(7005),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2928:(e,t,n)=>{var i=n(9221),r=n(1717),a=n(1167),o=a&&a.isSet,s=o?r(o):i;e.exports=s},3448:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},6719:(e,t,n)=>{var i=n(8749),r=n(1717),a=n(1167),o=a&&a.isTypedArray,s=o?r(o):i;e.exports=s},4350:(e,t,n)=>{var i=n(9465),r=n(5189)((function(e,t,n){i(e,n,t)}));e.exports=r},3674:(e,t,n)=>{var i=n(4636),r=n(280),a=n(8612);e.exports=function(e){return a(e)?i(e):r(e)}},3360:(e,t,n)=>{var i=n(4636),r=n(313),a=n(8612);e.exports=function(e){return a(e)?i(e,!0):r(e)}},928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},6486:function(e,t,n){var i;e=n.nmd(e),function(){var r,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,p=1/0,f=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",k="[object Error]",x="[object Function]",E="[object GeneratorFunction]",C="[object Map]",S="[object Number]",T="[object Object]",D="[object Promise]",F="[object RegExp]",M="[object Set]",A="[object String]",I="[object Symbol]",O="[object WeakMap]",N="[object ArrayBuffer]",P="[object DataView]",R="[object Float32Array]",j="[object Float64Array]",L="[object Int8Array]",q="[object Int16Array]",Z="[object Int32Array]",B="[object Uint8Array]",V="[object Uint8ClampedArray]",z="[object Uint16Array]",U="[object Uint32Array]",W=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,G=RegExp($.source),X=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(re.source),oe=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",De="\\ufe0e\\ufe0f",Fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Me="['’]",Ae="[\\ud800-\\udfff]",Ie="["+Fe+"]",Oe="["+Ee+"]",Ne="\\d+",Pe="[\\u2700-\\u27bf]",Re="["+Se+"]",je="[^\\ud800-\\udfff"+Fe+Ne+Ce+Se+Te+"]",Le="\\ud83c[\\udffb-\\udfff]",qe="[^\\ud800-\\udfff]",Ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Te+"]",ze="(?:"+Re+"|"+je+")",Ue="(?:"+Ve+"|"+je+")",We="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Oe+"|"+Le+")"+"?",$e="[\\ufe0e\\ufe0f]?",Ke=$e+Ye+("(?:\\u200d(?:"+[qe,Ze,Be].join("|")+")"+$e+Ye+")*"),Ge="(?:"+[Pe,Ze,Be].join("|")+")"+Ke,Xe="(?:"+[qe+Oe+"?",Oe,Ze,Be,Ae].join("|")+")",Qe=RegExp(Me,"g"),Je=RegExp(Oe,"g"),et=RegExp(Le+"(?="+Le+")|"+Xe+Ke,"g"),tt=RegExp([Ve+"?"+Re+"+"+We+"(?="+[Ie,Ve,"$"].join("|")+")",Ue+"+"+He+"(?="+[Ie,Ve+ze,"$"].join("|")+")",Ve+"?"+ze+"+"+We,Ve+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ge].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ee+De+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[R]=ot[j]=ot[L]=ot[q]=ot[Z]=ot[B]=ot[V]=ot[z]=ot[U]=!0,ot[y]=ot[b]=ot[N]=ot[_]=ot[P]=ot[w]=ot[k]=ot[x]=ot[C]=ot[S]=ot[T]=ot[F]=ot[M]=ot[A]=ot[O]=!1;var st={};st[y]=st[b]=st[N]=st[P]=st[_]=st[w]=st[R]=st[j]=st[L]=st[q]=st[Z]=st[C]=st[S]=st[T]=st[F]=st[M]=st[A]=st[I]=st[B]=st[V]=st[z]=st[U]=!0,st[k]=st[x]=st[O]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,ut=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,pt=dt||ht||Function("return this")(),ft=t&&!t.nodeType&&t,mt=ft&&e&&!e.nodeType&&e,gt=mt&&mt.exports===ft,vt=gt&&dt.process,yt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),bt=yt&&yt.isArrayBuffer,_t=yt&&yt.isDate,wt=yt&&yt.isMap,kt=yt&&yt.isRegExp,xt=yt&&yt.isSet,Et=yt&&yt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(i,o,n(o),e)}return i}function Tt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ft(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Mt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}function At(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function It(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Ot(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Nt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Pt(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function Rt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function jt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Lt=Wt("length");function qt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function Zt(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function Bt(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Zt(e,zt,n)}function Vt(e,t,n,i){for(var r=n-1,a=e.length;++r<a;)if(i(e[r],t))return r;return-1}function zt(e){return e!=e}function Ut(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:m}function Wt(e){return function(t){return null==t?r:t[e]}}function Ht(e){return function(t){return null==e?r:e[t]}}function Yt(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function $t(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function Kt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Gt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function Xt(e){return function(t){return e(t)}}function Qt(e,t){return Ot(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function en(e,t){for(var n=-1,i=e.length;++n<i&&Bt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var rn=Ht({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+lt[e]}function sn(e){return nt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[r++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Lt(e)}function fn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,i=(t=null==t?pt:vn.defaults(pt.Object(),t,vn.pick(pt,rt))).Array,se=t.Date,Ee=t.Error,Ce=t.Function,Se=t.Math,Te=t.Object,De=t.RegExp,Fe=t.String,Me=t.TypeError,Ae=i.prototype,Ie=Ce.prototype,Oe=Te.prototype,Ne=t["__core-js_shared__"],Pe=Ie.toString,Re=Oe.hasOwnProperty,je=0,Le=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",qe=Oe.toString,Ze=Pe.call(Te),Be=pt._,Ve=De("^"+Pe.call(Re).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=gt?t.Buffer:r,Ue=t.Symbol,We=t.Uint8Array,He=ze?ze.allocUnsafe:r,Ye=cn(Te.getPrototypeOf,Te),$e=Te.create,Ke=Oe.propertyIsEnumerable,Ge=Ae.splice,Xe=Ue?Ue.isConcatSpreadable:r,et=Ue?Ue.iterator:r,nt=Ue?Ue.toStringTag:r,lt=function(){try{var e=pa(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),dt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ht=se&&se.now!==pt.Date.now&&se.now,ft=t.setTimeout!==pt.setTimeout&&t.setTimeout,mt=Se.ceil,vt=Se.floor,yt=Te.getOwnPropertySymbols,Lt=ze?ze.isBuffer:r,Ht=t.isFinite,yn=Ae.join,bn=cn(Te.keys,Te),_n=Se.max,wn=Se.min,kn=se.now,xn=t.parseInt,En=Se.random,Cn=Ae.reverse,Sn=pa(t,"DataView"),Tn=pa(t,"Map"),Dn=pa(t,"Promise"),Fn=pa(t,"Set"),Mn=pa(t,"WeakMap"),An=pa(Te,"create"),In=Mn&&new Mn,On={},Nn=Za(Sn),Pn=Za(Tn),Rn=Za(Dn),jn=Za(Fn),Ln=Za(Mn),qn=Ue?Ue.prototype:r,Zn=qn?qn.valueOf:r,Bn=qn?qn.toString:r;function Vn(e){if(rs(e)&&!Yo(e)&&!(e instanceof Hn)){if(e instanceof Wn)return e;if(Re.call(e,"__wrapped__"))return Ba(e)}return new Wn(e)}var zn=function(){function e(){}return function(t){if(!is(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Un(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new $n(e);this.size=t.size}function Qn(e,t){var n=Yo(e),i=!n&&Ho(e),r=!n&&!i&&Xo(e),a=!n&&!i&&!r&&hs(e),o=n||i||r||a,s=o?Kt(e.length,Fe):[],l=s.length;for(var c in e)!t&&!Re.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_a(c,l))||s.push(c);return s}function Jn(e){var t=e.length;return t?e[Gi(0,t-1)]:r}function ei(e,t){return ja(Ar(e),ci(t,0,e.length))}function ti(e){return ja(Ar(e))}function ni(e,t,n){(n!==r&&!zo(e[t],n)||n===r&&!(t in e))&&si(e,t,n)}function ii(e,t,n){var i=e[t];Re.call(e,t)&&zo(i,n)&&(n!==r||t in e)||si(e,t,n)}function ri(e,t){for(var n=e.length;n--;)if(zo(e[n][0],t))return n;return-1}function ai(e,t,n,i){return fi(e,(function(e,r,a){t(i,e,n(e),a)})),i}function oi(e,t){return e&&Ir(t,Ns(t),e)}function si(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function li(e,t){for(var n=-1,a=t.length,o=i(a),s=null==e;++n<a;)o[n]=s?r:Fs(e,t[n]);return o}function ci(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function ui(e,t,n,i,a,o){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!is(e))return e;var d=Yo(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ar(e,s)}else{var h=ga(e),p=h==x||h==E;if(Xo(e))return Cr(e,l);if(h==T||h==y||p&&!a){if(s=c||p?{}:ya(e),!l)return c?function(e,t){return Ir(e,ma(e),t)}(e,function(e,t){return e&&Ir(t,Ps(t),e)}(s,e)):function(e,t){return Ir(e,fa(e),t)}(e,oi(s,e))}else{if(!st[h])return a?e:{};s=function(e,t,n){var i=e.constructor;switch(t){case N:return Sr(e);case _:case w:return new i(+e);case P:return function(e,t){var n=t?Sr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case j:case L:case q:case Z:case B:case V:case z:case U:return Tr(e,n);case C:return new i;case S:case A:return new i(e);case F:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new i;case I:return r=e,Zn?Te(Zn.call(r)):{}}var r}(e,h,l)}}o||(o=new Xn);var f=o.get(e);if(f)return f;o.set(e,s),cs(e)?e.forEach((function(i){s.add(ui(i,t,n,i,e,o))})):as(e)&&e.forEach((function(i,r){s.set(r,ui(i,t,n,r,e,o))}));var m=d?r:(u?c?oa:aa:c?Ps:Ns)(e);return Tt(m||e,(function(i,r){m&&(i=e[r=i]),ii(s,r,ui(i,t,n,r,e,o))})),s}function di(e,t,n){var i=n.length;if(null==e)return!i;for(e=Te(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function hi(e,t,n){if("function"!=typeof e)throw new Me(a);return Oa((function(){e.apply(r,n)}),t)}function pi(e,t,n,i){var r=-1,a=At,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Ot(t,Xt(n))),i?(a=It,o=!1):t.length>=200&&(a=Jt,o=!1,t=new Gn(t));e:for(;++r<s;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else a(t,d,i)||l.push(u)}return l}Vn.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:Vn}},Vn.prototype=Un.prototype,Vn.prototype.constructor=Vn,Wn.prototype=zn(Un.prototype),Wn.prototype.constructor=Wn,Hn.prototype=zn(Un.prototype),Hn.prototype.constructor=Hn,Yn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Yn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===o?r:n}return Re.call(t,e)?t[e]:r},Yn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==r:Re.call(t,e)},Yn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===r?o:t,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=ri(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,!0)},$n.prototype.get=function(e){var t=this.__data__,n=ri(t,e);return n<0?r:t[n][1]},$n.prototype.has=function(e){return ri(this.__data__,e)>-1},$n.prototype.set=function(e,t){var n=this.__data__,i=ri(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(Tn||$n),string:new Yn}},Kn.prototype.delete=function(e){var t=da(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return da(this,e).get(e)},Kn.prototype.has=function(e){return da(this,e).has(e)},Kn.prototype.set=function(e,t){var n=da(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,o),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new $n,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $n){var i=n.__data__;if(!Tn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(i)}return n.set(e,t),this.size=n.size,this};var fi=Pr(ki),mi=Pr(xi,!0);function gi(e,t){var n=!0;return fi(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function vi(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(l===r?s==s&&!ds(s):n(s,l)))var l=s,c=o}return c}function yi(e,t){var n=[];return fi(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function bi(e,t,n,i,r){var a=-1,o=e.length;for(n||(n=ba),r||(r=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?bi(s,t-1,n,i,r):Nt(r,s):i||(r[r.length]=s)}return r}var _i=Rr(),wi=Rr(!0);function ki(e,t){return e&&_i(e,t,Ns)}function xi(e,t){return e&&wi(e,t,Ns)}function Ei(e,t){return Mt(t,(function(t){return es(e[t])}))}function Ci(e,t){for(var n=0,i=(t=wr(t,e)).length;null!=e&&n<i;)e=e[qa(t[n++])];return n&&n==i?e:r}function Si(e,t,n){var i=t(e);return Yo(e)?i:Nt(i,n(e))}function Ti(e){return null==e?e===r?"[object Undefined]":"[object Null]":nt&&nt in Te(e)?function(e){var t=Re.call(e,nt),n=e[nt];try{e[nt]=r;var i=!0}catch(e){}var a=qe.call(e);i&&(t?e[nt]=n:delete e[nt]);return a}(e):function(e){return qe.call(e)}(e)}function Di(e,t){return e>t}function Fi(e,t){return null!=e&&Re.call(e,t)}function Mi(e,t){return null!=e&&t in Te(e)}function Ai(e,t,n){for(var a=n?It:At,o=e[0].length,s=e.length,l=s,c=i(s),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Ot(h,Xt(t))),u=wn(h.length,u),c[l]=!n&&(t||o>=120&&h.length>=120)?new Gn(l&&h):r}h=e[0];var p=-1,f=c[0];e:for(;++p<o&&d.length<u;){var m=h[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(f?Jt(f,g):a(d,g,n))){for(l=s;--l;){var v=c[l];if(!(v?Jt(v,g):a(e[l],g,n)))continue e}f&&f.push(g),d.push(m)}}return d}function Ii(e,t,n){var i=null==(e=Fa(e,t=wr(t,e)))?e:e[qa(Qa(t))];return null==i?r:Ct(i,e,n)}function Oi(e){return rs(e)&&Ti(e)==y}function Ni(e,t,n,i,a){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!=e&&t!=t:function(e,t,n,i,a,o){var s=Yo(e),l=Yo(t),c=s?b:ga(e),u=l?b:ga(t),d=(c=c==y?T:c)==T,h=(u=u==y?T:u)==T,p=c==u;if(p&&Xo(e)){if(!Xo(t))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new Xn),s||hs(e)?ia(e,t,n,i,a,o):function(e,t,n,i,r,a,o){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case _:case w:case S:return zo(+e,+t);case k:return e.name==t.name&&e.message==t.message;case F:case A:return e==t+"";case C:var s=ln;case M:var l=1&i;if(s||(s=dn),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var u=ia(s(e),s(t),i,r,a,o);return o.delete(e),u;case I:if(Zn)return Zn.call(e)==Zn.call(t)}return!1}(e,t,c,n,i,a,o);if(!(1&n)){var f=d&&Re.call(e,"__wrapped__"),m=h&&Re.call(t,"__wrapped__");if(f||m){var g=f?e.value():e,v=m?t.value():t;return o||(o=new Xn),a(g,v,n,i,o)}}if(!p)return!1;return o||(o=new Xn),function(e,t,n,i,a,o){var s=1&n,l=aa(e),c=l.length,u=aa(t).length;if(c!=u&&!s)return!1;var d=c;for(;d--;){var h=l[d];if(!(s?h in t:Re.call(t,h)))return!1}var p=o.get(e),f=o.get(t);if(p&&f)return p==t&&f==e;var m=!0;o.set(e,t),o.set(t,e);var g=s;for(;++d<c;){var v=e[h=l[d]],y=t[h];if(i)var b=s?i(y,v,h,t,e,o):i(v,y,h,e,t,o);if(!(b===r?v===y||a(v,y,n,i,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,i,a,o)}(e,t,n,i,Ni,a))}function Pi(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=Te(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var c=(l=n[a])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===r&&!(c in e))return!1}else{var h=new Xn;if(i)var p=i(u,d,c,e,t,h);if(!(p===r?Ni(d,u,3,i,h):p))return!1}}return!0}function Ri(e){return!(!is(e)||function(e){return!!Le&&Le in e}(e))&&(es(e)?Ve:ye).test(Za(e))}function ji(e){return"function"==typeof e?e:null==e?ol:"object"==typeof e?Yo(e)?zi(e[0],e[1]):Vi(e):ml(e)}function Li(e){if(!Ca(e))return bn(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function qi(e){if(!is(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ca(e),n=[];for(var i in e)("constructor"!=i||!t&&Re.call(e,i))&&n.push(i);return n}function Zi(e,t){return e<t}function Bi(e,t){var n=-1,r=Ko(e)?i(e.length):[];return fi(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Vi(e){var t=ha(e);return 1==t.length&&t[0][2]?Ta(t[0][0],t[0][1]):function(n){return n===e||Pi(n,e,t)}}function zi(e,t){return ka(e)&&Sa(t)?Ta(qa(e),t):function(n){var i=Fs(n,e);return i===r&&i===t?Ms(n,e):Ni(t,i,3)}}function Ui(e,t,n,i,a){e!==t&&_i(t,(function(o,s){if(a||(a=new Xn),is(o))!function(e,t,n,i,a,o,s){var l=Aa(e,n),c=Aa(t,n),u=s.get(c);if(u)return void ni(e,n,u);var d=o?o(l,c,n+"",e,t,s):r,h=d===r;if(h){var p=Yo(c),f=!p&&Xo(c),m=!p&&!f&&hs(c);d=c,p||f||m?Yo(l)?d=l:Go(l)?d=Ar(l):f?(h=!1,d=Cr(c,!0)):m?(h=!1,d=Tr(c,!0)):d=[]:ss(c)||Ho(c)?(d=l,Ho(l)?d=_s(l):is(l)&&!es(l)||(d=ya(c))):h=!1}h&&(s.set(c,d),a(d,c,i,o,s),s.delete(c));ni(e,n,d)}(e,t,s,n,Ui,i,a);else{var l=i?i(Aa(e,s),o,s+"",e,t,a):r;l===r&&(l=o),ni(e,s,l)}}),Ps)}function Wi(e,t){var n=e.length;if(n)return _a(t+=t<0?n:0,n)?e[t]:r}function Hi(e,t,n){t=t.length?Ot(t,(function(e){return Yo(e)?function(t){return Ci(t,1===e.length?e[0]:e)}:e})):[ol];var i=-1;t=Ot(t,Xt(ua()));var r=Bi(e,(function(e,n,r){var a=Ot(t,(function(t){return t(e)}));return{criteria:a,index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,a=t.criteria,o=r.length,s=n.length;for(;++i<o;){var l=Dr(r[i],a[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Yi(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var o=t[i],s=Ci(e,o);n(s,o)&&tr(a,wr(o,e),s)}return a}function $i(e,t,n,i){var r=i?Vt:Bt,a=-1,o=t.length,s=e;for(e===t&&(t=Ar(t)),n&&(s=Ot(e,Xt(n)));++a<o;)for(var l=0,c=t[a],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==e&&Ge.call(s,l,1),Ge.call(e,l,1);return e}function Ki(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==a){var a=r;_a(r)?Ge.call(e,r,1):pr(e,r)}}return e}function Gi(e,t){return e+vt(En()*(t-e+1))}function Xi(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Qi(e,t){return Na(Da(e,t,ol),e+"")}function Ji(e){return Jn(zs(e))}function er(e,t){var n=zs(e);return ja(n,ci(t,0,n.length))}function tr(e,t,n,i){if(!is(e))return e;for(var a=-1,o=(t=wr(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var c=qa(t[a]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var d=l[c];(u=i?i(d,c,l):r)===r&&(u=is(d)?d:_a(t[a+1])?[]:{})}ii(l,c,u),l=l[c]}return e}var nr=In?function(e,t){return In.set(e,t),e}:ol,ir=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:il(t),writable:!0})}:ol;function rr(e){return ja(zs(e))}function ar(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=i(a);++r<a;)o[r]=e[r+t];return o}function or(e,t){var n;return fi(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function sr(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=e[a];null!==o&&!ds(o)&&(n?o<=t:o<t)?i=a+1:r=a}return r}return lr(e,t,ol,n)}function lr(e,t,n,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,l=null===t,c=ds(t),u=t===r;a<o;){var d=vt((a+o)/2),h=n(e[d]),p=h!==r,f=null===h,m=h==h,g=ds(h);if(s)var v=i||m;else v=u?m&&(i||p):l?m&&p&&(i||!f):c?m&&p&&!f&&(i||!g):!f&&!g&&(i?h<=t:h<t);v?a=d+1:o=d}return wn(o,4294967294)}function cr(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n],s=t?t(o):o;if(!n||!zo(s,l)){var l=s;a[r++]=0===o?0:o}}return a}function ur(e){return"number"==typeof e?e:ds(e)?m:+e}function dr(e){if("string"==typeof e)return e;if(Yo(e))return Ot(e,dr)+"";if(ds(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hr(e,t,n){var i=-1,r=At,a=e.length,o=!0,s=[],l=s;if(n)o=!1,r=It;else if(a>=200){var c=t?null:Xr(e);if(c)return dn(c);o=!1,r=Jt,l=new Gn}else l=t?[]:s;e:for(;++i<a;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else r(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function pr(e,t){return null==(e=Fa(e,t=wr(t,e)))||delete e[qa(Qa(t))]}function fr(e,t,n,i){return tr(e,t,n(Ci(e,t)),i)}function mr(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?ar(e,i?0:a,i?a+1:r):ar(e,i?a+1:0,i?r:a)}function gr(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Pt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function vr(e,t,n){var r=e.length;if(r<2)return r?hr(e[0]):[];for(var a=-1,o=i(r);++a<r;)for(var s=e[a],l=-1;++l<r;)l!=a&&(o[a]=pi(o[a]||s,e[l],t,n));return hr(bi(o,1),t,n)}function yr(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var l=i<o?t[i]:r;n(s,e[i],l)}return s}function br(e){return Go(e)?e:[]}function _r(e){return"function"==typeof e?e:ol}function wr(e,t){return Yo(e)?e:ka(e,t)?[e]:La(ws(e))}var kr=Qi;function xr(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ar(e,t,n)}var Er=dt||function(e){return pt.clearTimeout(e)};function Cr(e,t){if(t)return e.slice();var n=e.length,i=He?He(n):new e.constructor(n);return e.copy(i),i}function Sr(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Tr(e,t){var n=t?Sr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Dr(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=ds(e),s=t!==r,l=null===t,c=t==t,u=ds(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!u&&e<t||u&&n&&a&&!i&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}function Fr(e,t,n,r){for(var a=-1,o=e.length,s=n.length,l=-1,c=t.length,u=_n(o-s,0),d=i(c+u),h=!r;++l<c;)d[l]=t[l];for(;++a<s;)(h||a<o)&&(d[n[a]]=e[a]);for(;u--;)d[l++]=e[a++];return d}function Mr(e,t,n,r){for(var a=-1,o=e.length,s=-1,l=n.length,c=-1,u=t.length,d=_n(o-l,0),h=i(d+u),p=!r;++a<d;)h[a]=e[a];for(var f=a;++c<u;)h[f+c]=t[c];for(;++s<l;)(p||a<o)&&(h[f+n[s]]=e[a++]);return h}function Ar(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function Ir(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=i?i(n[l],e[l],l,n,e):r;c===r&&(c=e[l]),a?si(n,l,c):ii(n,l,c)}return n}function Or(e,t){return function(n,i){var r=Yo(n)?St:ai,a=t?t():{};return r(n,e,ua(i,2),a)}}function Nr(e){return Qi((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&wa(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=Te(t);++i<a;){var l=n[i];l&&e(t,l,i,o)}return t}))}function Pr(e,t){return function(n,i){if(null==n)return n;if(!Ko(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=Te(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function Rr(e){return function(t,n,i){for(var r=-1,a=Te(t),o=i(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(a[l],l,a))break}return t}}function jr(e){return function(t){var n=sn(t=ws(t))?fn(t):r,i=n?n[0]:t.charAt(0),a=n?xr(n,1).join(""):t.slice(1);return i[e]()+a}}function Lr(e){return function(t){return Pt(el(Hs(t).replace(Qe,"")),e,"")}}function qr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),i=e.apply(n,t);return is(i)?i:n}}function Zr(e){return function(t,n,i){var a=Te(t);if(!Ko(t)){var o=ua(n,3);t=Ns(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function Br(e){return ra((function(t){var n=t.length,i=n,o=Wn.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new Me(a);if(o&&!l&&"wrapper"==la(s))var l=new Wn([],!0)}for(i=l?i:n;++i<n;){var c=la(s=t[i]),u="wrapper"==c?sa(s):r;l=u&&xa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[la(u[0])].apply(l,u[3]):1==s.length&&xa(s)?l[c]():l.thru(s)}return function(){var e=arguments,i=e[0];if(l&&1==e.length&&Yo(i))return l.plant(i).value();for(var r=0,a=n?t[r].apply(this,e):i;++r<n;)a=t[r].call(this,a);return a}}))}function Vr(e,t,n,a,o,s,l,c,u,h){var p=t&d,f=1&t,m=2&t,g=24&t,v=512&t,y=m?r:qr(e);return function r(){for(var d=arguments.length,b=i(d),_=d;_--;)b[_]=arguments[_];if(g)var w=ca(r),k=nn(b,w);if(a&&(b=Fr(b,a,o,g)),s&&(b=Mr(b,s,l,g)),d-=k,g&&d<h){var x=un(b,w);return Kr(e,t,Vr,r.placeholder,n,b,x,c,u,h-d)}var E=f?n:this,C=m?E[e]:e;return d=b.length,c?b=Ma(b,c):v&&d>1&&b.reverse(),p&&u<d&&(b.length=u),this&&this!==pt&&this instanceof r&&(C=y||qr(C)),C.apply(E,b)}}function zr(e,t){return function(n,i){return function(e,t,n,i){return ki(e,(function(e,r,a){t(i,n(e),r,a)})),i}(n,e,t(i),{})}}function Ur(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=dr(n),i=dr(i)):(n=ur(n),i=ur(i)),a=e(n,i)}return a}}function Wr(e){return ra((function(t){return t=Ot(t,Xt(ua())),Qi((function(n){var i=this;return e(t,(function(e){return Ct(e,i,n)}))}))}))}function Hr(e,t){var n=(t=t===r?" ":dr(t)).length;if(n<2)return n?Xi(t,e):t;var i=Xi(t,mt(e/pn(t)));return sn(t)?xr(fn(i),0,e).join(""):i.slice(0,e)}function Yr(e){return function(t,n,a){return a&&"number"!=typeof a&&wa(t,n,a)&&(n=a=r),t=gs(t),n===r?(n=t,t=0):n=gs(n),function(e,t,n,r){for(var a=-1,o=_n(mt((t-e)/(n||1)),0),s=i(o);o--;)s[r?o:++a]=e,e+=n;return s}(t,n,a=a===r?t<n?1:-1:gs(a),e)}}function $r(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Kr(e,t,n,i,a,o,s,l,d,h){var p=8&t;t|=p?c:u,4&(t&=~(p?u:c))||(t&=-4);var f=[e,t,a,p?o:r,p?s:r,p?r:o,p?r:s,l,d,h],m=n.apply(r,f);return xa(e)&&Ia(m,f),m.placeholder=i,Pa(m,e,t)}function Gr(e){var t=Se[e];return function(e,n){if(e=bs(e),(n=null==n?0:wn(vs(n),292))&&Ht(e)){var i=(ws(e)+"e").split("e");return+((i=(ws(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Xr=Fn&&1/dn(new Fn([,-0]))[1]==p?function(e){return new Fn(e)}:dl;function Qr(e){return function(t){var n=ga(t);return n==C?ln(t):n==M?hn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jr(e,t,n,o,p,f,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Me(a);var y=o?o.length:0;if(y||(t&=-97,o=p=r),m=m===r?m:_n(vs(m),0),g=g===r?g:vs(g),y-=p?p.length:0,t&u){var b=o,_=p;o=p=r}var w=v?r:sa(e),k=[e,t,n,o,p,b,_,f,m,g];if(w&&function(e,t){var n=e[1],i=t[1],r=n|i,a=r<131,o=i==d&&8==n||i==d&&n==h&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Fr(c,l,t[4]):l,e[4]=c?un(e[3],s):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Mr(c,l,t[6]):l,e[6]=c?un(e[5],s):t[6]);(l=t[7])&&(e[7]=l);i&d&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(k,w),e=k[0],t=k[1],n=k[2],o=k[3],p=k[4],!(g=k[9]=k[9]===r?v?0:e.length:_n(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,n){var a=qr(e);return function o(){for(var s=arguments.length,l=i(s),c=s,u=ca(o);c--;)l[c]=arguments[c];var d=s<3&&l[0]!==u&&l[s-1]!==u?[]:un(l,u);return(s-=d.length)<n?Kr(e,t,Vr,o.placeholder,r,l,d,r,r,n-s):Ct(this&&this!==pt&&this instanceof o?a:e,this,l)}}(e,t,g):t!=c&&33!=t||p.length?Vr.apply(r,k):function(e,t,n,r){var a=1&t,o=qr(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=r.length,d=i(u+l),h=this&&this!==pt&&this instanceof t?o:e;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++s];return Ct(h,a?n:this,d)}}(e,t,n,o);else var x=function(e,t,n){var i=1&t,r=qr(e);return function t(){return(this&&this!==pt&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return Pa((w?nr:Ia)(x,k),e,t)}function ea(e,t,n,i){return e===r||zo(e,Oe[n])&&!Re.call(i,n)?t:e}function ta(e,t,n,i,a,o){return is(e)&&is(t)&&(o.set(t,e),Ui(e,t,r,ta,o),o.delete(t)),e}function na(e){return ss(e)?r:e}function ia(e,t,n,i,a,o){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var h=-1,p=!0,f=2&n?new Gn:r;for(o.set(e,t),o.set(t,e);++h<l;){var m=e[h],g=t[h];if(i)var v=s?i(g,m,h,t,e,o):i(m,g,h,e,t,o);if(v!==r){if(v)continue;p=!1;break}if(f){if(!jt(t,(function(e,t){if(!Jt(f,t)&&(m===e||a(m,e,n,i,o)))return f.push(t)}))){p=!1;break}}else if(m!==g&&!a(m,g,n,i,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ra(e){return Na(Da(e,r,Ya),e+"")}function aa(e){return Si(e,Ns,fa)}function oa(e){return Si(e,Ps,ma)}var sa=In?function(e){return In.get(e)}:dl;function la(e){for(var t=e.name+"",n=On[t],i=Re.call(On,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function ca(e){return(Re.call(Vn,"placeholder")?Vn:e).placeholder}function ua(){var e=Vn.iteratee||sl;return e=e===sl?ji:e,arguments.length?e(arguments[0],arguments[1]):e}function da(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function ha(e){for(var t=Ns(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Sa(r)]}return t}function pa(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Ri(n)?n:r}var fa=yt?function(e){return null==e?[]:(e=Te(e),Mt(yt(e),(function(t){return Ke.call(e,t)})))}:yl,ma=yt?function(e){for(var t=[];e;)Nt(t,fa(e)),e=Ye(e);return t}:yl,ga=Ti;function va(e,t,n){for(var i=-1,r=(t=wr(t,e)).length,a=!1;++i<r;){var o=qa(t[i]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&ns(r)&&_a(o,r)&&(Yo(e)||Ho(e))}function ya(e){return"function"!=typeof e.constructor||Ca(e)?{}:zn(Ye(e))}function ba(e){return Yo(e)||Ho(e)||!!(Xe&&e&&e[Xe])}function _a(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function wa(e,t,n){if(!is(n))return!1;var i=typeof t;return!!("number"==i?Ko(n)&&_a(t,n.length):"string"==i&&t in n)&&zo(n[t],e)}function ka(e,t){if(Yo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ds(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function xa(e){var t=la(e),n=Vn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var i=sa(n);return!!i&&e===i[0]}(Sn&&ga(new Sn(new ArrayBuffer(1)))!=P||Tn&&ga(new Tn)!=C||Dn&&ga(Dn.resolve())!=D||Fn&&ga(new Fn)!=M||Mn&&ga(new Mn)!=O)&&(ga=function(e){var t=Ti(e),n=t==T?e.constructor:r,i=n?Za(n):"";if(i)switch(i){case Nn:return P;case Pn:return C;case Rn:return D;case jn:return M;case Ln:return O}return t});var Ea=Ne?es:bl;function Ca(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Sa(e){return e==e&&!is(e)}function Ta(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in Te(n)))}}function Da(e,t,n){return t=_n(t===r?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=_n(r.length-t,0),s=i(o);++a<o;)s[a]=r[t+a];a=-1;for(var l=i(t+1);++a<t;)l[a]=r[a];return l[t]=n(s),Ct(e,this,l)}}function Fa(e,t){return t.length<2?e:Ci(e,ar(t,0,-1))}function Ma(e,t){for(var n=e.length,i=wn(t.length,n),a=Ar(e);i--;){var o=t[i];e[i]=_a(o,n)?a[o]:r}return e}function Aa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ia=Ra(nr),Oa=ft||function(e,t){return pt.setTimeout(e,t)},Na=Ra(ir);function Pa(e,t,n){var i=t+"";return Na(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return Tt(v,(function(n){var i="_."+n[0];t&n[1]&&!At(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(i),n)))}function Ra(e){var t=0,n=0;return function(){var i=kn(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function ja(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=Gi(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var La=function(e){var t=jo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ie,(function(e,n,i,r){t.push(i?r.replace(pe,"$1"):n||e)})),t}));function qa(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Za(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ba(e){if(e instanceof Hn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ar(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Va=Qi((function(e,t){return Go(e)?pi(e,bi(t,1,Go,!0)):[]})),za=Qi((function(e,t){var n=Qa(t);return Go(n)&&(n=r),Go(e)?pi(e,bi(t,1,Go,!0),ua(n,2)):[]})),Ua=Qi((function(e,t){var n=Qa(t);return Go(n)&&(n=r),Go(e)?pi(e,bi(t,1,Go,!0),r,n):[]}));function Wa(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:vs(n);return r<0&&(r=_n(i+r,0)),Zt(e,ua(t,3),r)}function Ha(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=vs(n),a=n<0?_n(i+a,0):wn(a,i-1)),Zt(e,ua(t,3),a,!0)}function Ya(e){return(null==e?0:e.length)?bi(e,1):[]}function $a(e){return e&&e.length?e[0]:r}var Ka=Qi((function(e){var t=Ot(e,br);return t.length&&t[0]===e[0]?Ai(t):[]})),Ga=Qi((function(e){var t=Qa(e),n=Ot(e,br);return t===Qa(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Ai(n,ua(t,2)):[]})),Xa=Qi((function(e){var t=Qa(e),n=Ot(e,br);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Ai(n,r,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Ja=Qi(eo);function eo(e,t){return e&&e.length&&t&&t.length?$i(e,t):e}var to=ra((function(e,t){var n=null==e?0:e.length,i=li(e,t);return Ki(e,Ot(t,(function(e){return _a(e,n)?+e:e})).sort(Dr)),i}));function no(e){return null==e?e:Cn.call(e)}var io=Qi((function(e){return hr(bi(e,1,Go,!0))})),ro=Qi((function(e){var t=Qa(e);return Go(t)&&(t=r),hr(bi(e,1,Go,!0),ua(t,2))})),ao=Qi((function(e){var t=Qa(e);return t="function"==typeof t?t:r,hr(bi(e,1,Go,!0),r,t)}));function oo(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if(Go(e))return t=_n(e.length,t),!0})),Kt(t,(function(t){return Ot(e,Wt(t))}))}function so(e,t){if(!e||!e.length)return[];var n=oo(e);return null==t?n:Ot(n,(function(e){return Ct(t,r,e)}))}var lo=Qi((function(e,t){return Go(e)?pi(e,t):[]})),co=Qi((function(e){return vr(Mt(e,Go))})),uo=Qi((function(e){var t=Qa(e);return Go(t)&&(t=r),vr(Mt(e,Go),ua(t,2))})),ho=Qi((function(e){var t=Qa(e);return t="function"==typeof t?t:r,vr(Mt(e,Go),r,t)})),po=Qi(oo);var fo=Qi((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,so(e,n)}));function mo(e){var t=Vn(e);return t.__chain__=!0,t}function go(e,t){return t(e)}var vo=ra((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return li(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Hn&&_a(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:go,args:[a],thisArg:r}),new Wn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)}));var yo=Or((function(e,t,n){Re.call(e,n)?++e[n]:si(e,n,1)}));var bo=Zr(Wa),_o=Zr(Ha);function wo(e,t){return(Yo(e)?Tt:fi)(e,ua(t,3))}function ko(e,t){return(Yo(e)?Dt:mi)(e,ua(t,3))}var xo=Or((function(e,t,n){Re.call(e,n)?e[n].push(t):si(e,n,[t])}));var Eo=Qi((function(e,t,n){var r=-1,a="function"==typeof t,o=Ko(e)?i(e.length):[];return fi(e,(function(e){o[++r]=a?Ct(t,e,n):Ii(e,t,n)})),o})),Co=Or((function(e,t,n){si(e,n,t)}));function So(e,t){return(Yo(e)?Ot:Bi)(e,ua(t,3))}var To=Or((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Do=Qi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wa(e,t[0],t[1])?t=[]:n>2&&wa(t[0],t[1],t[2])&&(t=[t[0]]),Hi(e,bi(t,1),[])})),Fo=ht||function(){return pt.Date.now()};function Mo(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Jr(e,d,r,r,r,r,t)}function Ao(e,t){var n;if("function"!=typeof t)throw new Me(a);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Io=Qi((function(e,t,n){var i=1;if(n.length){var r=un(n,ca(Io));i|=c}return Jr(e,i,t,n,r)})),Oo=Qi((function(e,t,n){var i=3;if(n.length){var r=un(n,ca(Oo));i|=c}return Jr(t,i,e,n,r)}));function No(e,t,n){var i,o,s,l,c,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof e)throw new Me(a);function m(t){var n=i,a=o;return i=o=r,d=t,l=e.apply(a,n)}function g(e){return d=e,c=Oa(y,t),h?m(e):l}function v(e){var n=e-u;return u===r||n>=t||n<0||p&&e-d>=s}function y(){var e=Fo();if(v(e))return b(e);c=Oa(y,function(e){var n=t-(e-u);return p?wn(n,s-(e-d)):n}(e))}function b(e){return c=r,f&&i?m(e):(i=o=r,l)}function _(){var e=Fo(),n=v(e);if(i=arguments,o=this,u=e,n){if(c===r)return g(u);if(p)return Er(c),c=Oa(y,t),m(u)}return c===r&&(c=Oa(y,t)),l}return t=bs(t)||0,is(n)&&(h=!!n.leading,s=(p="maxWait"in n)?_n(bs(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f),_.cancel=function(){c!==r&&Er(c),d=0,i=u=o=c=r},_.flush=function(){return c===r?l:b(Fo())},_}var Po=Qi((function(e,t){return hi(e,1,t)})),Ro=Qi((function(e,t,n){return hi(e,bs(t)||0,n)}));function jo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Me(a);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(jo.Cache||Kn),n}function Lo(e){if("function"!=typeof e)throw new Me(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}jo.Cache=Kn;var qo=kr((function(e,t){var n=(t=1==t.length&&Yo(t[0])?Ot(t[0],Xt(ua())):Ot(bi(t,1),Xt(ua()))).length;return Qi((function(i){for(var r=-1,a=wn(i.length,n);++r<a;)i[r]=t[r].call(this,i[r]);return Ct(e,this,i)}))})),Zo=Qi((function(e,t){var n=un(t,ca(Zo));return Jr(e,c,r,t,n)})),Bo=Qi((function(e,t){var n=un(t,ca(Bo));return Jr(e,u,r,t,n)})),Vo=ra((function(e,t){return Jr(e,h,r,r,r,t)}));function zo(e,t){return e===t||e!=e&&t!=t}var Uo=$r(Di),Wo=$r((function(e,t){return e>=t})),Ho=Oi(function(){return arguments}())?Oi:function(e){return rs(e)&&Re.call(e,"callee")&&!Ke.call(e,"callee")},Yo=i.isArray,$o=bt?Xt(bt):function(e){return rs(e)&&Ti(e)==N};function Ko(e){return null!=e&&ns(e.length)&&!es(e)}function Go(e){return rs(e)&&Ko(e)}var Xo=Lt||bl,Qo=_t?Xt(_t):function(e){return rs(e)&&Ti(e)==w};function Jo(e){if(!rs(e))return!1;var t=Ti(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!is(e))return!1;var t=Ti(e);return t==x||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==vs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function is(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var as=wt?Xt(wt):function(e){return rs(e)&&ga(e)==C};function os(e){return"number"==typeof e||rs(e)&&Ti(e)==S}function ss(e){if(!rs(e)||Ti(e)!=T)return!1;var t=Ye(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==Ze}var ls=kt?Xt(kt):function(e){return rs(e)&&Ti(e)==F};var cs=xt?Xt(xt):function(e){return rs(e)&&ga(e)==M};function us(e){return"string"==typeof e||!Yo(e)&&rs(e)&&Ti(e)==A}function ds(e){return"symbol"==typeof e||rs(e)&&Ti(e)==I}var hs=Et?Xt(Et):function(e){return rs(e)&&ns(e.length)&&!!ot[Ti(e)]};var ps=$r(Zi),fs=$r((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ko(e))return us(e)?fn(e):Ar(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=ga(e);return(t==C?ln:t==M?dn:zs)(e)}function gs(e){return e?(e=bs(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function ys(e){return e?ci(vs(e),0,g):0}function bs(e){if("number"==typeof e)return e;if(ds(e))return m;if(is(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=is(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gt(e);var n=ve.test(e);return n||be.test(e)?ut(e.slice(2),n?2:8):ge.test(e)?m:+e}function _s(e){return Ir(e,Ps(e))}function ws(e){return null==e?"":dr(e)}var ks=Nr((function(e,t){if(Ca(t)||Ko(t))Ir(t,Ns(t),e);else for(var n in t)Re.call(t,n)&&ii(e,n,t[n])})),xs=Nr((function(e,t){Ir(t,Ps(t),e)})),Es=Nr((function(e,t,n,i){Ir(t,Ps(t),e,i)})),Cs=Nr((function(e,t,n,i){Ir(t,Ns(t),e,i)})),Ss=ra(li);var Ts=Qi((function(e,t){e=Te(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&wa(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=Ps(o),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===r||zo(d,Oe[u])&&!Re.call(e,u))&&(e[u]=o[u])}return e})),Ds=Qi((function(e){return e.push(r,ta),Ct(js,r,e)}));function Fs(e,t,n){var i=null==e?r:Ci(e,t);return i===r?n:i}function Ms(e,t){return null!=e&&va(e,t,Mi)}var As=zr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=qe.call(t)),e[t]=n}),il(ol)),Is=zr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=qe.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),ua),Os=Qi(Ii);function Ns(e){return Ko(e)?Qn(e):Li(e)}function Ps(e){return Ko(e)?Qn(e,!0):qi(e)}var Rs=Nr((function(e,t,n){Ui(e,t,n)})),js=Nr((function(e,t,n,i){Ui(e,t,n,i)})),Ls=ra((function(e,t){var n={};if(null==e)return n;var i=!1;t=Ot(t,(function(t){return t=wr(t,e),i||(i=t.length>1),t})),Ir(e,oa(e),n),i&&(n=ui(n,7,na));for(var r=t.length;r--;)pr(n,t[r]);return n}));var qs=ra((function(e,t){return null==e?{}:function(e,t){return Yi(e,t,(function(t,n){return Ms(e,n)}))}(e,t)}));function Zs(e,t){if(null==e)return{};var n=Ot(oa(e),(function(e){return[e]}));return t=ua(t),Yi(e,n,(function(e,n){return t(e,n[0])}))}var Bs=Qr(Ns),Vs=Qr(Ps);function zs(e){return null==e?[]:Qt(e,Ns(e))}var Us=Lr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Js(ws(e).toLowerCase())}function Hs(e){return(e=ws(e))&&e.replace(we,rn).replace(Je,"")}var Ys=Lr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),$s=Lr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=jr("toLowerCase");var Gs=Lr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Xs=Lr((function(e,t,n){return e+(n?" ":"")+Js(t)}));var Qs=Lr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=jr("toUpperCase");function el(e,t,n){return e=ws(e),(t=n?r:t)===r?function(e){return it.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var tl=Qi((function(e,t){try{return Ct(e,r,t)}catch(e){return Jo(e)?e:new Ee(e)}})),nl=ra((function(e,t){return Tt(t,(function(t){t=qa(t),si(e,t,Io(e[t],e))})),e}));function il(e){return function(){return e}}var rl=Br(),al=Br(!0);function ol(e){return e}function sl(e){return ji("function"==typeof e?e:ui(e,1))}var ll=Qi((function(e,t){return function(n){return Ii(n,e,t)}})),cl=Qi((function(e,t){return function(n){return Ii(e,n,t)}}));function ul(e,t,n){var i=Ns(t),r=Ei(t,i);null!=n||is(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Ei(t,Ns(t)));var a=!(is(n)&&"chain"in n&&!n.chain),o=es(e);return Tt(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),r=n.__actions__=Ar(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Nt([this.value()],arguments))})})),e}function dl(){}var hl=Wr(Ot),pl=Wr(Ft),fl=Wr(jt);function ml(e){return ka(e)?Wt(qa(e)):function(e){return function(t){return Ci(t,e)}}(e)}var gl=Yr(),vl=Yr(!0);function yl(){return[]}function bl(){return!1}var _l=Ur((function(e,t){return e+t}),0),wl=Gr("ceil"),kl=Ur((function(e,t){return e/t}),1),xl=Gr("floor");var El,Cl=Ur((function(e,t){return e*t}),1),Sl=Gr("round"),Tl=Ur((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Me(a);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Mo,Vn.assign=ks,Vn.assignIn=xs,Vn.assignInWith=Es,Vn.assignWith=Cs,Vn.at=Ss,Vn.before=Ao,Vn.bind=Io,Vn.bindAll=nl,Vn.bindKey=Oo,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Yo(e)?e:[e]},Vn.chain=mo,Vn.chunk=function(e,t,n){t=(n?wa(e,t,n):t===r)?1:_n(vs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,l=i(mt(a/t));o<a;)l[s++]=ar(e,o,o+=t);return l},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Nt(Yo(n)?Ar(n):[n],bi(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=ua();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new Me(a);return[n(e[0]),e[1]]})):[],Qi((function(n){for(var i=-1;++i<t;){var r=e[i];if(Ct(r[0],this,n))return Ct(r[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=Ns(e);return function(n){return di(n,e,t)}}(ui(e,1))},Vn.constant=il,Vn.countBy=yo,Vn.create=function(e,t){var n=zn(e);return null==t?n:oi(n,t)},Vn.curry=function e(t,n,i){var a=Jr(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Vn.curryRight=function e(t,n,i){var a=Jr(t,l,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Vn.debounce=No,Vn.defaults=Ts,Vn.defaultsDeep=Ds,Vn.defer=Po,Vn.delay=Ro,Vn.difference=Va,Vn.differenceBy=za,Vn.differenceWith=Ua,Vn.drop=function(e,t,n){var i=null==e?0:e.length;return i?ar(e,(t=n||t===r?1:vs(t))<0?0:t,i):[]},Vn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ar(e,0,(t=i-(t=n||t===r?1:vs(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?mr(e,ua(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?mr(e,ua(t,3),!0):[]},Vn.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&wa(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=vs(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:vs(i))<0&&(i+=a),i=n>i?0:ys(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Vn.filter=function(e,t){return(Yo(e)?Mt:yi)(e,ua(t,3))},Vn.flatMap=function(e,t){return bi(So(e,t),1)},Vn.flatMapDeep=function(e,t){return bi(So(e,t),p)},Vn.flatMapDepth=function(e,t,n){return n=n===r?1:vs(n),bi(So(e,t),n)},Vn.flatten=Ya,Vn.flattenDeep=function(e){return(null==e?0:e.length)?bi(e,p):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?bi(e,t=t===r?1:vs(t)):[]},Vn.flip=function(e){return Jr(e,512)},Vn.flow=rl,Vn.flowRight=al,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Vn.functions=function(e){return null==e?[]:Ei(e,Ns(e))},Vn.functionsIn=function(e){return null==e?[]:Ei(e,Ps(e))},Vn.groupBy=xo,Vn.initial=function(e){return(null==e?0:e.length)?ar(e,0,-1):[]},Vn.intersection=Ka,Vn.intersectionBy=Ga,Vn.intersectionWith=Xa,Vn.invert=As,Vn.invertBy=Is,Vn.invokeMap=Eo,Vn.iteratee=sl,Vn.keyBy=Co,Vn.keys=Ns,Vn.keysIn=Ps,Vn.map=So,Vn.mapKeys=function(e,t){var n={};return t=ua(t,3),ki(e,(function(e,i,r){si(n,t(e,i,r),e)})),n},Vn.mapValues=function(e,t){var n={};return t=ua(t,3),ki(e,(function(e,i,r){si(n,i,t(e,i,r))})),n},Vn.matches=function(e){return Vi(ui(e,1))},Vn.matchesProperty=function(e,t){return zi(e,ui(t,1))},Vn.memoize=jo,Vn.merge=Rs,Vn.mergeWith=js,Vn.method=ll,Vn.methodOf=cl,Vn.mixin=ul,Vn.negate=Lo,Vn.nthArg=function(e){return e=vs(e),Qi((function(t){return Wi(t,e)}))},Vn.omit=Ls,Vn.omitBy=function(e,t){return Zs(e,Lo(ua(t)))},Vn.once=function(e){return Ao(2,e)},Vn.orderBy=function(e,t,n,i){return null==e?[]:(Yo(t)||(t=null==t?[]:[t]),Yo(n=i?r:n)||(n=null==n?[]:[n]),Hi(e,t,n))},Vn.over=hl,Vn.overArgs=qo,Vn.overEvery=pl,Vn.overSome=fl,Vn.partial=Zo,Vn.partialRight=Bo,Vn.partition=To,Vn.pick=qs,Vn.pickBy=Zs,Vn.property=ml,Vn.propertyOf=function(e){return function(t){return null==e?r:Ci(e,t)}},Vn.pull=Ja,Vn.pullAll=eo,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$i(e,t,ua(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$i(e,t,r,n):e},Vn.pullAt=to,Vn.range=gl,Vn.rangeRight=vl,Vn.rearg=Vo,Vn.reject=function(e,t){return(Yo(e)?Mt:yi)(e,Lo(ua(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=ua(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return Ki(e,r),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Me(a);return Qi(e,t=t===r?t:vs(t))},Vn.reverse=no,Vn.sampleSize=function(e,t,n){return t=(n?wa(e,t,n):t===r)?1:vs(t),(Yo(e)?ei:er)(e,t)},Vn.set=function(e,t,n){return null==e?e:tr(e,t,n)},Vn.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:tr(e,t,n,i)},Vn.shuffle=function(e){return(Yo(e)?ti:rr)(e)},Vn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&wa(e,t,n)?(t=0,n=i):(t=null==t?0:vs(t),n=n===r?i:vs(n)),ar(e,t,n)):[]},Vn.sortBy=Do,Vn.sortedUniq=function(e){return e&&e.length?cr(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?cr(e,ua(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&wa(e,t,n)&&(t=n=r),(n=n===r?g:n>>>0)?(e=ws(e))&&("string"==typeof t||null!=t&&!ls(t))&&!(t=dr(t))&&sn(e)?xr(fn(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Me(a);return t=null==t?0:_n(vs(t),0),Qi((function(n){var i=n[t],r=xr(n,0,t);return i&&Nt(r,i),Ct(e,this,r)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ar(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ar(e,0,(t=n||t===r?1:vs(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ar(e,(t=i-(t=n||t===r?1:vs(t)))<0?0:t,i):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?mr(e,ua(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?mr(e,ua(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Me(a);return is(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),No(e,t,{leading:i,maxWait:t,trailing:r})},Vn.thru=go,Vn.toArray=ms,Vn.toPairs=Bs,Vn.toPairsIn=Vs,Vn.toPath=function(e){return Yo(e)?Ot(e,qa):ds(e)?[e]:Ar(La(ws(e)))},Vn.toPlainObject=_s,Vn.transform=function(e,t,n){var i=Yo(e),r=i||Xo(e)||hs(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=r?i?new a:[]:is(e)&&es(a)?zn(Ye(e)):{}}return(r?Tt:ki)(e,(function(e,i,r){return t(n,e,i,r)})),n},Vn.unary=function(e){return Mo(e,1)},Vn.union=io,Vn.unionBy=ro,Vn.unionWith=ao,Vn.uniq=function(e){return e&&e.length?hr(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?hr(e,ua(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?hr(e,r,t):[]},Vn.unset=function(e,t){return null==e||pr(e,t)},Vn.unzip=oo,Vn.unzipWith=so,Vn.update=function(e,t,n){return null==e?e:fr(e,t,_r(n))},Vn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:fr(e,t,_r(n),i)},Vn.values=zs,Vn.valuesIn=function(e){return null==e?[]:Qt(e,Ps(e))},Vn.without=lo,Vn.words=el,Vn.wrap=function(e,t){return Zo(_r(t),e)},Vn.xor=co,Vn.xorBy=uo,Vn.xorWith=ho,Vn.zip=po,Vn.zipObject=function(e,t){return yr(e||[],t||[],ii)},Vn.zipObjectDeep=function(e,t){return yr(e||[],t||[],tr)},Vn.zipWith=fo,Vn.entries=Bs,Vn.entriesIn=Vs,Vn.extend=xs,Vn.extendWith=Es,ul(Vn,Vn),Vn.add=_l,Vn.attempt=tl,Vn.camelCase=Us,Vn.capitalize=Ws,Vn.ceil=wl,Vn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=bs(n))==n?n:0),t!==r&&(t=(t=bs(t))==t?t:0),ci(bs(e),t,n)},Vn.clone=function(e){return ui(e,4)},Vn.cloneDeep=function(e){return ui(e,5)},Vn.cloneDeepWith=function(e,t){return ui(e,5,t="function"==typeof t?t:r)},Vn.cloneWith=function(e,t){return ui(e,4,t="function"==typeof t?t:r)},Vn.conformsTo=function(e,t){return null==t||di(e,t,Ns(t))},Vn.deburr=Hs,Vn.defaultTo=function(e,t){return null==e||e!=e?t:e},Vn.divide=kl,Vn.endsWith=function(e,t,n){e=ws(e),t=dr(t);var i=e.length,a=n=n===r?i:ci(vs(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Vn.eq=zo,Vn.escape=function(e){return(e=ws(e))&&X.test(e)?e.replace(K,an):e},Vn.escapeRegExp=function(e){return(e=ws(e))&&ae.test(e)?e.replace(re,"\\$&"):e},Vn.every=function(e,t,n){var i=Yo(e)?Ft:gi;return n&&wa(e,t,n)&&(t=r),i(e,ua(t,3))},Vn.find=bo,Vn.findIndex=Wa,Vn.findKey=function(e,t){return qt(e,ua(t,3),ki)},Vn.findLast=_o,Vn.findLastIndex=Ha,Vn.findLastKey=function(e,t){return qt(e,ua(t,3),xi)},Vn.floor=xl,Vn.forEach=wo,Vn.forEachRight=ko,Vn.forIn=function(e,t){return null==e?e:_i(e,ua(t,3),Ps)},Vn.forInRight=function(e,t){return null==e?e:wi(e,ua(t,3),Ps)},Vn.forOwn=function(e,t){return e&&ki(e,ua(t,3))},Vn.forOwnRight=function(e,t){return e&&xi(e,ua(t,3))},Vn.get=Fs,Vn.gt=Uo,Vn.gte=Wo,Vn.has=function(e,t){return null!=e&&va(e,t,Fi)},Vn.hasIn=Ms,Vn.head=$a,Vn.identity=ol,Vn.includes=function(e,t,n,i){e=Ko(e)?e:zs(e),n=n&&!i?vs(n):0;var r=e.length;return n<0&&(n=_n(r+n,0)),us(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Bt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:vs(n);return r<0&&(r=_n(i+r,0)),Bt(e,t,r)},Vn.inRange=function(e,t,n){return t=gs(t),n===r?(n=t,t=0):n=gs(n),function(e,t,n){return e>=wn(t,n)&&e<_n(t,n)}(e=bs(e),t,n)},Vn.invoke=Os,Vn.isArguments=Ho,Vn.isArray=Yo,Vn.isArrayBuffer=$o,Vn.isArrayLike=Ko,Vn.isArrayLikeObject=Go,Vn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Ti(e)==_},Vn.isBuffer=Xo,Vn.isDate=Qo,Vn.isElement=function(e){return rs(e)&&1===e.nodeType&&!ss(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(Yo(e)||"string"==typeof e||"function"==typeof e.splice||Xo(e)||hs(e)||Ho(e)))return!e.length;var t=ga(e);if(t==C||t==M)return!e.size;if(Ca(e))return!Li(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Ni(e,t)},Vn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Ni(e,t,r,n):!!i},Vn.isError=Jo,Vn.isFinite=function(e){return"number"==typeof e&&Ht(e)},Vn.isFunction=es,Vn.isInteger=ts,Vn.isLength=ns,Vn.isMap=as,Vn.isMatch=function(e,t){return e===t||Pi(e,t,ha(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Pi(e,t,ha(t),n)},Vn.isNaN=function(e){return os(e)&&e!=+e},Vn.isNative=function(e){if(Ea(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ri(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=os,Vn.isObject=is,Vn.isObjectLike=rs,Vn.isPlainObject=ss,Vn.isRegExp=ls,Vn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=f},Vn.isSet=cs,Vn.isString=us,Vn.isSymbol=ds,Vn.isTypedArray=hs,Vn.isUndefined=function(e){return e===r},Vn.isWeakMap=function(e){return rs(e)&&ga(e)==O},Vn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Ti(e)},Vn.join=function(e,t){return null==e?"":yn.call(e,t)},Vn.kebabCase=Ys,Vn.last=Qa,Vn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=vs(n))<0?_n(i+a,0):wn(a,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,a):Zt(e,zt,a,!0)},Vn.lowerCase=$s,Vn.lowerFirst=Ks,Vn.lt=ps,Vn.lte=fs,Vn.max=function(e){return e&&e.length?vi(e,ol,Di):r},Vn.maxBy=function(e,t){return e&&e.length?vi(e,ua(t,2),Di):r},Vn.mean=function(e){return Ut(e,ol)},Vn.meanBy=function(e,t){return Ut(e,ua(t,2))},Vn.min=function(e){return e&&e.length?vi(e,ol,Zi):r},Vn.minBy=function(e,t){return e&&e.length?vi(e,ua(t,2),Zi):r},Vn.stubArray=yl,Vn.stubFalse=bl,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Cl,Vn.nth=function(e,t){return e&&e.length?Wi(e,vs(t)):r},Vn.noConflict=function(){return pt._===this&&(pt._=Be),this},Vn.noop=dl,Vn.now=Fo,Vn.pad=function(e,t,n){e=ws(e);var i=(t=vs(t))?pn(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Hr(vt(r),n)+e+Hr(mt(r),n)},Vn.padEnd=function(e,t,n){e=ws(e);var i=(t=vs(t))?pn(e):0;return t&&i<t?e+Hr(t-i,n):e},Vn.padStart=function(e,t,n){e=ws(e);var i=(t=vs(t))?pn(e):0;return t&&i<t?Hr(t-i,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ws(e).replace(oe,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wa(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=gs(e),t===r?(t=e,e=0):t=gs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=En();return wn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return Gi(e,t)},Vn.reduce=function(e,t,n){var i=Yo(e)?Pt:Yt,r=arguments.length<3;return i(e,ua(t,4),n,r,fi)},Vn.reduceRight=function(e,t,n){var i=Yo(e)?Rt:Yt,r=arguments.length<3;return i(e,ua(t,4),n,r,mi)},Vn.repeat=function(e,t,n){return t=(n?wa(e,t,n):t===r)?1:vs(t),Xi(ws(e),t)},Vn.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var i=-1,a=(t=wr(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[qa(t[i])];o===r&&(i=a,o=n),e=es(o)?o.call(e):o}return e},Vn.round=Sl,Vn.runInContext=e,Vn.sample=function(e){return(Yo(e)?Jn:Ji)(e)},Vn.size=function(e){if(null==e)return 0;if(Ko(e))return us(e)?pn(e):e.length;var t=ga(e);return t==C||t==M?e.size:Li(e).length},Vn.snakeCase=Gs,Vn.some=function(e,t,n){var i=Yo(e)?jt:or;return n&&wa(e,t,n)&&(t=r),i(e,ua(t,3))},Vn.sortedIndex=function(e,t){return sr(e,t)},Vn.sortedIndexBy=function(e,t,n){return lr(e,t,ua(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=sr(e,t);if(i<n&&zo(e[i],t))return i}return-1},Vn.sortedLastIndex=function(e,t){return sr(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return lr(e,t,ua(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=sr(e,t,!0)-1;if(zo(e[n],t))return n}return-1},Vn.startCase=Xs,Vn.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:ci(vs(n),0,e.length),t=dr(t),e.slice(n,n+t.length)==t},Vn.subtract=Tl,Vn.sum=function(e){return e&&e.length?$t(e,ol):0},Vn.sumBy=function(e,t){return e&&e.length?$t(e,ua(t,2)):0},Vn.template=function(e,t,n){var i=Vn.templateSettings;n&&wa(e,t,n)&&(t=r),e=ws(e),t=Es({},t,i,ea);var a,o,s=Es({},t.imports,i.imports,ea),l=Ns(s),c=Qt(s,l),u=0,d=t.interpolate||ke,h="__p += '",p=De((t.escape||ke).source+"|"+d.source+"|"+(d===ee?fe:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),f="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(p,(function(t,n,i,r,s,l){return i||(i=r),h+=e.slice(u,l).replace(xe,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(W,""):h).replace(H,"$1").replace(Y,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=tl((function(){return Ce(l,f+"return "+h).apply(r,c)}));if(g.source=h,Jo(g))throw g;return g},Vn.times=function(e,t){if((e=vs(e))<1||e>f)return[];var n=g,i=wn(e,g);t=ua(t),e-=g;for(var r=Kt(i,t);++n<e;)t(n);return r},Vn.toFinite=gs,Vn.toInteger=vs,Vn.toLength=ys,Vn.toLower=function(e){return ws(e).toLowerCase()},Vn.toNumber=bs,Vn.toSafeInteger=function(e){return e?ci(vs(e),-9007199254740991,f):0===e?e:0},Vn.toString=ws,Vn.toUpper=function(e){return ws(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=ws(e))&&(n||t===r))return Gt(e);if(!e||!(t=dr(t)))return e;var i=fn(e),a=fn(t);return xr(i,en(i,a),tn(i,a)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===r))return e.slice(0,mn(e)+1);if(!e||!(t=dr(t)))return e;var i=fn(e);return xr(i,0,tn(i,fn(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===r))return e.replace(oe,"");if(!e||!(t=dr(t)))return e;var i=fn(e);return xr(i,en(i,fn(t))).join("")},Vn.truncate=function(e,t){var n=30,i="...";if(is(t)){var a="separator"in t?t.separator:a;n="length"in t?vs(t.length):n,i="omission"in t?dr(t.omission):i}var o=(e=ws(e)).length;if(sn(e)){var s=fn(e);o=s.length}if(n>=o)return e;var l=n-pn(i);if(l<1)return i;var c=s?xr(s,0,l).join(""):e.slice(0,l);if(a===r)return c+i;if(s&&(l+=c.length-l),ls(a)){if(e.slice(l).search(a)){var u,d=c;for(a.global||(a=De(a.source,ws(me.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var h=u.index;c=c.slice(0,h===r?l:h)}}else if(e.indexOf(dr(a),l)!=l){var p=c.lastIndexOf(a);p>-1&&(c=c.slice(0,p))}return c+i},Vn.unescape=function(e){return(e=ws(e))&&G.test(e)?e.replace($,gn):e},Vn.uniqueId=function(e){var t=++je;return ws(e)+t},Vn.upperCase=Qs,Vn.upperFirst=Js,Vn.each=wo,Vn.eachRight=ko,Vn.first=$a,ul(Vn,(El={},ki(Vn,(function(e,t){Re.call(Vn.prototype,t)||(El[t]=e)})),El),{chain:!1}),Vn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),Tt(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===r?1:_n(vs(n),0);var i=this.__filtered__&&!t?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=wn(n,i.__takeCount__):i.__views__.push({size:wn(n,g),type:e+(i.__dir__<0?"Right":"")}),i},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ol)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Qi((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Ii(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Lo(ua(e)))},Hn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(g)},ki(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Vn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Vn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Hn,c=s[0],u=l||Yo(t),d=function(e){var t=a.apply(Vn,Nt([e],s));return i&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=o&&!h,m=l&&!p;if(!o&&u){t=m?t:new Hn(this);var g=e.apply(t,s);return g.__actions__.push({func:go,args:[d],thisArg:r}),new Wn(g,h)}return f&&m?e.apply(this,s):(g=this.thru(d),f?i?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Yo(r)?r:[],e)}return this[n]((function(n){return t.apply(Yo(n)?n:[],e)}))}})),ki(Hn.prototype,(function(e,t){var n=Vn[t];if(n){var i=n.name+"";Re.call(On,i)||(On[i]=[]),On[i].push({name:t,func:n})}})),On[Vr(r,2).name]=[{name:"wrapper",func:r}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ar(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ar(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ar(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Yo(e),i=t<0,r=n?e.length:0,a=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=wn(t,e+o);break;case"takeRight":e=_n(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=a.start,s=a.end,l=s-o,c=i?s:o-1,u=this.__iteratees__,d=u.length,h=0,p=wn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return gr(e,this.__actions__);var f=[];e:for(;l--&&h<p;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}f[h++]=g}return f},Vn.prototype.at=vo,Vn.prototype.chain=function(){return mo(this)},Vn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===r&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var i=Ba(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:go,args:[no],thisArg:r}),new Wn(t,this.__chain__)}return this.thru(no)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return gr(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,et&&(Vn.prototype[et]=function(){return this}),Vn}();pt._=vn,(i=function(){return vn}.call(t,n,t,e))===r||(e.exports=i)}.call(this)},5161:(e,t,n)=>{var i=n(9932),r=n(7206),a=n(9199),o=n(1469);e.exports=function(e,t){return(o(e)?i:a)(e,r(t,3))}},8306:(e,t,n)=>{var i=n(3369);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},3857:(e,t,n)=>{var i=n(2980),r=n(1463)((function(e,t,n){i(e,t,n)}));e.exports=r},308:e=>{e.exports=function(){}},7771:(e,t,n)=>{var i=n(5639);e.exports=function(){return i.Date.now()}},7557:(e,t,n)=>{var i=n(9932),r=n(5990),a=n(7406),o=n(1811),s=n(8363),l=n(696),c=n(9021),u=n(6904),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=i(t,(function(t){return t=o(t,e),c||(c=t.length>1),t})),s(e,u(e),n),c&&(n=r(n,7,l));for(var d=t.length;d--;)a(n,t[d]);return n}));e.exports=d},9601:(e,t,n)=>{var i=n(371),r=n(9152),a=n(5403),o=n(327);e.exports=function(e){return a(e)?i(o(e)):r(e)}},6968:(e,t,n)=>{var i=n(611);e.exports=function(e,t,n){return null==e?e:i(e,t,n)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},3493:(e,t,n)=>{var i=n(3279),r=n(3218);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),i(e,t,{leading:a,maxWait:t,trailing:o})}},8601:(e,t,n)=>{var i=n(4841),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:(e,t,n)=>{var i=n(8601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},4841:(e,t,n)=>{var i=n(7561),r=n(3218),a=n(3448),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},3678:(e,t,n)=>{var i=n(8363),r=n(3360);e.exports=function(e){return i(e,r(e))}},9833:(e,t,n)=>{var i=n(531);e.exports=function(e){return null==e?"":i(e)}},4908:(e,t,n)=>{var i=n(5652);e.exports=function(e){return e&&e.length?i(e):[]}},5578:(e,t,n)=>{var i=n(7206),r=n(5652);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):[]}},2569:(e,t,n)=>{var i=n(731),r=n(5976),a=n(9246),o=r((function(e,t){return a(e)?i(e,t):[]}));e.exports=o},6566:(e,t,n)=>{var i=n(4963),r=n(5976),a=n(6128),o=n(9246),s=r((function(e){return a(i(e,o))}));e.exports=s},3704:function(e,t,n){!function(e,t){function i(e){var t="";if(!(e=parseInt(e,10))||e<1)return t;for(;e;)t+="0",e-=1;return t}function r(e,t,n){return null==e&&(e=""),e=""+e,(n?e:"")+i(t-e.length)+(n?"":e)}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){var n,i=0,r=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});i<r;){if(t(e[i]))return e[i];i+=1}}function l(e,t){var n=0,i=e.length;if(e&&i)for(;n<i;){if(!1===t(e[n],n))return;n+=1}}function c(e,t){var n=0,i=e.length,r=[];if(!e||!i)return r;for(;n<i;)r[n]=t(e[n],n),n+=1;return r}function u(e,t){return c(e,(function(e){return e[t]}))}function d(e){var t=[];return l(e,(function(e){e&&t.push(e)})),t}function h(e){var t=[];return l(e,(function(e){s(t,e)||t.push(e)})),t}function p(e,t){var n=[];return l(e,(function(e){l(t,(function(t){e===t&&n.push(e)}))})),h(n)}function f(e,t){var n=[];return l(e,(function(i,r){if(!t(i))return n=e.slice(r),!1})),n}function m(e,t){return f(e.slice().reverse(),t).reverse()}function g(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var v;try{v=n(381)}catch(e){}if(!v&&e.moment&&(v=e.moment),!v)throw"Moment Duration Format cannot find Moment.js";v.duration.fn.format=function(){var e,t,n,y,b,_,w=[].slice.call(arguments),k=g({},this.format.defaults),x=v.duration(this);return k.duration=this,l(w,(function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?o(e)&&g(k,e):k.precision=e:k.template=e})),n=k.types=a(k.types)?k.types:k.types.split(" "),"function"==typeof k.template&&(k.template=k.template.apply(k)),e=new RegExp(c(n,(function(e){return k[e].source})).join("|"),"g"),y=function(e){return s(n,(function(t){return k[t].test(e)}))},t=c(k.template.match(e),(function(e,t){var n=y(e);return{index:t,length:e.length,token:"escape"===n?e.replace(k.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}})),(b=p(n,h(d(u(t,"type"))))).length?(l(b,(function(e,n){var i,r,a,o,s;i=x.as(e),r=i>0?Math.floor(i):Math.ceil(i),a=i-r,o=n+1===b.length,s=!n,l(t,(function(t){t.type===e&&(g(t,{value:i,wholeValue:r,decimalValue:a,isLeast:o,isMost:s}),s&&null==k.forceLength&&t.length>1&&(k.forceLength=!0))})),x.subtract(r,e)})),k.trim&&(t=("left"===k.trim?f:m)(t,(function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)}))),_=!1,"right"===k.trim&&t.reverse(),t=c(t,(function(e){var t,n;if(!e.type)return e.token;if(t=(t=e.isLeast&&k.precision<0?(Math.floor(e.wholeValue*Math.pow(10,k.precision))*Math.pow(10,-k.precision)).toString():e.wholeValue.toString()).replace(/^\-/,""),e.length>1&&(_||e.isMost||k.forceLength)&&(t=r(t,e.length)),e.isLeast&&k.precision>0)switch((n=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/)).length){case 1:t+="."+r(n[0],k.precision,!0).slice(0,k.precision);break;case 2:t+="."+r(n[1],k.precision,!0).slice(0,k.precision);break;case 3:t+="."+r(i(+n[2]-1)+(n[0]||"0")+n[1],k.precision,!0).slice(0,k.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),_=!0,t})),"right"===k.trim&&t.reverse(),t.join("")):u(t,"token").join("")},v.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration;switch(function(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}(e,(function(e){return t._data[e]}))){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)},5383:function(e,t,n){!function(e){"use strict";e.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},8348:function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},7925:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(381))},2243:function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},6436:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},7207:function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(381))},6319:function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},5251:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(381))},1146:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(381))},5655:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(381))},3049:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(381))},2330:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(381))},4470:function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(381))},150:function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(381))},626:function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(381))},1793:function(e,t,n){!function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){return"m"===i?n?"минута":"минуту":e+" "+t({ss:n?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[i],+e)}var i=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:n,m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(381))},2397:function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var i=e%10,r=e%100-i,a=e>=100?100:null;return e+(t[i]||t[r]||t[a])}},week:{dow:1,doy:7}})}(n(381))},5666:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(381))},8700:(e,t,n)=>{var i={"./en-SG":5383,"./en-SG.js":5383,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-nz":6319,"./en-nz.js":6319,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ru":1793,"./ru.js":1793,"./tr":2397,"./tr.js":2397,"./vi":5666,"./vi.js":5666};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=8700},381:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,i;function r(){return t.apply(null,arguments)}function a(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,i){return $n(e,t,n,i,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=g()),e._pf}function y(e){if(null==e._isValid){var t=v(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function b(e){var t=m(NaN);return null!=e?f(v(t),e):v(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var _=r.momentProperties=[];function w(e,t){var n,i,r;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=v(t)),c(t._locale)||(e._locale=t._locale),_.length>0)for(n=0;n<_.length;n++)c(r=t[i=_[n]])||(e[i]=r);return e}var k=!1;function x(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===k&&(k=!0,r.updateOffset(this),k=!1)}function E(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function C(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=C(t)),n}function T(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&S(e[i])!==S(t[i]))&&o++;return o+a}function D(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function F(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,a=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var s in i+="\n["+o+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];a.push(i)}D(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var M,A={};function I(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),A[e]||(D(t),A[e]=!0)}function O(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)O(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,i=f({},e);for(n in t)p(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)p(e,n)&&!p(t,n)&&s(e[n])&&(i[n]=f({},i[n]));return i}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,M=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function L(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return O(i)?i.call(t,n):i}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Z(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}var B="Invalid date";function V(){return this._invalidDate}var z="%d",U=/\d{1,2}/;function W(e){return this._ordinal.replace("%d",e)}var H={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Y(e,t,n,i){var r=this._relativeTime[n];return O(r)?r(e,t,n,i):r.replace(/%d/i,e)}function $(e,t){var n=this._relativeTime[e>0?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)}var K={};function G(e,t){var n=e.toLowerCase();K[n]=K[n+"s"]=K[t]=e}function X(e){return"string"==typeof e?K[e]||K[e.toLowerCase()]:void 0}function Q(e){var t,n,i={};for(n in e)p(e,n)&&(t=X(n))&&(i[t]=e[n]);return i}var J={};function ee(e,t){J[e]=t}function te(e){var t=[];for(var n in e)t.push({unit:n,priority:J[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}function ne(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var ie=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ae={},oe={};function se(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(oe[e]=r),t&&(oe[t[0]]=function(){return ne(r.apply(this,arguments),t[1],t[2])}),n&&(oe[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function le(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function ce(e){var t,n,i=e.match(ie);for(t=0,n=i.length;t<n;t++)oe[i[t]]?i[t]=oe[i[t]]:i[t]=le(i[t]);return function(t){var r,a="";for(r=0;r<n;r++)a+=O(i[r])?i[r].call(t,e):i[r];return a}}function ue(e,t){return e.isValid()?(t=de(t,e.localeData()),ae[t]=ae[t]||ce(t),ae[t](e)):e.localeData().invalidDate()}function de(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(re.lastIndex=0;n>=0&&re.test(e);)e=e.replace(re,i),re.lastIndex=0,n-=1;return e}var he=/\d/,pe=/\d\d/,fe=/\d{3}/,me=/\d{4}/,ge=/[+-]?\d{6}/,ve=/\d\d?/,ye=/\d\d\d\d?/,be=/\d\d\d\d\d\d?/,_e=/\d{1,3}/,we=/\d{1,4}/,ke=/[+-]?\d{1,6}/,xe=/\d+/,Ee=/[+-]?\d+/,Ce=/Z|[+-]\d\d:?\d\d/gi,Se=/Z|[+-]\d\d(?::?\d\d)?/gi,Te=/[+-]?\d+(\.\d{1,3})?/,De=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Fe={};function Me(e,t,n){Fe[e]=O(t)?t:function(e,i){return e&&n?n:t}}function Ae(e,t){return p(Fe,e)?Fe[e](t._strict,t._locale):new RegExp(Ie(e))}function Ie(e){return Oe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r})))}function Oe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ne={};function Pe(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=S(e)}),n=0;n<e.length;n++)Ne[e[n]]=i}function Re(e,t){Pe(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function je(e,t,n){null!=t&&p(Ne,e)&&Ne[e](t,n._a,n,e)}var Le=0,qe=1,Ze=2,Be=3,Ve=4,ze=5,Ue=6,We=7,He=8;function Ye(e){return $e(e)?366:365}function $e(e){return e%4==0&&e%100!=0||e%400==0}se("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),se(0,["YY",2],0,(function(){return this.year()%100})),se(0,["YYYY",4],0,"year"),se(0,["YYYYY",5],0,"year"),se(0,["YYYYYY",6,!0],0,"year"),G("year","y"),ee("year",1),Me("Y",Ee),Me("YY",ve,pe),Me("YYYY",we,me),Me("YYYYY",ke,ge),Me("YYYYYY",ke,ge),Pe(["YYYYY","YYYYYY"],Le),Pe("YYYY",(function(e,t){t[Le]=2===e.length?r.parseTwoDigitYear(e):S(e)})),Pe("YY",(function(e,t){t[Le]=r.parseTwoDigitYear(e)})),Pe("Y",(function(e,t){t[Le]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var Ke,Ge=Qe("FullYear",!0);function Xe(){return $e(this.year())}function Qe(e,t){return function(n){return null!=n?(et(this,e,n),r.updateOffset(this,t),this):Je(this,e)}}function Je(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function et(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&$e(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),rt(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function tt(e){return O(this[e=X(e)])?this[e]():this}function nt(e,t){if("object"==typeof e)for(var n=te(e=Q(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(O(this[e=X(e)]))return this[e](t);return this}function it(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=it(t,12);return e+=(t-n)/12,1===n?$e(e)?29:28:31-n%7%2}Ke=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},se("M",["MM",2],"Mo",(function(){return this.month()+1})),se("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),se("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),G("month","M"),ee("month",8),Me("M",ve),Me("MM",ve,pe),Me("MMM",(function(e,t){return t.monthsShortRegex(e)})),Me("MMMM",(function(e,t){return t.monthsRegex(e)})),Pe(["M","MM"],(function(e,t){t[qe]=S(e)-1})),Pe(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[qe]=r:v(n).invalidMonth=e}));var at=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ot="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function st(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||at).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}var lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ct(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[at.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=m([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Ke.call(this._shortMonthsParse,o))?r:null:-1!==(r=Ke.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=Ke.call(this._shortMonthsParse,o))||-1!==(r=Ke.call(this._longMonthsParse,o))?r:null:-1!==(r=Ke.call(this._longMonthsParse,o))||-1!==(r=Ke.call(this._shortMonthsParse,o))?r:null}function dt(e,t,n){var i,r,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=m([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ht(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),rt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function pt(e){return null!=e?(ht(this,e),r.updateOffset(this,!0),this):Je(this,"Month")}function ft(){return rt(this.year(),this.month())}var mt=De;function gt(e){return this._monthsParseExact?(p(this,"_monthsRegex")||bt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=mt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}var vt=De;function yt(e){return this._monthsParseExact?(p(this,"_monthsRegex")||bt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=vt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function bt(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],a=[];for(t=0;t<12;t++)n=m([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),a.sort(e),t=0;t<12;t++)i[t]=Oe(i[t]),r[t]=Oe(r[t]);for(t=0;t<24;t++)a[t]=Oe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function _t(e,t,n,i,r,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,a,o),s}function wt(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function kt(e,t,n){var i=7+t-n;return-(7+wt(e,0,i).getUTCDay()-t)%7+i-1}function xt(e,t,n,i,r){var a,o,s=1+7*(t-1)+(7+n-i)%7+kt(e,i,r);return s<=0?o=Ye(a=e-1)+s:s>Ye(e)?(a=e+1,o=s-Ye(e)):(a=e,o=s),{year:a,dayOfYear:o}}function Et(e,t,n){var i,r,a=kt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?i=o+Ct(r=e.year()-1,t,n):o>Ct(e.year(),t,n)?(i=o-Ct(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function Ct(e,t,n){var i=kt(e,t,n),r=kt(e+1,t,n);return(Ye(e)-i+r)/7}function St(e){return Et(e,this._week.dow,this._week.doy).week}se("w",["ww",2],"wo","week"),se("W",["WW",2],"Wo","isoWeek"),G("week","w"),G("isoWeek","W"),ee("week",5),ee("isoWeek",5),Me("w",ve),Me("ww",ve,pe),Me("W",ve),Me("WW",ve,pe),Re(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=S(e)}));var Tt={dow:0,doy:6};function Dt(){return this._week.dow}function Ft(){return this._week.doy}function Mt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function It(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Nt(e,t){return e.slice(t,7).concat(e.slice(0,t))}se("d",0,"do","day"),se("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),se("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),se("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),se("e",0,0,"weekday"),se("E",0,0,"isoWeekday"),G("day","d"),G("weekday","e"),G("isoWeekday","E"),ee("day",11),ee("weekday",11),ee("isoWeekday",11),Me("d",ve),Me("e",ve),Me("E",ve),Me("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Me("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Me("dddd",(function(e,t){return t.weekdaysRegex(e)})),Re(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:v(n).invalidWeekday=e})),Re(["d","e","E"],(function(e,t,n,i){t[i]=S(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Rt(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Nt(n,this._week.dow):e?n[e.day()]:n}var jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Lt(e){return!0===e?Nt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}var qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Zt(e){return!0===e?Nt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=m([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Ke.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ke.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Ke.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=Ke.call(this._weekdaysParse,o))||-1!==(r=Ke.call(this._shortWeekdaysParse,o))||-1!==(r=Ke.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ke.call(this._shortWeekdaysParse,o))||-1!==(r=Ke.call(this._weekdaysParse,o))||-1!==(r=Ke.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Ke.call(this._minWeekdaysParse,o))||-1!==(r=Ke.call(this._weekdaysParse,o))||-1!==(r=Ke.call(this._shortWeekdaysParse,o))?r:null}function Vt(e,t,n){var i,r,a;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=m([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function zt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=It(e,this.localeData()),this.add(e-t,"d")):t}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}var Ht=De;function Yt(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}var $t=De;function Kt(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$t),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Gt=De;function Xt(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,i,r,a,o=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(i),s.push(r),l.push(a),c.push(i),c.push(r),c.push(a);for(o.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=Oe(s[t]),l[t]=Oe(l[t]),c[t]=Oe(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function en(){return this.hours()||24}function tn(e,t){se(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function nn(e,t){return t._meridiemParse}function rn(e){return"p"===(e+"").toLowerCase().charAt(0)}se("H",["HH",2],0,"hour"),se("h",["hh",2],0,Jt),se("k",["kk",2],0,en),se("hmm",0,0,(function(){return""+Jt.apply(this)+ne(this.minutes(),2)})),se("hmmss",0,0,(function(){return""+Jt.apply(this)+ne(this.minutes(),2)+ne(this.seconds(),2)})),se("Hmm",0,0,(function(){return""+this.hours()+ne(this.minutes(),2)})),se("Hmmss",0,0,(function(){return""+this.hours()+ne(this.minutes(),2)+ne(this.seconds(),2)})),tn("a",!0),tn("A",!1),G("hour","h"),ee("hour",13),Me("a",nn),Me("A",nn),Me("H",ve),Me("h",ve),Me("k",ve),Me("HH",ve,pe),Me("hh",ve,pe),Me("kk",ve,pe),Me("hmm",ye),Me("hmmss",be),Me("Hmm",ye),Me("Hmmss",be),Pe(["H","HH"],Be),Pe(["k","kk"],(function(e,t,n){var i=S(e);t[Be]=24===i?0:i})),Pe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Pe(["h","hh"],(function(e,t,n){t[Be]=S(e),v(n).bigHour=!0})),Pe("hmm",(function(e,t,n){var i=e.length-2;t[Be]=S(e.substr(0,i)),t[Ve]=S(e.substr(i)),v(n).bigHour=!0})),Pe("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[Be]=S(e.substr(0,i)),t[Ve]=S(e.substr(i,2)),t[ze]=S(e.substr(r)),v(n).bigHour=!0})),Pe("Hmm",(function(e,t,n){var i=e.length-2;t[Be]=S(e.substr(0,i)),t[Ve]=S(e.substr(i))})),Pe("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[Be]=S(e.substr(0,i)),t[Ve]=S(e.substr(i,2)),t[ze]=S(e.substr(r))}));var an=/[ap]\.?m?\.?/i;function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,ln=Qe("Hours",!0),cn={calendar:j,longDateFormat:q,invalidDate:B,ordinal:z,dayOfMonthOrdinalParse:U,relativeTime:H,months:ot,monthsShort:lt,week:Tt,weekdays:Pt,weekdaysMin:qt,weekdaysShort:jt,meridiemParse:an},un={},dn={};function hn(e){return e?e.toLowerCase().replace("_","-"):e}function pn(e){for(var t,n,i,r,a=0;a<e.length;){for(t=(r=hn(e[a]).split("-")).length,n=(n=hn(e[a+1]))?n.split("-"):null;t>0;){if(i=fn(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&T(r,n,!0)>=t-1)break;t--}a++}return sn}function fn(t){var i=null;if(!un[t]&&e&&e.exports)try{i=sn._abbr,n(8700)("./"+t),mn(i)}catch(e){}return un[t]}function mn(e,t){var n;return e&&((n=c(t)?yn(e):gn(e,t))?sn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function gn(e,t){if(null!==t){var n,i=cn;if(t.abbr=e,null!=un[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])i=un[t.parentLocale]._config;else{if(null==(n=fn(t.parentLocale)))return dn[t.parentLocale]||(dn[t.parentLocale]=[]),dn[t.parentLocale].push({name:e,config:t}),null;i=n._config}return un[e]=new R(P(i,t)),dn[e]&&dn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),un[e]}return delete un[e],null}function vn(e,t){if(null!=t){var n,i,r=cn;null!=(i=fn(e))&&(r=i._config),(n=new R(t=P(r,t))).parentLocale=un[e],un[e]=n,mn(e)}else null!=un[e]&&(null!=un[e].parentLocale?un[e]=un[e].parentLocale:null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!o(e)){if(t=fn(e))return t;e=[e]}return pn(e)}function bn(){return M(un)}function _n(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[qe]<0||n[qe]>11?qe:n[Ze]<1||n[Ze]>rt(n[Le],n[qe])?Ze:n[Be]<0||n[Be]>24||24===n[Be]&&(0!==n[Ve]||0!==n[ze]||0!==n[Ue])?Be:n[Ve]<0||n[Ve]>59?Ve:n[ze]<0||n[ze]>59?ze:n[Ue]<0||n[Ue]>999?Ue:-1,v(e)._overflowDayOfYear&&(t<Le||t>Ze)&&(t=Ze),v(e)._overflowWeeks&&-1===t&&(t=We),v(e)._overflowWeekday&&-1===t&&(t=He),v(e).overflow=t),e}function wn(e,t,n){return null!=e?e:null!=t?t:n}function kn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function xn(e){var t,n,i,r,a,o=[];if(!e._d){for(i=kn(e),e._w&&null==e._a[Ze]&&null==e._a[qe]&&En(e),null!=e._dayOfYear&&(a=wn(e._a[Le],i[Le]),(e._dayOfYear>Ye(a)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=wt(a,0,e._dayOfYear),e._a[qe]=n.getUTCMonth(),e._a[Ze]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Be]&&0===e._a[Ve]&&0===e._a[ze]&&0===e._a[Ue]&&(e._nextDay=!0,e._a[Be]=0),e._d=(e._useUTC?wt:_t).apply(null,o),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Be]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(v(e).weekdayMismatch=!0)}}function En(e){var t,n,i,r,a,o,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,o=4,n=wn(t.GG,e._a[Le],Et(Kn(),1,4).year),i=wn(t.W,1),((r=wn(t.E,1))<1||r>7)&&(l=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var c=Et(Kn(),a,o);n=wn(t.gg,e._a[Le],c.year),i=wn(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a}i<1||i>Ct(n,a,o)?v(e)._overflowWeeks=!0:null!=l?v(e)._overflowWeekday=!0:(s=xt(n,i,r,a,o),e._a[Le]=s.year,e._dayOfYear=s.dayOfYear)}var Cn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tn=/Z|[+-]\d\d(?::?\d\d)?/,Dn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Fn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mn=/^\/?Date\((\-?\d+)/i;function An(e){var t,n,i,r,a,o,s=e._i,l=Cn.exec(s)||Sn.exec(s);if(l){for(v(e).iso=!0,t=0,n=Dn.length;t<n;t++)if(Dn[t][1].exec(l[1])){r=Dn[t][0],i=!1!==Dn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=Fn.length;t<n;t++)if(Fn[t][1].exec(l[3])){a=(l[2]||" ")+Fn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!i&&null!=a)return void(e._isValid=!1);if(l[4]){if(!Tn.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(a||"")+(o||""),Bn(e)}else e._isValid=!1}var In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function On(e,t,n,i,r,a){var o=[Nn(e),lt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&o.push(parseInt(a,10)),o}function Nn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||jt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}var jn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ln(e,t,n){if(e)return jn[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function qn(e){var t=In.exec(Pn(e._i));if(t){var n=On(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Rn(t[1],n,e))return;e._a=n,e._tzm=Ln(t[8],t[9],t[10]),e._d=wt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Zn(e){var t=Mn.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,qn(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Bn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,i,a,o,s=""+e._i,l=s.length,c=0;for(i=de(e._f,e._locale).match(ie)||[],t=0;t<i.length;t++)a=i[t],(n=(s.match(Ae(a,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&v(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),c+=n.length),oe[a]?(n?v(e).empty=!1:v(e).unusedTokens.push(a),je(a,n,e)):e._strict&&!n&&v(e).unusedTokens.push(a);v(e).charsLeftOver=l-c,s.length>0&&v(e).unusedInput.push(s),e._a[Be]<=12&&!0===v(e).bigHour&&e._a[Be]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[Be]=Vn(e._locale,e._a[Be],e._meridiem),xn(e),_n(e)}else qn(e);else An(e)}function Vn(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function zn(e){var t,n,i,r,a;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Bn(t),y(t)&&(a+=v(t).charsLeftOver,a+=10*v(t).unusedTokens.length,v(t).score=a,(null==i||a<i)&&(i=a,n=t));f(e,n||t)}function Un(e){if(!e._d){var t=Q(e._i);e._a=h([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),xn(e)}}function Wn(e){var t=new x(_n(Hn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Hn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new x(_n(t)):(d(t)?e._d=t:o(n)?zn(e):n?Bn(e):Yn(e),y(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Zn(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),xn(e)):s(t)?Un(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function $n(e,t,n,i,r){var a={};return!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,Wn(a)}function Kn(e,t,n,i){return $n(e,t,n,i,!1)}r.createFromInputFallback=F("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Gn=F("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),Xn=F("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Qn(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function Jn(){return Qn("isBefore",[].slice.call(arguments,0))}function ei(){return Qn("isAfter",[].slice.call(arguments,0))}var ti=function(){return Date.now?Date.now():+new Date},ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(e){for(var t in e)if(-1===Ke.call(ni,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<ni.length;++i)if(e[ni[i]]){if(n)return!1;parseFloat(e[ni[i]])!==S(e[ni[i]])&&(n=!0)}return!0}function ri(){return this._isValid}function ai(){return Ti(NaN)}function oi(e){var t=Q(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=ii(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=yn(),this._bubble()}function si(e){return e instanceof oi}function li(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ci(e,t){se(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+ne(~~(e/60),2)+t+ne(~~e%60,2)}))}ci("Z",":"),ci("ZZ",""),Me("Z",Se),Me("ZZ",Se),Pe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=di(Se,e)}));var ui=/([\+\-]|\d\d)/gi;function di(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(ui)||["-",0,0],r=60*i[1]+S(i[2]);return 0===r?0:"+"===i[0]?r:-r}function hi(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(E(e)||d(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function pi(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function fi(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=di(Se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pi(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Ii(this,Ti(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pi(this)}function mi(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gi(e){return this.utcOffset(0,e)}function vi(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pi(this),"m")),this}function yi(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=di(Ce,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function bi(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function _i(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wi(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=Hn(e))._a){var t=e._isUTC?m(e._a):Kn(e._a);this._isDSTShifted=this.isValid()&&T(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ki(){return!!this.isValid()&&!this._isUTC}function xi(){return!!this.isValid()&&this._isUTC}function Ei(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ci=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Si=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ti(e,t){var n,i,r,a=e,o=null;return si(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:u(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=Ci.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:S(o[Ze])*n,h:S(o[Be])*n,m:S(o[Ve])*n,s:S(o[ze])*n,ms:S(li(1e3*o[Ue]))*n}):(o=Si.exec(e))?(n="-"===o[1]?-1:1,a={y:Di(o[2],n),M:Di(o[3],n),w:Di(o[4],n),d:Di(o[5],n),h:Di(o[6],n),m:Di(o[7],n),s:Di(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=Mi(Kn(a.from),Kn(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new oi(a),si(e)&&p(e,"_locale")&&(i._locale=e._locale),i}function Di(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Fi(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Mi(e,t){var n;return e.isValid()&&t.isValid()?(t=hi(t,e),e.isBefore(t)?n=Fi(e,t):((n=Fi(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ai(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Ii(this,Ti(n="string"==typeof n?+n:n,i),e),this}}function Ii(e,t,n,i){var a=t._milliseconds,o=li(t._days),s=li(t._months);e.isValid()&&(i=null==i||i,s&&ht(e,Je(e,"Month")+s*n),o&&et(e,"Date",Je(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Ti.fn=oi.prototype,Ti.invalid=ai;var Oi=Ai(1,"add"),Ni=Ai(-1,"subtract");function Pi(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ri(e,t){var n=e||Kn(),i=hi(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(O(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function ji(){return new x(this)}function Li(e,t){var n=E(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=X(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function qi(e,t){var n=E(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=X(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Zi(e,t,n,i){var r=E(e)?e:Kn(e),a=E(t)?t:Kn(t);return!!(this.isValid()&&r.isValid()&&a.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Bi(e,t){var n,i=E(e)?e:Kn(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=X(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Vi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function zi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ui(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=hi(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=X(t)){case"year":a=Wi(this,i)/12;break;case"month":a=Wi(this,i);break;case"quarter":a=Wi(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:C(a)}function Wi(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Hi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Yi(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ue(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ue(n,"Z")):ue(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $i(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]';return this.format(n+i+r+a)}function Ki(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=ue(this,e);return this.localeData().postformat(t)}function Gi(e,t){return this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())?Ti({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Xi(e){return this.from(Kn(),e)}function Qi(e,t){return this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())?Ti({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ji(e){return this.to(Kn(),e)}function er(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tr=F("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function nr(){return this._locale}var ir=1e3,rr=60*ir,ar=60*rr,or=3506328*ar;function sr(e,t){return(e%t+t)%t}function lr(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-or:new Date(e,t,n).valueOf()}function cr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-or:Date.UTC(e,t,n)}function ur(e){var t;if(void 0===(e=X(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?cr:lr;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sr(t+(this._isUTC?0:this.utcOffset()*rr),ar);break;case"minute":t=this._d.valueOf(),t-=sr(t,rr);break;case"second":t=this._d.valueOf(),t-=sr(t,ir)}return this._d.setTime(t),r.updateOffset(this,!0),this}function dr(e){var t;if(void 0===(e=X(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?cr:lr;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ar-sr(t+(this._isUTC?0:this.utcOffset()*rr),ar)-1;break;case"minute":t=this._d.valueOf(),t+=rr-sr(t,rr)-1;break;case"second":t=this._d.valueOf(),t+=ir-sr(t,ir)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function hr(){return this._d.valueOf()-6e4*(this._offset||0)}function pr(){return Math.floor(this.valueOf()/1e3)}function fr(){return new Date(this.valueOf())}function mr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function gr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function vr(){return this.isValid()?this.toISOString():null}function yr(){return y(this)}function br(){return f({},v(this))}function _r(){return v(this).overflow}function wr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function kr(e,t){se(0,[e,e.length],0,t)}function xr(e){return Tr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Er(e){return Tr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Cr(){return Ct(this.year(),1,4)}function Sr(){var e=this.localeData()._week;return Ct(this.year(),e.dow,e.doy)}function Tr(e,t,n,i,r){var a;return null==e?Et(this,i,r).year:(t>(a=Ct(e,i,r))&&(t=a),Dr.call(this,e,t,n,i,r))}function Dr(e,t,n,i,r){var a=xt(e,t,n,i,r),o=wt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Fr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}se(0,["gg",2],0,(function(){return this.weekYear()%100})),se(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),kr("gggg","weekYear"),kr("ggggg","weekYear"),kr("GGGG","isoWeekYear"),kr("GGGGG","isoWeekYear"),G("weekYear","gg"),G("isoWeekYear","GG"),ee("weekYear",1),ee("isoWeekYear",1),Me("G",Ee),Me("g",Ee),Me("GG",ve,pe),Me("gg",ve,pe),Me("GGGG",we,me),Me("gggg",we,me),Me("GGGGG",ke,ge),Me("ggggg",ke,ge),Re(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=S(e)})),Re(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),se("Q",0,"Qo","quarter"),G("quarter","Q"),ee("quarter",7),Me("Q",he),Pe("Q",(function(e,t){t[qe]=3*(S(e)-1)})),se("D",["DD",2],"Do","date"),G("date","D"),ee("date",9),Me("D",ve),Me("DD",ve,pe),Me("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Pe(["D","DD"],Ze),Pe("Do",(function(e,t){t[Ze]=S(e.match(ve)[0])}));var Mr=Qe("Date",!0);function Ar(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}se("DDD",["DDDD",3],"DDDo","dayOfYear"),G("dayOfYear","DDD"),ee("dayOfYear",4),Me("DDD",_e),Me("DDDD",fe),Pe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=S(e)})),se("m",["mm",2],0,"minute"),G("minute","m"),ee("minute",14),Me("m",ve),Me("mm",ve,pe),Pe(["m","mm"],Ve);var Ir=Qe("Minutes",!1);se("s",["ss",2],0,"second"),G("second","s"),ee("second",15),Me("s",ve),Me("ss",ve,pe),Pe(["s","ss"],ze);var Or,Nr=Qe("Seconds",!1);for(se("S",0,0,(function(){return~~(this.millisecond()/100)})),se(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),se(0,["SSS",3],0,"millisecond"),se(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),se(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),se(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),se(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),se(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),se(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),G("millisecond","ms"),ee("millisecond",16),Me("S",_e,he),Me("SS",_e,pe),Me("SSS",_e,fe),Or="SSSS";Or.length<=9;Or+="S")Me(Or,xe);function Pr(e,t){t[Ue]=S(1e3*("0."+e))}for(Or="S";Or.length<=9;Or+="S")Pe(Or,Pr);var Rr=Qe("Milliseconds",!1);function jr(){return this._isUTC?"UTC":""}function Lr(){return this._isUTC?"Coordinated Universal Time":""}se("z",0,0,"zoneAbbr"),se("zz",0,0,"zoneName");var qr=x.prototype;function Zr(e){return Kn(1e3*e)}function Br(){return Kn.apply(null,arguments).parseZone()}function Vr(e){return e}qr.add=Oi,qr.calendar=Ri,qr.clone=ji,qr.diff=Ui,qr.endOf=dr,qr.format=Ki,qr.from=Gi,qr.fromNow=Xi,qr.to=Qi,qr.toNow=Ji,qr.get=tt,qr.invalidAt=_r,qr.isAfter=Li,qr.isBefore=qi,qr.isBetween=Zi,qr.isSame=Bi,qr.isSameOrAfter=Vi,qr.isSameOrBefore=zi,qr.isValid=yr,qr.lang=tr,qr.locale=er,qr.localeData=nr,qr.max=Xn,qr.min=Gn,qr.parsingFlags=br,qr.set=nt,qr.startOf=ur,qr.subtract=Ni,qr.toArray=mr,qr.toObject=gr,qr.toDate=fr,qr.toISOString=Yi,qr.inspect=$i,qr.toJSON=vr,qr.toString=Hi,qr.unix=pr,qr.valueOf=hr,qr.creationData=wr,qr.year=Ge,qr.isLeapYear=Xe,qr.weekYear=xr,qr.isoWeekYear=Er,qr.quarter=qr.quarters=Fr,qr.month=pt,qr.daysInMonth=ft,qr.week=qr.weeks=Mt,qr.isoWeek=qr.isoWeeks=At,qr.weeksInYear=Sr,qr.isoWeeksInYear=Cr,qr.date=Mr,qr.day=qr.days=zt,qr.weekday=Ut,qr.isoWeekday=Wt,qr.dayOfYear=Ar,qr.hour=qr.hours=ln,qr.minute=qr.minutes=Ir,qr.second=qr.seconds=Nr,qr.millisecond=qr.milliseconds=Rr,qr.utcOffset=fi,qr.utc=gi,qr.local=vi,qr.parseZone=yi,qr.hasAlignedHourOffset=bi,qr.isDST=_i,qr.isLocal=ki,qr.isUtcOffset=xi,qr.isUtc=Ei,qr.isUTC=Ei,qr.zoneAbbr=jr,qr.zoneName=Lr,qr.dates=F("dates accessor is deprecated. Use date instead.",Mr),qr.months=F("months accessor is deprecated. Use month instead",pt),qr.years=F("years accessor is deprecated. Use year instead",Ge),qr.zone=F("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mi),qr.isDSTShifted=F("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wi);var zr=R.prototype;function Ur(e,t,n,i){var r=yn(),a=m().set(i,t);return r[n](a,e)}function Wr(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ur(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Ur(e,i,n,"month");return r}function Hr(e,t,n,i){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,a=yn(),o=e?a._week.dow:0;if(null!=n)return Ur(t,(n+o)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=Ur(t,(r+o)%7,i,"day");return s}function Yr(e,t){return Wr(e,t,"months")}function $r(e,t){return Wr(e,t,"monthsShort")}function Kr(e,t,n){return Hr(e,t,n,"weekdays")}function Gr(e,t,n){return Hr(e,t,n,"weekdaysShort")}function Xr(e,t,n){return Hr(e,t,n,"weekdaysMin")}zr.calendar=L,zr.longDateFormat=Z,zr.invalidDate=V,zr.ordinal=W,zr.preparse=Vr,zr.postformat=Vr,zr.relativeTime=Y,zr.pastFuture=$,zr.set=N,zr.months=st,zr.monthsShort=ct,zr.monthsParse=dt,zr.monthsRegex=yt,zr.monthsShortRegex=gt,zr.week=St,zr.firstDayOfYear=Ft,zr.firstDayOfWeek=Dt,zr.weekdays=Rt,zr.weekdaysMin=Zt,zr.weekdaysShort=Lt,zr.weekdaysParse=Vt,zr.weekdaysRegex=Yt,zr.weekdaysShortRegex=Kt,zr.weekdaysMinRegex=Xt,zr.isPM=rn,zr.meridiem=on,mn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=F("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=F("moment.langData is deprecated. Use moment.localeData instead.",yn);var Qr=Math.abs;function Jr(){var e=this._data;return this._milliseconds=Qr(this._milliseconds),this._days=Qr(this._days),this._months=Qr(this._months),e.milliseconds=Qr(e.milliseconds),e.seconds=Qr(e.seconds),e.minutes=Qr(e.minutes),e.hours=Qr(e.hours),e.months=Qr(e.months),e.years=Qr(e.years),this}function ea(e,t,n,i){var r=Ti(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function ta(e,t){return ea(this,e,t,1)}function na(e,t){return ea(this,e,t,-1)}function ia(e){return e<0?Math.floor(e):Math.ceil(e)}function ra(){var e,t,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*ia(oa(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=C(a/1e3),l.seconds=e%60,t=C(e/60),l.minutes=t%60,n=C(t/60),l.hours=n%24,o+=C(n/24),s+=r=C(aa(o)),o-=ia(oa(r)),i=C(s/12),s%=12,l.days=o,l.months=s,l.years=i,this}function aa(e){return 4800*e/146097}function oa(e){return 146097*e/4800}function sa(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=X(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+aa(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(oa(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function la(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN}function ca(e){return function(){return this.as(e)}}var ua=ca("ms"),da=ca("s"),ha=ca("m"),pa=ca("h"),fa=ca("d"),ma=ca("w"),ga=ca("M"),va=ca("Q"),ya=ca("y");function ba(){return Ti(this)}function _a(e){return e=X(e),this.isValid()?this[e+"s"]():NaN}function wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var ka=wa("milliseconds"),xa=wa("seconds"),Ea=wa("minutes"),Ca=wa("hours"),Sa=wa("days"),Ta=wa("months"),Da=wa("years");function Fa(){return C(this.days()/7)}var Ma=Math.round,Aa={ss:44,s:45,m:45,h:22,d:26,M:11};function Ia(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function Oa(e,t,n){var i=Ti(e).abs(),r=Ma(i.as("s")),a=Ma(i.as("m")),o=Ma(i.as("h")),s=Ma(i.as("d")),l=Ma(i.as("M")),c=Ma(i.as("y")),u=r<=Aa.ss&&["s",r]||r<Aa.s&&["ss",r]||a<=1&&["m"]||a<Aa.m&&["mm",a]||o<=1&&["h"]||o<Aa.h&&["hh",o]||s<=1&&["d"]||s<Aa.d&&["dd",s]||l<=1&&["M"]||l<Aa.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Ia.apply(null,u)}function Na(e){return void 0===e?Ma:"function"==typeof e&&(Ma=e,!0)}function Pa(e,t){return void 0!==Aa[e]&&(void 0===t?Aa[e]:(Aa[e]=t,"s"===e&&(Aa.ss=t-1),!0))}function Ra(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Oa(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}var ja=Math.abs;function La(e){return(e>0)-(e<0)||+e}function qa(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=ja(this._milliseconds)/1e3,i=ja(this._days),r=ja(this._months);e=C(n/60),t=C(e/60),n%=60,e%=60;var a=C(r/12),o=r%=12,s=i,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=La(this._months)!==La(d)?"-":"",f=La(this._days)!==La(d)?"-":"",m=La(this._milliseconds)!==La(d)?"-":"";return h+"P"+(a?p+a+"Y":"")+(o?p+o+"M":"")+(s?f+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var Za=oi.prototype;return Za.isValid=ri,Za.abs=Jr,Za.add=ta,Za.subtract=na,Za.as=sa,Za.asMilliseconds=ua,Za.asSeconds=da,Za.asMinutes=ha,Za.asHours=pa,Za.asDays=fa,Za.asWeeks=ma,Za.asMonths=ga,Za.asQuarters=va,Za.asYears=ya,Za.valueOf=la,Za._bubble=ra,Za.clone=ba,Za.get=_a,Za.milliseconds=ka,Za.seconds=xa,Za.minutes=Ea,Za.hours=Ca,Za.days=Sa,Za.weeks=Fa,Za.months=Ta,Za.years=Da,Za.humanize=Ra,Za.toISOString=qa,Za.toString=qa,Za.toJSON=qa,Za.locale=er,Za.localeData=nr,Za.toIsoString=F("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qa),Za.lang=tr,se("X",0,0,"unix"),se("x",0,0,"valueOf"),Me("x",Ee),Me("X",Te),Pe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),Pe("x",(function(e,t,n){n._d=new Date(S(e))})),r.version="2.24.0",a(Kn),r.fn=qr,r.min=Jn,r.max=ei,r.now=ti,r.utc=m,r.unix=Zr,r.months=Yr,r.isDate=d,r.locale=mn,r.invalid=b,r.duration=Ti,r.isMoment=E,r.weekdays=Kr,r.parseZone=Br,r.localeData=yn,r.isDuration=si,r.monthsShort=$r,r.weekdaysMin=Xr,r.defineLocale=gn,r.updateLocale=vn,r.locales=bn,r.weekdaysShort=Gr,r.normalizeUnits=X,r.relativeTimeRounding=Na,r.relativeTimeThreshold=Pa,r.calendarFormat=Pi,r.prototype=qr,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},7744:function(e){(function(){"use strict";var t={langLocaleCode:"bg",cultureCode:"bg",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"И",million:"А",billion:"M",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"лв.",code:"BGN"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&this.numbro.culture("bg",t)}).call("undefined"==typeof window?this:window)},2589:function(e){(function(){"use strict";var t={langLocaleCode:"cs-CZ",cultureCode:"cs-CZ",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"mld.",trillion:"bil."},ordinal:function(){return"."},currency:{symbol:"Kč",position:"postfix",spaceSeparated:!0,code:"CZK"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},768:function(e){(function(){"use strict";var t={langLocaleCode:"da-DK",cultureCode:"da-DK",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",position:"postfix",code:"DKK"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},2349:function(e){(function(){"use strict";var t={langLocaleCode:"de-AT",cultureCode:"de-AT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€",code:"EUR"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},162:function(e){(function(){"use strict";var t={langLocaleCode:"de-CH",cultureCode:"de-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix",code:"CHF"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},6138:function(e){(function(){"use strict";var t={langLocaleCode:"de-DE",cultureCode:"de-DE",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix",spaceSeparated:!0,code:"EUR"},defaults:{currencyFormat:",4"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},2776:function(e){(function(){"use strict";var t={langLocaleCode:"de-LI",cultureCode:"de-LI",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix",code:"CHF"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},2597:function(e){(function(){"use strict";var t={langLocaleCode:"el",cultureCode:"el",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"χ",million:"ε",billion:"δ",trillion:"τ"},ordinal:function(){return"."},currency:{symbol:"€",code:"EUR"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("el",t)}).call("undefined"==typeof window?this:window)},5714:function(e){(function(){"use strict";var t={langLocaleCode:"en-AU",cultureCode:"en-AU",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"AUD"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},5920:function(e){(function(){"use strict";var t={langLocaleCode:"en-GB",cultureCode:"en-GB",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"£",position:"prefix",code:"GBP"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},1991:function(e){(function(){"use strict";var t={langLocaleCode:"en-IE",cultureCode:"en-IE",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"€",code:"EUR"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("en-gb",t)}).call("undefined"==typeof window?this:window)},1418:function(e){(function(){"use strict";var t={langLocaleCode:"en-NZ",cultureCode:"en-NZ",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"NZD"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},3830:function(e){(function(){"use strict";var t={langLocaleCode:"en-ZA",cultureCode:"en-ZA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"R",position:"prefix",code:"ZAR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},7805:function(e){(function(){"use strict";var t={langLocaleCode:"es-AR",cultureCode:"es-AR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"postfix",code:"ARS"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},4113:function(e){(function(){"use strict";var t={langLocaleCode:"es-CL",cultureCode:"es-CL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"prefix",code:"CLP"},defaults:{currencyFormat:"$0,0"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},6291:function(e){(function(){"use strict";var t={langLocaleCode:"es-CO",cultureCode:"es-CO",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},2747:function(e){(function(){"use strict";var t={langLocaleCode:"es-CR",cultureCode:"es-CR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"₡",position:"postfix",code:"CRC"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},4020:function(e){(function(){"use strict";var t={langLocaleCode:"es-ES",cultureCode:"es-ES",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},607:function(e){(function(){"use strict";var t={langLocaleCode:"es-MX",cultureCode:"es-MX",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"postfix",code:"MXN"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},4356:function(e){(function(){"use strict";var t={langLocaleCode:"es-NI",cultureCode:"es-NI",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"C$",position:"prefix",code:"NIO"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},2224:function(e){(function(){"use strict";var t={langLocaleCode:"es-PE",cultureCode:"es-PE",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"S/.",position:"prefix",code:"PEN"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},8767:function(e){(function(){"use strict";var t={langLocaleCode:"es-PR",cultureCode:"es-PR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"prefix",code:"USD"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},9899:function(e){(function(){"use strict";var t={langLocaleCode:"es-SV",cultureCode:"es-SV",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"prefix",code:"SVC"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},3018:function(e){(function(){"use strict";var t={langLocaleCode:"et-EE",cultureCode:"et-EE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},1310:function(e){(function(){"use strict";var t={langLocaleCode:"fa-IR",cultureCode:"fa-IR",delimiters:{thousands:"،",decimal:"."},abbreviations:{thousand:"هزار",million:"میلیون",billion:"میلیارد",trillion:"تریلیون"},ordinal:function(){return"ام"},currency:{symbol:"﷼",code:"IRR"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},9602:function(e){(function(){"use strict";var t={langLocaleCode:"fi-FI",cultureCode:"fi-FI",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},9118:function(e){(function(){"use strict";var t={langLocaleCode:"fil-PH",cultureCode:"fil-PH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"₱",code:"PHP"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},1286:function(e){(function(){"use strict";var t={langLocaleCode:"fr-CA",cultureCode:"fr-CA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"$",position:"postfix",spaceSeparated:!0,code:"USD"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},8575:function(e){(function(){"use strict";var t={langLocaleCode:"fr-CH",cultureCode:"fr-CH",delimiters:{thousands:" ",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"CHF",position:"postfix",code:"CHF"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},7814:function(e){(function(){"use strict";var t={langLocaleCode:"fr-FR",cultureCode:"fr-FR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},201:function(e){(function(){"use strict";var t={langLocaleCode:"he-IL",cultureCode:"he-IL",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"אלף",million:"מליון",billion:"בליון",trillion:"טריליון"},currency:{symbol:"₪",position:"prefix",code:"ILS"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"₪ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"₪ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},7727:function(e){(function(){"use strict";var t={langLocaleCode:"hu-HU",cultureCode:"hu-HU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(){return"."},currency:{symbol:" Ft",position:"postfix",code:"HUF"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},1812:function(e){(function(){"use strict";var t={langLocaleCode:"id",cultureCode:"id",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"r",million:"j",billion:"m",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"Rp",code:"IDR"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("id",t)}).call("undefined"==typeof window?this:window)},2245:(e,t,n)=>{t.bg=n(7744),t["cs-CZ"]=n(2589),t["da-DK"]=n(768),t["de-AT"]=n(2349),t["de-CH"]=n(162),t["de-DE"]=n(6138),t["de-LI"]=n(2776),t.el=n(2597),t["en-AU"]=n(5714),t["en-GB"]=n(5920),t["en-IE"]=n(1991),t["en-NZ"]=n(1418),t["en-ZA"]=n(3830),t["es-AR"]=n(7805),t["es-CL"]=n(4113),t["es-CO"]=n(6291),t["es-CR"]=n(2747),t["es-ES"]=n(4020),t["es-MX"]=n(607),t["es-NI"]=n(4356),t["es-PE"]=n(2224),t["es-PR"]=n(8767),t["es-SV"]=n(9899),t["et-EE"]=n(3018),t["fa-IR"]=n(1310),t["fi-FI"]=n(9602),t["fil-PH"]=n(9118),t["fr-CA"]=n(1286),t["fr-CH"]=n(8575),t["fr-FR"]=n(7814),t["he-IL"]=n(201),t["hu-HU"]=n(7727),t.id=n(1812),t["it-CH"]=n(9651),t["it-IT"]=n(3520),t["ja-JP"]=n(5042),t["ko-KR"]=n(8998),t["lv-LV"]=n(2986),t["nb-NO"]=n(3779),t.nb=n(6371),t["nl-BE"]=n(1317),t["nl-NL"]=n(411),t.nn=n(6528),t["pl-PL"]=n(2471),t["pt-BR"]=n(2296),t["pt-PT"]=n(8684),t["ro-RO"]=n(4851),t.ro=n(9440),t["ru-RU"]=n(4349),t["ru-UA"]=n(6389),t["sk-SK"]=n(9186),t.sl=n(7988),t["sr-Cyrl-RS"]=n(9683),t["sv-SE"]=n(2107),t["th-TH"]=n(4777),t["tr-TR"]=n(5949),t["uk-UA"]=n(4322),t["zh-CN"]=n(5007),t["zh-MO"]=n(6318),t["zh-SG"]=n(3585),t["zh-TW"]=n(7418)},9651:function(e){(function(){"use strict";var t={langLocaleCode:"it-CH",cultureCode:"it-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return"°"},currency:{symbol:"CHF",code:"CHF"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("it-CH",t)}).call("undefined"==typeof window?this:window)},3520:function(e){(function(){"use strict";var t={langLocaleCode:"it-IT",cultureCode:"it-IT",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},5042:function(e){(function(){"use strict";var t={langLocaleCode:"ja-JP",cultureCode:"ja-JP",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十億",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"¥",position:"prefix",code:"JPY"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},8998:function(e){(function(){"use strict";var t={langLocaleCode:"ko-KR",cultureCode:"ko-KR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"천",million:"백만",billion:"십억",trillion:"일조"},ordinal:function(){return"."},currency:{symbol:"₩",code:"KPW"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},2986:function(e){(function(){"use strict";var t={langLocaleCode:"lv-LV",cultureCode:"lv-LV",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tūkst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},3779:function(e){(function(){"use strict";var t={langLocaleCode:"nb-NO",cultureCode:"nb-NO",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"t"},currency:{symbol:"kr",position:"postfix",code:"NOK"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},6371:function(e){(function(){"use strict";var t={langLocaleCode:"nb",cultureCode:"nb",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"mil",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",code:"NOK"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("nb",t)}).call("undefined"==typeof window?this:window)},1317:function(e){(function(){"use strict";var t={langLocaleCode:"nl-BE",cultureCode:"nl-BE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&t<=1||8===t||t>=20?"ste":"de"},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},411:function(e){(function(){"use strict";var t={langLocaleCode:"nl-NL",cultureCode:"nl-NL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&t<=1||8===t||t>=20?"ste":"de"},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},6528:e=>{!function(){"use strict";var t={langLocaleCode:"nn",cultureCode:"nn",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"mil",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",code:"NOK"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.language&&window.numbro.language("nn",t)}()},2471:function(e){(function(){"use strict";var t={langLocaleCode:"pl-PL",cultureCode:"pl-PL",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" zł",position:"postfix",code:"PLN"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},2296:function(e){(function(){"use strict";var t={langLocaleCode:"pt-BR",cultureCode:"pt-BR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhões",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"R$",position:"prefix",code:"BRL"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},8684:function(e){(function(){"use strict";var t={langLocaleCode:"pt-PT",cultureCode:"pt-PT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"€",position:"postfix",code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},4851:function(e){(function(){"use strict";var t={langLocaleCode:"ro-RO",cultureCode:"ro-RO",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mii",million:"mil",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" lei",position:"postfix",code:"RON"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},9440:function(e){(function(){"use strict";var t={langLocaleCode:"ro",cultureCode:"ro",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mie",million:"mln",billion:"mld",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"RON",code:"RON"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("ro",t)}).call("undefined"==typeof window?this:window)},4349:function(e){(function(){"use strict";var t={langLocaleCode:"ru-RU",cultureCode:"ru-RU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"руб.",position:"postfix",code:"RUB"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},6389:function(e){(function(){"use strict";var t={langLocaleCode:"ru-UA",cultureCode:"ru-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"₴",position:"postfix",code:"UAH"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},9186:function(e){(function(){"use strict";var t={langLocaleCode:"sk-SK",cultureCode:"sk-SK",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"mld.",trillion:"bil."},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix",spaceSeparated:!0,code:"EUR"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},7988:e=>{!function(){"use strict";var t={langLocaleCode:"sl",cultureCode:"sl",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€",code:"EUR"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("sl",t)}()},9683:e=>{!function(){"use strict";var t={langLocaleCode:"sr-Cyrl-RS",cultureCode:"sr-Cyrl-RS",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"RSD",code:"RSD"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("sr-Cyrl-RS",t)}()},2107:function(e){(function(){"use strict";var t={langLocaleCode:"sv-SE",cultureCode:"sv-SE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"tmd"},currency:{symbol:"kr",position:"postfix",code:"SEK"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},4777:function(e){(function(){"use strict";var t={langLocaleCode:"th-TH",cultureCode:"th-TH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"พัน",million:"ล้าน",billion:"พันล้าน",trillion:"ล้านล้าน"},ordinal:function(){return"."},currency:{symbol:"฿",position:"postfix",code:"THB"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},5949:function(e){(function(){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"},n={langLocaleCode:"tr-TR",cultureCode:"tr-TR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(e){if(0===e)return"'ıncı";var n=e%10;return t[n]||t[e%100-n]||t[e>=100?100:null]},currency:{symbol:"₺",position:"postfix",code:"TRY"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=n),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(n.cultureCode,n)}).call("undefined"==typeof window?this:window)},4322:function(e){(function(){"use strict";var t={langLocaleCode:"uk-UA",cultureCode:"uk-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тис.",million:"млн",billion:"млрд",trillion:"блн"},ordinal:function(){return""},currency:{symbol:"₴",position:"postfix",code:"UAH"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},5007:function(e){(function(){"use strict";var t={langLocaleCode:"zh-CN",cultureCode:"zh-CN",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十亿",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"¥",position:"prefix",code:"CNY"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},6318:e=>{!function(){"use strict";var t={langLocaleCode:"zh-MO",cultureCode:"zh-MO",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百萬",billion:"十億",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"MOP",code:"MOP"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("zh-MO",t)}()},3585:function(e){(function(){"use strict";var t={langLocaleCode:"zh-SG",cultureCode:"zh-SG",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十亿",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"$",code:"SGD"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("zh-SG",t)}).call("undefined"==typeof window?this:window)},7418:function(e){(function(){"use strict";var t={langLocaleCode:"zh-TW",cultureCode:"zh-TW",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百萬",billion:"十億",trillion:"兆"},ordinal:function(){return"第"},currency:{symbol:"NT$",code:"TWD"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},9541:function(e,t,n){var i;(function(){"use strict";var r,a=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s={general:{scale:1024,suffixes:o,marker:"bd"},binary:{scale:1024,suffixes:a,marker:"b"},decimal:{scale:1e3,suffixes:o,marker:"d"}},l=[s.general,s.binary,s.decimal],c={},u=c,d="en-US",h=null,p="0,0",f="0$",m=e.exports;function g(e){this._value=e}function v(e){return 0===e?1:Math.floor(Math.log(Math.abs(e))/Math.LN10)+1}function y(e){var t,n="";for(t=0;t<e;t++)n+="0";return n}function b(e,t,n,i){var r,a,o=Math.pow(10,t);return e.toString().indexOf("e")>-1?(a=function(e,t){var n,i,r,a,o,s;return n=(s=e.toString()).split("e")[0],a=s.split("e")[1],i=n.split(".")[0],r=n.split(".")[1]||"",+a>0?s=i+r+y(a-r.length):(o=+i<0?"-0":"0",t>0&&(o+="."),s=o+(y(-1*a-1)+Math.abs(i)+r).substr(0,t)),+a>0&&t>0&&(s+="."+y(t)),s}(e,t),"-"===a.charAt(0)&&+a>=0&&(a=a.substr(1))):a=(n(e+"e+"+t)/o).toFixed(t),i&&(r=new RegExp("0{1,"+i+"}$"),a=a.replace(r,"")),a}function _(e,t,n){var i,r=t.replace(/\{[^\{\}]*\}/g,"");return i=r.indexOf("$")>-1?k(e,c[d].currency.symbol,t,n):r.indexOf("%")>-1?function(e,t,n){var i,r="",a=100*e._value;t.indexOf(" %")>-1?(r=" ",t=t.replace(" %","")):t=t.replace("%","");(i=E(a,t,n)).indexOf(")")>-1?((i=i.split("")).splice(-1,0,r+"%"),i=i.join("")):i=i+r+"%";return i}(e,t,n):r.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),i=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)}(e):E(e._value,t,n),i}function w(e,t){var n,i,r,s,l,u=t,p=!1;if(t.indexOf(":")>-1)e._value=function(e){var t=e.split(":"),n=0;3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1]));return Number(n)}(t);else if(t===h)e._value=0;else{for("."!==c[d].delimiters.decimal&&(t=t.replace(/\./g,"").replace(c[d].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+c[d].abbreviations.thousand+"(?:\\)|(\\"+c[d].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+c[d].abbreviations.million+"(?:\\)|(\\"+c[d].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+c[d].abbreviations.billion+"(?:\\)|(\\"+c[d].currency.symbol+")?(?:\\))?)?$"),s=new RegExp("[^a-zA-Z]"+c[d].abbreviations.trillion+"(?:\\)|(\\"+c[d].currency.symbol+")?(?:\\))?)?$"),l=1;l<a.length&&!p;++l)t.indexOf(a[l])>-1?p=Math.pow(1024,l):t.indexOf(o[l])>-1&&(p=Math.pow(1e3,l));var f=t.replace(/[^0-9\.]+/g,"");""===f?e._value=NaN:(e._value=(p||1)*(u.match(n)?Math.pow(10,3):1)*(u.match(i)?Math.pow(10,6):1)*(u.match(r)?Math.pow(10,9):1)*(u.match(s)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(f),e._value=p?Math.ceil(e._value):e._value)}return e._value}function k(e,t,n,i){var r,a,o=n,s=o.indexOf("$"),l=o.indexOf("("),u=o.indexOf("+"),h=o.indexOf("-"),p="",f="";if(-1===o.indexOf("$")?"infix"===c[d].currency.position?(f=t,c[d].currency.spaceSeparated&&(f=" "+f+" ")):c[d].currency.spaceSeparated&&(p=" "):o.indexOf(" $")>-1?(p=" ",o=o.replace(" $","")):o.indexOf("$ ")>-1?(p=" ",o=o.replace("$ ","")):o=o.replace("$",""),a=E(e._value,o,i,f),-1===n.indexOf("$"))switch(c[d].currency.position){case"postfix":a.indexOf(")")>-1?((a=a.split("")).splice(-1,0,p+t),a=a.join("")):a=a+p+t;break;case"infix":break;case"prefix":a.indexOf("(")>-1||a.indexOf("-")>-1?(a=a.split(""),r=Math.max(l,h)+1,a.splice(r,0,t+p),a=a.join("")):a=t+p+a;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else s<=1?a.indexOf("(")>-1||a.indexOf("+")>-1||a.indexOf("-")>-1?(r=1,(s<l||s<u||s<h)&&(r=0),(a=a.split("")).splice(r,0,t+p),a=a.join("")):a=t+p+a:a.indexOf(")")>-1?((a=a.split("")).splice(-1,0,p+t),a=a.join("")):a=a+p+t;return a}function x(e,t,n){var i,r,a,o=t[0],s=Math.abs(e);if(s>=n){for(i=1;i<t.length;++i)if(r=Math.pow(n,i),a=Math.pow(n,i+1),s>=r&&s<a){o=t[i],e/=r;break}o===t[0]&&(e/=Math.pow(n,t.length-1),o=t[t.length-1])}return{value:e,suffix:o}}function E(e,t,n,i){var r,a,o,s,u,p,f,m,g,_,w,k,E,C,S,T=!1,D=!1,F=!1,M="",A=!1,I=!1,O=!1,N=!1,P=!1,R="",j="",L=Math.abs(e),q="",Z=!1,B=!1;if(0===e&&null!==h)return h;if(!isFinite(e))return""+e;if(0===t.indexOf("{")){var V=t.indexOf("}");if(-1===V)throw Error('Format should also contain a "}"');_=t.slice(1,V),t=t.slice(V+1)}else _="";if(t.indexOf("}")===t.length-1&&t.length){var z=t.indexOf("{");if(-1===z)throw Error('Format should also contain a "{"');w=t.slice(z+1,-1),t=t.slice(0,z+1)}else w="";for(E=null===(S=-1===t.indexOf(".")?t.match(/([0-9]+).*/):t.match(/([0-9]+)\..*/))?-1:S[1].length,-1!==t.indexOf("-")&&(Z=!0),t.indexOf("(")>-1?(T=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(D=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(m=t.split(".")[0].match(/[0-9]+/g)||["0"],m=parseInt(m[0],10),A=t.indexOf("aK")>=0,I=t.indexOf("aM")>=0,O=t.indexOf("aB")>=0,N=t.indexOf("aT")>=0,P=A||I||O||N,t.indexOf(" a")>-1?(M=" ",t=t.replace(" a","")):t=t.replace("a",""),u=0===(u=(o=v(e))%3)?3:u,m&&0!==L&&(p=3*~~((Math.min(m,o)-u)/3),L/=Math.pow(10,p)),o!==m&&(L>=Math.pow(10,12)&&!P||N?(M+=c[d].abbreviations.trillion,e/=Math.pow(10,12)):L<Math.pow(10,12)&&L>=Math.pow(10,9)&&!P||O?(M+=c[d].abbreviations.billion,e/=Math.pow(10,9)):L<Math.pow(10,9)&&L>=Math.pow(10,6)&&!P||I?(M+=c[d].abbreviations.million,e/=Math.pow(10,6)):(L<Math.pow(10,6)&&L>=Math.pow(10,3)&&!P||A)&&(M+=c[d].abbreviations.thousand,e/=Math.pow(10,3))),s=v(e),m&&s<m&&-1===t.indexOf(".")&&(t+="[.]",t+=y(m-s))),C=0;C<l.length;++C)if(r=l[C],t.indexOf(r.marker)>-1){t.indexOf(" "+r.marker)>-1&&(R=" "),t=t.replace(R+r.marker,""),e=(a=x(e,r.suffixes,r.scale)).value,R+=a.suffix;break}if(t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(j=" ",t=t.replace(" o","")):t=t.replace("o",""),c[d].ordinal&&(j+=c[d].ordinal(e))),t.indexOf("[.]")>-1&&(F=!0,t=t.replace("[.]",".")),g=t.split(".")[1],k=t.indexOf(","),g){var U=[];if(-1!==g.indexOf("*")?(U=(q=e.toString()).split(".")).length>1&&(q=b(e,U[1].length,n)):q=g.indexOf("[")>-1?b(e,(g=(g=g.replace("]","")).split("["))[0].length+g[1].length,n,g[1].length):b(e,g.length,n),f=(U=q.split("."))[0],U.length>1&&U[1].length)q=(i?M+i:c[d].delimiters.decimal)+U[1];else q="";F&&0===Number(q.slice(1))&&(q="")}else f=b(e,0,n);return f.indexOf("-")>-1&&(f=f.slice(1),B=!0),f.length<E&&(f=y(E-f.length)+f),k>-1&&(f=f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+c[d].delimiters.thousands)),0===t.indexOf(".")&&(f=""),_+(t.indexOf("(")<t.indexOf("-")?(T&&B?"(":"")+(Z&&B||!T&&B?"-":""):(Z&&B||!T&&B?"-":"")+(T&&B?"(":""))+(!B&&D&&0!==e?"+":"")+f+q+(j||"")+(M&&!i?M:"")+(R||"")+(T&&B?")":"")+w}function C(e,t){c[e]=t}function S(e){d=e;var t=c[e].defaults;t&&t.format&&r.defaultFormat(t.format),t&&t.currencyFormat&&r.defaultCurrencyFormat(t.currencyFormat)}function T(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function D(){var e=Array.prototype.slice.call(arguments);return e.reduce((function(e,t){var n=T(e),i=T(t);return n>i?n:i}),-1/0)}(r=function(e){return e=r.isNumbro(e)?e.value():"string"==typeof e||"number"==typeof e?r.fn.unformat(e):NaN,new g(Number(e))}).version="1.11.1",r.isNumbro=function(e){return e instanceof g},r.setLanguage=function(e,t){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var n=e,i=e.split("-")[0],r=null;u[n]||(Object.keys(u).forEach((function(e){r||e.split("-")[0]!==i||(r=e)})),n=r||t||"en-US"),S(n)},r.setCulture=function(e,t){var n=e,i=e.split("-")[1],r=null;c[n]||(i&&Object.keys(c).forEach((function(e){r||e.split("-")[1]!==i||(r=e)})),n=r||t||"en-US"),S(n)},r.language=function(e,t){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!e)return d;if(e&&!t){if(!u[e])throw new Error("Unknown language : "+e);S(e)}return!t&&u[e]||C(e,t),r},r.culture=function(e,t){if(!e)return d;if(e&&!t){if(!c[e])throw new Error("Unknown culture : "+e);S(e)}return!t&&c[e]||C(e,t),r},r.languageData=function(e){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!e)return u[d];if(!u[e])throw new Error("Unknown language : "+e);return u[e]},r.cultureData=function(e){if(!e)return c[d];if(!c[e])throw new Error("Unknown culture : "+e);return c[e]},r.culture("en-US",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}}),r.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),u},r.cultures=function(){return c},r.zeroFormat=function(e){h="string"==typeof e?e:null},r.defaultFormat=function(e){p="string"==typeof e?e:"0.0"},r.defaultCurrencyFormat=function(e){f="string"==typeof e?e:"0$"},r.validate=function(e,t){var n,i,a,o,s,l,c,u;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",e)),(e=(e=e.trim()).replace(/^[+-]?/,"")).match(/^\d+$/))return!0;if(""===e)return!1;try{c=r.cultureData(t)}catch(e){c=r.cultureData(r.culture())}return a=c.currency.symbol,s=c.abbreviations,n=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(u=e.match(/^[^\d\.\,]+/))||(e=e.substr(1),u[0]===a))&&((null===(u=e.match(/[^\d]+$/))||(e=e.slice(0,-1),u[0]===s.thousand||u[0]===s.million||u[0]===s.billion||u[0]===s.trillion))&&(l=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&(!((o=e.split(n)).length>2)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l):""===o[0]?!o[0].match(l)&&!!o[1].match(/^\d+$/):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/)))))},r.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),r.loadCulturesInNode()},r.loadCulturesInNode=function(){var e=n(2245);for(var t in e)t&&r.culture(t,e[t])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,i,r=this.length>>>0,a=!1;for(1<arguments.length&&(i=t,a=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(a?i=e(i,this[n],n,this):(i=this[n],a=!0));if(!a)throw new TypeError("Reduce of empty array with no initial value");return i}),r.fn=g.prototype={clone:function(){return r(this)},format:function(e,t){return _(this,e||p,void 0!==t?t:Math.round)},formatCurrency:function(e,t){return k(this,c[d].currency.symbol,e||f,void 0!==t?t:Math.round)},formatForeignCurrency:function(e,t,n){return function(e,t,n,i){return k(e,t,n,i)}(this,e,t||f,void 0!==n?n:Math.round)},unformat:function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=w(this,e);return isNaN(t)?void 0:t}},binaryByteUnits:function(){return x(this._value,s.binary.suffixes,s.binary.scale).suffix},byteUnits:function(){return x(this._value,s.general.suffixes,s.general.scale).suffix},decimalByteUnits:function(){return x(this._value,s.decimal.suffixes,s.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=D.call(null,this._value,e);return this._value=[this._value,e].reduce((function(e,n){return e+t*n}),0)/t,this},subtract:function(e){var t=D.call(null,this._value,e);return this._value=[e].reduce((function(e,n){return e-t*n}),this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce((function(e,t){var n=D(e,t),i=e*n;return i*=t*n,i/=n*n}),1),this},divide:function(e){return this._value=[this._value,e].reduce((function(e,t){var n=D(e,t);return e*n/(t*n)})),this},difference:function(e){return Math.abs(r(this._value).subtract(e).value())}},"undefined"!=typeof process&&void 0===process.browser&&process.title&&(-1!==process.title.indexOf("node")||process.title.indexOf("meteor-tool")>0||"grunt"===process.title||"gulp"===process.title)&&r.loadCulturesInNode(),m?e.exports=r:("undefined"==typeof ender&&(this.numbro=r),void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i))}).call("undefined"==typeof window?this:window)},3072:e=>{var t;(t={dev:!1}).tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.logs={},t.dom={},t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),t.dev&&(t.dispatch.on("render_start",(function(e){t.logs.startTime=+new Date})),t.dispatch.on("render_end",(function(e){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)}))),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(e,t){console&&console.warn&&console.warn("nvd3 warning: `"+e+"` has been deprecated. ",t||"")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start();var n=function(){for(var i,r,a=0;a<e&&(r=t.render.queue[a]);a++)i=r.generate(),typeof r.callback==typeof Function&&r.callback(i);t.render.queue.splice(0,a),t.render.queue.length?setTimeout(n):(t.dispatch.render_end(),t.render.active=!1)};setTimeout(n)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},e.exports=t,"undefined"!=typeof window&&(window.nv=t),t.dom.write=function(e){return void 0!==window.fastdom?fastdom.write(e):e()},t.dom.read=function(e){return void 0!==window.fastdom?fastdom.read(e):e()},t.interactiveGuideline=function(){"use strict";var e={left:0,top:0},n=null,i=null,r=d3.scale.linear(),a=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),o=!0,s=null,l=t.models.tooltip(),c="ActiveXObject"in window;function u(d){d.each((function(d){var h=d3.select(this),p=n||960,f=i||400,m=h.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);function g(){var t=d3.mouse(this),n=t[0],i=t[1],o=!0,s=!1;if(c&&(n=d3.event.offsetX,i=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(o=!1),d3.event.target.className.baseVal.match("nv-legend")&&(s=!0)),o&&(n-=e.left,i-=e.top),n<0||i<0||n>p||i>f||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||s){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(l.nvPointerEventsClass)))return;return a.elementMouseout({mouseX:n,mouseY:i}),u.renderGuideLine(null),void l.hidden(!0)}l.hidden(!1);var d=void 0;if("function"==typeof r.rangeBands){var h=d3.bisect(r.range(),n)-1;if(!(r.range()[h]+r.rangeBand()>=n))return a.elementMouseout({mouseX:n,mouseY:i}),u.renderGuideLine(null),void l.hidden(!0);d=r.domain()[d3.bisect(r.range(),n)-1]}else d=r.invert(n);a.elementMousemove({mouseX:n,mouseY:i,pointXValue:d}),"dblclick"===d3.event.type&&a.elementDblclick({mouseX:n,mouseY:i,pointXValue:d}),"click"===d3.event.type&&a.elementClick({mouseX:n,mouseY:i,pointXValue:d}),"mousedown"===d3.event.type&&a.elementMouseDown({mouseX:n,mouseY:i,pointXValue:d}),"mouseup"===d3.event.type&&a.elementMouseUp({mouseX:n,mouseY:i,pointXValue:d})}m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),s&&(s.on("touchmove",g).on("mousemove",g,!0).on("mouseout",g,!0).on("mousedown",g,!0).on("mouseup",g,!0).on("dblclick",g).on("click",g),u.guideLine=null,u.renderGuideLine=function(e){o&&(u.guideLine&&u.guideLine.attr("x1")===e||t.dom.write((function(){var n=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[t.utils.NaNtoZero(e)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",(function(e){return e})).attr("x2",(function(e){return e})).attr("y1",f).attr("y2",0),n.exit().remove()})))})}))}return l.duration(0).hideDelay(0).hidden(!1),u.dispatch=a,u.tooltip=l,u.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.left=void 0!==t.left?t.left:e.left,u):e},u.width=function(e){return arguments.length?(n=e,u):n},u.height=function(e){return arguments.length?(i=e,u):i},u.xScale=function(e){return arguments.length?(r=e,u):r},u.showGuideLine=function(e){return arguments.length?(o=e,u):o},u.svgContainer=function(e){return arguments.length?(s=e,u):s},u},t.interactiveBisect=function(e,t,n){"use strict";if(!(e instanceof Array))return null;var i;i="function"!=typeof n?function(e){return e.x}:n;var r=d3.bisector((function(e,t){return i(e)-t})).left,a=d3.max([0,r(e,t)-1]),o=i(e[a]);if(void 0===o&&(o=a),o===t)return a;var s=d3.min([a+1,e.length-1]),l=i(e[s]);return void 0===l&&(l=s),Math.abs(l-t)>=Math.abs(o-t)?a:s},t.nearestValueIndex=function(e,t,n){"use strict";var i=1/0,r=null;return e.forEach((function(e,a){var o=Math.abs(t-e);null!=e&&o<=i&&o<n&&(i=o,r=a)})),r},t.models.tooltip=function(){"use strict";var e="nvtooltip-"+Math.floor(1e5*Math.random()),n=null,i="w",r=25,a=0,o=null,s=null,l=!0,c=200,u=null,d={left:null,top:null},h=!0,p=100,f=!0,m="nv-pointer-events-none",g=function(){return{left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0}},v=function(e,t){return e},y=function(e){return e},b=function(e,t){return e},_=function(e){if(null===e)return"";var t=d3.select(document.createElement("table"));f&&t.selectAll("thead").data([e]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(y(e.value));var n=t.selectAll("tbody").data([e]).enter().append("tbody").selectAll("tr").data((function(e){return e.series})).enter().append("tr").classed("highlight",(function(e){return e.highlight}));n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",(function(e){return e.color})),n.append("td").classed("key",!0).classed("total",(function(e){return!!e.total})).html((function(e,t){return b(e.key,t)})),n.append("td").classed("value",!0).html((function(e,t){return v(e.value,t)})),n.selectAll("td").each((function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",e.color]);d3.select(this).style("border-bottom-color",t(.6)).style("border-top-color",t(.6))}}));var i=t.node().outerHTML;return void 0!==e.footer&&(i+="<div class='footer'>"+e.footer+"</div>"),i},w=function(){t.dom.read((function(){var e=g(),t=function(e){var t,n,a,o=u.node().offsetHeight,s=u.node().offsetWidth,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(i){case"e":t=-s-r,n=-o/2,e.left+t<0&&(t=r),(a=e.top+n)<0&&(n-=a),(a=e.top+n+o)>c&&(n-=a-c);break;case"w":t=r,n=-o/2,e.left+t+s>l&&(t=-s-r),(a=e.top+n)<0&&(n-=a),(a=e.top+n+o)>c&&(n-=a-c);break;case"n":t=-s/2-5,n=r,e.top+n+o>c&&(n=-o-r),(a=e.left+t)<0&&(t-=a),(a=e.left+t+s)>l&&(t-=a-l);break;case"s":t=-s/2,n=-o-r,e.top+n<0&&(n=r),(a=e.left+t)<0&&(t-=a),(a=e.left+t+s)>l&&(t-=a-l);break;case"center":t=-s/2,n=-o/2;break;default:t=0,n=0}return{left:t,top:n}}(e),n=e.left+t.left,a=e.top+t.top;if(l)u.interrupt().transition().delay(c).duration(0).style("opacity",0);else{var o="translate("+d.left+"px, "+d.top+"px)",s="translate("+n+"px, "+a+"px)",h=d3.interpolateString(o,s),f=u.style("opacity")<.1;u.interrupt().transition().duration(f?0:p).styleTween("transform",(function(e){return h}),"important").styleTween("-webkit-transform",(function(e){return h})).style("-ms-transform",s).style("opacity",1)}d.left=n,d.top=a}))};function k(){if(h&&function(e){if(e&&e.series){if(e.series instanceof Array)return!!e.series.length;if(e.series instanceof Object)return e.series=[e.series],!0}return!1}(n))return t.dom.write((function(){!function(){if(!u){var t=s||document.body;(u=d3.select(t).append("div").attr("class","nvtooltip "+(o||"xy-tooltip")).attr("id",e)).style("top",0).style("left",0),u.style("opacity",0),u.style("position","fixed"),u.selectAll("div, table, td, tr").classed(m,!0),u.classed(m,!0)}}();var t=_(n);t&&(u.node().innerHTML=t),w()})),k}return k.nvPointerEventsClass=m,k.options=t.utils.optionsFunc.bind(k),k._options=Object.create({},{duration:{get:function(){return p},set:function(e){p=e}},gravity:{get:function(){return i},set:function(e){i=e}},distance:{get:function(){return r},set:function(e){r=e}},snapDistance:{get:function(){return a},set:function(e){a=e}},classes:{get:function(){return o},set:function(e){o=e}},chartContainer:{get:function(){return s},set:function(e){s=e}},enabled:{get:function(){return h},set:function(e){h=e}},hideDelay:{get:function(){return c},set:function(e){c=e}},contentGenerator:{get:function(){return _},set:function(e){_=e}},valueFormatter:{get:function(){return v},set:function(e){v=e}},headerFormatter:{get:function(){return y},set:function(e){y=e}},keyFormatter:{get:function(){return b},set:function(e){b=e}},headerEnabled:{get:function(){return f},set:function(e){f=e}},position:{get:function(){return g},set:function(e){g=e}},fixedTop:{get:function(){return null},set:function(e){t.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(e){t.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return l},set:function(e){l!=e&&(l=!!e,k())}},data:{get:function(){return n},set:function(e){e.point&&(e.value=e.point.x,e.series=e.series||{},e.series.value=e.point.y,e.series.color=e.point.color||e.series.color),n=e}},node:{get:function(){return u.node()},set:function(e){}},id:{get:function(){return e},set:function(e){}}}),t.utils.initOptions(k),k},t.utils.windowSize=function(){var e={width:640,height:480};return window.innerWidth&&window.innerHeight?(e.width=window.innerWidth,e.height=window.innerHeight,e):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(e.width=document.documentElement.offsetWidth,e.height=document.documentElement.offsetHeight,e):document.body&&document.body.offsetWidth?(e.width=document.body.offsetWidth,e.height=document.body.offsetHeight,e):e},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){if(void 0===e)return t.utils.defaultColor();if(Array.isArray(e)){var n=d3.scale.ordinal().range(e);return function(e,t){var i=void 0===t?e:t;return e.color||n(i)}}return e},t.utils.defaultColor=function(){return t.utils.getColor(d3.scale.category20().range())},t.utils.customTheme=function(e,t,n){t=t||function(e){return e.key};var i=(n=n||d3.scale.category20().range()).length;return function(r,a){var o=t(r);return"function"==typeof e[o]?e[o]():void 0!==e[o]?e[o]:(i||(i=n.length),n[i-=1])}},t.utils.pjax=function(e,n){var i=function(i){d3.html(i,(function(i){var r=d3.select(n).node();r.parentNode.replaceChild(d3.select(i).select(n).node(),r),t.utils.pjax(e,n)}))};d3.selectAll(e).on("click",(function(){history.pushState(this.href,this.textContent,this.href),i(this.href),d3.event.preventDefault()})),d3.select(window).on("popstate",(function(){d3.event.state&&i(d3.event.state)}))},t.utils.calcApproxTextWidth=function(e){if("function"==typeof e.style&&"function"==typeof e.text){var t=parseInt(e.style("font-size").replace("px",""),10);return e.text().length*t*.5}return 0},t.utils.NaNtoZero=function(e){return"number"!=typeof e||isNaN(e)||null===e||e===1/0||e===-1/0?0:e},d3.selection.prototype.watchTransition=function(e){var t=[this].concat([].slice.call(arguments,1));return e.transition.apply(e,t)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var i=void 0!==n?n:250,r=[],a=this;this.models=function(e){return(e=[].slice.call(arguments,0)).forEach((function(e){e.__rendered=!1,function(e){e.dispatch.on("renderEnd",(function(t){e.__rendered=!0,a.renderEnd("model")}))}(e),r.indexOf(e)<0&&r.push(e)})),this},this.reset=function(e){void 0!==e&&(i=e),r=[]},this.transition=function(e,t,n){if(n=(t=arguments.length>1?[].slice.call(arguments,1):[]).length>1?t.pop():void 0!==i?i:250,e.__rendered=!1,r.indexOf(e)<0&&r.push(e),0===n)return e.__rendered=!0,e.delay=function(){return this},e.duration=function(){return this},e;0===e.length||e.every((function(e){return!e.length}))?e.__rendered=!0:e.__rendered=!1;var o=0;return e.transition().duration(n).each((function(){++o})).each("end",(function(n,i){0==--o&&(e.__rendered=!0,a.renderEnd.apply(this,t))}))},this.renderEnd=function(){r.every((function(e){return e.__rendered}))&&(r.forEach((function(e){e.__rendered=!1})),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach((function(n){for(var i in n){var r=e[i]instanceof Array,a="object"==typeof e[i],o="object"==typeof n[i];a&&!r&&o?t.utils.deepExtend(e[i],n[i]):e[i]=n[i]}}))},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},i=function(){return{}},r=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",(function(e){n(e,!0)})),this.getter=function(e){return i=e,this},this.setter=function(e,t){return t||(t=function(){}),n=function(n,i){e(n),i&&t()},this},this.init=function(e){r=r||{},t.utils.deepExtend(r,e)};var a=function(){var t=i();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n];return!0};this.update=function(){r&&(n(r,!1),r=null),a.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return e&&d3.map(e).forEach(function(e,t){"function"==typeof this[e]&&this[e](t)}.bind(this)),this},t.utils.calcTicksX=function(e,n){for(var i=1,r=0;r<n.length;r+=1){var a=n[r]&&n[r].values?n[r].values.length:0;i=a>i?a:i}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",i),e=(e=e>i?e=i-1:e)<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(e,t){e._calls&&e._calls[t]?e[t]=e._calls[t]:(e[t]=function(n){return arguments.length?(e._overrides[t]=!0,e._options[t]=n,e):e._options[t]},e["_"+t]=function(n){return arguments.length?(e._overrides[t]||(e._options[t]=n),e):e._options[t]})},t.utils.initOptions=function(e){e._overrides=e._overrides||{};var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{});for(var r in n=n.concat(i))t.utils.initOption(e,n[r])},t.utils.inheritOptionsD3=function(e,t,n){e._d3options=n.concat(e._d3options||[]),n.unshift(t),n.unshift(e),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(e){return e.sort().filter((function(t,n){return!n||t!=e[n-1]}))},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){var e,n=64;function i(i,r){var a=e.call(this,i,r),o=n.call(this,i,r);return-1!==d3.svg.symbolTypes.indexOf(a)?d3.svg.symbol().type(a).size(o)():t.utils.symbolMap.get(a)(o)}return i.type=function(t){return arguments.length?(e=d3.functor(t),i):e},i.size=function(e){return arguments.length?(n=d3.functor(e),i):n},i},t.utils.inheritOptions=function(e,n){var i=Object.getOwnPropertyNames(n._options||{}),r=Object.getOwnPropertyNames(n._calls||{}),a=n._inherited||[],o=n._d3options||[],s=i.concat(r).concat(a).concat(o);s.unshift(n),s.unshift(e),d3.rebind.apply(this,s),e._inherited=t.utils.arrayUnique(i.concat(r).concat(a).concat(i).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(o.concat(e._d3options||[]))},t.utils.initSVG=function(e){e.classed({"nvd3-svg":!0})},t.utils.sanitizeHeight=function(e,t){return e||parseInt(t.style("height"),10)||400},t.utils.sanitizeWidth=function(e,t){return e||parseInt(t.style("width"),10)||960},t.utils.availableHeight=function(e,n,i){return Math.max(0,t.utils.sanitizeHeight(e,n)-i.top-i.bottom)},t.utils.availableWidth=function(e,n,i){return Math.max(0,t.utils.sanitizeWidth(e,n)-i.left-i.right)},t.utils.noData=function(e,n){var i=e.options(),r=i.margin(),a=i.noData(),o=null==a?["No Data Available."]:[a],s=t.utils.availableHeight(null,n,r),l=t.utils.availableWidth(null,n,r),c=r.left+l/2,u=r.top+s/2;n.selectAll("g").remove();var d=n.selectAll(".nv-noData").data(o);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",c).attr("y",u).text((function(e){return e}))},t.utils.wrapTicks=function(e,t){e.each((function(){for(var e,n=d3.select(this),i=n.text().split(/\s+/).reverse(),r=[],a=0,o=n.attr("y"),s=parseFloat(n.attr("dy")),l=n.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em");e=i.pop();)r.push(e),l.text(r.join(" ")),l.node().getComputedTextLength()>t&&(r.pop(),l.text(r.join(" ")),r=[e],l=n.append("tspan").attr("x",0).attr("y",o).attr("dy",1.1*++a+s+"em").text(e))}))},t.utils.arrayEquals=function(e,n){if(e===n)return!0;if(!e||!n)return!1;if(e.length!=n.length)return!1;for(var i=0,r=e.length;i<r;i++)if(e[i]instanceof Array&&n[i]instanceof Array){if(!t.arrayEquals(e[i],n[i]))return!1}else if(e[i]!=n[i])return!1;return!0},t.models.axis=function(){"use strict";var e,n=d3.svg.axis(),i=d3.scale.linear(),r={top:0,right:0,bottom:0,left:0},a=75,o=60,s=null,l=!0,c=0,u=!0,d=!1,h=!1,p=null,f=0,m=250,g=d3.dispatch("renderEnd");n.scale(i).orient("bottom").tickFormat((function(e){return e}));var v=t.utils.renderWatch(g,m);function y(o){return v.reset(),o.each((function(o){var m=d3.select(this);t.utils.initSVG(m);var g=m.selectAll("g.nv-wrap.nv-axis").data([o]),y=(g.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),g.select("g"));null!==p?n.ticks(p):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(i.range()[1]-i.range()[0])/100),y.watchTransition(v,"axis").call(n),e=e||n.scale();var b=n.tickFormat();null==b&&(b=e.tickFormat());var _,w,k,x=y.selectAll("text.nv-axislabel").data([s||null]);switch(x.exit().remove(),n.orient()){case"top":x.enter().append("text").attr("class","nv-axislabel"),k=0,1===i.range().length?k=h?2*i.range()[0]+i.rangeBand():0:2===i.range().length?k=h?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(k=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),x.attr("text-anchor","middle").attr("y",0).attr("x",k/2),l&&((w=g.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")})).append("text"),w.exit().remove(),w.attr("transform",(function(e,n){return"translate("+t.utils.NaNtoZero(i(e))+",0)"})).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text((function(e,t){var n=b(e);return(""+n).match("NaN")?"":n})),w.watchTransition(v,"min-max top").attr("transform",(function(e,n){return"translate("+t.utils.NaNtoZero(i.range()[n])+",0)"})));break;case"bottom":_=f+36;var E=30,C=0,S=y.selectAll("g").select("text"),T="";if(c%360){S.each((function(e,t){var n=this.getBoundingClientRect(),i=n.width;C=n.height,i>E&&(E=i)})),T="rotate("+c+" 0,"+(C/2+n.tickPadding())+")";var D=Math.abs(Math.sin(c*Math.PI/180));_=(D?D*E:E)+30,S.attr("transform",T).style("text-anchor",c%360>0?"start":"end")}else d?S.attr("transform",(function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"})):S.attr("transform","translate(0,0)");x.enter().append("text").attr("class","nv-axislabel"),k=0,1===i.range().length?k=h?2*i.range()[0]+i.rangeBand():0:2===i.range().length?k=h?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(k=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),x.attr("text-anchor","middle").attr("y",_).attr("x",k/2),l&&((w=g.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]])).enter().append("g").attr("class",(function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")})).append("text"),w.exit().remove(),w.attr("transform",(function(e,n){return"translate("+t.utils.NaNtoZero(i(e)+(h?i.rangeBand()/2:0))+",0)"})).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",T).style("text-anchor",c?c%360>0?"start":"end":"middle").text((function(e,t){var n=b(e);return(""+n).match("NaN")?"":n})),w.watchTransition(v,"min-max bottom").attr("transform",(function(e,n){return"translate("+t.utils.NaNtoZero(i(e)+(h?i.rangeBand()/2:0))+",0)"})));break;case"right":x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",u?12-Math.max(r.right,a):-10).attr("x",u?d3.max(i.range())/2:n.tickPadding()),l&&((w=g.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")})).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",(function(e,n){return"translate(0,"+t.utils.NaNtoZero(i(e))+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text((function(e,t){var n=b(e);return(""+n).match("NaN")?"":n})),w.watchTransition(v,"min-max right").attr("transform",(function(e,n){return"translate(0,"+t.utils.NaNtoZero(i.range()[n])+")"})).select("text").style("opacity",1));break;case"left":x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?25-Math.max(r.left,a)-(f||0):-10).attr("x",u?-d3.max(i.range())/2:-n.tickPadding()),l&&((w=g.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")})).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",(function(n,i){return"translate(0,"+t.utils.NaNtoZero(e(n))+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text((function(e,t){var n=b(e);return(""+n).match("NaN")?"":n})),w.watchTransition(v,"min-max right").attr("transform",(function(e,n){return"translate(0,"+t.utils.NaNtoZero(i.range()[n])+")"})).select("text").style("opacity",1))}if(x.text((function(e){return e})),!l||"left"!==n.orient()&&"right"!==n.orient()||(y.selectAll("g").each((function(e,t){d3.select(this).select("text").attr("opacity",1),(i(e)<i.range()[1]+10||i(e)>i.range()[0]-10)&&((e>1e-10||e<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))})),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&g.selectAll("g.nv-axisMaxMin").style("opacity",(function(e,t){return t?0:1}))),l&&("top"===n.orient()||"bottom"===n.orient())){var F=[];g.selectAll("g.nv-axisMaxMin").each((function(e,t){try{t?F.push(i(e)-this.getBoundingClientRect().width-4):F.push(i(e)+this.getBoundingClientRect().width+4)}catch(n){t?F.push(i(e)-4):F.push(i(e)+4)}})),y.selectAll("g").each((function(e,t){(i(e)<F[0]||i(e)>F[1])&&(e>1e-10||e<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())}))}y.selectAll(".tick").filter((function(e){return!parseFloat(Math.round(1e5*e)/1e6)&&void 0!==e})).classed("zero",!0),e=i.copy()})),v.renderEnd("axis immediate"),y}return y.axis=n,y.dispatch=g,y.options=t.utils.optionsFunc.bind(y),y._options=Object.create({},{axisLabelDistance:{get:function(){return f},set:function(e){f=e}},staggerLabels:{get:function(){return d},set:function(e){d=e}},rotateLabels:{get:function(){return c},set:function(e){c=e}},rotateYLabel:{get:function(){return u},set:function(e){u=e}},showMaxMin:{get:function(){return l},set:function(e){l=e}},axisLabel:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return o},set:function(e){o=e}},ticks:{get:function(){return p},set:function(e){p=e}},width:{get:function(){return a},set:function(e){a=e}},margin:{get:function(){return r},set:function(e){r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left}},duration:{get:function(){return m},set:function(e){m=e,v.reset(m)}},scale:{get:function(){return i},set:function(e){i=e,n.scale(i),h="function"==typeof i.rangeBands,t.utils.inheritOptionsD3(y,i,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(y),t.utils.inheritOptionsD3(y,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(y,i,["domain","range","rangeBand","rangeBands"]),y},t.models.boxPlot=function(){"use strict";var e,n,i,r,a,o,s={top:0,right:0,bottom:0,left:0},l=960,c=500,u=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),h=d3.scale.linear(),p=function(e){return e.x},f=function(e){return e.y},m=t.utils.defaultColor(),g=null,v=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),y=250,b=null,_=t.utils.renderWatch(v,y);function w(u){return _.reset(),u.each((function(u){var f=l-s.left-s.right,w=c-s.top-s.bottom;g=d3.select(this),t.utils.initSVG(g),d.domain(e||u.map((function(e,t){return p(e,t)}))).rangeBands(i||[0,f],.1);var k=[];n||(k=[d3.min(u.map((function(e){var t=[];return t.push(e.values.Q1),e.values.hasOwnProperty("whisker_low")&&null!==e.values.whisker_low&&t.push(e.values.whisker_low),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.min(t)}))),d3.max(u.map((function(e){var t=[];return t.push(e.values.Q3),e.values.hasOwnProperty("whisker_high")&&null!==e.values.whisker_high&&t.push(e.values.whisker_high),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.max(t)})))]),h.domain(n||k),h.range(r||[w,0]),a=a||d,o=o||h.copy().range([h(0),h(0)]);var x=g.selectAll("g.nv-wrap").data([u]);x.enter().append("g").attr("class","nvd3 nv-wrap"),x.attr("transform","translate("+s.left+","+s.top+")");var E=x.selectAll(".nv-boxplot").data((function(e){return e})),C=E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);E.attr("class","nv-boxplot").attr("transform",(function(e,t,n){return"translate("+(d(p(e,t))+.05*d.rangeBand())+", 0)"})).classed("hover",(function(e){return e.hover})),E.watchTransition(_,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay((function(e,t){return t*y/u.length})).attr("transform",(function(e,t){return"translate("+(d(p(e,t))+.05*d.rangeBand())+", 0)"})),E.exit().remove(),C.each((function(e,t){var n=d3.select(this);["low","high"].forEach((function(i){e.values.hasOwnProperty("whisker_"+i)&&null!==e.values["whisker_"+i]&&(n.append("line").style("stroke",e.color?e.color:m(e,t)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",e.color?e.color:m(e,t)).attr("class","nv-boxplot-tick nv-boxplot-"+i))}))}));var S=E.selectAll(".nv-boxplot-outlier").data((function(e){return e.values.hasOwnProperty("outliers")&&null!==e.values.outliers?e.values.outliers:[]}));S.enter().append("circle").style("fill",(function(e,t,n){return m(e,n)})).style("stroke",(function(e,t,n){return m(e,n)})).on("mouseover",(function(e,t,n){d3.select(this).classed("hover",!0),v.elementMouseover({series:{key:e,color:m(e,n)},e:d3.event})})).on("mouseout",(function(e,t,n){d3.select(this).classed("hover",!1),v.elementMouseout({series:{key:e,color:m(e,n)},e:d3.event})})).on("mousemove",(function(e,t){v.elementMousemove({e:d3.event})})),S.attr("class","nv-boxplot-outlier"),S.watchTransition(_,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*d.rangeBand()).attr("cy",(function(e,t,n){return h(e)})).attr("r","3"),S.exit().remove();var T=function(){return null===b?.9*d.rangeBand():Math.min(75,.9*d.rangeBand())},D=function(){return.45*d.rangeBand()-T()/2},F=function(){return.45*d.rangeBand()+T()/2};["low","high"].forEach((function(e){var t="low"===e?"Q1":"Q3";E.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(_,"nv-boxplot: boxplots").attr("x1",.45*d.rangeBand()).attr("y1",(function(t,n){return h(t.values["whisker_"+e])})).attr("x2",.45*d.rangeBand()).attr("y2",(function(e,n){return h(e.values[t])})),E.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(_,"nv-boxplot: boxplots").attr("x1",D).attr("y1",(function(t,n){return h(t.values["whisker_"+e])})).attr("x2",F).attr("y2",(function(t,n){return h(t.values["whisker_"+e])}))})),["low","high"].forEach((function(e){C.selectAll(".nv-boxplot-"+e).on("mouseover",(function(t,n,i){d3.select(this).classed("hover",!0),v.elementMouseover({series:{key:t.values["whisker_"+e],color:m(t,i)},e:d3.event})})).on("mouseout",(function(t,n,i){d3.select(this).classed("hover",!1),v.elementMouseout({series:{key:t.values["whisker_"+e],color:m(t,i)},e:d3.event})})).on("mousemove",(function(e,t){v.elementMousemove({e:d3.event})}))})),C.append("rect").attr("class","nv-boxplot-box").on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),v.elementMouseover({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||m(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||m(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||m(e,t)}],data:e,index:t,e:d3.event})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),v.elementMouseout({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||m(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||m(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||m(e,t)}],data:e,index:t,e:d3.event})})).on("mousemove",(function(e,t){v.elementMousemove({e:d3.event})})),E.select("rect.nv-boxplot-box").watchTransition(_,"nv-boxplot: boxes").attr("y",(function(e,t){return h(e.values.Q3)})).attr("width",T).attr("x",D).attr("height",(function(e,t){return Math.abs(h(e.values.Q3)-h(e.values.Q1))||1})).style("fill",(function(e,t){return e.color||m(e,t)})).style("stroke",(function(e,t){return e.color||m(e,t)})),C.append("line").attr("class","nv-boxplot-median"),E.select("line.nv-boxplot-median").watchTransition(_,"nv-boxplot: boxplots line").attr("x1",D).attr("y1",(function(e,t){return h(e.values.Q2)})).attr("x2",F).attr("y2",(function(e,t){return h(e.values.Q2)})),a=d.copy(),o=h.copy()})),_.renderEnd("nv-boxplot immediate"),w}return w.dispatch=v,w.options=t.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return c},set:function(e){c=e}},maxBoxWidth:{get:function(){return b},set:function(e){b=e}},x:{get:function(){return p},set:function(e){p=e}},y:{get:function(){return f},set:function(e){f=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return h},set:function(e){h=e}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(e){n=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return r},set:function(e){r=e}},id:{get:function(){return u},set:function(e){u=e}},margin:{get:function(){return s},set:function(e){s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e)}},duration:{get:function(){return y},set:function(e){y=e,_.reset(y)}}}),t.utils.initOptions(w),w},t.models.boxPlotChart=function(){"use strict";var e,n,i=t.models.boxPlot(),r=t.models.axis(),a=t.models.axis(),o={top:15,right:10,bottom:50,left:60},s=null,l=null,c=t.utils.getColor(),u=!0,d=!0,h=!1,p=!1,f=t.models.tooltip(),m="No Data Available.",g=d3.dispatch("beforeUpdate","renderEnd"),v=250;r.orient("bottom").showMaxMin(!1).tickFormat((function(e){return e})),a.orient(h?"right":"left").tickFormat(d3.format(",.1f")),f.duration(0);var y=t.utils.renderWatch(g,v);function b(c){return y.reset(),y.models(i),u&&y.models(r),d&&y.models(a),c.each((function(c){var f=d3.select(this);t.utils.initSVG(f);var y=(s||parseInt(f.style("width"))||960)-o.left-o.right,_=(l||parseInt(f.style("height"))||400)-o.top-o.bottom;if(b.update=function(){g.beforeUpdate(),f.transition().duration(v).call(b)},b.container=this,!(c&&c.length&&c.filter((function(e){return e.values.hasOwnProperty("Q1")&&e.values.hasOwnProperty("Q2")&&e.values.hasOwnProperty("Q3")})).length)){var w=f.selectAll(".nv-noData").data([m]);return w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",o.left+y/2).attr("y",o.top+_/2).text((function(e){return e})),b}f.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale().clamp(!0);var k=f.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([c]),x=k.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),E=x.append("defs"),C=k.select("g");if(x.append("g").attr("class","nv-x nv-axis"),x.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),x.append("g").attr("class","nv-barsWrap"),C.attr("transform","translate("+o.left+","+o.top+")"),h&&C.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),i.width(y).height(_),C.select(".nv-barsWrap").datum(c.filter((function(e){return!e.disabled}))).transition().call(i),E.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),C.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",e.rangeBand()*(p?2:1)).attr("height",16).attr("x",-e.rangeBand()/(p?1:2)),u){r.scale(e).ticks(t.utils.calcTicksX(y/100,c)).tickSize(-_,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),C.select(".nv-x.nv-axis").call(r);var S=C.select(".nv-x.nv-axis").selectAll("g");p&&S.selectAll("text").attr("transform",(function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"}))}d&&(a.scale(n).ticks(Math.floor(_/36)).tickSize(-y,0),C.select(".nv-y.nv-axis").call(a)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",n(0)).attr("y2",n(0))})),y.renderEnd("nv-boxplot chart immediate"),b}return i.dispatch.on("elementMouseover.tooltip",(function(e){f.data(e).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){f.data(e).hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(e){f()})),b.dispatch=g,b.boxplot=i,b.xAxis=r,b.yAxis=a,b.tooltip=f,b.options=t.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return l},set:function(e){l=e}},staggerLabels:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return u},set:function(e){u=e}},showYAxis:{get:function(){return d},set:function(e){d=e}},tooltipContent:{get:function(){return f},set:function(e){f=e}},noData:{get:function(){return m},set:function(e){m=e}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}},duration:{get:function(){return v},set:function(e){v=e,y.reset(v),i.duration(v),r.duration(v),a.duration(v)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),i.color(c)}},rightAlignYAxis:{get:function(){return h},set:function(e){h=e,a.orient(e?"right":"left")}}}),t.utils.inheritOptions(b,i),t.utils.initOptions(b),b},t.models.bullet=function(){"use strict";var e={top:0,right:0,bottom:0,left:0},n="left",i=!1,r=function(e){return e.ranges},a=function(e){return e.markers?e.markers:[]},o=function(e){return e.measures},s=function(e){return e.rangeLabels?e.rangeLabels:[]},l=function(e){return e.markerLabels?e.markerLabels:[]},c=function(e){return e.measureLabels?e.measureLabels:[]},u=[0],d=380,h=30,p=null,f=null,m=t.utils.getColor(["#1f77b4"]),g=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");function v(n){return n.each((function(n,f){var v=d-e.left-e.right,y=h-e.top-e.bottom;p=d3.select(this),t.utils.initSVG(p);var b=r.call(this,n,f).slice().sort(d3.descending),_=a.call(this,n,f).slice().sort(d3.descending),w=o.call(this,n,f).slice().sort(d3.descending),k=s.call(this,n,f).slice(),x=l.call(this,n,f).slice(),E=c.call(this,n,f).slice(),C=d3.scale.linear().domain(d3.extent(d3.merge([u,b]))).range(i?[v,0]:[0,v]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(C.range()),this.__chart__=C;var S=d3.min(b),T=d3.max(b),D=b[1],F=p.selectAll("g.nv-wrap.nv-bullet").data([n]),M=F.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),A=F.select("g");M.append("rect").attr("class","nv-range nv-rangeMax"),M.append("rect").attr("class","nv-range nv-rangeAvg"),M.append("rect").attr("class","nv-range nv-rangeMin"),M.append("rect").attr("class","nv-measure"),F.attr("transform","translate("+e.left+","+e.top+")");var I=function(e){return Math.abs(C(e)-C(0))},O=function(e){return C(e<0?e:0)};A.select("rect.nv-rangeMax").attr("height",y).attr("width",I(T>0?T:S)).attr("x",O(T>0?T:S)).datum(T>0?T:S),A.select("rect.nv-rangeAvg").attr("height",y).attr("width",I(D)).attr("x",O(D)).datum(D),A.select("rect.nv-rangeMin").attr("height",y).attr("width",I(T)).attr("x",O(T)).attr("width",I(T>0?S:T)).attr("x",O(T>0?S:T)).datum(T>0?S:T),A.select("rect.nv-measure").style("fill",m).attr("height",y/3).attr("y",y/3).attr("width",w<0?C(0)-C(w[0]):C(w[0])-C(0)).attr("x",O(w)).on("mouseover",(function(){g.elementMouseover({value:w[0],label:E[0]||"Current",color:d3.select(this).style("fill")})})).on("mousemove",(function(){g.elementMousemove({value:w[0],label:E[0]||"Current",color:d3.select(this).style("fill")})})).on("mouseout",(function(){g.elementMouseout({value:w[0],label:E[0]||"Current",color:d3.select(this).style("fill")})}));var N=y/6,P=_.map((function(e,t){return{value:e,label:x[t]}}));M.selectAll("path.nv-markerTriangle").data(P).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+N+"L"+N+","+-N+" "+-N+","+-N+"Z").on("mouseover",(function(e){g.elementMouseover({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill"),pos:[C(e.value),y/2]})})).on("mousemove",(function(e){g.elementMousemove({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){g.elementMouseout({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})})),A.selectAll("path.nv-markerTriangle").data(P).attr("transform",(function(e){return"translate("+C(e.value)+","+y/2+")"})),F.selectAll(".nv-range").on("mouseover",(function(e,t){var n=k[t]||(t?1==t?"Mean":"Minimum":"Maximum");g.elementMouseover({value:e,label:n,color:d3.select(this).style("fill")})})).on("mousemove",(function(){g.elementMousemove({value:w[0],label:E[0]||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){var n=k[t]||(t?1==t?"Mean":"Minimum":"Maximum");g.elementMouseout({value:e,label:n,color:d3.select(this).style("fill")})}))})),v}return v.dispatch=g,v.options=t.utils.optionsFunc.bind(v),v._options=Object.create({},{ranges:{get:function(){return r},set:function(e){r=e}},markers:{get:function(){return a},set:function(e){a=e}},measures:{get:function(){return o},set:function(e){o=e}},forceX:{get:function(){return u},set:function(e){u=e}},width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return h},set:function(e){h=e}},tickFormat:{get:function(){return f},set:function(e){f=e}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},orient:{get:function(){return n},set:function(e){i="right"==(n=e)||"bottom"==n}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e)}}}),t.utils.initOptions(v),v},t.models.bulletChart=function(){"use strict";var e=t.models.bullet(),n=t.models.tooltip(),i="left",r=!1,a={top:5,right:40,bottom:20,left:120},o=function(e){return e.ranges},s=function(e){return e.markers?e.markers:[]},l=function(e){return e.measures},c=null,u=55,d=null,h=null,p=null,f=d3.dispatch();function m(n){return n.each((function(i,p){var f=d3.select(this);t.utils.initSVG(f);var g=t.utils.availableWidth(c,f,a),v=u-a.top-a.bottom;if(m.update=function(){m(n)},m.container=this,!i||!o.call(this,i,p))return t.utils.noData(m,f),m;f.selectAll(".nv-noData").remove();var y=o.call(this,i,p).slice().sort(d3.descending),b=s.call(this,i,p).slice().sort(d3.descending),_=l.call(this,i,p).slice().sort(d3.descending),w=f.selectAll("g.nv-wrap.nv-bulletChart").data([i]),k=w.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),x=w.select("g");k.append("g").attr("class","nv-bulletWrap"),k.append("g").attr("class","nv-titles"),w.attr("transform","translate("+a.left+","+a.top+")");var E=d3.scale.linear().domain([0,Math.max(y[0],b[0]||0,_[0])]).range(r?[g,0]:[0,g]),C=this.__chart__||d3.scale.linear().domain([0,1/0]).range(E.range());this.__chart__=E;var S=k.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-a.top-a.bottom)/2+")");S.append("text").attr("class","nv-title").text((function(e){return e.title})),S.append("text").attr("class","nv-subtitle").attr("dy","1em").text((function(e){return e.subtitle})),e.width(g).height(v);var T=x.select(".nv-bulletWrap");d3.transition(T).call(e);var D=d||E.tickFormat(g/100),F=x.selectAll("g.nv-tick").data(E.ticks(h||g/50),(function(e){return this.textContent||D(e)})),M=F.enter().append("g").attr("class","nv-tick").attr("transform",(function(e){return"translate("+C(e)+",0)"})).style("opacity",1e-6);M.append("line").attr("y1",v).attr("y2",7*v/6),M.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*v/6).text(D);var A=d3.transition(F).attr("transform",(function(e){return"translate("+E(e)+",0)"})).style("opacity",1);A.select("line").attr("y1",v).attr("y2",7*v/6),A.select("text").attr("y",7*v/6),d3.transition(F.exit()).attr("transform",(function(e){return"translate("+E(e)+",0)"})).style("opacity",1e-6).remove()})),d3.timer.flush(),m}return n.duration(0).headerEnabled(!1),e.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:e.label,value:e.value,color:e.color},n.data(e).hidden(!1)})),e.dispatch.on("elementMouseout.tooltip",(function(e){n.hidden(!0)})),e.dispatch.on("elementMousemove.tooltip",(function(e){n()})),m.bullet=e,m.dispatch=f,m.tooltip=n,m.options=t.utils.optionsFunc.bind(m),m._options=Object.create({},{ranges:{get:function(){return o},set:function(e){o=e}},markers:{get:function(){return s},set:function(e){s=e}},measures:{get:function(){return l},set:function(e){l=e}},width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},tickFormat:{get:function(){return d},set:function(e){d=e}},ticks:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},orient:{get:function(){return i},set:function(e){r="right"==(i=e)||"bottom"==i}}}),t.utils.inheritOptions(m,e),t.utils.initOptions(m),m},t.models.candlestickBar=function(){"use strict";var e,n,i,r,a,o={top:0,right:0,bottom:0,left:0},s=null,l=null,c=Math.floor(1e4*Math.random()),u=d3.scale.linear(),d=d3.scale.linear(),h=function(e){return e.x},p=function(e){return e.y},f=function(e){return e.open},m=function(e){return e.close},g=function(e){return e.high},v=function(e){return e.low},y=[],b=[],_=!1,w=!0,k=t.utils.defaultColor(),x=!1,E=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function C(k){return k.each((function(k){e=d3.select(this);var x=t.utils.availableWidth(s,e,o),C=t.utils.availableHeight(l,e,o);t.utils.initSVG(e);var S=x/k[0].values.length*.45;u.domain(n||d3.extent(k[0].values.map(h).concat(y))),_?u.range(r||[.5*x/k[0].values.length,x*(k[0].values.length-.5)/k[0].values.length]):u.range(r||[5+S/2,x-S/2-5]),d.domain(i||[d3.min(k[0].values.map(v).concat(b)),d3.max(k[0].values.map(g).concat(b))]).range(a||[C,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var T=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([k[0].values]),D=T.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),F=D.append("defs"),M=D.append("g"),A=T.select("g");M.append("g").attr("class","nv-ticks"),T.attr("transform","translate("+o.left+","+o.top+")"),e.on("click",(function(e,t){E.chartClick({data:e,index:t,pos:d3.event,id:c})})),F.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),T.select("#nv-chart-clip-path-"+c+" rect").attr("width",x).attr("height",C),A.attr("clip-path",w?"url(#nv-chart-clip-path-"+c+")":"");var I=T.select(".nv-ticks").selectAll(".nv-tick").data((function(e){return e}));I.exit().remove();var O=I.enter().append("g");I.attr("class",(function(e,t,n){return(f(e,t)>m(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t})),O.append("line").attr("class","nv-candlestick-lines").attr("transform",(function(e,t){return"translate("+u(h(e,t))+",0)"})).attr("x1",0).attr("y1",(function(e,t){return d(g(e,t))})).attr("x2",0).attr("y2",(function(e,t){return d(v(e,t))})),O.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",(function(e,t){return"translate("+(u(h(e,t))-S/2)+","+(d(p(e,t))-(f(e,t)>m(e,t)?d(m(e,t))-d(f(e,t)):0))+")"})).attr("x",0).attr("y",0).attr("width",S).attr("height",(function(e,t){var n=f(e,t),i=m(e,t);return n>i?d(i)-d(n):d(n)-d(i)})),I.select(".nv-candlestick-lines").transition().attr("transform",(function(e,t){return"translate("+u(h(e,t))+",0)"})).attr("x1",0).attr("y1",(function(e,t){return d(g(e,t))})).attr("x2",0).attr("y2",(function(e,t){return d(v(e,t))})),I.select(".nv-candlestick-rects").transition().attr("transform",(function(e,t){return"translate("+(u(h(e,t))-S/2)+","+(d(p(e,t))-(f(e,t)>m(e,t)?d(m(e,t))-d(f(e,t)):0))+")"})).attr("x",0).attr("y",0).attr("width",S).attr("height",(function(e,t){var n=f(e,t),i=m(e,t);return n>i?d(i)-d(n):d(n)-d(i)}))})),C}return C.highlightPoint=function(t,n){C.clearHighlights(),e.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",n)},C.clearHighlights=function(){e.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},C.dispatch=E,C.options=t.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return l},set:function(e){l=e}},xScale:{get:function(){return u},set:function(e){u=e}},yScale:{get:function(){return d},set:function(e){d=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return r},set:function(e){r=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return b},set:function(e){b=e}},padData:{get:function(){return _},set:function(e){_=e}},clipEdge:{get:function(){return w},set:function(e){w=e}},id:{get:function(){return c},set:function(e){c=e}},interactive:{get:function(){return x},set:function(e){x=e}},x:{get:function(){return h},set:function(e){h=e}},y:{get:function(){return p},set:function(e){p=e}},open:{get:function(){return f()},set:function(e){f=e}},close:{get:function(){return m()},set:function(e){m=e}},high:{get:function(){return g},set:function(e){g=e}},low:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return o},set:function(e){o.top=null!=e.top?e.top:o.top,o.right=null!=e.right?e.right:o.right,o.bottom=null!=e.bottom?e.bottom:o.bottom,o.left=null!=e.left?e.left:o.left}},color:{get:function(){return k},set:function(e){k=t.utils.getColor(e)}}}),t.utils.initOptions(C),C},t.models.cumulativeLineChart=function(){"use strict";var e,n,i=t.models.line(),r=t.models.axis(),a=t.models.axis(),o=t.models.legend(),s=t.models.legend(),l=t.interactiveGuideline(),c=t.models.tooltip(),u={top:30,right:30,bottom:50,left:60},d=t.utils.defaultColor(),h=null,p=null,f=!0,m=!0,g=!0,v=!1,y=!0,b=!1,_=!0,w=i.id(),k=t.utils.state(),x=null,E=null,C=function(e){return e.average},S=d3.dispatch("stateChange","changeState","renderEnd"),T=250,D=!1;k.index=0,k.rescaleY=_,r.orient("bottom").tickPadding(7),a.orient(v?"right":"left"),c.valueFormatter((function(e,t){return a.tickFormat()(e,t)})).headerFormatter((function(e,t){return r.tickFormat()(e,t)})),s.updateState(!1);var F=d3.scale.linear(),M={i:0,x:0},A=t.utils.renderWatch(S,T);function I(c){return A.reset(),A.models(i),m&&A.models(r),g&&A.models(a),c.each((function(c){var E=d3.select(this);t.utils.initSVG(E),E.classed("nv-chart-"+w,!0);var A,N=this,P=t.utils.availableWidth(h,E,u),R=t.utils.availableHeight(p,E,u);if(I.update=function(){0===T?E.call(I):E.transition().duration(T).call(I)},I.container=this,k.setter(function(e){return function(t){void 0!==t.index&&(M.i=t.index),void 0!==t.rescaleY&&(_=t.rescaleY),void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(c),I.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled})),index:M.i,rescaleY:_}}}(c)).update(),k.disabled=c.map((function(e){return!!e.disabled})),!x)for(A in x={},k)k[A]instanceof Array?x[A]=k[A].slice(0):x[A]=k[A];var j=d3.behavior.drag().on("dragstart",(function(e,t){d3.select(I.container).style("cursor","ew-resize")})).on("drag",(function(e,t){M.x=d3.event.x,M.i=Math.round(F.invert(M.x)),X()})).on("dragend",(function(e,t){d3.select(I.container).style("cursor","auto"),k.index=M.i,S.stateChange(k)}));if(!(c&&c.length&&c.filter((function(e){return e.values.length})).length))return t.utils.noData(I,E),I;if(E.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale(),_)i.yDomain(null);else{var L=c.filter((function(e){return!e.disabled})).map((function(e,t){var n=d3.extent(e.values,i.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]})),q=[d3.min(L,(function(e){return e[0]})),d3.max(L,(function(e){return e[1]}))];i.yDomain(q)}F.domain([0,c[0].values.length-1]).range([0,P]).clamp(!0),c=function(e,t){return O||(O=i.y()),t.map((function(t,n){if(!t.values)return t;var i=t.values[e];if(null==i)return t;var r=O(i,e);return r<-.95&&!D?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map((function(e,t){return e.display={y:(O(e,t)-r)/(1+r)},e})),t)}))}(M.i,c);var Z=b?"none":"all",B=E.selectAll("g.nv-wrap.nv-cumulativeLine").data([c]),V=B.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),z=B.select("g");if(V.append("g").attr("class","nv-interactive"),V.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-background"),V.append("g").attr("class","nv-linesWrap").style("pointer-events",Z),V.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),f&&(o.width(P),z.select(".nv-legendWrap").datum(c).call(o),u.top!=o.height()&&(u.top=o.height(),R=t.utils.availableHeight(p,E,u)),z.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),y){var U=[{key:"Re-scale y-axis",disabled:!_}];s.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),z.select(".nv-controlsWrap").datum(U).attr("transform","translate(0,"+-u.top+")").call(s)}B.attr("transform","translate("+u.left+","+u.top+")"),v&&z.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)");var W=c.filter((function(e){return e.tempDisabled}));B.select(".tempDisabled").remove(),W.length&&B.append("text").attr("class","tempDisabled").attr("x",P/2).attr("y","-.71em").style("text-anchor","end").text(W.map((function(e){return e.key})).join(", ")+" values cannot be calculated for this time period."),b&&(l.width(P).height(R).margin({left:u.left,top:u.top}).svgContainer(E).xScale(e),B.select(".nv-interactive").call(l)),V.select(".nv-background").append("rect"),z.select(".nv-background rect").attr("width",P).attr("height",R),i.y((function(e){return e.display.y})).width(P).height(R).color(c.map((function(e,t){return e.color||d(e,t)})).filter((function(e,t){return!c[t].disabled&&!c[t].tempDisabled})));var H=z.select(".nv-linesWrap").datum(c.filter((function(e){return!e.disabled&&!e.tempDisabled})));H.call(i),c.forEach((function(e,t){e.seriesIndex=t}));var Y=c.filter((function(e){return!e.disabled&&!!C(e)})),$=z.select(".nv-avgLinesWrap").selectAll("line").data(Y,(function(e){return e.key})),K=function(e){var t=n(C(e));return t<0?0:t>R?R:t};$.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",(function(e,t){return i.color()(e,e.seriesIndex)})).attr("x1",0).attr("x2",P).attr("y1",K).attr("y2",K),$.style("stroke-opacity",(function(e){var t=n(C(e));return t<0||t>R?0:1})).attr("x1",0).attr("x2",P).attr("y1",K).attr("y2",K),$.exit().remove();var G=H.selectAll(".nv-indexLine").data([M]);function X(){G.data([M]);var e=I.duration();I.duration(0),I.update(),I.duration(e)}G.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(j),G.attr("transform",(function(e){return"translate("+F(e.i)+",0)"})).attr("height",R),m&&(r.scale(e)._ticks(t.utils.calcTicksX(P/70,c)).tickSize(-R,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),z.select(".nv-x.nv-axis").call(r)),g&&(a.scale(n)._ticks(t.utils.calcTicksY(R/36,c)).tickSize(-P,0),z.select(".nv-y.nv-axis").call(a)),z.select(".nv-background rect").on("click",(function(){M.x=d3.mouse(this)[0],M.i=Math.round(F.invert(M.x)),k.index=M.i,S.stateChange(k),X()})),i.dispatch.on("elementClick",(function(e){M.i=e.pointIndex,M.x=F(M.i),k.index=M.i,S.stateChange(k),X()})),s.dispatch.on("legendClick",(function(e,t){e.disabled=!e.disabled,_=!e.disabled,k.rescaleY=_,S.stateChange(k),I.update()})),o.dispatch.on("stateChange",(function(e){for(var t in e)k[t]=e[t];S.stateChange(k),I.update()})),l.dispatch.on("elementMousemove",(function(e){i.clearHighlights();var n,o,s,u=[];if(c.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(r,a){o=t.interactiveBisect(r.values,e.pointXValue,I.x()),i.highlightPoint(a,o,!0);var l=r.values[o];void 0!==l&&(void 0===n&&(n=l),void 0===s&&(s=I.xScale()(I.x()(l,o))),u.push({key:r.key,value:I.y()(l,o),color:d(r,r.seriesIndex)}))})),u.length>2){var h=I.yScale().invert(e.mouseY),p=.03*Math.abs(I.yScale().domain()[0]-I.yScale().domain()[1]),f=t.nearestValueIndex(u.map((function(e){return e.value})),h,p);null!==f&&(u[f].highlight=!0)}var m=r.tickFormat()(I.x()(n,o),o);l.tooltip.chartContainer(N.parentNode).valueFormatter((function(e,t){return a.tickFormat()(e)})).data({value:m,series:u})(),l.renderGuideLine(s)})),l.dispatch.on("elementMouseout",(function(e){i.clearHighlights()})),S.on("changeState",(function(e){void 0!==e.disabled&&(c.forEach((function(t,n){t.disabled=e.disabled[n]})),k.disabled=e.disabled),void 0!==e.index&&(M.i=e.index,M.x=F(M.i),k.index=e.index,G.data([M])),void 0!==e.rescaleY&&(_=e.rescaleY),I.update()}))})),A.renderEnd("cumulativeLineChart immediate"),I}i.dispatch.on("elementMouseover.tooltip",(function(e){var t={x:I.x()(e.point),y:I.y()(e.point),color:e.point.color};e.point=t,c.data(e).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){c.hidden(!0)}));var O=null;return I.dispatch=S,I.lines=i,I.legend=o,I.controls=s,I.xAxis=r,I.yAxis=a,I.interactiveLayer=l,I.state=k,I.tooltip=c,I.options=t.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return h},set:function(e){h=e}},height:{get:function(){return p},set:function(e){p=e}},rescaleY:{get:function(){return _},set:function(e){_=e}},showControls:{get:function(){return y},set:function(e){y=e}},showLegend:{get:function(){return f},set:function(e){f=e}},average:{get:function(){return C},set:function(e){C=e}},defaultState:{get:function(){return x},set:function(e){x=e}},noData:{get:function(){return E},set:function(e){E=e}},showXAxis:{get:function(){return m},set:function(e){m=e}},showYAxis:{get:function(){return g},set:function(e){g=e}},noErrorCheck:{get:function(){return D},set:function(e){D=e}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),o.color(d)}},useInteractiveGuideline:{get:function(){return b},set:function(e){b=e,!0===e&&(I.interactive(!1),I.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return v},set:function(e){v=e,a.orient(e?"right":"left")}},duration:{get:function(){return T},set:function(e){T=e,i.duration(T),r.duration(T),a.duration(T),A.reset(T)}}}),t.utils.inheritOptions(I,i),t.utils.initOptions(I),I},t.models.discreteBar=function(){"use strict";var e,n,i,r,a,o,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),h=d3.scale.ordinal(),p=d3.scale.linear(),f=function(e){return e.x},m=function(e){return e.y},g=[0],v=t.utils.defaultColor(),y=!1,b=d3.format(",.2f"),_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w="discreteBar",k=250,x=t.utils.renderWatch(_,k);function E(d){return x.reset(),d.each((function(d){var k=c-l.left-l.right,E=u-l.top-l.bottom;e=d3.select(this),t.utils.initSVG(e),d.forEach((function(e,t){e.values.forEach((function(e){e.series=t}))}));var C=n&&i?[]:d.map((function(e){return e.values.map((function(e,t){return{x:f(e,t),y:m(e,t),y0:e.y0}}))}));h.domain(n||d3.merge(C).map((function(e){return e.x}))).rangeBands(r||[0,k],.1),p.domain(i||d3.extent(d3.merge(C).map((function(e){return e.y})).concat(g))),y?p.range(a||[E-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(a||[E,0]),o=o||h,s=s||p.copy().range([p(0),p(0)]);var S=e.selectAll("g.nv-wrap.nv-discretebar").data([d]),T=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");S.select("g"),T.append("g").attr("class","nv-groups"),S.attr("transform","translate("+l.left+","+l.top+")");var D=S.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e){return e.key}));D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),D.exit().watchTransition(x,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),D.attr("class",(function(e,t){return"nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})),D.watchTransition(x,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var F=D.selectAll("g.nv-bar").data((function(e){return e.values}));F.exit().remove();var M=F.enter().append("g").attr("transform",(function(e,t,n){return"translate("+(h(f(e,t))+.05*h.rangeBand())+", "+p(0)+")"})).on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),_.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),_.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})})).on("mousemove",(function(e,t){_.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})})).on("click",(function(e,t){_.elementClick({data:e,index:t,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()})).on("dblclick",(function(e,t){_.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}));M.append("rect").attr("height",0).attr("width",.9*h.rangeBand()/d.length),y?(M.append("text").attr("text-anchor","middle"),F.select("text").text((function(e,t){return b(m(e,t))})).watchTransition(x,"discreteBar: bars text").attr("x",.9*h.rangeBand()/2).attr("y",(function(e,t){return m(e,t)<0?p(m(e,t))-p(0)+12:-4}))):F.selectAll("text").remove(),F.attr("class",(function(e,t){return m(e,t)<0?"nv-bar negative":"nv-bar positive"})).style("fill",(function(e,t){return e.color||v(e,t)})).style("stroke",(function(e,t){return e.color||v(e,t)})).select("rect").attr("class",w).watchTransition(x,"discreteBar: bars rect").attr("width",.9*h.rangeBand()/d.length),F.watchTransition(x,"discreteBar: bars").attr("transform",(function(e,t){return"translate("+(h(f(e,t))+.05*h.rangeBand())+", "+(m(e,t)<0?p(0):p(0)-p(m(e,t))<1?p(0)-1:p(m(e,t)))+")"})).select("rect").attr("height",(function(e,t){return Math.max(Math.abs(p(m(e,t))-p(0)),1)})),o=h.copy(),s=p.copy()})),x.renderEnd("discreteBar immediate"),E}return E.dispatch=_,E.options=t.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},forceY:{get:function(){return g},set:function(e){g=e}},showValues:{get:function(){return y},set:function(e){y=e}},x:{get:function(){return f},set:function(e){f=e}},y:{get:function(){return m},set:function(e){m=e}},xScale:{get:function(){return h},set:function(e){h=e}},yScale:{get:function(){return p},set:function(e){p=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return r},set:function(e){r=e}},yRange:{get:function(){return a},set:function(e){a=e}},valueFormat:{get:function(){return b},set:function(e){b=e}},id:{get:function(){return d},set:function(e){d=e}},rectClass:{get:function(){return w},set:function(e){w=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}},duration:{get:function(){return k},set:function(e){k=e,x.reset(k)}}}),t.utils.initOptions(E),E},t.models.discreteBarChart=function(){"use strict";var e,n,i=t.models.discreteBar(),r=t.models.axis(),a=t.models.axis(),o=t.models.legend(),s=t.models.tooltip(),l={top:15,right:10,bottom:50,left:60},c=null,u=null,d=t.utils.getColor(),h=!1,p=!0,f=!0,m=!1,g=!1,v=!1,y=0,b=null,_=d3.dispatch("beforeUpdate","renderEnd"),w=250;r.orient("bottom").showMaxMin(!1).tickFormat((function(e){return e})),a.orient(m?"right":"left").tickFormat(d3.format(",.1f")),s.duration(0).headerEnabled(!1).valueFormatter((function(e,t){return a.tickFormat()(e,t)})).keyFormatter((function(e,t){return r.tickFormat()(e,t)}));var k=t.utils.renderWatch(_,w);function x(s){return k.reset(),k.models(i),p&&k.models(r),f&&k.models(a),s.each((function(s){var d=d3.select(this);t.utils.initSVG(d);var b=t.utils.availableWidth(c,d,l),k=t.utils.availableHeight(u,d,l);if(x.update=function(){_.beforeUpdate(),d.transition().duration(w).call(x)},x.container=this,!(s&&s.length&&s.filter((function(e){return e.values.length})).length))return t.utils.noData(x,d),x;d.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale().clamp(!0);var E=d.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),C=E.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),S=C.append("defs"),T=E.select("g");if(C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),C.append("g").attr("class","nv-legendWrap"),T.attr("transform","translate("+l.left+","+l.top+")"),h&&(o.width(b),T.select(".nv-legendWrap").datum(s).call(o),l.top!=o.height()&&(l.top=o.height(),k=t.utils.availableHeight(u,d,l)),E.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),m&&T.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),m&&T.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),i.width(b).height(k),T.select(".nv-barsWrap").datum(s.filter((function(e){return!e.disabled}))).transition().call(i),S.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),T.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",e.rangeBand()*(g?2:1)).attr("height",16).attr("x",-e.rangeBand()/(g?1:2)),p){r.scale(e)._ticks(t.utils.calcTicksX(b/100,s)).tickSize(-k,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+(n.range()[0]+(i.showValues()&&n.domain()[0]<0?16:0))+")"),T.select(".nv-x.nv-axis").call(r);var D=T.select(".nv-x.nv-axis").selectAll("g");g&&D.selectAll("text").attr("transform",(function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"})),y&&D.selectAll(".tick text").attr("transform","rotate("+y+" 0,0)").style("text-anchor",y>0?"start":"end"),v&&T.selectAll(".tick text").call(t.utils.wrapTicks,x.xAxis.rangeBand())}f&&(a.scale(n)._ticks(t.utils.calcTicksY(k/36,s)).tickSize(-b,0),T.select(".nv-y.nv-axis").call(a)),T.select(".nv-zeroLine line").attr("x1",0).attr("x2",m?-b:b).attr("y1",n(0)).attr("y2",n(0))})),k.renderEnd("discreteBar chart immediate"),x}return i.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:x.x()(e.data),value:x.y()(e.data),color:e.color},s.data(e).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){s.hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(e){s()})),x.dispatch=_,x.discretebar=i,x.legend=o,x.xAxis=r,x.yAxis=a,x.tooltip=s,x.options=t.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},showLegend:{get:function(){return h},set:function(e){h=e}},staggerLabels:{get:function(){return g},set:function(e){g=e}},rotateLabels:{get:function(){return y},set:function(e){y=e}},wrapLabels:{get:function(){return v},set:function(e){v=!!e}},showXAxis:{get:function(){return p},set:function(e){p=e}},showYAxis:{get:function(){return f},set:function(e){f=e}},noData:{get:function(){return b},set:function(e){b=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},duration:{get:function(){return w},set:function(e){w=e,k.reset(w),i.duration(w),r.duration(w),a.duration(w)}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),i.color(d),o.color(d)}},rightAlignYAxis:{get:function(){return m},set:function(e){m=e,a.orient(e?"right":"left")}}}),t.utils.inheritOptions(x,i),t.utils.initOptions(x),x},t.models.distribution=function(){"use strict";var e,n={top:0,right:0,bottom:0,left:0},i=400,r=8,a="x",o=function(e){return e[a]},s=t.utils.defaultColor(),l=d3.scale.linear(),c=250,u=d3.dispatch("renderEnd"),d=t.utils.renderWatch(u,c);function h(i){return d.reset(),i.each((function(i){"x"===a?(n.left,n.right):(n.top,n.bottom);var c="x"==a?"y":"x",u=d3.select(this);t.utils.initSVG(u),e=e||l;var h=u.selectAll("g.nv-distribution").data([i]),p=(h.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),h.select("g"));h.attr("transform","translate("+n.left+","+n.top+")");var f=p.selectAll("g.nv-dist").data((function(e){return e}),(function(e){return e.key}));f.enter().append("g"),f.attr("class",(function(e,t){return"nv-dist nv-series-"+t})).style("stroke",(function(e,t){return s(e,t)}));var m=f.selectAll("line.nv-dist"+a).data((function(e){return e.values}));m.enter().append("line").attr(a+"1",(function(t,n){return e(o(t,n))})).attr(a+"2",(function(t,n){return e(o(t,n))})),d.transition(f.exit().selectAll("line.nv-dist"+a),"dist exit").attr(a+"1",(function(e,t){return l(o(e,t))})).attr(a+"2",(function(e,t){return l(o(e,t))})).style("stroke-opacity",0).remove(),m.attr("class",(function(e,t){return"nv-dist"+a+" nv-dist"+a+"-"+t})).attr(c+"1",0).attr(c+"2",r),d.transition(m,"dist").attr(a+"1",(function(e,t){return l(o(e,t))})).attr(a+"2",(function(e,t){return l(o(e,t))})),e=l.copy()})),d.renderEnd("distribution immediate"),h}return h.options=t.utils.optionsFunc.bind(h),h.dispatch=u,h.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,h):n},h.width=function(e){return arguments.length?(i=e,h):i},h.axis=function(e){return arguments.length?(a=e,h):a},h.size=function(e){return arguments.length?(r=e,h):r},h.getData=function(e){return arguments.length?(o=d3.functor(e),h):o},h.scale=function(e){return arguments.length?(l=e,h):l},h.color=function(e){return arguments.length?(s=t.utils.getColor(e),h):s},h.duration=function(e){return arguments.length?(c=e,d.reset(c),h):c},h},t.models.furiousLegend=function(){"use strict";var e={top:5,right:0,bottom:5,left:0},n=400,i=20,r=function(e){return e.key},a=t.utils.getColor(),o=20,s=!0,l=28,c=!0,u=!0,d=!1,h=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),f="classic";function m(g){function v(e,t){return"furious"!=f?"#000":h?e.disengaged?a(e,t):"#fff":h?void 0:e.disabled?a(e,t):"#fff"}function y(e,t){return h&&"furious"==f?e.disengaged?"#fff":a(e,t):e.disabled?"#fff":a(e,t)}return g.each((function(m){var g=n-e.left-e.right,b=d3.select(this);t.utils.initSVG(b);var _=b.selectAll("g.nv-legend").data([m]),w=(_.enter().append("g").attr("class","nvd3 nv-legend").append("g"),_.select("g"));_.attr("transform","translate("+e.left+","+e.top+")");var k,x=w.selectAll(".nv-series").data((function(e){return"furious"!=f?e:e.filter((function(e){return!!h||!e.disengaged}))})),E=x.enter().append("g").attr("class","nv-series");"classic"==f?(E.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),k=x.select("circle")):"furious"==f&&(E.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),k=x.select("rect"),E.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),x.select(".nv-check-box").each((function(e,t){d3.select(this).selectAll("path").attr("stroke",v(e,t))}))),E.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var C,S=x.select("text.nv-legend-text");switch(x.on("mouseover",(function(e,t){p.legendMouseover(e,t)})).on("mouseout",(function(e,t){p.legendMouseout(e,t)})).on("click",(function(e,t){p.legendClick(e,t);var n=x.data();if(u){if("classic"==f)d?(n.forEach((function(e){e.disabled=!0})),e.disabled=!1):(e.disabled=!e.disabled,n.every((function(e){return e.disabled}))&&n.forEach((function(e){e.disabled=!1})));else if("furious"==f)if(h)e.disengaged=!e.disengaged,e.userDisabled=null==e.userDisabled?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!h){e.disabled=!e.disabled,e.userDisabled=e.disabled;var i=n.filter((function(e){return!e.disengaged}));i.every((function(e){return e.userDisabled}))&&n.forEach((function(e){e.disabled=e.userDisabled=!1}))}p.stateChange({disabled:n.map((function(e){return!!e.disabled})),disengaged:n.map((function(e){return!!e.disengaged}))})}})).on("dblclick",(function(e,t){if(("furious"!=f||!h)&&(p.legendDblclick(e,t),u)){var n=x.data();n.forEach((function(e){e.disabled=!0,"furious"==f&&(e.userDisabled=e.disabled)})),e.disabled=!1,"furious"==f&&(e.userDisabled=e.disabled),p.stateChange({disabled:n.map((function(e){return!!e.disabled}))})}})),x.classed("nv-disabled",(function(e){return e.userDisabled})),x.exit().remove(),S.attr("fill",v).text(r),f){case"furious":C=23;break;case"classic":C=20}if(s){var T=[];x.each((function(e,n){var i,a;if(r(e).length>o){var s=r(e).substring(0,o);i=d3.select(this).select("text").text(s+"..."),d3.select(this).append("svg:title").text(r(e))}else i=d3.select(this).select("text");try{if((a=i.node().getComputedTextLength())<=0)throw Error()}catch(e){a=t.utils.calcApproxTextWidth(i)}T.push(a+l)}));for(var D=0,F=0,M=[];F<g&&D<T.length;)M[D]=T[D],F+=T[D++];for(0===D&&(D=1);F>g&&D>1;){M=[],D--;for(var A=0;A<T.length;A++)T[A]>(M[A%D]||0)&&(M[A%D]=T[A]);F=M.reduce((function(e,t,n,i){return e+t}))}for(var I=[],O=0,N=0;O<D;O++)I[O]=N,N+=M[O];x.attr("transform",(function(e,t){return"translate("+I[t%D]+","+(5+Math.floor(t/D)*C)+")"})),c?w.attr("transform","translate("+(n-e.right-F)+","+e.top+")"):w.attr("transform","translate(0,"+e.top+")"),i=e.top+e.bottom+Math.ceil(T.length/D)*C}else{var P,R=5,j=5,L=0;x.attr("transform",(function(t,i){var r=d3.select(this).select("text").node().getComputedTextLength()+l;return P=j,n<e.left+e.right+P+r&&(j=P=5,R+=C),(j+=r)>L&&(L=j),"translate("+P+","+R+")"})),w.attr("transform","translate("+(n-e.right-L)+","+e.top+")"),i=e.top+e.bottom+R+15}"furious"==f&&k.attr("width",(function(e,t){return S[0][t].getComputedTextLength()+27})).attr("height",18).attr("y",-9).attr("x",-15),k.style("fill",y).style("stroke",(function(e,t){return e.color||a(e,t)}))})),m}return m.dispatch=p,m.options=t.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return i},set:function(e){i=e}},key:{get:function(){return r},set:function(e){r=e}},align:{get:function(){return s},set:function(e){s=e}},rightAlign:{get:function(){return c},set:function(e){c=e}},maxKeyLength:{get:function(){return o},set:function(e){o=e}},padding:{get:function(){return l},set:function(e){l=e}},updateState:{get:function(){return u},set:function(e){u=e}},radioButtonMode:{get:function(){return d},set:function(e){d=e}},expanded:{get:function(){return h},set:function(e){h=e}},vers:{get:function(){return f},set:function(e){f=e}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(m),m},t.models.historicalBar=function(){"use strict";var e,n,i,r,a={top:0,right:0,bottom:0,left:0},o=null,s=null,l=Math.floor(1e4*Math.random()),c=null,u=d3.scale.linear(),d=d3.scale.linear(),h=function(e){return e.x},p=function(e){return e.y},f=[],m=[0],g=!1,v=!0,y=t.utils.defaultColor(),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_=!0,w=t.utils.renderWatch(b,0);function k(x){return x.each((function(k){w.reset(),c=d3.select(this);var x=t.utils.availableWidth(o,c,a),E=t.utils.availableHeight(s,c,a);t.utils.initSVG(c),u.domain(e||d3.extent(k[0].values.map(h).concat(f))),g?u.range(i||[.5*x/k[0].values.length,x*(k[0].values.length-.5)/k[0].values.length]):u.range(i||[0,x]),d.domain(n||d3.extent(k[0].values.map(p).concat(m))).range(r||[E,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var C=c.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([k[0].values]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),T=S.append("defs"),D=S.append("g"),F=C.select("g");D.append("g").attr("class","nv-bars"),C.attr("transform","translate("+a.left+","+a.top+")"),c.on("click",(function(e,t){b.chartClick({data:e,index:t,pos:d3.event,id:l})})),T.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",x).attr("height",E),F.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":"");var M=C.select(".nv-bars").selectAll(".nv-bar").data((function(e){return e}),(function(e,t){return h(e,t)}));M.exit().remove(),M.enter().append("rect").attr("x",0).attr("y",(function(e,n){return t.utils.NaNtoZero(d(Math.max(0,p(e,n))))})).attr("height",(function(e,n){return t.utils.NaNtoZero(Math.abs(d(p(e,n))-d(0)))})).attr("transform",(function(e,t){return"translate("+(u(h(e,t))-x/k[0].values.length*.45)+",0)"})).on("mouseover",(function(e,t){_&&(d3.select(this).classed("hover",!0),b.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")}))})).on("mouseout",(function(e,t){_&&(d3.select(this).classed("hover",!1),b.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")}))})).on("mousemove",(function(e,t){_&&b.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})})).on("click",(function(e,t){_&&(b.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())})).on("dblclick",(function(e,t){_&&(b.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())})),M.attr("fill",(function(e,t){return y(e,t)})).attr("class",(function(e,t,n){return(p(e,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+t})).watchTransition(w,"bars").attr("transform",(function(e,t){return"translate("+(u(h(e,t))-x/k[0].values.length*.45)+",0)"})).attr("width",x/k[0].values.length*.9),M.watchTransition(w,"bars").attr("y",(function(e,n){var i=p(e,n)<0?d(0):d(0)-d(p(e,n))<1?d(0)-1:d(p(e,n));return t.utils.NaNtoZero(i)})).attr("height",(function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(d(p(e,n))-d(0)),1))}))})),w.renderEnd("historicalBar immediate"),k}return k.highlightPoint=function(e,t){c.select(".nv-bars .nv-bar-0-"+e).classed("hover",t)},k.clearHighlights=function(){c.select(".nv-bars .nv-bar.hover").classed("hover",!1)},k.dispatch=b,k.options=t.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return o},set:function(e){o=e}},height:{get:function(){return s},set:function(e){s=e}},forceX:{get:function(){return f},set:function(e){f=e}},forceY:{get:function(){return m},set:function(e){m=e}},padData:{get:function(){return g},set:function(e){g=e}},x:{get:function(){return h},set:function(e){h=e}},y:{get:function(){return p},set:function(e){p=e}},xScale:{get:function(){return u},set:function(e){u=e}},yScale:{get:function(){return d},set:function(e){d=e}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(e){n=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return r},set:function(e){r=e}},clipEdge:{get:function(){return v},set:function(e){v=e}},id:{get:function(){return l},set:function(e){l=e}},interactive:{get:function(){return _},set:function(e){_=e}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}}}),t.utils.initOptions(k),k},t.models.historicalBarChart=function(e){"use strict";var n,i,r=e||t.models.historicalBar(),a=t.models.axis(),o=t.models.axis(),s=t.models.legend(),l=t.interactiveGuideline(),c=t.models.tooltip(),u={top:30,right:90,bottom:50,left:90},d=t.utils.defaultColor(),h=null,p=null,f=!1,m=!0,g=!0,v=!1,y=!1,b={},_=null,w=null,k=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),x=250;a.orient("bottom").tickPadding(7),o.orient(v?"right":"left"),c.duration(0).headerEnabled(!1).valueFormatter((function(e,t){return o.tickFormat()(e,t)})).headerFormatter((function(e,t){return a.tickFormat()(e,t)}));var E=t.utils.renderWatch(k,0);function C(e){return e.each((function(c){E.reset(),E.models(r),m&&E.models(a),g&&E.models(o);var w=d3.select(this),S=this;t.utils.initSVG(w);var T,D=t.utils.availableWidth(h,w,u),F=t.utils.availableHeight(p,w,u);if(C.update=function(){w.transition().duration(x).call(C)},C.container=this,b.disabled=c.map((function(e){return!!e.disabled})),!_)for(T in _={},b)b[T]instanceof Array?_[T]=b[T].slice(0):_[T]=b[T];if(!(c&&c.length&&c.filter((function(e){return e.values.length})).length))return t.utils.noData(C,w),C;w.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var M=w.selectAll("g.nv-wrap.nv-historicalBarChart").data([c]),A=M.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),I=M.select("g");A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis"),A.append("g").attr("class","nv-barsWrap"),A.append("g").attr("class","nv-legendWrap"),A.append("g").attr("class","nv-interactive"),f&&(s.width(D),I.select(".nv-legendWrap").datum(c).call(s),u.top!=s.height()&&(u.top=s.height(),F=t.utils.availableHeight(p,w,u)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),M.attr("transform","translate("+u.left+","+u.top+")"),v&&I.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),y&&(l.width(D).height(F).margin({left:u.left,top:u.top}).svgContainer(w).xScale(n),M.select(".nv-interactive").call(l)),r.width(D).height(F).color(c.map((function(e,t){return e.color||d(e,t)})).filter((function(e,t){return!c[t].disabled}))),I.select(".nv-barsWrap").datum(c.filter((function(e){return!e.disabled}))).transition().call(r),m&&(a.scale(n)._ticks(t.utils.calcTicksX(D/100,c)).tickSize(-F,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),I.select(".nv-x.nv-axis").transition().call(a)),g&&(o.scale(i)._ticks(t.utils.calcTicksY(F/36,c)).tickSize(-D,0),I.select(".nv-y.nv-axis").transition().call(o)),l.dispatch.on("elementMousemove",(function(e){r.clearHighlights();var n,i,s,u=[];c.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(a,o){i=t.interactiveBisect(a.values,e.pointXValue,C.x()),r.highlightPoint(i,!0);var l=a.values[i];void 0!==l&&(void 0===n&&(n=l),void 0===s&&(s=C.xScale()(C.x()(l,i))),u.push({key:a.key,value:C.y()(l,i),color:d(a,a.seriesIndex),data:a.values[i]}))}));var h=a.tickFormat()(C.x()(n,i));l.tooltip.chartContainer(S.parentNode).valueFormatter((function(e,t){return o.tickFormat()(e)})).data({value:h,index:i,series:u})(),l.renderGuideLine(s)})),l.dispatch.on("elementMouseout",(function(e){k.tooltipHide(),r.clearHighlights()})),s.dispatch.on("legendClick",(function(t,n){t.disabled=!t.disabled,c.filter((function(e){return!e.disabled})).length||c.map((function(e){return e.disabled=!1,M.selectAll(".nv-series").classed("disabled",!1),e})),b.disabled=c.map((function(e){return!!e.disabled})),k.stateChange(b),e.transition().call(C)})),s.dispatch.on("legendDblclick",(function(e){c.forEach((function(e){e.disabled=!0})),e.disabled=!1,b.disabled=c.map((function(e){return!!e.disabled})),k.stateChange(b),C.update()})),k.on("changeState",(function(e){void 0!==e.disabled&&(c.forEach((function(t,n){t.disabled=e.disabled[n]})),b.disabled=e.disabled),C.update()}))})),E.renderEnd("historicalBarChart immediate"),C}return r.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:C.x()(e.data),value:C.y()(e.data),color:e.color},c.data(e).hidden(!1)})),r.dispatch.on("elementMouseout.tooltip",(function(e){c.hidden(!0)})),r.dispatch.on("elementMousemove.tooltip",(function(e){c()})),C.dispatch=k,C.bars=r,C.legend=s,C.xAxis=a,C.yAxis=o,C.interactiveLayer=l,C.tooltip=c,C.options=t.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return h},set:function(e){h=e}},height:{get:function(){return p},set:function(e){p=e}},showLegend:{get:function(){return f},set:function(e){f=e}},showXAxis:{get:function(){return m},set:function(e){m=e}},showYAxis:{get:function(){return g},set:function(e){g=e}},defaultState:{get:function(){return _},set:function(e){_=e}},noData:{get:function(){return w},set:function(e){w=e}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),s.color(d),r.color(d)}},duration:{get:function(){return x},set:function(e){x=e,E.reset(x),o.duration(x),a.duration(x)}},rightAlignYAxis:{get:function(){return v},set:function(e){v=e,o.orient(e?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(e){y=e,!0===e&&C.interactive(!1)}}}),t.utils.inheritOptions(C,r),t.utils.initOptions(C),C},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator((function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"})),e},t.models.candlestickBarChart=function(){var e=t.models.historicalBarChart(t.models.candlestickBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator((function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"})),e},t.models.legend=function(){"use strict";var e={top:5,right:0,bottom:5,left:0},n=400,i=20,r=function(e){return e.key},a=t.utils.getColor(),o=20,s=!0,l=32,c=!0,u=!0,d=!1,h=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),f="classic";function m(g){function v(e,t){return"furious"!=f?"#000":h?e.disengaged?"#000":"#fff":h?void 0:(e.color||(e.color=a(e,t)),e.disabled?e.color:"#fff")}function y(e,t){return h&&"furious"==f&&e.disengaged?"#eee":e.color||a(e,t)}function b(e,t){return h&&"furious"==f?1:e.disabled?0:1}return g.each((function(a){var m=n-e.left-e.right,g=d3.select(this);t.utils.initSVG(g);var _=g.selectAll("g.nv-legend").data([a]),w=_.enter().append("g").attr("class","nvd3 nv-legend").append("g"),k=_.select("g");_.attr("transform","translate("+e.left+","+e.top+")");var x,E,C=k.selectAll(".nv-series").data((function(e){return"furious"!=f?e:e.filter((function(e){return!!h||!e.disengaged}))})),S=C.enter().append("g").attr("class","nv-series");switch(f){case"furious":E=23;break;case"classic":E=20}"classic"==f?(S.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),x=C.select("circle")):"furious"==f&&(S.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),x=C.select(".nv-legend-symbol"),S.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),C.select(".nv-check-box").each((function(e,t){d3.select(this).selectAll("path").attr("stroke",v(e,t))}))),S.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var T=C.select("text.nv-legend-text");C.on("mouseover",(function(e,t){p.legendMouseover(e,t)})).on("mouseout",(function(e,t){p.legendMouseout(e,t)})).on("click",(function(e,t){p.legendClick(e,t);var n=C.data();if(u){if("classic"==f)d?(n.forEach((function(e){e.disabled=!0})),e.disabled=!1):(e.disabled=!e.disabled,n.every((function(e){return e.disabled}))&&n.forEach((function(e){e.disabled=!1})));else if("furious"==f)if(h)e.disengaged=!e.disengaged,e.userDisabled=null==e.userDisabled?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!h){e.disabled=!e.disabled,e.userDisabled=e.disabled;var i=n.filter((function(e){return!e.disengaged}));i.every((function(e){return e.userDisabled}))&&n.forEach((function(e){e.disabled=e.userDisabled=!1}))}p.stateChange({disabled:n.map((function(e){return!!e.disabled})),disengaged:n.map((function(e){return!!e.disengaged}))})}})).on("dblclick",(function(e,t){if(("furious"!=f||!h)&&(p.legendDblclick(e,t),u)){var n=C.data();n.forEach((function(e){e.disabled=!0,"furious"==f&&(e.userDisabled=e.disabled)})),e.disabled=!1,"furious"==f&&(e.userDisabled=e.disabled),p.stateChange({disabled:n.map((function(e){return!!e.disabled}))})}})),C.classed("nv-disabled",(function(e){return e.userDisabled})),C.exit().remove(),T.attr("fill",v).text(r);var D=0;if(s){var F=[];C.each((function(e,n){var i,a;if(r(e).length>o){var s=r(e).substring(0,o);i=d3.select(this).select("text").text(s+"..."),d3.select(this).append("svg:title").text(r(e))}else i=d3.select(this).select("text");try{if((a=i.node().getComputedTextLength())<=0)throw Error()}catch(e){a=t.utils.calcApproxTextWidth(i)}F.push(a+l)}));var M=0,A=[];for(D=0;D<m&&M<F.length;)A[M]=F[M],D+=F[M++];for(0===M&&(M=1);D>m&&M>1;){A=[],M--;for(var I=0;I<F.length;I++)F[I]>(A[I%M]||0)&&(A[I%M]=F[I]);D=A.reduce((function(e,t,n,i){return e+t}))}for(var O=[],N=0,P=0;N<M;N++)O[N]=P,P+=A[N];C.attr("transform",(function(e,t){return"translate("+O[t%M]+","+(5+Math.floor(t/M)*E)+")"})),c?k.attr("transform","translate("+(n-e.right-D)+","+e.top+")"):k.attr("transform","translate(0,"+e.top+")"),i=e.top+e.bottom+Math.ceil(F.length/M)*E}else{var R,j=5,L=5,q=0;C.attr("transform",(function(t,i){var r=d3.select(this).select("text").node().getComputedTextLength()+l;return R=L,n<e.left+e.right+R+r&&(L=R=5,j+=E),(L+=r)>q&&(q=L),D<R+q&&(D=R+q),"translate("+R+","+j+")"})),k.attr("transform","translate("+(n-e.right-q)+","+e.top+")"),i=e.top+e.bottom+j+15}"furious"==f&&(x.attr("width",(function(e,t){return T[0][t].getComputedTextLength()+27})).attr("height",18).attr("y",-9).attr("x",-15),w.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),k.select(".nv-legend-bg").transition().duration(300).attr("x",-E).attr("width",D+E-12).attr("height",i+10).attr("y",-e.top-10).attr("opacity",h?1:0)),x.style("fill",y).style("fill-opacity",b).style("stroke",y)})),m}return m.dispatch=p,m.options=t.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return i},set:function(e){i=e}},key:{get:function(){return r},set:function(e){r=e}},align:{get:function(){return s},set:function(e){s=e}},maxKeyLength:{get:function(){return o},set:function(e){o=e}},rightAlign:{get:function(){return c},set:function(e){c=e}},padding:{get:function(){return l},set:function(e){l=e}},updateState:{get:function(){return u},set:function(e){u=e}},radioButtonMode:{get:function(){return d},set:function(e){d=e}},expanded:{get:function(){return h},set:function(e){h=e}},vers:{get:function(){return f},set:function(e){f=e}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(m),m},t.models.line=function(){"use strict";var e,n,i=t.models.scatter(),r={top:0,right:0,bottom:0,left:0},a=960,o=500,s=null,l=t.utils.defaultColor(),c=function(e){return e.x},u=function(e){return e.y},d=function(e,t){return!isNaN(u(e,t))&&null!==u(e,t)},h=function(e){return e.area},p=!1,f="linear",m=250,g=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");i.pointSize(16).pointDomain([16,256]);var v,y,b=t.utils.renderWatch(g,m);function _(m){return b.reset(),b.models(i),m.each((function(m){s=d3.select(this);var g=t.utils.availableWidth(a,s,r),_=t.utils.availableHeight(o,s,r);t.utils.initSVG(s),e=i.xScale(),n=i.yScale(),v=v||e,y=y||n;var w=s.selectAll("g.nv-wrap.nv-line").data([m]),k=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),x=k.append("defs"),E=k.append("g"),C=w.select("g");E.append("g").attr("class","nv-groups"),E.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+r.left+","+r.top+")"),i.width(g).height(_);var S=w.select(".nv-scatterWrap");S.call(i),x.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),w.select("#nv-edge-clip-"+i.id()+" rect").attr("width",g).attr("height",_>0?_:0),C.attr("clip-path",p?"url(#nv-edge-clip-"+i.id()+")":""),S.attr("clip-path",p?"url(#nv-edge-clip-"+i.id()+")":"");var T=w.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e){return e.key}));T.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",(function(e){return e.strokeWidth||1.5})).style("fill-opacity",1e-6),T.exit().remove(),T.attr("class",(function(e,t){return(e.classed||"")+" nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})).style("fill",(function(e,t){return l(e,t)})).style("stroke",(function(e,t){return l(e,t)})),T.watchTransition(b,"line: groups").style("stroke-opacity",1).style("fill-opacity",(function(e){return e.fillOpacity||.5}));var D=T.selectAll("path.nv-area").data((function(e){return h(e)?[e]:[]}));D.enter().append("path").attr("class","nv-area").attr("d",(function(e){return d3.svg.area().interpolate(f).defined(d).x((function(e,n){return t.utils.NaNtoZero(v(c(e,n)))})).y0((function(e,n){return t.utils.NaNtoZero(y(u(e,n)))})).y1((function(e,t){return y(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])})).apply(this,[e.values])})),T.exit().selectAll("path.nv-area").remove(),D.watchTransition(b,"line: areaPaths").attr("d",(function(i){return d3.svg.area().interpolate(f).defined(d).x((function(n,i){return t.utils.NaNtoZero(e(c(n,i)))})).y0((function(e,i){return t.utils.NaNtoZero(n(u(e,i)))})).y1((function(e,t){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])})).apply(this,[i.values])}));var F=T.selectAll("path.nv-line").data((function(e){return[e.values]}));F.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(f).defined(d).x((function(e,n){return t.utils.NaNtoZero(v(c(e,n)))})).y((function(e,n){return t.utils.NaNtoZero(y(u(e,n)))}))),F.watchTransition(b,"line: linePaths").attr("d",d3.svg.line().interpolate(f).defined(d).x((function(n,i){return t.utils.NaNtoZero(e(c(n,i)))})).y((function(e,i){return t.utils.NaNtoZero(n(u(e,i)))}))),v=e.copy(),y=n.copy()})),b.renderEnd("line immediate"),_}return _.dispatch=g,_.scatter=i,i.dispatch.on("elementClick",(function(){g.elementClick.apply(this,arguments)})),i.dispatch.on("elementMouseover",(function(){g.elementMouseover.apply(this,arguments)})),i.dispatch.on("elementMouseout",(function(){g.elementMouseout.apply(this,arguments)})),_.options=t.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return o},set:function(e){o=e}},defined:{get:function(){return d},set:function(e){d=e}},interpolate:{get:function(){return f},set:function(e){f=e}},clipEdge:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return r},set:function(e){r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left}},duration:{get:function(){return m},set:function(e){m=e,b.reset(m),i.duration(m)}},isArea:{get:function(){return h},set:function(e){h=d3.functor(e)}},x:{get:function(){return c},set:function(e){c=e,i.x(e)}},y:{get:function(){return u},set:function(e){u=e,i.y(e)}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e),i.color(l)}}}),t.utils.inheritOptions(_,i),t.utils.initOptions(_),_},t.models.lineChart=function(){"use strict";var e,n,i,r,a=t.models.line(),o=t.models.axis(),s=t.models.axis(),l=t.models.legend(),c=t.interactiveGuideline(),u=t.models.tooltip(),d=t.models.line(),h=t.models.axis(),p=t.models.axis(),f=d3.svg.brush(),m={top:30,right:20,bottom:50,left:60},g={top:0,right:20,bottom:20,left:60},v=t.utils.defaultColor(),y=null,b=null,_=!0,w=!0,k=!0,x=!1,E=!1,C=!1,S=!1,T=!0,D=50,F=null,M=t.utils.state(),A=null,I=null,O=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState","renderEnd"),N=250;o.orient("bottom").tickPadding(7),s.orient(x?"right":"left"),a.clipEdge(!0).duration(0),d.interactive(!1),d.pointActive((function(e){return!1})),h.orient("bottom").tickPadding(5),p.orient(x?"right":"left"),u.valueFormatter((function(e,t){return s.tickFormat()(e,t)})).headerFormatter((function(e,t){return o.tickFormat()(e,t)})),c.tooltip.valueFormatter((function(e,t){return s.tickFormat()(e,t)})).headerFormatter((function(e,t){return o.tickFormat()(e,t)}));var P=t.utils.renderWatch(O,N);function R(u){return P.reset(),P.models(a),P.models(d),w&&P.models(o),k&&P.models(s),T&&P.models(h),S&&P.models(p),u.each((function(u){var I=d3.select(this);t.utils.initSVG(I);var P,j=t.utils.availableWidth(y,I,m),L=t.utils.availableHeight(b,I,m)-(C?D:0),q=D-g.top-g.bottom;if(R.update=function(){0===N?I.call(R):I.transition().duration(N).call(R)},R.container=this,M.setter(function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(u),R.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}}(u)).update(),M.disabled=u.map((function(e){return!!e.disabled})),!A)for(P in A={},M)M[P]instanceof Array?A[P]=M[P].slice(0):A[P]=M[P];if(!(u&&u.length&&u.filter((function(e){return e.values.length})).length))return t.utils.noData(R,I),R;I.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale(),i=d.xScale(),r=d.yScale();var Z=I.selectAll("g.nv-wrap.nv-lineChart").data([u]),B=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),V=Z.select("g");B.append("g").attr("class","nv-legendWrap");var z=B.append("g").attr("class","nv-focus");z.append("g").attr("class","nv-background").append("rect"),z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-linesWrap"),z.append("g").attr("class","nv-interactive");var U=B.append("g").attr("class","nv-context");U.append("g").attr("class","nv-background").append("rect"),U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y nv-axis"),U.append("g").attr("class","nv-linesWrap"),U.append("g").attr("class","nv-brushBackground"),U.append("g").attr("class","nv-x nv-brush"),_&&(l.width(j),V.select(".nv-legendWrap").datum(u).call(l),m.top!=l.height()&&(m.top=l.height(),L=t.utils.availableHeight(b,I,m)-(C?D:0)),Z.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")),Z.attr("transform","translate("+m.left+","+m.top+")"),x&&V.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)"),E&&(c.width(j).height(L).margin({left:m.left,top:m.top}).svgContainer(I).xScale(e),Z.select(".nv-interactive").call(c)),V.select(".nv-focus .nv-background rect").attr("width",j).attr("height",L),a.width(j).height(L).color(u.map((function(e,t){return e.color||v(e,t)})).filter((function(e,t){return!u[t].disabled})));var W=V.select(".nv-linesWrap").datum(u.filter((function(e){return!e.disabled})));function H(){w&&V.select(".nv-focus .nv-x.nv-axis").transition().duration(N).call(o)}function Y(){k&&V.select(".nv-focus .nv-y.nv-axis").transition().duration(N).call(s)}if(w&&o.scale(e)._ticks(t.utils.calcTicksX(j/100,u)).tickSize(-L,0),k&&s.scale(n)._ticks(t.utils.calcTicksY(L/36,u)).tickSize(-j,0),V.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+L+")"),C){d.defined(a.defined()).width(j).height(q).color(u.map((function(e,t){return e.color||v(e,t)})).filter((function(e,t){return!u[t].disabled}))),V.select(".nv-context").attr("transform","translate(0,"+(L+m.bottom+g.top)+")").style("display",C?"initial":"none");var $=V.select(".nv-context .nv-linesWrap").datum(u.filter((function(e){return!e.disabled})));d3.transition($).call(d),f.x(i).on("brush",(function(){Q()})),F&&f.extent(F);var K=V.select(".nv-brushBackground").selectAll("g").data([F||f.extent()]),G=K.enter().append("g");G.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",q),G.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",q);var X=V.select(".nv-x.nv-brush").call(f);X.selectAll("rect").attr("height",q),X.selectAll(".resize").append("path").attr("d",(function(e){var t=+("e"==e),n=t?1:-1,i=q/3;return"M"+.5*n+","+i+"A6,6 0 0 "+t+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)})),Q(),V.select(".nv-context .nv-background rect").attr("width",j).attr("height",q),T&&(h.scale(i)._ticks(t.utils.calcTicksX(j/100,u)).tickSize(-q,0),V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(V.select(".nv-context .nv-x.nv-axis")).call(h)),S&&(p.scale(r)._ticks(t.utils.calcTicksY(q/36,u)).tickSize(-j,0),d3.transition(V.select(".nv-context .nv-y.nv-axis")).call(p)),V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")")}else W.call(a),H(),Y();function Q(){F=f.empty()?null:f.extent();var t=f.empty()?i.domain():f.extent();Math.abs(t[0]-t[1])<=1||(O.brush({extent:t,brush:f}),f.empty()||f.extent(F),K.data([f.empty()?i.domain():F]).each((function(t,n){var r=i(t[0])-e.range()[0],a=j-i(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",a<0?0:a)})),V.select(".nv-focus .nv-linesWrap").datum(u.filter((function(e){return!e.disabled})).map((function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter((function(e,n){return a.x()(e,n)>=t[0]&&a.x()(e,n)<=t[1]})),disableTooltip:e.disableTooltip}}))).transition().duration(N).call(a),H(),Y())}l.dispatch.on("stateChange",(function(e){for(var t in e)M[t]=e[t];O.stateChange(M),R.update()})),c.dispatch.on("elementMousemove",(function(n){a.clearHighlights();var r,o,l,d=[];if(u.filter((function(e,t){return e.seriesIndex=t,!e.disabled&&!e.disableTooltip})).forEach((function(s,c){var u=C?f.empty()?i.domain():f.extent():e.domain(),h=s.values.filter((function(e,t){return a.x()(e,t)>=u[0]&&a.x()(e,t)<=u[1]})),p=h[o=t.interactiveBisect(h,n.pointXValue,a.x())],m=R.y()(p,o);null!==m&&a.highlightPoint(s.seriesIndex,o,!0),void 0!==p&&(void 0===r&&(r=p),void 0===l&&(l=R.xScale()(R.x()(p,o))),d.push({key:s.key,value:m,color:v(s,s.seriesIndex),data:p}))})),d.length>2){var h=R.yScale().invert(n.mouseY),p=.03*Math.abs(R.yScale().domain()[0]-R.yScale().domain()[1]),m=t.nearestValueIndex(d.map((function(e){return e.value})),h,p);null!==m&&(d[m].highlight=!0)}c.tooltip.chartContainer(R.container.parentNode).valueFormatter((function(e,t){return null===e?"N/A":s.tickFormat()(e)})).data({value:R.x()(r,o),index:o,series:d})(),c.renderGuideLine(l)})),c.dispatch.on("elementClick",(function(e){var n,i=[];u.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(r){var a=t.interactiveBisect(r.values,e.pointXValue,R.x()),o=r.values[a];if(void 0!==o){void 0===n&&(n=R.xScale()(R.x()(o,a)));var s=R.yScale()(R.y()(o,a));i.push({point:o,pointIndex:a,pos:[n,s],seriesIndex:r.seriesIndex,series:r})}})),a.dispatch.elementClick(i)})),c.dispatch.on("elementMouseout",(function(e){a.clearHighlights()})),O.on("changeState",(function(e){void 0!==e.disabled&&u.length===e.disabled.length&&(u.forEach((function(t,n){t.disabled=e.disabled[n]})),M.disabled=e.disabled),R.update()}))})),P.renderEnd("lineChart immediate"),R}return a.dispatch.on("elementMouseover.tooltip",(function(e){e.series.disableTooltip||u.data(e).hidden(!1)})),a.dispatch.on("elementMouseout.tooltip",(function(e){u.hidden(!0)})),R.dispatch=O,R.lines=a,R.lines2=d,R.legend=l,R.xAxis=o,R.x2Axis=h,R.yAxis=s,R.y2Axis=p,R.interactiveLayer=c,R.tooltip=u,R.state=M,R.dispatch=O,R.options=t.utils.optionsFunc.bind(R),R._options=Object.create({},{width:{get:function(){return y},set:function(e){y=e}},height:{get:function(){return b},set:function(e){b=e}},showLegend:{get:function(){return _},set:function(e){_=e}},showXAxis:{get:function(){return w},set:function(e){w=e}},showYAxis:{get:function(){return k},set:function(e){k=e}},focusEnable:{get:function(){return C},set:function(e){C=e}},focusHeight:{get:function(){return height2},set:function(e){D=e}},focusShowAxisX:{get:function(){return T},set:function(e){T=e}},focusShowAxisY:{get:function(){return S},set:function(e){S=e}},brushExtent:{get:function(){return F},set:function(e){F=e}},defaultState:{get:function(){return A},set:function(e){A=e}},noData:{get:function(){return I},set:function(e){I=e}},margin:{get:function(){return m},set:function(e){m.top=void 0!==e.top?e.top:m.top,m.right=void 0!==e.right?e.right:m.right,m.bottom=void 0!==e.bottom?e.bottom:m.bottom,m.left=void 0!==e.left?e.left:m.left}},duration:{get:function(){return N},set:function(e){N=e,P.reset(N),a.duration(N),o.duration(N),h.duration(N),s.duration(N),p.duration(N)}},focusMargin:{get:function(){return g},set:function(e){g.top=void 0!==e.top?e.top:g.top,g.right=void 0!==e.right?e.right:g.right,g.bottom=void 0!==e.bottom?e.bottom:g.bottom,g.left=void 0!==e.left?e.left:g.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e),l.color(v),a.color(v)}},interpolate:{get:function(){return a.interpolate()},set:function(e){a.interpolate(e),d.interpolate(e)}},xTickFormat:{get:function(){return o.tickFormat()},set:function(e){o.tickFormat(e),h.tickFormat(e)}},yTickFormat:{get:function(){return s.tickFormat()},set:function(e){s.tickFormat(e),p.tickFormat(e)}},x:{get:function(){return a.x()},set:function(e){a.x(e),d.x(e)}},y:{get:function(){return a.y()},set:function(e){a.y(e),d.y(e)}},rightAlignYAxis:{get:function(){return x},set:function(e){x=e,s.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(e){(E=e)&&(a.interactive(!1),a.useVoronoi(!1))}}}),t.utils.inheritOptions(R,a),t.utils.initOptions(R),R},t.models.lineWithFocusChart=function(){return t.models.lineChart().margin({bottom:30}).focusEnable(!0)},t.models.linePlusBarChart=function(){"use strict";var e,n,i,r,a,o,s,l=t.models.line(),c=t.models.line(),u=t.models.historicalBar(),d=t.models.historicalBar(),h=t.models.axis(),p=t.models.axis(),f=t.models.axis(),m=t.models.axis(),g=t.models.axis(),v=t.models.axis(),y=t.models.legend(),b=d3.svg.brush(),_=t.models.tooltip(),w={top:30,right:30,bottom:30,left:60},k={top:0,right:30,bottom:20,left:60},x=null,E=null,C=function(e){return e.x},S=function(e){return e.y},T=t.utils.defaultColor(),D=!0,F=!0,M=!1,A=!0,I=50,O=null,N=null,P=d3.dispatch("brush","stateChange","changeState"),R=0,j=t.utils.state(),L=null,q=" (left axis)",Z=" (right axis)",B=!1;l.clipEdge(!0),c.interactive(!1),c.pointActive((function(e){return!1})),h.orient("bottom").tickPadding(5),f.orient("left"),m.orient("right"),p.orient("bottom").tickPadding(5),g.orient("left"),v.orient("right"),_.headerEnabled(!0).headerFormatter((function(e,t){return h.tickFormat()(e,t)}));var V=function(e){return e.every((function(e){return e.disabled}))};function z(_){return _.each((function(_){var N=d3.select(this);t.utils.initSVG(N);var U,W=t.utils.availableWidth(x,N,w),H=t.utils.availableHeight(E,N,w)-(F?I:0),Y=I-k.top-k.bottom;if(z.update=function(){N.transition().duration(R).call(z)},z.container=this,j.setter(function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(_),z.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}}(_)).update(),j.disabled=_.map((function(e){return!!e.disabled})),!L)for(U in L={},j)j[U]instanceof Array?L[U]=j[U].slice(0):L[U]=j[U];if(!(_&&_.length&&_.filter((function(e){return e.values.length})).length))return t.utils.noData(z,N),z;N.selectAll(".nv-noData").remove();var $=_.filter((function(e){return!e.disabled&&e.bar})),K=_.filter((function(e){return!e.bar}));n=u.xScale(),i=p.scale(),r=B?l.yScale():u.yScale(),a=B?u.yScale():l.yScale(),o=B?c.yScale():d.yScale(),s=B?d.yScale():c.yScale();var G=_.filter((function(e){return!e.disabled&&(B?!e.bar:e.bar)})).map((function(e){return e.values.map((function(e,t){return{x:C(e,t),y:S(e,t)}}))})),X=_.filter((function(e){return!e.disabled&&(B?e.bar:!e.bar)})).map((function(e){return e.values.map((function(e,t){return{x:C(e,t),y:S(e,t)}}))}));n.range([0,W]),i.domain(d3.extent(d3.merge(G.concat(X)),(function(e){return e.x}))).range([0,W]);var Q=N.selectAll("g.nv-wrap.nv-linePlusBar").data([_]),J=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ee=Q.select("g");J.append("g").attr("class","nv-legendWrap");var te=J.append("g").attr("class","nv-focus");te.append("g").attr("class","nv-x nv-axis"),te.append("g").attr("class","nv-y1 nv-axis"),te.append("g").attr("class","nv-y2 nv-axis"),te.append("g").attr("class","nv-barsWrap"),te.append("g").attr("class","nv-linesWrap");var ne=J.append("g").attr("class","nv-context");if(ne.append("g").attr("class","nv-x nv-axis"),ne.append("g").attr("class","nv-y1 nv-axis"),ne.append("g").attr("class","nv-y2 nv-axis"),ne.append("g").attr("class","nv-barsWrap"),ne.append("g").attr("class","nv-linesWrap"),ne.append("g").attr("class","nv-brushBackground"),ne.append("g").attr("class","nv-x nv-brush"),D){var ie=y.align()?W/2:W,re=y.align()?ie:0;y.width(ie),ee.select(".nv-legendWrap").datum(_.map((function(e){return e.originalKey=void 0===e.originalKey?e.key:e.originalKey,e.key=B?e.originalKey+(e.bar?Z:q):e.originalKey+(e.bar?q:Z),e}))).call(y),w.top!=y.height()&&(w.top=y.height(),H=t.utils.availableHeight(E,N,w)-I),ee.select(".nv-legendWrap").attr("transform","translate("+re+","+-w.top+")")}Q.attr("transform","translate("+w.left+","+w.top+")"),ee.select(".nv-context").style("display",F?"initial":"none"),d.width(W).height(Y).color(_.map((function(e,t){return e.color||T(e,t)})).filter((function(e,t){return!_[t].disabled&&_[t].bar}))),c.width(W).height(Y).color(_.map((function(e,t){return e.color||T(e,t)})).filter((function(e,t){return!_[t].disabled&&!_[t].bar})));var ae=ee.select(".nv-context .nv-barsWrap").datum($.length?$:[{values:[]}]),oe=ee.select(".nv-context .nv-linesWrap").datum(V(K)?[{values:[]}]:K.filter((function(e){return!e.disabled})));ee.select(".nv-context").attr("transform","translate(0,"+(H+w.bottom+k.top)+")"),ae.transition().call(d),oe.transition().call(c),A&&(p._ticks(t.utils.calcTicksX(W/100,_)).tickSize(-Y,0),ee.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),ee.select(".nv-context .nv-x.nv-axis").transition().call(p)),M&&(g.scale(o)._ticks(Y/36).tickSize(-W,0),v.scale(s)._ticks(Y/36).tickSize($.length?0:-W,0),ee.select(".nv-context .nv-y3.nv-axis").style("opacity",$.length?1:0).attr("transform","translate(0,"+i.range()[0]+")"),ee.select(".nv-context .nv-y2.nv-axis").style("opacity",K.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),ee.select(".nv-context .nv-y1.nv-axis").transition().call(g),ee.select(".nv-context .nv-y2.nv-axis").transition().call(v)),b.x(i).on("brush",ue),O&&b.extent(O);var se=ee.select(".nv-brushBackground").selectAll("g").data([O||b.extent()]),le=se.enter().append("g");le.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Y),le.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Y);var ce=ee.select(".nv-x.nv-brush").call(b);function ue(){O=b.empty()?null:b.extent(),e=b.empty()?i.domain():b.extent(),P.brush({extent:e,brush:b}),b.empty()||b.extent(O),se.data([b.empty()?i.domain():O]).each((function(e,t){var n=i(e[0])-i.range()[0],r=i.range()[1]-i(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",i(e[1])).attr("width",r<0?0:r)})),u.width(W).height(H).color(_.map((function(e,t){return e.color||T(e,t)})).filter((function(e,t){return!_[t].disabled&&_[t].bar}))),l.width(W).height(H).color(_.map((function(e,t){return e.color||T(e,t)})).filter((function(e,t){return!_[t].disabled&&!_[t].bar})));var o=ee.select(".nv-focus .nv-barsWrap").datum($.length?$.map((function(t,n){return{key:t.key,values:t.values.filter((function(t,n){return u.x()(t,n)>=e[0]&&u.x()(t,n)<=e[1]}))}})):[{values:[]}]),s=ee.select(".nv-focus .nv-linesWrap").datum(V(K)?[{values:[]}]:K.filter((function(e){return!e.disabled})).map((function(t,n){return{area:t.area,fillOpacity:t.fillOpacity,key:t.key,values:t.values.filter((function(t,n){return l.x()(t,n)>=e[0]&&l.x()(t,n)<=e[1]}))}})));n=$.length&&!B?u.xScale():l.xScale(),h.scale(n)._ticks(t.utils.calcTicksX(W/100,_)).tickSize(-H,0),h.domain([Math.ceil(e[0]),Math.floor(e[1])]),ee.select(".nv-x.nv-axis").transition().duration(R).call(h),o.transition().duration(R).call(u),s.transition().duration(R).call(l),ee.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),f.scale(r)._ticks(t.utils.calcTicksY(H/36,_)).tickSize(-W,0),m.scale(a)._ticks(t.utils.calcTicksY(H/36,_)).tickSize($.length?0:-W,0);var c=$.length?1:0,d=K.length&&!V(K)?1:0,p=B?d:c,g=B?c:d;ee.select(".nv-focus .nv-y1.nv-axis").style("opacity",p),ee.select(".nv-focus .nv-y2.nv-axis").style("opacity",g).attr("transform","translate("+n.range()[1]+",0)"),ee.select(".nv-focus .nv-y1.nv-axis").transition().duration(R).call(f),ee.select(".nv-focus .nv-y2.nv-axis").transition().duration(R).call(m)}ce.selectAll("rect").attr("height",Y),ce.selectAll(".resize").append("path").attr("d",(function(e){var t=+("e"==e),n=t?1:-1,i=Y/3;return"M"+.5*n+","+i+"A6,6 0 0 "+t+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)})),y.dispatch.on("stateChange",(function(e){for(var t in e)j[t]=e[t];P.stateChange(j),z.update()})),P.on("changeState",(function(e){void 0!==e.disabled&&(_.forEach((function(t,n){t.disabled=e.disabled[n]})),j.disabled=e.disabled),z.update()})),ue()})),z}return l.dispatch.on("elementMouseover.tooltip",(function(e){_.duration(100).valueFormatter((function(e,t){return(B?{main:m,focus:v}:{main:f,focus:g}).main.tickFormat()(e,t)})).data(e).hidden(!1)})),l.dispatch.on("elementMouseout.tooltip",(function(e){_.hidden(!0)})),u.dispatch.on("elementMouseover.tooltip",(function(e){e.value=z.x()(e.data),e.series={value:z.y()(e.data),color:e.color},_.duration(0).valueFormatter((function(e,t){return(B?{main:f,focus:g}:{main:m,focus:v}).main.tickFormat()(e,t)})).data(e).hidden(!1)})),u.dispatch.on("elementMouseout.tooltip",(function(e){_.hidden(!0)})),u.dispatch.on("elementMousemove.tooltip",(function(e){_()})),z.dispatch=P,z.legend=y,z.lines=l,z.lines2=c,z.bars=u,z.bars2=d,z.xAxis=h,z.x2Axis=p,z.y1Axis=f,z.y2Axis=m,z.y3Axis=g,z.y4Axis=v,z.tooltip=_,z.options=t.utils.optionsFunc.bind(z),z._options=Object.create({},{width:{get:function(){return x},set:function(e){x=e}},height:{get:function(){return E},set:function(e){E=e}},showLegend:{get:function(){return D},set:function(e){D=e}},brushExtent:{get:function(){return O},set:function(e){O=e}},noData:{get:function(){return N},set:function(e){N=e}},focusEnable:{get:function(){return F},set:function(e){F=e}},focusHeight:{get:function(){return I},set:function(e){I=e}},focusShowAxisX:{get:function(){return A},set:function(e){A=e}},focusShowAxisY:{get:function(){return M},set:function(e){M=e}},legendLeftAxisHint:{get:function(){return q},set:function(e){q=e}},legendRightAxisHint:{get:function(){return Z},set:function(e){Z=e}},margin:{get:function(){return w},set:function(e){w.top=void 0!==e.top?e.top:w.top,w.right=void 0!==e.right?e.right:w.right,w.bottom=void 0!==e.bottom?e.bottom:w.bottom,w.left=void 0!==e.left?e.left:w.left}},focusMargin:{get:function(){return k},set:function(e){k.top=void 0!==e.top?e.top:k.top,k.right=void 0!==e.right?e.right:k.right,k.bottom=void 0!==e.bottom?e.bottom:k.bottom,k.left=void 0!==e.left?e.left:k.left}},duration:{get:function(){return R},set:function(e){R=e}},color:{get:function(){return T},set:function(e){T=t.utils.getColor(e),y.color(T)}},x:{get:function(){return C},set:function(e){C=e,l.x(e),c.x(e),u.x(e),d.x(e)}},y:{get:function(){return S},set:function(e){S=e,l.y(e),c.y(e),u.y(e),d.y(e)}},switchYAxisOrder:{get:function(){return B},set:function(e){if(B!==e){var t=f.tickFormat();f.tickFormat(m.tickFormat()),m.tickFormat(t)}B=e}}}),t.utils.inheritOptions(z,l),t.utils.initOptions(z),z},t.models.multiBar=function(){"use strict";var e,n,i,r,a,o,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=d3.scale.ordinal(),h=d3.scale.linear(),p=Math.floor(1e4*Math.random()),f=null,m=function(e){return e.x},g=function(e){return e.y},v=[0],y=!0,b=!1,_="zero",w=t.utils.defaultColor(),k=!1,x=null,E=500,C=.1,S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),T=t.utils.renderWatch(S,E),D=0;function F(M){return T.reset(),M.each((function(F){var M=c-l.left-l.right,A=u-l.top-l.bottom;f=d3.select(this),t.utils.initSVG(f);var I=0;if(k&&F.length&&(k=[{values:F[0].values.map((function(e){return{x:e.x,y:0,series:e.series,size:.01}}))}]),b){var O=d3.layout.stack().offset(_).values((function(e){return e.values})).y(g)(!F.length&&k?k:F);O.forEach((function(e,t){e.nonStackable?(F[t].nonStackableSeries=I++,O[t]=F[t]):t>0&&O[t-1].nonStackable&&O[t].values.map((function(e,n){e.y0-=O[t-1].values[n].y,e.y1=e.y0+e.y}))})),F=O}F.forEach((function(e,t){e.values.forEach((function(n){n.series=t,n.key=e.key}))})),b&&F[0].values.map((function(e,t){var n=0,i=0;F.map((function(e,r){if(!F[r].nonStackable){var a=e.values[t];a.size=Math.abs(a.y),a.y<0?(a.y1=i,i-=a.size):(a.y1=a.size+n,n+=a.size)}}))}));var N=n&&i?[]:F.map((function(e,t){return e.values.map((function(e,n){return{x:m(e,n),y:g(e,n),y0:e.y0,y1:e.y1,idx:t}}))}));d.domain(n||d3.merge(N).map((function(e){return e.x}))).rangeBands(r||[0,M],C),h.domain(i||d3.extent(d3.merge(N).map((function(e){var t=e.y;return b&&!F[e.idx].nonStackable&&(t=e.y>0?e.y1:e.y1+e.y),t})).concat(v))).range(a||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1])),o=o||d,s=s||h;var P=f.selectAll("g.nv-wrap.nv-multibar").data([F]),R=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),j=R.append("defs"),L=R.append("g"),q=P.select("g");L.append("g").attr("class","nv-groups"),P.attr("transform","translate("+l.left+","+l.top+")"),j.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),P.select("#nv-edge-clip-"+p+" rect").attr("width",M).attr("height",A),q.attr("clip-path",y?"url(#nv-edge-clip-"+p+")":"");var Z=P.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e,t){return t}));Z.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var B=T.transition(Z.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,E)).attr("y",(function(e,t,n){var i=s(0)||0;return b&&F[e.series]&&!F[e.series].nonStackable&&(i=s(e.y0)),i})).attr("height",0).remove();B.delay&&B.delay((function(e,t){return t*(E/(D+1))-t})),Z.attr("class",(function(e,t){return"nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})).style("fill",(function(e,t){return w(e,t)})).style("stroke",(function(e,t){return w(e,t)})),Z.style("stroke-opacity",1).style("fill-opacity",.75);var V=Z.selectAll("rect.nv-bar").data((function(e){return k&&!F.length?k.values:e.values}));V.exit().remove(),V.enter().append("rect").attr("class",(function(e,t){return g(e,t)<0?"nv-bar negative":"nv-bar positive"})).attr("x",(function(e,t,n){return b&&!F[n].nonStackable?0:n*d.rangeBand()/F.length})).attr("y",(function(e,t,n){return s(b&&!F[n].nonStackable?e.y0:0)||0})).attr("height",0).attr("width",(function(e,t,n){return d.rangeBand()/(b&&!F[n].nonStackable?1:F.length)})).attr("transform",(function(e,t){return"translate("+d(m(e,t))+",0)"})),V.style("fill",(function(e,t,n){return w(e,n,t)})).style("stroke",(function(e,t,n){return w(e,n,t)})).on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),S.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),S.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})})).on("mousemove",(function(e,t){S.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})})).on("click",(function(e,t){S.elementClick({data:e,index:t,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()})).on("dblclick",(function(e,t){S.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})),V.attr("class",(function(e,t){return g(e,t)<0?"nv-bar negative":"nv-bar positive"})).attr("transform",(function(e,t){return"translate("+d(m(e,t))+",0)"})),x&&(e||(e=F.map((function(){return!0}))),V.style("fill",(function(t,n,i){return d3.rgb(x(t,n)).darker(e.map((function(e,t){return t})).filter((function(t,n){return!e[n]}))[i]).toString()})).style("stroke",(function(t,n,i){return d3.rgb(x(t,n)).darker(e.map((function(e,t){return t})).filter((function(t,n){return!e[n]}))[i]).toString()})));var z=V.watchTransition(T,"multibar",Math.min(250,E)).delay((function(e,t){return t*E/F[0].values.length}));b?z.attr("y",(function(e,t,n){return F[n].nonStackable?g(e,t)<0?h(0):h(0)-h(g(e,t))<-1?h(0)-1:h(g(e,t))||0:h(e.y1)})).attr("height",(function(e,t,n){return F[n].nonStackable?Math.max(Math.abs(h(g(e,t))-h(0)),0)||0:Math.max(Math.abs(h(e.y+e.y0)-h(e.y0)),0)})).attr("x",(function(e,t,n){var i=0;return F[n].nonStackable&&(i=e.series*d.rangeBand()/F.length,F.length!==I&&(i=F[n].nonStackableSeries*d.rangeBand()/(2*I))),i})).attr("width",(function(e,t,n){if(F[n].nonStackable){var i=d.rangeBand()/I;return F.length!==I&&(i=d.rangeBand()/(2*I)),i}return d.rangeBand()})):z.attr("x",(function(e,t){return e.series*d.rangeBand()/F.length})).attr("width",d.rangeBand()/F.length).attr("y",(function(e,t){return g(e,t)<0?h(0):h(0)-h(g(e,t))<1?h(0)-1:h(g(e,t))||0})).attr("height",(function(e,t){return Math.max(Math.abs(h(g(e,t))-h(0)),1)||0})),o=d.copy(),s=h.copy(),F[0]&&F[0].values&&(D=F[0].values.length)})),T.renderEnd("multibar immediate"),F}return F.dispatch=S,F.options=t.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return g},set:function(e){g=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return h},set:function(e){h=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return r},set:function(e){r=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceY:{get:function(){return v},set:function(e){v=e}},stacked:{get:function(){return b},set:function(e){b=e}},stackOffset:{get:function(){return _},set:function(e){_=e}},clipEdge:{get:function(){return y},set:function(e){y=e}},disabled:{get:function(){return e},set:function(t){e=t}},id:{get:function(){return p},set:function(e){p=e}},hideable:{get:function(){return k},set:function(e){k=e}},groupSpacing:{get:function(){return C},set:function(e){C=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},duration:{get:function(){return E},set:function(e){E=e,T.reset(E)}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}},barColor:{get:function(){return x},set:function(e){x=e?t.utils.getColor(e):null}}}),t.utils.initOptions(F),F},t.models.multiBarChart=function(){"use strict";var e,n,i=t.models.multiBar(),r=t.models.axis(),a=t.models.axis(),o=t.interactiveGuideline(),s=t.models.legend(),l=t.models.legend(),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,h=null,p=t.utils.defaultColor(),f=!0,m={},g=!0,v=!0,y=!0,b=!1,_=!0,w=!1,k=!1,x=0,E=t.utils.state(),C=null,S=null,T=d3.dispatch("stateChange","changeState","renderEnd"),D=function(){return f?180:0},F=250,M=!1;E.stacked=!1,i.stacked(!1),r.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat((function(e){return e})),a.orient(b?"right":"left").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter((function(e,t){return a.tickFormat()(e,t)})).headerFormatter((function(e,t){return r.tickFormat()(e,t)})),l.updateState(!1);var A=t.utils.renderWatch(T),I=!1;function O(S){return A.reset(),A.models(i),v&&A.models(r),y&&A.models(a),S.each((function(S){var A=d3.select(this),N=this;t.utils.initSVG(A);var P,R=t.utils.availableWidth(d,A,u),j=t.utils.availableHeight(h,A,u);if(O.update=function(){0===F?A.call(O):A.transition().duration(F).call(O)},O.container=this,E.setter(function(e){return function(t){void 0!==t.stacked&&(I=t.stacked),void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(S),O.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled})),stacked:I}}}(S)).update(),E.disabled=S.map((function(e){return!!e.disabled})),!C)for(P in C={},E)E[P]instanceof Array?C[P]=E[P].slice(0):C[P]=E[P];if(!(S&&S.length&&S.filter((function(e){return e.values.length})).length))return t.utils.noData(O,A),O;A.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale();var L=A.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([S]),q=L.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),Z=L.select("g");if(q.append("g").attr("class","nv-x nv-axis"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-barsWrap"),q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap"),q.append("g").attr("class","nv-interactive"),g&&(s.width(R-D()),Z.select(".nv-legendWrap").datum(S).call(s),u.top!=s.height()&&(u.top=s.height(),j=t.utils.availableHeight(h,A,u)),Z.select(".nv-legendWrap").attr("transform","translate("+D()+","+-u.top+")")),f){var B=[{key:m.grouped||"Grouped",disabled:i.stacked()},{key:m.stacked||"Stacked",disabled:!i.stacked()}];l.width(D()).color(["#444","#444","#444"]),Z.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+-u.top+")").call(l)}if(L.attr("transform","translate("+u.left+","+u.top+")"),b&&Z.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),i.disabled(S.map((function(e){return e.disabled}))).width(R).height(j).color(S.map((function(e,t){return e.color||p(e,t)})).filter((function(e,t){return!S[t].disabled}))),Z.select(".nv-barsWrap").datum(S.filter((function(e){return!e.disabled}))).call(i),v){r.scale(e)._ticks(t.utils.calcTicksX(R/100,S)).tickSize(-j,0),Z.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),Z.select(".nv-x.nv-axis").call(r);var V=Z.select(".nv-x.nv-axis > g").selectAll("g");if(V.selectAll("line, text").style("opacity",1),w){var z=function(e,t){return"translate("+e+","+t+")"};V.selectAll("text").attr("transform",(function(e,t,n){return z(0,n%2==0?5:17)}));var U=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;Z.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",(function(e,t){return z(0,0===t||U%2!=0?17:5)}))}k&&Z.selectAll(".tick text").call(t.utils.wrapTicks,O.xAxis.rangeBand()),_&&V.filter((function(e,t){return t%Math.ceil(S[0].values.length/(R/100))!=0})).selectAll("text, line").style("opacity",0),x&&V.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),Z.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}y&&(a.scale(n)._ticks(t.utils.calcTicksY(j/36,S)).tickSize(-R,0),Z.select(".nv-y.nv-axis").call(a)),M&&(o.width(R).height(j).margin({left:u.left,top:u.top}).svgContainer(A).xScale(e),L.select(".nv-interactive").call(o)),s.dispatch.on("stateChange",(function(e){for(var t in e)E[t]=e[t];T.stateChange(E),O.update()})),l.dispatch.on("legendClick",(function(e,t){if(e.disabled){switch(B=B.map((function(e){return e.disabled=!0,e})),e.disabled=!1,e.key){case"Grouped":case m.grouped:i.stacked(!1);break;case"Stacked":case m.stacked:i.stacked(!0)}E.stacked=i.stacked(),T.stateChange(E),O.update()}})),T.on("changeState",(function(e){void 0!==e.disabled&&(S.forEach((function(t,n){t.disabled=e.disabled[n]})),E.disabled=e.disabled),void 0!==e.stacked&&(i.stacked(e.stacked),E.stacked=e.stacked,I=e.stacked),O.update()})),M?(o.dispatch.on("elementMousemove",(function(t){if(null!=t.pointXValue){var n,i,r,a,s=[];S.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(o,l){i=e.domain().indexOf(t.pointXValue);var c=o.values[i];void 0!==c&&(a=c.x,void 0===n&&(n=c),void 0===r&&(r=t.mouseX),s.push({key:o.key,value:O.y()(c,i),color:p(o,o.seriesIndex),data:o.values[i]}))})),o.tooltip.chartContainer(N.parentNode).data({value:a,index:i,series:s})(),o.renderGuideLine(r)}})),o.dispatch.on("elementMouseout",(function(e){o.tooltip.hidden(!0)}))):(i.dispatch.on("elementMouseover.tooltip",(function(e){e.value=O.x()(e.data),e.series={key:e.data.key,value:O.y()(e.data),color:e.color},c.data(e).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){c.hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(e){c()})))})),A.renderEnd("multibarchart immediate"),O}return O.dispatch=T,O.multibar=i,O.legend=s,O.controls=l,O.xAxis=r,O.yAxis=a,O.state=E,O.tooltip=c,O.interactiveLayer=o,O.options=t.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return h},set:function(e){h=e}},showLegend:{get:function(){return g},set:function(e){g=e}},showControls:{get:function(){return f},set:function(e){f=e}},controlLabels:{get:function(){return m},set:function(e){m=e}},showXAxis:{get:function(){return v},set:function(e){v=e}},showYAxis:{get:function(){return y},set:function(e){y=e}},defaultState:{get:function(){return C},set:function(e){C=e}},noData:{get:function(){return S},set:function(e){S=e}},reduceXTicks:{get:function(){return _},set:function(e){_=e}},rotateLabels:{get:function(){return x},set:function(e){x=e}},staggerLabels:{get:function(){return w},set:function(e){w=e}},wrapLabels:{get:function(){return k},set:function(e){k=!!e}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return F},set:function(e){F=e,i.duration(F),r.duration(F),a.duration(F),A.reset(F)}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e),s.color(p)}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,a.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return M},set:function(e){M=e}},barColor:{get:function(){return i.barColor},set:function(e){i.barColor(e),s.color((function(e,t){return d3.rgb("#ccc").darker(1.5*t).toString()}))}}}),t.utils.inheritOptions(O,i),t.utils.initOptions(O),O},t.models.multiBarHorizontal=function(){"use strict";var e,n,i,r,a,o,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),h=null,p=d3.scale.ordinal(),f=d3.scale.linear(),m=function(e){return e.x},g=function(e){return e.y},v=function(e){return e.yErr},y=[0],b=t.utils.defaultColor(),_=null,w=!1,k=!1,x=60,E=.1,C=d3.format(",.2f"),S=250,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=t.utils.renderWatch(T,S);function F(d){return D.reset(),d.each((function(d){var S=c-l.left-l.right,F=u-l.top-l.bottom;h=d3.select(this),t.utils.initSVG(h),w&&(d=d3.layout.stack().offset("zero").values((function(e){return e.values})).y(g)(d)),d.forEach((function(e,t){e.values.forEach((function(n){n.series=t,n.key=e.key}))})),w&&d[0].values.map((function(e,t){var n=0,i=0;d.map((function(e){var r=e.values[t];r.size=Math.abs(r.y),r.y<0?(r.y1=i-r.size,i-=r.size):(r.y1=n,n+=r.size)}))}));var M=n&&i?[]:d.map((function(e){return e.values.map((function(e,t){return{x:m(e,t),y:g(e,t),y0:e.y0,y1:e.y1}}))}));p.domain(n||d3.merge(M).map((function(e){return e.x}))).rangeBands(r||[0,F],E),f.domain(i||d3.extent(d3.merge(M).map((function(e){return w?e.y>0?e.y1+e.y:e.y1:e.y})).concat(y))),k&&!w?f.range(a||[f.domain()[0]<0?x:0,S-(f.domain()[1]>0?x:0)]):f.range(a||[0,S]),o=o||p,s=s||d3.scale.linear().domain(f.domain()).range([f(0),f(0)]);var A=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([d]),I=A.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),O=(I.append("defs"),I.append("g"));A.select("g"),O.append("g").attr("class","nv-groups"),A.attr("transform","translate("+l.left+","+l.top+")");var N=A.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e,t){return t}));N.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),N.exit().watchTransition(D,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),N.attr("class",(function(e,t){return"nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})).style("fill",(function(e,t){return b(e,t)})).style("stroke",(function(e,t){return b(e,t)})),N.watchTransition(D,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var P=N.selectAll("g.nv-bar").data((function(e){return e.values}));P.exit().remove();var R=P.enter().append("g").attr("transform",(function(e,t,n){return"translate("+s(w?e.y0:0)+","+(w?0:n*p.rangeBand()/d.length+p(m(e,t)))+")"}));R.append("rect").attr("width",0).attr("height",p.rangeBand()/(w?1:d.length)),P.on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),T.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),T.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){T.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})})).on("mousemove",(function(e,t){T.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})})).on("click",(function(e,t){T.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})).on("dblclick",(function(e,t){T.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})),v(d[0],0)&&(R.append("polyline"),P.select("polyline").attr("fill","none").attr("points",(function(e,t){var n=v(e,t),i=.8*p.rangeBand()/(2*(w?1:d.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map((function(e){return f(e)-f(0)})))[0],-i],[n[0],i],[n[0],0],[n[1],0],[n[1],-i],[n[1],i]].map((function(e){return e.join(",")})).join(" ")})).attr("transform",(function(e,t){var n=p.rangeBand()/(2*(w?1:d.length));return"translate("+(g(e,t)<0?0:f(g(e,t))-f(0))+", "+n+")"}))),R.append("text"),k&&!w?(P.select("text").attr("text-anchor",(function(e,t){return g(e,t)<0?"end":"start"})).attr("y",p.rangeBand()/(2*d.length)).attr("dy",".32em").text((function(e,t){var n=C(g(e,t)),i=v(e,t);return void 0===i?n:i.length?n+"+"+C(Math.abs(i[1]))+"-"+C(Math.abs(i[0])):n+"±"+C(Math.abs(i))})),P.watchTransition(D,"multibarhorizontal: bars").select("text").attr("x",(function(e,t){return g(e,t)<0?-4:f(g(e,t))-f(0)+4}))):P.selectAll("text").text(""),P.selectAll("text.nv-bar-label").text(""),P.attr("class",(function(e,t){return g(e,t)<0?"nv-bar negative":"nv-bar positive"})),_&&(e||(e=d.map((function(){return!0}))),P.style("fill",(function(t,n,i){return d3.rgb(_(t,n)).darker(e.map((function(e,t){return t})).filter((function(t,n){return!e[n]}))[i]).toString()})).style("stroke",(function(t,n,i){return d3.rgb(_(t,n)).darker(e.map((function(e,t){return t})).filter((function(t,n){return!e[n]}))[i]).toString()}))),w?P.watchTransition(D,"multibarhorizontal: bars").attr("transform",(function(e,t){return"translate("+f(e.y1)+","+p(m(e,t))+")"})).select("rect").attr("width",(function(e,t){return Math.abs(f(g(e,t)+e.y0)-f(e.y0))||0})).attr("height",p.rangeBand()):P.watchTransition(D,"multibarhorizontal: bars").attr("transform",(function(e,t){return"translate("+(g(e,t)<0?f(g(e,t)):f(0))+","+(e.series*p.rangeBand()/d.length+p(m(e,t)))+")"})).select("rect").attr("height",p.rangeBand()/d.length).attr("width",(function(e,t){return Math.max(Math.abs(f(g(e,t))-f(0)),1)||0})),o=p.copy(),s=f.copy()})),D.renderEnd("multibarHorizontal immediate"),F}return F.dispatch=T,F.options=t.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return g},set:function(e){g=e}},yErr:{get:function(){return v},set:function(e){v=e}},xScale:{get:function(){return p},set:function(e){p=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return r},set:function(e){r=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceY:{get:function(){return y},set:function(e){y=e}},stacked:{get:function(){return w},set:function(e){w=e}},showValues:{get:function(){return k},set:function(e){k=e}},disabled:{get:function(){return e},set:function(t){e=t}},id:{get:function(){return d},set:function(e){d=e}},valueFormat:{get:function(){return C},set:function(e){C=e}},valuePadding:{get:function(){return x},set:function(e){x=e}},groupSpacing:{get:function(){return E},set:function(e){E=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},duration:{get:function(){return S},set:function(e){S=e,D.reset(S)}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}},barColor:{get:function(){return _},set:function(e){_=e?t.utils.getColor(e):null}}}),t.utils.initOptions(F),F},t.models.multiBarHorizontalChart=function(){"use strict";var e,n,i=t.models.multiBarHorizontal(),r=t.models.axis(),a=t.models.axis(),o=t.models.legend().height(30),s=t.models.legend().height(30),l=t.models.tooltip(),c={top:30,right:20,bottom:50,left:60},u=null,d=null,h=t.utils.defaultColor(),p=!0,f={},m=!0,g=!0,v=!0,y=!1,b=t.utils.state(),_=null,w=null,k=d3.dispatch("stateChange","changeState","renderEnd"),x=function(){return p?180:0},E=250;b.stacked=!1,i.stacked(y),r.orient("left").tickPadding(5).showMaxMin(!1).tickFormat((function(e){return e})),a.orient("bottom").tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter((function(e,t){return a.tickFormat()(e,t)})).headerFormatter((function(e,t){return r.tickFormat()(e,t)})),s.updateState(!1);var C=t.utils.renderWatch(k,E);function S(l){return C.reset(),C.models(i),g&&C.models(r),v&&C.models(a),l.each((function(l){var w=d3.select(this);t.utils.initSVG(w);var C,T=t.utils.availableWidth(u,w,c),D=t.utils.availableHeight(d,w,c);if(S.update=function(){w.transition().duration(E).call(S)},S.container=this,y=i.stacked(),b.setter(function(e){return function(t){void 0!==t.stacked&&(y=t.stacked),void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(l),S.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled})),stacked:y}}}(l)).update(),b.disabled=l.map((function(e){return!!e.disabled})),!_)for(C in _={},b)b[C]instanceof Array?_[C]=b[C].slice(0):_[C]=b[C];if(!(l&&l.length&&l.filter((function(e){return e.values.length})).length))return t.utils.noData(S,w),S;w.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale().clamp(!0);var F=w.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([l]),M=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),A=F.select("g");if(M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),M.append("g").attr("class","nv-barsWrap"),M.append("g").attr("class","nv-legendWrap"),M.append("g").attr("class","nv-controlsWrap"),m&&(o.width(T-x()),A.select(".nv-legendWrap").datum(l).call(o),c.top!=o.height()&&(c.top=o.height(),D=t.utils.availableHeight(d,w,c)),A.select(".nv-legendWrap").attr("transform","translate("+x()+","+-c.top+")")),p){var I=[{key:f.grouped||"Grouped",disabled:i.stacked()},{key:f.stacked||"Stacked",disabled:!i.stacked()}];s.width(x()).color(["#444","#444","#444"]),A.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+-c.top+")").call(s)}F.attr("transform","translate("+c.left+","+c.top+")"),i.disabled(l.map((function(e){return e.disabled}))).width(T).height(D).color(l.map((function(e,t){return e.color||h(e,t)})).filter((function(e,t){return!l[t].disabled}))),A.select(".nv-barsWrap").datum(l.filter((function(e){return!e.disabled}))).transition().call(i),g&&(r.scale(e)._ticks(t.utils.calcTicksY(D/24,l)).tickSize(-T,0),A.select(".nv-x.nv-axis").call(r),A.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),v&&(a.scale(n)._ticks(t.utils.calcTicksX(T/100,l)).tickSize(-D,0),A.select(".nv-y.nv-axis").attr("transform","translate(0,"+D+")"),A.select(".nv-y.nv-axis").call(a)),A.select(".nv-zeroLine line").attr("x1",n(0)).attr("x2",n(0)).attr("y1",0).attr("y2",-D),o.dispatch.on("stateChange",(function(e){for(var t in e)b[t]=e[t];k.stateChange(b),S.update()})),s.dispatch.on("legendClick",(function(e,t){if(e.disabled){switch(I=I.map((function(e){return e.disabled=!0,e})),e.disabled=!1,e.key){case"Grouped":case f.grouped:i.stacked(!1);break;case"Stacked":case f.stacked:i.stacked(!0)}b.stacked=i.stacked(),k.stateChange(b),y=i.stacked(),S.update()}})),k.on("changeState",(function(e){void 0!==e.disabled&&(l.forEach((function(t,n){t.disabled=e.disabled[n]})),b.disabled=e.disabled),void 0!==e.stacked&&(i.stacked(e.stacked),b.stacked=e.stacked,y=e.stacked),S.update()}))})),C.renderEnd("multibar horizontal chart immediate"),S}return i.dispatch.on("elementMouseover.tooltip",(function(e){e.value=S.x()(e.data),e.series={key:e.data.key,value:S.y()(e.data),color:e.color},l.data(e).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){l.hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(e){l()})),S.dispatch=k,S.multibar=i,S.legend=o,S.controls=s,S.xAxis=r,S.yAxis=a,S.state=b,S.tooltip=l,S.options=t.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},showLegend:{get:function(){return m},set:function(e){m=e}},showControls:{get:function(){return p},set:function(e){p=e}},controlLabels:{get:function(){return f},set:function(e){f=e}},showXAxis:{get:function(){return g},set:function(e){g=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return _},set:function(e){_=e}},noData:{get:function(){return w},set:function(e){w=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},duration:{get:function(){return E},set:function(e){E=e,C.reset(E),i.duration(E),r.duration(E),a.duration(E)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),o.color(h)}},barColor:{get:function(){return i.barColor},set:function(e){i.barColor(e),o.color((function(e,t){return d3.rgb("#ccc").darker(1.5*t).toString()}))}}}),t.utils.inheritOptions(S,i),t.utils.initOptions(S),S},t.models.multiChart=function(){"use strict";var e,n,i={top:30,right:20,bottom:50,left:60},r=t.utils.defaultColor(),a=null,o=null,s=!0,l=null,c=function(e){return e.x},u=function(e){return e.y},d="monotone",h=!0,p=t.interactiveGuideline(),f=!1,m=" (right axis)",g=d3.scale.linear(),v=d3.scale.linear(),y=d3.scale.linear(),b=t.models.line().yScale(v),_=t.models.line().yScale(y),w=t.models.scatter().yScale(v),k=t.models.scatter().yScale(y),x=t.models.multiBar().stacked(!1).yScale(v),E=t.models.multiBar().stacked(!1).yScale(y),C=t.models.stackedArea().yScale(v),S=t.models.stackedArea().yScale(y),T=t.models.axis().scale(g).orient("bottom").tickPadding(5),D=t.models.axis().scale(v).orient("left"),F=t.models.axis().scale(y).orient("right"),M=t.models.legend().height(30),A=t.models.tooltip(),I=d3.dispatch(),O=[b,_,w,k,x,E,C,S];function N(l){return l.each((function(l){var h=d3.select(this);t.utils.initSVG(h),N.update=function(){h.transition().call(N)},N.container=this;var I=t.utils.availableWidth(a,h,i),P=t.utils.availableHeight(o,h,i),R=l.filter((function(e){return"line"==e.type&&1==e.yAxis})),j=l.filter((function(e){return"line"==e.type&&2==e.yAxis})),L=l.filter((function(e){return"scatter"==e.type&&1==e.yAxis})),q=l.filter((function(e){return"scatter"==e.type&&2==e.yAxis})),Z=l.filter((function(e){return"bar"==e.type&&1==e.yAxis})),B=l.filter((function(e){return"bar"==e.type&&2==e.yAxis})),V=l.filter((function(e){return"area"==e.type&&1==e.yAxis})),z=l.filter((function(e){return"area"==e.type&&2==e.yAxis}));if(!(l&&l.length&&l.filter((function(e){return e.values.length})).length))return t.utils.noData(N,h),N;h.selectAll(".nv-noData").remove();var U=l.filter((function(e){return!e.disabled&&1==e.yAxis})).map((function(e){return e.values.map((function(e,t){return{x:c(e),y:u(e)}}))})),W=l.filter((function(e){return!e.disabled&&2==e.yAxis})).map((function(e){return e.values.map((function(e,t){return{x:c(e),y:u(e)}}))}));g.domain(d3.extent(d3.merge(U.concat(W)),(function(e){return c(e)}))).range([0,I]);var H=h.selectAll("g.wrap.multiChart").data([l]),Y=H.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y1 nv-axis"),Y.append("g").attr("class","nv-y2 nv-axis"),Y.append("g").attr("class","stack1Wrap"),Y.append("g").attr("class","stack2Wrap"),Y.append("g").attr("class","bars1Wrap"),Y.append("g").attr("class","bars2Wrap"),Y.append("g").attr("class","scatters1Wrap"),Y.append("g").attr("class","scatters2Wrap"),Y.append("g").attr("class","lines1Wrap"),Y.append("g").attr("class","lines2Wrap"),Y.append("g").attr("class","legendWrap"),Y.append("g").attr("class","nv-interactive");var $=H.select("g"),K=l.map((function(e,t){return l[t].color||r(e,t)}));if(s){var G=M.align()?I/2:I,X=M.align()?G:0;M.width(G),M.color(K),$.select(".legendWrap").datum(l.map((function(e){return e.originalKey=void 0===e.originalKey?e.key:e.originalKey,e.key=e.originalKey+(1==e.yAxis?"":m),e}))).call(M),i.top!=M.height()&&(i.top=M.height(),P=t.utils.availableHeight(o,h,i)),$.select(".legendWrap").attr("transform","translate("+X+","+-i.top+")")}b.width(I).height(P).interpolate(d).color(K.filter((function(e,t){return!l[t].disabled&&1==l[t].yAxis&&"line"==l[t].type}))),_.width(I).height(P).interpolate(d).color(K.filter((function(e,t){return!l[t].disabled&&2==l[t].yAxis&&"line"==l[t].type}))),w.width(I).height(P).color(K.filter((function(e,t){return!l[t].disabled&&1==l[t].yAxis&&"scatter"==l[t].type}))),k.width(I).height(P).color(K.filter((function(e,t){return!l[t].disabled&&2==l[t].yAxis&&"scatter"==l[t].type}))),x.width(I).height(P).color(K.filter((function(e,t){return!l[t].disabled&&1==l[t].yAxis&&"bar"==l[t].type}))),E.width(I).height(P).color(K.filter((function(e,t){return!l[t].disabled&&2==l[t].yAxis&&"bar"==l[t].type}))),C.width(I).height(P).color(K.filter((function(e,t){return!l[t].disabled&&1==l[t].yAxis&&"area"==l[t].type}))),S.width(I).height(P).color(K.filter((function(e,t){return!l[t].disabled&&2==l[t].yAxis&&"area"==l[t].type}))),$.attr("transform","translate("+i.left+","+i.top+")");var Q=$.select(".lines1Wrap").datum(R.filter((function(e){return!e.disabled}))),J=$.select(".scatters1Wrap").datum(L.filter((function(e){return!e.disabled}))),ee=$.select(".bars1Wrap").datum(Z.filter((function(e){return!e.disabled}))),te=$.select(".stack1Wrap").datum(V.filter((function(e){return!e.disabled}))),ne=$.select(".lines2Wrap").datum(j.filter((function(e){return!e.disabled}))),ie=$.select(".scatters2Wrap").datum(q.filter((function(e){return!e.disabled}))),re=$.select(".bars2Wrap").datum(B.filter((function(e){return!e.disabled}))),ae=$.select(".stack2Wrap").datum(z.filter((function(e){return!e.disabled}))),oe=V.length?V.map((function(e){return e.values})).reduce((function(e,t){return e.map((function(e,n){return{x:e.x,y:e.y+t[n].y}}))})).concat([{x:0,y:0}]):[],se=z.length?z.map((function(e){return e.values})).reduce((function(e,t){return e.map((function(e,n){return{x:e.x,y:e.y+t[n].y}}))})).concat([{x:0,y:0}]):[];function le(e){var t=2===l[e.seriesIndex].yAxis?F:D;e.value=e.point.x,e.series={value:e.point.y,color:e.point.color,key:e.series.key},A.duration(0).valueFormatter((function(e,n){return t.tickFormat()(e,n)})).data(e).hidden(!1)}function ce(e){var t=2===l[e.seriesIndex].yAxis?F:D;e.value=e.point.x,e.series={value:e.point.y,color:e.point.color,key:e.series.key},A.duration(100).valueFormatter((function(e,n){return t.tickFormat()(e,n)})).data(e).hidden(!1)}function ue(e){var t=2===l[e.seriesIndex].yAxis?F:D;e.point.x=C.x()(e.point),e.point.y=C.y()(e.point),A.duration(0).valueFormatter((function(e,n){return t.tickFormat()(e,n)})).data(e).hidden(!1)}function de(e){var t=2===l[e.data.series].yAxis?F:D;e.value=x.x()(e.data),e.series={value:x.y()(e.data),color:e.color,key:e.data.key},A.duration(0).valueFormatter((function(e,n){return t.tickFormat()(e,n)})).data(e).hidden(!1)}function he(){for(var e=0,t=O.length;e<t;e++){var n=O[e];try{n.clearHighlights()}catch(e){}}}v.domain(e||d3.extent(d3.merge(U).concat(oe),(function(e){return e.y}))).range([0,P]),y.domain(n||d3.extent(d3.merge(W).concat(se),(function(e){return e.y}))).range([0,P]),b.yDomain(v.domain()),w.yDomain(v.domain()),x.yDomain(v.domain()),C.yDomain(v.domain()),_.yDomain(y.domain()),k.yDomain(y.domain()),E.yDomain(y.domain()),S.yDomain(y.domain()),V.length&&d3.transition(te).call(C),z.length&&d3.transition(ae).call(S),Z.length&&d3.transition(ee).call(x),B.length&&d3.transition(re).call(E),R.length&&d3.transition(Q).call(b),j.length&&d3.transition(ne).call(_),L.length&&d3.transition(J).call(w),q.length&&d3.transition(ie).call(k),T._ticks(t.utils.calcTicksX(I/100,l)).tickSize(-P,0),$.select(".nv-x.nv-axis").attr("transform","translate(0,"+P+")"),d3.transition($.select(".nv-x.nv-axis")).call(T),D._ticks(t.utils.calcTicksY(P/36,l)).tickSize(-I,0),d3.transition($.select(".nv-y1.nv-axis")).call(D),F._ticks(t.utils.calcTicksY(P/36,l)).tickSize(-I,0),d3.transition($.select(".nv-y2.nv-axis")).call(F),$.select(".nv-y1.nv-axis").classed("nv-disabled",!U.length).attr("transform","translate("+g.range()[0]+",0)"),$.select(".nv-y2.nv-axis").classed("nv-disabled",!W.length).attr("transform","translate("+g.range()[1]+",0)"),M.dispatch.on("stateChange",(function(e){N.update()})),f&&(p.width(I).height(P).margin({left:i.left,top:i.top}).svgContainer(h).xScale(g),H.select(".nv-interactive").call(p)),f?(p.dispatch.on("elementMousemove",(function(e){he();var n,i,a,o=[];l.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(s,l){var c=g.domain(),u=s.values.filter((function(e,t){return N.x()(e,t)>=c[0]&&N.x()(e,t)<=c[1]})),d=u[i=t.interactiveBisect(u,e.pointXValue,N.x())],h=N.y()(d,i);null!==h&&function(e,t,n){for(var i=0,r=O.length;i<r;i++){var a=O[i];try{a.highlightPoint(e,t,n)}catch(e){}}}(l,i,!0),void 0!==d&&(void 0===n&&(n=d),void 0===a&&(a=g(N.x()(d,i))),o.push({key:s.key,value:h,color:r(s,s.seriesIndex),data:d,yAxis:2==s.yAxis?F:D}))})),p.tooltip.chartContainer(N.container.parentNode).valueFormatter((function(e,t){var n=o[t].yAxis;return null===e?"N/A":n.tickFormat()(e)})).data({value:N.x()(n,i),index:i,series:o})(),p.renderGuideLine(a)})),p.dispatch.on("elementMouseout",(function(e){he()}))):(b.dispatch.on("elementMouseover.tooltip",le),_.dispatch.on("elementMouseover.tooltip",le),b.dispatch.on("elementMouseout.tooltip",(function(e){A.hidden(!0)})),_.dispatch.on("elementMouseout.tooltip",(function(e){A.hidden(!0)})),w.dispatch.on("elementMouseover.tooltip",ce),k.dispatch.on("elementMouseover.tooltip",ce),w.dispatch.on("elementMouseout.tooltip",(function(e){A.hidden(!0)})),k.dispatch.on("elementMouseout.tooltip",(function(e){A.hidden(!0)})),C.dispatch.on("elementMouseover.tooltip",ue),S.dispatch.on("elementMouseover.tooltip",ue),C.dispatch.on("elementMouseout.tooltip",(function(e){A.hidden(!0)})),S.dispatch.on("elementMouseout.tooltip",(function(e){A.hidden(!0)})),x.dispatch.on("elementMouseover.tooltip",de),E.dispatch.on("elementMouseover.tooltip",de),x.dispatch.on("elementMouseout.tooltip",(function(e){A.hidden(!0)})),E.dispatch.on("elementMouseout.tooltip",(function(e){A.hidden(!0)})),x.dispatch.on("elementMousemove.tooltip",(function(e){A()})),E.dispatch.on("elementMousemove.tooltip",(function(e){A()})))})),N}return N.dispatch=I,N.legend=M,N.lines1=b,N.lines2=_,N.scatters1=w,N.scatters2=k,N.bars1=x,N.bars2=E,N.stack1=C,N.stack2=S,N.xAxis=T,N.yAxis1=D,N.yAxis2=F,N.tooltip=A,N.interactiveLayer=p,N.options=t.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return o},set:function(e){o=e}},showLegend:{get:function(){return s},set:function(e){s=e}},yDomain1:{get:function(){return e},set:function(t){e=t}},yDomain2:{get:function(){return n},set:function(e){n=e}},noData:{get:function(){return l},set:function(e){l=e}},interpolate:{get:function(){return d},set:function(e){d=e}},legendRightAxisHint:{get:function(){return m},set:function(e){m=e}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},color:{get:function(){return r},set:function(e){r=t.utils.getColor(e)}},x:{get:function(){return c},set:function(e){c=e,b.x(e),_.x(e),w.x(e),k.x(e),x.x(e),E.x(e),C.x(e),S.x(e)}},y:{get:function(){return u},set:function(e){u=e,b.y(e),_.y(e),w.y(e),k.y(e),C.y(e),S.y(e),x.y(e),E.y(e)}},useVoronoi:{get:function(){return h},set:function(e){h=e,b.useVoronoi(e),_.useVoronoi(e),C.useVoronoi(e),S.useVoronoi(e)}},useInteractiveGuideline:{get:function(){return f},set:function(e){(f=e)&&(b.interactive(!1),b.useVoronoi(!1),_.interactive(!1),_.useVoronoi(!1),C.interactive(!1),C.useVoronoi(!1),S.interactive(!1),S.useVoronoi(!1),w.interactive(!1),k.interactive(!1))}}}),t.utils.initOptions(N),N},t.models.ohlcBar=function(){"use strict";var e,n,i,r,a={top:0,right:0,bottom:0,left:0},o=null,s=null,l=Math.floor(1e4*Math.random()),c=null,u=d3.scale.linear(),d=d3.scale.linear(),h=function(e){return e.x},p=function(e){return e.y},f=function(e){return e.open},m=function(e){return e.close},g=function(e){return e.high},v=function(e){return e.low},y=[],b=[],_=!1,w=!0,k=t.utils.defaultColor(),x=!1,E=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function C(x){return x.each((function(x){c=d3.select(this);var C=t.utils.availableWidth(o,c,a),S=t.utils.availableHeight(s,c,a);t.utils.initSVG(c);var T=C/x[0].values.length*.9;u.domain(e||d3.extent(x[0].values.map(h).concat(y))),_?u.range(i||[.5*C/x[0].values.length,C*(x[0].values.length-.5)/x[0].values.length]):u.range(i||[5+T/2,C-T/2-5]),d.domain(n||[d3.min(x[0].values.map(v).concat(b)),d3.max(x[0].values.map(g).concat(b))]).range(r||[S,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var D=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([x[0].values]),F=D.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),M=F.append("defs"),A=F.append("g"),I=D.select("g");A.append("g").attr("class","nv-ticks"),D.attr("transform","translate("+a.left+","+a.top+")"),c.on("click",(function(e,t){E.chartClick({data:e,index:t,pos:d3.event,id:l})})),M.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),D.select("#nv-chart-clip-path-"+l+" rect").attr("width",C).attr("height",S),I.attr("clip-path",w?"url(#nv-chart-clip-path-"+l+")":"");var O=D.select(".nv-ticks").selectAll(".nv-tick").data((function(e){return e}));O.exit().remove(),O.enter().append("path").attr("class",(function(e,t,n){return(f(e,t)>m(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t})).attr("d",(function(e,t){return"m0,0l0,"+(d(f(e,t))-d(g(e,t)))+"l"+-T/2+",0l"+T/2+",0l0,"+(d(v(e,t))-d(f(e,t)))+"l0,"+(d(m(e,t))-d(v(e,t)))+"l"+T/2+",0l"+-T/2+",0z"})).attr("transform",(function(e,t){return"translate("+u(h(e,t))+","+d(g(e,t))+")"})).attr("fill",(function(e,t){return k[0]})).attr("stroke",(function(e,t){return k[0]})).attr("x",0).attr("y",(function(e,t){return d(Math.max(0,p(e,t)))})).attr("height",(function(e,t){return Math.abs(d(p(e,t))-d(0))})),O.attr("class",(function(e,t,n){return(f(e,t)>m(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t})),d3.transition(O).attr("transform",(function(e,t){return"translate("+u(h(e,t))+","+d(g(e,t))+")"})).attr("d",(function(e,t){var n=C/x[0].values.length*.9;return"m0,0l0,"+(d(f(e,t))-d(g(e,t)))+"l"+-n/2+",0l"+n/2+",0l0,"+(d(v(e,t))-d(f(e,t)))+"l0,"+(d(m(e,t))-d(v(e,t)))+"l"+n/2+",0l"+-n/2+",0z"}))})),C}return C.highlightPoint=function(e,t){C.clearHighlights(),c.select(".nv-ohlcBar .nv-tick-0-"+e).classed("hover",t)},C.clearHighlights=function(){c.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},C.dispatch=E,C.options=t.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return o},set:function(e){o=e}},height:{get:function(){return s},set:function(e){s=e}},xScale:{get:function(){return u},set:function(e){u=e}},yScale:{get:function(){return d},set:function(e){d=e}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(e){n=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return r},set:function(e){r=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return b},set:function(e){b=e}},padData:{get:function(){return _},set:function(e){_=e}},clipEdge:{get:function(){return w},set:function(e){w=e}},id:{get:function(){return l},set:function(e){l=e}},interactive:{get:function(){return x},set:function(e){x=e}},x:{get:function(){return h},set:function(e){h=e}},y:{get:function(){return p},set:function(e){p=e}},open:{get:function(){return f()},set:function(e){f=e}},close:{get:function(){return m()},set:function(e){m=e}},high:{get:function(){return g},set:function(e){g=e}},low:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return a},set:function(e){a.top=null!=e.top?e.top:a.top,a.right=null!=e.right?e.right:a.right,a.bottom=null!=e.bottom?e.bottom:a.bottom,a.left=null!=e.left?e.left:a.left}},color:{get:function(){return k},set:function(e){k=t.utils.getColor(e)}}}),t.utils.initOptions(C),C},t.models.parallelCoordinates=function(){"use strict";var e,n,i,r={top:30,right:0,bottom:10,left:0},a=null,o=null,s=d3.scale.ordinal(),l={},c=[],u=[],d=[],h=!0,p=t.utils.defaultColor(),f=[],m=[],g=[],v=[],y=1,b=d3.svg.line(),_=d3.svg.axis(),w=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),k=t.utils.renderWatch(w);function x(E){return k.reset(),E.each((function(k){var x=d3.select(this),E=t.utils.availableWidth(a,x,r),C=t.utils.availableHeight(o,x,r);if(t.utils.initSVG(x),void 0===k[0].values){var S=[];k.forEach((function(e){var t={};Object.keys(e).forEach((function(n){"name"!==n&&(t[n]=e[n])})),S.push({key:e.name,values:t})})),k=S}var T=k.map((function(e){return e.values}));0===m.length&&(m=k),d=c.sort((function(e,t){return e.currentPosition-t.currentPosition})).map((function(e){return e.key})),u=c.filter((function(e){return!e.disabled})),s.rangePoints([0,E],1).domain(u.map((function(e){return e.key})));var D={},F=!1;d.forEach((function(e){var t=d3.extent(T,(function(t){return+t[e]})),n=t[0],i=t[1],r=!1;(isNaN(n)||isNaN(i))&&(r=!0,n=0,i=0),n===i&&(n-=1,i+=1);var a=f.filter((function(t){return t.dimension==e}));0!==a.length&&(r?(n=l[e].domain()[0],i=l[e].domain()[1]):!a[0].hasOnlyNaN&&h?(n=n>a[0].extent[0]?a[0].extent[0]:n,i=i<a[0].extent[1]?a[0].extent[1]:i):a[0].hasNaN&&(i=i<a[0].extent[1]?a[0].extent[1]:i,D[e]=l[e].domain()[1],F=!0)),l[e]=d3.scale.linear().domain([n,i]).range([.9*(C-12),0]),v=[],l[e].brush=d3.svg.brush().y(l[e]).on("brushstart",U).on("brush",W).on("brushend",H)}));var M=x.selectAll("g.nv-wrap.nv-parallelCoordinates").data([k]),A=M.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),I=M.select("g");A.append("g").attr("class","nv-parallelCoordinates background"),A.append("g").attr("class","nv-parallelCoordinates foreground"),A.append("g").attr("class","nv-parallelCoordinates missingValuesline"),M.attr("transform","translate("+r.left+","+r.top+")"),b.interpolate("cardinal").tension(y),_.orient("left");var O,N,P=d3.behavior.drag().on("dragstart",(function(e){g[e.key]=this.parentNode.__origin__=s(e.key),n.attr("visibility","hidden")})).on("drag",(function(t){g[t.key]=Math.min(E,Math.max(0,this.parentNode.__origin__+=d3.event.x)),e.attr("d",V),u.sort((function(e,t){return Y(e.key)-Y(t.key)})),u.forEach((function(e,t){return e.currentPosition=t})),s.domain(u.map((function(e){return e.key}))),i.attr("transform",(function(e){return"translate("+Y(e.key)+")"}))})).on("dragend",(function(t,i){delete this.parentNode.__origin__,delete g[t.key],d3.select(this.parentNode).attr("transform","translate("+s(t.key)+")"),e.attr("d",V),n.attr("d",V).attr("visibility",null),w.dimensionsOrder(u)})),R=s.range()[1]-s.range()[0];if(!isNaN(R)){var j=[0+R/2,C-12,E-R/2,C-12];(O=M.select(".missingValuesline").selectAll("line").data([j])).enter().append("line"),O.exit().remove(),O.attr("x1",(function(e){return e[0]})).attr("y1",(function(e){return e[1]})).attr("x2",(function(e){return e[2]})).attr("y2",(function(e){return e[3]})),(N=M.select(".missingValuesline").selectAll("text").data(["undefined values"])).append("text").data(["undefined values"]),N.enter().append("text"),N.exit().remove(),N.attr("y",C).attr("x",E-92-R/2).text((function(e){return e}))}(n=M.select(".background").selectAll("path").data(k)).enter().append("path"),n.exit().remove(),n.attr("d",V),(e=M.select(".foreground").selectAll("path").data(k)).enter().append("path"),e.exit().remove(),e.attr("d",V).style("stroke-width",(function(e,t){return isNaN(e.strokeWidth)&&(e.strokeWidth=1),e.strokeWidth})).attr("stroke",(function(e,t){return e.color||p(e,t)})),e.on("mouseover",(function(e,t){d3.select(this).classed("hover",!0).style("stroke-width",e.strokeWidth+2+"px").style("stroke-opacity",1),w.elementMouseover({label:e.name,color:e.color||p(e,t)})})),e.on("mouseout",(function(e,t){d3.select(this).classed("hover",!1).style("stroke-width",e.strokeWidth+"px").style("stroke-opacity",.7),w.elementMouseout({label:e.name,index:t})})),e.on("mousemove",(function(e,t){w.elementMousemove()})),e.on("click",(function(e){w.elementClick({id:e.id})}));var L=(i=I.selectAll(".dimension").data(u)).enter().append("g").attr("class","nv-parallelCoordinates dimension");i.attr("transform",(function(e){return"translate("+s(e.key)+",0)"})),L.append("g").attr("class","nv-axis"),L.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",(function(e,t){w.elementMouseover({label:e.tooltip||e.key})})).on("mouseout",(function(e,t){w.elementMouseout({label:e.tooltip})})).on("mousemove",(function(e,t){w.elementMousemove()})).call(P),L.append("g").attr("class","nv-brushBackground"),i.exit().remove(),i.select(".nv-label").text((function(e){return e.key})),i.select(".nv-axis").each((function(e,t){d3.select(this).call(_.scale(l[e.key]).tickFormat(d3.format(e.format)))})),z(h);var q=d.filter((function(e){return!l[e].brush.empty()})),Z=q.map((function(e){return l[e].brush.extent()})),B=m.slice(0);function V(e){return b(u.map((function(t){if(isNaN(e.values[t.key])||isNaN(parseFloat(e.values[t.key]))||F){var n=l[t.key].domain(),i=l[t.key].range(),r=n[0]-(n[1]-n[0])/9;if(v.indexOf(t.key)<0){var a=d3.scale.linear().domain([r,n[1]]).range([C-12,i[1]]);l[t.key].brush.y(a),v.push(t.key)}if(isNaN(e.values[t.key])||isNaN(parseFloat(e.values[t.key])))return[s(t.key),l[t.key](r)]}return void 0!==O&&(v.length>0||F?(O.style("display","inline"),N.style("display","inline")):(O.style("display","none"),N.style("display","none"))),[s(t.key),l[t.key](e.values[t.key])]})))}function z(e){f.forEach((function(t){var n=l[t.dimension].brush.y().domain();t.hasOnlyNaN&&(t.extent[1]=(l[t.dimension].domain()[1]-n[0])*(t.extent[1]-t.extent[0])/(D[t.dimension]-t.extent[0])+n[0]),t.hasNaN&&(t.extent[0]=n[0]),e&&l[t.dimension].brush.extent(t.extent)})),i.select(".nv-brushBackground").each((function(e){d3.select(this).call(l[e.key].brush)})).selectAll("rect").attr("x",-8).attr("width",16)}function U(){!1===h&&z(!0)}function W(){q=d.filter((function(e){return!l[e].brush.empty()})),Z=q.map((function(e){return l[e].brush.extent()})),f=[],q.forEach((function(e,t){f[t]={dimension:e,extent:Z[t],hasNaN:!1,hasOnlyNaN:!1}})),m=[],e.style("display",(function(e){var t=q.every((function(t,n){return!(!isNaN(e.values[t])&&!isNaN(parseFloat(e.values[t]))||Z[n][0]!=l[t].brush.y().domain()[0])||Z[n][0]<=e.values[t]&&e.values[t]<=Z[n][1]&&!isNaN(parseFloat(e.values[t]))}));return t&&m.push(e),t?null:"none"})),w.brush({filters:f,active:m})}function H(){var e=q.length>0;f.forEach((function(e){e.extent[0]===l[e.dimension].brush.y().domain()[0]&&v.indexOf(e.dimension)>=0&&(e.hasNaN=!0),e.extent[1]<l[e.dimension].domain()[0]&&(e.hasOnlyNaN=!0)})),w.brushEnd(m,e)}function Y(e){var t=g[e];return null==t?s(e):t}m=[],e.style("display",(function(e){var t=q.every((function(t,n){return!(!isNaN(e.values[t])&&!isNaN(parseFloat(e.values[t]))||Z[n][0]!=l[t].brush.y().domain()[0])||Z[n][0]<=e.values[t]&&e.values[t]<=Z[n][1]&&!isNaN(parseFloat(e.values[t]))}));return t&&m.push(e),t?null:"none"})),(f.length>0||!t.utils.arrayEquals(m,B))&&w.activeChanged(m)})),x}return x.dispatch=w,x.options=t.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return o},set:function(e){o=e}},dimensionData:{get:function(){return c},set:function(e){c=e}},displayBrush:{get:function(){return h},set:function(e){h=e}},filters:{get:function(){return f},set:function(e){f=e}},active:{get:function(){return m},set:function(e){m=e}},lineTension:{get:function(){return y},set:function(e){y=e}},dimensions:{get:function(){return c.map((function(e){return e.key}))},set:function(e){t.deprecated("dimensions","use dimensionData instead"),0===c.length?e.forEach((function(e){c.push({key:e})})):e.forEach((function(e,t){c[t].key=e}))}},dimensionNames:{get:function(){return c.map((function(e){return e.key}))},set:function(e){t.deprecated("dimensionNames","use dimensionData instead"),d=[],0===c.length?e.forEach((function(e){c.push({key:e})})):e.forEach((function(e,t){c[t].key=e}))}},dimensionFormats:{get:function(){return c.map((function(e){return e.format}))},set:function(e){t.deprecated("dimensionFormats","use dimensionData instead"),0===c.length?e.forEach((function(e){c.push({format:e})})):e.forEach((function(e,t){c[t].format=e}))}},margin:{get:function(){return r},set:function(e){r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e)}}}),t.utils.initOptions(x),x},t.models.parallelCoordinatesChart=function(){"use strict";var e=t.models.parallelCoordinates(),n=t.models.legend(),i=t.models.tooltip(),r=(t.models.tooltip(),{top:0,right:0,bottom:0,left:0}),a=null,o=null,s=!0,l=t.utils.defaultColor(),c=t.utils.state(),u=[],d=[],h=!0,p=null,f=null,m=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),g=t.utils.renderWatch(m);function v(i){return g.reset(),g.models(e),i.each((function(i){var l=d3.select(this);t.utils.initSVG(l);var f=t.utils.availableWidth(a,l,r),g=t.utils.availableHeight(o,l,r);v.update=function(){l.call(v)},v.container=this,c.setter(function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(u),v.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}}(u)).update(),c.disabled=u.map((function(e){return!!e.disabled})),(u=u.map((function(e){return e.disabled=!!e.disabled,e}))).forEach((function(e,t){e.originalPosition=isNaN(e.originalPosition)?t:e.originalPosition,e.currentPosition=isNaN(e.currentPosition)?t:e.currentPosition}));var y,b=d.map((function(e){return e.key})),_=u.map((function(e){return e.key}));if(u.forEach((function(e,t){var n=b.indexOf(e.key);if(n<0)d.splice(t,0,e);else{var i=d[n].currentPosition-d[n].originalPosition;d[n].originalPosition=e.originalPosition,d[n].currentPosition=e.originalPosition+i}})),d=d.filter((function(e){return _.indexOf(e.key)>=0})),!p)for(y in p={},c)c[y]instanceof Array?p[y]=c[y].slice(0):p[y]=c[y];if(!i||!i.length)return t.utils.noData(v,l),v;l.selectAll(".nv-noData").remove();var w=l.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([i]),k=w.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),x=w.select("g");k.append("g").attr("class","nv-parallelCoordinatesWrap"),k.append("g").attr("class","nv-legendWrap"),x.select("rect").attr("width",f).attr("height",g>0?g:0),s&&(n.width(f).color((function(e){return"rgb(188,190,192)"})),x.select(".nv-legendWrap").datum(d.sort((function(e,t){return e.originalPosition-t.originalPosition}))).call(n),r.top!=n.height()&&(r.top=n.height(),g=t.utils.availableHeight(o,l,r)),w.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-r.top+")")),w.attr("transform","translate("+r.left+","+r.top+")"),e.width(f).height(g).dimensionData(d).displayBrush(h),x.select(".nv-parallelCoordinatesWrap ").datum(i).transition().call(e),e.dispatch.on("brushEnd",(function(e,t){t?(h=!0,m.brushEnd(e)):h=!1})),n.dispatch.on("stateChange",(function(e){for(var t in e)c[t]=e[t];m.stateChange(c),v.update()})),e.dispatch.on("dimensionsOrder",(function(e){d.sort((function(e,t){return e.currentPosition-t.currentPosition}));var t=!1;d.forEach((function(e,n){e.currentPosition=n,e.currentPosition!==e.originalPosition&&(t=!0)})),m.dimensionsOrder(d,t)})),m.on("changeState",(function(e){void 0!==e.disabled&&(d.forEach((function(t,n){t.disabled=e.disabled[n]})),c.disabled=e.disabled),v.update()}))})),g.renderEnd("parraleleCoordinateChart immediate"),v}return e.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:e.label,color:e.color},i.data(e).hidden(!1)})),e.dispatch.on("elementMouseout.tooltip",(function(e){i.hidden(!0)})),e.dispatch.on("elementMousemove.tooltip",(function(){i()})),v.dispatch=m,v.parallelCoordinates=e,v.legend=n,v.tooltip=i,v.options=t.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return o},set:function(e){o=e}},showLegend:{get:function(){return s},set:function(e){s=e}},defaultState:{get:function(){return p},set:function(e){p=e}},dimensionData:{get:function(){return u},set:function(e){u=e}},displayBrush:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return f},set:function(e){f=e}},margin:{get:function(){return r},set:function(e){r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left}},color:{get:function(){return l},set:function(i){l=t.utils.getColor(i),n.color(l),e.color(l)}}}),t.utils.inheritOptions(v,e),t.utils.initOptions(v),v},t.models.pie=function(){"use strict";var e={top:0,right:0,bottom:0,left:0},n=500,i=500,r=function(e){return e.x},a=function(e){return e.y},o=Math.floor(1e4*Math.random()),s=null,l=t.utils.defaultColor(),c=d3.format(",.2f"),u=!0,d=!1,h="key",p=.02,f=!1,m=!1,g=!0,v=0,y=!1,b=!1,_=!1,w=!1,k=0,x=.5,E=[],C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),S=[],T=[],D=t.utils.renderWatch(C);function F(M){return D.reset(),M.each((function(F){var M=n-e.left-e.right,A=i-e.top-e.bottom,I=Math.min(M,A)/2,O=[],N=[];if(s=d3.select(this),0===E.length)for(var P=I-I/5,R=x*I,j=0;j<F[0].length;j++)O.push(P),N.push(R);else O=E.map((function(e){return(e.outer-e.outer/5)*I})),N=E.map((function(e){return(e.inner-e.inner/5)*I})),x=d3.min(E.map((function(e){return e.inner-e.inner/5})));t.utils.initSVG(s);var L=s.selectAll(".nv-wrap.nv-pie").data(F),q=L.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+o).append("g"),Z=L.select("g"),B=q.append("g").attr("class","nv-pie");for(q.append("g").attr("class","nv-pieLabels"),L.attr("transform","translate("+e.left+","+e.top+")"),Z.select(".nv-pie").attr("transform","translate("+M/2+","+A/2+")"),Z.select(".nv-pieLabels").attr("transform","translate("+M/2+","+A/2+")"),s.on("click",(function(e,t){C.chartClick({data:e,index:t,pos:d3.event,id:o})})),S=[],T=[],j=0;j<F[0].length;j++){var V=d3.svg.arc().outerRadius(O[j]),z=d3.svg.arc().outerRadius(O[j]+5);!1!==b&&(V.startAngle(b),z.startAngle(b)),!1!==w&&(V.endAngle(w),z.endAngle(w)),f&&(V.innerRadius(N[j]),z.innerRadius(N[j])),V.cornerRadius&&k&&(V.cornerRadius(k),z.cornerRadius(k)),S.push(V),T.push(z)}var U=d3.layout.pie().sort(null).value((function(e){return e.disabled?0:a(e)}));U.padAngle&&_&&U.padAngle(_),f&&m&&(B.append("text").attr("class","nv-pie-title"),L.select(".nv-pie-title").style("text-anchor","middle").text((function(e){return m})).style("font-size",Math.min(M,A)*x*2/(m.length+2)+"px").attr("dy","0.35em").attr("transform",(function(e,t){return"translate(0, "+v+")"})));var W=L.select(".nv-pie").selectAll(".nv-slice").data(U),H=L.select(".nv-pieLabels").selectAll(".nv-label").data(U);W.exit().remove(),H.exit().remove();var Y=W.enter().append("g");if(Y.attr("class","nv-slice"),Y.on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),g&&d3.select(this).select("path").transition().duration(70).attr("d",T[t]),C.elementMouseover({data:e.data,index:t,color:d3.select(this).style("fill")})})),Y.on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),g&&d3.select(this).select("path").transition().duration(50).attr("d",S[t]),C.elementMouseout({data:e.data,index:t})})),Y.on("mousemove",(function(e,t){C.elementMousemove({data:e.data,index:t})})),Y.on("click",(function(e,t){C.elementClick({data:e.data,index:t,color:d3.select(this).style("fill"),event:d3.event,element:this})})),Y.on("dblclick",(function(e,t){C.elementDblClick({data:e.data,index:t,color:d3.select(this).style("fill")})})),W.attr("fill",(function(e,t){return l(e.data,t)})),W.attr("stroke",(function(e,t){return l(e.data,t)})),Y.append("path").each((function(e){this._current=e})),W.select("path").transition().attr("d",(function(e,t){return S[t](e)})).attrTween("d",(function(e,t){e.endAngle=isNaN(e.endAngle)?0:e.endAngle,e.startAngle=isNaN(e.startAngle)?0:e.startAngle,f||(e.innerRadius=0);var n=d3.interpolate(this._current,e);return this._current=n(0),function(e){return S[t](n(e))}})),u){var $=[];for(j=0;j<F[0].length;j++)$.push(S[j]),d?f&&($[j]=d3.svg.arc().outerRadius(S[j].outerRadius()),!1!==b&&$[j].startAngle(b),!1!==w&&$[j].endAngle(w)):f||$[j].innerRadius(0);H.enter().append("g").classed("nv-label",!0).each((function(e,t){var n=d3.select(this);n.attr("transform",(function(e,t){if(y){e.outerRadius=O[t]+10,e.innerRadius=O[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+$[t].centroid(e)+") rotate("+n+")"}return e.outerRadius=I+10,e.innerRadius=I+15,"translate("+$[t].centroid(e)+")"})),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",y?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}));var K={},G=function(e){return 140*Math.floor(e[0]/140)+","+14*Math.floor(e[1]/14)},X=function(e){return(e.endAngle-e.startAngle)/(2*Math.PI)};H.watchTransition(D,"pie labels").attr("transform",(function(e,t){if(y){e.outerRadius=O[t]+10,e.innerRadius=O[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+$[t].centroid(e)+") rotate("+n+")"}e.outerRadius=I+10,e.innerRadius=I+15;var i=$[t].centroid(e),r=X(e);if(e.value&&r>=p){var a=G(i);K[a]&&(i[1]-=14),K[G(i)]=!0}return"translate("+i+")"})),H.select(".nv-label text").style("text-anchor",(function(e,t){return y?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle"})).text((function(e,t){var n=X(e),i="";if(!e.value||n<p)return"";if("function"==typeof h)i=h(e,t,{key:r(e.data),value:a(e.data),percent:c(n)});else switch(h){case"key":i=r(e.data);break;case"value":i=c(a(e.data));break;case"percent":i=d3.format("%")(n)}return i}))}})),D.renderEnd("pie immediate"),F}return F.dispatch=C,F.options=t.utils.optionsFunc.bind(F),F._options=Object.create({},{arcsRadius:{get:function(){return E},set:function(e){E=e}},width:{get:function(){return n},set:function(e){n=e}},height:{get:function(){return i},set:function(e){i=e}},showLabels:{get:function(){return u},set:function(e){u=e}},title:{get:function(){return m},set:function(e){m=e}},titleOffset:{get:function(){return v},set:function(e){v=e}},labelThreshold:{get:function(){return p},set:function(e){p=e}},valueFormat:{get:function(){return c},set:function(e){c=e}},x:{get:function(){return r},set:function(e){r=e}},id:{get:function(){return o},set:function(e){o=e}},endAngle:{get:function(){return w},set:function(e){w=e}},startAngle:{get:function(){return b},set:function(e){b=e}},padAngle:{get:function(){return _},set:function(e){_=e}},cornerRadius:{get:function(){return k},set:function(e){k=e}},donutRatio:{get:function(){return x},set:function(e){x=e}},labelsOutside:{get:function(){return d},set:function(e){d=e}},labelSunbeamLayout:{get:function(){return y},set:function(e){y=e}},donut:{get:function(){return f},set:function(e){f=e}},growOnHover:{get:function(){return g},set:function(e){g=e}},pieLabelsOutside:{get:function(){return d},set:function(e){d=e,t.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return d},set:function(e){d=e,t.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return c},set:function(e){c=e,t.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},y:{get:function(){return a},set:function(e){a=d3.functor(e)}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}},labelType:{get:function(){return h},set:function(e){h=e||"key"}}}),t.utils.initOptions(F),F},t.models.pieChart=function(){"use strict";var e=t.models.pie(),n=t.models.legend(),i=t.models.tooltip(),r={top:30,right:20,bottom:20,left:20},a=!0,o="top",s=t.utils.defaultColor(),l=t.utils.state(),c=null,u=null,d=250,h=d3.dispatch("stateChange","changeState","renderEnd");i.duration(0).headerEnabled(!1).valueFormatter((function(t,n){return e.valueFormat()(t,n)}));var p=t.utils.renderWatch(h);function f(i){return p.reset(),p.models(e),i.each((function(i){var s=d3.select(this);t.utils.initSVG(s);var u,d=t.utils.availableWidth(null,s,r),p=t.utils.availableHeight(null,s,r);if(f.update=function(){s.transition().call(f)},f.container=this,l.setter(function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(i),f.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}}(i)).update(),l.disabled=i.map((function(e){return!!e.disabled})),!c)for(u in c={},l)l[u]instanceof Array?c[u]=l[u].slice(0):c[u]=l[u];if(!i||!i.length)return t.utils.noData(f,s),f;s.selectAll(".nv-noData").remove();var m=s.selectAll("g.nv-wrap.nv-pieChart").data([i]),g=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),v=m.select("g");if(g.append("g").attr("class","nv-pieWrap"),g.append("g").attr("class","nv-legendWrap"),a)if("top"===o)n.width(d).key(e.x()),m.select(".nv-legendWrap").datum(i).call(n),r.top!=n.height()&&(r.top=n.height(),p=t.utils.availableHeight(null,s,r)),m.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")");else if("right"===o){var y=t.models.legend().width();d/2<y&&(y=d/2),n.height(p).key(e.x()),n.width(y),d-=n.width(),m.select(".nv-legendWrap").datum(i).call(n).attr("transform","translate("+d+",0)")}m.attr("transform","translate("+r.left+","+r.top+")"),e.width(d).height(p);var b=v.select(".nv-pieWrap").datum([i]);d3.transition(b).call(e),n.dispatch.on("stateChange",(function(e){for(var t in e)l[t]=e[t];h.stateChange(l),f.update()})),h.on("changeState",(function(e){void 0!==e.disabled&&(i.forEach((function(t,n){t.disabled=e.disabled[n]})),l.disabled=e.disabled),f.update()}))})),p.renderEnd("pieChart immediate"),f}return e.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:f.x()(e.data),value:f.y()(e.data),color:e.color},i.data(e).hidden(!1)})),e.dispatch.on("elementMouseout.tooltip",(function(e){i.hidden(!0)})),e.dispatch.on("elementMousemove.tooltip",(function(e){i()})),f.legend=n,f.dispatch=h,f.pie=e,f.tooltip=i,f.options=t.utils.optionsFunc.bind(f),f._options=Object.create({},{noData:{get:function(){return u},set:function(e){u=e}},showLegend:{get:function(){return a},set:function(e){a=e}},legendPosition:{get:function(){return o},set:function(e){o=e}},defaultState:{get:function(){return c},set:function(e){c=e}},color:{get:function(){return s},set:function(t){s=t,n.color(s),e.color(s)}},duration:{get:function(){return d},set:function(e){d=e,p.reset(d)}},margin:{get:function(){return r},set:function(e){r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left}}}),t.utils.inheritOptions(f,e),t.utils.initOptions(f),f},t.models.scatter=function(){"use strict";var e,n,i,r,a={top:0,right:0,bottom:0,left:0},o=null,s=null,l=t.utils.defaultColor(),c=Math.floor(1e5*Math.random()),u=null,d=d3.scale.linear(),h=d3.scale.linear(),p=d3.scale.linear(),f=function(e){return e.x},m=function(e){return e.y},g=function(e){return e.size||1},v=function(e){return e.shape||"circle"},y=[],b=[],_=[],w=!0,k=function(e){return!e.notActive},x=!1,E=.1,C=!1,S=!0,T=!1,D=function(){return 25},F=null,M=null,A=null,I=null,O=null,N=null,P=!1,R=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),j=!0,L=250,q=300,Z=!1,B=t.utils.renderWatch(R,L),V=[16,256];function z(L){return B.reset(),L.each((function(L){u=d3.select(this);var U=t.utils.availableWidth(o,u,a),W=t.utils.availableHeight(s,u,a);t.utils.initSVG(u),L.forEach((function(e,t){e.values.forEach((function(e){e.series=t}))}));var H=F&&M&&O?[]:d3.merge(L.map((function(e){return e.values.map((function(e,t){return{x:f(e,t),y:m(e,t),size:g(e,t)}}))})));if(d.domain(F||d3.extent(H.map((function(e){return e.x})).concat(y))),x&&L[0]?d.range(A||[(U*E+U)/(2*L[0].values.length),U-U*(1+E)/(2*L[0].values.length)]):d.range(A||[0,U]),"o"===z.yScale().name){var Y=d3.min(H.map((function(e){if(0!==e.y)return e.y})));h.clamp(!0).domain(M||d3.extent(H.map((function(e){return 0!==e.y?e.y:.1*Y})).concat(b))).range(I||[W,0])}else h.domain(M||d3.extent(H.map((function(e){return e.y})).concat(b))).range(I||[W,0]);p.domain(O||d3.extent(H.map((function(e){return e.size})).concat(_))).range(N||V),P=d.domain()[0]===d.domain()[1]||h.domain()[0]===h.domain()[1],d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),isNaN(d.domain()[0])&&d.domain([-1,1]),isNaN(h.domain()[0])&&h.domain([-1,1]),e=e||d,n=n||h,i=i||p;var $=u.selectAll("g.nv-wrap.nv-scatter").data([L]),K=$.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+c),G=K.append("defs"),X=K.append("g"),Q=$.select("g");function J(){if(Z=!1,!w)return!1;if(!0===j){var e=d3.merge(L.map((function(e,t){return e.values.map((function(e,n){var i=f(e,n),r=m(e,n);return[d(i)+1e-4*Math.random(),h(r)+1e-4*Math.random(),t,n,e]})).filter((function(e,t){return k(e[4],t)}))})));if(0==e.length)return!1;e.length<3&&(e.push([d.range()[0]-20,h.range()[0]-20,null,null]),e.push([d.range()[1]+20,h.range()[1]+20,null,null]),e.push([d.range()[0]-20,h.range()[0]+20,null,null]),e.push([d.range()[1]+20,h.range()[1]-20,null,null]));var t=d3.geom.polygon([[-10,-10],[-10,s+10],[o+10,s+10],[o+10,-10]]),n=d3.geom.voronoi(e).map((function(n,i){return{data:t.clip(n),series:e[i][2],point:e[i][3]}}));$.select(".nv-point-paths").selectAll("path").remove();var i=$.select(".nv-point-paths").selectAll("path").data(n),r=i.enter().append("svg:path").attr("d",(function(e){return e&&e.data&&0!==e.data.length?"M"+e.data.join(",")+"Z":"M 0 0"})).attr("id",(function(e,t){return"nv-path-"+t})).attr("clip-path",(function(e,t){return"url(#nv-clip-"+c+"-"+t+")"}));T&&r.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),S&&($.select(".nv-point-clips").selectAll("*").remove(),$.select(".nv-point-clips").selectAll("clipPath").data(e).enter().append("svg:clipPath").attr("id",(function(e,t){return"nv-clip-"+c+"-"+t})).append("svg:circle").attr("cx",(function(e){return e[0]})).attr("cy",(function(e){return e[1]})).attr("r",D));var p=function(e,t){if(Z)return 0;var n=L[e.series];if(void 0!==n){var i=n.values[e.point];i.color=l(n,e.series),i.x=f(i),i.y=m(i);var r=u.node().getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;t({point:i,series:n,pos:{left:d(f(i,e.point))+r.left+s+a.left+10,top:h(m(i,e.point))+r.top+o+a.top+10},relativePos:[d(f(i,e.point))+a.left,h(m(i,e.point))+a.top],seriesIndex:e.series,pointIndex:e.point})}};i.on("click",(function(e){p(e,R.elementClick)})).on("dblclick",(function(e){p(e,R.elementDblClick)})).on("mouseover",(function(e){p(e,R.elementMouseover)})).on("mouseout",(function(e,t){p(e,R.elementMouseout)}))}else $.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",(function(e,t){if(Z||!L[e.series])return 0;var n=L[e.series],i=n.values[t];R.elementClick({point:i,series:n,pos:[d(f(i,t))+a.left,h(m(i,t))+a.top],relativePos:[d(f(i,t))+a.left,h(m(i,t))+a.top],seriesIndex:e.series,pointIndex:t})})).on("dblclick",(function(e,t){if(Z||!L[e.series])return 0;var n=L[e.series],i=n.values[t];R.elementDblClick({point:i,series:n,pos:[d(f(i,t))+a.left,h(m(i,t))+a.top],relativePos:[d(f(i,t))+a.left,h(m(i,t))+a.top],seriesIndex:e.series,pointIndex:t})})).on("mouseover",(function(e,t){if(Z||!L[e.series])return 0;var n=L[e.series],i=n.values[t];R.elementMouseover({point:i,series:n,pos:[d(f(i,t))+a.left,h(m(i,t))+a.top],relativePos:[d(f(i,t))+a.left,h(m(i,t))+a.top],seriesIndex:e.series,pointIndex:t,color:l(e,t)})})).on("mouseout",(function(e,t){if(Z||!L[e.series])return 0;var n=L[e.series],i=n.values[t];R.elementMouseout({point:i,series:n,pos:[d(f(i,t))+a.left,h(m(i,t))+a.top],relativePos:[d(f(i,t))+a.left,h(m(i,t))+a.top],seriesIndex:e.series,pointIndex:t,color:l(e,t)})}))}$.classed("nv-single-point",P),X.append("g").attr("class","nv-groups"),X.append("g").attr("class","nv-point-paths"),K.append("g").attr("class","nv-point-clips"),$.attr("transform","translate("+a.left+","+a.top+")"),G.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),$.select("#nv-edge-clip-"+c+" rect").attr("width",U).attr("height",W>0?W:0),Q.attr("clip-path",C?"url(#nv-edge-clip-"+c+")":""),Z=!0;var ee=$.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e){return e.key}));ee.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ee.exit().remove(),ee.attr("class",(function(e,t){return(e.classed||"")+" nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})),ee.watchTransition(B,"scatter: groups").style("fill",(function(e,t){return l(e,t)})).style("stroke",(function(e,t){return l(e,t)})).style("stroke-opacity",1).style("fill-opacity",.5);var te=ee.selectAll("path.nv-point").data((function(e){return e.values.map((function(e,t){return[e,t]})).filter((function(e,t){return k(e[0],t)}))}));te.enter().append("path").style("fill",(function(e){return e.color})).style("stroke",(function(e){return e.color})).attr("transform",(function(i){return"translate("+t.utils.NaNtoZero(e(f(i[0],i[1])))+","+t.utils.NaNtoZero(n(m(i[0],i[1])))+")"})).attr("d",t.utils.symbol().type((function(e){return v(e[0])})).size((function(e){return p(g(e[0],e[1]))}))),te.exit().remove(),ee.exit().selectAll("path.nv-point").watchTransition(B,"scatter exit").attr("transform",(function(e){return"translate("+t.utils.NaNtoZero(d(f(e[0],e[1])))+","+t.utils.NaNtoZero(h(m(e[0],e[1])))+")"})).remove(),te.each((function(e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e[1],!0).classed("nv-noninteractive",!w).classed("hover",!1)})),te.watchTransition(B,"scatter points").attr("transform",(function(e){return"translate("+t.utils.NaNtoZero(d(f(e[0],e[1])))+","+t.utils.NaNtoZero(h(m(e[0],e[1])))+")"})).attr("d",t.utils.symbol().type((function(e){return v(e[0])})).size((function(e){return p(g(e[0],e[1]))}))),q?(clearTimeout(r),r=setTimeout(J,q)):J(),e=d.copy(),n=h.copy(),i=p.copy()})),B.renderEnd("scatter immediate"),z}return z.dispatch=R,z.options=t.utils.optionsFunc.bind(z),z._calls=new function(){this.clearHighlights=function(){return t.dom.write((function(){u.selectAll(".nv-point.hover").classed("hover",!1)})),null},this.highlightPoint=function(e,n,i){t.dom.write((function(){u.select(".nv-groups").selectAll(".nv-series-"+e).selectAll(".nv-point-"+n).classed("hover",i)}))}},R.on("elementMouseover.point",(function(e){w&&z._calls.highlightPoint(e.seriesIndex,e.pointIndex,!0)})),R.on("elementMouseout.point",(function(e){w&&z._calls.highlightPoint(e.seriesIndex,e.pointIndex,!1)})),z._options=Object.create({},{width:{get:function(){return o},set:function(e){o=e}},height:{get:function(){return s},set:function(e){s=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return h},set:function(e){h=e}},pointScale:{get:function(){return p},set:function(e){p=e}},xDomain:{get:function(){return F},set:function(e){F=e}},yDomain:{get:function(){return M},set:function(e){M=e}},pointDomain:{get:function(){return O},set:function(e){O=e}},xRange:{get:function(){return A},set:function(e){A=e}},yRange:{get:function(){return I},set:function(e){I=e}},pointRange:{get:function(){return N},set:function(e){N=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return b},set:function(e){b=e}},forcePoint:{get:function(){return _},set:function(e){_=e}},interactive:{get:function(){return w},set:function(e){w=e}},pointActive:{get:function(){return k},set:function(e){k=e}},padDataOuter:{get:function(){return E},set:function(e){E=e}},padData:{get:function(){return x},set:function(e){x=e}},clipEdge:{get:function(){return C},set:function(e){C=e}},clipVoronoi:{get:function(){return S},set:function(e){S=e}},clipRadius:{get:function(){return D},set:function(e){D=e}},showVoronoi:{get:function(){return T},set:function(e){T=e}},id:{get:function(){return c},set:function(e){c=e}},interactiveUpdateDelay:{get:function(){return q},set:function(e){q=e}},x:{get:function(){return f},set:function(e){f=d3.functor(e)}},y:{get:function(){return m},set:function(e){m=d3.functor(e)}},pointSize:{get:function(){return g},set:function(e){g=d3.functor(e)}},pointShape:{get:function(){return v},set:function(e){v=d3.functor(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},duration:{get:function(){return L},set:function(e){L=e,B.reset(L)}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}},useVoronoi:{get:function(){return j},set:function(e){!1===(j=e)&&(S=!1)}}}),t.utils.initOptions(z),z},t.models.scatterChart=function(){"use strict";var e=t.models.scatter(),n=t.models.axis(),i=t.models.axis(),r=t.models.legend(),a=t.models.distribution(),o=t.models.distribution(),s=t.models.tooltip(),l={top:30,right:20,bottom:50,left:75},c=null,u=null,d=null,h=t.utils.defaultColor(),p=e.xScale(),f=e.yScale(),m=!1,g=!1,v=!0,y=!0,b=!0,_=!1,w=t.utils.state(),k=null,x=d3.dispatch("stateChange","changeState","renderEnd"),E=null,C=250;e.xScale(p).yScale(f),n.orient("bottom").tickPadding(10),i.orient(_?"right":"left").tickPadding(10),a.axis("x"),o.axis("y"),s.headerFormatter((function(e,t){return n.tickFormat()(e,t)})).valueFormatter((function(e,t){return i.tickFormat()(e,t)}));var S=t.utils.renderWatch(x,C);function T(E){return S.reset(),S.models(e),y&&S.models(n),b&&S.models(i),m&&S.models(a),g&&S.models(o),E.each((function(E){d=d3.select(this),t.utils.initSVG(d);var D,F=t.utils.availableWidth(c,d,l),M=t.utils.availableHeight(u,d,l);if(T.update=function(){0===C?d.call(T):d.transition().duration(C).call(T)},T.container=this,w.setter(function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(E),T.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}}(E)).update(),w.disabled=E.map((function(e){return!!e.disabled})),!k)for(D in k={},w)w[D]instanceof Array?k[D]=w[D].slice(0):k[D]=w[D];if(!(E&&E.length&&E.filter((function(e){return e.values.length})).length))return t.utils.noData(T,d),S.renderEnd("scatter immediate"),T;d.selectAll(".nv-noData").remove(),p=e.xScale(),f=e.yScale();var A=d.selectAll("g.nv-wrap.nv-scatterChart").data([E]),I=A.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()).append("g"),O=A.select("g");if(I.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis"),I.append("g").attr("class","nv-scatterWrap"),I.append("g").attr("class","nv-regressionLinesWrap"),I.append("g").attr("class","nv-distWrap"),I.append("g").attr("class","nv-legendWrap"),_&&O.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),v){var N=F;r.width(N),A.select(".nv-legendWrap").datum(E).call(r),l.top!=r.height()&&(l.top=r.height(),M=t.utils.availableHeight(u,d,l)),A.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")}A.attr("transform","translate("+l.left+","+l.top+")"),e.width(F).height(M).color(E.map((function(e,t){return e.color=e.color||h(e,t),e.color})).filter((function(e,t){return!E[t].disabled}))),A.select(".nv-scatterWrap").datum(E.filter((function(e){return!e.disabled}))).call(e),A.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+e.id()+")");var P=A.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data((function(e){return e}));P.enter().append("g").attr("class","nv-regLines");var R=P.selectAll(".nv-regLine").data((function(e){return[e]}));R.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),R.filter((function(e){return e.intercept&&e.slope})).watchTransition(S,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",(function(e,t){return f(p.domain()[0]*e.slope+e.intercept)})).attr("y2",(function(e,t){return f(p.domain()[1]*e.slope+e.intercept)})).style("stroke",(function(e,t,n){return h(e,n)})).style("stroke-opacity",(function(e,t){return e.disabled||void 0===e.slope||void 0===e.intercept?0:1})),y&&(n.scale(p)._ticks(t.utils.calcTicksX(F/100,E)).tickSize(-M,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")").call(n)),b&&(i.scale(f)._ticks(t.utils.calcTicksY(M/36,E)).tickSize(-F,0),O.select(".nv-y.nv-axis").call(i)),m&&(a.getData(e.x()).scale(p).width(F).color(E.map((function(e,t){return e.color||h(e,t)})).filter((function(e,t){return!E[t].disabled}))),I.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),O.select(".nv-distributionX").attr("transform","translate(0,"+f.range()[0]+")").datum(E.filter((function(e){return!e.disabled}))).call(a)),g&&(o.getData(e.y()).scale(f).width(M).color(E.map((function(e,t){return e.color||h(e,t)})).filter((function(e,t){return!E[t].disabled}))),I.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),O.select(".nv-distributionY").attr("transform","translate("+(_?F:-o.size())+",0)").datum(E.filter((function(e){return!e.disabled}))).call(o)),r.dispatch.on("stateChange",(function(e){for(var t in e)w[t]=e[t];x.stateChange(w),T.update()})),x.on("changeState",(function(e){void 0!==e.disabled&&(E.forEach((function(t,n){t.disabled=e.disabled[n]})),w.disabled=e.disabled),T.update()})),e.dispatch.on("elementMouseout.tooltip",(function(t){s.hidden(!0),d.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",o.size())})),e.dispatch.on("elementMouseover.tooltip",(function(e){d.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.relativePos[1]-M),d.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.relativePos[0]+a.size()),s.data(e).hidden(!1)})),p.copy(),f.copy()})),S.renderEnd("scatter with line immediate"),T}return T.dispatch=x,T.scatter=e,T.legend=r,T.xAxis=n,T.yAxis=i,T.distX=a,T.distY=o,T.tooltip=s,T.options=t.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},container:{get:function(){return d},set:function(e){d=e}},showDistX:{get:function(){return m},set:function(e){m=e}},showDistY:{get:function(){return g},set:function(e){g=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showXAxis:{get:function(){return y},set:function(e){y=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},defaultState:{get:function(){return k},set:function(e){k=e}},noData:{get:function(){return E},set:function(e){E=e}},duration:{get:function(){return C},set:function(e){C=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},rightAlignYAxis:{get:function(){return _},set:function(e){_=e,i.orient(e?"right":"left")}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),r.color(h),a.color(h),o.color(h)}}}),t.utils.inheritOptions(T,e),t.utils.initOptions(T),T},t.models.sparkline=function(){"use strict";var e,n,i,r,a={top:2,right:0,bottom:2,left:0},o=400,s=32,l=null,c=!0,u=d3.scale.linear(),d=d3.scale.linear(),h=function(e){return e.x},p=function(e){return e.y},f=t.utils.getColor(["#000"]),m=d3.dispatch("renderEnd"),g=t.utils.renderWatch(m);function v(c){return g.reset(),c.each((function(c){var m=o-a.left-a.right,g=s-a.top-a.bottom;l=d3.select(this),t.utils.initSVG(l),u.domain(e||d3.extent(c,h)).range(i||[0,m]),d.domain(n||d3.extent(c,p)).range(r||[g,0]);var v=l.selectAll("g.nv-wrap.nv-sparkline").data([c]);v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),v.select("g"),v.attr("transform","translate("+a.left+","+a.top+")");var y=v.selectAll("path").data((function(e){return[e]}));y.enter().append("path"),y.exit().remove(),y.style("stroke",(function(e,t){return e.color||f(e,t)})).attr("d",d3.svg.line().x((function(e,t){return u(h(e,t))})).y((function(e,t){return d(p(e,t))})));var b=v.selectAll("circle.nv-point").data((function(e){var t=e.map((function(e,t){return p(e,t)}));function n(t){if(-1!=t){var n=e[t];return n.pointIndex=t,n}return null}var i=n(t.lastIndexOf(d.domain()[1]));return[n(t.indexOf(d.domain()[0])),i,n(t.length-1)].filter((function(e){return null!=e}))}));b.enter().append("circle"),b.exit().remove(),b.attr("cx",(function(e,t){return u(h(e,e.pointIndex))})).attr("cy",(function(e,t){return d(p(e,e.pointIndex))})).attr("r",2).attr("class",(function(e,t){return h(e,e.pointIndex)==u.domain()[1]?"nv-point nv-currentValue":p(e,e.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"}))})),g.renderEnd("sparkline immediate"),v}return v.options=t.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return o},set:function(e){o=e}},height:{get:function(){return s},set:function(e){s=e}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(e){n=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return r},set:function(e){r=e}},xScale:{get:function(){return u},set:function(e){u=e}},yScale:{get:function(){return d},set:function(e){d=e}},animate:{get:function(){return c},set:function(e){c=e}},x:{get:function(){return h},set:function(e){h=d3.functor(e)}},y:{get:function(){return p},set:function(e){p=d3.functor(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e)}}}),v.dispatch=m,t.utils.initOptions(v),v},t.models.sparklinePlus=function(){"use strict";var e,n,i=t.models.sparkline(),r={top:15,right:100,bottom:10,left:50},a=null,o=null,s=[],l=!1,c=d3.format(",r"),u=d3.format(",.2f"),d=!0,h=!0,p=!1,f=null,m=d3.dispatch("renderEnd"),g=t.utils.renderWatch(m);function v(f){return g.reset(),g.models(i),f.each((function(f){var m=d3.select(this);t.utils.initSVG(m);var g=t.utils.availableWidth(a,m,r),y=t.utils.availableHeight(o,m,r);if(v.update=function(){m.call(v)},v.container=this,!f||!f.length)return t.utils.noData(v,m),v;m.selectAll(".nv-noData").remove();var b=i.y()(f[f.length-1],f.length-1);e=i.xScale(),n=i.yScale();var _=m.selectAll("g.nv-wrap.nv-sparklineplus").data([f]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),k=_.select("g");w.append("g").attr("class","nv-sparklineWrap"),w.append("g").attr("class","nv-valueWrap"),w.append("g").attr("class","nv-hoverArea"),_.attr("transform","translate("+r.left+","+r.top+")");var x=k.select(".nv-sparklineWrap");if(i.width(g).height(y),x.call(i),d){var E=k.select(".nv-valueWrap").selectAll(".nv-currentValue").data([b]);E.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),E.attr("x",g+(p?r.right:0)).attr("y",h?function(e){return n(e)}:0).style("fill",i.color()(f[f.length-1],f.length-1)).text(u(b))}function C(){if(!l){var t=k.selectAll(".nv-hoverValue").data(s),n=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",(function(t){return"translate("+e(i.x()(f[t],t))+",0)"})).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(n.append("line").attr("x1",0).attr("y1",-r.top).attr("x2",0).attr("y2",y),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-r.top).attr("text-anchor","end").attr("dy",".9em"),k.select(".nv-hoverValue .nv-xValue").text(c(i.x()(f[s[0]],s[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-r.top).attr("text-anchor","start").attr("dy",".9em"),k.select(".nv-hoverValue .nv-yValue").text(u(i.y()(f[s[0]],s[0]))))}}w.select(".nv-hoverArea").append("rect").on("mousemove",(function(){if(!l){var t=d3.mouse(this)[0]-r.left;s=[function(e,t){for(var n=Math.abs(i.x()(e[0],0)-t),r=0,a=0;a<e.length;a++)Math.abs(i.x()(e[a],a)-t)<n&&(n=Math.abs(i.x()(e[a],a)-t),r=a);return r}(f,Math.round(e.invert(t)))],C()}})).on("click",(function(){l=!l})).on("mouseout",(function(){s=[],C()})),k.select(".nv-hoverArea rect").attr("transform",(function(e){return"translate("+-r.left+","+-r.top+")"})).attr("width",g+r.left+r.right).attr("height",y+r.top)})),g.renderEnd("sparklinePlus immediate"),v}return v.dispatch=m,v.sparkline=i,v.options=t.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return o},set:function(e){o=e}},xTickFormat:{get:function(){return c},set:function(e){c=e}},yTickFormat:{get:function(){return u},set:function(e){u=e}},showLastValue:{get:function(){return d},set:function(e){d=e}},alignValue:{get:function(){return h},set:function(e){h=e}},rightAlignValue:{get:function(){return p},set:function(e){p=e}},noData:{get:function(){return f},set:function(e){f=e}},margin:{get:function(){return r},set:function(e){r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left}}}),t.utils.inheritOptions(v,i),t.utils.initOptions(v),v},t.models.stackedArea=function(){"use strict";var e,n,i={top:0,right:0,bottom:0,left:0},r=960,a=500,o=t.utils.defaultColor(),s=Math.floor(1e5*Math.random()),l=null,c=function(e){return e.x},u=function(e){return e.y},d=function(e,t){return!isNaN(u(e,t))&&null!==u(e,t)},h="stack",p="zero",f="default",m="linear",g=!1,v=t.models.scatter(),y=250,b=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");v.pointSize(2.2).pointDomain([2.2,2.2]);var _=t.utils.renderWatch(b,y);function w(h){return _.reset(),_.models(v),h.each((function(h){var y=r-i.left-i.right,k=a-i.top-i.bottom;l=d3.select(this),t.utils.initSVG(l),e=v.xScale(),n=v.yScale();var x=h;h.forEach((function(e,t){e.seriesIndex=t,e.values=e.values.map((function(e,n){return e.index=n,e.seriesIndex=t,e}))}));var E=h.filter((function(e){return!e.disabled}));h=d3.layout.stack().order(f).offset(p).values((function(e){return e.values})).x(c).y(u).out((function(e,t,n){e.display={y:n,y0:t}}))(E);var C=l.selectAll("g.nv-wrap.nv-stackedarea").data([h]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),T=S.append("defs"),D=S.append("g"),F=C.select("g");D.append("g").attr("class","nv-areaWrap"),D.append("g").attr("class","nv-scatterWrap"),C.attr("transform","translate("+i.left+","+i.top+")"),0==v.forceY().length&&v.forceY().push(0),v.width(y).height(k).x(c).y((function(e){if(void 0!==e.display)return e.display.y+e.display.y0})).forceY([0]).color(h.map((function(e,t){return e.color=e.color||o(e,e.seriesIndex),e.color}))),F.select(".nv-scatterWrap").datum(h).call(v),T.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),C.select("#nv-edge-clip-"+s+" rect").attr("width",y).attr("height",k),F.attr("clip-path",g?"url(#nv-edge-clip-"+s+")":"");var M=d3.svg.area().defined(d).x((function(t,n){return e(c(t,n))})).y0((function(e){return n(e.display.y0)})).y1((function(e){return n(e.display.y+e.display.y0)})).interpolate(m),A=d3.svg.area().defined(d).x((function(t,n){return e(c(t,n))})).y0((function(e){return n(e.display.y0)})).y1((function(e){return n(e.display.y0)})),I=F.select(".nv-areaWrap").selectAll("path.nv-area").data((function(e){return e}));I.enter().append("path").attr("class",(function(e,t){return"nv-area nv-area-"+t})).attr("d",(function(e,t){return A(e.values,e.seriesIndex)})).on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),b.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),b.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})})).on("click",(function(e,t){d3.select(this).classed("hover",!1),b.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})})),I.exit().remove(),I.style("fill",(function(e,t){return e.color||o(e,e.seriesIndex)})).style("stroke",(function(e,t){return e.color||o(e,e.seriesIndex)})),I.watchTransition(_,"stackedArea path").attr("d",(function(e,t){return M(e.values,t)})),v.dispatch.on("elementMouseover.area",(function(e){F.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!0)})),v.dispatch.on("elementMouseout.area",(function(e){F.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!1)})),w.d3_stackedOffset_stackPercent=function(e){var t,n,i,r=e.length,a=e[0].length,o=[];for(n=0;n<a;++n){for(t=0,i=0;t<x.length;t++)i+=u(x[t].values[n]);if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=0}for(n=0;n<a;++n)o[n]=0;return o}})),_.renderEnd("stackedArea immediate"),w}return w.dispatch=b,w.scatter=v,v.dispatch.on("elementClick",(function(){b.elementClick.apply(this,arguments)})),v.dispatch.on("elementMouseover",(function(){b.elementMouseover.apply(this,arguments)})),v.dispatch.on("elementMouseout",(function(){b.elementMouseout.apply(this,arguments)})),w.interpolate=function(e){return arguments.length?(m=e,w):m},w.duration=function(e){return arguments.length?(y=e,_.reset(y),v.duration(y),w):y},w.dispatch=b,w.scatter=v,w.options=t.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return a},set:function(e){a=e}},defined:{get:function(){return d},set:function(e){d=e}},clipEdge:{get:function(){return g},set:function(e){g=e}},offset:{get:function(){return p},set:function(e){p=e}},order:{get:function(){return f},set:function(e){f=e}},interpolate:{get:function(){return m},set:function(e){m=e}},x:{get:function(){return c},set:function(e){c=d3.functor(e)}},y:{get:function(){return u},set:function(e){u=d3.functor(e)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}},style:{get:function(){return h},set:function(e){switch(h=e){case"stack":w.offset("zero"),w.order("default");break;case"stream":w.offset("wiggle"),w.order("inside-out");break;case"stream-center":w.offset("silhouette"),w.order("inside-out");break;case"expand":w.offset("expand"),w.order("default");break;case"stack_percent":w.offset(w.d3_stackedOffset_stackPercent),w.order("default")}}},duration:{get:function(){return y},set:function(e){y=e,_.reset(y),v.duration(y)}}}),t.utils.inheritOptions(w,v),t.utils.initOptions(w),w},t.models.stackedAreaChart=function(){"use strict";var e,n,i=t.models.stackedArea(),r=t.models.axis(),a=t.models.axis(),o=t.models.legend(),s=t.models.legend(),l=t.interactiveGuideline(),c=t.models.tooltip(),u={top:30,right:25,bottom:50,left:60},d=null,h=null,p=t.utils.defaultColor(),f=!0,m=!0,g=!0,v=!0,y=!1,b=!1,_=!0,w="TOTAL",k=t.utils.state(),x=null,E=null,C=d3.dispatch("stateChange","changeState","renderEnd"),S=250,T=["Stacked","Stream","Expanded"],D={},F=250;k.style=i.style(),r.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),c.headerFormatter((function(e,t){return r.tickFormat()(e,t)})).valueFormatter((function(e,t){return a.tickFormat()(e,t)})),l.tooltip.headerFormatter((function(e,t){return r.tickFormat()(e,t)})).valueFormatter((function(e,t){return a.tickFormat()(e,t)}));var M=null,A=null;s.updateState(!1);var I=t.utils.renderWatch(C),O=(i.style(),d3.format("%"));function N(c){return I.reset(),I.models(i),g&&I.models(r),v&&I.models(a),c.each((function(c){var E=d3.select(this),I=this;t.utils.initSVG(E);var P,R=t.utils.availableWidth(d,E,u),j=t.utils.availableHeight(h,E,u);if(N.update=function(){E.transition().duration(F).call(N)},N.container=this,k.setter(function(e){return function(t){void 0!==t.style&&t.style,void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}}(c),N.update).getter(function(e){return function(){return{active:e.map((function(e){return!e.disabled})),style:i.style()}}}(c)).update(),k.disabled=c.map((function(e){return!!e.disabled})),!x)for(P in x={},k)k[P]instanceof Array?x[P]=k[P].slice(0):x[P]=k[P];if(!(c&&c.length&&c.filter((function(e){return e.values.length})).length))return t.utils.noData(N,E),N;E.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale();var L=E.selectAll("g.nv-wrap.nv-stackedAreaChart").data([c]),q=L.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Z=L.select("g");if(q.append("rect").style("opacity",0),q.append("g").attr("class","nv-x nv-axis"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-stackedWrap"),q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap"),q.append("g").attr("class","nv-interactive"),Z.select("rect").attr("width",R).attr("height",j),m){var B=f?R-S:R;o.width(B),Z.select(".nv-legendWrap").datum(c).call(o),u.top!=o.height()&&(u.top=o.height(),j=t.utils.availableHeight(h,E,u)),Z.select(".nv-legendWrap").attr("transform","translate("+(R-B)+","+-u.top+")")}if(f){var V=[{key:D.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=i.style(),style:"stack"},{key:D.stream||"Stream",metaKey:"Stream",disabled:"stream"!=i.style(),style:"stream"},{key:D.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=i.style(),style:"expand"},{key:D.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=i.style(),style:"stack_percent"}];S=T.length/3*260,V=V.filter((function(e){return-1!==T.indexOf(e.metaKey)})),s.width(S).color(["#444","#444","#444"]),Z.select(".nv-controlsWrap").datum(V).call(s),u.top!=Math.max(s.height(),o.height())&&(u.top=Math.max(s.height(),o.height()),j=t.utils.availableHeight(h,E,u)),Z.select(".nv-controlsWrap").attr("transform","translate(0,"+-u.top+")")}if(L.attr("transform","translate("+u.left+","+u.top+")"),y&&Z.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),b&&(l.width(R).height(j).margin({left:u.left,top:u.top}).svgContainer(E).xScale(e),L.select(".nv-interactive").call(l)),i.width(R).height(j),Z.select(".nv-stackedWrap").datum(c).transition().call(i),g&&(r.scale(e)._ticks(t.utils.calcTicksX(R/100,c)).tickSize(-j,0),Z.select(".nv-x.nv-axis").attr("transform","translate(0,"+j+")"),Z.select(".nv-x.nv-axis").transition().duration(0).call(r)),v){var z;if(z="wiggle"===i.offset()?0:t.utils.calcTicksY(j/36,c),a.scale(n)._ticks(z).tickSize(-R,0),"expand"===i.style()||"stack_percent"===i.style()){var U=a.tickFormat();M&&U===O||(M=U),a.tickFormat(O)}else M&&(a.tickFormat(M),M=null);Z.select(".nv-y.nv-axis").transition().duration(0).call(a)}i.dispatch.on("areaClick.toggle",(function(e){1===c.filter((function(e){return!e.disabled})).length?c.forEach((function(e){e.disabled=!1})):c.forEach((function(t,n){t.disabled=n!=e.seriesIndex})),k.disabled=c.map((function(e){return!!e.disabled})),C.stateChange(k),N.update()})),o.dispatch.on("stateChange",(function(e){for(var t in e)k[t]=e[t];C.stateChange(k),N.update()})),s.dispatch.on("legendClick",(function(e,t){e.disabled&&(V=V.map((function(e){return e.disabled=!0,e})),e.disabled=!1,i.style(e.style),k.style=i.style(),C.stateChange(k),N.update())})),l.dispatch.on("elementMousemove",(function(e){i.clearHighlights();var n,r,a,o=[],s=0;if(c.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(l,c){r=t.interactiveBisect(l.values,e.pointXValue,N.x());var u=l.values[r];if(null!=N.y()(u,r)&&i.highlightPoint(c,r,!0),void 0!==u){void 0===n&&(n=u),void 0===a&&(a=N.xScale()(N.x()(u,r)));var d="expand"==i.style()?u.display.y:N.y()(u,r);o.push({key:l.key,value:d,color:p(l,l.seriesIndex),stackedValue:u.display}),_&&"expand"!=i.style()&&(s+=d)}})),o.reverse(),o.length>2){var u=N.yScale().invert(e.mouseY),d=null;o.forEach((function(e,t){u=Math.abs(u);var n=Math.abs(e.stackedValue.y0),i=Math.abs(e.stackedValue.y);u>=n&&u<=i+n&&(d=t)})),null!=d&&(o[d].highlight=!0)}_&&"expand"!=i.style()&&o.length>=2&&o.push({key:w,value:s,total:!0});var h=N.x()(n,r),f=l.tooltip.valueFormatter();"expand"===i.style()||"stack_percent"===i.style()?(A||(A=f),f=d3.format(".1%")):A&&(f=A,A=null),l.tooltip.chartContainer(I.parentNode).valueFormatter(f).data({value:h,series:o})(),l.renderGuideLine(a)})),l.dispatch.on("elementMouseout",(function(e){i.clearHighlights()})),C.on("changeState",(function(e){void 0!==e.disabled&&c.length===e.disabled.length&&(c.forEach((function(t,n){t.disabled=e.disabled[n]})),k.disabled=e.disabled),void 0!==e.style&&(i.style(e.style),e.style),N.update()}))})),I.renderEnd("stacked Area chart immediate"),N}return i.dispatch.on("elementMouseover.tooltip",(function(e){e.point.x=i.x()(e.point),e.point.y=i.y()(e.point),c.data(e).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){c.hidden(!0)})),N.dispatch=C,N.stacked=i,N.legend=o,N.controls=s,N.xAxis=r,N.yAxis=a,N.interactiveLayer=l,N.tooltip=c,N.dispatch=C,N.options=t.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return h},set:function(e){h=e}},showLegend:{get:function(){return m},set:function(e){m=e}},showXAxis:{get:function(){return g},set:function(e){g=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return x},set:function(e){x=e}},noData:{get:function(){return E},set:function(e){E=e}},showControls:{get:function(){return f},set:function(e){f=e}},controlLabels:{get:function(){return D},set:function(e){D=e}},controlOptions:{get:function(){return T},set:function(e){T=e}},showTotalInTooltip:{get:function(){return _},set:function(e){_=e}},totalLabel:{get:function(){return w},set:function(e){w=e}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return F},set:function(e){F=e,I.reset(F),i.duration(F),r.duration(F),a.duration(F)}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e),o.color(p),i.color(p)}},rightAlignYAxis:{get:function(){return y},set:function(e){y=e,a.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(e){b=!!e,N.interactive(!e),N.useVoronoi(!e),i.scatter.interactive(!e)}}}),t.utils.inheritOptions(N,i),t.utils.initOptions(N),N},t.models.sunburst=function(){"use strict";var e,n,i,r={top:0,right:0,bottom:0,left:0},a=null,o=null,s="count",l={count:function(e){return 1},size:function(e){return e.size}},c=Math.floor(1e4*Math.random()),u=null,d=t.utils.defaultColor(),h=!0,p=500,f=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),m=d3.scale.linear().range([0,2*Math.PI]),g=d3.scale.sqrt(),v=d3.layout.partition().sort(null).value((function(e){return 1})),y=d3.svg.arc().startAngle((function(e){return Math.max(0,Math.min(2*Math.PI,m(e.x)))})).endAngle((function(e){return Math.max(0,Math.min(2*Math.PI,m(e.x+e.dx)))})).innerRadius((function(e){return Math.max(0,g(e.y))})).outerRadius((function(e){return Math.max(0,g(e.y+e.dy))})),b=t.utils.renderWatch(f);function _(w){return b.reset(),w.each((function(b){u=d3.select(this);var w,k=t.utils.availableWidth(a,u,r),x=t.utils.availableHeight(o,u,r),E=Math.min(k,x)/2;t.utils.initSVG(u);var C=u.selectAll(".nv-wrap.nv-sunburst").data(b),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+c).selectAll("nv-sunburst");function T(e){e.x0=e.x,e.dx0=e.dx}function D(e){var t=d3.interpolate(m.domain(),[e.x,e.x+e.dx]),n=d3.interpolate(g.domain(),[e.y,1]),i=d3.interpolate(g.range(),[e.y?20:0,E]);return function(e,r){return r?function(t){return y(e)}:function(r){return m.domain(t(r)),g.domain(n(r)).range(i(r)),y(e)}}}_.update=function(){0===p?u.call(_):u.transition().duration(p).call(_)},_.container=this,C.attr("transform","translate("+k/2+","+x/2+")"),u.on("click",(function(e,t){f.chartClick({data:e,index:t,pos:d3.event,id:c})})),g.range([0,E]),e=e||b,i=b[0],v.value(l[s]||l.count),w=S.data(v.nodes).enter().append("path").attr("d",y).style("fill",(function(e){return e.color?e.color:d(h?(e.children?e:e.parent).name:e.name)})).style("stroke","#FFF").on("click",(function(t){n!==e&&e!==t&&(n=e),e=t,w.transition().duration(p).attrTween("d",D(t))})).each(T).on("dblclick",(function(e){n.parent==e&&w.transition().duration(p).attrTween("d",D(i))})).each(T).on("mouseover",(function(e,t){d3.select(this).classed("hover",!0).style("opacity",.8),f.elementMouseover({data:e,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1).style("opacity",1),f.elementMouseout({data:e})})).on("mousemove",(function(e,t){f.elementMousemove({data:e})}))})),b.renderEnd("sunburst immediate"),_}return _.dispatch=f,_.options=t.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return o},set:function(e){o=e}},mode:{get:function(){return s},set:function(e){s=e}},id:{get:function(){return c},set:function(e){c=e}},duration:{get:function(){return p},set:function(e){p=e}},groupColorByParent:{get:function(){return h},set:function(e){h=!!e}},margin:{get:function(){return r},set:function(e){r.top=null!=e.top?e.top:r.top,r.right=null!=e.right?e.right:r.right,r.bottom=null!=e.bottom?e.bottom:r.bottom,r.left=null!=e.left?e.left:r.left}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e)}}}),t.utils.initOptions(_),_},t.models.sunburstChart=function(){"use strict";var e=t.models.sunburst(),n=t.models.tooltip(),i={top:30,right:20,bottom:20,left:20},r=t.utils.defaultColor(),a=(Math.round(1e5*Math.random()),null),o=null,s=250,l=d3.dispatch("stateChange","changeState","renderEnd");n.duration(0);var c=t.utils.renderWatch(l);function u(n){return c.reset(),c.models(e),n.each((function(n){var r=d3.select(this);t.utils.initSVG(r);var a=t.utils.availableWidth(null,r,i),o=t.utils.availableHeight(null,r,i);if(u.update=function(){0===s?r.call(u):r.transition().duration(s).call(u)},u.container=this,!n||!n.length)return t.utils.noData(u,r),u;r.selectAll(".nv-noData").remove();var l=r.selectAll("g.nv-wrap.nv-sunburstChart").data(n),c=l.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),d=l.select("g");c.append("g").attr("class","nv-sunburstWrap"),l.attr("transform","translate("+i.left+","+i.top+")"),e.width(a).height(o);var h=d.select(".nv-sunburstWrap").datum(n);d3.transition(h).call(e)})),c.renderEnd("sunburstChart immediate"),u}return n.headerEnabled(!1).valueFormatter((function(e,t){return e})),e.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:e.data.name,value:e.data.size,color:e.color},n.data(e).hidden(!1)})),e.dispatch.on("elementMouseout.tooltip",(function(e){n.hidden(!0)})),e.dispatch.on("elementMousemove.tooltip",(function(e){n()})),u.dispatch=l,u.sunburst=e,u.tooltip=n,u.options=t.utils.optionsFunc.bind(u),u._options=Object.create({},{noData:{get:function(){return o},set:function(e){o=e}},defaultState:{get:function(){return a},set:function(e){a=e}},color:{get:function(){return r},set:function(t){r=t,e.color(r)}},duration:{get:function(){return s},set:function(t){s=t,c.reset(s),e.duration(s)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}}}),t.utils.inheritOptions(u,e),t.utils.initOptions(u),u},t.version="1.8.2"},9394:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var o,s,l=r(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(l[u]=o[u]);if(t){s=t(o);for(var d=0;d<s.length;d++)i.call(o,s[d])&&(l[s[d]]=o[s[d]])}}return l}},631:(e,t,n)=>{var i="function"==typeof Map&&Map.prototype,r=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=i&&r&&"function"==typeof r.get?r.get:null,o=i&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,k=RegExp.prototype.test,x=Array.prototype.concat,E=Array.prototype.join,C=Array.prototype.slice,S=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,D=Object.getOwnPropertySymbols,F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,M="function"==typeof Symbol&&"object"==typeof Symbol.iterator,A="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===M||"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,O=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||k.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-S(-e):S(e);if(i!==e){var r=String(i),a=y.call(t,r.length+1);return b.call(r,n,"$&_")+"."+b.call(b.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var P=n(4654).custom,R=P&&Z(P)?P:null;function j(e,t,n){var i="double"===(n.quoteStyle||t)?'"':"'";return i+e+i}function L(e){return b.call(String(e),/"/g,"&quot;")}function q(e){return!("[object Array]"!==z(e)||A&&"object"==typeof e&&A in e)}function Z(e){if(M)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!F)return!1;try{return F.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,r){var s=n||{};if(V(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!V(s,"customInspect")||s.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return W(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return m?N(t,_):_}if("bigint"==typeof t){var k=String(t)+"n";return m?N(t,k):k}var S=void 0===s.depth?5:s.depth;if(void 0===i&&(i=0),i>=S&&S>0&&"object"==typeof t)return q(t)?"[Array]":"[Object]";var D=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=E.call(Array(e.indent+1)," ")}return{base:n,prev:E.call(Array(t+1),n)}}(s,i);if(void 0===r)r=[];else if(U(r,t)>=0)return"[Circular]";function P(t,n,a){if(n&&(r=C.call(r)).push(n),a){var o={depth:s.depth};return V(s,"quoteStyle")&&(o.quoteStyle=s.quoteStyle),e(t,o,i+1,r)}return e(t,s,i+1,r)}if("function"==typeof t){var B=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),H=X(t,P);return"[Function"+(B?": "+B:" (anonymous)")+"]"+(H.length>0?" { "+E.call(H,", ")+" }":"")}if(Z(t)){var Q=M?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):F.call(t);return"object"!=typeof t||M?Q:Y(Q)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var J="<"+w.call(String(t.nodeName)),ee=t.attributes||[],te=0;te<ee.length;te++)J+=" "+ee[te].name+"="+j(L(ee[te].value),"double",s);return J+=">",t.childNodes&&t.childNodes.length&&(J+="..."),J+="</"+w.call(String(t.nodeName))+">"}if(q(t)){if(0===t.length)return"[]";var ne=X(t,P);return D&&!function(e){for(var t=0;t<e.length;t++)if(U(e[t],"\n")>=0)return!1;return!0}(ne)?"["+G(ne,D)+"]":"[ "+E.call(ne,", ")+" ]"}if(function(e){return!("[object Error]"!==z(e)||A&&"object"==typeof e&&A in e)}(t)){var ie=X(t,P);return"cause"in t&&!I.call(t,"cause")?"{ ["+String(t)+"] "+E.call(x.call("[cause]: "+P(t.cause),ie),", ")+" }":0===ie.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(ie,", ")+" }"}if("object"==typeof t&&l){if(R&&"function"==typeof t[R])return t[R]();if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!=typeof e)return!1;try{a.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var re=[];return o.call(t,(function(e,n){re.push(P(n,t,!0)+" => "+P(e,t))})),K("Map",a.call(t),re,D)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ae=[];return u.call(t,(function(e){ae.push(P(e,t))})),K("Set",c.call(t),ae,D)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return $("WeakMap");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return $("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return $("WeakRef");if(function(e){return!("[object Number]"!==z(e)||A&&"object"==typeof e&&A in e)}(t))return Y(P(Number(t)));if(function(e){if(!e||"object"!=typeof e||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(t))return Y(P(T.call(t)));if(function(e){return!("[object Boolean]"!==z(e)||A&&"object"==typeof e&&A in e)}(t))return Y(f.call(t));if(function(e){return!("[object String]"!==z(e)||A&&"object"==typeof e&&A in e)}(t))return Y(P(String(t)));if(!function(e){return!("[object Date]"!==z(e)||A&&"object"==typeof e&&A in e)}(t)&&!function(e){return!("[object RegExp]"!==z(e)||A&&"object"==typeof e&&A in e)}(t)){var oe=X(t,P),se=O?O(t)===Object.prototype:t instanceof Object||t.constructor===Object,le=t instanceof Object?"":"null prototype",ce=!se&&A&&Object(t)===t&&A in t?y.call(z(t),8,-1):le?"Object":"",ue=(se||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ce||le?"["+E.call(x.call([],ce||[],le||[]),": ")+"] ":"");return 0===oe.length?ue+"{}":D?ue+"{"+G(oe,D)+"}":ue+"{ "+E.call(oe,", ")+" }"}return String(t)};var B=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return B.call(e,t)}function z(e){return m.call(e)}function U(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function W(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return W(y.call(e,0,t.maxStringLength),t)+i}return j(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,H),"single",t)}function H(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function Y(e){return"Object("+e+")"}function $(e){return e+" { ? }"}function K(e,t,n,i){return e+" ("+t+") {"+(i?G(n,i):E.call(n,", "))+"}"}function G(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+E.call(e,","+n)+"\n"+t.prev}function X(e,t){var n=q(e),i=[];if(n){i.length=e.length;for(var r=0;r<e.length;r++)i[r]=V(e,r)?t(e[r],e):""}var a,o="function"==typeof D?D(e):[];if(M){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var l in e)V(e,l)&&(n&&String(Number(l))===l&&l<e.length||M&&a["$"+l]instanceof Symbol||(k.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof D)for(var c=0;c<o.length;c++)I.call(e,o[c])&&i.push("["+t(o[c])+"]: "+t(e[o[c]],e));return i}},2703:(e,t,n)=>{"use strict";var i=n(414);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5798:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,i="RFC1738",r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:r}},129:(e,t,n)=>{"use strict";var i=n(8261),r=n(5235),a=n(5798);e.exports={formats:a,parse:r,stringify:i}},5235:(e,t,n)=>{"use strict";var i=n(2769),r=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(a),c=s?a.slice(0,s.index):a,u=[];if(c){if(!n.plainObjects&&r.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var d=0;n.depth>0&&null!==(s=o.exec(a))&&d<n.depth;){if(d+=1,!n.plainObjects&&r.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+a.slice(s.index)+"]"),function(e,t,n,i){for(var r=i?t:l(t,n),a=e.length-1;a>=0;--a){var o,s=e[a];if("[]"===s&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[])[u]=r:"__proto__"!==c&&(o[c]=r):o={0:r}}r=o}return r}(u,t,n,i)}};e.exports=function(e,t){var n=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,c={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=u.split(t.delimiter,d),p=-1,f=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?f="utf-8":"utf8=%26%2310003%3B"===h[n]&&(f="iso-8859-1"),p=n,n=h.length);for(n=0;n<h.length;++n)if(n!==p){var m,g,v=h[n],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(m=t.decoder(v,o.decoder,f,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,b),o.decoder,f,"key"),g=i.maybeMap(l(v.slice(b+1),t),(function(e){return t.decoder(e,o.decoder,f,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=s(g)),v.indexOf("[]=")>-1&&(g=a(g)?[g]:g),r.call(c,m)?c[m]=i.combine(c[m],g):c[m]=g}return c}(e,n):e,d=n.plainObjects?Object.create(null):{},h=Object.keys(u),p=0;p<h.length;++p){var f=h[p],m=c(f,u[f],n,"string"==typeof e);d=i.merge(d,m,n)}return!0===n.allowSparse?d:i.compact(d)}},8261:(e,t,n)=>{"use strict";var i=n(7478),r=n(2769),a=n(5798),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=String.prototype.split,u=Array.prototype.push,d=function(e,t){u.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,p=a.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},m={},g=function e(t,n,a,o,s,u,h,p,g,v,y,b,_,w,k){for(var x,E=t,C=k,S=0,T=!1;void 0!==(C=C.get(m))&&!T;){var D=C.get(t);if(S+=1,void 0!==D){if(D===S)throw new RangeError("Cyclic object value");T=!0}void 0===C.get(m)&&(S=0)}if("function"==typeof h?E=h(n,E):E instanceof Date?E=v(E):"comma"===a&&l(E)&&(E=r.maybeMap(E,(function(e){return e instanceof Date?v(e):e}))),null===E){if(o)return u&&!_?u(n,f.encoder,w,"key",y):n;E=""}if("string"==typeof(x=E)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||r.isBuffer(E)){if(u){var F=_?n:u(n,f.encoder,w,"key",y);if("comma"===a&&_){for(var M=c.call(String(E),","),A="",I=0;I<M.length;++I)A+=(0===I?"":",")+b(u(M[I],f.encoder,w,"value",y));return[b(F)+"="+A]}return[b(F)+"="+b(u(E,f.encoder,w,"value",y))]}return[b(n)+"="+b(String(E))]}var O,N=[];if(void 0===E)return N;if("comma"===a&&l(E))O=[{value:E.length>0?E.join(",")||null:void 0}];else if(l(h))O=h;else{var P=Object.keys(E);O=p?P.sort(p):P}for(var R=0;R<O.length;++R){var j=O[R],L="object"==typeof j&&void 0!==j.value?j.value:E[j];if(!s||null!==L){var q=l(E)?"function"==typeof a?a(n,j):n:n+(g?"."+j:"["+j+"]");k.set(t,S);var Z=i();Z.set(m,k),d(N,e(L,q,a,o,s,u,h,p,g,v,y,b,_,w,Z))}}return N};e.exports=function(e,t){var n,r=e,c=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if(void 0!==e.format){if(!o.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=a.formatters[n],r=f.filter;return("function"==typeof e.filter||l(e.filter))&&(r=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):l(c.filter)&&(n=c.filter);var u,h=[];if("object"!=typeof r||null===r)return"";u=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=s[u];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var m=i(),v=0;v<n.length;++v){var y=n[v];c.skipNulls&&null===r[y]||d(h,g(r[y],y,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var b=h.join(c.delimiter),_=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}},2769:(e,t,n)=>{"use strict";var i=n(5798),r=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],o=r.obj[r.prop],s=Object.keys(o),l=0;l<s.length;++l){var c=s[l],u=o[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var i=[],r=0;r<n.length;++r)void 0!==n[r]&&i.push(n[r]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,n,r,a){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",c=0;c<s.length;++c){var u=s.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||a===i.RFC1738&&(40===u||41===u)?l+=s.charAt(c):u<128?l+=o[u]:u<2048?l+=o[192|u>>6]+o[128|63&u]:u<55296||u>=57344?l+=o[224|u>>12]+o[128|u>>6&63]+o[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&s.charCodeAt(c)),l+=o[240|u>>18]+o[128|u>>12&63]+o[128|u>>6&63]+o[128|63&u])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(a(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var o=t;return a(t)&&!a(n)&&(o=s(t,i)),a(t)&&a(n)?(n.forEach((function(n,a){if(r.call(t,a)){var o=t[a];o&&"object"==typeof o&&n&&"object"==typeof n?t[a]=e(o,n,i):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var o=n[a];return r.call(t,a)?t[a]=e(t[a],o,i):t[a]=o,t}),o)}}},708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=n(7294),s=a(o),l=a(n(5697)),c=a(n(381)),u=a(n(8464)),d=a(n(7151)),h=a(n(9865)),p=n(2600),f=a(p);var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=o,i=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var i=e.format,r=e.range,a=e.theme,o=e.offset,s=e.firstDayOfWeek,l=e.locale,d=e.shownDate;l&&c.default.locale(l);var h=(0,u.default)(e.date,i,"startOf"),p={date:h,shownDate:(d||r&&r.endDate||h).clone().add(o,"months"),firstDayOfWeek:s||c.default.localeData().firstDayOfWeek()};this.state=p,this.styles=(0,f.default)(a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props.onInit;e&&e(this.state.date)}},{key:"componentWillReceiveProps",value:function(e){var t=e.range,n=e.offset,i=this.props.oldRange;(t&&t.endDate&&!t.endDate.isSame(t.startDate,"day")||i&&!i.startDate.isSame(t.startDate))&&this.setState({shownDate:t.endDate.clone().add(n,"months")})}},{key:"getShownDate",value:function(){var e=this.props,t=e.link,n=e.offset;return t?t.clone().add(n,"months"):this.state.shownDate}},{key:"handleSelect",value:function(e){var n=this.props,i=n.link,r=n.onChange;this.state.date;r&&r(e,t),i||this.setState({date:e})}},{key:"changeMonth",value:function(e,t){t.preventDefault();var n=this.props,i=n.link,r=n.linkCB;if(i&&r)return r(e);this.state.shownDate.month();var a=this.state.shownDate.clone().add(e,"months");this.setState({shownDate:a})}},{key:"renderMonthAndYear",value:function(e){var t=this.getShownDate(),n=c.default.months(t.month()),r=t.year(),a=this.styles,o=this.props,l=o.onlyClasses,u=o.lang,d=o.showMonthArrow,p=n.toLowerCase();return n=u&&h.default[u]&&h.default[u][p]?h.default[u][p]:n,s.default.createElement("div",{style:l?void 0:a.MonthAndYear,className:e.monthAndYearWrapper},d?s.default.createElement("button",{type:"button",style:l?void 0:i({},a.MonthButton,{float:"left"}),className:e.prevButton,onClick:this.changeMonth.bind(this,-1)},s.default.createElement("i",{style:l?void 0:i({},a.MonthArrow,a.MonthArrowPrev)})):null,s.default.createElement("span",null,s.default.createElement("span",{className:e.month},n),s.default.createElement("span",{className:e.monthAndYearDivider}," - "),s.default.createElement("span",{className:e.year},r)),d?s.default.createElement("button",{type:"button",style:l?void 0:i({},a.MonthButton,{float:"right"}),className:e.nextButton,onClick:this.changeMonth.bind(this,1)},s.default.createElement("i",{style:l?void 0:i({},a.MonthArrow,a.MonthArrowNext)})):null)}},{key:"renderWeekdays",value:function(e){for(var t=this.state.firstDayOfWeek,n=[],i=this.styles,r=this.props,a=r.onlyClasses,o=r.lang,l=t;l<7+t;l++){var u=c.default.weekdaysMin(l),d=u.toLowerCase();u=o&&h.default[o]&&h.default[o][d]?h.default[o][d]:u,n.push(s.default.createElement("span",{style:a?void 0:i.Weekday,className:e.weekDay,key:l+u},u))}return n}},{key:"renderDays",value:function(e){for(var t=this,n=this.styles,r=this.props,a=r.range,o=r.minDate,l=r.maxDate,h=r.format,p=r.onlyClasses,f=r.disableDaysBeforeToday,m=r.specialDays,g=this.getShownDate(),v=this.state,y=v.date,b=v.firstDayOfWeek,_=y.unix(),w=g.month(),k=g.daysInMonth(),x=g.clone().startOf("month").isoWeekday(),E=g.clone().month(w-1),C=(E.month(),E.daysInMonth()),S=g.clone().month(w+1),T=(S.month(),[]),D=Math.abs(b-(x+7))%7-1;D>=0;D--){var F=E.clone().date(C-D);T.push({dayMoment:F,isPassive:!0})}for(D=1;D<=k;D++){F=g.clone().date(D);var M=(0,c.default)();f&&Number(F.diff(M,"days"))<=-1?T.push({dayMoment:F,isPassive:!0}):T.push({dayMoment:F})}var A=42-T.length;for(D=1;D<=A;D++){F=S.clone().date(D);T.push({dayMoment:F,isPassive:!0})}var I=(0,c.default)().startOf("day");return T.map((function(r,c){var f=r.dayMoment,g=r.isPassive,v=!a&&f.unix()===_,y=a&&function(e,t){return e.isBetween(t.startDate,t.endDate)||e.isBetween(t.endDate,t.startDate)}(f,a),b=a&&function(e,t){var n=t.startDate;return e.startOf("day").isSame(n.startOf("day"))}(f,a),w=a&&function(e,t){var n=t.endDate;return e.endOf("day").isSame(n.endOf("day"))}(f,a),k=b||w,x=I.isSame(f),E=0===f.day(),C=m&&m.some((function(e){return f.endOf("day").isSame(e.date.endOf("day"))})),S=function(e,t,n,i){return t&&e.isBefore((0,u.default)(t,i,"startOf"))||n&&e.isAfter((0,u.default)(n,i,"endOf"))}(f,o,l,h);return s.default.createElement(d.default,i({onSelect:t.handleSelect.bind(t)},r,{theme:n,isStartEdge:b,isEndEdge:w,isSelected:v||k,isInRange:y,isSunday:E,isSpecialDay:C,isToday:x,key:c,isPassive:g||S,onlyClasses:p,classNames:e}))}))}},{key:"render",value:function(){var e=this.styles,t=this.props,n=t.onlyClasses,r=t.classNames,a=i({},p.defaultClasses,r);return s.default.createElement("div",{style:n?void 0:i({},e.Calendar,this.props.style),className:a.calendar},s.default.createElement("div",{className:a.monthAndYear},this.renderMonthAndYear(a)),s.default.createElement("div",{className:a.weekDays},this.renderWeekdays(a)),s.default.createElement("div",{className:a.days},this.renderDays(a)))}}]),t}(o.Component);m.defaultProps={format:"DD/MM/YYYY",theme:{},showMonthArrow:!0,disableDaysBeforeToday:!1,onlyClasses:!1,classNames:{},specialDays:[]},m.propTypes={showMonthArrow:l.default.bool,disableDaysBeforeToday:l.default.bool,lang:l.default.string,sets:l.default.string,range:l.default.shape({startDate:l.default.object,endDate:l.default.object}),minDate:l.default.oneOfType([l.default.object,l.default.func,l.default.string]),maxDate:l.default.oneOfType([l.default.object,l.default.func,l.default.string]),date:l.default.oneOfType([l.default.object,l.default.string,l.default.func]),format:l.default.string.isRequired,firstDayOfWeek:l.default.oneOfType([l.default.number,l.default.string]),onChange:l.default.func,onInit:l.default.func,link:l.default.oneOfType([l.default.shape({startDate:l.default.object,endDate:l.default.object}),l.default.bool]),linkCB:l.default.func,theme:l.default.object,onlyClasses:l.default.bool,specialDays:l.default.array,classNames:l.default.object,locale:l.default.string},t.default=m,e.exports=t.default},5761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=n(7294),s=a(o),l=a(n(5697)),c=(a(n(381)),a(n(8464))),u=a(n(708)),d=a(n(2661)),h=n(2600),p=a(h),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=o,i=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var i=e.format,r=e.linkedCalendars,a=e.theme,o=(0,c.default)(e.startDate,i,"startOf"),s=(0,c.default)(e.endDate,i,"endOf");this.state={range:{startDate:o,endDate:s},link:r&&s},this.step=0,this.styles=(0,p.default)(a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props.onInit;e&&e(this.state.range)}},{key:"orderRange",value:function(e){var t=e.startDate,n=e.endDate;return t.isAfter(n)?{startDate:n,endDate:t}:e}},{key:"setRange",value:function(e,t,n){var i=this.props.onChange;e=this.orderRange(e),this.setState({range:e},(function(){return n&&i&&i(e,t)}))}},{key:"handleSelect",value:function(e,t){if(e.startDate&&e.endDate)return this.step=0,this.setRange(e,t,!0);var n=this.state.range,i={startDate:n.startDate,endDate:n.endDate};switch(this.step){case 0:i.startDate=e,i.endDate=e,this.step=1;break;case 1:i.endDate=e,this.step=0}var r=!this.props.twoStepChange||0===this.step&&this.props.twoStepChange;this.setRange(i,t,r)}},{key:"handleLinkChange",value:function(e){var t=this.state.link;this.setState({link:t.clone().add(e,"months")})}},{key:"componentWillReceiveProps",value:function(e){if(e.startDate||e.endDate){var t=e.format||this.props.format,n=e.startDate&&(0,c.default)(e.startDate,t,"startOf"),i=e.endDate&&(0,c.default)(e.endDate,t,"endOf"),r=this.props.startDate&&(0,c.default)(this.props.startDate,t,"startOf"),a=this.props.endDate&&(0,c.default)(this.props.endDate,t,"endOf");n.isSame(r)&&i.isSame(a)||this.setRange({startDate:n||r,endDate:i||a})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.ranges,r=t.format,a=t.linkedCalendars,o=t.style,l=t.calendars,c=t.firstDayOfWeek,p=t.minDate,f=t.maxDate,m=t.classNames,g=t.onlyClasses,v=t.specialDays,y=t.lang,b=t.disableDaysBeforeToday,_=t.offsetPositive,w=t.shownDate,k=t.showMonthArrow,x=t.rangedCalendars,E=this.state,C=E.range,S=E.link,T=this.styles,D=i({},h.defaultClasses,m),F=12*(C.endDate.year()-C.startDate.year())+(C.endDate.month()-C.startDate.month()),M=Number(l)-1;return s.default.createElement("div",{style:g?void 0:i({},T.DateRange,o),className:D.dateRange},n&&s.default.createElement(d.default,{format:r,ranges:n,range:C,theme:T,onSelect:this.handleSelect.bind(this),onlyClasses:g,classNames:D}),function(){for(var t=[],n=_?"unshift":"push",i=M;i>=0;i--){var o=x&&i==M&&0!=F?_?F:-F:_?i:-i;t[n](s.default.createElement(u.default,{showMonthArrow:k,shownDate:w,disableDaysBeforeToday:b,lang:y,key:i,offset:o,link:a&&S,linkCB:e.handleLinkChange.bind(e),range:C,format:r,firstDayOfWeek:c,theme:T,minDate:p,maxDate:f,onlyClasses:g,specialDays:v,classNames:D,onChange:e.handleSelect.bind(e)}))}return t}())}}]),t}(o.Component);f.defaultProps={linkedCalendars:!1,theme:{},format:"DD/MM/YYYY",calendars:2,onlyClasses:!1,offsetPositive:!1,classNames:{},specialDays:[],rangedCalendars:!1,twoStepChange:!1},f.propTypes={format:l.default.string,firstDayOfWeek:l.default.number,calendars:l.default.oneOfType([l.default.string,l.default.number]),startDate:l.default.oneOfType([l.default.object,l.default.func,l.default.string]),endDate:l.default.oneOfType([l.default.object,l.default.func,l.default.string]),minDate:l.default.oneOfType([l.default.object,l.default.func,l.default.string]),maxDate:l.default.oneOfType([l.default.object,l.default.func,l.default.string]),dateLimit:l.default.func,ranges:l.default.object,linkedCalendars:l.default.bool,twoStepChange:l.default.bool,theme:l.default.object,onInit:l.default.func,onChange:l.default.func,onlyClasses:l.default.bool,specialDays:l.default.array,offsetPositive:l.default.bool,classNames:l.default.object,rangedCalendars:l.default.bool},t.default=f,e.exports=t.default},7151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(7294),l=a(s),c=a(n(5697)),u=a(n(4184)),d=(n(2600),function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=o,i=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state={hover:!1,active:!1},this.styles=this.props.theme}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"handleMouseEvent",value:function(e){if(e.preventDefault(),this.props.isPassive)return null;var t={};switch(e.type){case"mouseenter":t.hover=!0;break;case"mouseup":case"mouseleave":t.hover=!1,t.active=!1;break;case"mousedown":t.active=!0}this.setState(t)}},{key:"handleSelect",value:function(e){if(e.preventDefault(),this.props.isPassive)return null;this.props.onSelect(this.props.dayMoment)}},{key:"getStateStyles",value:function(){var e=this.state,t=e.hover,n=e.active,r=this.props,a=r.isSelected,o=r.isInRange,s=r.isPassive,l=r.isStartEdge,c=r.isEndEdge,u=(r.dayMoment,r.isToday),d=r.isSunday,h=r.isSpecialDay,p=this.styles,f=t?p.DayHover:{},m=n?p.DayActive:{},g=s?p.DayPassive:{},v=l?p.DayStartEdge:{},y=c?p.DayEndEdge:{},b=a?p.DaySelected:{},_=o?p.DayInRange:{},w=u?p.DayToday:{},k=d?p.DaySunday:{},x=h?p.DaySpecialDay:{};return i({},w,k,x,_,f,g,m,b,v,y)}},{key:"getClassNames",value:function(e){var t,n=this.props,i=n.isSelected,r=n.isInRange,a=n.isPassive,s=n.isStartEdge,l=n.isEndEdge,c=n.isToday,d=n.isSunday,h=n.isSpecialDay;return(0,u.default)((o(t={},e.day,!0),o(t,e.dayActive,i),o(t,e.dayPassive,a),o(t,e.dayInRange,r),o(t,e.dayStartEdge,s),o(t,e.dayEndEdge,l),o(t,e.dayToday,c),o(t,e.daySunday,d),o(t,e.daySpecialDay,h),t))}},{key:"render",value:function(){var e=this.props,t=e.dayMoment,n=e.onlyClasses,r=e.classNames,a=this.styles,o=this.getStateStyles(),s=this.getClassNames(r),c={width:a.Day.width,height:a.Day.height,display:a.Day.display};return l.default.createElement("span",{style:n?void 0:c,onClick:this.handleSelect.bind(this)},l.default.createElement("span",{onMouseEnter:this.handleMouseEvent.bind(this),onMouseLeave:this.handleMouseEvent.bind(this),onMouseDown:this.handleMouseEvent.bind(this),onMouseUp:this.handleMouseEvent.bind(this),className:s,style:n?void 0:i({},a.Day,o)},t.date()))}}]),t}(s.Component));d.defaultProps={theme:{Day:{}},onlyClasses:!1},d.propTypes={dayMoment:c.default.object.isRequired,onSelect:c.default.func,isSelected:c.default.bool,isInRange:c.default.bool,isPassive:c.default.bool,theme:c.default.shape({Day:c.default.object.isRequired}).isRequired,onlyClasses:c.default.bool,isSpecialDay:c.default.bool,classNames:c.default.object},t.default=d,e.exports=t.default},9865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cn:{january:"一月",february:"二月",march:"三月",april:"四月",may:"五月",june:"六月",july:"七月",august:"八月",september:"九月",october:"十月",november:"十一月",december:"十二月",su:"日",mo:"一",tu:"二",we:"三",th:"四",fr:"五",sa:"六"},jp:{january:"1月",february:"2月",march:"3月",april:"4月",may:"5月",june:"6月",july:"7月",august:"8月",september:"9月",october:"10月",november:"11月",december:"12月",su:"日",mo:"月",tu:"火",we:"水",th:"木",fr:"金",sa:"土"},fr:{january:"janvier",february:"février",march:"mars",april:"avril",may:"mai",june:"juin",july:"juillet",august:"août",september:"septembre",october:"octobre",november:"novembre",december:"décembre",su:"Dimanche",mo:"Lundi",tu:"Mardi",we:"Mercredi",th:"Jeudi",fr:"Vendredi",sa:"Samedi"},it:{january:"gennaio",february:"febbraio",march:"marzo",april:"aprile",may:"maggio",june:"giugno",july:"luglio",august:"agosto",september:"settembre",october:"ottobre",november:"novembre",december:"dicembre",su:"Domenica",mo:"Lunedì",tu:"Mardi",we:"Mercoledì",th:"Giovedì",fr:"Venerdì",sa:"Sabato"},de:{january:"Januar",february:"Februar",march:"März",april:"April",may:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember",su:"Sonntag",mo:"Montag",tu:"Dienstag",we:"Mittwoch",th:"Donnerstag",fr:"Freitag",sa:"Samstag"},es:{january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",su:"Do",mo:"Lu",tu:"Ma",we:"Mi",th:"Ju",fr:"Vi",sa:"Sa"}},e.exports=t.default},2661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(7294),l=a(s),c=a(n(5697)),u=(a(n(381)),a(n(4184))),d=a(n(8464)),h=n(2600),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var i=!0;i;){var r=e,a=t,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=o,i=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.styles=this.props.theme}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"handleSelect",value:function(e,n){n.preventDefault();var i=this.props.ranges[e];this.props.onSelect({startDate:(0,d.default)(i.startDate,null,"startOf"),endDate:(0,d.default)(i.endDate,null,"endOf")},t)}},{key:"renderRangeList",value:function(e){var t=this,n=this.props,r=n.ranges,a=n.range,s=n.onlyClasses,c=this.styles;return Object.keys(r).map(function(n){var h,p=(0,d.default)(r[n].startDate,null,"startOf").isSame(a.startDate)&&(0,d.default)(r[n].endDate,null,"endOf").isSame(a.endDate),f=i({},c.PredefinedRangesItem,p?c.PredefinedRangesItemActive:{}),m=(0,u.default)((o(h={},e.predefinedRangesItem,!0),o(h,e.predefinedRangesItemActive,p),h));return l.default.createElement("a",{href:"#",key:"range-"+n,className:m,style:s?void 0:f,onClick:t.handleSelect.bind(t,n)},n)}.bind(this))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.onlyClasses,r=e.classNames,a=this.styles,o=i({},h.defaultClasses,r);return l.default.createElement("div",{style:n?void 0:i({},a.PredefinedRanges,t),className:o.predefinedRanges},this.renderRangeList(o))}}]),t}(s.Component);p.defaultProps={onlyClasses:!1,classNames:{}},p.propTypes={ranges:c.default.object.isRequired,onlyClasses:c.default.bool,classNames:c.default.object},t.default=p,e.exports=t.default},5368:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Today:{startDate:function(e){return e},endDate:function(e){return e}},Yesterday:{startDate:function(e){return e.add(-1,"days")},endDate:function(e){return e.add(-1,"days")}},"Last 7 Days":{startDate:function(e){return e.add(-7,"days")},endDate:function(e){return e}},"Last 30 Days":{startDate:function(e){return e.add(-30,"days")},endDate:function(e){return e}}},e.exports=t.default},1681:(e,t,n)=>{"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(5761)),a=i(n(708)),o=i(n(5368));t.default={DateRange:r.default,Calendar:a.default,defaultRanges:o.default},e.exports=t.default},2600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.defaultClasses={calendar:"rdr-Calendar",dateRange:"rdr-DateRange",predefinedRanges:"rdr-PredefinedRanges",predefinedRangesItem:"rdr-PredefinedRangesItem",predefinedRangesItemActive:"rdr-PredefinedRangesItemActive",monthAndYear:"rdr-MonthAndYear",weekDays:"rdr-WeekDays",weekDay:"rdr-WeekDay",days:"rdr-Days",day:"rdr-Day",dayActive:"is-selected",dayPassive:"is-passive",dayInRange:"is-inRange",monthAndYearWrapper:"rdr-MonthAndYear-innerWrapper",prevButton:"rdr-MonthAndYear-button prev",nextButton:"rdr-MonthAndYear-button next",month:"rdr-MonthAndYear-month",monthAndYearDivider:"rdr-MonthAndYear-divider",year:"rdr-MonthAndYear-year",daySunday:"rdr-Sunday",daySpecialDay:"rdr-SpecialDay"};var i={DateRange:{display:"block",boxSizing:"border-box",background:"#ffffff",borderRadius:"2px"},Calendar:{width:280,padding:10,background:"#ffffff",borderRadius:"2px",display:"inline-block",boxSizing:"border-box",letterSpacing:0,color:"#000000"},Day:{boxSizing:"border-box",display:"inline-block",letterSpacing:"initial",textAlign:"center",fontSize:12,cursor:"pointer",transition:"transform .1s ease"},DayPassive:{opacity:.4,cursor:"normal"},DayHover:{background:"#bdc3c7"},DayToday:{},DaySunday:{},DaySpecialDay:{},DayActive:{background:"#95a5a6",color:"#ffffff",transform:"scale(0.9)"},DaySelected:{background:"#e74c3c",color:"#ffffff"},DayStartEdge:{},DayEndEdge:{},DayInRange:{background:"#34495e",color:"#95a5a6"},Weekday:{boxSizing:"border-box",display:"inline-block",letterSpacing:"initial",textAlign:"center",fontSize:12,fontWeight:"600",marginBottom:1},MonthAndYear:{textAlign:"center",boxSizing:"border-box",fontSize:12,padding:"10px 0",height:38,lineHeight:"18px"},MonthButton:{display:"block",boxSizing:"border-box",height:18,width:18,padding:0,margin:"0 10px",border:"none",background:"#bdc3c7",boxShadow:"none",outline:"none",borderRadius:"50%"},MonthArrow:{display:"block",width:0,height:0,padding:0,margin:0,border:"4px solid transparent",textAlign:"center"},MonthArrowPrev:{borderRightWidth:"6px",borderRightColor:"#34495e",marginLeft:1},MonthArrowNext:{borderLeftWidth:"6px",borderLeftColor:"#34495e",marginLeft:7},PredefinedRanges:{width:140,display:"inline-block",verticalAlign:"top"},PredefinedRangesItem:{display:"block",fontSize:12,color:"#2c3e50",padding:"10px 14px",borderRadius:"2px",background:"#ecf0f1",textDecoration:"none",marginBottom:6},PredefinedRangesItemActive:{color:"#E74C3C"}};t.default=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=i.Calendar.width,r=i.Calendar.padding,a=i.Day.margin||0;e.Calendar&&e.Calendar.hasOwnProperty("width")&&(t=e.Calendar.width),e.Calendar&&e.Calendar.hasOwnProperty("padding")&&(r=e.Calendar.padding),e.Day&&e.Day.hasOwnProperty("margin")&&(a=e.Day.margin);var o=(parseInt(t)-2*parseInt(r))/7-2*parseInt(a);return{DateRange:n({},i.DateRange,e.DateRange),Calendar:n({},i.Calendar,e.Calendar),Day:n({width:o,height:o,lineHeight:o+"px"},i.Day,e.Day),DayPassive:n({},i.DayPassive,e.DayPassive),DayHover:n({},i.DayHover,e.DayHover),DayToday:n({},i.DayToday,e.DayToday),DaySunday:n({},i.DaySunday,e.DaySunday),DaySpecialDay:n({},i.DaySpecialDay,e.DaySpecialDay),DayActive:n({},i.DayActive,e.DayActive),DaySelected:n({},i.DaySelected,e.DaySelected),DayStartEdge:n({},i.DayStartEdge,e.DayStartEdge),DayEndEdge:n({},i.DayEndEdge,e.DayEndEdge),DayInRange:n({},i.DayInRange,e.DayInRange),Weekday:n({width:o,height:o/2,lineHeight:o/2+"px"},i.Weekday,e.Weekday),MonthAndYear:n({},i.MonthAndYear,e.MonthAndYear),MonthButton:n({},i.MonthButton,e.MonthButton),MonthArrow:n({},i.MonthArrow,e.MonthArrow),MonthArrowPrev:n({},i.MonthArrowPrev,e.MonthArrowPrev),MonthArrowNext:n({},i.MonthArrowNext,e.MonthArrowNext),PredefinedRanges:n({},i.PredefinedRanges,e.PredefinedRanges),PredefinedRangesItem:n({},i.PredefinedRangesItem,e.PredefinedRangesItem),PredefinedRangesItemActive:n({},i.PredefinedRangesItemActive,e.PredefinedRangesItemActive)}}},8464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,i){var r=null;void 0!==t&&"null"!=typeof t&&t&&""!==t?"string"==typeof t?r=(0,a.default)(t,n)[i]("day"):"function"==typeof t?r=e(t((0,a.default)()[i]("day")),n,i):t._isAMomentObject&&(r=t[i]("day").clone()):r=(0,a.default)()[i]("day");return r};var i,r=n(381),a=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},4448:(e,t,n)=>{"use strict";var i=n(7294),r=n(9394),a=n(3840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(o(227));function s(e,t,n,i,r,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var l=!1,c=null,u=!1,d=null,h={onError:function(e){l=!0,c=e}};function p(e,t,n,i,r,a,o,u,d){l=!1,c=null,s.apply(h,arguments)}var f=null,m=null,g=null;function v(e,t,n){var i=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,i,r,a,s,h,f){if(p.apply(this,arguments),l){if(!l)throw Error(o(198));var m=c;l=!1,c=null,u||(u=!0,d=m)}}(i,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!k[n]){if(!t.extractEvents)throw Error(o(97,e));for(var i in k[n]=t,n=t.eventTypes){var r=void 0,a=n[i],s=t,l=i;if(x.hasOwnProperty(l))throw Error(o(99,l));x[l]=a;var c=a.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&w(c[r],s,l);r=!0}else a.registrationName?(w(a.registrationName,s,l),r=!0):r=!1;if(!r)throw Error(o(98,i,e))}}}}function w(e,t,n){if(E[e])throw Error(o(100,e));E[e]=t,C[e]=t.eventTypes[n].dependencies}var k=[],x={},E={},C={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!b.hasOwnProperty(t)||b[t]!==i){if(b[t])throw Error(o(102,t));b[t]=i,n=!0}}n&&_()}var T=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),D=null,F=null,M=null;function A(e){if(e=m(e)){if("function"!=typeof D)throw Error(o(280));var t=e.stateNode;t&&(t=f(t),D(e.stateNode,e.type,t))}}function I(e){F?M?M.push(e):M=[e]:F=e}function O(){if(F){var e=F,t=M;if(M=F=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function N(e,t){return e(t)}function P(e,t,n,i,r){return e(t,n,i,r)}function R(){}var j=N,L=!1,q=!1;function Z(){null===F&&null===M||(R(),O())}function B(e,t,n){if(q)return e(t,n);q=!0;try{return j(e,t,n)}finally{q=!1,Z()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,U={},W={};function H(e,t,n,i,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new H(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new H(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new H(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new H(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new H(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new H(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new H(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new H(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new H(e,5,!1,e.toLowerCase(),null,!1)}));var $=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace($,K);Y[t]=new H(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace($,K);Y[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace($,K);Y[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new H(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new H(e,1,!1,e.toLowerCase(),null,!0)}));var G=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,i){var r=Y.hasOwnProperty(t)?Y[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!z.call(W,e)||!z.call(U,e)&&(V.test(e)?W[e]=!0:(U[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}G.hasOwnProperty("ReactCurrentDispatcher")||(G.ReactCurrentDispatcher={current:null}),G.hasOwnProperty("ReactCurrentBatchConfig")||(G.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"==typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,ie=J?Symbol.for("react.strict_mode"):60108,re=J?Symbol.for("react.profiler"):60114,ae=J?Symbol.for("react.provider"):60109,oe=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ce=J?Symbol.for("react.suspense"):60113,ue=J?Symbol.for("react.suspense_list"):60120,de=J?Symbol.for("react.memo"):60115,he=J?Symbol.for("react.lazy"):60116,pe=J?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case pe:return ge(e.render);case he:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,a=ge(e.type);n=null,i&&(n=ge(i.type)),i=a,a="",r?a=" (at "+r.fileName.replace(Q,"")+":"+r.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=be(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ke(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ce(e,t){Ee(e,t);var n=ye(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function De(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Fe(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ie(e,t){var n=ye(t.value),i=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ne="http://www.w3.org/1999/xhtml",Pe="http://www.w3.org/2000/svg";function Re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Re(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Le,qe=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Pe||"innerHTML"in e)e.innerHTML=t;else{for((Le=Le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},ze={},Ue={};function We(e){if(ze[e])return ze[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ue)return ze[e]=n[t];return e}T&&(Ue=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var He=We("animationend"),Ye=We("animationiteration"),$e=We("animationstart"),Ke=We("transitionend"),Ge="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"==typeof WeakMap?WeakMap:Map);function Qe(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(o(188))}function nt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return tt(r),e;if(a===i)return tt(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)v(e,t[i],n[i]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(at=it(at,e)),e=at,at=null,e){if(rt(e,ot),at)throw Error(o(95));if(u)throw e=d,u=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function ht(e,t,n,i){if(ut.length){var r=ut.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Mn(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=lt(e.nativeEvent);i=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,l=0;l<k.length;l++){var c=k[l];c&&(c=c.extractEvents(i,t,a,r,o))&&(s=it(s,c))}st(s)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":$t(t,"scroll",!0);break;case"focus":case"blur":$t(t,"focus",!0),$t(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&$t(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ge.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var mt,gt,vt,yt=!1,bt=[],_t=null,wt=null,kt=null,xt=new Map,Et=new Map,Ct=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Dt(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Ft(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Mt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e=Dt(t,n,i,r,a),null!==t&&(null!==(t=An(t))&&gt(t)),e):(e.eventSystemFlags|=i,e)}function At(e){var t=Mn(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=An(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Ot(e,t,n){It(e)&&n.delete(t)}function Nt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=An(e.blockedOn))&&mt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&It(_t)&&(_t=null),null!==wt&&It(wt)&&(wt=null),null!==kt&&It(kt)&&(kt=null),xt.forEach(Ot),Et.forEach(Ot)}function Pt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Nt)))}function Rt(e){function t(t){return Pt(t,e)}if(0<bt.length){Pt(bt[0],e);for(var n=1;n<bt.length;n++){var i=bt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==_t&&Pt(_t,e),null!==wt&&Pt(wt,e),null!==kt&&Pt(kt,e),xt.forEach(t),Et.forEach(t),n=0;n<Ct.length;n++)(i=Ct[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)At(n),null===n.blockedOn&&Ct.shift()}var jt={},Lt=new Map,qt=new Map,Zt=["abort","abort",He,"animationEnd",Ye,"animationIteration",$e,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],a="on"+(r[0].toUpperCase()+r.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[i],eventPriority:t},qt.set(i,t),Lt.set(i,a),jt[r]=a}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Zt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Vt.length;zt++)qt.set(Vt[zt],0);var Ut=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,Ht=!0;function Yt(e,t){$t(t,e,!1)}function $t(e,t,n){var i=qt.get(t);switch(void 0===i?2:i){case 0:i=Kt.bind(null,t,1,e);break;case 1:i=Gt.bind(null,t,1,e);break;default:i=Xt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Kt(e,t,n,i){L||R();var r=Xt,a=L;L=!0;try{P(r,e,t,n,i)}finally{(L=a)||Z()}}function Gt(e,t,n,i){Wt(Ut,Xt.bind(null,e,t,n,i))}function Xt(e,t,n,i){if(Ht)if(0<bt.length&&-1<St.indexOf(e))e=Dt(null,e,t,n,i),bt.push(e);else{var r=Qt(e,t,n,i);if(null===r)Ft(e,i);else if(-1<St.indexOf(e))e=Dt(r,e,t,n,i),bt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return _t=Mt(_t,e,t,n,i,r),!0;case"dragenter":return wt=Mt(wt,e,t,n,i,r),!0;case"mouseover":return kt=Mt(kt,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return xt.set(a,Mt(xt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Et.set(a,Mt(Et.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){Ft(e,i),e=ht(e,i,null,t);try{B(pt,e)}finally{dt(e)}}}}function Qt(e,t,n,i){if(null!==(n=Mn(n=lt(i)))){var r=Je(n);if(null===r)n=null;else{var a=r.tag;if(13===a){if(null!==(n=et(r)))return n;n=null}else if(3===a){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=ht(e,i,n,t);try{B(pt,e)}finally{dt(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62,""))}}function on(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ne;function ln(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var i=0;i<t.length;i++)ft(t[i],e,n)}function cn(){}function un(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,i=dn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=dn(i)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$?",vn="$!",yn=null,bn=null;function _n(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var kn="function"==typeof setTimeout?setTimeout:void 0,xn="function"==typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===vn||n===gn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+Sn,Dn="__reactEventHandlers$"+Sn,Fn="__reactContainere$"+Sn;function Mn(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fn]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[Tn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function An(e){return!(e=e[Tn]||e[Fn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function In(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function On(e){return e[Dn]||null}function Nn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Pn(e,t){var n=e.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}function Rn(e,t,n){(t=Pn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function jn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Nn(t);for(t=n.length;0<t--;)Rn(n[t],"captured",e);for(t=0;t<n.length;t++)Rn(n[t],"bubbled",e)}}function Ln(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Pn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function qn(e){e&&e.dispatchConfig.registrationName&&Ln(e._targetInst,null,e)}function Zn(e){rt(e,jn)}var Bn=null,Vn=null,zn=null;function Un(){if(zn)return zn;var e,t,n=Vn,i=n.length,r="value"in Bn?Bn.value:Bn.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return zn=r.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function Hn(){return!1}function Yn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:Hn,this.isPropagationStopped=Hn,this}function $n(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Kn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gn(e){e.eventPool=[],e.getPooled=$n,e.release=Kn}r(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var a=new t;return r(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Gn(n),n},Gn(Yn);var Xn=Yn.extend({data:null}),Qn=Yn.extend({data:null}),Jn=[9,13,27,32],ei=T&&"CompositionEvent"in window,ti=null;T&&"documentMode"in document&&(ti=document.documentMode);var ni=T&&"TextEvent"in window&&!ti,ii=T&&(!ei||ti&&8<ti&&11>=ti),ri=String.fromCharCode(32),ai={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},oi=!1;function si(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function li(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ci=!1;var ui={eventTypes:ai,extractEvents:function(e,t,n,i){var r;if(ei)e:{switch(e){case"compositionstart":var a=ai.compositionStart;break e;case"compositionend":a=ai.compositionEnd;break e;case"compositionupdate":a=ai.compositionUpdate;break e}a=void 0}else ci?si(e,n)&&(a=ai.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=ai.compositionStart);return a?(ii&&"ko"!==n.locale&&(ci||a!==ai.compositionStart?a===ai.compositionEnd&&ci&&(r=Un()):(Vn="value"in(Bn=i)?Bn.value:Bn.textContent,ci=!0)),a=Xn.getPooled(a,t,n,i),r?a.data=r:null!==(r=li(n))&&(a.data=r),Zn(a),r=a):r=null,(e=ni?function(e,t){switch(e){case"compositionend":return li(t);case"keypress":return 32!==t.which?null:(oi=!0,ri);case"textInput":return(e=t.data)===ri&&oi?null:e;default:return null}}(e,n):function(e,t){if(ci)return"compositionend"===e||!ei&&si(e,t)?(e=Un(),zn=Vn=Bn=null,ci=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ii&&"ko"!==t.locale?null:t.data}}(e,n))?((t=Qn.getPooled(ai.beforeInput,t,n,i)).data=e,Zn(t)):t=null,null===r?t:null===t?r:[r,t]}},di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!di[e.type]:"textarea"===t}var pi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fi(e,t,n){return(e=Yn.getPooled(pi.change,e,t,n)).type="change",I(n),Zn(e),e}var mi=null,gi=null;function vi(e){st(e)}function yi(e){if(we(In(e)))return e}function bi(e,t){if("change"===e)return t}var _i=!1;function wi(){mi&&(mi.detachEvent("onpropertychange",ki),gi=mi=null)}function ki(e){if("value"===e.propertyName&&yi(gi))if(e=fi(gi,e,lt(e)),L)st(e);else{L=!0;try{N(vi,e)}finally{L=!1,Z()}}}function xi(e,t,n){"focus"===e?(wi(),gi=n,(mi=t).attachEvent("onpropertychange",ki)):"blur"===e&&wi()}function Ei(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return yi(gi)}function Ci(e,t){if("click"===e)return yi(t)}function Si(e,t){if("input"===e||"change"===e)return yi(t)}T&&(_i=ct("input")&&(!document.documentMode||9<document.documentMode));var Ti={eventTypes:pi,_isInputEventSupported:_i,extractEvents:function(e,t,n,i){var r=t?In(t):window,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type)var o=bi;else if(hi(r))if(_i)o=Si;else{o=Ei;var s=xi}else(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Ci);if(o&&(o=o(e,t)))return fi(o,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Te(r,"number",r.value)}},Di=Yn.extend({view:null,detail:null}),Fi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Fi[e])&&!!t[e]}function Ai(){return Mi}var Ii=0,Oi=0,Ni=!1,Pi=!1,Ri=Di.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ai,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ii;return Ii=e.screenX,Ni?"mousemove"===e.type?e.screenX-t:0:(Ni=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Oi;return Oi=e.screenY,Pi?"mousemove"===e.type?e.screenY-t:0:(Pi=!0,0)}}),ji=Ri.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Li={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},qi={eventTypes:Li,extractEvents:function(e,t,n,i,r){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Mn(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ri,l=Li.mouseLeave,c=Li.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=ji,l=Li.pointerLeave,c=Li.pointerEnter,u="pointer");if(e=null==o?a:In(o),a=null==t?a:In(t),(l=s.getPooled(l,o,n,i)).type=u+"leave",l.target=e,l.relatedTarget=a,(n=s.getPooled(c,t,n,i)).type=u+"enter",n.target=a,n.relatedTarget=e,u=t,(i=o)&&u)e:{for(c=u,o=0,e=s=i;e;e=Nn(e))o++;for(e=0,t=c;t;t=Nn(t))e++;for(;0<o-e;)s=Nn(s),o--;for(;0<e-o;)c=Nn(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=Nn(s),c=Nn(c)}s=null}else s=null;for(c=s,s=[];i&&i!==c&&(null===(o=i.alternate)||o!==c);)s.push(i),i=Nn(i);for(i=[];u&&u!==c&&(null===(o=u.alternate)||o!==c);)i.push(u),u=Nn(u);for(u=0;u<s.length;u++)Ln(s[u],"bubbled",l);for(u=i.length;0<u--;)Ln(i[u],"captured",n);return 0==(64&r)?[l]:[l,n]}};var Zi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Bi=Object.prototype.hasOwnProperty;function Vi(e,t){if(Zi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Bi.call(t,n[i])||!Zi(e[n[i]],t[n[i]]))return!1;return!0}var zi=T&&"documentMode"in document&&11>=document.documentMode,Ui={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wi=null,Hi=null,Yi=null,$i=!1;function Ki(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $i||null==Wi||Wi!==un(n)?null:("selectionStart"in(n=Wi)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yi&&Vi(Yi,n)?null:(Yi=n,(e=Yn.getPooled(Ui.select,Hi,e,t)).type="select",e.target=Wi,Zn(e),e))}var Gi={eventTypes:Ui,extractEvents:function(e,t,n,i,r,a){if(!(a=!(r=a||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Qe(r),a=C.onSelect;for(var o=0;o<a.length;o++)if(!r.has(a[o])){r=!1;break e}r=!0}a=!r}if(a)return null;switch(r=t?In(t):window,e){case"focus":(hi(r)||"true"===r.contentEditable)&&(Wi=r,Hi=t,Yi=null);break;case"blur":Yi=Hi=Wi=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":return $i=!1,Ki(n,i);case"selectionchange":if(zi)break;case"keydown":case"keyup":return Ki(n,i)}return null}},Xi=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Qi=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ji=Di.extend({relatedTarget:null});function er(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var tr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ir=Di.extend({key:function(e){if(e.key){var t=tr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=er(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?nr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ai,charCode:function(e){return"keypress"===e.type?er(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?er(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),rr=Ri.extend({dataTransfer:null}),ar=Di.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ai}),or=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sr=Ri.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),lr={eventTypes:jt,extractEvents:function(e,t,n,i){var r=Lt.get(e);if(!r)return null;switch(e){case"keypress":if(0===er(n))return null;case"keydown":case"keyup":e=ir;break;case"blur":case"focus":e=Ji;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ar;break;case He:case Ye:case $e:e=Xi;break;case Ke:e=or;break;case"scroll":e=Di;break;case"wheel":e=sr;break;case"copy":case"cut":case"paste":e=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ji;break;default:e=Yn}return Zn(t=e.getPooled(r,t,n,i)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),f=On,m=An,g=In,S({SimpleEventPlugin:lr,EnterLeaveEventPlugin:qi,ChangeEventPlugin:Ti,SelectEventPlugin:Gi,BeforeInputEventPlugin:ui});var cr=[],ur=-1;function dr(e){0>ur||(e.current=cr[ur],cr[ur]=null,ur--)}function hr(e,t){ur++,cr[ur]=e.current,e.current=t}var pr={},fr={current:pr},mr={current:!1},gr=pr;function vr(e,t){var n=e.type.contextTypes;if(!n)return pr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yr(e){return null!=(e=e.childContextTypes)}function br(){dr(mr),dr(fr)}function _r(e,t,n){if(fr.current!==pr)throw Error(o(168));hr(fr,t),hr(mr,n)}function wr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in e))throw Error(o(108,ge(t)||"Unknown",a));return r({},n,{},i)}function kr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,gr=fr.current,hr(fr,e),hr(mr,mr.current),!0}function xr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=wr(e,t,gr),i.__reactInternalMemoizedMergedChildContext=e,dr(mr),dr(fr),hr(fr,e)):dr(mr),hr(mr,n)}var Er=a.unstable_runWithPriority,Cr=a.unstable_scheduleCallback,Sr=a.unstable_cancelCallback,Tr=a.unstable_requestPaint,Dr=a.unstable_now,Fr=a.unstable_getCurrentPriorityLevel,Mr=a.unstable_ImmediatePriority,Ar=a.unstable_UserBlockingPriority,Ir=a.unstable_NormalPriority,Or=a.unstable_LowPriority,Nr=a.unstable_IdlePriority,Pr={},Rr=a.unstable_shouldYield,jr=void 0!==Tr?Tr:function(){},Lr=null,qr=null,Zr=!1,Br=Dr(),Vr=1e4>Br?Dr:function(){return Dr()-Br};function zr(){switch(Fr()){case Mr:return 99;case Ar:return 98;case Ir:return 97;case Or:return 96;case Nr:return 95;default:throw Error(o(332))}}function Ur(e){switch(e){case 99:return Mr;case 98:return Ar;case 97:return Ir;case 96:return Or;case 95:return Nr;default:throw Error(o(332))}}function Wr(e,t){return e=Ur(e),Er(e,t)}function Hr(e,t,n){return e=Ur(e),Cr(e,t,n)}function Yr(e){return null===Lr?(Lr=[e],qr=Cr(Mr,Kr)):Lr.push(e),Pr}function $r(){if(null!==qr){var e=qr;qr=null,Sr(e)}Kr()}function Kr(){if(!Zr&&null!==Lr){Zr=!0;var e=0;try{var t=Lr;Wr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Lr=null}catch(t){throw null!==Lr&&(Lr=Lr.slice(e+1)),Cr(Mr,$r),t}finally{Zr=!1}}}function Gr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Qr={current:null},Jr=null,ea=null,ta=null;function na(){ta=ea=Jr=null}function ia(e){var t=Qr.current;dr(Qr),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function aa(e,t){Jr=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Oo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Jr)throw Error(o(308));ea=t,Jr.dependencies={expirationTime:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function la(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ua(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function da(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.alternate;null!==n&&ca(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function pa(e,t,n,i){var a=e.updateQueue;sa=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next,s.next=l}o=s,a.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==o){l=o.next;var c=a.baseState,u=0,d=null,h=null,p=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<i){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(h=p=m,d=c):p=p.next=m,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),hl(s,f.suspenseConfig);e:{var g=e,v=f;switch(s=t,m=n,v.tag){case 1:if("function"==typeof(g=v.payload)){c=g.call(m,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=v.payload)?g.call(m,c,s):g))break e;c=r({},c,s);break e;case 2:sa=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=a.shared.pending))break;f=o.next=s.next,s.next=l,a.baseQueue=o=s,a.shared.pending=null}}null===p?d=c:p.next=h,a.baseState=d,a.baseQueue=p,pl(u),e.expirationTime=u,e.memoizedState=c}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ma=G.ReactCurrentBatchConfig,ga=(new i.Component).refs;function va(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Js(),r=ma.suspense;(r=ua(i=el(i,e,r),r)).payload=t,null!=n&&(r.callback=n),da(e,r),tl(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Js(),r=ma.suspense;(r=ua(i=el(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),da(e,r),tl(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Js(),i=ma.suspense;(i=ua(n=el(n,e,i),i)).tag=2,null!=t&&(i.callback=t),da(e,i),tl(e,n)}};function ba(e,t,n,i,r,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Vi(n,i)||!Vi(r,a))}function _a(e,t,n){var i=!1,r=pr,a=t.contextType;return"object"==typeof a&&null!==a?a=oa(a):(r=yr(t)?gr:fr.current,a=(i=null!=(i=t.contextTypes))?vr(e,r):pr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ka(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ga,la(e);var a=t.contextType;"object"==typeof a&&null!==a?r.context=oa(a):(a=yr(t)?gr:fr.current,r.context=vr(e,a)),pa(e,n,r,i),r.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ya.enqueueReplaceState(r,r.state,null),pa(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;t===ga&&(t=i.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ca(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Sa(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Rl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Ea(e,t,n),i.return=e,i):((i=Nl(n.type,n.key,n.props,null,e.mode,i)).ref=Ea(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=Pl(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Rl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case te:return(t=jl(t,e.mode,n)).return=e,t}if(xa(t)||me(t))return(t=Pl(t,e.mode,n,null)).return=e,t;Ca(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?d(e,t,n.props.children,i,r):c(e,t,n,i):null;case te:return n.key===r?u(e,t,n,i):null}if(xa(n)||me(n))return null!==r?null:d(e,t,n,i,null);Ca(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?d(t,e,i.props.children,r,i.key):c(t,e,i,r);case te:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(xa(i)||me(i))return d(t,e=e.get(n)||null,i,r,null);Ca(t,i)}return null}function m(r,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(r,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(r,d),c;if(null===d){for(;m<s.length;m++)null!==(d=h(r,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(r,d);m<s.length;m++)null!==(g=f(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),c}function g(r,s,l,c){var u=me(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(r,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(r,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(r,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,i,a,l){var c="object"==typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var u="object"==typeof a&&null!==a;if(u)switch(a.$$typeof){case ee:e:{for(u=a.key,c=i;null!==c;){if(c.key===u){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(i=r(c,a.props.children)).return=e,e=i;break e}}else if(c.elementType===a.type){n(e,c.sibling),(i=r(c,a.props)).ref=Ea(e,c,a),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((i=Pl(a.props.children,e.mode,l,a.key)).return=e,e=i):((l=Nl(a.type,a.key,a.props,null,e.mode,l)).ref=Ea(e,i,a),l.return=e,e=l)}return s(e);case te:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),(i=r(i,a.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=jl(a,e.mode,l)).return=e,e=i}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,a)).return=e,e=i):(n(e,i),(i=Rl(a,e.mode,l)).return=e,e=i),s(e);if(xa(a))return m(e,i,a,l);if(me(a))return g(e,i,a,l);if(u&&Ca(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,i)}}var Ta=Sa(!0),Da=Sa(!1),Fa={},Ma={current:Fa},Aa={current:Fa},Ia={current:Fa};function Oa(e){if(e===Fa)throw Error(o(174));return e}function Na(e,t){switch(hr(Ia,t),hr(Aa,e),hr(Ma,Fa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}dr(Ma),hr(Ma,t)}function Pa(){dr(Ma),dr(Aa),dr(Ia)}function Ra(e){Oa(Ia.current);var t=Oa(Ma.current),n=je(t,e.type);t!==n&&(hr(Aa,e),hr(Ma,n))}function ja(e){Aa.current===e&&(dr(Ma),dr(Aa))}var La={current:0};function qa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===gn||n.data===vn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Za(e,t){return{responder:e,props:t}}var Ba=G.ReactCurrentDispatcher,Va=G.ReactCurrentBatchConfig,za=0,Ua=null,Wa=null,Ha=null,Ya=!1;function $a(){throw Error(o(321))}function Ka(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zi(e[n],t[n]))return!1;return!0}function Ga(e,t,n,i,r,a){if(za=a,Ua=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ba.current=null===e||null===e.memoizedState?_o:wo,e=n(i,r),t.expirationTime===za){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ha=Wa=null,t.updateQueue=null,Ba.current=ko,e=n(i,r)}while(t.expirationTime===za)}if(Ba.current=bo,t=null!==Wa&&null!==Wa.next,za=0,Ha=Wa=Ua=null,Ya=!1,t)throw Error(o(300));return e}function Xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ha?Ua.memoizedState=Ha=e:Ha=Ha.next=e,Ha}function Qa(){if(null===Wa){var e=Ua.alternate;e=null!==e?e.memoizedState:null}else e=Wa.next;var t=null===Ha?Ua.memoizedState:Ha.next;if(null!==t)Ha=t,Wa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Wa=e).memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},null===Ha?Ua.memoizedState=Ha=e:Ha=Ha.next=e}return Ha}function Ja(e,t){return"function"==typeof t?t(e):t}function eo(e){var t=Qa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=Wa,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=a=null,c=r;do{var u=c.expirationTime;if(u<za){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,a=i):l=l.next=d,u>Ua.expirationTime&&(Ua.expirationTime=u,pl(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),hl(u,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==r);null===l?a=i:l.next=s,Zi(i,t.memoizedState)||(Oo=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function to(e){var t=Qa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);Zi(a,t.memoizedState)||(Oo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function no(e){var t=Xa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:e}).dispatch=yo.bind(null,Ua,e),[t.memoizedState,e]}function io(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Ua.updateQueue)?(t={lastEffect:null},Ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ro(){return Qa().memoizedState}function ao(e,t,n,i){var r=Xa();Ua.effectTag|=e,r.memoizedState=io(1|t,n,void 0,void 0===i?null:i)}function oo(e,t,n,i){var r=Qa();i=void 0===i?null:i;var a=void 0;if(null!==Wa){var o=Wa.memoizedState;if(a=o.destroy,null!==i&&Ka(i,o.deps))return void io(t,n,a,i)}Ua.effectTag|=e,r.memoizedState=io(1|t,n,a,i)}function so(e,t){return ao(516,4,e,t)}function lo(e,t){return oo(516,4,e,t)}function co(e,t){return oo(4,2,e,t)}function uo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ho(e,t,n){return n=null!=n?n.concat([e]):null,oo(4,2,uo.bind(null,t,e),n)}function po(){}function fo(e,t){return Xa().memoizedState=[e,void 0===t?null:t],e}function mo(e,t){var n=Qa();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ka(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function go(e,t){var n=Qa();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ka(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function vo(e,t,n){var i=zr();Wr(98>i?98:i,(function(){e(!0)})),Wr(97<i?97:i,(function(){var i=Va.suspense;Va.suspense=void 0===t?null:t;try{e(!1),n()}finally{Va.suspense=i}}))}function yo(e,t,n){var i=Js(),r=ma.suspense;r={expirationTime:i=el(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?r.next=r:(r.next=a.next,a.next=r),t.pending=r,a=e.alternate,e===Ua||null!==a&&a===Ua)Ya=!0,r.expirationTime=za,Ua.expirationTime=za;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.eagerReducer=a,r.eagerState=s,Zi(s,o))return}catch(e){}tl(e,i)}}var bo={readContext:oa,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useResponder:$a,useDeferredValue:$a,useTransition:$a},_o={readContext:oa,useCallback:fo,useContext:oa,useEffect:so,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ao(4,2,uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ao(4,2,e,t)},useMemo:function(e,t){var n=Xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Xa();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=yo.bind(null,Ua,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Xa().memoizedState=e},useState:no,useDebugValue:po,useResponder:Za,useDeferredValue:function(e,t){var n=no(e),i=n[0],r=n[1];return so((function(){var n=Va.suspense;Va.suspense=void 0===t?null:t;try{r(e)}finally{Va.suspense=n}}),[e,t]),i},useTransition:function(e){var t=no(!1),n=t[0];return t=t[1],[fo(vo.bind(null,t,e),[t,e]),n]}},wo={readContext:oa,useCallback:mo,useContext:oa,useEffect:lo,useImperativeHandle:ho,useLayoutEffect:co,useMemo:go,useReducer:eo,useRef:ro,useState:function(){return eo(Ja)},useDebugValue:po,useResponder:Za,useDeferredValue:function(e,t){var n=eo(Ja),i=n[0],r=n[1];return lo((function(){var n=Va.suspense;Va.suspense=void 0===t?null:t;try{r(e)}finally{Va.suspense=n}}),[e,t]),i},useTransition:function(e){var t=eo(Ja),n=t[0];return t=t[1],[mo(vo.bind(null,t,e),[t,e]),n]}},ko={readContext:oa,useCallback:mo,useContext:oa,useEffect:lo,useImperativeHandle:ho,useLayoutEffect:co,useMemo:go,useReducer:to,useRef:ro,useState:function(){return to(Ja)},useDebugValue:po,useResponder:Za,useDeferredValue:function(e,t){var n=to(Ja),i=n[0],r=n[1];return lo((function(){var n=Va.suspense;Va.suspense=void 0===t?null:t;try{r(e)}finally{Va.suspense=n}}),[e,t]),i},useTransition:function(e){var t=to(Ja),n=t[0];return t=t[1],[mo(vo.bind(null,t,e),[t,e]),n]}},xo=null,Eo=null,Co=!1;function So(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function To(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Do(e){if(Co){var t=Eo;if(t){var n=t;if(!To(e,t)){if(!(t=En(n.nextSibling))||!To(e,t))return e.effectTag=-1025&e.effectTag|2,Co=!1,void(xo=e);So(xo,n)}xo=e,Eo=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Co=!1,xo=e}}function Fo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xo=e}function Mo(e){if(e!==xo)return!1;if(!Co)return Fo(e),Co=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wn(t,e.memoizedProps))for(t=Eo;t;)So(e,t),t=En(t.nextSibling);if(Fo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Eo=En(e.nextSibling);break e}t--}else"$"!==n&&n!==vn&&n!==gn||t++}e=e.nextSibling}Eo=null}}else Eo=xo?En(e.stateNode.nextSibling):null;return!0}function Ao(){Eo=xo=null,Co=!1}var Io=G.ReactCurrentOwner,Oo=!1;function No(e,t,n,i){t.child=null===e?Da(t,null,n,i):Ta(t,e.child,n,i)}function Po(e,t,n,i,r){n=n.render;var a=t.ref;return aa(t,r),i=Ga(e,t,n,i,a,r),null===e||Oo?(t.effectTag|=1,No(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Xo(e,t,r))}function Ro(e,t,n,i,r,a){if(null===e){var o=n.type;return"function"!=typeof o||Il(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,i,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,i,r,a))}return o=e.child,r<a&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:Vi)(r,i)&&e.ref===t.ref)?Xo(e,t,a):(t.effectTag|=1,(e=Ol(o,i)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,i,r,a){return null!==e&&Vi(e.memoizedProps,i)&&e.ref===t.ref&&(Oo=!1,r<a)?(t.expirationTime=e.expirationTime,Xo(e,t,a)):qo(e,t,n,i,a)}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function qo(e,t,n,i,r){var a=yr(n)?gr:fr.current;return a=vr(t,a),aa(t,r),n=Ga(e,t,n,i,a,r),null===e||Oo?(t.effectTag|=1,No(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Xo(e,t,r))}function Zo(e,t,n,i,r){if(yr(n)){var a=!0;kr(t)}else a=!1;if(aa(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_a(t,n,i),ka(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=oa(c):c=vr(t,c=yr(n)?gr:fr.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==i||l!==c)&&wa(t,o,i,c),sa=!1;var h=t.memoizedState;o.state=h,pa(t,i,o,r),l=t.memoizedState,s!==i||h!==l||mr.current||sa?("function"==typeof u&&(va(t,n,u,i),l=t.memoizedState),(s=sa||ba(t,n,s,i,h,l,c))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),i=!1)}else o=t.stateNode,ca(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Xr(t.type,s),l=o.context,"object"==typeof(c=n.contextType)&&null!==c?c=oa(c):c=vr(t,c=yr(n)?gr:fr.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==i||l!==c)&&wa(t,o,i,c),sa=!1,l=t.memoizedState,o.state=l,pa(t,i,o,r),h=t.memoizedState,s!==i||l!==h||mr.current||sa?("function"==typeof u&&(va(t,n,u,i),h=t.memoizedState),(u=sa||ba(t,n,s,i,l,h,c))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(i,h,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,h,c)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=h),o.props=i,o.state=h,o.context=c,i=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Bo(e,t,n,i,a,r)}function Bo(e,t,n,i,r,a){Lo(e,t);var o=0!=(64&t.effectTag);if(!i&&!o)return r&&xr(t,n,!1),Xo(e,t,a);i=t.stateNode,Io.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):No(e,t,s,a),t.memoizedState=i.state,r&&xr(t,n,!0),t.child}function Vo(e){var t=e.stateNode;t.pendingContext?_r(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_r(0,t.context,!1),Na(e,t.containerInfo)}var zo,Uo,Wo,Ho={dehydrated:null,retryTime:0};function Yo(e,t,n){var i,r=t.mode,a=t.pendingProps,o=La.current,s=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&o)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),hr(La,1&o),null===e){if(void 0!==a.fallback&&Do(t),s){if(s=a.fallback,(a=Pl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Pl(s,r,n,null)).return=t,a.sibling=n,t.memoizedState=Ho,t.child=a,n}return r=a.children,t.memoizedState=null,t.child=Da(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(a=a.fallback,(n=Ol(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Ol(r,a)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ho,t.child=n,r}return n=Ta(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Pl(null,r,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Pl(s,r,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Ho,t.child=a,n}return t.memoizedState=null,t.child=Ta(t,e,a.children,n)}function $o(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ra(e.return,t)}function Ko(e,t,n,i,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailExpiration=0,o.tailMode=r,o.lastEffect=a)}function Go(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(No(e,t,i.children,n),0!=(2&(i=La.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n);else if(19===e.tag)$o(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(hr(La,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===qa(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ko(t,!1,r,n,a,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===qa(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ko(t,!0,n,null,a,t.lastEffect);break;case"together":Ko(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&pl(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Jo(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yr(t.type)&&br(),null;case 3:return Pa(),dr(mr),dr(fr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Mo(t)||(t.effectTag|=4),null;case 5:ja(t),n=Oa(Ia.current);var a=t.type;if(null!==e&&null!=t.stateNode)Uo(e,t,a,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Ma.current),Mo(t)){i=t.stateNode,a=t.type;var s=t.memoizedProps;switch(i[Tn]=t,i[Dn]=s,a){case"iframe":case"object":case"embed":Yt("load",i);break;case"video":case"audio":for(e=0;e<Ge.length;e++)Yt(Ge[e],i);break;case"source":Yt("error",i);break;case"img":case"image":case"link":Yt("error",i),Yt("load",i);break;case"form":Yt("reset",i),Yt("submit",i);break;case"details":Yt("toggle",i);break;case"input":xe(i,s),Yt("invalid",i),ln(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",i),ln(n,"onChange");break;case"textarea":Ae(i,s),Yt("invalid",i),ln(n,"onChange")}for(var l in an(a,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?i.textContent!==c&&(e=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(l)&&null!=c&&ln(n,l)}switch(a){case"input":_e(i),Se(i,s,!0);break;case"textarea":_e(i),Oe(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Re(a)),e===sn?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(a,{is:i.is}):(e=l.createElement(a),"select"===a&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,a),e[Tn]=t,e[Dn]=i,zo(e,t),t.stateNode=e,l=on(a,i),a){case"iframe":case"object":case"embed":Yt("load",e),c=i;break;case"video":case"audio":for(c=0;c<Ge.length;c++)Yt(Ge[c],e);c=i;break;case"source":Yt("error",e),c=i;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),c=i;break;case"form":Yt("reset",e),Yt("submit",e),c=i;break;case"details":Yt("toggle",e),c=i;break;case"input":xe(e,i),c=ke(e,i),Yt("invalid",e),ln(n,"onChange");break;case"option":c=De(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=r({},i,{value:void 0}),Yt("invalid",e),ln(n,"onChange");break;case"textarea":Ae(e,i),c=Me(e,i),Yt("invalid",e),ln(n,"onChange");break;default:c=i}an(a,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?nn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&qe(e,d):"children"===s?"string"==typeof d?("textarea"!==a||""!==d)&&Ze(e,d):"number"==typeof d&&Ze(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=d&&ln(n,s):null!=d&&X(e,s,d,l))}switch(a){case"input":_e(e),Se(e,i,!1);break;case"textarea":_e(e),Oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+ye(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?Fe(e,!!i.multiple,n,!1):null!=i.defaultValue&&Fe(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=cn)}_n(a,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wo(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(o(166));n=Oa(Ia.current),Oa(Ma.current),Mo(t)?(n=t.stateNode,i=t.memoizedProps,n[Tn]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Tn]=t,t.stateNode=n)}return null;case 13:return dr(La),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Mo(t):(i=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&La.current)?Ns===Ts&&(Ns=Ds):(Ns!==Ts&&Ns!==Ds||(Ns=Fs),0!==qs&&null!==As&&(Zl(As,Os),Bl(As,qs)))),(n||i)&&(t.effectTag|=4),null);case 4:return Pa(),null;case 10:return ia(t),null;case 19:if(dr(La),null===(i=t.memoizedState))return null;if(a=0!=(64&t.effectTag),null===(s=i.rendering)){if(a)Qo(i,!1);else if(Ns!==Ts||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=qa(s))){for(t.effectTag|=64,Qo(i,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(a=i).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return hr(La,1&La.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=qa(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Qo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Vr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,Qo(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Vr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Vr(),n.sibling=null,t=La.current,hr(La,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function es(e){switch(e.tag){case 1:yr(e.type)&&br();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Pa(),dr(mr),dr(fr),0!=(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return ja(e),null;case 13:return dr(La),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return dr(La),null;case 4:return Pa(),null;case 10:return ia(e),null;default:return null}}function ts(e,t){return{value:e,source:t,stack:ve(t)}}zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Uo=function(e,t,n,i,a){var o=e.memoizedProps;if(o!==i){var s,l,c=t.stateNode;switch(Oa(Ma.current),e=null,n){case"input":o=ke(c,o),i=ke(c,i),e=[];break;case"option":o=De(c,o),i=De(c,i),e=[];break;case"select":o=r({},o,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":o=Me(c,o),i=Me(c,i),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(c.onclick=cn)}for(s in an(n,i),n=null,o)if(!i.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in c=o[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var u=i[s];if(c=null!=o?o[s]:void 0,i.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=u&&ln(a,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Wo=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var ns="function"==typeof WeakSet?WeakSet:Set;function is(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function rs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Cl(e,t)}else t.current=null}function as(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ls(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ss(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Xr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&_n(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Rt(n)))))}throw Error(o(163))}function cs(e,t,n){switch("function"==typeof Fl&&Fl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Wr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){Cl(r,e)}}e=e.next}while(e!==i)}))}break;case 1:rs(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Cl(e,t)}}(t,n);break;case 5:rs(t);break;case 4:ms(e,t,n)}}function us(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&us(t)}function ds(e){return 5===e.tag||3===e.tag||4===e.tag}function hs(e){e:{for(var t=e.return;null!==t;){if(ds(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ds(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?ps(e,n,t):fs(e,n,t)}function ps(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=cn));else if(4!==i&&null!==(e=e.child))for(ps(e,t,n),e=e.sibling;null!==e;)ps(e,t,n),e=e.sibling}function fs(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(fs(e,t,n),e=e.sibling;null!==e;)fs(e,t,n),e=e.sibling}function ms(e,t,n){for(var i,r,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,u=n,d=c;;)if(cs(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(l=i,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(cs(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function gs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void os(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Dn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Ee(n,i),on(e,r),t=on(e,i),r=0;r<a.length;r+=2){var s=a[r],l=a[r+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?qe(n,l):"children"===s?Ze(n,l):X(n,s,l,t)}switch(e){case"input":Ce(n,i);break;case"textarea":Ie(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Fe(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Fe(n,!!i.multiple,i.defaultValue,!0):Fe(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Rt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Bs=Vr()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,i?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,a.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void vs(t);case 19:return void vs(t)}throw Error(o(163))}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ns),t.forEach((function(t){var i=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var ys="function"==typeof WeakMap?WeakMap:Map;function bs(e,t,n){(n=ua(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){zs||(zs=!0,Us=i),is(e,t)},n}function _s(e,t,n){(n=ua(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return is(e,t),i(r)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Ws?Ws=new Set([this]):Ws.add(this),is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ws,ks=Math.ceil,xs=G.ReactCurrentDispatcher,Es=G.ReactCurrentOwner,Cs=16,Ss=32,Ts=0,Ds=3,Fs=4,Ms=0,As=null,Is=null,Os=0,Ns=Ts,Ps=null,Rs=1073741823,js=1073741823,Ls=null,qs=0,Zs=!1,Bs=0,Vs=null,zs=!1,Us=null,Ws=null,Hs=!1,Ys=null,$s=90,Ks=null,Gs=0,Xs=null,Qs=0;function Js(){return 0!=(48&Ms)?1073741821-(Vr()/10|0):0!==Qs?Qs:Qs=1073741821-(Vr()/10|0)}function el(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=zr();if(0==(4&t))return 99===i?1073741823:1073741822;if(0!=(Ms&Cs))return Os;if(null!==n)e=Gr(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Gr(e,150,100);break;case 97:case 96:e=Gr(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==As&&e===Os&&--e,e}function tl(e,t){if(50<Gs)throw Gs=0,Xs=null,Error(o(185));if(null!==(e=nl(e,t))){var n=zr();1073741823===t?0!=(8&Ms)&&0==(48&Ms)?ol(e):(rl(e),0===Ms&&$r()):rl(e),0==(4&Ms)||98!==n&&99!==n||(null===Ks?Ks=new Map([[e,t]]):(void 0===(n=Ks.get(e))||n>t)&&Ks.set(e,t))}}function nl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(As===r&&(pl(t),Ns===Fs&&Zl(r,Os)),Bl(r,t)),r}function il(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!ql(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function rl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yr(ol.bind(null,e));else{var t=il(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=Js();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Pr&&Sr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Yr(ol.bind(null,e)):Hr(i,al.bind(null,e),{timeout:10*(1073741821-t)-Vr()}),e.callbackNode=t}}}function al(e,t){if(Qs=0,t)return Vl(e,t=Js()),rl(e),null;var n=il(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ms))throw Error(o(327));if(kl(),e===As&&n===Os||cl(e,n),null!==Is){var i=Ms;Ms|=Cs;for(var r=dl();;)try{ml();break}catch(t){ul(e,t)}if(na(),Ms=i,xs.current=r,1===Ns)throw t=Ps,cl(e,n),Zl(e,n),rl(e),t;if(null===Is)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Ns,As=null,i){case Ts:case 1:throw Error(o(345));case 2:Vl(e,2<n?2:n);break;case Ds:if(Zl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=yl(r)),1073741823===Rs&&10<(r=Bs+500-Vr())){if(Zs){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,cl(e,n);break}}if(0!==(a=il(e))&&a!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=kn(bl.bind(null,e),r);break}bl(e);break;case Fs:if(Zl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=yl(r)),Zs&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,cl(e,n);break}if(0!==(r=il(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==js?i=10*(1073741821-js)-Vr():1073741823===Rs?i=0:(i=10*(1073741821-Rs)-5e3,0>(i=(r=Vr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ks(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=kn(bl.bind(null,e),i);break}bl(e);break;case 5:if(1073741823!==Rs&&null!==Ls){a=Rs;var s=Ls;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(a=Vr()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=r?0:r+i-a),10<i){Zl(e,n),e.timeoutHandle=kn(bl.bind(null,e),i);break}}bl(e);break;default:throw Error(o(329))}if(rl(e),e.callbackNode===t)return al.bind(null,e)}}return null}function ol(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ms))throw Error(o(327));if(kl(),e===As&&t===Os||cl(e,t),null!==Is){var n=Ms;Ms|=Cs;for(var i=dl();;)try{fl();break}catch(t){ul(e,t)}if(na(),Ms=n,xs.current=i,1===Ns)throw n=Ps,cl(e,t),Zl(e,t),rl(e),n;if(null!==Is)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,As=null,bl(e),rl(e)}return null}function sl(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&$r()}}function ll(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&$r()}}function cl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,xn(n)),null!==Is)for(n=Is.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&br();break;case 3:Pa(),dr(mr),dr(fr);break;case 5:ja(i);break;case 4:Pa();break;case 13:case 19:dr(La);break;case 10:ia(i)}n=n.return}As=e,Is=Ol(e.current,null),Os=t,Ns=Ts,Ps=null,js=Rs=1073741823,Ls=null,qs=0,Zs=!1}function ul(e,t){for(;;){try{if(na(),Ba.current=bo,Ya)for(var n=Ua.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(za=0,Ha=Wa=Ua=null,Ya=!1,null===Is||null===Is.return)return Ns=1,Ps=t,Is=null;e:{var r=e,a=Is.return,o=Is,s=t;if(t=Os,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!=(1&La.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var f=d.memoizedProps;h=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(l),d.updateQueue=g}else m.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=ua(1073741823,null);v.tag=2,da(o,v)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=r.pingCache;if(null===y?(y=r.pingCache=new ys,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(o)){s.add(o);var b=Sl.bind(null,r,l,o);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ge(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(o))}5!==Ns&&(Ns=2),s=ts(s,o),d=a;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,ha(d,bs(d,l,t));break e;case 1:l=s;var _=d.type,w=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof _.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Ws||!Ws.has(w)))){d.effectTag|=4096,d.expirationTime=t,ha(d,_s(d,l,t));break e}}d=d.return}while(null!==d)}Is=vl(Is)}catch(e){t=e;continue}break}}function dl(){var e=xs.current;return xs.current=bo,null===e?bo:e}function hl(e,t){e<Rs&&2<e&&(Rs=e),null!==t&&e<js&&2<e&&(js=e,Ls=t)}function pl(e){e>qs&&(qs=e)}function fl(){for(;null!==Is;)Is=gl(Is)}function ml(){for(;null!==Is&&!Rr();)Is=gl(Is)}function gl(e){var t=ws(e.alternate,e,Os);return e.memoizedProps=e.pendingProps,null===t&&(t=vl(e)),Es.current=null,t}function vl(e){Is=e;do{var t=Is.alternate;if(e=Is.return,0==(2048&Is.effectTag)){if(t=Jo(t,Is,Os),1===Os||1!==Is.childExpirationTime){for(var n=0,i=Is.child;null!==i;){var r=i.expirationTime,a=i.childExpirationTime;r>n&&(n=r),a>n&&(n=a),i=i.sibling}Is.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Is.firstEffect),null!==Is.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Is.firstEffect),e.lastEffect=Is.lastEffect),1<Is.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Is:e.firstEffect=Is,e.lastEffect=Is))}else{if(null!==(t=es(Is)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Is.sibling))return t;Is=e}while(null!==Is);return Ns===Ts&&(Ns=5),null}function yl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function bl(e){var t=zr();return Wr(99,_l.bind(null,e,t)),null}function _l(e,t){do{kl()}while(null!==Ys);if(0!=(48&Ms))throw Error(o(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=yl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===As&&(Is=As=null,Os=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var a=Ms;Ms|=Ss,Es.current=null,yn=Ht;var s=fn();if(mn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var h=0,p=-1,f=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==u&&3!==v.nodeType||(p=h+u),v!==d||0!==c&&3!==v.nodeType||(f=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++m===u&&(p=h),y===d&&++g===c&&(f=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;bn={activeElementDetached:null,focusedElem:s,selectionRange:l},Ht=!1,Vs=r;do{try{wl()}catch(e){if(null===Vs)throw Error(o(330));Cl(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);Vs=r;do{try{for(s=e,l=t;null!==Vs;){var _=Vs.effectTag;if(16&_&&Ze(Vs.stateNode,""),128&_){var w=Vs.alternate;if(null!==w){var k=w.ref;null!==k&&("function"==typeof k?k(null):k.current=null)}}switch(1038&_){case 2:hs(Vs),Vs.effectTag&=-3;break;case 6:hs(Vs),Vs.effectTag&=-3,gs(Vs.alternate,Vs);break;case 1024:Vs.effectTag&=-1025;break;case 1028:Vs.effectTag&=-1025,gs(Vs.alternate,Vs);break;case 4:gs(Vs.alternate,Vs);break;case 8:ms(s,u=Vs,l),us(u)}Vs=Vs.nextEffect}}catch(e){if(null===Vs)throw Error(o(330));Cl(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);if(k=bn,w=fn(),_=k.focusedElem,l=k.selectionRange,w!==_&&_&&_.ownerDocument&&pn(_.ownerDocument.documentElement,_)){null!==l&&mn(_)&&(w=l.start,void 0===(k=l.end)&&(k=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(k,_.value.length)):(k=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),u=_.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!k.extend&&s>l&&(u=l,l=s,s=u),u=hn(_,s),d=hn(_,l),u&&d&&(1!==k.rangeCount||k.anchorNode!==u.node||k.anchorOffset!==u.offset||k.focusNode!==d.node||k.focusOffset!==d.offset)&&((w=w.createRange()).setStart(u.node,u.offset),k.removeAllRanges(),s>l?(k.addRange(w),k.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),k.addRange(w))))),w=[];for(k=_;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<w.length;_++)(k=w[_]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Ht=!!yn,bn=yn=null,e.current=n,Vs=r;do{try{for(_=e;null!==Vs;){var x=Vs.effectTag;if(36&x&&ls(_,Vs.alternate,Vs),128&x){w=void 0;var E=Vs.ref;if(null!==E){var C=Vs.stateNode;Vs.tag,w=C,"function"==typeof E?E(w):E.current=w}}Vs=Vs.nextEffect}}catch(e){if(null===Vs)throw Error(o(330));Cl(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);Vs=null,jr(),Ms=a}else e.current=n;if(Hs)Hs=!1,Ys=e,$s=t;else for(Vs=r;null!==Vs;)t=Vs.nextEffect,Vs.nextEffect=null,Vs=t;if(0===(t=e.firstPendingTime)&&(Ws=null),1073741823===t?e===Xs?Gs++:(Gs=0,Xs=e):Gs=0,"function"==typeof Dl&&Dl(n.stateNode,i),rl(e),zs)throw zs=!1,e=Us,Us=null,e;return 0!=(8&Ms)||$r(),null}function wl(){for(;null!==Vs;){var e=Vs.effectTag;0!=(256&e)&&as(Vs.alternate,Vs),0==(512&e)||Hs||(Hs=!0,Hr(97,(function(){return kl(),null}))),Vs=Vs.nextEffect}}function kl(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Wr(e,xl)}}function xl(){if(null===Ys)return!1;var e=Ys;if(Ys=null,0!=(48&Ms))throw Error(o(331));var t=Ms;for(Ms|=Ss,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:os(5,n),ss(5,n)}}catch(t){if(null===e)throw Error(o(330));Cl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ms=t,$r(),!0}function El(e,t,n){da(e,t=bs(e,t=ts(n,t),1073741823)),null!==(e=nl(e,1073741823))&&rl(e)}function Cl(e,t){if(3===e.tag)El(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){El(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ws||!Ws.has(i))){da(n,e=_s(n,e=ts(t,e),1073741823)),null!==(n=nl(n,1073741823))&&rl(n);break}}n=n.return}}function Sl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),As===e&&Os===n?Ns===Fs||Ns===Ds&&1073741823===Rs&&Vr()-Bs<500?cl(e,Os):Zs=!0:ql(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,rl(e)))}function Tl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=el(t=Js(),e,null)),null!==(e=nl(e,t))&&rl(e)}ws=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||mr.current)Oo=!0;else{if(i<n){switch(Oo=!1,t.tag){case 3:Vo(t),Ao();break;case 5:if(Ra(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:yr(t.type)&&kr(t);break;case 4:Na(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,hr(Qr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Yo(e,t,n):(hr(La,1&La.current),null!==(t=Xo(e,t,n))?t.sibling:null);hr(La,1&La.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return Go(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),hr(La,La.current),!i)return null}return Xo(e,t,n)}Oo=!1}}else Oo=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=vr(t,fr.current),aa(t,n),r=Ga(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yr(i)){var a=!0;kr(t)}else a=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,la(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&va(t,i,s,e),r.updater=ya,t.stateNode=r,r._reactInternalFiber=t,ka(t,i,e,n),t=Bo(null,t,i,!0,a,n)}else t.tag=0,No(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,a=t.tag=function(e){if("function"==typeof e)return Il(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(r),e=Xr(r,e),a){case 0:t=qo(null,t,r,e,n);break e;case 1:t=Zo(null,t,r,e,n);break e;case 11:t=Po(null,t,r,e,n);break e;case 14:t=Ro(null,t,r,Xr(r.type,e),i,n);break e}throw Error(o(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,qo(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Zo(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 3:if(Vo(t),i=t.updateQueue,null===e||null===i)throw Error(o(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ca(e,t),pa(t,i,null,n),(i=t.memoizedState.element)===r)Ao(),t=Xo(e,t,n);else{if((r=t.stateNode.hydrate)&&(Eo=En(t.stateNode.containerInfo.firstChild),xo=t,r=Co=!0),r)for(n=Da(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else No(e,t,i,n),Ao();t=t.child}return t;case 5:return Ra(t),null===e&&Do(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,wn(i,r)?s=null:null!==a&&wn(i,a)&&(t.effectTag|=16),Lo(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(No(e,t,s,n),t=t.child),t;case 6:return null===e&&Do(t),null;case 13:return Yo(e,t,n);case 4:return Na(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ta(t,null,i,n):No(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Po(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value;var l=t.type._context;if(hr(Qr,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=Zi(l,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,a):1073741823))){if(s.children===r.children&&!mr.current){t=Xo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&a)){1===l.tag&&((u=ua(n,null)).tag=2,da(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ra(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}No(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(a=t.pendingProps).children,aa(t,n),i=i(r=oa(r,a.unstable_observedBits)),t.effectTag|=1,No(e,t,i,n),t.child;case 14:return a=Xr(r=t.type,t.pendingProps),Ro(e,t,r,a=Xr(r.type,a),i,n);case 15:return jo(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Xr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,yr(i)?(e=!0,kr(t)):e=!1,aa(t,n),_a(t,i,r),ka(t,i,r,n),Bo(null,t,i,!0,e,n);case 19:return Go(e,t,n)}throw Error(o(156,t.tag))};var Dl=null,Fl=null;function Ml(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Al(e,t,n,i){return new Ml(e,t,n,i)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,i,r,a){var s=2;if(i=e,"function"==typeof e)Il(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Pl(n.children,r,a,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=Al(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=a,e;case ce:return(e=Al(13,n,t,r)).type=ce,e.elementType=ce,e.expirationTime=a,e;case ue:return(e=Al(19,n,t,r)).elementType=ue,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case le:s=11;break e;case de:s=14;break e;case he:s=16,i=null;break e;case pe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Al(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=a,t}function Pl(e,t,n,i){return(e=Al(7,e,i,t)).expirationTime=n,e}function Rl(e,t,n){return(e=Al(6,e,null,t)).expirationTime=n,e}function jl(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ll(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ql(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Zl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Bl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Vl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function zl(e,t,n,i){var r=t.current,a=Js(),s=ma.suspense;a=el(a,r,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(yr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yr(c)){n=wr(n,c,l);break e}}n=l}else n=pr;return null===t.context?t.context=n:t.pendingContext=n,(t=ua(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),da(r,t),tl(r,a),a}function Ul(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Hl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}function Yl(e,t,n){var i=new Ll(e,t,n=null!=n&&!0===n.hydrate),r=Al(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,la(r),e[Fn]=i.current,n&&0!==t&&function(e,t){var n=Qe(t);St.forEach((function(e){ft(e,t,n)})),Tt.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kl(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof r){var s=r;r=function(){var e=Ul(o);s.call(e)}}zl(t,o,e,r)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yl(e,0,t?{hydrate:!0}:void 0)}(n,i),o=a._internalRoot,"function"==typeof r){var l=r;r=function(){var e=Ul(o);l.call(e)}}ll((function(){zl(t,o,e,r)}))}return Ul(o)}function Gl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Xl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(o(200));return Gl(e,t,null,n)}Yl.prototype.render=function(e){zl(e,this._internalRoot,null,null)},Yl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;zl(null,e,null,(function(){t[Fn]=null}))},mt=function(e){if(13===e.tag){var t=Gr(Js(),150,100);tl(e,t),Hl(e,t)}},gt=function(e){13===e.tag&&(tl(e,3),Hl(e,3))},vt=function(e){if(13===e.tag){var t=Js();tl(e,t=el(t,e,null)),Hl(e,t)}},D=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=On(i);if(!r)throw Error(o(90));we(i),Ce(i,r)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&Fe(e,!!n.multiple,t,!1)}},N=sl,P=function(e,t,n,i,r){var a=Ms;Ms|=4;try{return Wr(98,e.bind(null,t,n,i,r))}finally{0===(Ms=a)&&$r()}},R=function(){0==(49&Ms)&&(function(){if(null!==Ks){var e=Ks;Ks=null,e.forEach((function(e,t){Vl(t,e),rl(t)})),$r()}}(),kl())},j=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&$r()}};var Ql={Events:[An,In,On,S,x,Zn,function(e){rt(e,qn)},I,O,Xt,st,kl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Dl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Fl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ql,t.createPortal=Xl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ms))throw Error(o(187));var n=Ms;Ms|=1;try{return Wr(99,e.bind(null,t))}finally{Ms=n,$r()}},t.hydrate=function(e,t,n){if(!$l(t))throw Error(o(200));return Kl(null,e,t,!0,n)},t.render=function(e,t,n){if(!$l(t))throw Error(o(200));return Kl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(o(40));return!!e._reactRootContainer&&(ll((function(){Kl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Fn]=null}))})),!0)},t.unstable_batchedUpdates=sl,t.unstable_createPortal=function(e,t){return Xl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!$l(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Kl(e,t,n,!1,i)},t.version="16.14.0"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case r:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===s||e===o||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===v)},t.typeOf=w},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},9852:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var i=n(4578),r=n(2943),a=n(2288),o=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!a.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,i.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setFocused(e):n.onFocus()}))},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(e){e()}))},n.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(r.l))},6747:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>i.S});var i=n(7323),r=n(6755);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}}),n.o(r,"useMutation")&&n.d(t,{useMutation:function(){return r.useMutation}}),n.o(r,"useQuery")&&n.d(t,{useQuery:function(){return r.useQuery}})},1909:(e,t,n)=>{"use strict";n.d(t,{j:()=>r,E:()=>a});var i=console;function r(){return i}function a(e){i=e}},1262:(e,t,n)=>{"use strict";n.d(t,{m:()=>l,R:()=>c});var i=n(7462),r=n(1909),a=n(101),o=n(1216),s=n(2288),l=function(){function e(e){this.options=(0,i.Z)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||c(),this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(s.ZT).catch(s.ZT)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,i=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),i=i.then((function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)})).then((function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)})).then((function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})}))),i.then((function(){return t.executeMutation()})).then((function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)})).then((function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)})).then((function(){return t.dispatch({type:"success",data:e}),e})).catch((function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,r.j)().error(e),Promise.resolve().then((function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)})).then((function(){throw t.dispatch({type:"error",error:e}),e}))}))},t.executeMutation=function(){var e,t=this;return this.retryer=new o.m4({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,i.Z)({},e,{failureCount:e.failureCount+1});case"pause":return(0,i.Z)({},e,{isPaused:!0});case"continue":return(0,i.Z)({},e,{isPaused:!1});case"loading":return(0,i.Z)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,i.Z)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,i.Z)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,i.Z)({},e,t.state);default:return e}}(this.state,e),a.V.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify(t)}))},e}();function c(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}},101:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var i=n(2288),r=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,i.A4)((function(){t.notifyFn(e)}))},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.schedule((function(){e.apply(void 0,i)}))}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,i.A4)((function(){e.batchNotifyFn((function(){t.forEach((function(t){e.notifyFn(t)}))}))}))},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}(),a=new r},68:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(4578),r=n(2943),a=n(2288),o=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!a.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,i.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setOnline(e):n.onOnline()}))},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(e){e()}))},n.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},t}(r.l))},7323:(e,t,n)=>{"use strict";n.d(t,{S:()=>y});var i=n(7462),r=n(2288),a=n(4578),o=n(101),s=n(1909),l=n(1216),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,i.Z)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,r.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))},t.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,i,a=this.state.data,o=(0,r.SE)(e,a);return(null==(n=(i=this.options).isDataEqual)?void 0:n.call(i,a,o))?o=a:!1!==this.options.structuralSharing&&(o=(0,r.Q$)(a,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),o},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(r.ZT).catch(r.ZT):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some((function(e){return!1!==e.options.enabled}))},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,r.Kp)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,i,a,o=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return null==(c=this.retryer)||c.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var u=this.observers.find((function(e){return e.options.queryFn}));u&&this.setOptions(u.options)}var d=(0,r.mc)(this.queryKey),h=(0,r.G9)(),p={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(h)return o.abortSignalConsumed=!0,h.signal}});var f,m,g={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(p)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(f=this.options.behavior)||f.onFetch(g));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(i=g.fetchOptions)?void 0:i.meta))||this.dispatch({type:"fetch",meta:null==(m=g.fetchOptions)?void 0:m.meta});return this.retryer=new l.m4({fn:g.fetchFn,abort:null==h||null==(a=h.abort)?void 0:a.bind(h),onSuccess:function(e){o.setData(e),null==o.cache.config.onSuccess||o.cache.config.onSuccess(e,o),0===o.cacheTime&&o.optionalRemove()},onError:function(e){(0,l.DV)(e)&&e.silent||o.dispatch({type:"error",error:e}),(0,l.DV)(e)||(null==o.cache.config.onError||o.cache.config.onError(e,o),(0,s.j)().error(e)),0===o.cacheTime&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),o.V.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"queryUpdated",action:e})}))},t.getDefaultState=function(e){var t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==e.initialData?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,i=void 0!==t;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:i?"success":"idle"}},t.reducer=function(e,t){var n,r;switch(t.type){case"failed":return(0,i.Z)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,i.Z)({},e,{isPaused:!0});case"continue":return(0,i.Z)({},e,{isPaused:!1});case"fetch":return(0,i.Z)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,i.Z)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(r=t.dataUpdatedAt)?r:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=t.error;return(0,l.DV)(a)&&a.revert&&this.revertState?(0,i.Z)({},this.revertState):(0,i.Z)({},e,{error:a,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,i.Z)({},e,{isInvalidated:!0});case"setState":return(0,i.Z)({},e,t.state);default:return e}},e}(),u=n(2943),d=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,a.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var i,a=t.queryKey,o=null!=(i=t.queryHash)?i:(0,r.Rm)(a,t),s=this.get(o);return s||(s=new c({cache:this,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a),meta:t.meta}),this.add(s)),s},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,r.I6)(e,t)[0];return void 0===n.exact&&(n.exact=!0),this.queries.find((function(e){return(0,r._x)(n,e)}))},n.findAll=function(e,t){var n=(0,r.I6)(e,t)[0];return Object.keys(n).length>0?this.queries.filter((function(e){return(0,r._x)(n,e)})):this.queries},n.notify=function(e){var t=this;o.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))},n.onOnline=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))},t}(u.l),h=n(1262),p=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,a.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var i=new h.m({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(i),i},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),e.cancel(),this.notify(e)},n.clear=function(){var e=this;o.V.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))},n.getAll=function(){return this.mutations},n.find=function(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((function(t){return(0,r.X7)(e,t)}))},n.findAll=function(e){return this.mutations.filter((function(t){return(0,r.X7)(e,t)}))},n.notify=function(e){var t=this;o.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter((function(e){return e.state.isPaused}));return o.V.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(r.ZT)}))}),Promise.resolve())}))},t}(u.l),f=n(9852),m=n(68);function g(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function v(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var y=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new d,this.mutationCache=e.mutationCache||new p,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=f.j.subscribe((function(){f.j.isFocused()&&m.N.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())})),this.unsubscribeOnline=m.N.subscribe((function(){f.j.isFocused()&&m.N.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())}))},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,r.I6)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,i.Z)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))},t.setQueryData=function(e,t,n){var i=(0,r._v)(e),a=this.defaultQueryOptions(i);return this.queryCache.build(this,a).setData(t,n)},t.setQueriesData=function(e,t,n){var i=this;return o.V.batch((function(){return i.getQueryCache().findAll(e).map((function(e){var r=e.queryKey;return[r,i.setQueryData(r,t,n)]}))}))},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,r.I6)(e,t)[0],i=this.queryCache;o.V.batch((function(){i.findAll(n).forEach((function(e){i.remove(e)}))}))},t.resetQueries=function(e,t,n){var a=this,s=(0,r.I6)(e,t,n),l=s[0],c=s[1],u=this.queryCache,d=(0,i.Z)({},l,{active:!0});return o.V.batch((function(){return u.findAll(l).forEach((function(e){e.reset()})),a.refetchQueries(d,c)}))},t.cancelQueries=function(e,t,n){var i=this,a=(0,r.I6)(e,t,n),s=a[0],l=a[1],c=void 0===l?{}:l;void 0===c.revert&&(c.revert=!0);var u=o.V.batch((function(){return i.queryCache.findAll(s).map((function(e){return e.cancel(c)}))}));return Promise.all(u).then(r.ZT).catch(r.ZT)},t.invalidateQueries=function(e,t,n){var a,s,l,c=this,u=(0,r.I6)(e,t,n),d=u[0],h=u[1],p=(0,i.Z)({},d,{active:null==(a=null!=(s=d.refetchActive)?s:d.active)||a,inactive:null!=(l=d.refetchInactive)&&l});return o.V.batch((function(){return c.queryCache.findAll(d).forEach((function(e){e.invalidate()})),c.refetchQueries(p,h)}))},t.refetchQueries=function(e,t,n){var a=this,s=(0,r.I6)(e,t,n),l=s[0],c=s[1],u=o.V.batch((function(){return a.queryCache.findAll(l).map((function(e){return e.fetch(void 0,(0,i.Z)({},c,{meta:{refetchPage:null==l?void 0:l.refetchPage}}))}))})),d=Promise.all(u).then(r.ZT);return(null==c?void 0:c.throwOnError)||(d=d.catch(r.ZT)),d},t.fetchQuery=function(e,t,n){var i=(0,r._v)(e,t,n),a=this.defaultQueryOptions(i);void 0===a.retry&&(a.retry=!1);var o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(r.ZT).catch(r.ZT)},t.fetchInfiniteQuery=function(e,t,n){var i=(0,r._v)(e,t,n);return i.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,i,a,o,s,c,u=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,d=null==(i=e.fetchOptions)||null==(a=i.meta)?void 0:a.fetchMore,h=null==d?void 0:d.pageParam,p="forward"===(null==d?void 0:d.direction),f="backward"===(null==d?void 0:d.direction),m=(null==(o=e.state.data)?void 0:o.pages)||[],y=(null==(s=e.state.data)?void 0:s.pageParams)||[],b=(0,r.G9)(),_=null==b?void 0:b.signal,w=y,k=!1,x=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},E=function(e,t,n,i){return w=i?[t].concat(w):[].concat(w,[t]),i?[n].concat(e):[].concat(e,[n])},C=function(t,n,i,r){if(k)return Promise.reject("Cancelled");if(void 0===i&&!n&&t.length)return Promise.resolve(t);var a={queryKey:e.queryKey,signal:_,pageParam:i,meta:e.meta},o=x(a),s=Promise.resolve(o).then((function(e){return E(t,i,e,r)}));return(0,l.LE)(o)&&(s.cancel=o.cancel),s};if(m.length)if(p){var S=void 0!==h,T=S?h:g(e.options,m);c=C(m,S,T)}else if(f){var D=void 0!==h,F=D?h:v(e.options,m);c=C(m,D,F,!0)}else!function(){w=[];var t=void 0===e.options.getNextPageParam,n=!u||!m[0]||u(m[0],0,m);c=n?C([],t,y[0]):Promise.resolve(E([],y[0],m[0]));for(var i=function(n){c=c.then((function(i){if(!u||!m[n]||u(m[n],n,m)){var r=t?y[n]:g(e.options,i);return C(i,t,r)}return Promise.resolve(E(i,y[n],m[n]))}))},r=1;r<m.length;r++)i(r)}();else c=C([]);var M=c.then((function(e){return{pages:e,pageParams:w}}));return M.cancel=function(){k=!0,null==b||b.abort(),(0,l.LE)(c)&&c.cancel()},M}}},this.fetchQuery(i)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(r.ZT).catch(r.ZT)},t.cancelMutations=function(){var e=this,t=o.V.batch((function(){return e.mutationCache.getAll().map((function(e){return e.cancel()}))}));return Promise.all(t).then(r.ZT).catch(r.ZT)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find((function(t){return(0,r.yF)(e)===(0,r.yF)(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find((function(t){return(0,r.to)(e,t.queryKey)})))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find((function(t){return(0,r.yF)(e)===(0,r.yF)(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find((function(t){return(0,r.to)(e,t.mutationKey)})))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,i.Z)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,r.Rm)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,i.Z)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},1216:(e,t,n)=>{"use strict";n.d(t,{LE:()=>s,DV:()=>c,m4:()=>u});var i=n(9852),r=n(68),a=n(2288);function o(e){return Math.min(1e3*Math.pow(2,e),3e4)}function s(e){return"function"==typeof(null==e?void 0:e.cancel)}var l=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof l}var u=function(e){var t,n,c,u,d=this,h=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){h=!0},this.continueRetry=function(){h=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((function(e,t){c=e,u=t}));var p=function(t){d.isResolved||(d.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),c(t))},f=function(t){d.isResolved||(d.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),u(t))};!function c(){if(!d.isResolved){var u;try{u=e.fn()}catch(e){u=Promise.reject(e)}t=function(e){if(!d.isResolved&&(f(new l(e)),null==d.abort||d.abort(),s(u)))try{u.cancel()}catch(e){}},d.isTransportCancelable=s(u),Promise.resolve(u).then(p).catch((function(t){var s,l;if(!d.isResolved){var u=null!=(s=e.retry)?s:3,p=null!=(l=e.retryDelay)?l:o,m="function"==typeof p?p(d.failureCount,t):p,g=!0===u||"number"==typeof u&&d.failureCount<u||"function"==typeof u&&u(d.failureCount,t);!h&&g?(d.failureCount++,null==e.onFail||e.onFail(d.failureCount,t),(0,a.Gh)(m).then((function(){if(!i.j.isFocused()||!r.N.isOnline())return new Promise((function(t){n=t,d.isPaused=!0,null==e.onPause||e.onPause()})).then((function(){n=void 0,d.isPaused=!1,null==e.onContinue||e.onContinue()}))})).then((function(){h?f(t):c()}))):f(t)}}))}}()}},2943:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var i=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter((function(e){return e!==n})),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},6755:()=>{},2288:(e,t,n)=>{"use strict";n.d(t,{sk:()=>r,ZT:()=>a,SE:()=>o,PN:()=>s,mc:()=>l,Kp:()=>c,_v:()=>u,lV:()=>d,I6:()=>h,_x:()=>p,X7:()=>f,Rm:()=>m,yF:()=>g,to:()=>v,Q$:()=>b,VS:()=>_,Gh:()=>E,A4:()=>C,G9:()=>S});var i=n(7462),r="undefined"==typeof window;function a(){}function o(e,t){return"function"==typeof e?e(t):e}function s(e){return"number"==typeof e&&e>=0&&e!==1/0}function l(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t,n){return x(e)?"function"==typeof t?(0,i.Z)({},n,{queryKey:e,queryFn:t}):(0,i.Z)({},t,{queryKey:e}):e}function d(e,t,n){return x(e)?"function"==typeof t?(0,i.Z)({},n,{mutationKey:e,mutationFn:t}):(0,i.Z)({},t,{mutationKey:e}):"function"==typeof e?(0,i.Z)({},t,{mutationFn:e}):(0,i.Z)({},e)}function h(e,t,n){return x(e)?[(0,i.Z)({},t,{queryKey:e}),n]:[e||{},t]}function p(e,t){var n=e.active,i=e.exact,r=e.fetching,a=e.inactive,o=e.predicate,s=e.queryKey,l=e.stale;if(x(s))if(i){if(t.queryHash!==m(s,t.options))return!1}else if(!v(t.queryKey,s))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,a);if("none"===c)return!1;if("all"!==c){var u=t.isActive();if("active"===c&&!u)return!1;if("inactive"===c&&u)return!1}return("boolean"!=typeof l||t.isStale()===l)&&(("boolean"!=typeof r||t.isFetching()===r)&&!(o&&!o(t)))}function f(e,t){var n=e.exact,i=e.fetching,r=e.predicate,a=e.mutationKey;if(x(a)){if(!t.options.mutationKey)return!1;if(n){if(g(t.options.mutationKey)!==g(a))return!1}else if(!v(t.options.mutationKey,a))return!1}return("boolean"!=typeof i||"loading"===t.state.status===i)&&!(r&&!r(t))}function m(e,t){return((null==t?void 0:t.queryKeyHashFn)||g)(e)}function g(e){var t,n=l(e);return t=n,JSON.stringify(t,(function(e,t){return w(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function v(e,t){return y(l(e),l(t))}function y(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((function(n){return!y(e[n],t[n])})))}function b(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||w(e)&&w(t)){for(var i=n?e.length:Object.keys(e).length,r=n?t:Object.keys(t),a=r.length,o=n?[]:{},s=0,l=0;l<a;l++){var c=n?l:r[l];o[c]=b(e[c],t[c]),o[c]===e[c]&&s++}return i===a&&s===i?e:o}return t}function _(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function w(e){if(!k(e))return!1;var t=e.constructor;if(void 0===t)return!0;var n=t.prototype;return!!k(n)&&!!n.hasOwnProperty("isPrototypeOf")}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function x(e){return"string"==typeof e||Array.isArray(e)}function E(e){return new Promise((function(t){setTimeout(t,e)}))}function C(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}function S(){if("function"==typeof AbortController)return new AbortController}},8926:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>i.QueryClient,QueryClientProvider:()=>r.QueryClientProvider,useMutation:()=>r.useMutation,useQuery:()=>r.useQuery});var i=n(6747);n.o(i,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return i.QueryClientProvider}}),n.o(i,"useMutation")&&n.d(t,{useMutation:function(){return i.useMutation}}),n.o(i,"useQuery")&&n.d(t,{useQuery:function(){return i.useQuery}});var r=n(1273)},4921:(e,t,n)=>{"use strict";n.d(t,{N:()=>s,a:()=>l});var i=n(7294),r=i.createContext(void 0),a=i.createContext(!1);function o(e){return e&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=r),window.ReactQueryClientContext):r}var s=function(){var e=i.useContext(o(i.useContext(a)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},l=function(e){var t=e.client,n=e.contextSharing,r=void 0!==n&&n,s=e.children;i.useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var l=o(r);return i.createElement(a.Provider,{value:r},i.createElement(l.Provider,{value:t},s))}},1273:(e,t,n)=>{"use strict";n.d(t,{QueryClientProvider:()=>s.a,useMutation:()=>l.D,useQuery:()=>E});var i=n(101),r=n(3935).unstable_batchedUpdates;i.V.setBatchNotifyFunction(r);var a=n(1909),o=console;(0,a.E)(o);var s=n(4921),l=n(5754),c=n(7462),u=n(4578),d=n(2288),h=n(9852),p=n(2943),f=n(1216),m=function(e){function t(t,n){var i;return(i=e.call(this)||this).client=t,i.options=n,i.trackedProps=[],i.previousSelectError=null,i.bindMethods(),i.setOptions(n),i}(0,u.Z)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),g(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return e=this.currentQuery,!1!==(t=this.options).enabled&&("always"===t.refetchOnReconnect||!1!==t.refetchOnReconnect&&y(e,t));var e,t},n.shouldFetchOnWindowFocus=function(){return e=this.currentQuery,!1!==(t=this.options).enabled&&("always"===t.refetchOnWindowFocus||!1!==t.refetchOnWindowFocus&&y(e,t));var e,t},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var r=this.hasListeners();r&&v(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(t),!r||this.currentQuery===i&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var a=this.computeRefetchInterval();!r||this.currentQuery===i&&this.options.enabled===n.enabled&&a===this.currentRefetchInterval||this.updateRefetchInterval(a)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,i={},r=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach((function(t){Object.defineProperty(i,t,{configurable:!1,enumerable:!0,get:function(){return r(t),e[t]}})})),(t.useErrorBoundary||t.suspense)&&r("error"),i},n.getNextResult=function(e){var t=this;return new Promise((function(n,i){var r=t.subscribe((function(t){t.isFetching||(r(),t.isError&&(null==e?void 0:e.throwOnError)?i(t.error):n(t))}))}))},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch((0,c.Z)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),i=this.client.getQueryCache().build(this.client,n);return i.fetch().then((function(){return t.createResult(i,n)}))},n.fetch=function(e){var t=this;return this.executeFetch(e).then((function(){return t.updateResult(),t.currentResult}))},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(d.ZT)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!d.sk&&!this.currentResult.isStale&&(0,d.PN)(this.options.staleTime)){var t=(0,d.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}},n.computeRefetchInterval=function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!d.sk&&!1!==this.options.enabled&&(0,d.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||h.j.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(e,t){var n,i=this.currentQuery,r=this.options,o=this.currentResult,s=this.currentResultState,l=this.currentResultOptions,c=e!==i,u=c?e.state:this.currentQueryInitialState,h=c?this.currentResult:this.previousQueryResult,p=e.state,f=p.dataUpdatedAt,m=p.error,b=p.errorUpdatedAt,_=p.isFetching,w=p.status,k=!1,x=!1;if(t.optimisticResults){var E=this.hasListeners(),C=!E&&g(e,t),S=E&&v(e,i,t,r);(C||S)&&(_=!0,f||(w="loading"))}if(t.keepPreviousData&&!p.dataUpdateCount&&(null==h?void 0:h.isSuccess)&&"error"!==w)n=h.data,f=h.dataUpdatedAt,w=h.status,k=!0;else if(t.select&&void 0!==p.data){var T;if(o&&p.data===(null==s?void 0:s.data)&&t.select===(null==(T=this.previousSelect)?void 0:T.fn)&&!this.previousSelectError)n=this.previousSelect.result;else try{n=t.select(p.data),!1!==t.structuralSharing&&(n=(0,d.Q$)(null==o?void 0:o.data,n)),this.previousSelect={fn:t.select,result:n},this.previousSelectError=null}catch(e){(0,a.j)().error(e),m=e,this.previousSelectError=e,b=Date.now(),w="error"}}else n=p.data;if(void 0!==t.placeholderData&&void 0===n&&("loading"===w||"idle"===w)){var D;if((null==o?void 0:o.isPlaceholderData)&&t.placeholderData===(null==l?void 0:l.placeholderData))D=o.data;else if(D="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==D)try{D=t.select(D),!1!==t.structuralSharing&&(D=(0,d.Q$)(null==o?void 0:o.data,D)),this.previousSelectError=null}catch(e){(0,a.j)().error(e),m=e,this.previousSelectError=e,b=Date.now(),w="error"}void 0!==D&&(w="success",n=D,x=!0)}return{status:w,isLoading:"loading"===w,isSuccess:"success"===w,isError:"error"===w,isIdle:"idle"===w,data:n,dataUpdatedAt:f,error:m,errorUpdatedAt:b,failureCount:p.fetchFailureCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&"loading"!==w,isLoadingError:"error"===w&&0===p.dataUpdatedAt,isPlaceholderData:x,isPreviousData:k,isRefetchError:"error"===w&&0!==p.dataUpdatedAt,isStale:y(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,i=n.notifyOnChangeProps,r=n.notifyOnChangePropsExclusions;if(!i&&!r)return!0;if("tracked"===i&&!this.trackedProps.length)return!0;var a="tracked"===i?this.trackedProps:i;return Object.keys(e).some((function(n){var i=n,o=e[i]!==t[i],s=null==a?void 0:a.some((function(e){return e===n})),l=null==r?void 0:r.some((function(e){return e===n}));return o&&!l&&(!a||s)}))},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,d.VS)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify((0,c.Z)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,f.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;i.V.batch((function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))},t}(p.l);function g(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||function(e,t){return!1!==t.enabled&&e.state.dataUpdatedAt>0&&("always"===t.refetchOnMount||!1!==t.refetchOnMount&&y(e,t))}(e,t)}function v(e,t,n,i){return!1!==n.enabled&&(e!==t||!1===i.enabled)&&(!n.suspense||"error"!==e.state.status)&&y(e,n)}function y(e,t){return e.isStaleByTime(t.staleTime)}var b=n(7294);function _(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var w=b.createContext(_()),k=n(6553);function x(e,t){var n=b.useRef(!1),r=b.useState(0)[1],a=(0,s.N)(),o=b.useContext(w),l=a.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=i.V.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=i.V.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=i.V.batchCalls(l.onSettled)),l.suspense&&("number"!=typeof l.staleTime&&(l.staleTime=1e3),0===l.cacheTime&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var c=b.useState((function(){return new t(a,l)}))[0],u=c.getOptimisticResult(l);if(b.useEffect((function(){n.current=!0,o.clearReset();var e=c.subscribe(i.V.batchCalls((function(){n.current&&r((function(e){return e+1}))})));return c.updateResult(),function(){n.current=!1,e()}}),[o,c]),b.useEffect((function(){c.setOptions(l,{listeners:!1})}),[l,c]),l.suspense&&u.isLoading)throw c.fetchOptimistic(l).then((function(e){var t=e.data;null==l.onSuccess||l.onSuccess(t),null==l.onSettled||l.onSettled(t,null)})).catch((function(e){o.clearReset(),null==l.onError||l.onError(e),null==l.onSettled||l.onSettled(void 0,e)}));if(u.isError&&!o.isReset()&&!u.isFetching&&(0,k.L)(l.suspense,l.useErrorBoundary,[u.error,c.getCurrentQuery()]))throw u.error;return"tracked"===l.notifyOnChangeProps&&(u=c.trackResult(u,l)),u}function E(e,t,n){return x((0,d._v)(e,t,n),m)}},5754:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var i=n(7462),r=n(7294),a=n(101),o=n(2288),s=n(4578),l=n(1262),c=function(e){function t(t,n){var i;return(i=e.call(this)||this).client=t,i.setOptions(n),i.bindMethods(),i.updateResult(),i}(0,s.Z)(t,e);var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},n.onUnsubscribe=function(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))},n.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,i.Z)({},this.options,{variables:void 0!==e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:(0,l.R)(),t=(0,i.Z)({},e,{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=t},n.notify=function(e){var t=this;a.V.batch((function(){t.mutateOptions&&(e.onSuccess?(null==t.mutateOptions.onSuccess||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(null==t.mutateOptions.onError||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)}))}))},t}(n(2943).l),u=n(4921),d=n(6553);function h(e,t,n){var s=r.useRef(!1),l=r.useState(0)[1],h=(0,o.lV)(e,t,n),p=(0,u.N)(),f=r.useRef();f.current?f.current.setOptions(h):f.current=new c(p,h);var m=f.current.getCurrentResult();r.useEffect((function(){s.current=!0;var e=f.current.subscribe(a.V.batchCalls((function(){s.current&&l((function(e){return e+1}))})));return function(){s.current=!1,e()}}),[]);var g=r.useCallback((function(e,t){f.current.mutate(e,t).catch(o.ZT)}),[]);if(m.error&&(0,d.L)(void 0,f.current.options.useErrorBoundary,[m.error]))throw m.error;return(0,i.Z)({},m,{mutate:g,mutateAsync:m.mutate})}},6553:(e,t,n)=>{"use strict";function i(e,t,n){return"function"==typeof t?t.apply(void 0,n):"boolean"==typeof t?t:!!e}n.d(t,{L:()=>i})},8359:(e,t)=>{"use strict";var n=60103,i=60106,r=60107,a=60108,o=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,p=60116,f=60121,m=60122,g=60117,v=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),i=b("react.portal"),r=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),p=b("react.lazy"),f=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case o:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case i:return t}}}t.isContextConsumer=function(e){return _(e)===l}},2973:(e,t,n)=>{"use strict";e.exports=n(8359)},2841:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowContainer=void 0;var r=n(5893),a=n(7294),o=n(9512);t.ArrowContainer=function(e){var t=e.childRect,n=e.popoverRect,s=e.position,l=e.arrowColor,c=e.arrowSize,u=e.arrowClassName,d=e.arrowStyle,h=e.className,p=e.children,f=e.style,m=o.useArrowContainer({childRect:t,popoverRect:n,position:s,arrowColor:l,arrowSize:c}),g=m.arrowContainerStyle,v=m.arrowStyle,y=a.useMemo((function(){return i(i({},g),f)}),[g,f]),b=a.useMemo((function(){return i(i({},v),d)}),[v,d]);return r.jsxs("div",i({className:h,style:y},{children:[r.jsx("div",{style:b,className:u},void 0),p]}),void 0)}},2106:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Popover=t.usePopover=t.ArrowContainer=t.useArrowContainer=void 0;var r=n(5893),a=n(7294),o=n(5114),s=n(2319),l=n(1101);Object.defineProperty(t,"usePopover",{enumerable:!0,get:function(){return l.usePopover}});var c=n(6444),u=n(9512);Object.defineProperty(t,"useArrowContainer",{enumerable:!0,get:function(){return u.useArrowContainer}});var d=n(2841);Object.defineProperty(t,"ArrowContainer",{enumerable:!0,get:function(){return d.ArrowContainer}}),t.Popover=a.forwardRef((function(e,t){var n=e.isOpen,u=e.children,d=e.content,h=e.positions,p=void 0===h?s.Constants.DEFAULT_POSITIONS:h,f=e.align,m=void 0===f?s.Constants.DEFAULT_ALIGN:f,g=e.padding,v=void 0===g?0:g,y=e.reposition,b=void 0===y||y,_=e.containerParent,w=void 0===_?window.document.body:_,k=e.containerClassName,x=void 0===k?"react-tiny-popover-container":k,E=e.containerStyle,C=e.contentLocation,S=e.boundaryInset,T=void 0===S?0:S,D=e.onClickOutside,F=c.useMemoizedArray(p),M=a.useRef(!1),A=a.useRef(),I=a.useRef(),O=a.useRef(b),N=a.useRef(),P=a.useState({align:m,nudgedLeft:0,nudgedTop:0,position:F[0],padding:v,childRect:s.Constants.EMPTY_CLIENT_RECT,popoverRect:s.Constants.EMPTY_CLIENT_RECT,parentRect:s.Constants.EMPTY_CLIENT_RECT,boundaryInset:T}),R=P[0],j=P[1],L=a.useCallback((function(e){return j(e)}),[]),q=l.usePopover({childRef:N,containerClassName:x,containerParent:w,contentLocation:C,positions:F,align:m,padding:v,boundaryInset:T,reposition:b,onPositionPopover:L}),Z=q[0],B=q[1];a.useLayoutEffect((function(){var e=!0,t=function(){var i,r;if(n&&e){var a=null===(i=null==N?void 0:N.current)||void 0===i?void 0:i.getBoundingClientRect(),o=null===(r=null==B?void 0:B.current)||void 0===r?void 0:r.getBoundingClientRect();null==a||null==o||s.rectsAreEqual(a,{top:R.childRect.top,left:R.childRect.left,width:R.childRect.width,height:R.childRect.height,bottom:R.childRect.top+R.childRect.height,right:R.childRect.left+R.childRect.width})&&o.width===R.popoverRect.width&&o.height===R.popoverRect.height&&R.padding===v&&R.align===m&&F===A.current&&C===I.current&&b===O.current||Z(),F!==A.current&&(A.current=F),C!==I.current&&(I.current=C),b!==O.current&&(O.current=b),e&&window.requestAnimationFrame(t)}M.current=n};return window.requestAnimationFrame(t),function(){e=!1}}),[m,C,n,v,B,R.align,R.childRect.height,R.childRect.left,R.childRect.top,R.childRect.width,R.padding,R.popoverRect.height,R.popoverRect.width,Z,F,b]),a.useEffect((function(){var e=B.current;return Object.assign(e.style,E),function(){Object.keys(null!=E?E:{}).forEach((function(t){return delete e.style[t]}))}}),[E,n,B]);var V=a.useCallback((function(e){var t,i;!n||(null===(t=B.current)||void 0===t?void 0:t.contains(e.target))||(null===(i=N.current)||void 0===i?void 0:i.contains(e.target))||null==D||D(e)}),[n,D,B]),z=a.useCallback((function(){N.current&&window.requestAnimationFrame((function(){return Z()}))}),[Z]);a.useEffect((function(){return window.addEventListener("click",V),window.addEventListener("resize",z),function(){window.removeEventListener("click",V),window.removeEventListener("resize",z)}}),[V,z]);var U=a.useCallback((function(e){N.current=e,null!=t&&("object"==typeof t?t.current=e:"function"==typeof t&&t(e))}),[t]);return r.jsxs(r.Fragment,{children:[a.cloneElement(u,{ref:U}),n?r.jsx(o.PopoverPortal,i({element:B.current,container:w},{children:"function"==typeof d?d(R):d}),void 0):null]},void 0)}))},5114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverPortal=void 0;var i=n(7294),r=n(3935);t.PopoverPortal=function(e){var t=e.container,n=e.element,a=e.children;return i.useLayoutEffect((function(){return t.appendChild(n),function(){t.removeChild(n)}}),[t,n]),r.createPortal(a,n)}},9512:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useArrowContainer=void 0;var r=n(7294);t.useArrowContainer=function(e){var t=e.childRect,n=e.popoverRect,a=e.position,o=e.arrowSize,s=e.arrowColor;return{arrowContainerStyle:r.useMemo((function(){return{padding:o}}),[o]),arrowStyle:r.useMemo((function(){return i({position:"absolute"},function(){var e=2*o,i=t.top-n.top+t.height/2-e/2,r=t.left-n.left+t.width/2-e/2,l=o,c=n.width-o,u=n.height-o;switch(r=(r=r<l?l:r)+e>c?c-e:r,i=(i=i<l?l:i)+e>u?u-e:i,i=Number.isNaN(i)?0:i,r=Number.isNaN(r)?0:r,a){case"right":return{borderTop:o+"px solid transparent",borderBottom:o+"px solid transparent",borderRight:o+"px solid "+s,left:0,top:i};case"left":return{borderTop:o+"px solid transparent",borderBottom:o+"px solid transparent",borderLeft:o+"px solid "+s,right:0,top:i};case"bottom":return{borderLeft:o+"px solid transparent",borderRight:o+"px solid transparent",borderBottom:o+"px solid "+s,top:0,left:r};case"top":return{borderLeft:o+"px solid transparent",borderRight:o+"px solid transparent",borderTop:o+"px solid "+s,bottom:0,left:r};default:return{display:"hidden"}}}())}),[s,o,t.height,t.left,t.top,t.width,n.height,n.left,n.top,n.width,a])}}},3423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useElementRef=void 0;var i=n(7294),r=n(2319);t.useElementRef=function(e,t){var n=i.useMemo((function(){return r.createContainer(t,e)}),[e,t]);return i.useRef(n)}},6444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMemoizedArray=void 0;var i=n(7294);t.useMemoizedArray=function(e){var t=i.useRef(e);return i.useMemo((function(){if(t.current===e)return t.current;if(t.current.length!==e.length)return t.current=e,e;for(var n=0;n<e.length;n+=1)if(e[n]!==t.current[n])return t.current=e,e;return t.current}),[e])}},1101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePopover=void 0;var i=n(7294),r=n(2319),a=n(3423);t.usePopover=function(e){var t=e.childRef,n=e.positions,o=e.containerClassName,s=e.containerParent,l=e.contentLocation,c=e.align,u=e.padding,d=e.reposition,h=e.boundaryInset,p=e.onPositionPopover,f=a.useElementRef(o,{position:"fixed",overflow:"visible",top:"0px",left:"0px"}),m=i.useCallback((function(e,i,a,o){var g;if(void 0===e&&(e=0),void 0===i&&(i=null===(g=null==t?void 0:t.current)||void 0===g?void 0:g.getBoundingClientRect()),void 0===a&&(a=f.current.getBoundingClientRect()),void 0===o&&(o=null==s?void 0:s.getBoundingClientRect()),i&&o){if(l){var v="function"==typeof l?l({childRect:i,popoverRect:a,parentRect:o,padding:u,nudgedTop:0,nudgedLeft:0,boundaryInset:h}):l,y=v.top,b=v.left,_=o.left+b,w=o.top+y;return f.current.style.transform="translate("+_+"px, "+w+"px)",void p({childRect:i,popoverRect:a,parentRect:o,padding:u,nudgedTop:0,nudgedLeft:0,boundaryInset:h})}var k=e===n.length,x=k?n[0]:n[e],E=r.getNewPopoverRect({childRect:i,popoverRect:a,parentRect:o,position:x,align:c,padding:u,reposition:d},h),C=E.rect;if(E.boundaryViolation&&d&&!k)m(e+1,i,a,o);else{var S=C.top,T=C.left,D=C.width,F=C.height,M=d&&!k,A=r.getNudgedPopoverRect(C,o,h),I=A.left,O=A.top,N=S,P=T;M&&(N=O,P=I),f.current.style.transform="translate("+P+"px, "+N+"px)",p({childRect:i,popoverRect:{top:N,left:P,width:D,height:F,right:P+D,bottom:N+F},parentRect:o,position:x,align:c,padding:u,nudgedTop:O-S,nudgedLeft:I-T,boundaryInset:h})}}}),[t,f,n,c,u,d,h,s,l,p]);return[m,f]}},2319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNudgedPopoverRect=t.getNewPopoverRect=t.popoverRectForPosition=t.createContainer=t.targetPositionHasChanged=t.popoverStatesAreEqual=t.rectsAreEqual=t.arrayUnique=t.Constants=void 0,t.Constants={POPOVER_CONTAINER_CLASS_NAME:"react-tiny-popover-container",DEFAULT_ALIGN:"center",OBSERVER_THRESHOLDS:Array(1e3).fill(null).map((function(e,t){return t/1e3})).reverse(),DEFAULT_POSITIONS:["top","left","right","bottom"],EMPTY_CLIENT_RECT:{top:0,left:0,bottom:0,height:0,right:0,width:0}};t.arrayUnique=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))};t.rectsAreEqual=function(e,t){return e===t||(null==e?void 0:e.bottom)===(null==t?void 0:t.bottom)&&(null==e?void 0:e.height)===(null==t?void 0:t.height)&&(null==e?void 0:e.left)===(null==t?void 0:t.left)&&(null==e?void 0:e.right)===(null==t?void 0:t.right)&&(null==e?void 0:e.top)===(null==t?void 0:t.top)&&(null==e?void 0:e.width)===(null==t?void 0:t.width)};t.popoverStatesAreEqual=function(e,n){return e===n||(null==e?void 0:e.align)===(null==n?void 0:n.align)&&(null==e?void 0:e.nudgedLeft)===(null==n?void 0:n.nudgedLeft)&&(null==e?void 0:e.nudgedTop)===(null==n?void 0:n.nudgedTop)&&e.padding===n.padding&&t.rectsAreEqual(null==e?void 0:e.popoverRect,null==n?void 0:n.popoverRect)&&t.rectsAreEqual(null==e?void 0:e.childRect,null==n?void 0:n.childRect)&&(null==e?void 0:e.position)===(null==n?void 0:n.position)};t.targetPositionHasChanged=function(e,t){return void 0===e||e.left!==t.left||e.top!==t.top||e.width!==t.width||e.height!==t.height};t.createContainer=function(e,t){var n=window.document.createElement("div");return t&&(n.className=t),Object.assign(n.style,e),n};t.popoverRectForPosition=function(e,t,n,i,r){var a,o,s=t.left+t.width/2,l=t.top+t.height/2,c=n.width,u=n.height;switch(e){case"left":a=l-u/2,o=t.left-i-c,"start"===r&&(a=t.top),"end"===r&&(a=t.bottom-u);break;case"bottom":a=t.bottom+i,o=s-c/2,"start"===r&&(o=t.left),"end"===r&&(o=t.right-c);break;case"right":a=l-u/2,o=t.right+i,"start"===r&&(a=t.top),"end"===r&&(a=t.bottom-u);break;default:a=t.top-u-i,o=s-c/2,"start"===r&&(o=t.left),"end"===r&&(o=t.right-c)}return{top:a,left:o,width:c,height:u,right:o+c,bottom:a+u}};t.getNewPopoverRect=function(e,n){var i=e.position,r=e.align,a=e.childRect,o=e.popoverRect,s=e.parentRect,l=e.padding,c=e.reposition,u=t.popoverRectForPosition(i,a,o,l,r);return{rect:u,boundaryViolation:c&&("top"===i&&u.top<s.top+n||"left"===i&&u.left<s.left+n||"right"===i&&u.right>s.right-n||"bottom"===i&&u.bottom>s.bottom-n)}};t.getNudgedPopoverRect=function(e,t,n){var i=t.top+n,r=t.left+n,a=t.right-n,o=t.bottom-n,s=e.top<i?i:e.top;s=s+e.height>o?o-e.height:s;var l=e.left<r?r:e.left;return{top:s,left:l=l+e.width>a?a-e.width:l,width:e.width,height:e.height,right:l+e.width,bottom:s+e.height}}},4411:(e,t,n)=>{"use strict";var i=n(7294),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),t.Fragment=a("react.fragment")}var o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,a={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},2408:(e,t,n)=>{"use strict";var i=n(9394),r="function"==typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var x=k.prototype=new w;x.constructor=k,i(x,_.prototype),x.isPureReactComponent=!0;var E={current:null},C=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var i,r={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,i)&&!S.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:a,type:e,key:o,ref:s,props:r,_owner:E.current}}function D(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var F=/\/+/g,M=[];function A(e,t,n,i){if(M.length){var r=M.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function O(e,t,n,i){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var s=!1;if(null===e)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(i,e,""===t?"."+P(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=t+P(r=e[l],l);s+=O(r,c,n,i)}else if(null===e||"object"!=typeof e?c=null:c="function"==typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"==typeof c)for(e=c.call(e),l=0;!(r=e.next()).done;)s+=O(r=r.value,c=t+P(r,l++),n,i);else if("object"===r)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function N(e,t,n){return null==e?0:O(e,"",t,n)}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,i,n,(function(e){return e})):null!=e&&(D(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(F,"$&/")+"/")+n)),i.push(e))}function L(e,t,n,i,r){var a="";null!=n&&(a=(""+n).replace(F,"$&/")+"/"),N(e,j,t=A(t,a,i,r)),I(t)}var q={current:null};function Z(){var e=q.current;if(null===e)throw Error(v(321));return e}var B={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return L(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;N(e,R,t=A(null,null,t,n)),I(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!D(e))throw Error(v(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=c,t.PureComponent=k,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var r=i({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)C.call(t,u)&&!S.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return Z().useCallback(e,t)},t.useContext=function(e,t){return Z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return Z().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return Z().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return Z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return Z().useMemo(e,t)},t.useReducer=function(e,t,n){return Z().useReducer(e,t,n)},t.useRef=function(e){return Z().useRef(e)},t.useState=function(e){return Z().useState(e)},t.version="16.14.0"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},5893:(e,t,n)=>{"use strict";e.exports=n(4411)},4500:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function i(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,n){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,i),e}function c(e){var t=void 0===e?"undefined":M(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e,t,n,i,d,h,p){p=p||[];var f=(d=d||[]).slice(0);if(void 0!==h){if(i){if("function"==typeof i&&i(f,h))return;if("object"===(void 0===i?"undefined":M(i))){if(i.prefilter&&i.prefilter(f,h))return;if(i.normalize){var m=i.normalize(f,h,e,t);m&&(e=m[0],t=m[1])}}}f.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g=void 0===e?"undefined":M(e),v=void 0===t?"undefined":M(t),y="undefined"!==g||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(h),b="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(h);if(!y&&b)n(new a(f,t));else if(!b&&y)n(new o(f,e));else if(c(e)!==c(t))n(new r(f,e,t));else if("date"===c(e)&&e-t!=0)n(new r(f,e,t));else if("object"===g&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&n(new r(f,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new s(f,_,new o(void 0,e[_]))):u(e[_],t[_],n,i,f,_,p);for(;_<t.length;)n(new s(f,_,new a(void 0,t[_++])))}else{var w=Object.keys(e),k=Object.keys(t);w.forEach((function(r,a){var o=k.indexOf(r);o>=0?(u(e[r],t[r],n,i,f,r,p),k=l(k,o)):u(e[r],void 0,n,i,f,r,p)})),k.forEach((function(e){u(void 0,t[e],n,i,f,e,p)}))}p.length=p.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new r(f,e,t)))}function d(e,t,n,i){return i=i||[],u(e,t,(function(e){e&&i.push(e)}),n),i.length?i:void 0}function h(e,t,n){if(n.path&&n.path.length){var i,r=e[t],a=n.path.length-1;for(i=0;i<a;i++)r=r[n.path[i]];switch(n.kind){case"A":h(r[n.path[i]],n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var i=e,r=-1,a=n.path?n.path.length-1:0;++r<a;)void 0===i[n.path[r]]&&(i[n.path[r]]="number"==typeof n.path[r]?[]:{}),i=i[n.path[r]];switch(n.kind){case"A":h(n.path?i[n.path[r]]:i,n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}}function f(e,t,n){if(n.path&&n.path.length){var i,r=e[t],a=n.path.length-1;for(i=0;i<a;i++)r=r[n.path[i]];switch(n.kind){case"A":f(r[n.path[i]],n.index,n.item);break;case"D":case"E":r[n.path[i]]=n.lhs;break;case"N":delete r[n.path[i]]}}else switch(n.kind){case"A":f(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=l(e,t)}return e}function m(e,t,n){if(e&&t&&n&&n.kind){var i,r,a=e;for(r=n.path.length-1,i=0;i<r;i++)void 0===a[n.path[i]]&&(a[n.path[i]]={}),a=a[n.path[i]];switch(n.kind){case"A":f(a[n.path[i]],n.index,n.item);break;case"D":case"E":a[n.path[i]]=n.lhs;break;case"N":delete a[n.path[i]]}}}function g(e,t,n){e&&t&&u(e,t,(function(i){n&&!n(e,t,i)||p(e,t,i)}))}function v(e){return"color: "+O[e].color+"; font-weight: bold"}function y(e){var t=e.kind,n=e.path,i=e.lhs,r=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),i,"→",r];case"N":return[n.join("."),r];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function b(e,t,n,i){var r=d(e,t);try{i?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}r?r.forEach((function(e){var t=e.kind,i=y(e);n.log.apply(n,["%c "+O[t].text,v(t)].concat(A(i)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function _(e,t,n,i){switch(void 0===e?"undefined":M(e)){case"object":return"function"==typeof e[i]?e[i].apply(e,A(n)):e[i];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,i,r){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+i),n&&a.push("%c(in "+r.toFixed(2)+" ms)"),a.join(" ")}}function k(e,t){var n=t.logger,i=t.actionTransformer,r=t.titleFormatter,a=void 0===r?w(t):r,o=t.collapsed,s=t.colors,l=t.level,c=t.diff,u=void 0===t.titleFormatter;e.forEach((function(r,d){var h=r.started,p=r.startedTime,f=r.action,m=r.prevState,g=r.error,v=r.took,y=r.nextState,w=e[d+1];w&&(y=w.prevState,v=w.started-h);var k=i(f),x="function"==typeof o?o((function(){return y}),f,r):o,E=D(p),C=s.title?"color: "+s.title(k)+";":"",S=["color: gray; font-weight: lighter;"];S.push(C),t.timestamp&&S.push("color: gray; font-weight: lighter;"),t.duration&&S.push("color: gray; font-weight: lighter;");var T=a(k,E,v);try{x?s.title&&u?n.groupCollapsed.apply(n,["%c "+T].concat(S)):n.groupCollapsed(T):s.title&&u?n.group.apply(n,["%c "+T].concat(S)):n.group(T)}catch(e){n.log(T)}var F=_(l,k,[m],"prevState"),M=_(l,k,[k],"action"),A=_(l,k,[g,m],"error"),I=_(l,k,[y],"nextState");if(F)if(s.prevState){var O="color: "+s.prevState(m)+"; font-weight: bold";n[F]("%c prev state",O,m)}else n[F]("prev state",m);if(M)if(s.action){var N="color: "+s.action(k)+"; font-weight: bold";n[M]("%c action    ",N,k)}else n[M]("action    ",k);if(g&&A)if(s.error){var P="color: "+s.error(g,m)+"; font-weight: bold;";n[A]("%c error     ",P,g)}else n[A]("error     ",g);if(I)if(s.nextState){var R="color: "+s.nextState(y)+"; font-weight: bold";n[I]("%c next state",R,y)}else n[I]("next state",y);c&&b(m,y,n,x);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},N,e),n=t.logger,i=t.stateTransformer,r=t.errorTransformer,a=t.predicate,o=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var u={};l.push(u),u.started=F.now(),u.startedTime=new Date,u.prevState=i(n()),u.action=c;var d=void 0;if(o)try{d=e(c)}catch(e){u.error=r(e)}else d=e(c);u.took=F.now()-u.started,u.nextState=i(n());var h=t.diff&&"function"==typeof s?s(n,c):t.diff;if(k(l,Object.assign({},t,{diff:h})),l.length=0,u.error)throw u.error;return d}}}}var E,C,S=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return S("0",t-e.toString().length)+e},D=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},F="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},I=[];E="object"===(void 0===n.g?"undefined":M(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(C=E.DeepDiff)&&I.push((function(){void 0!==C&&E.DeepDiff===d&&(E.DeepDiff=C,C=void 0)})),t(r,i),t(a,i),t(o,i),t(s,i),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return void 0!==C},enumerable:!0},noConflict:{value:function(){return I&&(I.forEach((function(e){e()})),I=null),d},enumerable:!0}});var O={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},N={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?x()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=N,e.createLogger=x,e.logger=P,e.default=P,Object.defineProperty(e,"__esModule",{value:!0})}(t)},3076:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,a=Object.create(r.prototype),o=new D(i||[]);return a._invoke=function(e,t,n){var i=d;return function(r,a){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw a;return M()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=u(e,t,n);if("normal"===l.type){if(i=n.done?f:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",m={};function g(){}function v(){}function y(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(F([])));w&&w!==n&&i.call(w,a)&&(b=w);var k=y.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var r;this._invoke=function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}}function C(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function F(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return v.prototype=y,l(k,"constructor",y),l(y,"constructor",v),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},x(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new E(c(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(k),l(k,s,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=F,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:F(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},7662:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";var i=n(12),r={};function a(e,t){return t===o(e)}function o(e){var t=typeof e;return"object"!==t?t:e?e instanceof Error?"error":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function s(e){return a(e,"function")}function l(e){var t=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),n=RegExp("^"+t+"$");return c(e)&&n.test(e)}function c(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function u(){var e=v();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)}))}var d={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function h(e,t){var n,i;try{n=r.stringify(e)}catch(r){if(t&&s(t))try{n=t(e)}catch(e){i=e}else i=r}return{error:i,value:n}}function p(e,t){return function(n,i){try{t(n,i)}catch(t){e.error(t)}}}var f=["log","network","dom","navigation","error","manual"],m=["critical","error","warning","info","debug"];function g(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function v(){return Date.now?+Date.now():+new Date}e.exports={addParamsAndAccessTokenToPath:function(e,t,n){(n=n||{}).access_token=e;var i,r=[];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push([i,n[i]].join("="));var a="?"+r.sort().join("&");(t=t||{}).path=t.path||"";var o,s=t.path.indexOf("?"),l=t.path.indexOf("#");-1!==s&&(-1===l||l>s)?(o=t.path,t.path=o.substring(0,s)+a+"&"+o.substring(s+1)):-1!==l?(o=t.path,t.path=o.substring(0,l)+a+o.substring(l)):t.path=t.path+a},createItem:function(e,t,n,r,a){for(var s,l,c,d,h,f,m=[],g=[],y=0,b=e.length;y<b;++y){var _=o(f=e[y]);switch(g.push(_),_){case"undefined":break;case"string":s?m.push(f):s=f;break;case"function":d=p(t,f);break;case"date":m.push(f);break;case"error":case"domexception":case"exception":l?m.push(f):l=f;break;case"object":case"array":if(f instanceof Error||"undefined"!=typeof DOMException&&f instanceof DOMException){l?m.push(f):l=f;break}if(r&&"object"===_&&!h){for(var w=0,k=r.length;w<k;++w)if(void 0!==f[r[w]]){h=f;break}if(h)break}c?m.push(f):c=f;break;default:if(f instanceof Error||"undefined"!=typeof DOMException&&f instanceof DOMException){l?m.push(f):l=f;break}m.push(f)}}m.length>0&&((c=i(c)).extraArgs=m);var x={message:s,err:l,custom:c,timestamp:v(),callback:d,notifier:n,diagnostic:{},uuid:u()};return function(e,t){t&&void 0!==t.level&&(e.level=t.level,delete t.level),t&&void 0!==t.skipFrames&&(e.skipFrames=t.skipFrames,delete t.skipFrames)}(x,c),r&&h&&(x.request=h),a&&(x.lambdaContext=a),x._originalArgs=e,x.diagnostic.original_arg_types=g,x},addErrorContext:function(e,t){var n=e.data.custom||{},r=!1;try{for(var a=0;a<t.length;++a)t[a].hasOwnProperty("rollbarContext")&&(n=i(n,t[a].rollbarContext),r=!0);r&&(e.data.custom=n)}catch(t){e.diagnostic.error_context="Failed: "+t.message}},createTelemetryEvent:function(e){for(var t,n,i,r,a=0,s=e.length;a<s;++a)switch(o(r=e[a])){case"string":!t&&g(f,r)?t=r:!i&&g(m,r)&&(i=r);break;case"object":n=r}return{type:t||"manual",metadata:n||{},level:i}},filterIp:function(e,t){if(e&&e.user_ip&&!0!==t){var n=e.user_ip;if(t)try{var i;if(-1!==n.indexOf("."))(i=n.split(".")).pop(),i.push("0"),n=i.join(".");else if(-1!==n.indexOf(":")){if((i=n.split(":")).length>2){var r=i.slice(0,3),a=r[2].indexOf("/");-1!==a&&(r[2]=r[2].substring(0,a)),n=r.concat("0000:0000:0000:0000:0000").join(":")}}else n=null}catch(e){n=null}else n=null;e.user_ip=n}},formatArgsAsString:function(e){var t,n,i,r=[];for(t=0,n=e.length;t<n;++t){switch(o(i=e[t])){case"object":(i=(i=h(i)).error||i.value).length>500&&(i=i.substr(0,497)+"...");break;case"null":i="null";break;case"undefined":i="undefined";break;case"symbol":i=i.toString()}r.push(i)}return r.join(" ")},formatUrl:function(e,t){if(!(t=t||e.protocol)&&e.port&&(80===e.port?t="http:":443===e.port&&(t="https:")),t=t||"https:",!e.hostname)return null;var n=t+"//"+e.hostname;return e.port&&(n=n+":"+e.port),e.path&&(n+=e.path),n},get:function(e,t){if(e){var n=t.split("."),i=e;try{for(var r=0,a=n.length;r<a;++r)i=i[n[r]]}catch(e){i=void 0}return i}},handleOptions:function(e,t,n,r){var a=i(e,t,n);return a=function(e,t){return e.hostWhiteList&&!e.hostSafeList&&(e.hostSafeList=e.hostWhiteList,e.hostWhiteList=void 0,t&&t.log("hostWhiteList is deprecated. Use hostSafeList.")),e.hostBlackList&&!e.hostBlockList&&(e.hostBlockList=e.hostBlackList,e.hostBlackList=void 0,t&&t.log("hostBlackList is deprecated. Use hostBlockList.")),e}(a,r),!t||t.overwriteScrubFields||t.scrubFields&&(a.scrubFields=(e.scrubFields||[]).concat(t.scrubFields)),a},isError:function(e){return a(e,"error")||a(e,"exception")},isFiniteNumber:function(e){return Number.isFinite(e)},isFunction:s,isIterable:function(e){var t=o(e);return"object"===t||"array"===t},isNativeFunction:l,isObject:c,isString:function(e){return"string"==typeof e||e instanceof String},isType:a,isPromise:function(e){return c(e)&&a(e.then,"function")},jsonParse:function(e){var t,n;try{t=r.parse(e)}catch(e){n=e}return{error:n,value:t}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(e,t,n,i,r,a,o,s){var l={url:t||"",line:n,column:i};l.func=s.guessFunctionName(l.url,l.line),l.context=s.gatherContext(l.url,l.line);var c="undefined"!=typeof document&&document&&document.location&&document.location.href,u="undefined"!=typeof window&&window&&window.navigator&&window.navigator.userAgent;return{mode:a,message:r?String(r):e||o,url:c,stack:[l],useragent:u}},merge:i,now:v,redact:function(){return"********"},RollbarJSON:r,sanitizeUrl:function(e){var t=function(e){if(a(e,"string")){for(var t=d,n=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},r=0,o=t.key.length;r<o;++r)i[t.key[r]]=n[r]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,(function(e,n,r){n&&(i[t.q.name][n]=r)})),i}}(e);return t?(""===t.anchor&&(t.source=t.source.replace("#","")),e=t.source.replace("?"+t.query,"")):"(unknown)"},set:function(e,t,n){if(e){var i=t.split("."),r=i.length;if(!(r<1))if(1!==r)try{for(var a=e[i[0]]||{},o=a,s=1;s<r-1;++s)a[i[s]]=a[i[s]]||{},a=a[i[s]];a[i[r-1]]=n,e[i[0]]=o}catch(e){return}else e[i[0]]=n}},setupJSON:function(e){s(r.stringify)&&s(r.parse)||(a(JSON,"undefined")||(e?(l(JSON.stringify)&&(r.stringify=JSON.stringify),l(JSON.parse)&&(r.parse=JSON.parse)):(s(JSON.stringify)&&(r.stringify=JSON.stringify),s(JSON.parse)&&(r.parse=JSON.parse))),s(r.stringify)&&s(r.parse)||e&&e(r))},stringify:h,maxByteSize:function(e){for(var t=0,n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);r<128?t+=1:r<2048?t+=2:r<65536&&(t+=3)}return t},typeName:o,uuid4:u}},function(e,t,n){"use strict";n(17);var i=n(18),r=n(0);e.exports={error:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),i.ieVersion()<=8?console.error(r.formatArgsAsString(e)):console.error.apply(console,e)},info:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),i.ieVersion()<=8?console.info(r.formatArgsAsString(e)):console.info.apply(console,e)},log:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),i.ieVersion()<=8?console.log(r.formatArgsAsString(e)):console.log.apply(console,e)}}},function(e,t,n){"use strict";e.exports={parse:function(e){var t,n,i={protocol:null,auth:null,host:null,path:null,hash:null,href:e,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(t=e.indexOf("//"))?(i.protocol=e.substring(0,t),n=t+2):n=0,-1!==(t=e.indexOf("@",n))&&(i.auth=e.substring(n,t),n=t+1),-1===(t=e.indexOf("/",n))){if(-1===(t=e.indexOf("?",n)))return-1===(t=e.indexOf("#",n))?i.host=e.substring(n):(i.host=e.substring(n,t),i.hash=e.substring(t)),i.hostname=i.host.split(":")[0],i.port=i.host.split(":")[1],i.port&&(i.port=parseInt(i.port,10)),i;i.host=e.substring(n,t),i.hostname=i.host.split(":")[0],i.port=i.host.split(":")[1],i.port&&(i.port=parseInt(i.port,10)),n=t}else i.host=e.substring(n,t),i.hostname=i.host.split(":")[0],i.port=i.host.split(":")[1],i.port&&(i.port=parseInt(i.port,10)),n=t;if(-1===(t=e.indexOf("#",n))?i.path=e.substring(n):(i.path=e.substring(n,t),i.hash=e.substring(t)),i.path){var r=i.path.split("?");i.pathname=r[0],i.query=r[1],i.search=i.query?"?"+i.query:null}return i}}},function(e,t,n){"use strict";var i=n(22),r=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function a(){return null}function o(e){var t={};return t._stackFrame=e,t.url=e.fileName,t.line=e.lineNumber,t.func=e.functionName,t.column=e.columnNumber,t.args=e.args,t.context=null,t}function s(e,t){return{stack:function(){var n=[];t=t||0;try{n=i.parse(e)}catch(e){n=[]}for(var r=[],a=t;a<n.length;a++)r.push(new o(n[a]));return r}(),message:e.message,name:l(e),rawStack:e.stack,rawException:e}}function l(e){var t=e.name&&e.name.length&&e.name,n=e.constructor.name&&e.constructor.name.length&&e.constructor.name;return t&&n?"Error"===t?n:t:t||n}e.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(e){if(!e||!e.match)return["Unknown error. There was no error message to display.",""];var t=e.match(r),n="(unknown)";return t&&(n=t[t.length-1],e=(e=e.replace((t[t.length-2]||"")+n+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[n,e]},gatherContext:a,parse:function(e,t){var n=e;if(n.nested){for(var i=[];n;)i.push(new s(n,t)),n=n.nested,t=0;return i[0].traceChain=i,i[0]}return new s(n,t)},Stack:s,Frame:o}},function(e,t,n){"use strict";var i=n(0),r=n(5);function a(e,t){var n=t.split("."),r=n.length-1;try{for(var a=0;a<=r;++a)a<r?e=e[n[a]]:e[n[a]]=i.redact()}catch(e){}}e.exports=function(e,t,n){if(t=t||[],n)for(var o=0;o<n.length;++o)a(e,n[o]);var s=function(e){for(var t,n=[],i=0;i<e.length;++i)t="^\\[?(%5[bB])?"+e[i]+"\\[?(%5[bB])?\\]?(%5[dD])?$",n.push(new RegExp(t,"i"));return n}(t),l=function(e){for(var t,n=[],i=0;i<e.length;++i)t="\\[?(%5[bB])?"+e[i]+"\\[?(%5[bB])?\\]?(%5[dD])?",n.push(new RegExp("("+t+"=)([^&\\n]+)","igm"));return n}(t);function c(e,t){return t+i.redact()}return r(e,(function e(t,n,a){var o=function(e,t){var n;for(n=0;n<s.length;++n)if(s[n].test(e)){t=i.redact();break}return t}(t,n);return o===n?i.isType(n,"object")||i.isType(n,"array")?r(n,e,a):function(e){var t;if(i.isType(e,"string"))for(t=0;t<l.length;++t)e=e.replace(l[t],c);return e}(o):o}))}},function(e,t,n){"use strict";var i=n(0);e.exports=function(e,t,n){var r,a,o,s,l=i.isType(e,"object"),c=i.isType(e,"array"),u=[];if(n=n||{obj:[],mapped:[]},l){if(s=n.obj.indexOf(e),l&&-1!==s)return n.mapped[s]||n.obj[s];n.obj.push(e),s=n.obj.length-1}if(l)for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&u.push(r);else if(c)for(o=0;o<e.length;++o)u.push(o);var d=l?{}:[],h=!0;for(o=0;o<u.length;++o)a=e[r=u[o]],d[r]=t(r,a,n),h=h&&d[r]===e[r];return l&&!h&&(n.mapped[s]=d),h?e:d}},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";var i=n(8),r="undefined"!=typeof window&&window._rollbarConfig,a=r&&r.globalAlias||"Rollbar",o="undefined"!=typeof window&&window[a]&&"function"==typeof window[a].shimId&&void 0!==window[a].shimId();if("undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!o&&r){var s=new i(r);window[a]=s}else"undefined"!=typeof window?(window.rollbar=i,window._rollbarDidLoad=!0):"undefined"!=typeof self&&(self.rollbar=i,self._rollbarDidLoad=!0);e.exports=i},function(e,t,n){"use strict";var i=n(9),r=n(29),a=n(30),o=n(32),s=n(34),l=n(4),c=n(35);i.setComponents({telemeter:r,instrumenter:a,polyfillJSON:o,wrapGlobals:s,scrub:l,truncation:c}),e.exports=i},function(e,t,n){"use strict";var i=n(10),r=n(0),a=n(15),o=n(1),s=n(19),l=n(20),c=n(2),u=n(21),d=n(24),h=n(25),p=n(26),f=n(3);function m(e,t){this.options=r.handleOptions(k,e,null,o),this.options._configuredOptions=e;var n=this.components.telemeter,s=this.components.instrumenter,f=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var m=this.components.truncation,g=new l(m),v=new a(this.options,g,c,m);n&&(this.telemeter=new n(this.options)),this.client=t||new i(this.options,v,o,this.telemeter,"browser");var y=b(),_="undefined"!=typeof document&&document;this.isChrome=y.chrome&&y.chrome.runtime,this.anonymousErrorsPending=0,function(e,t,n){e.addTransform(u.handleDomException).addTransform(u.handleItemWithError).addTransform(u.ensureItemHasSomethingToSay).addTransform(u.addBaseInfo).addTransform(u.addRequestInfo(n)).addTransform(u.addClientInfo(n)).addTransform(u.addPluginInfo(n)).addTransform(u.addBody).addTransform(d.addMessageWithError).addTransform(d.addTelemetryData).addTransform(d.addConfigToPayload).addTransform(u.addScrubber(t.scrub)).addTransform(d.userTransform(o)).addTransform(d.addConfiguredOptions).addTransform(d.addDiagnosticKeys).addTransform(d.itemToPayload)}(this.client.notifier,this,y),this.client.queue.addPredicate(p.checkLevel).addPredicate(h.checkIgnore).addPredicate(p.userCheckIgnore(o)).addPredicate(p.urlIsNotBlockListed(o)).addPredicate(p.urlIsSafeListed(o)).addPredicate(p.messageIsIgnored(o)),this.setupUnhandledCapture(),s&&(this.instrumenter=new s(this.options,this.client.telemeter,this,y,_),this.instrumenter.instrument()),r.setupJSON(f)}var g=null;function v(e){var t="Rollbar is not initialized";o.error(t),e&&e(new Error(t))}function y(e){for(var t=0,n=e.length;t<n;++t)if(r.isFunction(e[t]))return e[t]}function b(){return"undefined"!=typeof window&&window||"undefined"!=typeof self&&self}m.init=function(e,t){return g?g.global(e).configure(e):g=new m(e,t)},m.prototype.components={},m.setComponents=function(e){m.prototype.components=e},m.prototype.global=function(e){return this.client.global(e),this},m.global=function(e){if(g)return g.global(e);v()},m.prototype.configure=function(e,t){var n=this.options,i={};return t&&(i={payload:t}),this.options=r.handleOptions(n,e,i,o),this.options._configuredOptions=r.handleOptions(n._configuredOptions,e,i),this.client.configure(this.options,t),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},m.configure=function(e,t){if(g)return g.configure(e,t);v()},m.prototype.lastError=function(){return this.client.lastError},m.lastError=function(){if(g)return g.lastError();v()},m.prototype.log=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.log(e),{uuid:t}},m.log=function(){if(g)return g.log.apply(g,arguments);v(y(arguments))},m.prototype.debug=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.debug(e),{uuid:t}},m.debug=function(){if(g)return g.debug.apply(g,arguments);v(y(arguments))},m.prototype.info=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.info(e),{uuid:t}},m.info=function(){if(g)return g.info.apply(g,arguments);v(y(arguments))},m.prototype.warn=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warn(e),{uuid:t}},m.warn=function(){if(g)return g.warn.apply(g,arguments);v(y(arguments))},m.prototype.warning=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warning(e),{uuid:t}},m.warning=function(){if(g)return g.warning.apply(g,arguments);v(y(arguments))},m.prototype.error=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.error(e),{uuid:t}},m.error=function(){if(g)return g.error.apply(g,arguments);v(y(arguments))},m.prototype.critical=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.critical(e),{uuid:t}},m.critical=function(){if(g)return g.critical.apply(g,arguments);v(y(arguments))},m.prototype.buildJsonPayload=function(e){return this.client.buildJsonPayload(e)},m.buildJsonPayload=function(){if(g)return g.buildJsonPayload.apply(g,arguments);v()},m.prototype.sendJsonPayload=function(e){return this.client.sendJsonPayload(e)},m.sendJsonPayload=function(){if(g)return g.sendJsonPayload.apply(g,arguments);v()},m.prototype.setupUnhandledCapture=function(){var e=b();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(s.captureUncaughtExceptions(e,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(e,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(s.captureUnhandledRejections(e,this),this.unhandledRejectionsInitialized=!0)},m.prototype.handleUncaughtException=function(e,t,n,i,a,o){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===a&&""===t)return"anonymous";var s,l=r.makeUnhandledStackInfo(e,t,n,i,a,"onerror","uncaught exception",f);r.isError(a)?(s=this._createItem([e,a,o]))._unhandledStackInfo=l:r.isError(t)?(s=this._createItem([e,t,o]))._unhandledStackInfo=l:(s=this._createItem([e,o])).stackInfo=l,s.level=this.options.uncaughtErrorLevel,s._isUncaught=!0,this.client.log(s)}},m.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var e=this;try{Error.prepareStackTrace=function(t,n){if(e.options.inspectAnonymousErrors&&e.anonymousErrorsPending){if(e.anonymousErrorsPending-=1,!t)return;t._isAnonymous=!0,e.handleUncaughtException(t.message,null,null,null,t)}return t.stack}}catch(e){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",e)}}},m.prototype.handleUnhandledRejection=function(e,t){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var n="unhandled rejection was null or undefined!";if(e)if(e.message)n=e.message;else{var i=r.stringify(e);i.value&&(n=i.value)}var a,o=e&&e._rollbarContext||t&&t._rollbarContext;r.isError(e)?a=this._createItem([n,e,o]):(a=this._createItem([n,e,o])).stackInfo=r.makeUnhandledStackInfo(n,"",0,0,null,"unhandledrejection","",f),a.level=this.options.uncaughtErrorLevel,a._isUncaught=!0,a._originalArgs=a._originalArgs||[],a._originalArgs.push(t),this.client.log(a)}},m.prototype.wrap=function(e,t,n){try{var i;if(i=r.isFunction(t)?t:function(){return t||{}},!r.isFunction(e))return e;if(e._isWrap)return e;if(!e._rollbar_wrapped&&(e._rollbar_wrapped=function(){n&&r.isFunction(n)&&n.apply(this,arguments);try{return e.apply(this,arguments)}catch(n){var t=n;throw t&&window._rollbarWrappedError!==t&&(r.isType(t,"string")&&(t=new String(t)),t._rollbarContext=i()||{},t._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=t),t}},e._rollbar_wrapped._isWrap=!0,e.hasOwnProperty))for(var a in e)e.hasOwnProperty(a)&&"_rollbar_wrapped"!==a&&(e._rollbar_wrapped[a]=e[a]);return e._rollbar_wrapped}catch(t){return e}},m.wrap=function(e,t){if(g)return g.wrap(e,t);v()},m.prototype.captureEvent=function(){var e=r.createTelemetryEvent(arguments);return this.client.captureEvent(e.type,e.metadata,e.level)},m.captureEvent=function(){if(g)return g.captureEvent.apply(g,arguments);v()},m.prototype.captureDomContentLoaded=function(e,t){return t||(t=new Date),this.client.captureDomContentLoaded(t)},m.prototype.captureLoad=function(e,t){return t||(t=new Date),this.client.captureLoad(t)},m.prototype.loadFull=function(){o.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},m.prototype._createItem=function(e){return r.createItem(e,o,this)};var _=n(27),w=n(28),k={version:_.version,scrubFields:w.scrubFields,logLevel:_.logLevel,reportLevel:_.reportLevel,uncaughtErrorLevel:_.uncaughtErrorLevel,endpoint:_.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};e.exports=m},function(e,t,n){"use strict";var i=n(11),r=n(13),a=n(14),o=n(0);function s(e,t,n,i,u){this.options=o.merge(e),this.logger=n,s.rateLimiter.configureGlobal(this.options),s.rateLimiter.setPlatformOptions(u,this.options),this.api=t,this.queue=new r(s.rateLimiter,t,n,this.options);var d=this.options.tracer||null;c(d)?(this.tracer=d,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new a(this.queue,this.options),this.telemeter=i,l(e),this.lastError=null,this.lastErrorHash="none"}function l(e){e.stackTraceLimit&&(Error.stackTraceLimit=e.stackTraceLimit)}function c(e){if(!e)return!1;if(!e.scope||"function"!=typeof e.scope)return!1;var t=e.scope();return!(!t||!t.active||"function"!=typeof t.active)}s.rateLimiter=new i({maxItems:0,itemsPerMinute:60}),s.prototype.global=function(e){return s.rateLimiter.configureGlobal(e),this},s.prototype.configure=function(e,t){var n=this.options,i={};t&&(i={payload:t}),this.options=o.merge(n,e,i);var r=this.options.tracer||null;return c(r)?(this.tracer=r,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),l(e),this.global(this.options),c(e.tracer)&&(this.tracer=e.tracer),this},s.prototype.log=function(e){var t=this._defaultLogLevel();return this._log(t,e)},s.prototype.debug=function(e){this._log("debug",e)},s.prototype.info=function(e){this._log("info",e)},s.prototype.warn=function(e){this._log("warning",e)},s.prototype.warning=function(e){this._log("warning",e)},s.prototype.error=function(e){this._log("error",e)},s.prototype.critical=function(e){this._log("critical",e)},s.prototype.wait=function(e){this.queue.wait(e)},s.prototype.captureEvent=function(e,t,n){return this.telemeter&&this.telemeter.captureEvent(e,t,n)},s.prototype.captureDomContentLoaded=function(e){return this.telemeter&&this.telemeter.captureDomContentLoaded(e)},s.prototype.captureLoad=function(e){return this.telemeter&&this.telemeter.captureLoad(e)},s.prototype.buildJsonPayload=function(e){return this.api.buildJsonPayload(e)},s.prototype.sendJsonPayload=function(e){this.api.postJsonPayload(e)},s.prototype._log=function(e,t){var n;if(t.callback&&(n=t.callback,delete t.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(t)){if(n){var i=new Error("ignored identical item");i.item=t,n(i)}}else try{this._addTracingInfo(t),t.level=t.level||e,this.telemeter&&this.telemeter._captureRollbarItem(t),t.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(t,n)}catch(e){n&&n(e),this.logger.error(e)}},s.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},s.prototype._sameAsLastError=function(e){if(!e._isUncaught)return!1;var t=function(e){return(e.message||"")+"::"+((e.err||{}).stack||String(e.err))}(e);return this.lastErrorHash===t||(this.lastError=e.err,this.lastErrorHash=t,!1)},s.prototype._addTracingInfo=function(e){if(this.tracer){var t=this.tracer.scope().active();if(function(e){if(!e||!e.context||"function"!=typeof e.context)return!1;var t=e.context();return!!(t&&t.toSpanId&&t.toTraceId&&"function"==typeof t.toSpanId&&"function"==typeof t.toTraceId)}(t)){t.setTag("rollbar.error_uuid",e.uuid),t.setTag("rollbar.has_error",!0),t.setTag("error",!0),t.setTag("rollbar.item_url","https://rollbar.com/item/uuid/?uuid="+e.uuid),t.setTag("rollbar.occurrence_url","https://rollbar.com/occurrence/uuid/?uuid="+e.uuid);var n=t.context().toSpanId(),i=t.context().toTraceId();e.custom?(e.custom.opentracing_span_id=n,e.custom.opentracing_trace_id=i):e.custom={opentracing_span_id:n,opentracing_trace_id:i}}}},e.exports=s},function(e,t,n){"use strict";var i=n(0);function r(e){this.startTime=i.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(e)}function a(e,t,n){return!e.ignoreRateLimit&&t>=1&&n>t}function o(e,t,n,i,r,a,o){var s=null;return n&&(n=new Error(n)),n||i||(s=function(e,t,n,i,r){var a={body:{message:{body:r?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:n,itemsPerMinute:i}}},language:"javascript",environment:t.environment||t.payload&&t.payload.environment,notifier:{version:t.notifier&&t.notifier.version||t.version}};return"browser"===e?(a.platform="browser",a.framework="browser-js",a.notifier.name="rollbar-browser-js"):"server"===e?(a.framework=t.framework||"node-js",a.notifier.name=t.notifier.name):"react-native"===e&&(a.framework=t.framework||"react-native",a.notifier.name=t.notifier.name),a}(e,t,r,a,o)),{error:n,shouldSend:i,payload:s}}r.globalSettings={startTime:i.now(),maxItems:void 0,itemsPerMinute:void 0},r.prototype.configureGlobal=function(e){void 0!==e.startTime&&(r.globalSettings.startTime=e.startTime),void 0!==e.maxItems&&(r.globalSettings.maxItems=e.maxItems),void 0!==e.itemsPerMinute&&(r.globalSettings.itemsPerMinute=e.itemsPerMinute)},r.prototype.shouldSend=function(e,t){var n=(t=t||i.now())-this.startTime;(n<0||n>=6e4)&&(this.startTime=t,this.perMinCounter=0);var s=r.globalSettings.maxItems,l=r.globalSettings.itemsPerMinute;if(a(e,s,this.counter))return o(this.platform,this.platformOptions,s+" max items reached",!1);if(a(e,l,this.perMinCounter))return o(this.platform,this.platformOptions,l+" items per minute reached",!1);this.counter++,this.perMinCounter++;var c=!a(e,s,this.counter),u=c;return c=c&&!a(e,l,this.perMinCounter),o(this.platform,this.platformOptions,null,c,s,l,u)},r.prototype.setPlatformOptions=function(e,t){this.platform=e,this.platformOptions=t},e.exports=r},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,n=i.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!a)return!1;for(t in e);return void 0===t||i.call(e,t)};e.exports=function e(){var t,n,i,r,o,s={},l=null,c=arguments.length;for(t=0;t<c;t++)if(null!=(l=arguments[t]))for(o in l)n=s[o],s!==(i=l[o])&&(i&&a(i)?(r=n&&a(n)?n:{},s[o]=e(r,i)):void 0!==i&&(s[o]=i));return s}},function(e,t,n){"use strict";var i=n(0);function r(e,t,n,i){this.rateLimiter=e,this.api=t,this.logger=n,this.options=i,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}r.prototype.configure=function(e){this.api&&this.api.configure(e);var t=this.options;return this.options=i.merge(t,e),this},r.prototype.addPredicate=function(e){return i.isFunction(e)&&this.predicates.push(e),this},r.prototype.addPendingItem=function(e){this.pendingItems.push(e)},r.prototype.removePendingItem=function(e){var t=this.pendingItems.indexOf(e);-1!==t&&this.pendingItems.splice(t,1)},r.prototype.addItem=function(e,t,n,r){t&&i.isFunction(t)||(t=function(){});var a=this._applyPredicates(e);if(a.stop)return this.removePendingItem(r),void t(a.err);if(this._maybeLog(e,n),this.removePendingItem(r),this.options.transmit){this.pendingRequests.push(e);try{this._makeApiRequest(e,function(n,i){this._dequeuePendingRequest(e),t(n,i)}.bind(this))}catch(n){this._dequeuePendingRequest(e),t(n)}}else t(new Error("Transmit disabled"))},r.prototype.wait=function(e){i.isFunction(e)&&(this.waitCallback=e,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},r.prototype._applyPredicates=function(e){for(var t=null,n=0,i=this.predicates.length;n<i;n++)if(!(t=this.predicates[n](e,this.options))||void 0!==t.err)return{stop:!0,err:t.err};return{stop:!1,err:null}},r.prototype._makeApiRequest=function(e,t){var n=this.rateLimiter.shouldSend(e);n.shouldSend?this.api.postItem(e,function(n,i){n?this._maybeRetry(n,e,t):t(n,i)}.bind(this)):n.error?t(n.error):this.api.postItem(n.payload,t)};var a=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];r.prototype._maybeRetry=function(e,t,n){var r=!1;if(this.options.retryInterval){for(var o=0,s=a.length;o<s;o++)if(e.code===a[o]){r=!0;break}r&&i.isFiniteNumber(this.options.maxRetries)&&(t.retries=t.retries?t.retries+1:1,t.retries>this.options.maxRetries&&(r=!1))}r?this._retryApiRequest(t,n):n(e)},r.prototype._retryApiRequest=function(e,t){this.retryQueue.push({item:e,callback:t}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var e=this.retryQueue.shift();this._makeApiRequest(e.item,e.callback)}}.bind(this),this.options.retryInterval))},r.prototype._dequeuePendingRequest=function(e){var t=this.pendingRequests.indexOf(e);-1!==t&&(this.pendingRequests.splice(t,1),this._maybeCallWait())},r.prototype._maybeLog=function(e,t){if(this.logger&&this.options.verbose){var n=t;if(n=(n=n||i.get(e,"body.trace.exception.message"))||i.get(e,"body.trace_chain.0.exception.message"))return void this.logger.error(n);(n=i.get(e,"body.message.body"))&&this.logger.log(n)}},r.prototype._maybeCallWait=function(){return!(!i.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},e.exports=r},function(e,t,n){"use strict";var i=n(0);function r(e,t){this.queue=e,this.options=t,this.transforms=[],this.diagnostic={}}r.prototype.configure=function(e){this.queue&&this.queue.configure(e);var t=this.options;return this.options=i.merge(t,e),this},r.prototype.addTransform=function(e){return i.isFunction(e)&&this.transforms.push(e),this},r.prototype.log=function(e,t){if(t&&i.isFunction(t)||(t=function(){}),!this.options.enabled)return t(new Error("Rollbar is not enabled"));this.queue.addPendingItem(e);var n=e.err;this._applyTransforms(e,function(i,r){if(i)return this.queue.removePendingItem(e),t(i,null);this.queue.addItem(r,t,n,e)}.bind(this))},r.prototype._applyTransforms=function(e,t){var n=-1,i=this.transforms.length,r=this.transforms,a=this.options,o=function(e,s){e?t(e,null):++n!==i?r[n](s,a,o):t(null,s)};o(null,e)},e.exports=r},function(e,t,n){"use strict";var i=n(0),r=n(16),a={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function o(e,t,n,i,r){this.options=e,this.transport=t,this.url=n,this.truncation=i,this.jsonBackup=r,this.accessToken=e.accessToken,this.transportOptions=s(e,n)}function s(e,t){return r.getTransportFromOptions(e,a,t)}o.prototype.postItem=function(e,t){var n=r.transportOptions(this.transportOptions,"POST"),i=r.buildPayload(this.accessToken,e,this.jsonBackup);this.transport.post(this.accessToken,n,i,t)},o.prototype.buildJsonPayload=function(e,t){var n,a=r.buildPayload(this.accessToken,e,this.jsonBackup);return(n=this.truncation?this.truncation.truncate(a):i.stringify(a)).error?(t&&t(n.error),null):n.value},o.prototype.postJsonPayload=function(e,t){var n=r.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,n,e,t)},o.prototype.configure=function(e){var t=this.oldOptions;return this.options=i.merge(t,e),this.transportOptions=s(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},e.exports=o},function(e,t,n){"use strict";var i=n(0);e.exports={buildPayload:function(e,t,n){if(!i.isType(t.context,"string")){var r=i.stringify(t.context,n);r.error?t.context="Error: could not serialize 'context'":t.context=r.value||"",t.context.length>255&&(t.context=t.context.substr(0,255))}return{access_token:e,data:t}},getTransportFromOptions:function(e,t,n){var i=t.hostname,r=t.protocol,a=t.port,o=t.path,s=t.search,l=e.timeout,c=e.proxy;if(e.endpoint){var u=n.parse(e.endpoint);i=u.hostname,r=u.protocol,a=u.port,o=u.pathname,s=u.search}return{timeout:l,hostname:i,protocol:r,port:a,path:o,search:s,proxy:c}},transportOptions:function(e,t){var n=e.protocol||"https:",i=e.port||("http:"===n?80:"https:"===n?443:void 0),r=e.hostname,a=e.path,o=e.timeout;return e.search&&(a+=e.search),e.proxy&&(a=n+"//"+r+a,r=e.proxy.host||e.proxy.hostname,i=e.proxy.port,n=e.proxy.protocol||n),{timeout:o,protocol:n,hostname:r,path:a,port:i,method:t}},appendPathToPath:function(e,t){var n=/\/$/.test(e),i=/^\//.test(t);return n&&i?t=t.substring(1):n||i||(t="/"+t),e+t}}},function(e,t){!function(e){"use strict";e.console||(e.console={});for(var t,n,i=e.console,r=function(){},a=["memory"],o="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=a.pop();)i[t]||(i[t]={});for(;n=o.pop();)i[n]||(i[n]=r)}("undefined"==typeof window?this:window)},function(e,t,n){"use strict";var i={ieVersion:function(){if("undefined"!=typeof document){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:void 0}}};e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){e._rollbarWrappedError&&(i[4]||(i[4]=e._rollbarWrappedError),i[5]||(i[5]=e._rollbarWrappedError._rollbarContext),e._rollbarWrappedError=null);var r=t.handleUncaughtException.apply(t,i);n&&n.apply(e,i),"anonymous"===r&&(t.anonymousErrorsPending+=1)}e.exports={captureUncaughtExceptions:function(e,t,n){if(e){var r;if("function"==typeof t._rollbarOldOnError)r=t._rollbarOldOnError;else if(e.onerror){for(r=e.onerror;r._rollbarOldOnError;)r=r._rollbarOldOnError;t._rollbarOldOnError=r}t.handleAnonymousErrors();var a=function(){var n=Array.prototype.slice.call(arguments,0);i(e,t,r,n)};n&&(a._rollbarOldOnError=r),e.onerror=a}},captureUnhandledRejections:function(e,t,n){if(e){"function"==typeof e._rollbarURH&&e._rollbarURH.belongsToShim&&e.removeEventListener("unhandledrejection",e._rollbarURH);var i=function(e){var n,i,r;try{n=e.reason}catch(e){n=void 0}try{i=e.promise}catch(e){i="[unhandledrejection] error getting `promise` from event"}try{r=e.detail,!n&&r&&(n=r.reason,i=r.promise)}catch(e){}n||(n="[unhandledrejection] error getting `reason` from event"),t&&t.handleUnhandledRejection&&t.handleUnhandledRejection(n,i)};i.belongsToShim=n,e._rollbarURH=i,e.addEventListener("unhandledrejection",i)}}}},function(e,t,n){"use strict";var i=n(0),r=n(1);function a(e){this.truncation=e}function o(){var e="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,t=e&&e.Zone&&e.Zone.current,n=Array.prototype.slice.call(arguments);t&&"angular"===t._name?t._parent.run((function(){s.apply(void 0,n)})):s.apply(void 0,n)}function s(e,t,n,a,o,s,c){if("undefined"!=typeof RollbarProxy)return function(e,t){(new RollbarProxy).sendJsonPayload(e,(function(e){}),(function(e){t(new Error(e))}))}(a,o);var u;if(!(u=s?s():function(){var e,t,n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],i=n.length;for(t=0;t<i;t++)try{e=n[t]();break}catch(e){}return e}()))return o(new Error("No way to send a request"));try{try{var d=function(){try{if(d&&4===u.readyState){d=void 0;var e=i.jsonParse(u.responseText);if((a=u)&&a.status&&200===a.status)return void o(e.error,e.value);if(function(e){return e&&i.isType(e.status,"number")&&e.status>=400&&e.status<600}(u)){if(403===u.status){var t=e.value&&e.value.message;r.error(t)}o(new Error(String(u.status)))}else o(l("XHR response had no status code (likely connection failure)"))}}catch(e){var n;n=e&&e.stack?e:new Error(e),o(n)}var a};u.open(n,t,!0),u.setRequestHeader&&(u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("X-Rollbar-Access-Token",e)),i.isFiniteNumber(c)&&(u.timeout=c),u.onreadystatechange=d,u.send(a)}catch(e){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return o(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===t.substring(0,5)&&(t="http"+t.substring(5));var h=new XDomainRequest;h.onprogress=function(){},h.ontimeout=function(){o(l("Request timed out","ETIMEDOUT"))},h.onerror=function(){o(new Error("Error during request"))},h.onload=function(){var e=i.jsonParse(h.responseText);o(e.error,e.value)},h.open(n,t,!0),h.send(a)}else o(new Error("Cannot find a method to transport a request"))}}catch(e){o(e)}}function l(e,t){var n=new Error(e);return n.code=t||"ENOTFOUND",n}a.prototype.get=function(e,t,n,r,a){r&&i.isFunction(r)||(r=function(){}),i.addParamsAndAccessTokenToPath(e,t,n),o(e,i.formatUrl(t),"GET",null,r,a,t.timeout)},a.prototype.post=function(e,t,n,r,a){if(r&&i.isFunction(r)||(r=function(){}),!n)return r(new Error("Cannot send empty request"));var s;if((s=this.truncation?this.truncation.truncate(n):i.stringify(n)).error)return r(s.error);var l=s.value;o(e,i.formatUrl(t),"POST",l,r,a,t.timeout)},a.prototype.postJsonPayload=function(e,t,n,r,a){r&&i.isFunction(r)||(r=function(){}),o(e,i.formatUrl(t),"POST",n,r,a,t.timeout)},e.exports=a},function(e,t,n){"use strict";var i=n(0),r=n(3),a=n(1);function o(e,t,n){var r=e.message,a=e.custom;r||(r="Item sent with null or missing arguments.");var o={body:r};a&&(o.extra=i.merge(a)),i.set(e,"data.body",{message:o}),n(null,e)}function s(e){var t=e.stackInfo.stack;return t&&0===t.length&&e._unhandledStackInfo&&e._unhandledStackInfo.stack&&(t=e._unhandledStackInfo.stack),t}function l(e,t,n){var a=e&&e.data.description,o=e&&e.custom,l=s(e),u=r.guessErrorClass(t.message),d={exception:{class:c(t,u[0],n),message:u[1]}};if(a&&(d.exception.description=a),l){var h,p,f,m,g,v,y,b;for(0===l.length&&(d.exception.stack=t.rawStack,d.exception.raw=String(t.rawException)),d.frames=[],y=0;y<l.length;++y)p={filename:(h=l[y]).url?i.sanitizeUrl(h.url):"(unknown)",lineno:h.line||null,method:h.func&&"?"!==h.func?h.func:"[anonymous]",colno:h.column},n.sendFrameUrl&&(p.url=h.url),p.method&&p.method.endsWith&&p.method.endsWith("_rollbar_wrapped")||(f=m=g=null,(v=h.context?h.context.length:0)&&(b=Math.floor(v/2),m=h.context.slice(0,b),f=h.context[b],g=h.context.slice(b)),f&&(p.code=f),(m||g)&&(p.context={},m&&m.length&&(p.context.pre=m),g&&g.length&&(p.context.post=g)),h.args&&(p.args=h.args),d.frames.push(p));d.frames.reverse(),o&&(d.extra=i.merge(o))}return d}function c(e,t,n){return e.name?e.name:n.guessErrorClass?t:"(unknown)"}e.exports={handleDomException:function(e,t,n){if(e.err&&"DOMException"===r.Stack(e.err).name){var i=new Error;i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack,i.nested=e.err,e.err=i}n(null,e)},handleItemWithError:function(e,t,n){if(e.data=e.data||{},e.err)try{e.stackInfo=e.err._savedStackTrace||r.parse(e.err,e.skipFrames),t.addErrorContext&&function(e){var t=[],n=e.err;for(t.push(n);n.nested;)n=n.nested,t.push(n);i.addErrorContext(e,t)}(e)}catch(t){a.error("Error while parsing the error object.",t);try{e.message=e.err.message||e.err.description||e.message||String(e.err)}catch(t){e.message=String(e.err)||String(t)}delete e.err}n(null,e)},ensureItemHasSomethingToSay:function(e,t,n){e.message||e.stackInfo||e.custom||n(new Error("No message, stack info, or custom data"),null),n(null,e)},addBaseInfo:function(e,t,n){var r=t.payload&&t.payload.environment||t.environment;e.data=i.merge(e.data,{environment:r,level:e.level,endpoint:t.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:e.uuid,notifier:{name:"rollbar-browser-js",version:t.version},custom:e.custom}),n(null,e)},addRequestInfo:function(e){return function(t,n,r){if(!e||!e.location)return r(null,t);var a="$remote_ip";n.captureIp?!0!==n.captureIp&&(a+="_anonymize"):a=null,i.set(t,"data.request",{url:e.location.href,query_string:e.location.search,user_ip:a}),r(null,t)}},addClientInfo:function(e){return function(t,n,r){if(!e)return r(null,t);var a=e.navigator||{},o=e.screen||{};i.set(t,"data.client",{runtime_ms:t.timestamp-e._rollbarStartTime,timestamp:Math.round(t.timestamp/1e3),javascript:{browser:a.userAgent,language:a.language,cookie_enabled:a.cookieEnabled,screen:{width:o.width,height:o.height}}}),r(null,t)}},addPluginInfo:function(e){return function(t,n,r){if(!e||!e.navigator)return r(null,t);for(var a,o=[],s=e.navigator.plugins||[],l=0,c=s.length;l<c;++l)a=s[l],o.push({name:a.name,description:a.description});i.set(t,"data.client.javascript.plugins",o),r(null,t)}},addBody:function(e,t,n){e.stackInfo?e.stackInfo.traceChain?function(e,t,n){for(var r=e.stackInfo.traceChain,a=[],o=r.length,s=0;s<o;s++){var c=l(e,r[s],t);a.push(c)}i.set(e,"data.body",{trace_chain:a}),n(null,e)}(e,t,n):function(e,t,n){if(s(e)){var a=l(e,e.stackInfo,t);i.set(e,"data.body",{trace:a}),n(null,e)}else{var u=e.stackInfo,d=r.guessErrorClass(u.message),h=c(u,d[0],t),p=d[1];e.message=h+": "+p,o(e,t,n)}}(e,t,n):o(e,t,n)},addScrubber:function(e){return function(t,n,i){if(e){var r=n.scrubFields||[],a=n.scrubPaths||[];t.data=e(t.data,r,a)}i(null,t)}}}},function(e,t,n){var i,r,a;!function(o,s){"use strict";r=[n(23)],void 0===(a="function"==typeof(i=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),i=n.match(/ (\((.+):(\d+):(\d+)\)$)/),r=(n=i?n.replace(i[0],""):n).split(/\s+/).slice(1),a=this.extractLocation(i?i[1]:r.pop()),o=r.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0];return new e({functionName:o,fileName:s,lineNumber:a[1],columnNumber:a[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(i)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(n),r=i&&i[1]?i[1]:void 0,a=this.extractLocation(t.replace(n,""));return new e({functionName:r,fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split("\n"),r=[],a=2,o=i.length;a<o;a+=2){var s=n.exec(i[a]);s&&r.push(new e({fileName:s[2],lineNumber:s[1],source:i[a]}))}return r},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split("\n"),r=[],a=0,o=i.length;a<o;a+=2){var s=n.exec(i[a]);s&&r.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:i[a]}))}return r},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,i=t.split("@"),r=this.extractLocation(i.pop()),a=i.shift()||"",o=a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;a.match(/\(([^)]*)\)/)&&(n=a.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:o,args:s,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})}),this)}}})?i.apply(t,r):i)||(e.exports=a)}()},function(e,t,n){var i,r,a;!function(n,o){"use strict";r=[],void 0===(a="function"==typeof(i=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],r=["fileName","functionName","source"],a=n.concat(i,r,["args"],["evalOrigin"]);function o(t){if(t)for(var n=0;n<a.length;n++)void 0!==t[a[n]]&&this["set"+e(a[n])](t[a[n]])}o.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof o)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new o(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",i=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:i?i+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},o.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),i=e.substring(0,t),r=e.substring(t+1,n).split(","),a=e.substring(n+1);if(0===a.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(a,""),l=s[1],c=s[2],u=s[3];return new o({functionName:i,args:r||void 0,fileName:l,lineNumber:c||void 0,columnNumber:u||void 0})};for(var s=0;s<n.length;s++)o.prototype["get"+e(n[s])]=t(n[s]),o.prototype["set"+e(n[s])]=function(e){return function(t){this[e]=Boolean(t)}}(n[s]);for(var l=0;l<i.length;l++)o.prototype["get"+e(i[l])]=t(i[l]),o.prototype["set"+e(i[l])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(i[l]);for(var c=0;c<r.length;c++)o.prototype["get"+e(r[c])]=t(r[c]),o.prototype["set"+e(r[c])]=function(e){return function(t){this[e]=String(t)}}(r[c]);return o})?i.apply(t,r):i)||(e.exports=a)}()},function(e,t,n){"use strict";var i=n(0);function r(e,t){i.isFunction(e[t])&&(e[t]=e[t].toString())}e.exports={itemToPayload:function(e,t,n){var r=t.payload||{};r.body&&delete r.body;var a=i.merge(e.data,r);e._isUncaught&&(a._isUncaught=!0),e._originalArgs&&(a._originalArgs=e._originalArgs),n(null,a)},addTelemetryData:function(e,t,n){e.telemetryEvents&&i.set(e,"data.body.telemetry",e.telemetryEvents),n(null,e)},addMessageWithError:function(e,t,n){if(e.message){var r="data.body.trace_chain.0",a=i.get(e,r);if(a||(r="data.body.trace",a=i.get(e,r)),a){if(!a.exception||!a.exception.description)return i.set(e,r+".exception.description",e.message),void n(null,e);var o=i.get(e,r+".extra")||{},s=i.merge(o,{message:e.message});i.set(e,r+".extra",s)}n(null,e)}else n(null,e)},userTransform:function(e){return function(t,n,r){var a=i.merge(t),o=null;try{i.isFunction(n.transform)&&(o=n.transform(a.data,t))}catch(i){return n.transform=null,e.error("Error while calling custom transform() function. Removing custom transform().",i),void r(null,t)}i.isPromise(o)?o.then((function(e){e&&(a.data=e),r(null,a)}),(function(e){r(e,t)})):r(null,a)}},addConfigToPayload:function(e,t,n){if(!t.sendConfig)return n(null,e);var r=i.get(e,"data.custom")||{};r._rollbarConfig=t,e.data.custom=r,n(null,e)},addConfiguredOptions:function(e,t,n){var i=t._configuredOptions;r(i,"transform"),r(i,"checkIgnore"),r(i,"onSendCallback"),delete i.accessToken,e.data.notifier.configured_options=i,n(null,e)},addDiagnosticKeys:function(e,t,n){var r=i.merge(e.notifier.client.notifier.diagnostic,e.diagnostic);if(i.get(e,"err._isAnonymous")&&(r.is_anonymous=!0),e._isUncaught&&(r.is_uncaught=e._isUncaught),e.err)try{r.raw_error={message:e.err.message,name:e.err.name,constructor_name:e.err.constructor&&e.err.constructor.name,filename:e.err.fileName,line:e.err.lineNumber,column:e.err.columnNumber,stack:e.err.stack}}catch(e){r.raw_error={failed:String(e)}}e.data.notifier.diagnostic=i.merge(e.data.notifier.diagnostic,r),n(null,e)}}},function(e,t,n){"use strict";var i=n(0);e.exports={checkIgnore:function(e,t){return!i.get(t,"plugins.jquery.ignoreAjaxErrors")||!i.get(e,"body.message.extra.isAjax")}}},function(e,t,n){"use strict";var i=n(0);function r(e,t,n){if(!e)return!n;var r,a,o=e.frames;if(!o||0===o.length)return!n;for(var s=t.length,l=o.length,c=0;c<l;c++){if(r=o[c].filename,!i.isType(r,"string"))return!n;for(var u=0;u<s;u++)if(a=t[u],new RegExp(a).test(r))return!0}return!1}function a(e,t,n,a){var o,s,l=!1;"blocklist"===n&&(l=!0);try{if(o=l?t.hostBlockList:t.hostSafeList,s=i.get(e,"body.trace_chain")||[i.get(e,"body.trace")],!o||0===o.length)return!l;if(0===s.length||!s[0])return!l;for(var c=s.length,u=0;u<c;u++)if(r(s[u],o,l))return!0}catch(e){l?t.hostBlockList=null:t.hostSafeList=null;var d=l?"hostBlockList":"hostSafeList";return a.error("Error while reading your configuration's "+d+" option. Removing custom "+d+".",e),!l}return!1}e.exports={checkLevel:function(e,t){var n=e.level,r=i.LEVELS[n]||0,a=t.reportLevel;return!(r<(i.LEVELS[a]||0))},userCheckIgnore:function(e){return function(t,n){var r=!!t._isUncaught;delete t._isUncaught;var a=t._originalArgs;delete t._originalArgs;try{i.isFunction(n.onSendCallback)&&n.onSendCallback(r,a,t)}catch(t){n.onSendCallback=null,e.error("Error while calling onSendCallback, removing",t)}try{if(i.isFunction(n.checkIgnore)&&n.checkIgnore(r,a,t))return!1}catch(t){n.checkIgnore=null,e.error("Error while calling custom checkIgnore(), removing",t)}return!0}},urlIsNotBlockListed:function(e){return function(t,n){return!a(t,n,"blocklist",e)}},urlIsSafeListed:function(e){return function(t,n){return a(t,n,"safelist",e)}},messageIsIgnored:function(e){return function(t,n){var r,a,o,s,l,c;try{if(!(o=n.ignoredMessages)||0===o.length)return!0;if(0===(c=function(e){var t=e.body,n=[];if(t.trace_chain)for(var r=t.trace_chain,a=0;a<r.length;a++){var o=r[a];n.push(i.get(o,"exception.message"))}return t.trace&&n.push(i.get(t,"trace.exception.message")),t.message&&n.push(i.get(t,"message.body")),n}(t)).length)return!0;for(s=o.length,r=0;r<s;r++)for(l=new RegExp(o[r],"gi"),a=0;a<c.length;a++)if(l.test(c[a]))return!1}catch(t){n.ignoredMessages=null,e.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},function(e,t,n){"use strict";e.exports={version:"2.24.0",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},function(e,t,n){"use strict";e.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},function(e,t,n){"use strict";var i=n(0);function r(e){this.queue=[],this.options=i.merge(e);var t=this.options.maxTelemetryEvents||100;this.maxQueueSize=Math.max(0,Math.min(t,100))}function a(e,t){return t||{error:"error",manual:"info"}[e]||"info"}r.prototype.configure=function(e){var t=this.options;this.options=i.merge(t,e);var n=this.options.maxTelemetryEvents||100,r=Math.max(0,Math.min(n,100)),a=0;this.maxQueueSize>r&&(a=this.maxQueueSize-r),this.maxQueueSize=r,this.queue.splice(0,a)},r.prototype.copyEvents=function(){var e=Array.prototype.slice.call(this.queue,0);if(i.isFunction(this.options.filterTelemetry))try{for(var t=e.length;t--;)this.options.filterTelemetry(e[t])&&e.splice(t,1)}catch(e){this.options.filterTelemetry=null}return e},r.prototype.capture=function(e,t,n,r,o){var s={level:a(e,n),type:e,timestamp_ms:o||i.now(),body:t,source:"client"};r&&(s.uuid=r);try{if(i.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(s))return!1}catch(e){this.options.filterTelemetry=null}return this.push(s),s},r.prototype.captureEvent=function(e,t,n,i){return this.capture(e,t,n,i)},r.prototype.captureError=function(e,t,n,i){var r={message:e.message||String(e)};return e.stack&&(r.stack=e.stack),this.capture("error",r,t,n,i)},r.prototype.captureLog=function(e,t,n,i){return this.capture("log",{message:e},t,n,i)},r.prototype.captureNetwork=function(e,t,n,i){t=t||"xhr",e.subtype=e.subtype||t,i&&(e.request=i);var r=this.levelFromStatus(e.status_code);return this.capture("network",e,r,n)},r.prototype.levelFromStatus=function(e){return e>=200&&e<400?"info":0===e||e>=400?"error":"info"},r.prototype.captureDom=function(e,t,n,i,r){var a={subtype:e,element:t};return void 0!==n&&(a.value=n),void 0!==i&&(a.checked=i),this.capture("dom",a,"info",r)},r.prototype.captureNavigation=function(e,t,n){return this.capture("navigation",{from:e,to:t},"info",n)},r.prototype.captureDomContentLoaded=function(e){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,e&&e.getTime())},r.prototype.captureLoad=function(e){return this.capture("navigation",{subtype:"load"},"info",void 0,e&&e.getTime())},r.prototype.captureConnectivityChange=function(e,t){return this.captureNetwork({change:e},"connectivity",t)},r.prototype._captureRollbarItem=function(e){if(this.options.includeItemsInTelemetry)return e.err?this.captureError(e.err,e.level,e.uuid,e.timestamp):e.message?this.captureLog(e.message,e.level,e.uuid,e.timestamp):e.custom?this.capture("log",e.custom,e.level,e.uuid,e.timestamp):void 0},r.prototype.push=function(e){this.queue.push(e),this.queue.length>this.maxQueueSize&&this.queue.shift()},e.exports=r},function(e,t,n){"use strict";var i=n(0),r=n(4),a=n(2),o=n(31),s={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function l(e,t,n,i,r){var a=e[t];e[t]=n(a),i&&i[r].push([e,t,a])}function c(e,t){for(var n;e[t].length;)(n=e[t].shift())[0][n[1]]=n[2]}function u(e,t,n,r,a){this.options=e;var o=e.autoInstrument;!1===e.enabled||!1===o?this.autoInstrument={}:(i.isType(o,"object")||(o=s),this.autoInstrument=i.merge(s,o)),this.scrubTelemetryInputs=!!e.scrubTelemetryInputs,this.telemetryScrubber=e.telemetryScrubber,this.defaultValueScrubber=function(e){for(var t=[],n=0;n<e.length;++n)t.push(new RegExp(e[n],"i"));return function(e){var n=function(e){if(!e||!e.attributes)return null;for(var t=e.attributes,n=0;n<t.length;++n)if("name"===t[n].key)return t[n].value;return null}(e);if(!n)return!1;for(var i=0;i<t.length;++i)if(t[i].test(n))return!0;return!1}}(e.scrubFields),this.telemeter=t,this.rollbar=n,this.diagnostic=n.client.notifier.diagnostic,this._window=r||{},this._document=a||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}u.prototype.configure=function(e){this.options=i.merge(this.options,e);var t=e.autoInstrument,n=i.merge(this.autoInstrument);!1===e.enabled||!1===t?this.autoInstrument={}:(i.isType(t,"object")||(t=s),this.autoInstrument=i.merge(s,t)),this.instrument(n),void 0!==e.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!e.scrubTelemetryInputs),void 0!==e.telemetryScrubber&&(this.telemetryScrubber=e.telemetryScrubber)},u.prototype.instrument=function(e){!this.autoInstrument.network||e&&e.network?!this.autoInstrument.network&&e&&e.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||e&&e.log?!this.autoInstrument.log&&e&&e.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||e&&e.dom?!this.autoInstrument.dom&&e&&e.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||e&&e.navigation?!this.autoInstrument.navigation&&e&&e.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||e&&e.connectivity?!this.autoInstrument.connectivity&&e&&e.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||e&&e.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&e&&e.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},u.prototype.deinstrumentNetwork=function(){c(this.replacements,"network")},u.prototype.instrumentNetwork=function(){var e=this;function t(t,n){t in n&&i.isFunction(n[t])&&l(n,t,(function(t){return e.rollbar.wrap(t)}))}if("XMLHttpRequest"in this._window){var n=this._window.XMLHttpRequest.prototype;l(n,"open",(function(e){return function(t,n){return i.isType(n,"string")&&(this.__rollbar_xhr?(this.__rollbar_xhr.method=t,this.__rollbar_xhr.url=n,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=i.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:t,url:n,status_code:null,start_time_ms:i.now(),end_time_ms:null}),e.apply(this,arguments)}}),this.replacements,"network"),l(n,"setRequestHeader",(function(t){return function(n,r){return this.__rollbar_xhr||(this.__rollbar_xhr={}),i.isType(n,"string")&&i.isType(r,"string")&&(e.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[n]=r),"content-type"===n.toLowerCase()&&(this.__rollbar_xhr.request_content_type=r)),t.apply(this,arguments)}}),this.replacements,"network"),l(n,"send",(function(n){return function(r){var a=this;function o(){if(a.__rollbar_xhr&&(null===a.__rollbar_xhr.status_code&&(a.__rollbar_xhr.status_code=0,e.autoInstrument.networkRequestBody&&(a.__rollbar_xhr.request=r),a.__rollbar_event=e.captureNetwork(a.__rollbar_xhr,"xhr",void 0)),a.readyState<2&&(a.__rollbar_xhr.start_time_ms=i.now()),a.readyState>3)){a.__rollbar_xhr.end_time_ms=i.now();var t=null;if(a.__rollbar_xhr.response_content_type=a.getResponseHeader("Content-Type"),e.autoInstrument.networkResponseHeaders){var n=e.autoInstrument.networkResponseHeaders;t={};try{var o,s;if(!0===n){var l=a.getAllResponseHeaders();if(l){var c,u,d=l.trim().split(/[\r\n]+/);for(s=0;s<d.length;s++)o=(c=d[s].split(": ")).shift(),u=c.join(": "),t[o]=u}}else for(s=0;s<n.length;s++)t[o=n[s]]=a.getResponseHeader(o)}catch(e){}}var h=null;if(e.autoInstrument.networkResponseBody)try{h=a.responseText}catch(e){}var p=null;(h||t)&&(p={},h&&(e.isJsonContentType(a.__rollbar_xhr.response_content_type)?p.body=e.scrubJson(h):p.body=h),t&&(p.headers=t)),p&&(a.__rollbar_xhr.response=p);try{var f=a.status;f=1223===f?204:f,a.__rollbar_xhr.status_code=f,a.__rollbar_event.level=e.telemeter.levelFromStatus(f),e.errorOnHttpStatus(a.__rollbar_xhr)}catch(e){}}}return t("onload",a),t("onerror",a),t("onprogress",a),"onreadystatechange"in a&&i.isFunction(a.onreadystatechange)?l(a,"onreadystatechange",(function(t){return e.rollbar.wrap(t,void 0,o)})):a.onreadystatechange=o,a.__rollbar_xhr&&e.trackHttpErrors()&&(a.__rollbar_xhr.stack=(new Error).stack),n.apply(this,arguments)}}),this.replacements,"network")}"fetch"in this._window&&l(this._window,"fetch",(function(t){return function(n,r){for(var a=new Array(arguments.length),o=0,s=a.length;o<s;o++)a[o]=arguments[o];var l,c=a[0],u="GET";i.isType(c,"string")?l=c:c&&(l=c.url,c.method&&(u=c.method)),a[1]&&a[1].method&&(u=a[1].method);var d={method:u,url:l,status_code:null,start_time_ms:i.now(),end_time_ms:null};if(a[1]&&a[1].headers){var h=new Headers(a[1].headers);d.request_content_type=h.get("Content-Type"),e.autoInstrument.networkRequestHeaders&&(d.request_headers=e.fetchHeaders(h,e.autoInstrument.networkRequestHeaders))}return e.autoInstrument.networkRequestBody&&(a[1]&&a[1].body?d.request=a[1].body:a[0]&&!i.isType(a[0],"string")&&a[0].body&&(d.request=a[0].body)),e.captureNetwork(d,"fetch",void 0),e.trackHttpErrors()&&(d.stack=(new Error).stack),t.apply(this,a).then((function(t){d.end_time_ms=i.now(),d.status_code=t.status,d.response_content_type=t.headers.get("Content-Type");var n=null;e.autoInstrument.networkResponseHeaders&&(n=e.fetchHeaders(t.headers,e.autoInstrument.networkResponseHeaders));var r=null;return e.autoInstrument.networkResponseBody&&"function"==typeof t.text&&(r=t.clone().text()),(n||r)&&(d.response={},r&&("function"==typeof r.then?r.then((function(t){e.isJsonContentType(d.response_content_type)&&(d.response.body=e.scrubJson(t))})):d.response.body=r),n&&(d.response.headers=n)),e.errorOnHttpStatus(d),t}))}}),this.replacements,"network")},u.prototype.captureNetwork=function(e,t,n){return e.request&&this.isJsonContentType(e.request_content_type)&&(e.request=this.scrubJson(e.request)),this.telemeter.captureNetwork(e,t,n)},u.prototype.isJsonContentType=function(e){return!!(e&&i.isType(e,"string")&&e.toLowerCase().includes("json"))},u.prototype.scrubJson=function(e){return JSON.stringify(r(JSON.parse(e),this.options.scrubFields))},u.prototype.fetchHeaders=function(e,t){var n={};try{var i;if(!0===t){if("function"==typeof e.entries)for(var r=e.entries(),a=r.next();!a.done;)n[a.value[0]]=a.value[1],a=r.next()}else for(i=0;i<t.length;i++){var o=t[i];n[o]=e.get(o)}}catch(e){}return n},u.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},u.prototype.errorOnHttpStatus=function(e){var t=e.status_code;if(t>=500&&this.autoInstrument.networkErrorOnHttp5xx||t>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===t&&this.autoInstrument.networkErrorOnHttp0){var n=new Error("HTTP request failed with Status "+t);n.stack=e.stack,this.rollbar.error(n,{skipFrames:1})}},u.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var e;this.replacements.log.length;)e=this.replacements.log.shift(),this._window.console[e[0]]=e[1]},u.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var e=this,t=this._window.console,n=["debug","info","warn","error","log"];try{for(var r=0,a=n.length;r<a;r++)o(n[r])}catch(e){this.diagnostic.instrumentConsole={error:e.message}}}function o(n){var r=t[n],a=t,o="warn"===n?"warning":n;t[n]=function(){var t=Array.prototype.slice.call(arguments),n=i.formatArgsAsString(t);e.telemeter.captureLog(n,o),r&&Function.prototype.apply.call(r,a,t)},e.replacements.log.push([n,r])}},u.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},u.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var e=this.handleClick.bind(this),t=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",e,!0),this.addListener("dom",this._window,"blur","onfocusout",t,!0)}},u.prototype.handleClick=function(e){try{var t=o.getElementFromEvent(e,this._document),n=t&&t.tagName,i=o.isDescribedElement(t,"a")||o.isDescribedElement(t,"button");n&&(i||o.isDescribedElement(t,"input",["button","submit"]))?this.captureDomEvent("click",t):o.isDescribedElement(t,"input",["checkbox","radio"])&&this.captureDomEvent("input",t,t.value,t.checked)}catch(e){}},u.prototype.handleBlur=function(e){try{var t=o.getElementFromEvent(e,this._document);t&&t.tagName&&(o.isDescribedElement(t,"textarea")?this.captureDomEvent("input",t,t.value):o.isDescribedElement(t,"select")&&t.options&&t.options.length?this.handleSelectInputChanged(t):o.isDescribedElement(t,"input")&&!o.isDescribedElement(t,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",t,t.value))}catch(e){}},u.prototype.handleSelectInputChanged=function(e){if(e.multiple)for(var t=0;t<e.options.length;t++)e.options[t].selected&&this.captureDomEvent("input",e,e.options[t].value);else e.selectedIndex>=0&&e.options[e.selectedIndex]&&this.captureDomEvent("input",e,e.options[e.selectedIndex].value)},u.prototype.captureDomEvent=function(e,t,n,i){if(void 0!==n)if(this.scrubTelemetryInputs||"password"===o.getElementType(t))n="[scrubbed]";else{var r=o.describeElement(t);this.telemetryScrubber?this.telemetryScrubber(r)&&(n="[scrubbed]"):this.defaultValueScrubber(r)&&(n="[scrubbed]")}var a=o.elementArrayToString(o.treeToArray(t));this.telemeter.captureDom(e,a,n,i)},u.prototype.deinstrumentNavigation=function(){var e=this._window.chrome;!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState&&c(this.replacements,"navigation")},u.prototype.instrumentNavigation=function(){var e=this._window.chrome;if(!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState){var t=this;l(this._window,"onpopstate",(function(e){return function(){var n=t._location.href;t.handleUrlChange(t._lastHref,n),e&&e.apply(this,arguments)}}),this.replacements,"navigation"),l(this._window.history,"pushState",(function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t.handleUrlChange(t._lastHref,n+""),e.apply(this,arguments)}}),this.replacements,"navigation")}},u.prototype.handleUrlChange=function(e,t){var n=a.parse(this._location.href),i=a.parse(t),r=a.parse(e);this._lastHref=t,n.protocol===i.protocol&&n.host===i.host&&(t=i.path+(i.hash||"")),n.protocol===r.protocol&&n.host===r.host&&(e=r.path+(r.hash||"")),this.telemeter.captureNavigation(e,t)},u.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):c(this.replacements,"connectivity"))},u.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var e=this;l(this._document.body,"ononline",(function(t){return function(){e.telemeter.captureConnectivityChange("online"),t&&t.apply(this,arguments)}}),this.replacements,"connectivity"),l(this._document.body,"onoffline",(function(t){return function(){e.telemeter.captureConnectivityChange("offline"),t&&t.apply(this,arguments)}}),this.replacements,"connectivity")}},u.prototype.handleCspEvent=function(e){var t="Security Policy Violation: blockedURI: "+e.blockedURI+", violatedDirective: "+e.violatedDirective+", effectiveDirective: "+e.effectiveDirective+", ";e.sourceFile&&(t+="location: "+e.sourceFile+", line: "+e.lineNumber+", col: "+e.columnNumber+", "),t+="originalPolicy: "+e.originalPolicy,this.telemeter.captureLog(t,"error"),this.handleCspError(t)},u.prototype.handleCspError=function(e){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(e)},u.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._window&&this.removeListeners("contentsecuritypolicy")},u.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._window){var e=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._window,"securitypolicyviolation",null,e,!1)}},u.prototype.addListener=function(e,t,n,i,r,a){t.addEventListener?(t.addEventListener(n,r,a),this.eventRemovers[e].push((function(){t.removeEventListener(n,r,a)}))):i&&(t.attachEvent(i,r),this.eventRemovers[e].push((function(){t.detachEvent(i,r)})))},u.prototype.removeListeners=function(e){for(;this.eventRemovers[e].length;)this.eventRemovers[e].shift()()},e.exports=u},function(e,t,n){"use strict";function i(e){return(e.getAttribute("type")||"").toLowerCase()}function r(e){if(!e||!e.tagName)return"";var t=[e.tagName];e.id&&t.push("#"+e.id),e.classes&&t.push("."+e.classes.join("."));for(var n=0;n<e.attributes.length;n++)t.push("["+e.attributes[n].key+'="'+e.attributes[n].value+'"]');return t.join("")}function a(e){if(!e||!e.tagName)return null;var t,n,i,r,a={};a.tagName=e.tagName.toLowerCase(),e.id&&(a.id=e.id),(t=e.className)&&"string"==typeof t&&(a.classes=t.split(/\s+/));var o=["type","name","title","alt"];for(a.attributes=[],r=0;r<o.length;r++)n=o[r],(i=e.getAttribute(n))&&a.attributes.push({key:n,value:i});return a}e.exports={describeElement:a,descriptionToString:r,elementArrayToString:function(e){for(var t,n,i=" > ".length,a=[],o=0,s=e.length-1;s>=0;s--){if(t=r(e[s]),n=o+a.length*i+t.length,s<e.length-1&&n>=83){a.unshift("...");break}a.unshift(t),o+=t.length}return a.join(" > ")},treeToArray:function(e){for(var t,n=[],i=0;e&&i<5&&"html"!==(t=a(e)).tagName;i++)n.unshift(t),e=e.parentNode;return n},getElementFromEvent:function(e,t){return e.target?e.target:t&&t.elementFromPoint?t.elementFromPoint(e.clientX,e.clientY):void 0},isDescribedElement:function(e,t,n){if(e.tagName.toLowerCase()!==t.toLowerCase())return!1;if(!n)return!0;e=i(e);for(var r=0;r<n.length;r++)if(n[r]===e)return!0;return!1},getElementType:i}},function(e,t,n){"use strict";var i=n(33);e.exports=i},function(e,t){e.exports=function(e){var t,n,i,r,a,o,s,l,c,u,d,h,p,f=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function m(e){return e<10?"0"+e:e}function g(){return this.valueOf()}function v(e){return f.lastIndex=0,f.test(e)?'"'+e.replace(f,(function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=g,Number.prototype.toJSON=g,String.prototype.toJSON=g),"function"!=typeof e.stringify&&(i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e.stringify=function(e,i,a){var o;if(t="",n="","number"==typeof a)for(o=0;o<a;o+=1)n+=" ";else"string"==typeof a&&(n=a);if(r=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw new Error("JSON.stringify");return function e(i,a){var o,s,l,c,u,d=t,h=a[i];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(i)),"function"==typeof r&&(h=r.call(a,i,h)),typeof h){case"string":return v(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(t+=n,u=[],"[object Array]"===Object.prototype.toString.apply(h)){for(c=h.length,o=0;o<c;o+=1)u[o]=e(o,h)||"null";return l=0===u.length?"[]":t?"[\n"+t+u.join(",\n"+t)+"\n"+d+"]":"["+u.join(",")+"]",t=d,l}if(r&&"object"==typeof r)for(c=r.length,o=0;o<c;o+=1)"string"==typeof r[o]&&(l=e(s=r[o],h))&&u.push(v(s)+(t?": ":":")+l);else for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(l=e(s,h))&&u.push(v(s)+(t?": ":":")+l);return l=0===u.length?"{}":t?"{\n"+t+u.join(",\n"+t)+"\n"+d+"}":"{"+u.join(",")+"}",t=d,l}}("",{"":e})}),"function"!=typeof e.parse&&(e.parse=(u={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},d={go:function(){a="ok"},firstokey:function(){l=c,a="colon"},okey:function(){l=c,a="colon"},ovalue:function(){a="ocomma"},firstavalue:function(){a="acomma"},avalue:function(){a="acomma"}},h={go:function(){a="ok"},ovalue:function(){a="ocomma"},firstavalue:function(){a="acomma"},avalue:function(){a="acomma"}},p={"{":{go:function(){o.push({state:"ok"}),s={},a="firstokey"},ovalue:function(){o.push({container:s,state:"ocomma",key:l}),s={},a="firstokey"},firstavalue:function(){o.push({container:s,state:"acomma"}),s={},a="firstokey"},avalue:function(){o.push({container:s,state:"acomma"}),s={},a="firstokey"}},"}":{firstokey:function(){var e=o.pop();c=s,s=e.container,l=e.key,a=e.state},ocomma:function(){var e=o.pop();s[l]=c,c=s,s=e.container,l=e.key,a=e.state}},"[":{go:function(){o.push({state:"ok"}),s=[],a="firstavalue"},ovalue:function(){o.push({container:s,state:"ocomma",key:l}),s=[],a="firstavalue"},firstavalue:function(){o.push({container:s,state:"acomma"}),s=[],a="firstavalue"},avalue:function(){o.push({container:s,state:"acomma"}),s=[],a="firstavalue"}},"]":{firstavalue:function(){var e=o.pop();c=s,s=e.container,l=e.key,a=e.state},acomma:function(){var e=o.pop();s.push(c),c=s,s=e.container,l=e.key,a=e.state}},":":{colon:function(){if(Object.hasOwnProperty.call(s,l))throw new SyntaxError("Duplicate key '"+l+'"');a="ovalue"}},",":{ocomma:function(){s[l]=c,a="okey"},acomma:function(){s.push(c),a="avalue"}},true:{go:function(){c=!0,a="ok"},ovalue:function(){c=!0,a="ocomma"},firstavalue:function(){c=!0,a="acomma"},avalue:function(){c=!0,a="acomma"}},false:{go:function(){c=!1,a="ok"},ovalue:function(){c=!1,a="ocomma"},firstavalue:function(){c=!1,a="acomma"},avalue:function(){c=!1,a="acomma"}},null:{go:function(){c=null,a="ok"},ovalue:function(){c=null,a="ocomma"},firstavalue:function(){c=null,a="acomma"},avalue:function(){c=null,a="acomma"}}},function(e,t){var n,i,r=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;a="go",o=[];try{for(;n=r.exec(e);)n[1]?p[n[1]][a]():n[2]?(c=+n[2],h[a]()):(i=n[3],c=i.replace(/\\(?:u(.{4})|([^u]))/g,(function(e,t,n){return t?String.fromCharCode(parseInt(t,16)):u[n]})),d[a]()),e=e.slice(n[0].length)}catch(e){a=e}if("ok"!==a||/[^\u0020\t\n\r]/.test(e))throw a instanceof SyntaxError?a:new SyntaxError("JSON");return"function"==typeof t?function e(n,i){var r,a,o=n[i];if(o&&"object"==typeof o)for(r in c)Object.prototype.hasOwnProperty.call(o,r)&&(void 0!==(a=e(o,r))?o[r]=a:delete o[r]);return t.call(n,i,o)}({"":c},""):c}))}},function(e,t,n){"use strict";function i(e,t,n){if(t.hasOwnProperty&&t.hasOwnProperty("addEventListener")){for(var i=t.addEventListener;i._rollbarOldAdd&&i.belongsToShim;)i=i._rollbarOldAdd;var r=function(t,n,r){i.call(this,t,e.wrap(n),r)};r._rollbarOldAdd=i,r.belongsToShim=n,t.addEventListener=r;for(var a=t.removeEventListener;a._rollbarOldRemove&&a.belongsToShim;)a=a._rollbarOldRemove;var o=function(e,t,n){a.call(this,e,t&&t._rollbar_wrapped||t,n)};o._rollbarOldRemove=a,o.belongsToShim=n,t.removeEventListener=o}}e.exports=function(e,t,n){if(e){var r,a,o="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(r=0;r<o.length;++r)e[a=o[r]]&&e[a].prototype&&i(t,e[a].prototype,n)}}},function(e,t,n){"use strict";var i=n(0),r=n(5);function a(e,t){return[e,i.stringify(e,t)]}function o(e,t){var n=e.length;return n>2*t?e.slice(0,t).concat(e.slice(n-t)):e}function s(e,t,n){n=void 0===n?30:n;var r,a=e.data.body;if(a.trace_chain)for(var s=a.trace_chain,l=0;l<s.length;l++)r=o(r=s[l].frames,n),s[l].frames=r;else a.trace&&(r=o(r=a.trace.frames,n),a.trace.frames=r);return[e,i.stringify(e,t)]}function l(e,t){return t&&t.length>e?t.slice(0,e-3).concat("..."):t}function c(e,t,n){return[t=r(t,(function t(n,a,o){switch(i.typeName(a)){case"string":return l(e,a);case"object":case"array":return r(a,t,o);default:return a}})),i.stringify(t,n)]}function u(e){return e.exception&&(delete e.exception.description,e.exception.message=l(255,e.exception.message)),e.frames=o(e.frames,1),e}function d(e,t){var n=e.data.body;if(n.trace_chain)for(var r=n.trace_chain,a=0;a<r.length;a++)r[a]=u(r[a]);else n.trace&&(n.trace=u(n.trace));return[e,i.stringify(e,t)]}function h(e,t){return i.maxByteSize(e)>t}e.exports={truncate:function(e,t,n){n=void 0===n?524288:n;for(var i,r,o,l=[a,s,c.bind(null,1024),c.bind(null,512),c.bind(null,256),d];i=l.shift();)if(e=(r=i(e,t))[0],(o=r[1]).error||!h(o.value,n))return o;return o},raw:a,truncateFrames:s,truncateStrings:c,maybeTruncateValue:l}}])},53:(e,t)=>{"use strict";var n,i,r,a,o;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,l=null,c=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(c,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},r=function(){clearTimeout(l)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var g=h.now();t.unstable_now=function(){return h.now()-g}}var v=!1,y=null,b=-1,_=5,w=0;a=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,x=k.port2;k.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+_;try{y(!0,e)?x.postMessage(null):(v=!1,y=null)}catch(e){throw x.postMessage(null),e}}else v=!1},n=function(e){y=e,v||(v=!0,x.postMessage(null))},i=function(e,n){b=p((function(){e(t.unstable_now())}),n)},r=function(){f(b),b=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<T(r,t)))break e;e[i]=t,e[n]=r,n=i}}function C(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var a=2*(i+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[i]=l,e[s]=n,i=s):(e[i]=o,e[a]=n,i=a);else{if(!(void 0!==l&&0>T(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],F=[],M=1,A=null,I=3,O=!1,N=!1,P=!1;function R(e){for(var t=C(F);null!==t;){if(null===t.callback)S(F);else{if(!(t.startTime<=e))break;S(F),t.sortIndex=t.expirationTime,E(D,t)}t=C(F)}}function j(e){if(P=!1,R(e),!N)if(null!==C(D))N=!0,n(L);else{var t=C(F);null!==t&&i(j,t.startTime-e)}}function L(e,n){N=!1,P&&(P=!1,r()),O=!0;var o=I;try{for(R(n),A=C(D);null!==A&&(!(A.expirationTime>n)||e&&!a());){var s=A.callback;if(null!==s){A.callback=null,I=A.priorityLevel;var l=s(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?A.callback=l:A===C(D)&&S(D),R(n)}else S(D);A=C(D)}if(null!==A)var c=!0;else{var u=C(F);null!==u&&i(j,u.startTime-n),c=!1}return c}finally{A=null,I=o,O=!1}}function q(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Z=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||O||(N=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return C(D)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"==typeof o&&null!==o){var l=o.delay;l="number"==typeof l&&0<l?s+l:s,o="number"==typeof o.timeout?o.timeout:q(e)}else o=q(e),l=s;return e={id:M++,callback:a,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,E(F,e),null===C(D)&&e===C(F)&&(P?r():P=!0,i(j,l-s))):(e.sortIndex=o,E(D,e),N||O||(N=!0,n(L))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();R(e);var n=C(D);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<A.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},3817:e=>{e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}},8738:(e,t,n)=>{var i,r,a,o;i=n(1012),r=n(487).utf8,a=n(487).bin,(o=function(e,t){var n=i.wordsToBytes(function(e){e.constructor==String?e=r.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=i.bytesToWords(e),n=8*e.length,a=[],o=1732584193,s=-271733879,l=-1732584194,c=271733878,u=-1009589776;t[n>>5]|=128<<24-n%32,t[15+(n+64>>>9<<4)]=n;for(var d=0;d<t.length;d+=16){for(var h=o,p=s,f=l,m=c,g=u,v=0;v<80;v++){if(v<16)a[v]=t[d+v];else{var y=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=y<<1|y>>>31}var b=(o<<5|o>>>27)+u+(a[v]>>>0)+(v<20?1518500249+(s&l|~s&c):v<40?1859775393+(s^l^c):v<60?(s&l|s&c|l&c)-1894007588:(s^l^c)-899497514);u=c,c=l,l=s<<30|s>>>2,s=o,o=b}o+=h,s+=p,l+=f,c+=m,u+=g}return[o,s,l,c,u]}(e));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):i.bytesToHex(n)})._blocksize=16,o._digestsize=20,e.exports=o},7478:(e,t,n)=>{"use strict";var i=n(210),r=n(1924),a=n(631),o=i("%TypeError%"),s=i("%WeakMap%",!0),l=i("%Map%",!0),c=r("WeakMap.prototype.get",!0),u=r("WeakMap.prototype.set",!0),d=r("WeakMap.prototype.has",!0),h=r("Map.prototype.get",!0),p=r("Map.prototype.set",!0),f=r("Map.prototype.has",!0),m=function(e,t){for(var n,i=e;null!==(n=i.next);i=n)if(n.key===t)return i.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new o("Side channel does not contain "+a(e))},get:function(i){if(s&&i&&("object"==typeof i||"function"==typeof i)){if(e)return c(e,i)}else if(l){if(t)return h(t,i)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,i)},has:function(i){if(s&&i&&("object"==typeof i||"function"==typeof i)){if(e)return d(e,i)}else if(l){if(t)return f(t,i)}else if(n)return function(e,t){return!!m(e,t)}(n,i);return!1},set:function(i,r){s&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new s),u(e,i,r)):l?(t||(t=new l),p(t,i,r)):(n||(n={key:{},next:null}),function(e,t,n){var i=m(e,t);i?i.value=n:e.next={key:t,next:e.next,value:n}}(n,i,r))}};return i}},5911:(e,t,n)=>{var i,r,a;!function(o){"use strict";r=[n(9755)],i=function(e,t){var n={beforeShow:p,move:p,change:p,show:p,hide:p,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),a=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),o=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var e="";if(r)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(t,n,i,r){for(var o=[],s=0;s<t.length;s++){var l=t[s];if(l){var c=tinycolor(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,l)?" sp-thumb-active":"";var d=c.toString(r.preferredFormat||"rgb"),h=a?"background-color:"+c.toRgbString():"filter:"+c.toFilter();o.push('<span title="'+d+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var p="sp-clear-display";o.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+p+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+o.join("")+"</div>"}function c(){for(var e=0;e<i.length;e++)i[e]&&i[e].hide()}function u(t,i){var r=e.extend({},n,t);return r.callbacks={move:m(r.move,i),change:m(r.change,i),show:m(r.show,i),hide:m(r.hide,i),beforeShow:m(r.beforeShow,i)},r}function d(n,d){var p=u(d,n),m=p.flat,b=p.showSelectionPalette,_=p.localStorageKey,w=p.theme,k=p.callbacks,x=v(Ue,10),E=!1,C=!1,S=0,T=0,D=0,F=0,M=0,A=0,I=0,O=0,N=0,P=0,R=1,j=[],L=[],q={},Z=p.selectionPalette.slice(0),B=p.maxSelectionSize,V="sp-dragging",z=null,U=n.ownerDocument,W=(U.body,e(n)),H=!1,Y=e(s,U).addClass(w),$=Y.find(".sp-picker-container"),K=Y.find(".sp-color"),G=Y.find(".sp-dragger"),X=Y.find(".sp-hue"),Q=Y.find(".sp-slider"),J=Y.find(".sp-alpha-inner"),ee=Y.find(".sp-alpha"),te=Y.find(".sp-alpha-handle"),ne=Y.find(".sp-input"),ie=Y.find(".sp-palette"),re=Y.find(".sp-initial"),ae=Y.find(".sp-cancel"),oe=Y.find(".sp-clear"),se=Y.find(".sp-choose"),le=Y.find(".sp-palette-toggle"),ce=W.is("input"),ue=ce&&"color"===W.attr("type")&&y(),de=ce&&!m,he=de?e(o).addClass(w).addClass(p.className).addClass(p.replacerClassName):e([]),pe=de?he:W,fe=he.find(".sp-preview-inner"),me=p.color||ce&&W.val(),ge=!1,ve=p.preferredFormat,ye=!p.showButtons||p.clickoutFiresChange,be=!me,_e=p.allowEmpty&&!ue;function we(){if(p.showPaletteOnly&&(p.showPalette=!0),le.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),p.palette){j=p.palette.slice(0),L=e.isArray(j[0])?j:[j],q={};for(var t=0;t<L.length;t++)for(var n=0;n<L[t].length;n++){var i=tinycolor(L[t][n]).toRgbString();q[i]=!0}}Y.toggleClass("sp-flat",m),Y.toggleClass("sp-input-disabled",!p.showInput),Y.toggleClass("sp-alpha-enabled",p.showAlpha),Y.toggleClass("sp-clear-enabled",_e),Y.toggleClass("sp-buttons-disabled",!p.showButtons),Y.toggleClass("sp-palette-buttons-disabled",!p.togglePaletteOnly),Y.toggleClass("sp-palette-disabled",!p.showPalette),Y.toggleClass("sp-palette-only",p.showPaletteOnly),Y.toggleClass("sp-initial-disabled",!p.showInitial),Y.addClass(p.className).addClass(p.containerClassName),Ue()}function ke(){if(r&&Y.find("*:not(input)").attr("unselectable","on"),we(),de&&W.after(he).hide(),_e||oe.hide(),m)W.after(Y).hide();else{var t="parent"===p.appendTo?W.parent():e(p.appendTo);1!==t.length&&(t=e("body")),t.append(Y)}function n(t){return t.data&&t.data.ignore?(je(e(t.target).closest(".sp-thumb-el").data("color")),Ze()):(je(e(t.target).closest(".sp-thumb-el").data("color")),Ze(),ze(!0),p.hideAfterPaletteSelect&&Pe()),!1}xe(),pe.bind("click.spectrum touchstart.spectrum",(function(t){H||Ae(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()})),(W.is(":disabled")||!0===p.disabled)&&$e(),Y.click(f),ne.change(Me),ne.bind("paste",(function(){setTimeout(Me,1)})),ne.keydown((function(e){13==e.keyCode&&Me()})),ae.text(p.cancelText),ae.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),Re(),Pe()})),oe.attr("title",p.clearText),oe.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),be=!0,Ze(),m&&ze(!0)})),se.text(p.chooseText),se.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),r&&ne.is(":focus")&&ne.trigger("change"),qe()&&(ze(!0),Pe())})),le.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),le.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),p.showPaletteOnly=!p.showPaletteOnly,p.showPaletteOnly||m||Y.css("left","-="+($.outerWidth(!0)+5)),we()})),g(ee,(function(e,t,n){R=e/M,be=!1,n.shiftKey&&(R=Math.round(10*R)/10),Ze()}),De,Fe),g(X,(function(e,t){O=parseFloat(t/F),be=!1,p.showAlpha||(R=1),Ze()}),De,Fe),g(K,(function(e,t,n){if(n.shiftKey){if(!z){var i=N*S,r=T-P*T,a=Math.abs(e-i)>Math.abs(t-r);z=a?"x":"y"}}else z=null;var o=!z||"y"===z;(!z||"x"===z)&&(N=parseFloat(e/S)),o&&(P=parseFloat((T-t)/T)),be=!1,p.showAlpha||(R=1),Ze()}),De,Fe),me?(je(me),Be(),ve=p.preferredFormat||tinycolor(me).format,Ee(me)):Be(),m&&Ie();var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ie.delegate(".sp-thumb-el",i,n),re.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},n)}function xe(){if(_&&window.localStorage){try{var t=window.localStorage[_].split(",#");t.length>1&&(delete window.localStorage[_],e.each(t,(function(e,t){Ee(t)})))}catch(e){}try{Z=window.localStorage[_].split(";")}catch(e){}}}function Ee(t){if(b){var n=tinycolor(t).toRgbString();if(!q[n]&&-1===e.inArray(n,Z))for(Z.push(n);Z.length>B;)Z.shift();if(_&&window.localStorage)try{window.localStorage[_]=Z.join(";")}catch(e){}}}function Ce(){var e=[];if(p.showPalette)for(var t=0;t<Z.length;t++){var n=tinycolor(Z[t]).toRgbString();q[n]||e.push(Z[t])}return e.reverse().slice(0,p.maxSelectionSize)}function Se(){var t=Le(),n=e.map(L,(function(e,n){return l(e,t,"sp-palette-row sp-palette-row-"+n,p)}));xe(),Z&&n.push(l(Ce(),t,"sp-palette-row sp-palette-row-selection",p)),ie.html(n.join(""))}function Te(){if(p.showInitial){var e=ge,t=Le();re.html(l([e,t],t,"sp-palette-row-initial",p))}}function De(){(T<=0||S<=0||F<=0)&&Ue(),C=!0,Y.addClass(V),z=null,W.trigger("dragstart.spectrum",[Le()])}function Fe(){C=!1,Y.removeClass(V),W.trigger("dragstop.spectrum",[Le()])}function Me(){var e=ne.val();if(null!==e&&""!==e||!_e){var t=tinycolor(e);t.isValid()?(je(t),ze(!0)):ne.addClass("sp-validation-error")}else je(null),ze(!0)}function Ae(){E?Pe():Ie()}function Ie(){var t=e.Event("beforeShow.spectrum");E?Ue():(W.trigger(t,[Le()]),!1===k.beforeShow(Le())||t.isDefaultPrevented()||(c(),E=!0,e(U).bind("keydown.spectrum",Oe),e(U).bind("click.spectrum",Ne),e(window).bind("resize.spectrum",x),he.addClass("sp-active"),Y.removeClass("sp-hidden"),Ue(),Be(),ge=Le(),Te(),k.show(ge),W.trigger("show.spectrum",[ge])))}function Oe(e){27===e.keyCode&&Pe()}function Ne(e){2!=e.button&&(C||(ye?ze(!0):Re(),Pe()))}function Pe(){E&&!m&&(E=!1,e(U).unbind("keydown.spectrum",Oe),e(U).unbind("click.spectrum",Ne),e(window).unbind("resize.spectrum",x),he.removeClass("sp-active"),Y.addClass("sp-hidden"),k.hide(Le()),W.trigger("hide.spectrum",[Le()]))}function Re(){je(ge,!0)}function je(e,t){var n,i;tinycolor.equals(e,Le())?Be():(!e&&_e?be=!0:(be=!1,i=(n=tinycolor(e)).toHsv(),O=i.h%360/360,N=i.s,P=i.v,R=i.a),Be(),n&&n.isValid()&&!t&&(ve=p.preferredFormat||n.getFormat()))}function Le(e){return e=e||{},_e&&be?null:tinycolor.fromRatio({h:O,s:N,v:P,a:Math.round(100*R)/100},{format:e.format||ve})}function qe(){return!ne.hasClass("sp-validation-error")}function Ze(){Be(),k.move(Le()),W.trigger("move.spectrum",[Le()])}function Be(){ne.removeClass("sp-validation-error"),Ve();var e=tinycolor.fromRatio({h:O,s:1,v:1});K.css("background-color",e.toHexString());var t=ve;R<1&&(0!==R||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n=Le({format:t}),i="";if(fe.removeClass("sp-clear-display"),fe.css("background-color","transparent"),!n&&_e)fe.addClass("sp-clear-display");else{var o=n.toHexString(),s=n.toRgbString();if(a||1===n.alpha?fe.css("background-color",s):(fe.css("background-color","transparent"),fe.css("filter",n.toFilter())),p.showAlpha){var l=n.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),u="linear-gradient(left, "+c+", "+o+")";r?J.css("filter",tinycolor(c).toFilter({gradientType:1},o)):(J.css("background","-webkit-"+u),J.css("background","-moz-"+u),J.css("background","-ms-"+u),J.css("background","linear-gradient(to right, "+c+", "+o+")"))}i=n.toString(t)}p.showInput&&ne.val(i),p.showPalette&&Se(),Te()}function Ve(){var e=N,t=P;if(_e&&be)te.hide(),Q.hide(),G.hide();else{te.show(),Q.show(),G.show();var n=e*S,i=T-t*T;n=Math.max(-D,Math.min(S-D,n-D)),i=Math.max(-D,Math.min(T-D,i-D)),G.css({top:i+"px",left:n+"px"});var r=R*M;te.css({left:r-A/2+"px"});var a=O*F;Q.css({top:a-I+"px"})}}function ze(e){var t=Le(),n="",i=!tinycolor.equals(t,ge);t&&(n=t.toString(ve),Ee(t)),ce&&W.val(n),e&&i&&(k.change(t),W.trigger("change",[t]))}function Ue(){E&&(S=K.width(),T=K.height(),D=G.height(),X.width(),F=X.height(),I=Q.height(),M=ee.width(),A=te.width(),m||(Y.css("position","absolute"),p.offset?Y.offset(p.offset):Y.offset(h(Y,pe))),Ve(),p.showPalette&&Se(),W.trigger("reflow.spectrum"))}function We(){W.show(),pe.unbind("click.spectrum touchstart.spectrum"),Y.remove(),he.remove(),i[Ge.id]=null}function He(n,i){return n===t?e.extend({},p):i===t?p[n]:(p[n]=i,"preferredFormat"===n&&(ve=p.preferredFormat),void we())}function Ye(){H=!1,W.attr("disabled",!1),pe.removeClass("sp-disabled")}function $e(){Pe(),H=!0,W.attr("disabled",!0),pe.addClass("sp-disabled")}function Ke(e){p.offset=e,Ue()}ke();var Ge={show:Ie,hide:Pe,toggle:Ae,reflow:Ue,option:He,enable:Ye,disable:$e,offset:Ke,set:function(e){je(e),ze()},get:Le,destroy:We,container:Y};return Ge.id=i.push(Ge)-1,Ge}function h(t,n){var i=0,r=t.outerWidth(),a=t.outerHeight(),o=n.outerHeight(),s=t[0].ownerDocument,l=s.documentElement,c=l.clientWidth+e(s).scrollLeft(),u=l.clientHeight+e(s).scrollTop(),d=n.offset();return d.top+=o,d.left-=Math.min(d.left,d.left+r>c&&c>r?Math.abs(d.left+r-c):0),d.top-=Math.min(d.top,d.top+a>u&&u>a?Math.abs(a+o-i):i),d}function p(){}function f(e){e.stopPropagation()}function m(e,t){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}function g(t,n,i,a){n=n||function(){},i=i||function(){},a=a||function(){};var o=document,s=!1,l={},c=0,u=0,d="ontouchstart"in window,h={};function p(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function f(e){if(s){if(r&&o.documentMode<9&&!e.button)return g();var i=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],a=i&&i.pageX||e.pageX,h=i&&i.pageY||e.pageY,f=Math.max(0,Math.min(a-l.left,u)),m=Math.max(0,Math.min(h-l.top,c));d&&p(e),n.apply(t,[f,m,e])}}function m(n){(n.which?3==n.which:2==n.button)||s||!1!==i.apply(t,arguments)&&(s=!0,c=e(t).height(),u=e(t).width(),l=e(t).offset(),e(o).bind(h),e(o.body).addClass("sp-dragging"),f(n),p(n))}function g(){s&&(e(o).unbind(h),e(o.body).removeClass("sp-dragging"),setTimeout((function(){a.apply(t,arguments)}),0)),s=!1}h.selectstart=p,h.dragstart=p,h["touchmove mousemove"]=f,h["touchend mouseup"]=g,e(t).bind("touchstart mousedown",m)}function v(e,t,n){var i;return function(){var r=this,a=arguments,o=function(){i=null,e.apply(r,a)};n&&clearTimeout(i),!n&&i||(i=setTimeout(o,t))}}function y(){return e.fn.spectrum.inputTypeColorSupport()}var b="spectrum.id";e.fn.spectrum=function(t,n){if("string"==typeof t){var r=this,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=i[e(this).data(b)];if(n){var o=n[t];if(!o)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?r=n.get():"container"==t?r=n.container:"option"==t?r=n.option.apply(n,a):"destroy"==t?(n.destroy(),e(this).removeData(b)):o.apply(n,a)}})),r}return this.spectrum("destroy").each((function(){var n=d(this,e.extend({},t,e(this).data()));e(this).data(b,n.id)}))},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=g,e.fn.spectrum.defaults=n,e.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var n=e("<input type='color'/>")[0];t._cachedResult="color"===n.type&&""!==n.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!y()&&t.spectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,n=0,i=Math,r=i.round,a=i.min,o=i.max,s=i.random,l=function(e,t){if(t=t||{},(e=e||"")instanceof l)return e;if(!(this instanceof l))return new l(e,t);var i=c(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=r(100*this._a)/100,this._format=t.format||i.format,this._gradientType=t.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=i.ok,this._tc_id=n++};function c(e){var t={r:0,g:0,b:0},n=1,i=!1,r=!1;return"string"==typeof e&&(e=Y(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=u(e.r,e.g,e.b),i=!0,r="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=Z(e.s),e.v=Z(e.v),t=f(e.h,e.s,e.v),i=!0,r="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=Z(e.s),e.l=Z(e.l),t=h(e.h,e.s,e.l),i=!0,r="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=O(n),{ok:i,format:e.format||r,r:a(255,o(t.r,0)),g:a(255,o(t.g,0)),b:a(255,o(t.b,0)),a:n}}function u(e,t,n){return{r:255*N(e,255),g:255*N(t,255),b:255*N(n,255)}}function d(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var i,r,s=o(e,t,n),l=a(e,t,n),c=(s+l)/2;if(s==l)i=r=0;else{var u=s-l;switch(r=c>.5?u/(2-s-l):u/(s+l),s){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return{h:i,s:r,l:c}}function h(e,t,n){var i,r,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)i=r=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=o(l,s,e+1/3),r=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*i,g:255*r,b:255*a}}function p(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var i,r,s=o(e,t,n),l=a(e,t,n),c=s,u=s-l;if(r=0===s?0:u/s,s==l)i=0;else{switch(s){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return{h:i,s:r,v:c}}function f(e,t,n){e=6*N(e,360),t=N(t,100),n=N(n,100);var r=i.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),l=n*(1-(1-a)*t),c=r%6;return{r:255*[n,s,o,o,l,n][c],g:255*[l,n,n,s,o,o][c],b:255*[o,o,l,n,n,s][c]}}function m(e,t,n,i){var a=[q(r(e).toString(16)),q(r(t).toString(16)),q(r(n).toString(16))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function g(e,t,n,i){return[q(B(i)),q(r(e).toString(16)),q(r(t).toString(16)),q(r(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s-=t/100,n.s=P(n.s),l(n)}function y(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s+=t/100,n.s=P(n.s),l(n)}function b(e){return l(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l+=t/100,n.l=P(n.l),l(n)}function w(e,t){t=0===t?0:t||10;var n=l(e).toRgb();return n.r=o(0,a(255,n.r-r(-t/100*255))),n.g=o(0,a(255,n.g-r(-t/100*255))),n.b=o(0,a(255,n.b-r(-t/100*255))),l(n)}function k(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l-=t/100,n.l=P(n.l),l(n)}function x(e,t){var n=l(e).toHsl(),i=(r(n.h)+t)%360;return n.h=i<0?360+i:i,l(n)}function E(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function C(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+120)%360,s:t.s,l:t.l}),l({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+90)%360,s:t.s,l:t.l}),l({h:(n+180)%360,s:t.s,l:t.l}),l({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+72)%360,s:t.s,l:t.l}),l({h:(n+216)%360,s:t.s,l:t.l})]}function D(e,t,n){t=t||6,n=n||30;var i=l(e).toHsl(),r=360/n,a=[l(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,a.push(l(i));return a}function F(e,t){t=t||6;for(var n=l(e).toHsv(),i=n.h,r=n.s,a=n.v,o=[],s=1/t;t--;)o.push(l({h:i,s:r,v:a})),a=(a+s)%1;return o}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=O(e),this._roundA=r(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=r(360*e.h),n=r(100*e.s),i=r(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=r(360*e.h),n=r(100*e.s),i=r(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return g(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*N(this._r,255))+"%",g:r(100*N(this._g,255))+"%",b:r(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*N(this._r,255))+"%, "+r(100*N(this._g,255))+"%, "+r(100*N(this._b,255))+"%)":"rgba("+r(100*N(this._r,255))+"%, "+r(100*N(this._g,255))+"%, "+r(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";e&&(n=l(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(k,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(F,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:Z(e[i]));e=n}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(e,t,n){n=0===n?0:n||50;var i,r=l(e).toRgb(),a=l(t).toRgb(),o=n/100,s=2*o-1,c=a.a-r.a,u=1-(i=((i=s*c==-1?s:(s+c)/(1+s*c))+1)/2),d={r:a.r*i+r.r*u,g:a.g*i+r.g*u,b:a.b*i+r.b*u,a:a.a*o+r.a*(1-o)};return l(d)},l.readability=function(e,t){var n=l(e),i=l(t),r=n.toRgb(),a=i.toRgb(),o=n.getBrightness(),s=i.getBrightness(),c=Math.max(r.r,a.r)-Math.min(r.r,a.r)+Math.max(r.g,a.g)-Math.min(r.g,a.g)+Math.max(r.b,a.b)-Math.min(r.b,a.b);return{brightness:Math.abs(o-s),color:c}},l.isReadable=function(e,t){var n=l.readability(e,t);return n.brightness>125&&n.color>500},l.mostReadable=function(e,t){for(var n=null,i=0,r=!1,a=0;a<t.length;a++){var o=l.readability(e,t[a]),s=o.brightness>125&&o.color>500,c=o.brightness/125*3+o.color/500;(s&&!r||s&&r&&c>i||!s&&!r&&c>i)&&(r=s,i=c,n=l(t[a]))}return n};var M=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=l.hexNames=I(M);function I(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function O(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function N(e,t){j(e)&&(e="100%");var n=L(e);return e=a(t,o(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function P(e){return a(1,o(0,e))}function R(e){return parseInt(e,16)}function j(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function L(e){return"string"==typeof e&&-1!=e.indexOf("%")}function q(e){return 1==e.length?"0"+e:""+e}function Z(e){return e<=1&&(e=100*e+"%"),e}function B(e){return Math.round(255*parseFloat(e)).toString(16)}function V(e){return R(e)/255}var z,U,W,H=(U="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",W="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+W),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Y(n){n=n.replace(e,"").replace(t,"").toLowerCase();var i,r=!1;if(M[n])n=M[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};return(i=H.rgb.exec(n))?{r:i[1],g:i[2],b:i[3]}:(i=H.rgba.exec(n))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=H.hsl.exec(n))?{h:i[1],s:i[2],l:i[3]}:(i=H.hsla.exec(n))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=H.hsv.exec(n))?{h:i[1],s:i[2],v:i[3]}:(i=H.hsva.exec(n))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=H.hex8.exec(n))?{a:V(i[1]),r:R(i[2]),g:R(i[3]),b:R(i[4]),format:r?"name":"hex8"}:(i=H.hex6.exec(n))?{r:R(i[1]),g:R(i[2]),b:R(i[3]),format:r?"name":"hex"}:!!(i=H.hex3.exec(n))&&{r:R(i[1]+""+i[1]),g:R(i[2]+""+i[2]),b:R(i[3]+""+i[3]),format:r?"name":"hex"}}window.tinycolor=l}(),e((function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()}))},void 0===(a="function"==typeof i?i.apply(t,r):i)||(e.exports=a)}()},4279:e=>{function t(){}t.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var a=0,o=i.length;a<o;a++)i[a].fn!==t&&i[a].fn._!==t&&r.push(i[a]);return r.length?n[e]=r:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t},3469:function(e,t){var n;(function(){var i=this,r=i._,a=Array.prototype,o=Object.prototype,s=Function.prototype,l=a.push,c=a.slice,u=o.toString,d=o.hasOwnProperty,h=Array.isArray,p=Object.keys,f=s.bind,m=Object.create,g=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};e.exports&&(t=e.exports=v),t._=v,v.VERSION="1.8.3";var y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return null==e?v.identity:v.isFunction(e)?y(e,t,n):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return b(e,t,1/0)};var _=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var a=arguments[r],o=e(a),s=o.length,l=0;l<s;l++){var c=o[l];t&&void 0!==n[c]||(n[c]=a[c])}return n}},w=function(e){if(!v.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,E=k("length"),C=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=x};function S(e){function t(t,n,i,r,a,o){for(;a>=0&&a<o;a+=e){var s=r?r[a]:a;i=n(i,t[s],s,t)}return i}return function(n,i,r,a){i=y(i,a,4);var o=!C(n)&&v.keys(n),s=(o||n).length,l=e>0?0:s-1;return arguments.length<3&&(r=n[o?o[l]:l],l+=e),t(n,i,r,o,l,s)}}v.each=v.forEach=function(e,t,n){var i,r;if(t=y(t,n),C(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var a=v.keys(e);for(i=0,r=a.length;i<r;i++)t(e[a[i]],a[i],e)}return e},v.map=v.collect=function(e,t,n){t=b(t,n);for(var i=!C(e)&&v.keys(e),r=(i||e).length,a=Array(r),o=0;o<r;o++){var s=i?i[o]:o;a[o]=t(e[s],s,e)}return a},v.reduce=v.foldl=v.inject=S(1),v.reduceRight=v.foldr=S(-1),v.find=v.detect=function(e,t,n){var i;if(void 0!==(i=C(e)?v.findIndex(e,t,n):v.findKey(e,t,n))&&-1!==i)return e[i]},v.filter=v.select=function(e,t,n){var i=[];return t=b(t,n),v.each(e,(function(e,n,r){t(e,n,r)&&i.push(e)})),i},v.reject=function(e,t,n){return v.filter(e,v.negate(b(t)),n)},v.every=v.all=function(e,t,n){t=b(t,n);for(var i=!C(e)&&v.keys(e),r=(i||e).length,a=0;a<r;a++){var o=i?i[a]:a;if(!t(e[o],o,e))return!1}return!0},v.some=v.any=function(e,t,n){t=b(t,n);for(var i=!C(e)&&v.keys(e),r=(i||e).length,a=0;a<r;a++){var o=i?i[a]:a;if(t(e[o],o,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,i){return C(e)||(e=v.values(e)),("number"!=typeof n||i)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=function(e,t){var n=c.call(arguments,2),i=v.isFunction(t);return v.map(e,(function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)}))},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var i,r,a=-1/0,o=-1/0;if(null==t&&null!=e)for(var s=0,l=(e=C(e)?e:v.values(e)).length;s<l;s++)(i=e[s])>a&&(a=i);else t=b(t,n),v.each(e,(function(e,n,i){((r=t(e,n,i))>o||r===-1/0&&a===-1/0)&&(a=e,o=r)}));return a},v.min=function(e,t,n){var i,r,a=1/0,o=1/0;if(null==t&&null!=e)for(var s=0,l=(e=C(e)?e:v.values(e)).length;s<l;s++)(i=e[s])<a&&(a=i);else t=b(t,n),v.each(e,(function(e,n,i){((r=t(e,n,i))<o||r===1/0&&a===1/0)&&(a=e,o=r)}));return a},v.shuffle=function(e){for(var t,n=C(e)?e:v.values(e),i=n.length,r=Array(i),a=0;a<i;a++)(t=v.random(0,a))!==a&&(r[a]=r[t]),r[t]=n[a];return r},v.sample=function(e,t,n){return null==t||n?(C(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,n){return t=b(t,n),v.pluck(v.map(e,(function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")};var T=function(e){return function(t,n,i){var r={};return n=b(n,i),v.each(t,(function(i,a){var o=n(i,a,t);e(r,i,o)})),r}};v.groupBy=T((function(e,t,n){v.has(e,n)?e[n].push(t):e[n]=[t]})),v.indexBy=T((function(e,t,n){e[n]=t})),v.countBy=T((function(e,t,n){v.has(e,n)?e[n]++:e[n]=1})),v.toArray=function(e){return e?v.isArray(e)?c.call(e):C(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:C(e)?e.length:v.keys(e).length},v.partition=function(e,t,n){t=b(t,n);var i=[],r=[];return v.each(e,(function(e,n,a){(t(e,n,a)?i:r).push(e)})),[i,r]},v.first=v.head=v.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var D=function(e,t,n,i){for(var r=[],a=0,o=i||0,s=E(e);o<s;o++){var l=e[o];if(C(l)&&(v.isArray(l)||v.isArguments(l))){t||(l=D(l,t,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[a++]=l[c++]}else n||(r[a++]=l)}return r};function F(e){return function(t,n,i){n=b(n,i);for(var r=E(t),a=e>0?0:r-1;a>=0&&a<r;a+=e)if(n(t[a],a,t))return a;return-1}}function M(e,t,n){return function(i,r,a){var o=0,s=E(i);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return i[a=n(i,r)]===r?a:-1;if(r!=r)return(a=t(c.call(i,o,s),v.isNaN))>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&a<s;a+=e)if(i[a]===r)return a;return-1}}v.flatten=function(e,t){return D(e,t,!1)},v.without=function(e){return v.difference(e,c.call(arguments,1))},v.uniq=v.unique=function(e,t,n,i){v.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=b(n,i));for(var r=[],a=[],o=0,s=E(e);o<s;o++){var l=e[o],c=n?n(l,o,e):l;t?(o&&a===c||r.push(l),a=c):n?v.contains(a,c)||(a.push(c),r.push(l)):v.contains(r,l)||r.push(l)}return r},v.union=function(){return v.uniq(D(arguments,!0,!0))},v.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=E(e);i<r;i++){var a=e[i];if(!v.contains(t,a)){for(var o=1;o<n&&v.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},v.difference=function(e){var t=D(arguments,!0,!0,1);return v.filter(e,(function(e){return!v.contains(t,e)}))},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,E).length||0,n=Array(t),i=0;i<t;i++)n[i]=v.pluck(e,i);return n},v.object=function(e,t){for(var n={},i=0,r=E(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},v.findIndex=F(1),v.findLastIndex=F(-1),v.sortedIndex=function(e,t,n,i){for(var r=(n=b(n,i,1))(t),a=0,o=E(e);a<o;){var s=Math.floor((a+o)/2);n(e[s])<r?a=s+1:o=s}return a},v.indexOf=M(1,v.findIndex,v.sortedIndex),v.lastIndexOf=M(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),a=0;a<i;a++,e+=n)r[a]=e;return r};var A=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var a=w(e.prototype),o=e.apply(a,r);return v.isObject(o)?o:a};v.bind=function(e,t){if(f&&e.bind===f)return f.apply(e,c.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return A(e,i,t,this,n.concat(c.call(arguments)))};return i},v.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,r=t.length,a=Array(r),o=0;o<r;o++)a[o]=t[o]===v?arguments[i++]:t[o];for(;i<arguments.length;)a.push(arguments[i++]);return A(e,n,this,this,a)};return n},v.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)e[n=arguments[t]]=v.bind(e[n],e);return e},v.memoize=function(e,t){var n=function(i){var r=n.cache,a=""+(t?t.apply(this,arguments):i);return v.has(r,a)||(r[a]=e.apply(this,arguments)),r[a]};return n.cache={},n},v.delay=function(e,t){var n=c.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var i,r,a,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:v.now(),o=null,a=e.apply(i,r),o||(i=r=null)};return function(){var c=v.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return i=this,r=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,a=e.apply(i,r),o||(i=r=null)):o||!1===n.trailing||(o=setTimeout(l,u)),a}},v.debounce=function(e,t,n){var i,r,a,o,s,l=function(){var c=v.now()-o;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(a,r),i||(a=r=null)))};return function(){a=this,r=arguments,o=v.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(a,r),a=r=null),s}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(e,t){var n=O.length,i=e.constructor,r=v.isFunction(i)&&i.prototype||o,a="constructor";for(v.has(e,a)&&!v.contains(t,a)&&t.push(a);n--;)(a=O[n])in e&&e[a]!==r[a]&&!v.contains(t,a)&&t.push(a)}v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)v.has(e,n)&&t.push(n);return I&&N(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&N(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},v.mapObject=function(e,t,n){t=b(t,n);for(var i,r=v.keys(e),a=r.length,o={},s=0;s<a;s++)o[i=r[s]]=t(e[i],i,e);return o},v.pairs=function(e){for(var t=v.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},v.invert=function(e){for(var t={},n=v.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,n){t=b(t,n);for(var i,r=v.keys(e),a=0,o=r.length;a<o;a++)if(t(e[i=r[a]],i,e))return i},v.pick=function(e,t,n){var i,r,a={},o=e;if(null==o)return a;v.isFunction(t)?(r=v.allKeys(o),i=y(t,n)):(r=D(arguments,!1,!1,1),i=function(e,t,n){return t in n},o=Object(o));for(var s=0,l=r.length;s<l;s++){var c=r[s],u=o[c];i(u,c,o)&&(a[c]=u)}return a},v.omit=function(e,t,n){if(v.isFunction(t))t=v.negate(t);else{var i=v.map(D(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(i,t)}}return v.pick(e,t,n)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var n=w(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),a=0;a<i;a++){var o=n[a];if(t[o]!==r[o]||!(o in r))return!1}return!0};var P=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var r=u.call(e);if(r!==u.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var a="[object Array]"===r;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!P(e[l],t[l],n,i))return!1}else{var c,d=v.keys(e);if(l=d.length,v.keys(t).length!==l)return!1;for(;l--;)if(c=d[l],!v.has(t,c)||!P(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};v.isEqual=function(e,t){return P(e,t)},v.isEmpty=function(e){return null==e||(C(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=h||function(e){return"[object Array]"===u.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(e){v["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}})),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&d.call(e,t)},v.noConflict=function(){return i._=r,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=k,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var i=Array(Math.max(0,e));t=y(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(R),L=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};v.escape=L(R),v.unescape=L(j),v.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),v.isFunction(i)?i.call(e):i};var q=0;v.uniqueId=function(e){var t=++q+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Z=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+B[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var i=RegExp([(t.escape||Z).source,(t.interpolate||Z).source,(t.evaluate||Z).source].join("|")+"|$","g"),r=0,a="__p+='";e.replace(i,(function(t,n,i,o,s){return a+=e.slice(r,s).replace(V,z),r=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t})),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return o.call(this,e,v)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},v.chain=function(e){var t=v(e);return t._chain=!0,t};var U=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),(function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),U(this,n.apply(v,e))}}))},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],U(this,n)}})),v.each(["concat","join","slice"],(function(e){var t=a[e];v.prototype[e]=function(){return U(this,t.apply(this._wrapped,arguments))}})),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(t,[]))||(e.exports=n)}).call(this)},4960:()=>{},6759:()=>{},6272:()=>{},4654:()=>{},7462:(e,t,n)=>{"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}n.d(t,{Z:()=>i})},4578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9611);function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,i.Z)(e,t)}},9611:(e,t,n)=>{"use strict";function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{Z:()=>i})}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var i={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var r=2&t&&e;"object"==typeof r&&!~leafPrototypes.indexOf(r);r=getProto(r))Object.getOwnPropertyNames(r).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,__webpack_require__.d(n,i),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__);var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ActionableSeoScoreTask:()=>il,AddedToPlaylistTask:()=>rl,AvgChannelViewsAfterPublishTask:()=>al,AvgDailySubsTask:()=>ol,AvgDailyViewsTask:()=>sl,AvgViewTimeTask:()=>ll,CaptionsUrlTask:()=>ul,CardsAuthTokenTask:()=>hl,CardsTask:()=>Dl,CategoryTask:()=>Ml,ChannelCountryTask:()=>Il,ChannelGrowthStats:()=>Ol,ChannelIconTask:()=>Rl,ChannelIdTask:()=>jl,ChannelKeywordsTask:()=>jO,ChannelNameTask:()=>LO,ChannelRankingsTask:()=>qO,ChannelSubscribersTask:()=>ZO,ChannelTask:()=>VO,ChannelUrlTask:()=>zO,ChannelUsernameUrlTask:()=>UO,ChannelViewsTask:()=>HO,ChartsTask:()=>YO,CommentsTokenTask:()=>KO,CreatorSuggestedTask:()=>GO,DatePublishedTask:()=>XO,DescLinkCountTask:()=>QO,DescWordCountTask:()=>JO,DescriptionTask:()=>tN,DurationTask:()=>lN,EmbeddedLocationsTask:()=>hN,EmbeddedViewsTask:()=>pN,EndscreensTask:()=>bN,EngagementDistributionTask:()=>$N,EngagementRateChartTask:()=>GN,EngagementRateTask:()=>_N,EngagementsChartTask:()=>eP,EngagementsTask:()=>iP,EstimatedMonthlyRevenueTask:()=>aP,FacebookFollowersTask:()=>sP,FbEngagementsTask:()=>cP,FbLikesTask:()=>uP,GoogleEmbedSourcesTask:()=>dP,GoogleTrafficSourcesTask:()=>hP,HighresThumbnailTask:()=>pP,HistoricalCsvTask:()=>fP,HistoricalTask:()=>gP,HtmlTask:()=>_P,InsightPlaybackLocationViewsTask:()=>xP,InsightTopEmbedsTask:()=>SP,InsightTrafficExtTask:()=>FP,InsightTrafficTask:()=>IP,InsightTrafficYtSearchTask:()=>PP,InsightTrafficYtSuggestedTask:()=>LP,InstagramFollowersTask:()=>ZP,IsCreatorTask:()=>VP,IsLiveTask:()=>nL,IsMyVideosPageTask:()=>zP,KeywordDataTask:()=>WP,KeywordRanksTask:()=>YP,KeywordRecsAllowedTask:()=>KP,KeywordRecsTask:()=>XP,KeywordsTask:()=>eR,LicenseTask:()=>tR,LikeRatioTask:()=>nR,LocalChannelSubscribersTask:()=>iR,McnTask:()=>aR,MonetizationTask:()=>oR,NumGoogleEmbedSourcesTask:()=>sR,NumGoogleTrafficSourcesTask:()=>lR,OrganicViewsTask:()=>cR,PercentSubViewsTask:()=>uR,PieChartTask:()=>fR,PublicApiStatsTask:()=>mR,PublicAvgViewTimeTask:()=>gR,PublicStatsTask:()=>_R,RangesTask:()=>wR,RecentChannelSubsTask:()=>kR,RecentChannelViewsTask:()=>xR,RedditTask:()=>CR,ReferredViewsTask:()=>SR,RelatedVideosTopicsTask:()=>NR,SeoChecklistAddedToPlaylistTask:()=>PR,SeoChecklistCardsTask:()=>RR,SeoChecklistClosedCaptionsTask:()=>jR,SeoChecklistEndScreensTask:()=>LR,SeoChecklistMadePublicTask:()=>ZR,SeoChecklistMonetizationTask:()=>VR,SeoChecklistRepliedCommentTask:()=>WR,SeoChecklistSharedFacebookTask:()=>HR,SeoChecklistSharedTwitterTask:()=>YR,SeoChecklistTask:()=>KR,SeoScoreTask:()=>GR,SessionTokenTask:()=>XR,ShowDummyTask:()=>QR,SnippetTask:()=>JR,SocialMediaLinksTask:()=>tj,StatusTask:()=>ij,StudioVideoInfoTask:()=>rj,StudioVideoObjectTask:()=>aj,SubViewsTask:()=>oj,SubsDrivenTask:()=>sj,SubscriberRankTask:()=>lj,SubscribersGainedTask:()=>dj,SuggestedVideoReferrerDetailsTask:()=>pj,SuggestedViewsTask:()=>fj,ThumbTask:()=>mj,ThumbnailTask:()=>gj,TimestampTask:()=>vj,TitleTask:()=>yj,TopCountriesTask:()=>bj,TopDevicesTask:()=>_j,TopicsTask:()=>wj,TweetListTask:()=>kj,TwitterFollowersTask:()=>xj,UploadSeoChecklistTask:()=>Cj,VidiqScoreClientTask:()=>Sj,VidiqScoreTask:()=>Dj,ViewRankTask:()=>Fj,ViewsAfterPublishTask:()=>Mj,ViewsByCountryTask:()=>Oj,ViewsByDeviceTask:()=>Rj,ViewsChartTask:()=>Lj,ViewsDataTask:()=>Bj,ViewsTask:()=>zj,VotesTask:()=>Hj,VphChartTask:()=>$j,VphTask:()=>Gj,WordsPerMinuteTask:()=>Xj,YtCommentsTask:()=>Qj,YtCredentialTokensTask:()=>Jj,YtSearchViewsTask:()=>eL,YtSharesTask:()=>tL});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{categories:()=>GB,search:()=>XB});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{AdvancedEmbedBase:()=>G$,AnnotationCardTemplates:()=>kz,AppbarLink:()=>RG,BackoffMessage:()=>aK,BestTimeToPostBase:()=>Uz,BestTimeToPostGraph:()=>Rz,BestTimeToPostMessage:()=>Lz,BestTimeToPostOptions:()=>Zz,BestTimeToPostPublishedSpotPopover:()=>oK,BlueOutlineButton:()=>f2,BulkProcessor:()=>kK,Button:()=>is,ButtonLogo:()=>XF,ButtonSection:()=>as,ChannelAuditAverages:()=>AD,ChannelAuditContentNotWorking:()=>BD,ChannelAuditDoubleDown:()=>WD,ChannelAuditEditView:()=>bF,ChannelAuditImprovements:()=>kF,ChannelAuditInfoPopover:()=>pD,ChannelAuditView:()=>IF,ChannelButtons:()=>NO,ChannelStatsGraph:()=>Uo,ChannelStatsGraphBox:()=>FL,ChannelStatsGraphBoxes:()=>ML,ChannelStatsInfo:()=>IL,ChannelStatsInfoBox:()=>AL,ChannelStatsOverview:()=>TL,ChannelStatsPercentChange:()=>wL,ChannelStatsRangeSelector:()=>EL,ChannelStatsView:()=>BL,ChannelTrendingTab:()=>uG,ChannelTrendingUpsell:()=>Es,ChannelTrendingVideo:()=>Cs,ChannelTrendingView:()=>vL,CharacterCounter:()=>xz,ChartJS:()=>Po,ChooseBackground:()=>h$,ChooseCurrentThumb:()=>ZY,ChooseImage:()=>s$,ChooseSolidColor:()=>c$,ChooseVideoStill:()=>d$,CommentPinButton:()=>fG,CommentsFilter:()=>AB,CommentsFilterChoose:()=>yB,CommentsFilterCount:()=>bB,CommentsFilterInput:()=>_B,CommentsFilterSettings:()=>kB,CommentsMultiFilter:()=>FB,CompetitionView:()=>pM,Confirmation:()=>q$,CopyVideoResources:()=>NK,CountrySelector:()=>Qz,CreatorStudioLink:()=>jG,CustomSelector:()=>P$,D3Chart:()=>_G,DemonetizationWordList:()=>FU,Dialogue:()=>yz,DropdownMenu:()=>iM,DropdownMenuItem:()=>aM,EditThumbnail:()=>z$,EditableCard:()=>jK,EditableEndscreen:()=>LK,EditableVideo:()=>WK,EmojiMenuDropdown:()=>hW,EmojiPicker:()=>T$,EngagementRateContents:()=>kN,Expandable:()=>Jz,ExpandableVideoList:()=>uU,FacebookAuthButton:()=>AN,FeedbackButton:()=>aS,FeedbackWindow:()=>nS,FileUploader:()=>a$,Filter:()=>QK,FilterControls:()=>XK,FilterSelector:()=>xG,FilterSelectorSection:()=>Fx,FilterSelectorSectionExpanded:()=>ax,GeneralChooser:()=>eG,GeneralLoader:()=>aG,GeneralSelector:()=>sx,ImageObject:()=>A$,KI_RelatedKeywordsFilter:()=>BM,Keyword:()=>pL,KeywordInspectorError:()=>CM,KeywordInspectorRelatedKeywords:()=>EA,KeywordInspectorRoot:()=>oI,KeywordList:()=>ZL,KeywordRank:()=>Ez,KeywordScore:()=>sz,LanguageSelector:()=>hU,LegacyDropdownMenu:()=>OB,LegacyDropdownMenuItem:()=>jB,LegacyKeyword:()=>nU,LegacyKeywordList:()=>aU,LegacyNewLayoutDropdownMenu:()=>BB,LoadablePlaylistSelect:()=>FG,LoadingPane:()=>vA,Logo:()=>UG,MEVR_CheckboxField:()=>WG,MEVR_Resource:()=>HG,MEVR_Video:()=>$G,MassEditVideoResources:()=>oX,MassEditVideoResourcesChoose:()=>lX,MassEditVideoResourcesInit:()=>dX,MassEditVideos:()=>mX,MassEditVideosChoose:()=>yX,MassEditVideosInit:()=>bX,MassEditVideosProcess:()=>kX,MassExport:()=>PX,MassExportPreview:()=>SX,MassExportProgress:()=>DX,MassExportStart:()=>FX,MassLikeBase:()=>UX,MassLikeChannel:()=>LX,Modal:()=>cs,ModalError:()=>CI,ModalFooter:()=>ss,ModularWindow:()=>rB,MyVideosDropdownMenu:()=>qB,MyVideosLoadControl:()=>HX,ObjectBorder:()=>F$,ObjectOpacity:()=>M$,Paginator:()=>yK,PlaylistFilter:()=>MG,PlaylistTopKeywordsButton:()=>gL,PlaylistTopKeywordsList:()=>mL,PreviewPopup:()=>sQ,PreviewThumbnail:()=>U$,ProcessItem:()=>gK,ProgressBar:()=>_K,QueriesReport:()=>cQ,ReactPopover:()=>hQ,RelatedKeywordsActionButtons:()=>AS,SC_Header:()=>pQ,SC_KeywordScore:()=>kQ,SC_QueriesReport:()=>SQ,SC_Statistics:()=>NQ,SC_TrendAlertPanel:()=>HQ,SC_TrendingVideos:()=>GQ,SearchAndReplaceFilter:()=>OG,SearchCompanion:()=>iJ,SearchFilter:()=>IG,SearchInlineER:()=>GX,SearchInlineKeywords:()=>lJ,SearchInlineKeywordsSwitch:()=>oJ,SearchInlinePopover:()=>QX,SearchInlineSocialStats:()=>aQ,SearchInlineStat:()=>eQ,SearchInlineUpsell:()=>uJ,SelectableVideo:()=>nG,SeoChecklist:()=>TU,ShapeObject:()=>O$,SidebarLink:()=>LG,SidebarLinkNewLayout:()=>ZG,SimpleTooltip:()=>tA,SkeletonScreen:()=>dJ,Speedometer:()=>sU,Spinner:()=>os,StoreChooser:()=>gX,StudioBetaBestTimeToPost:()=>vW,StudioBetaExpandableKeywords:()=>AH,StudioBetaKeyword:()=>JL,StudioBetaKeywordRank:()=>hJ,StudioBetaKeywordScore:()=>XL,StudioBetaOptimizeButton:()=>_W,StudioBetaOrganizeTags:()=>fJ,StudioBetaSelect:()=>IH,StudioBetaSeoScore:()=>kH,StudioBetaSettingsMenu:()=>SH,StudioBetaSidebarLink:()=>VG,StudioBetaTagOptions:()=>_J,StudioBetaThumbnailButton:()=>TH,StudioBetaTranslateModal:()=>gJ,StudioBetaTrendingVideos:()=>NH,StudioBetaUpsell:()=>Vz,SubscriberCount:()=>RH,Tabs:()=>_z,TagExport:()=>xS,TagTemplates:()=>Mz,TagTemplatesDropdown:()=>Az,TagTemplatesModal:()=>yJ,TextObject:()=>j$,ThumbnailEditor:()=>YU,ThumbnailTemplates:()=>B$,TitleDescSuggestions:()=>Iz,TitleDescTranslation:()=>Nz,ToggleCollapsed:()=>S0,ToggleLimit:()=>LL,ToggleSwitch:()=>yZ,ToolbarStatSection:()=>ZJ,ToolbarStatSections:()=>BJ,ToolbarStats:()=>n0,ToolbarStatsFooter:()=>zJ,ToolbarStatsPopover:()=>WJ,TranslationModal:()=>nW,TranslationUpsell:()=>Oz,TrendAlertsView:()=>cO,TrendingVideos:()=>yU,TrendingVideosFilter:()=>fU,TrendingVideosUpsell:()=>i0,Tweet:()=>r0,TwitterLogo:()=>a0,UpgradeButton:()=>xs,UploadBestTimeToPost:()=>Wz,UploadClearKeywords:()=>Hz,UploadCompanion:()=>wU,UploadCopyKeywords:()=>kU,UploadHeader:()=>Yz,UploadKeywords:()=>Kz,UploadKwinsButton:()=>CU,UploadOptimizeButton:()=>Gz,UploadSeoScore:()=>VU,UploadSeoScoreOuter:()=>zU,UploadTagAutocomplete:()=>uz,UploadThumbnailButton:()=>$U,UploadTooltip:()=>KU,UploadTranslations:()=>iW,UploadTrendingVideos:()=>bU,VC_Authed:()=>J1,VC_ClearLocalStorageMessage:()=>e2,VC_Container:()=>t1,VC_DataTable:()=>n2,VC_EngagementDistribution:()=>o1,VC_EngagementRatePopover:()=>a2,VC_Error:()=>F0,VC_FacebookStatBox:()=>PN,VC_GoogleResults:()=>o2,VC_Header:()=>D0,VC_HistoricalTab:()=>r1,VC_HistoricalTabUpsell:()=>n1,VC_Loading:()=>A0,VC_OptimizationChecklist:()=>u1,VC_OptimizationChecklistItem:()=>l1,VC_PrivateIcon:()=>MU,VC_ReferrerPopover:()=>c2,VC_Section:()=>p1,VC_SeoScorePopover:()=>ZU,VC_SpeedometerWrapper:()=>u2,VC_StatBox:()=>PU,VC_StatSection:()=>jU,VC_StatValue:()=>OU,VC_StatsTab:()=>H1,VC_TimelineChart:()=>f0,VC_TrendingTab:()=>Y1,VC_TweetsTab:()=>G1,VC_Unauthed:()=>j0,VC_ViewComparison:()=>Z1,VC_ViewComparisonDownload:()=>N1,VC_ViewComparisonLearnMore:()=>A1,VC_ViewComparisonOptions:()=>j1,VC_ViewComparisonSelector:()=>R1,VC_YtSearchSuggestedPopover:()=>p2,Video:()=>h0,VideoActionsDropdownMenu:()=>WB,VideoBufferController:()=>uX,VideoCompanionBase:()=>q0,VideoFrame:()=>YG,VideoListItem:()=>cU,VideoMetaInformation:()=>o0,VideoResourceChooser:()=>rG,VideoResourceVideoChooser:()=>sG,VideoSpeedometer:()=>s0,VideoStat:()=>c0,VideoThumbnail:()=>u0,ViewComparisonExport:()=>O1,VphPopover:()=>W$,Wizard:()=>HU});var i=__webpack_require__(9755),r=__webpack_require__.n(i);r().jsonAjax=(e,t,n)=>r().ajax({url:t,type:e,data:JSON.stringify(n),contentType:"application/json"}),r().jsonPost=(e,t)=>r().jsonAjax("POST",e,t),r().jsonPut=(e,t)=>r().jsonAjax("PUT",e,t),r().jsonPatch=(e,t)=>r().jsonAjax("PATCH",e,t);__webpack_require__(1704),__webpack_require__(5326),__webpack_require__(5911),__webpack_require__(3704);var a=__webpack_require__(3850),o=__webpack_require__(7618);const s={set(e){const t=Object.fromEntries(Object.entries(e).map((([e,t])=>[e,JSON.stringify(t)])));return new Promise((e=>{chrome.storage.sync.set(t,e)}))},get:e=>new Promise((t=>{chrome.storage.sync.get(e,(n=>{let i;try{i=JSON.parse(n[e])}catch(e){}t(i)}))})),async merge(e,t){const n=await s.get(e)||{};return await s.set({[e]:{...n,...t}})}},l=s,c={"rating-bar":!0,"toolbar-stats":!0,"home-page-shortcuts":!0,"home-page-shortcuts-videoideas":!0,"home-page-shortcuts-keywordinspector":!0,"home-page-shortcuts-competitors":!0,"home-page-shortcuts-trendalerts":!0,"home-page-shortcuts-mostviewed":!0,"home-page-shortcuts-channelaudit":!0,"home-page-shortcuts-achievements":!0,"home-page-shortcuts-academy":!0,"video-manager-shortcuts":!0,"video-manager-shortcuts-videoideas":!0,"video-manager-shortcuts-keywordinspector":!0,"video-manager-shortcuts-competitors":!0,"video-manager-shortcuts-trendalerts":!0,"video-manager-shortcuts-mostviewed":!0,"video-manager-shortcuts-channelaudit":!0,"video-manager-shortcuts-achievements":!0,"video-manager-shortcuts-academy":!0,"firefox-allow-tracking":!1},u={async getSettings(){const e=await l.get("vidiq_options")||{};return{...c,...e}},async get(e){return(await this.getSettings())[e]},async set(e,t){await l.merge("vidiq_options",{[e]:t})},async setMany(e){await l.merge("vidiq_options",e)}},d=u;var h=__webpack_require__(7294),p=__webpack_require__.t(h,2);var f,m=function(){return m=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},m.apply(this,arguments)};function g(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function v(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))}!function(e){e.NoABClient="No ABClient was supplied."}(f||(f={}));const y=(0,h.createContext)({});function b({children:e,client:t}){return h.createElement(y.Provider,{value:{client:t}},e)}const _=e=>{const t=(0,h.useContext)(y),n=(null==t?void 0:t.client)||e;if(!n)throw new Error(f.NoABClient);return n},w=function(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map((function(e){e(n)})),(i=e.get("*"))&&i.slice().map((function(e){e(t,n)}))}}}();class k{constructor(e){this.key=e}}function x(e){return Array.isArray(e)?e:[]}function E(e){return e.tags&&e.tags.indexOf("feature-flag")>-1}function C(e){return x(e).filter((e=>!E(e)))}function S(e){return e.description||e.key}function T(e){const t={};for(let n of e)n&&n.variant&&n.key&&n.variant.key&&(t[n.key]=n.variant.key);return t}function D(e,t){(0,h.useEffect)((()=>(w.on(e,t),()=>w.off(e,t))),[])}let F=0;const M=(e,t)=>{const n=_(t);(0,h.useEffect)((()=>{0===F&&(n.fetchExperiments(),F+=1)}),[]);const[i,r]=(0,h.useState)((()=>n.getExperimentValueSync(e)));return D("trigger",(0,h.useCallback)((t=>{t.changedExperiments.includes(e)&&r(n.getExperimentValueSync(e))}),[])),i},A=(0,h.createContext)({variant:"control"});function I({name:e,abClient:t,children:n}){const i=M(e,t),r=(0,h.useMemo)((()=>{if(!i)return{};const t=i&&i.variant;return{data:i,experiment:i&&i.description||e,variant:t.key||"control",attachment:t.properties}}),[i]);return h.createElement(A.Provider,{value:r},n)}function O(e){const{variant:t,attachment:n,data:i}=(0,h.useContext)(A),r=e===t;return(0,h.useEffect)((()=>{r&&i&&w.emit("play",{experimentDescription:i&&i.description,variant:t})}),[r,i,t]),{variant:t,attachment:n,description:i&&i.description,isActive:r,isEmpty:!i}}const N=({name:e,children:t})=>{const{isActive:n,attachment:i,isEmpty:r}=O(e);return n||r&&"control"===e?h.createElement(h.Fragment,null,h.Children.map(t,(e=>h.isValidElement(e)?h.cloneElement(e,Object.assign(Object.assign({},e.props),{attachment:i})):e))):null};var P=__webpack_require__(1328);const R=new class{constructor(e){this.entityContext={},this.overrides={},this.overridesLoaded=!1,this.hasBroadcast=!1,this._requestPromise=null,this.setUserIdentifier=e=>{this.userIdentifier=e},this.setEntityContext=e=>{this.entityContext=e},this.loadOverrideData=()=>v(this,void 0,void 0,(function*(){if(this.overridesStorageProvider instanceof k){this.overrides=yield this.overridesStorageProvider.get(),this.overridesLoaded=!0;const e=Object.keys(this.overrides||{});e.length>0&&this.handleOverridesChanged(e)}})),this.fetchExperiments=()=>v(this,void 0,void 0,(function*(){return this.overridesLoaded||(yield this.loadOverrideData()),!this.queryFn||this.hasData?this.data:(this._requestPromise||(this._requestPromise=(()=>v(this,void 0,void 0,(function*(){try{const e=yield this.queryFn({userIdentifier:this.userIdentifier,experimentContext:this.entityContext});return this.broadcast(e),this.setData(e),e}catch(e){return[]}})))()),this._requestPromise)})),this.broadcast=e=>{this.hasBroadcast||(this.hasBroadcast=!0,w.emit("receiveExperiments",e))},this.getExperimentValueSync=e=>this.data.find((t=>t.key===e))||null,this.getExperimentValue=e=>v(this,void 0,void 0,(function*(){if(!this.hasData)try{yield this.fetchExperiments()}catch(e){}return this.getExperimentValueSync(e)})),this.subscribeToExperimentValue=(e,t)=>{const n=n=>{n.changedExperiments.includes(e)&&t(this.getExperimentValueSync(e))};return w.on("trigger",n),t(this.getExperimentValueSync(e)),{unsubscribe:()=>w.off("trigger",n)}},this.prefetchTests=()=>v(this,void 0,void 0,(function*(){yield this.fetchExperiments()})),this.setData=e=>{const t=e||[],n=function(e,t){const n=T(e),i=T(t),r=[],a=Object.keys(n),o=Object.keys(i);for(let e of o)n[e]!==i[e]&&r.push(e);for(let e of a)o.includes(e)||r.push(e);return r}(this._data,t);0!==n.length&&(this._data=t,w.emit("trigger",{changedExperiments:n,reason:"setData"}))},this.addOverride=(e,t)=>{this.getExperimentVariantWithoutOverride(e)===t?delete this.overrides[e]:this.overrides[e]=t,this.handleOverridesChanged(e)},this.removeOverride=e=>{delete this.overrides[e],this.handleOverridesChanged(e)},this.hasOverride=e=>!!this.overrides[e],this.clearOverrides=()=>{const e=Object.keys(this.overrides||{});this.overrides={},this.handleOverridesChanged(e)},this.handleOverridesChanged=e=>{this.overridesStorageProvider instanceof k&&this.overridesStorageProvider.set(this.overrides),w.emit("trigger",{changedExperiments:Array.isArray(e)?e:[e],reason:"overridesChanged"})},this.reset=()=>{this.setData([]),this.setUserIdentifier(void 0),this.setEntityContext({}),this.overridesLoaded=!1,this.hasBroadcast=!1,this._requestPromise=null},this._data=e.initialData||[],this.queryFn=e.queryFn,this.overridesStorageProvider=e.overridesStorageProvider}get data(){if(!this._data||!this._data.length)return[];return Object.keys(this.overrides||{}).length>0?this._data.map((e=>{const t=this.overrides[e.key];return void 0===t?e:Object.assign(Object.assign({},e),{variant:Object.assign(Object.assign({},e.variant),{key:t})})})):this._data}get hasData(){return this._data&&this._data.length>0}getExperimentVariantWithoutOverride(e){var t,n;return(null===(n=null===(t=this._data.find((t=>t.key===e)))||void 0===t?void 0:t.variant)||void 0===n?void 0:n.key)||null}}({overridesStorageProvider:void 0,queryFn:e=>(0,P.Z)("vidiq.getAbTests",e)});var j=__webpack_require__(3469),L=__webpack_require__.n(j);class q{constructor(e){this.queue=[],this.loaded=!1,this.identified=!1,L().extend(this,e)}async load(){const e=this.innerLoad(),t=()=>{this.loaded=!0,this._identifyLater&&(this.identify(...this._identifyLater),this._identifyLater=null),this.processQueue()};return e&&"function"==typeof e.done?e.done(t):e&&"function"==typeof e.then?e.then(t):t(),e}track(...e){if(!this.loaded||!this.identified)return this.queue.push(e);this.innerTrack(...e)}identify(...e){this.loaded?(this.innerIdentify(...e),this.identified=!0,this.processQueue()):this._identifyLater=e}processQueue(){if(this.loaded&&this.identified)for(;this.queue.length>0;)this.track(...this.queue.shift())}}var Z=__webpack_require__(4203);const B=function(e,t){if("chrome-extension:"===window.location.protocol)return e(t);const n=JSON.stringify(t);return(0,Z.Z)("("+e.toString()+")("+n+")")},V={load:()=>{B((()=>{!function(e,t,n,i,r){e[i]=e[i]||[],e[i].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});const a=t.getElementsByTagName(n)[0],o=t.createElement(n);o.async=!0,o.src="https://www.googletagmanager.com/gtm.js?id=GTM-WTPB7JF",a.parentNode.insertBefore(o,a)}(window,document,"script","dataLayer")}))},push:e=>{B((e=>{window.dataLayer.push(e)}),e)}},z=V;var U=__webpack_require__(818);const W={en:/^en/};function H(e){try{const t=chrome.i18n.getUILanguage();return W[e].test(t)}catch(e){return!1}}var Y=__webpack_require__(9309);const $={session:null,expires:null,get:async function(){try{const e=await(0,P.Z)("vidiq.amplitudeSession");if(e.session)return e.session}catch(e){}return(!this.session||new Date>this.expires)&&(this.session=Math.floor((new Date).getTime()/1e3)),this.expires=(new Date).getTime()+9e5,this.session}},K={},G=new q({innerLoad(){(0,Y.Z)("EventTracking: Loading Amplitude"),B((e=>{!function(e,t){var n=e.amplitude||{_q:[],_iq:{}},i=t.createElement("script");i.type="text/javascript",i.integrity="sha384-d/yhnowERvm+7eCU79T/bYjOiMmq4F11ElWYLmt0ktvYEVgqLDazh4+gW9CKMpYW",i.crossOrigin="anonymous",i.async=!0,i.src="https://cdn.amplitude.com/libs/amplitude-5.2.2-min.gz.js",i.onload=function(){e.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK")};var r=t.getElementsByTagName("script")[0];function a(e,t){e.prototype[t]=function(){return this._q.push([t].concat(Array.prototype.slice.call(arguments,0))),this}}r.parentNode.insertBefore(i,r);for(var o=function(){return this._q=[],this},s=["add","append","clearAll","prepend","set","setOnce","unset"],l=0;l<s.length;l++)a(o,s[l]);n.Identify=o;for(var c=function(){return this._q=[],this},u=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],d=0;d<u.length;d++)a(c,u[d]);n.Revenue=c;var h=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function p(e){function t(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<h.length;n++)t(h[n])}p(n),n.getInstance=function(e){return e=(e&&0!==e.length?e:"$default_instance").toLowerCase(),n._iq.hasOwnProperty(e)||(n._iq[e]={_q:[]},p(n._iq[e])),n._iq[e]},e.amplitude=n}(window,document),window.amplitude.getInstance().init(e[0]),e[2]&&window.amplitude.getInstance("dev").init(e[1])}),[o.ZP.amplitude.production,o.ZP.amplitude.development,o.ZP.production])},innerIdentify(e){const{version:t,browser:n}=(0,U.F)();(0,Y.Z)("EventTracking: Identifying Amplitude",{id:e.id,account_id:e.account&&e.account.id,chrome_extension_version:t}),z.push({event:"amplitudeIdentify",amplitudeUserId:e.id,amplitudeAccountId:e.account}),K["account id"]=e.account&&e.account.id,B((e=>{const t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5];if(window.amplitude.getInstance().setUserId(t),r&&window.amplitude.getInstance("dev").setUserId(t),n){const e=(new window.amplitude.Identify).setOnce("account id",n).set(`${a} extension version`,i);Object.entries(o).map((([t,n])=>{e.setOnce(t,n)})),window.amplitude.getInstance().identify(e),r&&window.amplitude.getInstance("dev").identify(e)}}),[e.id,e.account&&e.account.id,t,o.ZP.production,n])},async innerTrack(e,t,n){const i=await $.get();(t=Object.assign({},t||{}))._identify||(t._identify={}),t._identify.set=Object.assign({},t._identify.set||{},{"custom session id":i});const r=n?"Track Test Amplitude event":"Track Amplitude event";(0,Y.Z)(r,`"${e}"`,t),B((e=>{const t=e[2]?e[2]:void 0,n=e[1];if(n&&n._identify){const e=n._identify;delete n._identify;const i=new window.amplitude.Identify;["add","set"].forEach((t=>{e[t]&&Object.keys(e[t]).forEach((n=>{i[t](n,e[t][n])}))})),window.amplitude.getInstance(t).identify(i)}window.amplitude.getInstance(t).logEvent(e[0],n)}),[e,t,n&&o.ZP.production&&"dev"]),z.push({event:"amplitudeEvent",amplitudeEvent:e,amplitudeEventProperties:t})},getDeviceId(){if(this.loaded)return B((()=>{let e;try{e=window.amplitude.getInstance().options.deviceId}catch(t){e=null}return e}))},via:()=>(0,U.F)().via});G.adapt=e=>{e||(e={});const t=Object.entries(e._identify||{}).reduce(((e,[t,n])=>({...e,[["add","set","setOnce"].indexOf(t)>=0?`$${t}`:t]:n})),{}),n=(0,U.F)().version;let i="unknown";try{i=chrome.i18n.getUILanguage()}catch(e){}const r=(a=R.data,C(a).filter((e=>!0===e.recorded||void 0===e.recorded))).reduce(((e,t)=>({...e,[S(t)]:t.variant.key})),{});var a;Object.assign(K,r);const o={...t,$set:{...t.$set||{},...K,[`${(0,U.F)().browser} extension version`]:n,"browser language":i,"language is english":H("en")}},s=Object.assign({},e);return delete s._identify,{user:o,event:s}};const X=G;var Q=__webpack_require__(4283),J=__webpack_require__(2060),ee=__webpack_require__(7446);const te={},ne=async(e,t,n=(()=>{}))=>{if(te[e])return;const i=J.Z.getData(),r=i.user||{},a=r.account?r.account.id:null;"amplitude"===e&&(t={...t,user:{...t.user||{},$setOnce:{"account id":a}}});const o=await P.Z.expanded("vidiq.extensionAnalytics",{type:e,payload:t,deviceId:await(0,Q.Z)(),userId:r.id,sessionToken:i.session_token});if(o.response.ok)(0,Y.Z)("ExtensionAnalytics.send ---",e,t);else{switch(o.response.status){case 501:(0,Y.Z)("ExtensionAnalytics.send (NOT SUPPORTED YET) ---",e,t),te[e]=!0;break;case 429:return void(0,Y.Z)("ExtensionAnalytics.send (TOO MANY REQUESTS) ---",e,t);default:(0,Y.Z)("ExtensionAnalytics.send (FAILED) ---",e,t)}if("function"==typeof n){if((0,ee.Z)()&&"vidiq_intercom"!==e)return;n()}}},ie=async(...e)=>ne("amplitude",...e),re=async(...e)=>ne("google_analytics",...e),ae=async(...e)=>ne("google_adwords_conversion",...e),oe=async(...e)=>ne("facebook_conversion",...e),se=async(...e)=>ne("page_view",...e),le=async(...e)=>ne("top_related_keywords",...e),ce=new q({innerLoad(){(0,Y.Z)("EventTracking: Loading Facebook Pixel"),B((()=>{((e,t,n,i,r,a,o)=>{e.fbq||(r=e.fbq=function(...e){r.callMethod?r.callMethod(...e):r.queue.push(e)},e._fbq||(e._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(a=t.createElement(n)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,o))})(window,document,"script")}))},innerIdentify(){(0,Y.Z)("EventTracking: Identifying Facebook Pixel"),B((()=>{try{window.fbq("init","186533241689483"),window.fbq("track","PageView")}catch(e){console.warn("EventTracking: Unable to initialize Facebook Pixel",e)}}))},innerTrack(...e){(0,Y.Z)("EventTracking: Tracking Facebook conversion",e),B((e=>{window.fbq?window.fbq(...e):console.warn("EventTracking: window.fbq does not exist")}),Array.prototype.slice.call(e))}}),ue=ce,de=new q({innerLoad:()=>((0,Y.Z)("EventTracking: Loading Google AdWords"),"chrome-extension:"===window.location.protocol?Promise.resolve():P.Z.script("google.conversions")),innerIdentify(){},innerTrack(e){B((e=>{try{window.google_conversion_id=1002084202,window.google_conversion_label=e[0],window.google_conversion_format="3",window.google_remarketing_only=!1,window.google_trackConversion()}catch(e){console.warn("EventTracking: window.google_trackConversion does not exist")}}),[e])}}),he=de,pe=new q({innerLoad(){(0,Y.Z)("EventTracking: Loading Google Analytics"),B((()=>{((e,t,n,i,r,a,o)=>{e.GoogleAnalyticsObject=r,e.ga=e.ga||function(...t){(e.ga.q=e.ga.q||[]).push(t)},e.ga.l=1*new Date,a=t.createElement(n),o=t.getElementsByTagName(n)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(a,o)})(window,document,"script",0,"ga")}))},innerIdentify(e){(0,Y.Z)("EventTracking: Identifying Google Analytics"),B((e=>{try{const t=btoa(e);window.ga("create","UA-26415783-3",{userId:t,sampleRate:4}),window.ga("send","pageview")}catch(e){console.warn("EventTracking: Unable to identify Google Analytics",e)}}),e)},innerTrack(e,t){B((e=>{window.ga?window.ga("send",{hitType:"event",eventCategory:"Extension",eventAction:e[0],eventLabel:JSON.stringify(e[1])}):console.warn("EventTracking: window.ga does not exist")}),[e,t])}}),fe=new q({innerLoad:()=>((0,Y.Z)("EventTracking: Loading LeadDyno"),"chrome-extension:"!==window.location.protocol?P.Z.script("other.leadDyno"):(0,P.Z)("other.leadDyno").then((e=>{e=e.replace("//ajax","https://ajax").replace(/i = 0/g,"var i = 0").replace("var LeadDyno = LeadDyno","window.LeadDyno = window.LeadDyno"),(0,Z.Z)(e,!0)}))),innerIdentify(){(0,Y.Z)("EventTracking: Identifying LeadDyno");const e=(new Date).valueOf()/1e3+31536e5;chrome.runtime.sendMessage(chrome.runtime.id,{setCookie:{name:"LD_S",value:"true",expirationDate:e}}),B((()=>{try{window.LeadDyno.key="79c117dfa7f76ee73d761d2b40b1f2762d620830",window.LeadDyno.recordVisit(),window.LeadDyno.autoWatch()}catch(e){console.warn("EventTracking: Unable to initialize LeadDyno",e)}}))}});var me=__webpack_require__(9541),ge=__webpack_require__.n(me),ve=__webpack_require__(5561),ye=__webpack_require__(7189),be=__webpack_require__(4089);var _e=__webpack_require__(5376),we=__webpack_require__(7426),ke=__webpack_require__(5620);function xe(e,t){if(!e||!e.length)return t?"":{};let n,i=e.match(/(?:window\[(?:"|')ytInitialData(?:"|')\]|var ytInitialData) = ([^\n]+?); ?(?:<\/script>|\n)/),r=i&&i[1]?i[1]:"";try{n=i&&i[1]?JSON.parse(i[1]):null}catch(e){(0,ke.Z)("(vidiq) Failed to parse in getYtInitialData (1st method)",e)}if(!i||!i[1]||!n){i=e.match(/(?:window\["ytInitialData"\]|var ytInitialData) = JSON.parse\(([^\n]+)\) ?(?:<\/script>|\n)/),r=i&&i[1]?JSON.parse(i[1]):"";try{n=i&&i[1]?JSON.parse(JSON.parse(i[1])):null}catch(e){(0,ke.Z)("(vidiq) Failed to parse getYtInitialData (2nd method)",e)}}return t?r||"":n||{}}var Ee=__webpack_require__(7685);async function Ce(e){const t=`https://www.youtube.com/channel/${e}`,n=await fetch(t);if(!n.ok)return(0,ke.Z)("(vidiq) Unable to fetch channel page:",n.status,n.statusText),null;const i=await n.text();return i&&i.length?i:((0,ke.Z)("(vidiq) Unable to get channel page html"),null)}async function Se(e){const t=await(0,P.Z)("youtube.channel",{type:"channel",id:e});return t&&t.length?t:((0,ke.Z)("(vidiq) Unable to get channel page html"),null)}async function Te(e){const t="https://www.youtube.com"===window.location.origin?Ce:Se,n=await t(e),i={};if((0,Ee.Z)(n))try{const e=xe(n).header.c4TabbedHeaderRenderer,t=e.subscriberCountText;i.subCount=t.simpleText.split(" ")[0],i.subCount||(i.subCount=t.runs[0].text.split(" ")[0]),i.name=e.title}catch(e){return(0,ke.Z)("(vidiq) Could not get subscriber count from html",e),null}else{const e=new RegExp(/<span class="yt-subscription-button-subscriber-count-branded-horizontal [^>]+>(\S+)<\/span>/),t=we.Z.unleakStrings(n.match(e));if(!t||!t[1])return(0,ke.Z)("(vidiq) Could not get subscriber count from html",t),null;i.subCount=t[1]}return i}const De=new q({hasLoadedSnippet:!1,hasInitialized:!1,innerLoad(){(0,Y.Z)("EventTracking: Loading Pendo"),B((e=>{!function(t,n,i,r,a){var o,s,l,c,u;for((a=t[r]=t[r]||{})._q=[],s=0,l=(o=["initialize","identify","updateOptions","pageLoad"]).length;s<l;++s)!function(e){a[e]=a[e]||function(){a._q[e===o[0]?"unshift":"push"]([e].concat([].slice.call(arguments,0)))}}(o[s]);(c=n.createElement(i)).async=!0,c.src="https://cdn.pendo.io/agent/static/"+e+"/pendo.js",(u=n.getElementsByTagName(i)[0]).parentNode.insertBefore(c,u)}(window,document,"script","pendo")}),o.ZP.pendo.key),De.hasLoadedSnippet=!0},async innerIdentify(e){const t=(0,ve.h)().userTypeIs("enterprise"),n=(0,ve.h)().getUserType(),i=await(0,_e.Z)(),r=i&&await Te(i),a=r&&r.name;let o=r&&r.subCount;o&&(o=ge()().unformat(o.toLowerCase())),window.addEventListener("message",De.handleWindowMessage),B((e=>{window.pendo.initialize({visitor:{id:e.id,email:e.email,firstName:e.firstName,lastName:e.lastName,role:e.role,createdAt:e.createdAt,isEnterprise:e.isEnterprise,type:e.type,currentChannelId:e.channelId,currentChannelName:e.channelName,currentChannelSubscribers:e.channelSubscribers,chromeLang:e.chromeLang,showScorecardGuide:e.showScorecardGuide},account:{id:e.accountId,name:e.accountName}})}),{id:e.id,email:e.email,firstName:e.first_name,lastName:e.last_name,role:e.role,createdAt:e.created_at,accountId:e.account&&e.account.id,accountName:e.account&&e.account.name,isEnterprise:t,type:n,channelId:i,channelName:a,channelSubscribers:o,chromeLang:chrome.i18n.getUILanguage(),showScorecardGuide:!0}),De.hasInitialized=!0},guideUrlMatchesCurrent(e){const t=window.location.href;return e instanceof RegExp?e.test(t):e===t},handleWindowMessage(e){if(e.data.vidiqPendoGuideFinished){const t=JSON.parse(e.data.vidiqPendoGuideFinished);l.set({[`vidiq-seen-guide-${t.guideId}`]:!0}),(({guideName:e,guideId:t,completed:n,length:i,pollResponse:r})=>{ht("saw onboarding guide",{"guide name":e,"guide id":t,completed:n,length:i,location:(0,be.Z)(),via:lt()}),n===i&&ht("completed onboarding guide",{"guide name":e,"guide id":t,"found helpful":r||"no reply",location:(0,be.Z)(),via:lt()})})(t)}},async setup(e){e||(e=J.Z.getData().user),await De.shouldLoad(e)?(De.hasLoadedSnippet||De.load(),De.hasInitialized||De.identify(e),De.hasLoadedSnippet&&De.hasInitialized&&B((()=>{window.pendo&&(window.pendo.setGuidesDisabled(!1),window.pendo.startGuides(),window.pendo.startSendingEvents())}))):De.stopPendo()},async shouldLoad(e){if(ye.Z.getItem("force_load_pendo"))return!0;if(!e)return!1;const t=e.created_at&&new Date(e.created_at);if(!(t&&function(e){if(!e)return!1;const t=new Date;return(e&&t.getTime()-e.getTime())/36e5<=24}(t))||!H("en"))return!1;for(const e of Object.values(o.ZP.pendo.guides)){if(!(await l.get(`vidiq-seen-guide-${e.id}`)||!1)&&De.guideUrlMatchesCurrent(e.url))return!0}return!1},stopPendo(){B((()=>{window.pendo&&(window.pendo.setGuidesDisabled(!0),window.pendo.stopGuides(),window.pendo.stopSendingEvents())}))}}),Fe=De;var Me=__webpack_require__(9855);const Ae=new q({innerLoad(){(0,Y.Z)("EventTracking: Loading Segment"),B((()=>{!function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(t){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(t),e.push(n),e}};for(var t=0;t<e.methods.length;t++){var n=e.methods[t];e[n]=e.factory(n)}e.load=function(t,n){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),e._loadOptions=n},e.SNIPPET_VERSION="4.1.0",e.load("I3Y9d3Z4dr70zJ7ID4DMgRoe17BLNZU1"),e.page()}}()}))},innerIdentify(e){B((e=>{const t={"account id":e[1]};t[`${e[2]} extension version`]=e[3],window.analytics.identify(e[0],t)}),[e.id,e.account&&e.account.id,(0,U.F)().browser,(0,U.F)().version]),(0,Y.Z)("EventTracking: Identifying Segment")},async innerTrack(e,t){(0,Y.Z)("Event Tracking: Tracking Segment",e,t),B((e=>{window.analytics.track(e[0],e[1])}),[e,t])}}),Ie=Ae;var Oe,Ne,Pe,Re,je=__webpack_require__(6486),Le=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},qe=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},Ze=function(e,t){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Be=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},Ve=function(e,t,n){var i;return function(r){t.value>=0&&(r||n)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},ze=-1,Ue=function(){return"hidden"===document.visibilityState?0:1/0},We=function(){Ze((function(e){var t=e.timeStamp;ze=t}),!0)},He=function(){return ze<0&&(ze=Ue(),We(),Be((function(){setTimeout((function(){ze=Ue(),We()}),0)}))),{get firstHiddenTime(){return ze}}},Ye=function(e,t){var n,i=He(),r=Le("FCP"),a=function(e){"first-contentful-paint"===e.name&&(s&&s.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=e.startTime,r.entries.push(e),n(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],s=o?null:qe("paint",a);(o||s)&&(n=Ve(e,r,t),o&&a(o),Be((function(i){r=Le("FCP"),n=Ve(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,n(!0)}))}))})))},$e={passive:!0,capture:!0},Ke=new Date,Ge=function(e,t){Oe||(Oe=t,Ne=e,Pe=new Date,Je(removeEventListener),Xe())},Xe=function(){if(Ne>=0&&Ne<Pe-Ke){var e={entryType:"first-input",name:Oe.type,target:Oe.target,cancelable:Oe.cancelable,startTime:Oe.timeStamp,processingStart:Oe.timeStamp+Ne};Re.forEach((function(t){t(e)})),Re=[]}},Qe=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){Ge(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,$e),removeEventListener("pointercancel",i,$e)};addEventListener("pointerup",n,$e),addEventListener("pointercancel",i,$e)}(t,e):Ge(t,e)}},Je=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Qe,$e)}))},et={};let tt;!function(e){e.PIN_EXTENSION="extension-pin-extension-popup",e.VPH="extension-vph-e04",e.TIKTOK="tiktok-extension",e.CREATORS_FOR_PEACE="creators-for-peace",e.STUDIO_DASHBOARD_VIDEO="studio-dashboard-video",e.TIKTOK_WATCH_EVENTS="extension-tiktok-watch-events",e.NEW_CHECKLIST="new-checklist",e.DESCRIPTION_RECOMMENDATIONS="description-recommendations",e.TIKTOK_STARTED_WATCHING_LOGIC="tiktok-started-watching-logic",e.CUSTOM_TITLE_GENERATOR_MODEL="custom-title-generator-model",e.CUSTOM_DESCRIPTION_GENERATOR_MODEL="custom-description-generator-model",e.WEB_VITALS="extension-web-vitals",e.TIKTOK_HASHTAG_SCRAPING="extension-tiktok-hashtag-scraping",e.TIKTOK_BATCHED_MUSIC_SCRAPING="tiktok-batched-music-scraping",e.TIKTOK_FETCH_OVERRIDE="fetch-override-tiktok",e.TIKTOK_GRID_PAGES_MUSIC_SCRAPING="tiktok-grid-pages-music-scraping"}(tt||(tt={}));var nt=__webpack_require__(2265);const it=(0,je.debounce)(((e,t)=>{pt("web-vitals",{via:lt(),host:window.location.host,pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,...e}),t()}),1e3),rt=new q({async innerLoad(){if(null===await R.getExperimentValue(tt.WEB_VITALS)&&!nt.N.isTest)return;let e={};const t=t=>({value:n})=>{e[t]=n,it(e,(()=>{e={}}))};Ye(t("fcp")),function(e,t){var n,i=He(),r=Le("FID"),a=function(e){e.startTime<i.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),n(!0))},o=qe("first-input",a);n=Ve(e,r,t),o&&Ze((function(){o.takeRecords().map(a),o.disconnect()}),!0),o&&Be((function(){var i;r=Le("FID"),n=Ve(e,r,t),Re=[],Ne=-1,Oe=null,Je(addEventListener),i=a,Re.push(i),Xe()}))}(t("fid")),function(e,t){var n,i=He(),r=Le("LCP"),a=function(e){var t=e.startTime;t<i.firstHiddenTime&&(r.value=t,r.entries.push(e),n())},o=qe("largest-contentful-paint",a);if(o){n=Ve(e,r,t);var s=function(){et[r.id]||(o.takeRecords().map(a),o.disconnect(),et[r.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),Ze(s,!0),Be((function(i){r=Le("LCP"),n=Ve(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,et[r.id]=!0,n(!0)}))}))}))}}(t("lcp"))},innerIdentify(){},innerTrack(){}});function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ot=[pe,he,ue,fe,X,Ie,z];class st{constructor(){at(this,"isDryRun",(()=>!o.ZP.production&&window.location.href.match(/SHOW_OPT_IN/))),at(this,"shouldResetFlags",(()=>!o.ZP.production&&window.location.href.match(/RESET_OPT_IN/))),at(this,"resetFlags",(async()=>{this._reset||(await l.set({asked_to_track:!1}),await d.set("firefox-allow-tracking",!1),this._reset=!0)})),at(this,"checkUserPermission",(async()=>this.isDryRun()?!!this._debugOptIn||(this._debugOptIn=!0,!1):!(0,ee.Z)()||d.get("firefox-allow-tracking"))),at(this,"setup",(async e=>{if(this._setup)return;this.shouldResetFlags()&&await this.resetFlags();const{onRequestTracking:t,onTrackingEnabled:n,onTrackingDisabled:i,authed:r,noPageViewWatch:a}=e||{};t&&(this.onRequestTracking=t),n&&(this.onTrackingEnabled=n),i&&(this.onTrackingDisabled=i);const o=await this.checkUserPermission();if(this.enabled=o,!o){!await this.requestTracking(r)&&this.onTrackingDisabled&&this.onTrackingDisabled()}this.enabled&&(this.onTrackingEnabled&&this.onTrackingEnabled(),(0,Y.Z)("EventTracking.setup"),(0,ee.Z)()||this.loadTrackers(),rt.load(),this.handleInstallEvent(),a||this.pageViewWatch(),this._setup=!0)})),at(this,"loadTrackers",(()=>{ot.forEach((e=>e.load()))})),at(this,"requestTracking",(async e=>{if(!this.isDryRun()){if(!(0,ee.Z)())return!1;if(e){if(await l.get("asked_to_track"))return!1}l.set({asked_to_track:!0})}return this.onRequestTracking&&this.onRequestTracking(),!0})),at(this,"identify",(e=>{this.enabled&&!(0,ee.Z)()&&(e||(e="loggedoutuser"),(0,Y.Z)("EventTracking.identify >",e),pe.identify(e),he.identify(),ue.identify(),fe.identify(),"loggedoutuser"!==e&&Me.Z.configure({payload:{person:{id:window.btoa(e),email:e}}}))})),at(this,"onUser",(async e=>{this.enabled&&!(0,ee.Z)()&&(this._userId||(this._userId=!0,X.identify(e),Ie.identify(e),Fe.setup(e)))})),at(this,"handleInstallEvent",(()=>{this.enabled&&chrome.storage.local.get(["sendInstalledEvent","installedOn"],(e=>{!0===e.sendInstalledEvent&&(chrome.storage.local.set({sendInstalledEvent:!1}),this.trackAmplitudeUnauthed("installed extension",{"install date":e.installedOn,via:lt()}),this.trackFacebookConversion("track","installedextension"),this.trackGoogleAdWordsConversion("UFNGCM3vt6sBEOqu6t0D"),this.track("installedextension"))}))})),at(this,"pageViewWatch",(()=>{this._href=window.location.href,this.trackPageView(),setInterval((()=>{const e=window.location.href;e!==this._href&&(Fe.setup(),this._href=e,this.trackPageView())}),500)})),at(this,"trackPageView",(()=>{(0,Y.Z)("EventTracking.trackPageView > ",window.location.href),se({host:window.location.host,path:window.location.pathname,search:window.location.search,hash:window.location.hash,title:document.title})})),at(this,"track",((e,t)=>{if(!this.enabled)return;(0,Y.Z)("EventTracking.track > [Chrome Extension] %s",e,t||"");const n="[Chrome Extension] "+e;re({message:n,data:t},(()=>{pe.track(n,t)}))})),at(this,"trackAmplitude",((e,t,n)=>{this.enabled&&ie({message:e,...X.adapt(t),test:n},(()=>{X.track(e,t,n)}))})),at(this,"trackAmplitudeUnauthed",((e,t,n)=>{this.enabled&&ie({message:e,...X.adapt(t),test:n},(()=>{X.innerTrack(e,t,n)}))})),at(this,"trackGoogleAdWordsConversion",(e=>{this.enabled&&ae({label:e},(()=>{he.track(e)}))})),at(this,"trackFacebookConversion",((...e)=>{this.enabled&&oe({args:e},(()=>{ue.track(...e)}))}))}}const lt=()=>X.via(),ct=new st,ut=ct,{track:dt,trackAmplitude:ht,trackAmplitudeUnauthed:pt}=ct;function ft(e){chrome.tabs&&chrome.tabs.query({},(t=>{for(let n=0;n<t.length;n+=1)chrome.tabs.sendMessage(t[n].id,e)}))}const mt=e=>/^https?:\/\/(app|api)\.vidiq\.com/.test(e),gt={sessionTokenKey:"session_token",sessionToken:null,async setup(){return r().ajaxSetup({beforeSend:(e,t)=>{this.addSessionTokenToAjaxHeaders(e,t),this.addVersionToAjaxHeaders(e,t)}}),this.bindRequireMFA(),this.getSessionToken()},getSessionToken(){return new Promise((e=>{chrome.storage.local.get(this.sessionTokenKey,(t=>{this.sessionToken=t[this.sessionTokenKey],e(this.sessionToken)}))}))},deleteSessionToken(){this.sessionToken=null,chrome.storage.local.remove(this.sessionTokenKey)},saveSessionToken(e){return new Promise((t=>{this.sessionToken=e;const n={};n[this.sessionTokenKey]=e,chrome.storage.local.set(n,t)}))},reportSessionTokenToOtherProperties(){this.getSessionToken().then((e=>{const t={action:o.ZP.session.action,payload:e};let n;try{n=document.getElementById(o.ZP.session.app.iframeId).contentWindow}catch(e){}n&&n.postMessage(JSON.stringify(t),o.ZP.session.app.domain)}))},bindRequireMFA(){r().ajaxPrefilter(((e,t,n)=>{mt(e.url)&&n.complete((e=>{this.detectRequireMFA(e,(()=>{r()(window).trigger("vidiq:MFA")}))}))}))},detectRequireMFA(e,t){403===e.status&&e.responseJSON&&"mfa_required"===e.responseJSON.error&&t()},addSessionTokenToAjaxHeaders(e,t){const n=this.sessionToken;mt(t.url)&&n&&e.setRequestHeader("Authorization","Bearer "+n)},addVersionToAjaxHeaders(e,t){mt(t.url)&&e.setRequestHeader("X-Vidiq-Client",(0,U.F)().clientHeader)}},vt=gt;var yt=__webpack_require__(6807);function bt(e){ut.identify(e,{isPremium:(0,ve.h)().userTypeIs("enterprise"),userType:(0,ve.h)().getUserType()})}r()(window).on("vidiq:user",((e,t)=>async function(e){ft({type:"broadcast",recipient:"extension",event:"vidiq:user",data:[e]}),ut.onUser(e),a.Z.update({user:e})}(t))),r()(window).on("vidiq:session",((e,...t)=>function(e,t){if(ft({type:"broadcast",recipient:"extension",event:"vidiq:session",data:[e,t]}),"unauthenticated"!==e.state&&e.session_token||(ut.identify(),a.Z.update({authed:!1,channels:[]}),dt("User not logged in")),"authenticated"===e.state&&e.session_token){vt.saveSessionToken(e.session_token),vt.reportSessionTokenToOtherProperties();let n=e.pro;const i=e.pro||e.boost_lite||e.pro_plus||e.boost_plus||e.boost_coach||e.premium,o=Object.keys(e).some((t=>t.match(/_affiliate$/)&&e[t]));!i&&o&&(n=!0),a.Z.update({authed:!0,session_token:e.session_token,channels:e.channels,basic:e.basic,pro:!!n,boost_lite:e.boost_lite,max:e.max,boost:e.pro_plus,boost_plus:e.boost_plus,boost_coach:e.boost_coach,enterprise:e.premium,optim:e.video_optimizer,confirmEmail:!e.email_confirmed}),(t=t||J.Z.getData().email)?(bt(t),r()(window).trigger("vidiq:ready")):yt.Z.getUser().then((e=>{bt(e.email),r()(window).trigger("vidiq:ready")}))}}(...t))),r()(window).on("vidiq:session:logout",(function(){ft({type:"broadcast",recipient:"extension",event:"vidiq:session:logout"}),vt.deleteSessionToken(),a.Z.update({authed:!1,channels:[]})})),r()(window).on("vidiq:session:fail",((e,t)=>function(e){[403,401].indexOf(e)>=0&&r()(window).trigger("vidiq:session:logout")}(t))),r()(window).on("vidiq:register",((e,t)=>function(e){e.error||(dt("New sign up",{email:e.current_user.email}),r()(window).trigger("vidiq:user",e.current_user),a.Z.update({confirmEmail:!0}),ut.trackGoogleAdWordsConversion("RvgICPutlmsQ6q7q3QM"),ut.trackFacebookConversion("track","CompleteRegistration"),z.push({event:"signup",email:e.current_user.email}))}(t))),r()(window).on("vidiq:resetAb",(()=>async function(){ft({type:"broadcast",recipient:"extension",event:"vidiq:resetAb"}),R.reset(),await R.fetchExperiments()}()));var _t=__webpack_require__(381),wt=__webpack_require__.n(_t),kt=__webpack_require__(7462);const xt=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}};var Et=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const Ct=xt((function(e){return Et.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var St=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Tt=Math.abs,Dt=String.fromCharCode,Ft=Object.assign;function Mt(e){return e.trim()}function At(e,t,n){return e.replace(t,n)}function It(e,t){return e.indexOf(t)}function Ot(e,t){return 0|e.charCodeAt(t)}function Nt(e,t,n){return e.slice(t,n)}function Pt(e){return e.length}function Rt(e){return e.length}function jt(e,t){return t.push(e),e}var Lt=1,qt=1,Zt=0,Bt=0,Vt=0,zt="";function Ut(e,t,n,i,r,a,o){return{value:e,root:t,parent:n,type:i,props:r,children:a,line:Lt,column:qt,length:o,return:""}}function Wt(e,t){return Ft(Ut("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ht(){return Vt=Bt>0?Ot(zt,--Bt):0,qt--,10===Vt&&(qt=1,Lt--),Vt}function Yt(){return Vt=Bt<Zt?Ot(zt,Bt++):0,qt++,10===Vt&&(qt=1,Lt++),Vt}function $t(){return Ot(zt,Bt)}function Kt(){return Bt}function Gt(e,t){return Nt(zt,e,t)}function Xt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qt(e){return Lt=qt=1,Zt=Pt(zt=e),Bt=0,[]}function Jt(e){return zt="",e}function en(e){return Mt(Gt(Bt-1,rn(91===e?e+2:40===e?e+1:e)))}function tn(e){for(;(Vt=$t())&&Vt<33;)Yt();return Xt(e)>2||Xt(Vt)>3?"":" "}function nn(e,t){for(;--t&&Yt()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return Gt(e,Kt()+(t<6&&32==$t()&&32==Yt()))}function rn(e){for(;Yt();)switch(Vt){case e:return Bt;case 34:case 39:34!==e&&39!==e&&rn(Vt);break;case 40:41===e&&rn(e);break;case 92:Yt()}return Bt}function an(e,t){for(;Yt()&&e+Vt!==57&&(e+Vt!==84||47!==$t()););return"/*"+Gt(t,Bt-1)+"*"+Dt(47===e?e:Yt())}function on(e){for(;!Xt($t());)Yt();return Gt(e,Bt)}var sn="-ms-",ln="-moz-",cn="-webkit-",un="comm",dn="rule",hn="decl",pn="@keyframes";function fn(e,t){for(var n="",i=Rt(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function mn(e,t,n,i){switch(e.type){case"@import":case hn:return e.return=e.return||e.value;case un:return"";case pn:return e.return=e.value+"{"+fn(e.children,i)+"}";case dn:e.value=e.props.join(",")}return Pt(n=fn(e.children,i))?e.return=e.value+"{"+n+"}":""}function gn(e,t){switch(function(e,t){return(((t<<2^Ot(e,0))<<2^Ot(e,1))<<2^Ot(e,2))<<2^Ot(e,3)}(e,t)){case 5103:return cn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return cn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return cn+e+ln+e+sn+e+e;case 6828:case 4268:return cn+e+sn+e+e;case 6165:return cn+e+sn+"flex-"+e+e;case 5187:return cn+e+At(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return cn+e+sn+"flex-item-"+At(e,/flex-|-self/,"")+e;case 4675:return cn+e+sn+"flex-line-pack"+At(e,/align-content|flex-|-self/,"")+e;case 5548:return cn+e+sn+At(e,"shrink","negative")+e;case 5292:return cn+e+sn+At(e,"basis","preferred-size")+e;case 6060:return cn+"box-"+At(e,"-grow","")+cn+e+sn+At(e,"grow","positive")+e;case 4554:return cn+At(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return At(At(At(e,/(zoom-|grab)/,cn+"$1"),/(image-set)/,cn+"$1"),e,"")+e;case 5495:case 3959:return At(e,/(image-set\([^]*)/,cn+"$1$`$1");case 4968:return At(At(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+cn+e+e;case 4095:case 3583:case 4068:case 2532:return At(e,/(.+)-inline(.+)/,cn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pt(e)-1-t>6)switch(Ot(e,t+1)){case 109:if(45!==Ot(e,t+4))break;case 102:return At(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+ln+(108==Ot(e,t+3)?"$3":"$2-$3"))+e;case 115:return~It(e,"stretch")?gn(At(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ot(e,t+1))break;case 6444:switch(Ot(e,Pt(e)-3-(~It(e,"!important")&&10))){case 107:return At(e,":",":"+cn)+e;case 101:return At(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+cn+(45===Ot(e,14)?"inline-":"")+"box$3$1"+cn+"$2$3$1"+sn+"$2box$3")+e}break;case 5936:switch(Ot(e,t+11)){case 114:return cn+e+sn+At(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return cn+e+sn+At(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return cn+e+sn+At(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return cn+e+sn+e+e}return e}function vn(e){return Jt(yn("",null,null,null,[""],e=Qt(e),0,[0],e))}function yn(e,t,n,i,r,a,o,s,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",_=r,w=a,k=i,x=b;g;)switch(f=y,y=Yt()){case 40:if(108!=f&&58==x.charCodeAt(d-1)){-1!=It(x+=At(en(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:x+=en(y);break;case 9:case 10:case 13:case 32:x+=tn(f);break;case 92:x+=nn(Kt()-1,7);continue;case 47:switch($t()){case 42:case 47:jt(_n(an(Yt(),Kt()),t,n),l);break;default:x+="/"}break;case 123*m:s[c++]=Pt(x)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:p>0&&Pt(x)-d&&jt(p>32?wn(x+";",i,n,d-1):wn(At(x," ","")+";",i,n,d-2),l);break;case 59:x+=";";default:if(jt(k=bn(x,t,n,c,u,r,s,b,_=[],w=[],d),a),123===y)if(0===u)yn(x,t,k,k,_,a,d,s,w);else switch(h){case 100:case 109:case 115:yn(e,k,k,i&&jt(bn(e,k,k,0,0,r,s,b,r,_=[],d),w),r,w,d,s,i?_:w);break;default:yn(x,k,k,k,[""],w,0,s,w)}}c=u=p=0,m=v=1,b=x="",d=o;break;case 58:d=1+Pt(x),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==Ht())continue;switch(x+=Dt(y),y*m){case 38:v=u>0?1:(x+="\f",-1);break;case 44:s[c++]=(Pt(x)-1)*v,v=1;break;case 64:45===$t()&&(x+=en(Yt())),h=$t(),u=d=Pt(b=x+=on(Kt())),y++;break;case 45:45===f&&2==Pt(x)&&(m=0)}}return a}function bn(e,t,n,i,r,a,o,s,l,c,u){for(var d=r-1,h=0===r?a:[""],p=Rt(h),f=0,m=0,g=0;f<i;++f)for(var v=0,y=Nt(e,d+1,d=Tt(m=o[f])),b=e;v<p;++v)(b=Mt(m>0?h[v]+" "+y:At(y,/&\f/g,h[v])))&&(l[g++]=b);return Ut(e,t,n,0===r?dn:s,l,c,u)}function _n(e,t,n){return Ut(e,t,n,un,Dt(Vt),Nt(e,2,-2),0)}function wn(e,t,n,i){return Ut(e,t,n,hn,Nt(e,0,i),Nt(e,i+1,-1),i)}var kn=function(e,t,n){for(var i=0,r=0;i=r,r=$t(),38===i&&12===r&&(t[n]=1),!Xt(r);)Yt();return Gt(e,Bt)},xn=function(e,t){return Jt(function(e,t){var n=-1,i=44;do{switch(Xt(i)){case 0:38===i&&12===$t()&&(t[n]=1),e[n]+=kn(Bt-1,t,n);break;case 2:e[n]+=en(i);break;case 4:if(44===i){e[++n]=58===$t()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Dt(i)}}while(i=Yt());return e}(Qt(e),t))},En=new WeakMap,Cn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||En.get(n))&&!i){En.set(e,!0);for(var r=[],a=xn(t,r),o=n.props,s=0,l=0;s<a.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=r[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},Sn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Tn=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case hn:e.return=gn(e.value,e.length);break;case pn:return fn([Wt(e,{value:At(e.value,"@","@"+cn)})],i);case dn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fn([Wt(e,{props:[At(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return fn([Wt(e,{props:[At(t,/:(plac\w+)/,":-webkit-input-$1")]}),Wt(e,{props:[At(t,/:(plac\w+)/,":-moz-$1")]}),Wt(e,{props:[At(t,/:(plac\w+)/,sn+"input-$1")]})],i)}return""}))}}];const Dn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||Tn;var r,a,o={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l,c,u,d,h=[mn,(d=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],p=(c=[Cn,Sn].concat(i,h),u=Rt(c),function(e,t,n,i){for(var r="",a=0;a<u;a++)r+=c[a](e,t,n,i)||"";return r});a=function(e,t,n,i){l=n,function(e){fn(vn(e),p)}(e?e+"{"+t.styles+"}":t.styles),i&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new St({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(s),f};const Fn=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};const Mn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var An=/[A-Z]|^ms/g,In=/_EMO_([^_]+?)_([^]*?)_EMO_/g,On=function(e){return 45===e.charCodeAt(1)},Nn=function(e){return null!=e&&"boolean"!=typeof e},Pn=xt((function(e){return On(e)?e:e.replace(An,"-$&").toLowerCase()})),Rn=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(In,(function(e,t,n){return Ln={name:t,styles:n,next:Ln},t}))}return 1===Mn[e]||On(e)||"number"!=typeof t||0===t?t:t+"px"};function jn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ln={name:n.name,styles:n.styles,next:Ln},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)Ln={name:i.name,styles:i.styles,next:Ln},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=jn(e,t,n[r])+";";else for(var a in n){var o=n[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?i+=a+"{"+t[o]+"}":Nn(o)&&(i+=Pn(a)+":"+Rn(a,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=jn(e,t,o);switch(a){case"animation":case"animationName":i+=Pn(a)+":"+s+";";break;default:i+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)Nn(o[l])&&(i+=Pn(a)+":"+Rn(a,o[l])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=Ln,a=n(e);return Ln=r,jn(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Ln,qn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Zn=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";Ln=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,r+=jn(n,t,a)):r+=a[0];for(var o=1;o<e.length;o++)r+=jn(n,t,e[o]),i&&(r+=a[o]);qn.lastIndex=0;for(var s,l="";null!==(s=qn.exec(r));)l+="-"+s[1];return{name:Fn(r)+l,styles:r,next:Ln}},Bn=(0,h.createContext)("undefined"!=typeof HTMLElement?Dn({key:"css"}):null);Bn.Provider;var Vn=function(e){return(0,h.forwardRef)((function(t,n){var i=(0,h.useContext)(Bn);return e(t,i,n)}))},zn=(0,h.createContext)({});p.useInsertionEffect&&p.useInsertionEffect;function Un(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}var Wn=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},Hn=Ct,Yn=function(e){return"theme"!==e},$n=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Hn:Yn},Kn=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!=typeof i&&n&&(i=e.__emotion_forwardProp),i},Gn=p.useInsertionEffect?p.useInsertionEffect:function(e){e()};var Xn=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;Wn(t,n,i);var r;r=function(){return function(e,t,n){Wn(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)},Gn(r);return null};const Qn=function e(t,n){var i,r,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(i=n.label,r=n.target);var s=Kn(t,n,a),l=s||$n(o),c=!l("as");return function(){var u=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==u[0]||void 0===u[0].raw)d.push.apply(d,u);else{0,d.push(u[0][0]);for(var p=u.length,f=1;f<p;f++)d.push(u[f],u[0][f])}var m=Vn((function(e,t,n){var i=c&&e.as||o,a="",u=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=(0,h.useContext)(zn)}"string"==typeof e.className?a=Un(t.registered,u,e.className):null!=e.className&&(a=e.className+" ");var m=Zn(d.concat(u),t.registered,p);a+=t.key+"-"+m.name,void 0!==r&&(a+=" "+r);var g=c&&void 0===s?$n(i):l,v={};for(var y in e)c&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,v.ref=n,(0,h.createElement)(h.Fragment,null,(0,h.createElement)(Xn,{cache:t,serialized:m,isStringTag:"string"==typeof i}),(0,h.createElement)(i,v))}));return m.displayName=void 0!==i?i:"Styled("+("string"==typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+r}}),m.withComponent=function(t,i){return e(t,(0,kt.Z)({},n,i,{shouldForwardProp:Kn(m,i,!0)})).apply(void 0,d)},m}};function Jn(){return Jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jn.apply(this,arguments)}function ei(e){return h.createElement("svg",Jn({xmlns:"http://www.w3.org/2000/svg",width:"120",height:"41",viewBox:"0 0 120 41",fill:"none"},e),h.createElement("path",{fill:"#121521",d:"M0 12.835h8.998l2.459 8.326c.64 2.207 1.405 5.219 1.405 5.219h.086s.808-3.015 1.444-5.219l2.46-8.326h8.755l-7.443 21.662H7.442L0 12.835zm27.03 0l9.126-.04v21.702H27.03V12.835z"}),h.createElement("path",{fill:"#fff",d:"M69.411.427h9.354v34.248h-9.354V.427z"}),h.createElement("path",{fill:"#121521",d:"M27.146 1.025l10.627 4.501-10.627 4.5v-9z"}),h.createElement("path",{fill:"#fff",d:"M120 34.948l-6.658-6.652c1.454-2.763 2.05-6.337 2.05-10.662C115.392 5.716 108.937 0 97.932 0 86.496 0 80.508 5.716 80.508 17.634c0 12.28 5.509 17.637 17.424 17.637 4.251 0 7.568-.639 10.119-1.876l6.868 6.874 5.081-5.32zM89.656 17.637c0-5.428 3.191-8.51 8.276-8.51 5.084 0 8.327 3.085 8.275 8.51-.055 5.857-3.262 8.445-8.275 8.513-5.119.07-8.276-3.073-8.276-8.513z"}),h.createElement("path",{fill:"#121521",d:"M56.734.427V14.64h-.142c-1.537-1.842-4.03-2.538-7.193-2.538-7.153 0-11.21 4.387-11.21 11.7 0 7.475 3.513 11.607 11.373 11.607 3.003 0 6.237-.921 7.5-2.858h.093v2.124h7.97V.427h-8.391zm-5.441 27.709c-2.358.037-3.815-1.587-3.815-4.378 0-2.79 1.472-4.365 3.815-4.365 2.342 0 3.836 1.587 3.812 4.38-.028 2.988-1.504 4.33-3.812 4.363z"}))}function ti(){return ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ti.apply(this,arguments)}function ni(e){return h.createElement("svg",ti({xmlns:"http://www.w3.org/2000/svg",width:"22",height:"15",viewBox:"0 0 22 15",fill:"none"},e),h.createElement("path",{fill:"currentColor",d:"M9.457.87a2 2 0 013.086 0l8.748 10.607c1.076 1.305.148 3.273-1.543 3.273H2.252c-1.691 0-2.62-1.968-1.543-3.273L9.457.871z"}))}function ii(e){const[t,n]=(0,h.useState)(null);return(0,h.useEffect)((()=>{!async function(){var t;const i=await R.getExperimentValue(e);n(Boolean(i&&"variant"===(null===(t=i.variant)||void 0===t?void 0:t.key)))}()}),[e]),{isVariant:t}}const ri=e=>{const[t,n]=(0,h.useState)(!1);(0,h.useEffect)((()=>{(async()=>{const t=await l.get(e);n(!t)})()}),[e]);return{shouldDisplay:t,onDismiss:()=>{n(!1),l.set({[e]:!0})}}};var ai=__webpack_require__(6153);const oi=Qn("div",{target:"eqvmjqz0"})((({flow:e="row",align:t="center",justify:n="center",margin:i,width:r,padding:a})=>({display:"flex",flexFlow:e,alignItems:t,justifyContent:n,...i&&{margin:i},...r&&{width:r},...a&&{padding:a}})),"");const si=Qn(oi,{target:"e154p2h94"})({name:"154w5w3",styles:"z-index:999999;position:absolute;right:40px;top:18px;background:linear-gradient(\n      114.94deg,\n      rgba(9, 121, 255, 0.6) 9.66%,\n      rgba(90, 6, 203, 0.6) 87.27%\n    ),#ffffff;box-shadow:0px 20px 30px rgba(0, 0, 0, 0.16);border-radius:8px;padding:30px 4px 20px 20px;width:350px;max-width:350px;box-sizing:border-box"}),li=Qn("div",{target:"e154p2h93"})({name:"klxulu",styles:"font-size:12px;line-height:20px;font-weight:700;font-family:Arial;color:#fff;margin:15px 0;svg{margin:0 4px;position:relative;top:2px;}"}),ci=Qn("div",{target:"e154p2h92"})({name:"j47m55",styles:"position:absolute;z-index:999999;color:rgb(142 143 241);top:8px;right:40px;margin-right:56px"}),ui=Qn("div",{target:"e154p2h91"})({name:"rc3vrc",styles:"font-size:11px;font-weight:600;line-height:17px;font-family:Arial;color:#fff;background:transparent;padding:4px 16px;border:1px solid #fff;border-radius:100px;box-sizing:border-box;cursor:pointer;transition:color 0.3s,background 0.3s;&:hover{color:rgba(90, 6, 203, 0.6);background:#fff;}"}),di=Qn("img",{target:"e154p2h90"})({name:"14o4u55",styles:"width:310px;margin-bottom:20px"}),hi=()=>{const{isVariant:e}=ii(tt.PIN_EXTENSION),{shouldDisplay:t,onDismiss:n}=ri("vidiq-dismissed-pin-extension-popup");if(!t||!e||(0,ee.Z)())return null;const i=chrome.runtime.getURL("images/pin-extension-infographic.svg");return h.createElement(h.Fragment,null,h.createElement(ci,null,h.createElement(ni,null)),h.createElement(si,{flow:"column",align:"flex-start"},h.createElement(ei,null),h.createElement(li,{color:"fff"},(0,ai.Z)("vidiqVisionInstalled"),h.createElement("br",null),(0,ai.Z)("pinExtensionInstructions")),h.createElement(di,{src:i}),h.createElement(ui,{onClick:n},(0,ai.Z)("dismissTitle"))))};function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var vi="function"==typeof Symbol&&Symbol.observable||"@@observable",yi=function(){return Math.random().toString(36).substring(7).split("").join(".")},bi={INIT:"@@redux/INIT"+yi(),REPLACE:"@@redux/REPLACE"+yi(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yi()}};function _i(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function wi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var ki=__webpack_require__(4500),xi=function(e){return"@@redux-saga/"+e},Ei=xi("CANCEL_PROMISE"),Ci=xi("CHANNEL_END"),Si=xi("IO"),Ti=xi("MATCH"),Di=xi("MULTICAST"),Fi=xi("SAGA_ACTION"),Mi=xi("SELF_CANCELLATION"),Ai=xi("TASK"),Ii=xi("TASK_CANCEL"),Oi=xi("TERMINATE"),Ni=xi("LOCATION");function Pi(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var Ri=function(e){return null==e},ji=function(e){return null!=e},Li=function(e){return"function"==typeof e},qi=function(e){return"string"==typeof e},Zi=Array.isArray,Bi=function(e){return e&&Li(e.then)},Vi=function(e){return e&&Li(e.next)&&Li(e.throw)},zi=function e(t){return t&&(qi(t)||Hi(t)||Li(t)||Zi(t)&&t.every(e))},Ui=function(e){return e&&Li(e.take)&&Li(e.close)},Wi=function(e){return Li(e)&&e.hasOwnProperty("toString")},Hi=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var Yi=function(e){return function(){return e}},$i=Yi(!0),Ki=function(){};var Gi=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Xi=function(e,t){(0,kt.Z)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function Qi(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var Ji=function(e){throw e},er=function(e){return{value:e,done:!0}};function tr(e,t,n){void 0===t&&(t=Ji),void 0===n&&(n="iterator");var i={meta:{name:n},next:e,throw:t,return:er,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(i[Symbol.iterator]=function(){return i}),i}function nr(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var ir=function(e){return Array.apply(null,new Array(e))},rr=function(e){return function(t){return e(Object.defineProperty(t,Fi,{value:!0}))}},ar=function(e){return e===Oi},or=function(e){return e===Ii},sr=function(e){return ar(e)||or(e)};function lr(e,t){var n=Object.keys(e),i=n.length;var r,a=0,o=Zi(e)?ir(i):{},s={};return n.forEach((function(e){var n=function(n,s){r||(s||sr(n)?(t.cancel(),t(n,s)):(o[e]=n,++a===i&&(r=!0,t(o))))};n.cancel=Ki,s[e]=n})),t.cancel=function(){r||(r=!0,n.forEach((function(e){return s[e].cancel()})))},s}function cr(e){return{name:e.name||"anonymous",location:ur(e)}}function ur(e){return e[Ni]}function dr(e,t){void 0===e&&(e=10);var n=new Array(e),i=0,r=0,a=0,o=function(t){n[r]=t,r=(r+1)%e,i++},s=function(){if(0!=i){var t=n[a];return n[a]=null,i--,a=(a+1)%e,t}},l=function(){for(var e=[];i;)e.push(s());return e};return{isEmpty:function(){return 0==i},put:function(s){var c;if(i<e)o(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[r]=s,a=r=(r+1)%e;break;case 4:c=2*e,n=l(),i=n.length,r=n.length,a=0,n.length=c,e=c,o(s)}},take:s,flush:l}}var hr=function(e){return dr(e,4)},pr="TAKE",fr="PUT",mr="ALL",gr="CALL",vr="FORK",yr="CANCEL",br="SELECT",_r=function(e,t){var n;return(n={})[Si]=!0,n.combinator=!1,n.type=e,n.payload=t,n},wr=function(e){return _r(vr,(0,kt.Z)({},e.payload,{detached:!0}))};function kr(e,t){return void 0===e&&(e="*"),zi(e)?_r(pr,{pattern:e}):Ui(n=e)&&n[Di]&&ji(t)&&zi(t)?_r(pr,{channel:e,pattern:t}):Ui(e)?_r(pr,{channel:e}):void 0;var n}function xr(e,t){return Ri(t)&&(t=e,e=void 0),_r(fr,{channel:e,action:t})}function Er(e,t){var n,i=null;return Li(e)?n=e:(Zi(e)?(i=e[0],n=e[1]):(i=e.context,n=e.fn),i&&qi(n)&&Li(i[n])&&(n=i[n])),{context:i,fn:n,args:t}}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return _r(gr,Er(e,n))}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return _r(vr,Er(e,n))}function Tr(e){return void 0===e&&(e=Mi),_r(yr,e)}function Dr(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}const Fr=Dr;var Mr=[],Ar=0;function Ir(e){try{Pr(),e()}finally{Rr()}}function Or(e){Mr.push(e),Ar||(Pr(),jr())}function Nr(e){try{return Pr(),e()}finally{jr()}}function Pr(){Ar++}function Rr(){Ar--}function jr(){var e;for(Rr();!Ar&&void 0!==(e=Mr.shift());)Ir(e)}var Lr=function(e){return function(t){return e.some((function(e){return zr(e)(t)}))}},qr=function(e){return function(t){return e(t)}},Zr=function(e){return function(t){return t.type===String(e)}},Br=function(e){return function(t){return t.type===e}},Vr=function(){return $i};function zr(e){var t="*"===e?Vr:qi(e)?Zr:Zi(e)?Lr:Wi(e)?Zr:Li(e)?qr:Hi(e)?Br:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Ur={type:Ci},Wr=function(e){return e&&e.type===Ci};function Hr(e){void 0===e&&(e=hr());var t=!1,n=[];return{take:function(i){t&&e.isEmpty()?i(Ur):e.isEmpty()?(n.push(i),i.cancel=function(){Qi(n,i)}):i(e.take())},put:function(i){if(!t){if(0===n.length)return e.put(i);n.shift()(i)}},flush:function(n){t&&e.isEmpty()?n(Ur):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var i=0,r=e.length;i<r;i++){(0,e[i])(Ur)}}}}}function Yr(){var e,t,n,i,r,a,o=(t=!1,i=n=[],r=function(){i===n&&(i=n.slice())},a=function(){t=!0;var e=n=i;i=[],e.forEach((function(e){e(Ur)}))},(e={})[Di]=!0,e.put=function(e){if(!t)if(Wr(e))a();else for(var r=n=i,o=0,s=r.length;o<s;o++){var l=r[o];l[Ti](e)&&(l.cancel(),l(e))}},e.take=function(e,n){var a,o;void 0===n&&(n=Vr),t?e(Ur):(e[Ti]=n,r(),i.push(e),e.cancel=(a=function(){r(),Qi(i,e)},o=!1,function(){o||(o=!0,a())}))},e.close=a,e),s=o.put;return o.put=function(e){e[Fi]?s(e):Or((function(){s(e)}))},o}function $r(e,t){var n=e[Ei];Li(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Kr,Gr=0,Xr=function(){return++Gr};function Qr(e){e.isRunning()&&e.cancel()}var Jr=((Kr={}).TAKE=function(e,t,n){var i=t.channel,r=void 0===i?e.channel:i,a=t.pattern,o=t.maybe,s=function(e){e instanceof Error?n(e,!0):!Wr(e)||o?n(e):n(Oi)};try{r.take(s,ji(a)?zr(a):null)}catch(e){return void n(e,!0)}n.cancel=s.cancel},Kr.PUT=function(e,t,n){var i=t.channel,r=t.action,a=t.resolve;Or((function(){var t;try{t=(i?i.put:e.dispatch)(r)}catch(e){return void n(e,!0)}a&&Bi(t)?$r(t,n):n(t)}))},Kr.ALL=function(e,t,n,i){var r=i.digestEffect,a=Gr,o=Object.keys(t);if(0!==o.length){var s=lr(t,n);o.forEach((function(e){r(t[e],a,s[e],e)}))}else n(Zi(t)?[]:{})},Kr.RACE=function(e,t,n,i){var r=i.digestEffect,a=Gr,o=Object.keys(t),s=Zi(t)?ir(o.length):{},l={},c=!1;o.forEach((function(e){var t=function(t,i){c||(i||sr(t)?(n.cancel(),n(t,i)):(n.cancel(),c=!0,s[e]=t,n(s)))};t.cancel=Ki,l[e]=t})),n.cancel=function(){c||(c=!0,o.forEach((function(e){return l[e].cancel()})))},o.forEach((function(e){c||r(t[e],a,l[e],e)}))},Kr.CALL=function(e,t,n,i){var r=t.context,a=t.fn,o=t.args,s=i.task;try{var l=a.apply(r,o);if(Bi(l))return void $r(l,n);if(Vi(l))return void ca(e,l,s.context,Gr,cr(a),!1,n);n(l)}catch(e){n(e,!0)}},Kr.CPS=function(e,t,n){var i=t.context,r=t.fn,a=t.args;try{var o=function(e,t){Ri(e)?n(t):n(e,!0)};r.apply(i,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(e){n(e,!0)}},Kr.FORK=function(e,t,n,i){var r=t.context,a=t.fn,o=t.args,s=t.detached,l=i.task,c=function(e){var t=e.context,n=e.fn,i=e.args;try{var r=n.apply(t,i);if(Vi(r))return r;var a=!1;return tr((function(e){return a?{value:e,done:!0}:(a=!0,{value:r,done:!Bi(r)})}))}catch(e){return tr((function(){throw e}))}}({context:r,fn:a,args:o}),u=function(e,t){return e.isSagaIterator?{name:e.meta.name}:cr(t)}(c,a);Nr((function(){var t=ca(e,c,l.context,Gr,u,s,void 0);s?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},Kr.JOIN=function(e,t,n,i){var r=i.task,a=function(e,t){if(e.isRunning()){var n={task:r,cb:t};t.cancel=function(){e.isRunning()&&Qi(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Zi(t)){if(0===t.length)return void n([]);var o=lr(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},Kr.CANCEL=function(e,t,n,i){var r=i.task;t===Mi?Qr(r):Zi(t)?t.forEach(Qr):Qr(t),n()},Kr.SELECT=function(e,t,n){var i=t.selector,r=t.args;try{n(i.apply(void 0,[e.getState()].concat(r)))}catch(e){n(e,!0)}},Kr.ACTION_CHANNEL=function(e,t,n){var i=t.pattern,r=Hr(t.buffer),a=zr(i),o=function t(n){Wr(n)||e.channel.take(t,a),r.put(n)},s=r.close;r.close=function(){o.cancel(),s()},e.channel.take(o,a),n(r)},Kr.CANCELLED=function(e,t,n,i){n(i.task.isCancelled())},Kr.FLUSH=function(e,t,n){t.flush(n)},Kr.GET_CONTEXT=function(e,t,n,i){n(i.task.context[t])},Kr.SET_CONTEXT=function(e,t,n,i){var r=i.task;Xi(r.context,t),n()},Kr);function ea(e,t){return e+"?"+t}function ta(e){var t=e.name,n=e.location;return n?t+"  "+ea(n.fileName,n.lineNumber):t}function na(e){var t,n,i,r=(t=function(e){return e.cancelledTasks},n=e,(i=[]).concat.apply(i,n.map(t)));return r.length?["Tasks cancelled due to error:"].concat(r).join("\n"):""}var ia=null,ra=[],aa=function(e){e.crashedEffect=ia,ra.push(e)},oa=function(){ia=null,ra.length=0},sa=function(){var e=ra[0],t=ra.slice(1),n=e.crashedEffect?function(e){var t=ur(e);return t?t.code+"  "+ea(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+ta(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+ta(e.meta)})),[na(ra)]).join("\n")};function la(e,t,n,i,r,a,o){var s;void 0===o&&(o=Ki);var l,c,u=0,d=null,h=[],p=Object.create(n),f=function(e,t,n){var i,r=[],a=!1;function o(e){t(),l(),n(e,!0)}function s(t){r.push(t),t.cont=function(s,l){a||(Qi(r,t),t.cont=Ki,l?o(s):(t===e&&(i=s),r.length||(a=!0,n(i))))}}function l(){a||(a=!0,r.forEach((function(e){e.cont=Ki,e.cancel()})),r=[])}return s(e),{addTask:s,cancelAll:l,abort:o,getTasks:function(){return r}}}(t,(function(){h.push.apply(h,f.getTasks().map((function(e){return e.meta.name})))}),m);function m(t,n){if(n){if(u=2,aa({meta:r,cancelledTasks:h}),g.isRoot){var i=sa();oa(),e.onError(t,{sagaStack:i})}c=t,d&&d.reject(t)}else t===Ii?u=1:1!==u&&(u=3),l=t,d&&d.resolve(t);g.cont(t,n),g.joiners.forEach((function(e){e.cb(t,n)})),g.joiners=null}var g=((s={})[Ai]=!0,s.id=i,s.meta=r,s.isRoot=a,s.context=p,s.joiners=[],s.queue=f,s.cancel=function(){0===u&&(u=1,f.cancelAll(),m(Ii,!1))},s.cont=o,s.end=m,s.setContext=function(e){Xi(p,e)},s.toPromise=function(){return d||(d=Fr(),2===u?d.reject(c):0!==u&&d.resolve(l)),d.promise},s.isRunning=function(){return 0===u},s.isCancelled=function(){return 1===u||0===u&&1===t.status},s.isAborted=function(){return 2===u},s.result=function(){return l},s.error=function(){return c},s);return g}function ca(e,t,n,i,r,a,o){var s=e.finalizeRunEffect((function(t,n,i){if(Bi(t))$r(t,i);else if(Vi(t))ca(e,t,c.context,n,r,!1,i);else if(t&&t[Si]){(0,Jr[t.type])(e,t.payload,i,u)}else i(t)}));d.cancel=Ki;var l={meta:r,cancel:function(){0===l.status&&(l.status=1,d(Ii))},status:0},c=la(e,l,n,i,r,a,o),u={task:c,digestEffect:h};return o&&(o.cancel=c.cancel),d(),c;function d(e,n){try{var r;n?(r=t.throw(e),oa()):or(e)?(l.status=1,d.cancel(),r=Li(t.return)?t.return(Ii):{done:!0,value:Ii}):r=ar(e)?Li(t.return)?t.return():{done:!0}:t.next(e),r.done?(1!==l.status&&(l.status=3),l.cont(r.value)):h(r.value,i,d)}catch(e){if(1===l.status)throw e;l.status=2,l.cont(e,!0)}}function h(t,n,i,r){void 0===r&&(r="");var a,o=Xr();function l(n,r){a||(a=!0,i.cancel=Ki,e.sagaMonitor&&(r?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),r&&function(e){ia=e}(t),i(n,r))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:r,effect:t}),l.cancel=Ki,i.cancel=function(){a||(a=!0,l.cancel(),l.cancel=Ki,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},s(t,o,l)}}function ua(e,t){var n=e.channel,i=void 0===n?Yr():n,r=e.dispatch,a=e.getState,o=e.context,s=void 0===o?{}:o,l=e.sagaMonitor,c=e.effectMiddlewares,u=e.onError,d=void 0===u?nr:u;for(var h=arguments.length,p=new Array(h>2?h-2:0),f=2;f<h;f++)p[f-2]=arguments[f];var m=t.apply(void 0,p);var g,v=Xr();if(l&&(l.rootSagaStarted=l.rootSagaStarted||Ki,l.effectTriggered=l.effectTriggered||Ki,l.effectResolved=l.effectResolved||Ki,l.effectRejected=l.effectRejected||Ki,l.effectCancelled=l.effectCancelled||Ki,l.actionDispatched=l.actionDispatched||Ki,l.rootSagaStarted({effectId:v,saga:t,args:p})),c){var y=wi.apply(void 0,c);g=function(e){return function(t,n,i){return y((function(t){return e(t,n,i)}))(t)}}}else g=Gi;var b={channel:i,dispatch:rr(r),getState:a,sagaMonitor:l,onError:d,finalizeRunEffect:g};return Nr((function(){var e=ca(b,m,s,v,cr(t),!0,void 0);return l&&l.effectResolved(v,e),e}))}const da=function(e){var t,n=void 0===e?{}:e,i=n.context,r=void 0===i?{}:i,a=n.channel,o=void 0===a?Yr():a,s=n.sagaMonitor,l=Pi(n,["context","channel","sagaMonitor"]);function c(e){var n=e.getState,i=e.dispatch;return t=ua.bind(null,(0,kt.Z)({},l,{context:r,channel:o,dispatch:i,getState:n,sagaMonitor:s})),function(e){return function(t){s&&s.actionDispatched&&s.actionDispatched(t);var n=e(t);return o.put(t),n}}}return c.run=function(){return t.apply(void 0,arguments)},c.setContext=function(e){Xi(r,e)},c},ha=da,pa="FETCH_NOTIFICATION",fa="SET_NOTIFICATION",ma={videoIdeasNotification:{value:!1,fetched:!1}},ga=(e=ma,t)=>{switch(t.type){case pa:{const{storageKey:n}=t.payload;return{...e,[n]:{...e[n],fetched:!0}}}case fa:{const{storageKey:n,value:i}=t.payload;return{...e,[n]:{...e[n],value:i}}}default:return e}};const va="studio_beta/UPDATE",ya="studio_beta/UPDATE_SEO_CHECKLIST";const ba={};const _a="video_companion/UPDATE";const wa={};const ka="video-preview/UPDATE_VIDEO_PROPERTY",xa="video-preview/UPDATE_SEARCH",Ea="video-preview/UPDATE_THUMBNAIL_OPTIONS",Ca="video-preview/UPDATE_DURATION",Sa="video-preview/UPDATE_DEVICE",Ta="video-preview/UPDATE_PERMITTED",Da="video-preview/UPDATE_VIDEO_ID",Fa="video-preview/UPDATE_TAB",Ma="video-preview/TOGGLE_WINDOW",Aa="video-preview/TOGGLE_COMPETITORS",Ia="video-preview/TOGGLE_HIGHLIGHT",Oa="video-preview/FETCH_RESULTS",Na="video-preview/FETCH_RESULTS_SUCCESS",Pa="video-preview/FETCH_RESULTS_FAILURE",Ra="video-preview/FETCH_CHANNEL_DATA",ja="video-preview/FETCH_CHANNEL_DATA_SUCCESS",La="video-preview/FETCH_CHANNEL_DATA_FAILURE",qa="video-preview/FETCH_HOME",Za="video-preview/FETCH_HOME_SUCCESS",Ba="video-preview/FETCH_HOME_FAILURE",Va="video-preview/FETCH_NUM_CHARGES",za="video-preview/FETCH_NUM_CHARGES_SUCCESS",Ua="video-preview/FETCH_NUM_CHARGES_FAILURE",Wa="video-preview/INCREMENT_CHARGES",Ha="video-preview/FETCH_COMPETITOR_VIDEOS",Ya="video-preview/FETCH_COMPETITOR_VIDEOS_SUCCESS",$a="video-preview/FETCH_COMPETITOR_VIDEOS_FAILURE",Ka="video-preview/FETCH_AUTH_STATUS",Ga="video-preview/FETCH_AUTH_STATUS_RECEIVED",Xa="video-preview/RESET_STATE",Qa=(e,t,n)=>({type:ka,payload:{property:e,value:t,locations:n}}),Ja=()=>({type:Ma}),eo=()=>({type:qa}),to=()=>({type:Ha}),no=e=>({type:Ga,payload:{authed:e}});var io=__webpack_require__(7361),ro=__webpack_require__.n(io);const ao="desktop",oo="tablet",so="mobile",lo="search",co="home",uo="search-preview",ho="video-preview/NO_COMPETITORS_ERROR",po="video-preview/NO_SEARCH_RESULTS_ERROR",fo={updateTitle(e){c3.dispatch(Qa("title",e))},updateDescription(e){c3.dispatch(Qa("description",e))},updateThumbnail(e){c3.dispatch(Qa("thumbnail",e))},updateThumbnailOptions(e){c3.dispatch({type:Ea,payload:{thumbnailOptions:e}})},updateDuration(e){c3.dispatch((e=>({type:Ca,payload:{duration:e}}))(e))},updatePermitted(e){c3.dispatch((e=>({type:Ta,payload:{permitted:e}}))(e))},updateVideoId(e){c3.dispatch((e=>({type:Da,payload:{videoId:e}}))(e))},resetState(){c3.dispatch({type:Xa})}},mo=fo;var go=__webpack_require__(4722),vo=__webpack_require__(3279),yo=__webpack_require__.n(vo),bo=__webpack_require__(3493),_o=__webpack_require__.n(bo);const wo=we.Z.keyMirror(["UPDATE","ADD_THREAD","REGISTER_THREAD","CLEAR","SET_PINNED_COMMENT"],"COMMENTS");var ko=__webpack_require__(3749);const xo={update(e){ko.Z.dispatch({payload:e,action:wo.UPDATE}),!0===e.filtering&&e.filter&&ht("filtered comments",{"filter name":e.filter,location:(0,be.Z)(),_identify:{set:{"date last filtered comments":(new Date).toISOString()}}})},addThread(e,t){ko.Z.dispatch({thread:e,increaseShowCount:t,action:wo.ADD_THREAD})},registerThread(){ko.Z.dispatch({action:wo.REGISTER_THREAD})},clear(){ko.Z.dispatch({action:wo.CLEAR})},setPinnedComment(e,t){ko.Z.dispatch({videoId:e,commentId:t,action:wo.SET_PINNED_COMMENT})}},Eo=()=>{var e;return null===(e=window.ytconfig)||void 0===e?void 0:e.HTML_LANG},Co=we.Z.keyMirror(["SORT","FETCH"],"TRENDING_VIDEOS"),So={sort(e){ko.Z.dispatch({action:Co.SORT,sortValue:e})},fetch(e,t,n){if(L().isObject(e)){const i=e;t=i.country,n=i.language,e=i.query||this._getQuery(i)}ko.Z.dispatch({action:Co.FETCH,query:e,country:t,language:n})},_filterBlacklist(e){const t="yt:stretch=16:9 if not or and but the a to how what why where when this that".split(" ");return L().filter(e||[],(e=>t.indexOf(e.toLowerCase())<0))},_getQuery(e){const t=e.title?this._filterBlacklist(e.title.split(" ")):null,n=this._filterBlacklist(e.keywords);return n.length?n:t}},To=we.Z.keyMirror(["UPDATE","UPDATE_KEYWORDS","TRACK_TAG_REC","UPDATE_SEO_CHECKLIST"],"STUDIO_BETA");var Do=__webpack_require__(4184),Fo=__webpack_require__.n(Do),Mo=__webpack_require__(7757),Ao=__webpack_require__.n(Mo),Io=__webpack_require__(2555),Oo=__webpack_require__.n(Io);const No=Oo()({displayName:"ChartJS",statics:{renderChart({id:e,type:t,datasets:n,options:i}){if(!e||!t||!n)return;const r=document.getElementById(e);if(!r)return;const a=r.getContext("2d");return a?new(Ao())(a,{type:t,data:{datasets:n},options:i||{}}):void 0}},componentDidMount(){const e=this.props.backgroundColor;if(!e)return;const t=this.props.canvasId;Ao().plugins.register({beforeDraw:function(n){var i;if((null===(i=n.canvas)||void 0===i?void 0:i.id)!==t)return;const r=n.chart.ctx;r.fillStyle=e,r.fillRect(0,0,n.chart.width,n.chart.height)}})},render(){const e=h.createElement("canvas",{id:this.props.canvasId,width:this.props.width||"400",height:this.props.height||"400",onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave});return this.props.containerClass?h.createElement("div",{className:this.props.containerClass},e):e}}),Po=No;function Ro(e,t,n){return{...n&&{type:n},gridLines:{display:!1,drawBorder:!1},ticks:{display:!1,min:e,max:t}}}function jo({xMin:e,xMax:t,yMin:n,yMax:i}){return{xAxes:[Ro(e||0,t,"linear")],yAxes:[Ro(n,i)]}}function Lo(e){return{mode:"index",intersect:!1,displayColors:!1,bodyFontSize:10,callbacks:{title:()=>null,label:e}}}function qo({values:e,borderWidth:t}){return{borderColor:"#549DD2",borderWidth:t||4,pointRadius:0,pointHoverRadius:0,fill:!1,data:e.map(((e,t)=>({x:t,y:e})))}}const Zo=Po;function Bo(e,t){const n=Math.min.apply(null,e),i=Math.max.apply(null,e)||1;return{legend:{display:!1},animation:{duration:0},maintainAspectRatio:!1,layout:(r={top:10,right:10},{padding:r}),scales:jo({xMax:e.length-1,yMin:n,yMax:i}),tooltips:Lo(t)};var r}function Vo(e,t,n){const i=function(e,t,n){return i=>{const r=i.index,a=t[r],o=a<1?"0[.]00":"0,0";let s=ge()(a).format(o);return"subscribers"===e&&a>=0&&(s="+"+s),`${s} (${n[r]})`}}(e,t,n);return Zo.renderChart({id:`vidiq-channel-stats-chart-${e}`,type:"line",datasets:[qo({values:t,borderWidth:4})],options:Bo(t,i)})}function zo({statKey:e,dataKey:t,values:n,dates:i,overview:r}){const a=(0,h.useRef)(null),o=(0,h.useRef)(!1);if((0,h.useEffect)((()=>{if(a&&a.current&&a.current.destroy(),n&&n.length>1){const e=Vo(t,n,i);a.current=e}}),[t,n,i,a]),!n||n.length<=1){const e=Fo()("vidiq-channel-stats-chart-message",{"vidiq-channel-stats-chart-overview-message":"overview"===t||"overview-total"===t});return h.createElement("div",{className:e},(0,ai.Z)("channelStatsNotEnoughData"))}return h.createElement(Po,{canvasId:`vidiq-channel-stats-chart-${t}`,width:"450",height:"90",containerClass:"vidiq-channel-stats-chart-container",onMouseOver:()=>{!0!==o.current&&(o.current=!0,function(e,t){ht("hovered on channel stats graph",{graph:"videos"===e?"videos published":e,overview:t||!1})}(e,r))},onMouseLeave:()=>{o.current=!1}})}const Uo=h.memo(zo);var Wo=__webpack_require__(1609),Ho=__webpack_require__.n(Wo),Yo=__webpack_require__(3935);const $o=()=>!!document.querySelector('html[dark="true"]')||!!document.querySelector('html[dark=""]'),Ko=()=>{return{set:{"user id":null===(e=J.Z.getData().user)||void 0===e?void 0:e.id,"plan name":(0,ve.h)().getUserType()}};var e},Go=({location:e,type:t})=>{ht("clicked filter",{location:e,type:t,"dark mode enabled":$o(),_identify:Ko()})},Xo=({location:e,channelId:t,vph:n})=>{ht("clicked on youtube video",{location:e,"channel id":t,vph:n,"dark mode enabled":$o(),_identify:Ko()})},Qo=({location:e,expanded:t})=>{ht("viewed responsive navigation",{location:e,expanded:t,"dark mode enabled":$o(),_identify:Ko()})},Jo=({location:e})=>{ht("closed modal",{location:e||(0,be.Z)(),"dark mode enabled":$o(),_identify:Ko()})},es=Qn("img",{target:"ev8s3i10"})("width:",(e=>e.size||"18px"),";height:",(e=>e.size||"18px"),";",(e=>e.marginRight&&`margin-right: ${e.marginRight}`),";"),ts=({size:e,marginRight:t,classes:n,alt:i})=>{const r=chrome.runtime.getURL("images/vidiq-badge.png"),a=Fo()(n);return h.createElement(es,{src:r,className:a,alt:i||"vidIQ badge",size:e,marginRight:t})};var ns=__webpack_require__(3860);const is=Oo()({displayName:"Button",onClick(){return this.props.onClick?this.props.onClick():this.props.href?"_blank"===this.props.target?window.open(this.props.href):void(window.location.href=this.props.href):void 0},render(){const e={className:Fo()(this.props.className,this.props.classes,{"vidiq-button":!this.props.resetClassName,secondary:this.props.secondary,icon:this.props.icon}),href:this.props.href,type:this.props.anchor?void 0:this.props.type||"button",onClick:this.onClick,disabled:this.props.disabled,title:this.props.title,name:this.props.name,target:this.props.anchor?this.props.target:void 0,style:{cursor:"pointer"},"data-testid":this.props.testId};this.props.submit&&(e.type="submit");let t=this.props.children||this.props.text;return this.props.setInnerHTML&&(e.dangerouslySetInnerHTML={__html:(0,ns.N)(t)},t=null),this.props.anchor?h.createElement("a",e,t):h.createElement("button",e,t)}}),rs=Oo()({displayName:"ButtonSection",render(){const e=L().map(this.props.buttons,(function(e,t){"cancel"===e?e={text:(0,ai.Z)("cancel"),classes:"secondary",onClick:this.props.onClose}:"close"===e&&(e={text:(0,ai.Z)("close"),position:"right",onClick:this.props.onClose});const n=e.position||"left",i=Fo()("btn","btn-small",n,e.classes),r=e.disabled||this.props.disabled,a=r?null:e.onClick;return h.createElement(is,{classes:i,key:t,onClick:a,disabled:r},e.text)}),this);return h.createElement("div",{className:"button-section"},e)}}),as=rs,os=Oo()({displayName:"Spinner",shouldComponentUpdate:()=>!1,render(){const e=chrome.runtime.getURL("images/big_loader.gif"),t={small:15,medium:25,big:35}[this.props.size||"medium"],n=["react-spinner",this.props.classes].join(" "),i=h.createElement("img",{src:e,width:t,height:t,className:n,alt:""});return this.props.container?h.createElement("div",{className:"react-spinner-container"},i):i}}),ss=Oo()({displayName:"ModalFooter",UNSAFE_componentWillMount(){r()(window).on("vidiq-react-modal-footer",this.onSetSelf)},componentWillUnmount(){r()(window).off("vidiq-react-modal-footer",this.onSetSelf)},getInitialState:()=>({locked:!1,buttons:[]}),onSetSelf(e,t){L().isEqual(L().extend({},this.state,t),this.state)||this.setState(t)},onClose(){r()(window).trigger("vidiq-react-modal","close")},getButtons(){return L().map(this.props.buttons||this.state.buttons,(e=>L().isString(e)?e:L().extend({},e,{onClick:e.onClick})),this)},spinnerPart(){if(this.props.locked||this.state.locked)return h.createElement(os,{classes:"modal-spinner"})},render(){const e=this.props.locked||this.state.locked,t=this.props.buttons||this.state.buttons;return e||0!==t.length?h.createElement("div",{className:"modal-footer"},h.createElement(as,{buttons:this.getButtons(),onClose:this.onClose,disabled:e}),this.spinnerPart()):null}}),ls=Oo()({displayName:"Modal",statics:{create(e,t){if(!e.innerComponent)return;let n="vidiq-modal";t&&(n=n+" "+t),ls.destroy(),we.Z.mountComponent({component:ls,selector:"body",rootClass:n,props:e}),r()("body").css("overflow","hidden")},mount(e,t){we.Z.mountComponent({component:e,selector:"body",rootClass:"vidiq-modal",props:t}),r()("body").css("overflow","hidden"),document.querySelectorAll("video").forEach((e=>{e.paused||(e.pause(),e.setAttribute("vidiq-resume-playback",!0))}))},destroy(){const e=document.querySelector(".vidiq-modal");e&&(Yo.unmountComponentAtNode(e),e.parentNode.removeChild(e),r()("body").css("overflow","visible"),this&&(this.buttons=null),document.querySelectorAll("video").forEach((e=>{e.hasAttribute("vidiq-resume-playback")&&(e.removeAttribute("vidiq-resume-playback"),e.play())})))},isOpen:()=>!!document.querySelector(".vidiq-modal"),emit(...e){1===e.length&&(e=e[0]),r()(window).trigger("vidiq-react-modal",e)},setButtons(e){r()(window).trigger("vidiq-react-modal-footer",{buttons:e})},tighten(){this.emit("tighten")},relax(){this.emit("relax")},lock(){this.emit("lock"),r()(window).trigger("vidiq-react-modal-footer",{locked:!0})},unlock(){this.emit("unlock"),r()(window).trigger("vidiq-react-modal-footer",{locked:!1})}},modal:h.createRef(),getDefaultProps:()=>({footer:!0}),getInitialState:()=>({locked:!1,buttons:[]}),UNSAFE_componentWillMount(){r()(window).on("vidiq-react-modal",this.onExternalEvent)},componentWillUnmount(){r()(window).off("vidiq-react-modal",this.onExternalEvent)},onExternalEvent(e,t){switch(t){case"close":this.onClose();break;case"lock":this.state.locked||this.setState({locked:!0});break;case"unlock":this.state.locked&&this.setState({locked:!1});break;case"tighten":this.state.tightened||this.setState({tightened:!0});break;case"relax":this.state.tightened&&this.setState({tightened:!1})}},onClose(){this.props.locked||this.state.locked||(Jo({location:this.props.trackingLabel}),ls.destroy())},onModalBackgroundClick(e){this.props.tightened||this.state.tightened||e.target===e.currentTarget&&this.onClose()},render(){let e=this.props.children;if(this.props.innerComponent){const t=this.props.innerProps||{};e=h.createElement(this.props.innerComponent,t)}let t=h.createElement("button",{className:"modal-close",onClick:this.onClose},"✖");const n=this.props.titleExtra?this.props.titleExtra():null;(this.state.locked||this.state.tightened||this.props.locked||this.props.tightened)&&(t=null);const i=Fo()("vidiq-modal","vidiq-react","modal-background",{scrollable:this.props.scrollable}),r=Fo()("modal-window",this.props.size,this.props.classes);return h.createElement("div",{className:i,ref:this.modal,onClick:this.onModalBackgroundClick},h.createElement("div",{className:r},this.props.title&&h.createElement("div",{className:"modal-header"},h.createElement("h1",{className:"modal-title"},t,n,h.createElement(ts,{size:"20px"}),h.createElement("span",null,this.props.title))),h.createElement("div",{className:"modal-content"},e),this.footerPart()))},footerPart(){if(this.props.footer)return h.createElement(ss,{buttons:this.props.buttons,locked:this.props.locked})}}),cs=ls,us=we.Z.keyMirror(["UPDATE","ACTIVATE"],"CHANNEL_TAB");var ds=__webpack_require__(3707);const hs=new ds.Z("ChannelTabStore",{_data:{activeTab:null,loadingKeywords:!1,loadingInfo:!1,loadingStats:!1,loadingVideos:!1,error:!1,videos:[],keywords:[],info:{},graphData:{},channelStats:{},range:null,minDate:null,maxDate:null,interval:null}});hs.dispatchToken=ko.Z.register((e=>{const t=hs,n=us;switch(e.action){case n.UPDATE:L().extend(t.data,e.data),t.emitChange();break;case n.ACTIVATE:t.data.activeTab=e.data.tab,t.data.loading=!1,t.data.error=!1,t.emitChange()}}));const ps=hs;var fs=__webpack_require__(8121);const ms=we.Z.keyMirror(["UPDATE"],"CHANNEL_TRENDING"),gs={update(e){ko.Z.dispatch({data:e,action:ms.UPDATE})},fetchTrendingVideos(){bL.fetchTrendingVideos().done(this._verifyVideos.bind(this)).fail(this.update.bind(this,{error:!0,loading:!1}))},_verifyVideos(e){const t=L().pluck(e,"video_id");bL.verifyVideos(t).done((t=>{const n=e.filter((e=>L().contains(t,e.video_id)));this.update({videos:n,loading:!1})}))}},vs=["ChannelAudit","Competitors","MostViewed","TrendAlerts"],ys={ScorecardStats:"Scorecard - Stats",ScorecardHistorical:"Scorecard - Historical",ScorecardTrending:"Scorecard - Trending",ScorecardViewsComparisonAnyVideo:"Scorecard - Views Comparison - Any Video",ScorecardViewsComparisonAnyPlaylist:"Scorecard - Views Comparison - Any Playlist",ScorecardViewsComparisonAnyChannel:"Scorecard - Views Comparison - Any Channel",ScorecardViewsComparisonThisChannelAverage:"Scorecard - Views Comparison - This Channel Average",ScorecardViewsComparisonCompetitorsAverage:"Scorecard - Views Comparison - Competitors Average",ControversialKeywords:"Controversial Keywords",ChannelAuditDatePicker:"Channel Audit - Date Picker",ChannelAuditFirstPage:"Channel Audit - First Page",ChannelAuditSecondsPage:"Channel Audit - Second Page",ChannelAuditEditView:"Channel Audit - Edit View",ChannelAuditShowMore:"Channel Audit - Show More",ChannelAuditDoubleDown1:"Channel Audit - Double Down 1",ChannelAuditDoubleDown2:"Channel Audit - Double Down 2",ChannelAuditContentNeedsWork:"Channel Audit - Content Needs Work",ChannelAuditTimeframeSelector:"Channel Audit - Timeframe Selector",Competitors:"Competitors",MostViewed:"Most Viewed",TrendingVideos:"Trending Videos",TrendAlerts:"Trend Alerts",TrendAlertsForm:"Trend Alerts - Form",RecDescription:"Recommended Description",RecTags:"Recommended Tags",RecTitle:"Recommended Title",UploadChecklist:"Upload Checklist",BestTime:"Best Time to Post",BestTimeUpload:"Best Time to Post - Upload",Translate:"Translate",TagAutocomplete:"Tag Autocomplete",MoreBoost:"More Boost",DescCampaign:"Description Campaign",CsvExport:"CSV Export",ArchiveSyndicate:"Archive and Syndicate",ChannelTrendingVelocity:"Channel - Trending Velocity",TopKeywords:"Top Keywords",SearchRelatedVideos:"Search - Related Videos",SearchInlineStats:"Search - Inline Stats",SearchKeywords:"Search - Top Search Keywords",SearchTrendAlerts:"Search - Trend Alerts",KeywordInspectorKeywords:"Keyword Inspector - Related Keywords",KeywordInspectorVideos:"Keyword Inspector - Related Videos",PopupHeader:"Popup - Header",PopupFooter:"Popup - Footer",PopupDescriptionsLink:"Popup - Descriptions Link",PopupSeoTagsLink:"Popup - SEO Tags Link",PopupSubscribersLink:"Popup - Subscribers Link",PopupAcademyLink:"Popup - vidIQ Academy Link",TagExport:"Tag Export",SeoScoreBoost:"SEO Score",VideoPreviewButton:"Video Preview - Button",VideoPreviewWindow:"Video Preview - Window",MostViewedSearchUpsell:"Most Viewed - Limits",MostViewedFilters:"Most Viewed - Filters",KeywordInspectorMultiSearchUpsell:"Keyword Inspector - Multiple Keywords",KeywordInspectorFilters:"Keyword Inspector - Filters",DailyIdeasUpsellList:"daily ideas - list",DailyIdeasUpsellCard:"daily ideas - card",VideoCompanionUpsellCard:"video companion - card",NavMenuSidebar:"Navigation Menu Sidebar",TitleGenerator:"title_generator",DescriptionGenerator:"description_generator"},bs=e=>{const t=window.location.pathname,n=window.location.host;if(e){for(const t of vs)if(0===e.indexOf(t))return"youtube side panel";if("TitleGenerator"===e)return"upload v2"}if("popup"===(0,U.F)().location)return"popup";if("/watch"===t)return"scorecard";if("/playlist"===t)return"edit playlist";if("/results"===t)return"search";if("/upload"===t)return"upload";if(t.match(/^\/channel\/([^/]+)\/videos\/upload/))return"upload v2";if(t.match(/^\/(channel|user)\//))return"channel";const i="studio.youtube.com"===n,r="/my_videos"===t;return t.match(/edit$/)||"/edit"===t?i?"studio edit":"legacy edit":i?"studio":r?"legacy studio":void 0};const _s=(e,t,n)=>{const{location:i,browser:r}=(0,U.F)();return function(e,t){const n=t&&"?"+Object.entries(t).reduce(((e,[t,n])=>e.concat([t,encodeURI(String(n))].join("="))),[]).join("&");return`${o.ZP.session.app.domain}${e}${n}`}("/plans",{source:"extension"+(i?` ${i}`:""),feature:n,plan:t,upsell:e,utm_source:r,utm_medium:"extension",utm_campaign:e,utm_content:n})},ws=Oo()({displayName:"UpgradeButton",onClick(){this.props.source&&dt("Clicked upgrade from "+this.props.source),this.props.onClick&&this.props.onClick(),vt.reportSessionTokenToOtherProperties(),ws.handler(this.getUpsellCode(),this.props.targetPlan,!!this.props.anchor)},getUpsellCode(){return this.props.upsell||Object.keys(this.props).find((e=>ys[e]))},render(){const e=this.getUpsellCode(),t=this.props.text||(0,ai.Z)("upgradeNowTitle"),n=ws.getUrl(e,this.props.targetPlan),i=this.props.anchor?n:void 0,r=`${e} ${this.props.targetPlan||""} ${bs(e)||""}`;return h.createElement(is,{anchor:this.props.anchor,resetClassName:this.props.resetClassName,classes:this.props.className,onClick:this.onClick,text:t,name:this.props.name,href:i,target:this.props.anchor?"_blank":void 0,title:o.ZP.production?void 0:r,testId:"upgrade-button"})}});function ks(e,t,n){const i=ys[e];if("string"==typeof t&&(t=t.toLowerCase()),i){const r=(0,U.F)().location;ht(n,{upsell:i,via:"extension"+(r?` ${r}`:""),"target plan":t,section:bs(e)})}}ws.getUrl=(e,t)=>{const n=ys[e],i=bs(e);return _s(n,t,i)},ws.handler=(e,t,n)=>{if(ks(e,t,"clicked upsell"),n)return;const i=window.open(ws.getUrl(e,t),"_blank");null==i||i.focus()},ws.dismissHandler=(e,t)=>{ks(e,t,"dismissed upsell")};const xs=ws,Es=Oo()({displayName:"ChannelTrendingUpsell",render(){return this.props.loading||this.props.permitted?null:h.createElement("div",{className:"vidiq-velocity-upsell"},h.createElement("h1",{className:"upsell-pitch"},(0,ai.Z)("channelTrendingUpsellMessage")),h.createElement(xs,{ChannelTrendingVelocity:!0,text:"Upgrade Now!",targetPlan:"pro"}))}}),Cs=Oo()({displayName:"ChannelTrendingVideo",numbroOpts:{thousands:!0,trim:!0},viewsPerHour(){let e=we.Z.numbro(this.props.video.views_per_hour,this.numbroOpts);return 0!==e&&"0"!==e||(e="< 0.1"),e+" VPH"},render(){const e="/watch?v="+this.props.video.video_id,t=wt()(this.props.video.date_published_at).fromNow(),n={background:"url('"+bL.thumbnail(this.props.video.video_id.replace("?",""))+"') center no-repeat",backgroundSize:"196px 148px"},i=this.props.video.duration?we.Z.sec2time(this.props.video.duration):null;return h.createElement("a",{href:e,className:"velocity-video"},h.createElement("div",{className:"velocity-video-image"},h.createElement("div",{style:n,className:"vidiq-video-thumb"}),h.createElement("span",{className:"velocity-video-duration"},i)),h.createElement("div",{className:"velocity-video-info"},h.createElement("h2",{className:"velocity-video-title"},this.props.video.title),h.createElement("p",{className:"velocity-video-meta"},h.createElement("strong",null,this.props.video.channel_title)," •"," ",t),h.createElement("p",{className:"velocity-video-meta"},h.createElement("i",{className:"material-icons"},"play_circle_filled"),we.Z.numbro(this.props.video.views,this.numbroOpts)," views •"," ",h.createElement("span",{className:"vph"},this.viewsPerHour()))))}}),Ss=we.Z.keyMirror(["UPDATE"],"PLAYLIST_TOP_KEYOWRDS"),Ts={locked:!1,batch_size:8,stack:[],pushed:0,popped:0,resolved:0,uids:[],cancel(e){L().each(this.stack,(t=>{t.namespace===e&&(t.cancelled=!0)}))},searchStack(e,t){return L().filter(L().pluck(this.stack,e),(e=>e===t))},isPending(e){return this.searchStack("namespace",e).length>0},log:_o()((()=>{}),5e3),push(e,t,n){const i=[t,n].join(":"),a=new(r().Deferred);return!n||this.uids.indexOf(i)<0?(this.uids.push(i),this.stack.push({fn:e,dfd:a,uid:i,namespace:t}),this.pushed+=1,setTimeout(this.exec.bind(this),1)):a.reject("duplicate"),a.promise()},exec(){if(this.log(),this.locked)return;this.locked=!0;const e=[];let t=Math.min(this.batch_size,this.stack.length);for(let n=0;n<t;n+=1){const n=this.stack.shift();n.cancelled?t=Math.min(t+1,this.stack.length):(e.push(n),this.popped+=1)}const n=L().map(e,(e=>e.fn().done(e.dfd.resolve).fail(e.dfd.reject).always((()=>{Ts.resolved+=1}))));r().when(...n).always((()=>{this.locked=!1,this.stack.length>0&&this.exec()}))}},Ds=Ts,Fs={channelId:"CHANNEL_ID",context:{},mask:{playlistId:!0,title:!0},memberVideoIds:[],pageSize:500},Ms={channelId:"CHANNEL_ID",context:{},mask:{playlistId:!0,title:!0,videosCount:!0},pageSize:500},As={clientName:62,clientVersion:"CLIENT_VERSION",hl:"CLIENT_LANGUAGE",gl:"CLIENT_REGION",experimentIds:[]},Is={returnLogEntry:!0,internalExperimentFlags:[]},Os={onBehalfOfUser:"DELEGATED_SESSION_ID"},Ns={filter:{},mask:{},context:{},order:"VIDEO_ORDER_UNKNOWN",pageSize:50},Ps={channelId:!0,videoId:!0,lengthSeconds:!0,premiere:{all:!0},status:!0,thumbnailDetails:{all:!0},title:!0,draftStatus:!0,downloadUrl:!0,watchUrl:!0,permissions:{all:!0},timeCreatedSeconds:!0,timePublishedSeconds:!0,origin:!0,livestream:{all:!0},privacy:!0,metrics:{all:!0},responseStatus:{all:!0},description:!0,statusDetails:{all:!0},scheduledPublishingDetails:{all:!0},claimDetails:{all:!0},sponsorsOnly:{all:!0},unlistedExpired:!0,monetizedStatus:!0,selfCertification:{all:!0},ageRestriction:!0,tags:{all:!0},videoEditorProject:{all:!0}},Rs={encryptedVideoId:"",videoReadMask:{},context:{}},js={videoStill:{image:{dataUri:""},operation:"UPLOAD_CUSTOM_THUMBNAIL"}},Ls={videoStill:{operation:"SET_AUTOGEN_STILL",newStillId:null}},qs={videoIds:[],context:{},mask:{},failOnError:!0};var Zs=__webpack_require__(361),Bs=__webpack_require__.n(Zs);function Vs(e){try{if(null==e)throw new Error("Empty object");return Bs()(e)}catch(e){return(0,ke.Z)("(vidiq) Error in cloneObject:",e),{}}}const zs={get({params:e,pageToken:t,origin:n,onlyPublic:i}){const r=Vs(Ns);return r.filter=(({origin:e,onlyPublic:t})=>{const n={upload:"VIDEO_ORIGIN_UPLOAD",livestream:"VIDEO_ORIGIN_LIVESTREAM",newUpload:"VIDEO_ORIGIN_UPLOAD"},i={and:{operands:[{videoOriginIs:{value:n[e]}}]}},r={or:{operands:[{videoOriginIs:{value:n.upload}},{videoOriginIs:{value:n.livestream}}]}},a={and:{operands:[{channelIdIs:{value:"CHANNEL_ID"}}]}};return a.and.operands.push(e?i.and.operands[0]:r),t&&a.and.operands.push({or:{operands:[{privacyIs:{value:"VIDEO_PRIVACY_PUBLIC"}}]}}),a})({origin:n,onlyPublic:i}),"livestream"===n?r.order="VIDEO_ORDER_LIVESTREAM_DISPLAY_TIME_DESC":"upload"===n?r.order="VIDEO_ORDER_UPLOAD_DISPLAY_TIME_DESC":"newUpload"===n&&(r.order="VIDEO_ORDER_DISPLAY_TIME_DESC"),r.mask=Vs(Ps),r.context.client=Vs(As),r.context.request=Vs(Is),e.DELEGATED_SESSION_ID.length&&(r.context.user=Vs(Os)),t&&(r.pageToken=t),zs.stringify(r,e)},getUpdatePayload({videoId:e,changes:t,params:n}){let i=Vs(Rs);i.encryptedVideoId=e,i.videoReadMask=Vs(Ps),i.context.client=Vs(As),i.context.request=Vs(Is),n.DELEGATED_SESSION_ID.length&&(i.context.user=Vs(Os)),i=zs.stringify(i,n);const r=Object.entries(t).reduce(((e,[t,n])=>{if("thumbnail"===t&&n.stillId){const t=Vs(Ls);return t.videoStill.newStillId=n.stillId,Object.assign(t,e)}if("thumbnail"===t){const t=Vs(js);return t.videoStill.image.dataUri=n,Object.assign(t,e)}return Object.assign({[t]:{["new"+we.Z.capitalize(t)]:n,shouldSegment:!1}},e)}),{});return i=Object.assign(JSON.parse(i),r),JSON.stringify(i)},getCreatorVidsPayload({videoIds:e,params:t}){const n=Vs(qs);return n.videoIds=e,n.mask=Ps,n.context.client=Vs(As),n.context.request=Vs(Is),t.DELEGATED_SESSION_ID.length&&(n.context.user=Vs(Os)),zs.stringify(n,t)},stringify:(e,t)=>{const n=JSON.stringify(e);return Object.entries(t).reduce(((e,[t,n])=>e.replace(new RegExp(t,"g"),n)),n)}},Us=zs,Ws={getPlaylistsByVideosPayload({videoIds:e,params:t}){const n=Vs(Fs);return n.memberVideoIds=e,n.context.client=Vs(As),n.context.request=Vs(Is),t.DELEGATED_SESSION_ID.length&&(n.context.user=Vs(Os)),Us.stringify(n,t)},getPlaylistsPayload({pageToken:e,params:t}){const n=Vs(Ms);return n.context.client=Vs(As),n.context.request=Vs(Is),t.DELEGATED_SESSION_ID.length&&(n.context.user=Vs(Os)),e&&(n.pageToken=e),Us.stringify(n,t)}};var Hs=__webpack_require__(8738),Ys=__webpack_require__.n(Hs);const $s={makeRequestRetry(e,t,n){return new Promise(((i,r)=>n<=0?r("Failed all tries"):this.makeRequest(e,t).then((e=>{i(e)})).catch((()=>{(0,ke.Z)("(vidiq) StudioRequest > makeRequest failed, retrying",n),this.makeRequestRetry(e,t,n-1).then(i).catch(r)}))))},makeRequest(e,t){return new Promise(((n,i)=>{const r=`${e}StudioResponse`;this.onWindowMessage(r).then(n).catch(i),B((e=>{const t={},n=new AbortController,i=n.signal,r=setTimeout((()=>{n.abort()}),35e3);fetch(e[0],{method:"POST",headers:{Authorization:e[1],"X-Goog-Authuser":e[2]},body:e[3],signal:i}).then((e=>e.json())).then((n=>{if(n.error)throw new Error(JSON.stringify(n.error));clearTimeout(r),t[e[4]]=JSON.stringify(n),postMessage(t,window.location.href)})).catch((n=>{t[e[4]]=JSON.stringify({error:!0,errorMessage:n.toString()}),postMessage(t,window.location.href)}))}),t.concat(r))}))},onWindowMessage:e=>new Promise(((t,n)=>{const i=setTimeout((()=>{n("Timed Out")}),7e3);window.addEventListener("message",(r=>{if(!r.data[e])return;let a;i&&clearTimeout(i);try{a=JSON.parse(r.data[e])}catch(t){return Me.Z.warning("StudioRequest: Unable to parse StudioRequest response data",{error:t.toString(),type:e}),n(t)}if(a.error)return Me.Z.warning("StudioRequest: Error in response",{error:a.errorMessage,type:e}),n(a.errorMessage);window.removeEventListener("message",null),t(a)}))})),async getDataForRequest(){const e=await(0,_e.Z)(),t=await this.getItemsFromHomePage();if(!t.apiKey)throw new Error("API Key not found");if(null===t.authUser||void 0===t.authUser)throw new Error("Auth User ID not found");const n=`1.${wt()().format("YYYYMMDD")}.0.0`,i=await this.getAuthorizationHeader(),r=t.authUser;return{apiKey:t.apiKey,authHeader:i,authUser:r,payloadKeys:{CHANNEL_ID:e,DELEGATED_SESSION_ID:t.delegatedSessionId,CLIENT_VERSION:n,CLIENT_LANGUAGE:t.hl,CLIENT_REGION:t.gl}}},getCookieValue:()=>new Promise(((e,t)=>{try{chrome.runtime.sendMessage(chrome.runtime.id,{getCookies:{names:["SAPISID","__Secure-3PAPISID"]}},(t=>{const n=ro()(t,"[0].value");if(!n)throw Me.Z.error("StudioRequest: SAPISID or __Secure-3PAPISID cookie not found"),new Error("SAPISID or __Secure-3PAPISID cookie not found");e(n)}))}catch(e){t(e)}})),async getAuthorizationHeader(){try{const e=Math.round((new Date).getTime()/1e3).toString(),t=await this.getCookieValue();if(!t)return null;const n=window.location.origin;return`SAPISIDHASH ${e}_${Ys()(e+" "+t+" "+n)}`}catch(e){Me.Z.error("StudioRequest: getAuthorizationHeader error",{error:e.toString()})}},async getItemsFromHomePage(){if(this.homePageItems)return this.homePageItems;let e;try{if(e=await(0,P.Z)("youtube.home"),!e)throw new Error("No HTML to parse");const t=e.match(/["|']?DELEGATED_SESSION_ID["|']?: ?"([^"]+)"/),n=t&&t[1]?t[1]:"",i=e.match(/["|']?INNERTUBE_API_KEY["|']?: ?"([^"]+)"/),r=i&&i[1]?i[1]:null;let a=e.match(/authuser=([\d]+)/);a&&a[1]||(a=e.match(/["|']?(?:SESSION_INDEX|sessionIndex)["|']?: ?([0-9]+)[,|}]/));const o=a&&a[1];o||Me.Z.error("StudioRequest: authUser not found");const s=e.match(/["|']?INNERTUBE_CONTEXT_HL["|']?: ?"([^"]+)"/),l=s&&s[1]?s[1]:"en",c=e.match(/["|']?INNERTUBE_CONTEXT_GL["|']?: ?"([^"]+)"/),u={delegatedSessionId:n,apiKey:r,authUser:o,hl:l,gl:c&&c[1]?c[1]:"US"};return this.homePageItems=u,u}catch(t){(0,ke.Z)("(vidiq) getItemsFromHomePage error",t);const n="object"==typeof e?JSON.stringify(e):e;return Me.Z.warning("StudioRequest: Unable to get items needed for request",{error:t.toString(),home_page_html:n}),{}}}},Ks=$s,Gs={async getPlaylistsWithVideos(e){const t=window.location.origin,n=await Ks.getDataForRequest(),i=Ws.getPlaylistsByVideosPayload({videoIds:e,params:n.payloadKeys}),r=[`${t}/youtubei/v1/creator/list_creator_playlists?alt=json&key=${n.apiKey}`,n.authHeader,n.authUser,i];let a="getPlaylistsWithVideos";return 1===e.length&&(a+=`#${e[0]}`),Ks.makeRequest(a,r)},async getPlaylists(e){const t=window.location.origin,n=await Ks.getDataForRequest(),i=Ws.getPlaylistsPayload({pageToken:e,params:n.payloadKeys}),r=[`${t}/youtubei/v1/creator/list_creator_playlists?alt=json&key=${n.apiKey}`,n.authHeader,n.authUser,i];return Ks.makeRequest("getPlaylists",r)}},Xs={getVideos(e){const t=new(r().Deferred);return(0,P.Z)("youtube.playlistVideos",{playlistId:e}).then((e=>{const n=r()(e),i=[];let a,o,s=n.find(".pl-header-details a[data-ytid]").text().trim();if(n.find("#pl-video-table tr.pl-video").each(((e,t)=>{i.push(this.scrapeVideo(r()(t)))})),0===i.length){const t=xe(e);if(t){let e,n;try{e=t.contents.twoColumnBrowseResultsRenderer.tabs[0].tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].playlistVideoListRenderer,n=e.contents,a=we.Z.safely((()=>e.continuations[0].nextContinuationData)),o=!0}catch(e){(0,Y.Z)("Could not parse json")}we.Z.safely((()=>{const e=t.sidebar.playlistSidebarRenderer.items,n=e.findIndex((e=>e.playlistSidebarSecondaryInfoRenderer)),i=e[n].playlistSidebarSecondaryInfoRenderer.videoOwner.videoOwnerRenderer.title;s=i.simpleText,s||(s=i.runs[0].text)})),n&&L().each(n,(function(e){i.push(this.parseVideoStruct(e))}),this)}}if(a)return this.loadContinuation({continuation:a,videos:i,html:e}).done((e=>t.resolve(e.map((e=>(e.sameChannel=e.channel===s,e))))));o&&t.resolve(i),this.loadMoreVideos(e,i).done((e=>{t.resolve(L().map(e,(e=>(e.sameChannel=e.channel===s,e))))}))})).catch((n=>{Me.Z.warning("Playlists: getVideos failed",{error:n.toString(),playlistId:e}),t.reject(n)})),t.promise()},parseVideoStruct(e){const t=e.playlistVideoRenderer||{};return{id:we.Z.safely((()=>t.videoId)),title:we.Z.safely((()=>t.title.simpleText))||we.Z.safely((()=>t.title.runs[0].text)),thumb:we.Z.safely((()=>t.thumbnail.thumbnails[0].url)),duration:we.Z.safely((()=>t.lengthText.simpleText)),channel:we.Z.safely((()=>t.shortBylineText.runs[0].text))}},scrapeVideo(e){const t={};t.id=e.attr("data-video-id"),t.title=e.find(".pl-video-title-link").text().trim();const n=e.find(".yt-thumb-clip img").first();return t.thumb=n.attr("data-thumb")||n.attr("src"),t.duration=e.find(".pl-video-time .timestamp").text().trim(),t.channel=e.find(".pl-video-owner a[data-ytid]").text().trim(),t},loadContinuation(e){const t=new(r().Deferred),n=e.continuation.continuation,i=e.continuation.clickTrackingParams,a=we.Z.getVideosHeaders(e.html);return(0,P.Z)("youtube.playlistVidsContinue",{cToken:n,itct:i,headers:a}).then((n=>{const i=e.videos.slice(0),r=we.Z.safely((()=>n[1].response.continuationContents.playlistVideoListContinuation.contents))||[],a=we.Z.safely((()=>n[1].response.continuationContents.playlistVideoListContinuation.continuations[0].nextContinuationData));L().forEach(r,(function(e){i.push(this.parseVideoStruct(e))}),this),a?this.loadContinuation({videos:i,continuation:a}).done(t.resolve):t.resolve(i)})).catch((r=>{Me.Z.warning("Playlists: loadContinuation failed",{error:r.toString(),cToken:n,itct:i}),t.resolve(e.videos)})),t.promise()},loadMoreVideos(e,t,n){n||(n=new(r().Deferred)),t||(t=[]);const i=r()("<div>"+e+"</div>").find(".load-more-button");if(0===i.length)n.resolve(t);else{const e=i.attr("data-uix-load-more-href");r().get(e,(e=>{if(!e||L().isEmpty(e)||!e.content_html)return n.resolve(t);return r()("<table>"+e.content_html+"</table>").find("[data-video-id]").each(((e,n)=>{t.push(this.scrapeVideo(r()(n)))})),this.loadMoreVideos(e.load_more_widget_html,t,n)})).error((()=>{n.resolve(t)}))}return n.promise()},page(e){const t=new(r().Deferred);return Gs.getPlaylists(e).then((e=>{const n=[],i=[];e.playlists.forEach((e=>{const{playlistId:t,title:a}=e;if(!t)return;const o={id:t,title:a,videoIds:[]},s=new(r().Deferred);Xs.getVideos(t).done((e=>{o.videoIds=L().pluck(e,"id"),o.videos=e,n.push(o),s.resolve()})).fail(s.reject),i.push(s.promise())})),r().when(...i).always((()=>{t.resolve({playlists:n,nextPageToken:e.nextPageToken})}))})).catch((e=>{Me.Z.warning("Playlists: page failed",{error:e.toString()}),t.reject(e)})),t.promise()},all(e,t,n){return t||(t=new(r().Deferred)),n||(n=[]),this.page(e).done((e=>{n=n.concat(e.playlists),e.nextPageToken?this.all(e.nextPageToken,t,n):t.resolve(n)})).fail(t.reject),t.promise()},create:(e,t)=>r().post("/playlist_ajax?action_create_playlist=1",{n:e,p:"public",session_token:t}),addVideos:(e,t,n)=>r().post("/playlist_edit_service_ajax?action_add_video=1",{video_id:t.join(","),playlist_id:e,session_token:n}),localVideoIds(e){const t=(0,Ee.Z)()?"a.ytd-playlist-video-renderer":"tr.pl-video",n=r()(t),i=n.length;r().each(n,((t,n)=>{let a;if((0,Ee.Z)()){a=r()(n).attr("href").match(/watch\?v=([^&]+)/)[1]}else a=r()(n).attr("data-video-id");e(a,i)}))}},Qs=Xs;class Js extends Error{constructor(e){const t=super().stack;this.name="UnknownKeyException",this.message=e,this.stack=t}}class el{constructor(e){this.extra=e.extra||{},this.getData=e.getData,this.mergeData=e.mergeData,this.tasks=[],this.onProgressChange=e.onProgressChange}stop(){this.stopped=!0}progress(){const e=L().reduce(this.tasks,((e,t)=>t.promise?(e.requested+=1,(t.complete||t.failed)&&(e.finished+=1),e):e),{requested:0,finished:0});return e.finished/e.requested}callOnProgressChange(){"function"==typeof this.onProgressChange&&this.onProgressChange(this.progress())}missingKeys(e){if(!e)return[];const t=L().extend({},this.getData(),this.extra),n=L().filter(e,(e=>void 0===t[e]));return n}getTaskFromKey(e){const t=L().filter(this.tasks,(t=>t.returns.indexOf(e)>=0))[0];if(!t)throw new Js('No tasks match "'+e+'"');return t}getDependentTasks(e,t){t||(t=e);let n=L().chain(this.tasks).map((t=>{if(0!==L().intersection(t.requires,e).length)return t.returns})).compact().flatten().value();if(n=L().difference(n,t),n.length>0){const e=this.getDependentTasks(n,t.concat(n));return n.concat(e)}return n}register(e){const t=this.tasks.push(L().extend({},e)),n=this.tasks[t-1],i=this.getData();L().reduce(n.returns,((e,t)=>(void 0!==i[t]&&(e+=1),e)),0)===n.returns.length&&(n.complete=!0)}registerMany(e){L().each(e,(function(e){this.register(e)}),this)}runTask(e,t){if(!this.stopped){if(!1!==t.timeout){const n=setTimeout((()=>{"pending"===e.state()&&((0,ke.Z)("TaskManager: 🕒 task timed out",t.returns.join(", ")),e.reject("timeout"))}),7e3);e.always((()=>{clearTimeout(n)}))}try{const n=L().extend({},this.extra,this.getData()),i=L().pick(...[n].concat(t.requires||[])),r=t.fn.apply(i,[e.resolve,e.reject]);void 0!==r&&r!==window&&e.resolve(r)}catch(n){(0,ke.Z)("TaskManager: ⚠ task failed",t.returns.join(", "),n),e.reject(n)}}}callMergeData(e){this.stopped||this.mergeData(e)}request(e){const t=this.getTaskFromKey(e),n=(t.returns.join(", "),new(r().Deferred));if(t.complete)return n.resolve(L().pick(...[this.getData()].concat(t.returns))),n.promise();if(t.promise)return t.promise;const i=L().partial(this.runTask,n,t).bind(this),a=this.missingKeys(t.requires);return t.promise=n.promise(),t.promise.done((e=>{e&&(e[t.returns[0]]||1!==t.returns.length)||(e=L().object([[t.returns[0],e]]));try{this.callMergeData(e),t.complete=!0}catch(e){(0,ke.Z)("TaskManager: 💀 could not save data!",t.returns,e)}})).fail((()=>{this.callMergeData(L().object([[e,null]])),t.failed=!0})).always((()=>{setTimeout(this.callOnProgressChange.bind(this),1)})),a.length>0?this.requestMany(a).done(((e,r)=>{if(!1!==t.strict&&r.length>0)return n.reject();i()})):i(),t.promise}requestMany(e){const t=new(r().Deferred),n=[],i=[],a=L().chain(e).map((function(e){const t=this.getTaskFromKey(e);return t?t.returns[0]:null}),this).uniq().compact().value(),o=yo()((()=>{n.length+i.length===a.length&&t.resolve(i,n)}),200);return L().each(a,(function(e){this.request(e).fail((()=>{n.push(e)})).done((()=>{i.push(e)})).always((()=>{setTimeout(o,10)}))}),this),t.promise()}requestAll(){const e=L().uniq(L().flatten(L().pluck(this.tasks,"returns")));return this.requestMany(e)}rerun(e){const t=e.concat(this.getDependentTasks(e));this.resetMany(t),this.requestMany(t)}resetMany(e){L().each(e,(function(e){this.reset(this.getTaskFromKey(e))}),this)}reset(e){L().extend(e,{promise:void 0,complete:void 0,failed:void 0}),this.mergeData(L().object(L().map(e.returns,(e=>[e,void 0]))))}}const tl={US:"United States/Worldwide",DZ:"Algeria",AR:"Argentina",AU:"Australia",AT:"Austria",BH:"Bahrain",BE:"Belgium",BA:"Bosnia and Herzegovina",BR:"Brazil",BG:"Bulgaria",CA:"Canada",CL:"Chile",CO:"Colombia",HR:"Croatia",CZ:"Czech Republic",DK:"Denmark",EG:"Egypt",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GH:"Ghana",GR:"Greece",HK:"Hong Kong",HU:"Hungary",IN:"India",ID:"Indonesia",IE:"Ireland",IL:"Israel",IT:"Italy",JP:"Japan",JO:"Jordan",KE:"Kenya",KW:"Kuwait",LV:"Latvia",LB:"Lebanon",LY:"Libya",LT:"Lithuania",MK:"Macedonia",MY:"Malaysia",MX:"Mexico",ME:"Montenegro",MA:"Morocco",NL:"Netherlands",NZ:"New Zealand",NG:"Nigeria",NO:"Norway",OM:"Oman",PE:"Peru",PH:"Philippines",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RO:"Romania",RU:"Russia",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",ZA:"South Africa",KR:"South Korea",ES:"Spain",SE:"Sweden",CH:"Switzerland",TW:"Taiwan",TH:"Thailand",TN:"Tunisia",TR:"Turkey",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",VN:"Vietnam",YE:"Yemen"};const nl=function(e){let t=[];switch(e){case"subscribers_gained":t=[{subscribersGained:50}];break;case"insight_traffic":{const e=["SUBSCRIBER","YT_CHANNEL","NOTIFICATION","EXT_URL","RELATED_VIDEO","PLAYLIST","YT_OTHER_PAGE","NO_LINK_OTHER","YT_SEARCH","YT_PLAYLIST_PAGE"];t=L().map(e,(e=>({insightTrafficSourceType:e,views:Math.round(100*Math.random())})));break}case"views_data":t=[{averageViewPercentage:48.4,views:500}];break;case"insight_top_embeds":t=L().map(L().range(10),(()=>({views:Math.round(100*Math.random()),estimatedMinutesWatched:Math.round(100*Math.random()),insightPlaybackLocationDetail:we.Z.prettyRandomId()})));break;case"insight_traffic_yt_search":t=[{estimatedMinutesWatched:1,insightTrafficSourceDetail:"vid iq",views:1}];break;case"insight_playback_location":t=[{insightPlaybackLocationType:"WATCH",views:519}];break;case"insight_traffic_ext":t=L().map(L().range(10),(()=>({views:Math.round(100*Math.random()),estimatedMinutesWatched:Math.round(20*Math.random()),insightTrafficSourceDetail:we.Z.prettyRandomId()})));break;case"insight_traffic_yt_suggested":t=L().map(L().range(7),(()=>({estimatedMinutesWatched:1,views:100,insightTrafficSourceDetail:"dQw4w9WgXcQ"})));break;case"views_by_country":t=L().map(L().keys(tl),(e=>({country:e,views:Math.round(100*Math.random())})));break;case"views_by_device":{const e=["DESKTOP","MOBILE","TABLET","GAME_CONSOLE","TV"];t=L().map(e,(e=>({deviceType:e,views:Math.round(100*Math.random())})));break}case"keyword_recs":{const e=["humbug","marshwiggle","doodle","chumblespuz","stanley","popsicle","petunia","harambe","i see you","found","the words","behind the blurs","good job","but they are not","recommendations","so auth your","channel","just have patience"];return{keywords:L().map(e,(e=>({keyword:e,volume:100*Math.random(),competition:100*Math.random()}))),search_stats:{compvol:L().object(L().map(e,(e=>[e,{volume:100*Math.random(),competition:100*Math.random(),overall:100*Math.random()}])))}}}}return t.dummy=!0,t},il={returns:["actionable_seo_score","actionable_seo_score_data"],requires:["title","desc","keywords"],fn(e){const t=L().map(this.keywords,(e=>({text:e}))),n={title:this.title,description:this.desc,tags:t,client:(0,ve.h)().clientIdentity.split("/")[1],country:o.ZP.hottersearch.country,language:o.ZP.hottersearch.language};(0,P.Z)("vidiq.youtubeSeoScore",{body:n}).then((t=>e({actionable_seo_score_data:t,actionable_seo_score:t.overall})))}},rl={returns:["added_to_playlist"],requires:["video_id"],fn(e,t){Gs.getPlaylistsWithVideos([this.video_id]).then((t=>{e(t.playlistMemberships.filter((e=>"CONTAINS_REQUESTED_VIDEOS_ALL"===e.containsRequestedVideos)).length)})).catch(t)}},al={returns:["avg_channel_views_after_publish","avg_channel_views_after_publish_done"],requires:["channel_id"],fn(e){const t={avg_channel_views_after_publish:[],avg_channel_views_after_publish_done:!0};P.Z.expanded("vidiq.getAverageViews",{channelIds:[this.channel_id]}).then((({response:n,json:i})=>{if(!n||!n.ok)return e(t);t.avg_channel_views_after_publish=i,e(t)})).catch((()=>{e(t)}))}},ol={returns:["avg_daily_subs"],requires:["recent_channel_subs"],fn(){const e=this.recent_channel_subs;if(!(e.value<0))return e.value/e.period}},sl={returns:["avg_daily_views"],requires:["recent_channel_views"],fn(){const e=this.recent_channel_views;if(!(e.value<0))return e.value/e.period}},ll={strict:!1,returns:["avg_view_time"],requires:["views_data"],fn(){if(this.views_data)try{return this.views_data[0].averageViewPercentage/100}catch(e){}return null}},cl={returns:["captions_url"],requires:["video_id"],fn(e,t){P.Z.expanded("youtube.videoInfo",{videoId:this.video_id}).then((({text:n})=>{const i=decodeURIComponent(n);if(!i.includes("captionTracks"))return t(`Could not find captions for video: ${this.video_id}`);const[r]=/({"captionTracks":.*isTranslatable":(true|false)}])/.exec(i)||[],{captionTracks:a}=JSON.parse(`${r}}`),o=a.find((e=>".en"===e.vssId||"a.en"===e.vssId))||a[0];if(!o||o&&!o.baseUrl)return t(`Could not find en captions for ${this.video_id}`);e(o.baseUrl)}))}},ul=cl;async function dl(e){const t=await(0,P.Z)("youtube.videoEdit",{videoId:e});if(!t)throw new Error(`getCardsEndscreensToken failure: HTML not found for ${e}`);const n=function(e,t){t||(t="auth_token");const n=new RegExp("("+t+'|XSRF_TOKEN)[\'"]: ?"([^"]+)'),i=we.Z.unleakStrings(e.match(n));return i&&i[1]?i[2]:null}(t,"XSRF_TOKEN");if(!n)throw new Error(`getCardsEndscreensToken failure: Token not found in HTML for ${e}`);return n}const hl={returns:["cards_auth_token"],requires:["video_id"],fn(e,t){dl(this.video_id).then(e).catch(t)}};class pl{constructor(e,t){this.data=L().extend({},e),this.meta=L().extend({},t);const n=JSON.stringify(e).match(/,"([^"]+)InfoCard":/);this.data.type=n&&n[1],this._id=e.infoCardId,this._uid=e.infoCardEntityId,this._videoId=t.videoId,this.data.start_ms=parseInt(e.teaserStartMs,10)}toString(){const e=we.Z.sec2time(this.data.start_ms/1e3);return this.getDisplayName()+" Card @ "+e}getDisplayName(){return{associated:(0,ai.Z)("associatedWebsiteTitle"),associatedWebsite:(0,ai.Z)("associatedWebsiteTitle"),fundraising:(0,ai.Z)("fundraisingTitle"),merch:(0,ai.Z)("merchandiseTitle"),video:(0,ai.Z)("videoPlaylistTitle"),playlist:(0,ai.Z)("videoPlaylistTitle"),collaborator:(0,ai.Z)("channelTitle"),poll:(0,ai.Z)("pollTitle"),product:(0,ai.Z)("productTitle")}[this.data.type]||"Unknown type: "+this.data.type}getAll(){return{id:this._id,type:"card",style:this.data.type,data:this.getData(),kind:this.data.type,hasImage:this.data.image_url}}getData(){return L().extend({},this.data)}getPayload(e,t){const n=["vote_counts","auto_open","amount_per_channel_per_nonprofit","amount_per_card","visibility"],i={};let r=this.data.type;switch("playlist"===r&&(r="video"),"create"===e&&(i.key=""),r){case"video":this.data.target_url?i.video_url=this.data.target_url:(i.video_url="",i.video_item_id=this.data.video_id),n.push("video_id");break;case"donation":n.push("name"),n.push("custom_message"),i.query="miri"}const a=L().omit(...[this.data].concat(n));return a.type=r,a.show_warnings=!0,a[["action",e,a.type].join("_")]=1,L().extend({},a,i,t||{})}get(e){return this.data[e]}getKind(){return this.data.type}clone(){return new pl(this.data,this.meta)}set(e,t){return this.data[e]=t,this}adjustStart(e,t){const n=this.getAdjustedStart(e,t);return this.set("start_ms",n),this.set("teaserStartMs",n.toString())}editableValues(){return L().pick(this.data,"teaserText","customMessage")}searchableValues(){return L().extend({},L().pick(this.data,"title"),this.editableValues())}getEndMargin(e){return Math.round(Math.min(Math.max(.07*e,30),120))}getAdjustedStart(e,t){const n=1e3*e,i=1e3*t,r=1e3*this.getEndMargin(e),a=this.data.start_ms;let o=a;return a>i?(o=i-(n-a),o<0&&(o=a/e*t)):e>=120&&a>=n-r&&(o=i-(n-a)),Math.floor(o)}}const fl=class{constructor({delayBetweenRequests:e}){this.queue=[],this.delayBetweenRequests=e,this.interval=null}startProcessing(){this.interval=window.setInterval(this._processNextItem.bind(this),this.delayBetweenRequests)}stopProcessing(){window.clearInterval(this.interval)}addItem(e){this.queue=this.queue.concat(e)}_processNextItem(){const e=this.queue.length;if(0===e)return;const t=this.queue[0];this.queue=this.queue.slice(1,e+1),t()}};var ml=__webpack_require__(9693),gl=__webpack_require__.n(ml);const vl={context:{},videoId:""},yl={context:{},externalVideoId:"",infoCardEdit:{infoCards:[]}},bl={getCardsPayload({videoId:e,params:t}){const n=Vs(vl);return n.videoId=e,n.context.client=Vs(As),n.context.request=Vs(Is),t.DELEGATED_SESSION_ID.length&&(n.context.user=Vs(Os)),Us.stringify(n,t)},editCardsPayload({videoId:e,params:t,cards:n}){const i=Vs(yl);return i.externalVideoId=e,i.context.client=Vs(As),i.context.request=Vs(Is),t.DELEGATED_SESSION_ID.length&&(i.context.user=Vs(Os)),i.infoCardEdit.infoCards=gl()(n).map((e=>e.data)),Us.stringify(i,t)}},_l={async get(e){const t=window.location.origin,n=await Ks.getDataForRequest(),i=bl.getCardsPayload({videoId:e,params:n.payloadKeys}),r=[`${t}/youtubei/v1/creator/list_creator_info_cards?alt=json&key=${n.apiKey}`,n.authHeader,n.authUser,i],a=`getCards#${e}`,o=await Ks.makeRequest(a,r);return o.infoCards&&(o.infoCards=await Promise.all(gl()(o.infoCards).map((e=>_l.getAdjustedCard(e))))),o},async getAdjustedCard(e){if(!e.customUploadedImage)return e;try{const t=await(async e=>{const t=await fetch(e).then((e=>e.blob()));return await new Promise((e=>{const n=new FileReader;n.onload=()=>e(n.result),n.readAsDataURL(t)}))})(e.customUploadedImage.url);return{...e,..."string"==typeof t&&{imageDataUrl:t.replace("data:image/jpeg;base64,","")}}}catch(t){return Me.Z.error("Failed to get image data URL for card (StudioCards)",{error:t.toString()}),e}},async set({videoId:e,cards:t}){const n=window.location.origin,i=await Ks.getDataForRequest(),r=bl.editCardsPayload({videoId:e,params:i.payloadKeys,cards:t}),a=[`${n}/youtubei/v1/video_editor/edit_video?alt=json&key=${i.apiKey}`,i.authHeader,i.authUser,r],o=`editCards#${e}`;return Ks.makeRequest(o,a)}},wl=new fl({delayBetweenRequests:1500});wl.startProcessing();const kl={get(e){const t=new(r().Deferred);return _l.get(e).then((n=>{n.infoCards||(n.infoCards=[]);const i=n.infoCards.map((t=>new pl(t,{videoId:e})));t.resolve(L().compact(i))})).catch((e=>{(0,ke.Z)("(vidiq) Cards > get failed:",e),t.reject(e)})),t.promise()},setSelf:async(e,t)=>await _l.set({videoId:e,cards:t}),post(e){const t=e.startMs||e.card.get("start_ms"),n=e.card.getPayload(e.action,{start_ms:t});return this.submit(e.videoId,n)},update(e,t){return this.post({videoId:e,card:t,action:"update"})},create(e,t,n){return this.post({videoId:e,card:t,startMs:n,action:"create"})},delete(e,t){const n=new(r().Deferred);return dl(e).then((i=>{const r={session_token:i,key:t.get("key")};wl.addItem(this.deleteCard.bind(this,e,r,t,n))})).catch(L().partial(kl.reject,n,L(),t.data)),n.promise()},deleteCard(e,t,n,i){(0,P.Z)("youtube.cardsAjax",{videoId:e,payload:t,remove:!0}).then(i.resolve).catch((e=>{kl.reject(i,"Could not delete ("+e.status+")",n.data)}))},createMany(e,t){const n=new(r().Deferred),i=[],a=[];return r().when(...L().map(t,(r=>kl.create(e,r).always((function(...e){setTimeout(L().partial((e=>{if(a.push(e),a.length===t.length){if(i.length>0)return n.reject(i);n.resolve(a)}}),L().toArray(e)),100)})).fail((e=>{i.push(e+" ("+r.toString()+")")}))))),n.promise()},submit(e,t){if(we.Z.dryRun())return we.Z.simulateRequest();const n=new(r().Deferred);return dl(e).then((i=>{t=L().extend({},t,{session_token:i}),wl.addItem(this.submitCard.bind(this,e,t,n))})).catch(L().partial(kl.reject,n)),n.promise()},submitCard(e,t,n){this.ajaxPost(e,t).done(n.resolve).fail(n.reject)},ajaxPost(e,t){const n=new(r().Deferred);return(0,P.Z)("youtube.cardsAjax",{videoId:e,payload:t}).then((e=>{const i=(e.match(/{.+}/)||[])[0];let r;if(!e)return kl.reject(n,"No response",t);try{r=JSON.parse(i)}catch(e){return(0,Y.Z)("Error decoding JSON",i),kl.reject(n,"Unrecognized response format",t)}if(r.errors||r.form_errors){let e=r.errors[0];const i=r.form_errors[0]||{},a=i.field+(i.message?": "+i.message:null);a&&(e+=" - "+a),kl.reject(n,e,t)}else n.resolve(r)})).catch((e=>{kl.reject(n,"Could not update ("+e.status+")",t)})),n.promise()},reject:(e,t)=>e.reject(t)},xl=kl,El={},Cl=[/var ytInitialPlayerResponse = ({.+});var meta/,/(?:window\["ytInitialPlayerResponse"\]|var ytInitialPlayerResponse) = ([^\n]+);/,/(?:window\["ytInitialPlayerResponse"\]|var ytInitialPlayerResponse) = (.+?});/];function Sl(e,t){let n;const i=e.match(t);try{if(!i||!i[1])throw new Error("No match found");n=JSON.parse(i[1])}catch(e){(0,ke.Z)("(vidiq) Failed to parse ytInitialPlayerResponse (3rd method)",e)}return n}const Tl=e=>{if(!e||!e.length)return(0,ke.Z)("(vidiq) Failed to parsed ytInitialPlayerResponse; no HTML provided"),El;for(const t of Cl){const n=Sl(e,t);if(n)return n}return Me.Z.error("DOMAPI: Unable to scrape ytInitialPlayerResponse"),El},Dl={returns:["cards"],requires:["video_id","watch_page_html"],fn(e){try{const t=Tl(this.watch_page_html).cards.cardCollectionRenderer.cards;if(t&&t.length)return e(t.length)}catch(e){}xl.get(this.video_id).done((t=>{if(t&&t.length)return e(t.length);e(0)})).fail((()=>e(0)))}},Fl={returns:["category"],requires:["$h","watch_page_html","is_new_layout"],fn(e,t){const n=Eo();if("en"!==n&&"en-GB"!==n)return t();if(this.is_new_layout){let e=this.watch_page_html.match(/"simpleText":"Category"},"contents":\[{"runs":\[{"text":"([^"]+)"/),t=e&&e[1];return t||(e=this.watch_page_html.match(/"category":"([^"]+)"/),t=e&&e[1]),t||(t=""),t.replace("\\u0026","&")}return this.$h.find('.watch-extras-section h4:contains("Category")').siblings().text().trim()}},Ml=Fl,Al={returns:["channel_country"],requires:["channel_username_url","channel_id"],fn(e,t){r().get("https://www.youtube.com"+this.channel_username_url+"/about").done((n=>{let i;if((0,Ee.Z)()){const e=n.match(/"country":{"simpleText":"([^"]+)"}/);if(!e||!e[1])return t();i=e[1]}else{const e=r()(n).find(".country-inline");if(!e.length)return t();i=e.text().trim()}i=i.split(" ").join("\n\n"),(0,P.Z)("vidiq.youtubeDataProxy",{type:"channels",params:{part:"snippet",id:this.channel_id}}).then((t=>{try{const n=t.items[0].snippet.country;e({value:i,code:n})}catch(t){e({value:i})}}))})).fail(t)}},Il=Al,Ol={returns:["channel_growth_stats"],requires:["channel_id"],fn(e,t){yt.Z.getChannelGrowthStats(this.channel_id).then(e).catch(t)}},Nl=chrome.runtime.getURL("images/default-channel-icon.png"),Pl={returns:["channel_icon"],requires:["watch_page_html","is_new_layout"],fn(){if(this.is_new_layout){const e=this.watch_page_html.match(/videoOwnerRenderer":{"thumbnail":{"thumbnails":\[{"url":"([^"]+)/);return e&&e[1]?e[1]:Nl}return Nl}},Rl=Pl,jl={returns:["channel_id"],requires:["watch_page_html"],fn(){let e;try{e=xe(this.watch_page_html).contents.twoColumnWatchNextResults.results.results.contents.find((e=>e.videoSecondaryInfoRenderer)).videoSecondaryInfoRenderer.owner.videoOwnerRenderer.title.runs[0].navigationEndpoint.browseEndpoint.browseId}catch(e){}return e||Me.Z.error(new Error("ChannelIdTask: Unable to find channel ID"),{channelId:e}),e}},{addPathChangeListener:Ll,removePathChangeListener:ql,emitPathChange:Zl}=(()=>{let e=[];return{addPathChangeListener:t=>{e=[...e,t]},removePathChangeListener:t=>{e=e.filter((e=>e!==t))},emitPathChange:t=>{e.forEach((e=>e(t)))}}})(),Bl=(0,h.createContext)({addPathChangeListener:Ll,removePathChangeListener:ql,currentPath:"/"}),Vl=({children:e})=>{const[t,n]=(0,h.useState)(window.location.pathname);return(0,h.useEffect)((()=>{const e=document.querySelector("title");if(!e)return;const t=new MutationObserver((()=>{const e=window.location.pathname;"/subscribe_embed"!==e&&(n(e),Zl(e))}));return t.observe(e,{subtree:!0,characterData:!0,childList:!0}),()=>t.disconnect()}),[]),"/subscribe_embed"===t?null:h.createElement(Bl.Provider,{value:{currentPath:t,addPathChangeListener:Ll,removePathChangeListener:ql}},e)},zl={selected:void 0},Ul=(e,t)=>"set_selected"===t.type?{...e,selected:t.selected}:e,Wl=(0,h.createContext)({state:zl,setSelected:()=>null,passthroughProps:void 0});function Hl(){return Hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hl.apply(this,arguments)}const Yl=Qn("div",{target:"e1u1a6vc0"})("margin-left:",(e=>e.marginLeft||"8px"),";background:var(--blue);color:#fff;padding:2px 4px;border-radius:4px;font-weight:500;display:inline-block;font-size:",(e=>e.fontSize||"10px"),";line-height:12px;"),$l=e=>h.createElement(Yl,Hl({className:"vidiq-beta-tag"},e),(0,ai.Z)("beta").toUpperCase());function Kl(){return Kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kl.apply(this,arguments)}function Gl(e){return h.createElement("svg",Kl({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 11 12",width:"11",height:"12"},e),h.createElement("path",{fill:"currentColor",d:"M.257 10.453a.613.613 0 000 .862c.24.232.636.232.868 0L5.5 6.939l4.375 4.376c.232.232.636.239.868 0a.62.62 0 000-.862L6.368 6.071l4.375-4.375a.613.613 0 000-.861.615.615 0 00-.868 0L5.5 5.21 1.125.835a.609.609 0 00-.868 0 .62.62 0 000 .861l4.375 4.375-4.375 4.382z"}))}const Xl={xs:"10px",s:"12px",m:"14px",l:"16px",xl:"18px","2xl":"24px"},Ql={xs:"13px",s:"16px",m:"18px",l:"20px",xl:"22px","2xl":"36px"},Jl={xs:"normal",s:"500",m:"500",l:"bold",xl:"bold","2xl":"bold"},ec={display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"center"},tc=Qn("div",{target:"e1pit9a0"})((({size:e="m",color:t="var(--text-primary)",fontWeight:n,margin:i,padding:r,flexGrow:a,flexRowCenter:o,textOverflow:s,lineClamp:l,cursor:c,gradient:u,textAlign:d})=>({fontSize:Xl[e],lineHeight:Ql[e],fontWeight:n||Jl[e],color:t,...i&&{margin:i},...r&&{padding:r},...a&&{flexGrow:a},...c&&{cursor:c},...s&&{textOverflow:s,overflow:"hidden"},...d&&{textAlign:d},...o&&ec,...l&&{display:"-webkit-box",WebkitLineClamp:l,WebkitBoxOrient:"vertical",textOverflow:"ellipsis",overflow:"hidden"},...u&&{background:"var(--text-blue-purple-gradient)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}})),"");function nc(){return nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nc.apply(this,arguments)}const ic=Qn("div",{target:"e1f8ijqt1"})({name:"1przot9",styles:"margin:16px 0 16px 24px;display:flex;flex-flow:row;justify-content:space-between"}),rc=Qn("div",{target:"e1f8ijqt0"})({name:"1i4hwnd",styles:"height:100%;font-size:13px;display:flex;align-items:center;padding:0px 24px 0 16px;cursor:pointer;svg{color:var(--text-primary);}"}),ac=({type:e,label:t,onClose:n,headerExtra:i,headerProps:r,usingDropdown:a})=>h.createElement(ic,null,h.createElement(tc,nc({size:"xl",flexRowCenter:!0},a&&{margin:"0 0 0 200px"}),t,"videoideas"===e&&h.createElement($l,null)),h.createElement(oi,null,i&&h.createElement(i,r),h.createElement(rc,{onClick:n},h.createElement(Gl,null)))),oc={ERROR_CHANNELS_REQUEST:"ERROR_CHANNELS_REQUEST",ERROR_NO_AUTHED_CHANNELS:"ERROR_NO_AUTHED_CHANNELS",ERROR_REAUTH_CHANNEL:"ERROR_REAUTH_CHANNEL",ERROR_KEYWORDS_REQUEST:"ERROR_KEYWORDS_REQUEST",ERROR_NO_KEYWORDS:"ERROR_NO_KEYWORDS",ERROR_NO_PUBLIC_VIDS:"ERROR_NO_PUBLIC_VIDS",ERROR_NO_RECENT_VIDS:"ERROR_NO_RECENT_VIDS",ERROR_WAIT_5_MIN:"ERROR_WAIT_5_MIN",ERROR_JUST_UPLOADED:"ERROR_JUST_UPLOADED",UNKNOWN:"UNKNOWN"},sc={primary:(0,ai.Z)("oopsWereInTrouble"),secondary:ai.Z.html("issueGettingIdeas")},lc={primary:(0,ai.Z)("publishANewVideo"),secondary:`✅ ${(0,ai.Z)("publishAPublicVideoMessage")}`},cc={[oc.ERROR_CHANNELS_REQUEST]:sc,[oc.ERROR_NO_AUTHED_CHANNELS]:{primary:(0,ai.Z)("connectYourYtChannel"),secondary:ai.Z.html("forDailyIdeasAuthChannel")},[oc.ERROR_REAUTH_CHANNEL]:{primary:(0,ai.Z)("reconnectYourYtChannel"),secondary:(0,ai.Z)("forDailyIdeasAuthChannel")},[oc.ERROR_KEYWORDS_REQUEST]:sc,[oc.ERROR_NO_KEYWORDS]:sc,[oc.ERROR_NO_PUBLIC_VIDS]:lc,[oc.ERROR_NO_RECENT_VIDS]:lc,[oc.ERROR_WAIT_5_MIN]:{primary:(0,ai.Z)("stayTuned")},[oc.ERROR_JUST_UPLOADED]:{primary:(0,ai.Z)("almostThere")},[oc.UNKNOWN]:sc},uc={[oc.ERROR_CHANNELS_REQUEST]:"Request to get authenticated channels failed",[oc.ERROR_NO_AUTHED_CHANNELS]:"User has no authenticated channels",[oc.ERROR_KEYWORDS_REQUEST]:"Request to get ideas failed",[oc.ERROR_NO_KEYWORDS]:"No ideas found for channel",[oc.UNKNOWN]:"Unknown error",[oc.ERROR_WAIT_5_MIN]:"User just authenticated (5 min)",[oc.ERROR_REAUTH_CHANNEL]:"User needs to re-authenticate channel",[oc.ERROR_NO_PUBLIC_VIDS]:"User has no public videos",[oc.ERROR_NO_RECENT_VIDS]:"User has no recent videos",[oc.ERROR_JUST_UPLOADED]:"User just uploaded a new video"},dc=({authed:e,enterprise:t,boost_coach:n,boost_lite:i,boost_plus:r,boost:a,pro:o})=>e?t?{id:"enterprise",name:"enterprise"}:n?{id:"boost_coach",name:"boost+ (5 channels)"}:i?{id:"boost_lite",name:"boost (1 channel)"}:r?{id:"boost_plus",name:"boost (5 channels)"}:a?{id:"boost",name:"boost (3 channels)"}:o?{id:"pro",name:"pro"}:{id:"basic",name:"free"}:{id:"loggedout",name:"loggedout"};function hc(e,t){return"number"==typeof e&&"number"==typeof t?e-t:0}function pc(e){return null==e?0:"number"==typeof e?e:String(e)}function fc(e,t,n,i){return e&&e.length?i?n?e.sort(((e,n)=>i[pc(n[t])]-i[pc(e[t])])):e.sort(((e,n)=>i[pc(e[t])]-i[pc(n[t])])):n?e.sort(((e,n)=>hc(pc(n[t]),pc(e[t])))):e.sort(((e,n)=>hc(pc(e[t]),pc(n[t])))):e}const mc=e=>"medium"===e?(0,ai.Z)("mediumScore"):"high"===e?(0,ai.Z)("highScore"):(0,ai.Z)("veryHighScore"),gc=e=>"medium"===e?"👍":"high"===e?"🔥":"🚀",vc=(e,t)=>t.find((t=>t.channel_id===e)),yc=e=>({text:e.name,value:e.channel_id,image:e.avatar}),bc=e=>e.filter((({marked_as:e})=>!e)),_c=(e,t)=>{const n=(0,ai.Z)("unexpectedError");return"add"===e&&"savedIdeas"===t?`${n} - ${(0,ai.Z)("failedToSaveIdea")}`:"add"===e&&"dismissedIdeas"===t?`${n} - ${(0,ai.Z)("failedToDismissIdea")}`:"remove"===e&&"savedIdeas"===t?`${n} - ${(0,ai.Z)("failedToDeleteSavedIdea")}`:`${n} - ${(0,ai.Z)("failedToRestoreDismissedIdea")}`},wc=(e,t)=>1-.15*(e-1-(0===t&&e>=4?1:t)),kc=(e,t)=>{const n=e-1-(0===t&&e>=4?1:t);return n*(45-3*n)},xc=e=>{var t,n;return e||(e=J.Z.getData()),null===(t=e)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id},Ec=()=>{const e=J.Z.getData(),{name:t,id:n}=dc(e);return{set:{"plan name":t,"plan id":n,"user id":xc(e)}}},Cc=(e,t,n)=>{ht(`sorted rows in ${"saved"===e?"saved":"video"} ideas table`,{"sort order":t?"descending":"ascending","channel id":n,via:lt(),_identify:Ec()})},Sc=({channelId:e,algorithmId:t,error:n,type:i,ideas:r})=>{let a=null;if(n)a=uc[n];else if(!n&&r&&r.length>0){0===bc(r).length&&(a="User reached ideas limit")}ht("attempt to render video ideas table",{channel_id:e,user_id:xc(),date:new Date,via:lt(),algorithm_id:t,error:a,type:i,_identify:Ec()})},Tc=({group:e,idea:t,channelId:n,deleted:i,type:r})=>{let a=`${e} idea in video ideas`;i&&(a=`${"saved"===e?"deleted":"restored"} ${a}`),ht(a,{idea:t,"channel id":n,type:r,via:lt()})},Dc=(e,t,n)=>{ht((e?"expanded":"minimized")+" videos on video ideas table",{keyword:t,type:n,via:lt()})},Fc=async({dispatch:e,group:t,channelId:n,idea:i,ideaId:r,score:a,scoreLabel:o,dailyIdeas:s,groupIdeas:l,selectedIdeas:c,view:u})=>{try{e({type:"UPDATE",payload:{ideas:s.map((e=>e.id!==r?e:{...e,marked_as:"savedIdeas"===t?"f":"d"})),...l.length>0&&{[t]:l.concat({id:r,idea:i,score:a,score_label:o,channel_id:n,created_at:Math.round((new Date).valueOf()/1e3)})}}});const{response:d}=await P.Z.expanded("vidiq.addIdea",{group:t,channelId:n,ideaId:r});if(!d||!d.ok)throw new Error(`${d.status} ${d.statusText}`);e({type:"UPDATE",payload:{selectedIdeas:c.filter((e=>e.id!==r)),[`${t}TooltipActive`]:!0,..."savedIdeas"===t&&{savedIdeasNotification:!0}}}),Tc({group:"savedIdeas"===t?"saved":"dismissed",idea:i,channelId:n,type:"card"===u?"swipe":"toggle"})}catch(n){Me.Z.error("Video Ideas Actions (videoIdeasActions) addIdeaToGroup error",{error:n.message}),(({action:e,reason:t,type:n})=>{ht(`failed to ${e} video idea`,{reason:t,type:n,via:lt()})})({action:"savedIdeas"===t?"save":"dismiss",reason:n.message,type:u}),e({type:"UPDATE",payload:{ideas:s,[t]:l,errorPopupMessage:_c("add",t)}})}},Mc=async(e,t,n,i)=>{let r,a;try{if(e({type:"FETCH_IDEAS"}),!n){i&&i.length||(i=await(async e=>{const{json:t,response:n}=await P.Z.expanded("vidiq.channels");if(!n||!n.ok||!t)throw Me.Z.error("Video Ideas Actions (videoIdeasActions) fetchChannels error",{response:n}),new Error(oc.ERROR_CHANNELS_REQUEST);const{channels:i}=t;if(!i||!i.length)throw new Error(oc.ERROR_NO_AUTHED_CHANNELS);return e({type:"UPDATE",payload:{channels:i}}),i})(e));const t=await(async e=>{const t=await(0,_e.Z)();return e.find((e=>e.channel_id===t))})(i);n=t?t.channel_id:i[0].channel_id}e({type:"UPDATE",payload:{selectedChannelId:n}});const{json:o,response:s}=await P.Z.expanded("vidiq.fetchIdeas",{group:"dailyIdeas",channelId:n});if(r=o.algorithm_id,a=null==o?void 0:o.details,!s||!s.ok||!o){if(Me.Z.error("Video Ideas Actions (videoIdeasActions) fetchIdeas error",{response:s}),o&&"daily_ideas.channel_has_no_public_videos"===o.code)throw new Error(oc.ERROR_NO_PUBLIC_VIDS);if(o&&"daily_ideas.channel_has_no_recent_videos"===o.code)throw new Error(oc.ERROR_NO_RECENT_VIDS);if(o&&"channel_not_authorized"===o.code)throw new Error(oc.ERROR_NO_AUTHED_CHANNELS);if(o&&"channel_needs_to_be_re_authenticated"===o.code)throw new Error(oc.ERROR_REAUTH_CHANNEL);if(o&&"daily_ideas.channel_just_authenticated"===o.code)throw new Error(oc.ERROR_WAIT_5_MIN);if(o&&"daily_ideas.collecting_stats"===o.code)throw new Error(oc.ERROR_JUST_UPLOADED);if(o&&"daily_ideas.no_data"===o.code)throw new Error(oc.ERROR_NO_KEYWORDS);throw new Error(oc.ERROR_KEYWORDS_REQUEST)}if(!o.ideas||!o.ideas.length)throw new Error(oc.ERROR_NO_KEYWORDS);Sc({channelId:n,algorithmId:r,type:t,ideas:o.ideas}),e({type:"FETCH_IDEAS_SUCCESS",ideas:o.ideas,algorithmId:r})}catch(i){const o=Object.keys(oc).indexOf(i.message)>=0;o||Me.Z.error("Video Ideas Actions (videoIdeasActions) fetchIdeas unknown error",{error:i.message});const s=o?i.message:oc.UNKNOWN;Sc({channelId:n,algorithmId:r,error:s,type:t});const l=parseInt(a,10);e({type:"FETCH_IDEAS_ERROR",error:s,algorithmId:r,...s===oc.ERROR_WAIT_5_MIN&&a&&{justAuthedTimeLeft:l},...s===oc.ERROR_JUST_UPLOADED&&a&&{justUploadedTimeLeft:isNaN(l)?8:Math.ceil(l/60/60/24)}})}},Ac=async(e,t)=>{try{e({type:"FETCH_VIDEOS",idea:t});const n=await(async({query:e,maxResults:t=10})=>{const{json:n,response:i}=await P.Z.expanded("vidiq.youtubeDataProxy",{type:"search",params:{q:e,part:"snippet",type:"video",maxResults:t}});if(!(i&&i.ok&&n&&n.items))throw new Error("fetchSearchResultsFromApi error");return n.items.map((e=>({id:e.id.videoId,...e.snippet})))})({query:t}),i=await(async({videoIds:e})=>{const{json:t,response:n}=await P.Z.expanded("vidiq.youtubeDataProxy",{type:"videos",params:{id:e.join(","),part:"statistics"}});if(!(n&&n.ok&&t&&t.items))throw new Error("fetchVideosStatsFromApi error");return t.items.reduce(((e,t)=>{const{id:n,statistics:i}=t;return{[n]:i,...e}}),{})})({videoIds:n.map((({id:e})=>e))}),r=await(async({channelIds:e})=>{const t=wt()().locale("en").subtract(1,"year").format("YYYY-MM-DD"),{json:n,response:i}=await P.Z.expanded("vidiq.youtubeChannelPublicStats",{cid:e.join(","),startDate:t});if(!i||!i.ok||!n)throw new Error("fetchInfoForChannels error");return n.reduce(((e,t)=>{const{id:n,stats:i,thumbnails:r}=t;return{...e,[n]:{subscribers:i[i.length-1].subscribers,avatar:r}}}),{})})({channelIds:n.map((({channelId:e})=>e))}),a=n.map((e=>{const t=r[e.channelId]||{},n=(i[e.id]||{}).viewCount;return{id:e.id,thumbnail:e.thumbnails.high.url,title:e.title,channelTitle:e.channelTitle,channelAvatar:t.avatar,channelSubs:t.subscribers,views:n&&parseInt(n,10),publishDate:new Date(e.publishedAt)}}));e({type:"FETCH_VIDEOS_SUCCESS",idea:t,videos:a})}catch(n){Me.Z.error("Video Ideas Actions (videoIdeasActions) fetchVideos error",{error:n.message}),e({type:"FETCH_VIDEOS_ERROR",idea:t})}},Ic={loading:!0,error:null,ideas:[],selectedIdeas:[],savedIdeas:[],savedIdeasLoading:!1,savedIdeasError:null,dismissedIdeas:[],dismissedIdeasLoading:!1,dismissedIdeasError:null,sortDescending:!0,channels:[],selectedChannelId:null,expanded:!1,algorithmId:null,selectedTab:"daily",sortSavedDescending:!0,sortSavedBy:"view_prediction",savedIdeasNotification:!1,savedIdeasTooltipActive:!1,dismissedIdeasTooltipActive:!1,errorPopupMessage:void 0,videos:{},view:"card",justAuthedTimeLeft:void 0,justUploadedTimeLeft:void 0},Oc=(e,t)=>{switch(t.type){case"UPDATE":return{...e,...t.payload};case"RESET":return{...Ic,channels:e.channels,view:e.view};case"SET_SELECTED_TAB":return{...e,selectedTab:t.selectedTab,..."saved"===t.selectedTab&&{savedIdeasNotification:!1}};case"TOGGLE_SORT_DESCENDING":return{...e,sortDescending:!e.sortDescending};case"TOGGLE_SORT_SAVED_DESCENDING":return{...e,sortSavedDescending:!e.sortSavedDescending,...t.sort&&{sortSavedBy:t.sort}};case"FETCH_IDEAS":return{...e,loading:!0,error:null};case"FETCH_IDEAS_SUCCESS":return{...e,ideas:t.ideas,algorithmId:t.algorithmId,loading:!1,error:null};case"FETCH_IDEAS_ERROR":return{...e,ideas:[],algorithmId:t.algorithmId,loading:!1,error:{type:t.error,message:cc[t.error]},justAuthedTimeLeft:t.justAuthedTimeLeft,justUploadedTimeLeft:t.justUploadedTimeLeft};case"FETCH_GROUP_IDEAS":{const{group:n}=t;return{...e,[`${n}Loading`]:!0,[`${n}Error`]:null}}case"FETCH_GROUP_IDEAS_SUCCESS":{const{group:n,ideas:i}=t;return{...e,[n]:i,[`${n}Loading`]:!1,[`${n}Error`]:null}}case"FETCH_GROUP_IDEAS_ERROR":{const{group:n,error:i}=t;return{...e,[n]:[],[`${n}Loading`]:!1,[`${n}Error`]:i}}case"FETCH_VIDEOS":{const{idea:n}=t;return{...e,videos:{...e.videos,[n]:{loading:!0,error:!1,content:[]}}}}case"FETCH_VIDEOS_SUCCESS":{const{idea:n,videos:i}=t;return{...e,videos:{...e.videos,[n]:{loading:!1,error:!1,content:i}}}}case"FETCH_VIDEOS_ERROR":{const{idea:n}=t;return{...e,videos:{...e.videos,[n]:{loading:!1,error:!0,content:[]}}}}}},Nc=(0,h.createContext)({state:Ic,fetchIdeas:()=>null,fetchGroupIdeas:()=>null,fetchVideos:()=>null,toggleExpanded:()=>null,toggleSortDescending:()=>null,setSelectedIdeas:()=>null,setSelectedTab:()=>null,addIdeaToGroup:()=>null,removeIdeaFromGroup:()=>null,removeAllDismissedIdeas:()=>null,closeError:()=>null,onChangeChannel:()=>null,setView:()=>null}),Pc={},Rc=({children:e})=>{const[t,n]=(0,h.useReducer)(Oc,Pc.state||Ic);Pc.state=t;const i=async e=>{Mc(n,t.view,e,t.channels)},r={state:t,fetchIdeas:i,fetchGroupIdeas:(e,t)=>{t&&(async(e,t,n)=>{try{e({type:"FETCH_GROUP_IDEAS",group:t});const{json:i,response:r}=await P.Z.expanded("vidiq.fetchIdeas",{group:t,channelId:n});if(!r||!r.ok||!i)throw new Error(`Fetch ${"savedIdeas"===t?"saved":"dismissed"} ideas error`);e({type:"FETCH_GROUP_IDEAS_SUCCESS",group:t,ideas:i})}catch(n){return Me.Z.error("Video Ideas Actions (videoIdeasActions) fetchGroupIdeas error",{error:n.message}),void e({type:"FETCH_GROUP_IDEAS_ERROR",group:t,error:n.message})}})(n,e,t)},fetchVideos:e=>{Ac(n,e)},toggleExpanded:()=>{const e=!t.expanded;var i;t.selectedChannelId&&(n({type:"UPDATE",payload:{expanded:e}}),e?(i=t.selectedChannelId,ht("expanded video ideas table",{"channel id":i,via:lt(),_identify:Ec()})):(e=>{ht("minimized video ideas table",{"channel id":e,via:lt(),_identify:Ec()})})(t.selectedChannelId))},toggleSortDescending:(e,t)=>{"daily"===e?n({type:"TOGGLE_SORT_DESCENDING"}):"saved"===e&&n({type:"TOGGLE_SORT_SAVED_DESCENDING",sort:t})},setSelectedIdeas:e=>{n({type:"UPDATE",payload:{selectedIdeas:e}})},setSelectedTab:e=>{e!==t.selectedTab&&(n({type:"SET_SELECTED_TAB",selectedTab:e}),(({tab:e,channelId:t})=>{ht("changed tab in video ideas",{tab:`${e} ideas`,"channel id":t,via:lt()})})({tab:e,channelId:t.selectedChannelId}))},addIdeaToGroup:async(e,i,r,a,o)=>{const{selectedChannelId:s,view:l}=t;s&&Fc({dispatch:n,group:e,channelId:s,idea:r,ideaId:i,score:a,scoreLabel:o,dailyIdeas:Vs(t.ideas),groupIdeas:Vs(t[e]),selectedIdeas:Vs(t.selectedIdeas),view:l})},removeIdeaFromGroup:async(e,i,r)=>{const{selectedChannelId:a}=t;a&&((async({dispatch:e,group:t,channelId:n,ideaId:i,groupIdeas:r,dailyIdeas:a})=>{try{e({type:"UPDATE",payload:{[t]:r.filter((e=>e.id!==i)),ideas:a.map((e=>e.id!==i?e:{...e,marked_as:void 0}))}});const{response:o}=await P.Z.expanded("vidiq.deleteIdea",{group:t,channelId:n,ideaId:i});if(!o||!o.ok)throw new Error(`Remove idea from ${t} error`)}catch(n){Me.Z.error("Video Ideas Actions (videoIdeasActions) removeIdeaFromGroup error",{error:n.message}),e({type:"UPDATE",payload:{[t]:r,ideas:a,errorPopupMessage:_c("remove",t)}})}})({dispatch:n,group:e,channelId:a,ideaId:i,groupIdeas:Vs(t[e]),dailyIdeas:Vs(t.ideas)}),Tc({group:"savedIdeas"===e?"saved":"dismissed",idea:r,channelId:t.selectedChannelId,deleted:!0}))},removeAllDismissedIdeas:async()=>{const{selectedChannelId:e}=t;e&&((async({dispatch:e,channelId:t,groupIdeas:n,dailyIdeas:i})=>{try{e({type:"UPDATE",payload:{dismissedIdeas:[],ideas:i.map((e=>"d"!==e.marked_as?e:{...e,marked_as:void 0}))}});const{response:n}=await P.Z.expanded("vidiq.restoreAllDismissedIdeas",{channelId:t});if(!n||!n.ok)throw new Error(n.status)}catch(t){Me.Z.error("Video Ideas Actions (videoIdeasActions) restoreAllDismissedIdeas error",{error:t.message}),e({type:"UPDATE",payload:{dismissedIdeas:n,ideas:i,errorPopupMessage:_c("remove","dismissedIdeas")}})}})({dispatch:n,channelId:e,groupIdeas:Vs(t.dismissedIdeas),dailyIdeas:Vs(t.ideas)}),(e=>{ht("restored all dismissed ideas in video ideas",{"channel id":e,via:lt()})})(t.selectedChannelId))},closeError:()=>{n({type:"UPDATE",payload:{errorPopupMessage:void 0}})},onChangeChannel:e=>{(e=>{ht("changed channel in video ideas table",{"channel id":e,via:lt(),_identify:Ec()})})(e),n({type:"RESET"}),i(e)},setView:e=>{n({type:"UPDATE",payload:{view:e}})}};return h.createElement(Nc.Provider,{value:r},e)},jc=we.Z.keyMirror(["UPDATE","ADD_TAG"],"KEYWORD_DATA"),Lc=({keyword:e,source:t,location:n})=>{n||(n=(0,be.Z)());const i=J.Z.getData().user||{};ht("searched keyword",{_identify:{add:{"search count":1},set:{"user id":i.id,"plan name":(0,ve.h)().getUserType()}},"search query":e,via:`extension ${t}`,location:n,"dark mode enabled":$o()})},qc=new ds.Z("KeywordDataStore",{_data:{keywords:[],keywordStats:{},stagedKeywords:[],relatedKeywords:[],trendingVideos:[],addable:!1,namespace:null,loadingRelatedKeywords:!1,errorRelatedKeywords:null,loadingTrendingVideos:!1,error:null,country:null,language:null,errorTrendingVideos:null,userTags:[],numOmitted:null,sort:"related_score",feature:null}});qc.dispatchToken=ko.Z.register((e=>{const t=qc,n=jc;if(t)switch(e.action){case n.UPDATE:{const{keywords:n}=e.payload;n&&t.data.keywords.join(",")!==n.join(",")&&Lc({keyword:n.join(","),source:"keyword inspector",location:"Keyword Inspector"}),L().extend(t.data,e.payload),t.emitChange();break}case n.ADD_TAG:t.data.userTags.push(e.tag),t.emitChange()}}));const Zc=qc;const Bc=Qn("div",{target:"eu3020t4"})("display:flex;flex-flow:column;background:var(--background-secondary);border:1px solid var(--border-primary);box-shadow:0px 20px 30px rgba(0, 0, 0, 0.08);border-radius:10px;margin:16px 24px;padding:24px 0;",(e=>Boolean(e.minHeight)&&`min-height: ${e.minHeight};`)," ",(e=>e.width&&`width: ${e.width};`),";"),Vc=Qn("div",{target:"eu3020t3"})({name:"164m387",styles:"background:var(--background-tinted);border-radius:12px;padding:8px 16px;margin:0 auto;font-weight:600;font-size:12px;line-height:16px"}),zc=Qn("span",{target:"eu3020t2"})({name:"qamjgr",styles:"margin-right:4px"}),Uc=Qn("div",{target:"eu3020t1"})({name:"rteq3u",styles:"background:var(--text-blue-purple-gradient);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:inline-block"}),Wc=Qn("span",{target:"eu3020t0"})({name:"if057z",styles:"text-decoration:underline;cursor:pointer;margin-left:4px;box-shadow:0 1px var(--text-purple)"}),Hc=({children:e,featureInfoEmoji:t,featureInfoText:n,featureInfoLink:i,hideFeatureInfo:r,minHeight:a,width:o})=>h.createElement(Bc,{minHeight:a,width:o},!r&&h.createElement(Vc,null,t?h.createElement(zc,null,t):null,h.createElement(Uc,null,n,!(null==i||!i.text)&&h.createElement(Wc,{onClick:()=>{null!=i&&i.link&&window.open(i.link,"_blank")}},i.text))),e),Yc=Qn("button",{target:"er26e4t0"})((e=>({display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"center",background:"secondary"===e.variant?"var(--border-primary)":"hollow"===e.variant?"transparent":"gradient"===e.variant?"linear-gradient(114.94deg, #0979FF 9.66%, #5A06CB 87.27%)":"var(--blue)",color:"secondary"===e.variant?"var(--text-secondary)":"hollow"===e.variant?"var(--blue)":"#fff",...!e.disabled&&{cursor:"pointer"},padding:e.padding||"8px 16px",...e.width&&{width:e.width},...e.margin&&{margin:e.margin},fontSize:e.fontSize||"14px",lineHeight:e.lineHeight||"18px",fontWeight:e.fontWeight||"500",borderRadius:"100px",border:"hollow"===e.variant?"1px solid var(--blue)":"0",opacity:e.disabled?"0.5":"1",svg:{marginLeft:"4px"}})),""),$c=({onClick:e,disabled:t,variant:n,children:i,fontSize:r,lineHeight:a,fontWeight:o,padding:s,margin:l,type:c,width:u,testId:d})=>h.createElement(Yc,{className:"custom-button",onClick:n=>{!t&&e&&e(n)},variant:n,disabled:t,fontSize:r,lineHeight:a,fontWeight:o,padding:s,margin:l,type:c,width:u},i);var Kc=__webpack_require__(8679),Gc=__webpack_require__.n(Kc);p.useInsertionEffect?p.useInsertionEffect:h.useLayoutEffect;function Xc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zn(t)}function Qc(){return Qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qc.apply(this,arguments)}const Jc=e=>Xc("font-weight:",e.fontWeight||"500",";color:",e.color||"var(--text-primary)",";",e.margin&&`margin: ${e.margin};`,";",""),eu="\n  font-size: 10px;\n  line-height: 13px;\n",tu="\n  font-size: 12px;\n  line-height: 16px;\n",nu=Qn("div",{target:"e1ysq7vi12"})(tu," ",Jc,";"),iu="\n  font-size: 14px;\n  line-height: 18px;\n",ru=Qn("div",{target:"e1ysq7vi11"})(iu," ",Jc," ",(e=>e.margin&&`margin: ${e.margin};`),";"),au=Qn("div",{target:"e1ysq7vi10"})("\n  font-size: 18px;\n  line-height: 22px;\n"," font-weight:bold;color:var(--text-primary);",(e=>e.margin&&`margin: ${e.margin};`)," ",(e=>e.flexGrow&&`flex-grow: ${e.flexGrow};`),";"),ou="\n  display: flex;\n  flex-flow: row;\n",su=Qn("div",{target:"e1ysq7vi9"})(ou," ",(e=>e.alignItems&&`align-items: ${e.alignItems};`)," ",(e=>e.justifyContent&&`justify-content: ${e.justifyContent};`)," ",(e=>e.width&&`width: ${e.width};`),";"),lu=`\n  ${ou}\n  align-items: center;\n  justify-content: center;\n`,cu=Qn("div",{target:"e1ysq7vi8"})(lu," ",(e=>e.margin&&`margin: ${e.margin};`)," ",(e=>e.height&&`height: ${e.height};`),";"),uu=`\n  ${ou}\n  align-items: center;\n  justify-content: space-between;\n`,du="\n  display: flex;\n  flex-flow: column;\n",hu=`\n  ${du}\n  align-items: center;\n  justify-content: center;\n`,pu=Qn("div",{target:"e1ysq7vi7"})((e=>e.padding&&`padding: ${e.padding};`),";"),fu=Qn("div",{target:"e1ysq7vi6"})(ou," align-items:flex-start;justify-content:center;padding:16px 20px 0;"),mu=Qn("div",{target:"e1ysq7vi5"})({name:"94k5g8",styles:"padding-right:16px;flex-grow:1"}),gu=Qn("input",{target:"e1ysq7vi4"})("padding:",(e=>e.padding||"14px 16px"),";border:1px solid var(--border-primary);border-radius:100px;",iu," font-weight:500;color:var(--text-primary);background:transparent;box-sizing:border-box;",(e=>e.margin&&`margin: ${e.margin};`)," ",(e=>e.width&&`width: ${e.width};`)," ::placeholder{color:var(--text-secondary);}&:focus,&:active{outline:none;border-color:var(--blue);}"),vu=({loading:e,children:t})=>h.createElement(su,{alignItems:"center",justifyContent:"spaceBetween",width:"100%"},h.createElement(tc,{size:"xl",flexGrow:"1"},t),e&&h.createElement(os,{size:"small"})),yu=(Qn("div",{target:"e1ysq7vi3"})({name:"1t6wvop",styles:"height:1px;width:100%;background:var(--border-primary);margin:20px 0"}),Qn("img",{target:"e1ysq7vi2"})("height:",(e=>e.height||"79px"),";min-width:",(e=>e.minWidth||"140px"),";object-fit:cover;margin-right:",(e=>e.marginRight||"8px"),";",(e=>!e.disabled&&"cursor: pointer;"),";")),bu=Qn("div",{target:"e1ysq7vi1"})(lu," position:absolute;top:0;bottom:0;left:0;right:0;background:var(--overlay);z-index:1;border-radius:",(e=>e.borderRadius||"0"),";"),_u=Qn("img",{target:"e1ysq7vi0"})((e=>({width:e.width||"32px",height:e.height||"32px",...e.margin&&{margin:e.margin}})),""),wu=e=>{const t=chrome.runtime.getURL("images/vidiq-circle-icon.png");return h.createElement(_u,Qc({src:t},e))};const ku=Qn("div",{target:"e1797jme2"})(hu," width:",(e=>e.width||"75%"),";margin:20px auto;border:1px solid var(--border-primary);border-radius:12px;padding:40px 0;"),xu=Qn("div",{target:"e1797jme1"})(lu," font-size:40px;height:40px;margin-bottom:12px;box-sizing:border-box;"),Eu=Qn(tc,{target:"e1797jme0"})({name:"2ji30f",styles:"width:80%"}),Cu=({emoji:e,text:t,subText:n,buttonText:i,buttonHref:r,onClickButton:a,hint:o,width:s})=>h.createElement(ku,{width:s},!!e&&h.createElement(xu,null,e),h.createElement(tc,{size:"2xl",margin:"0 0 24px"},t),!!n&&h.createElement(Eu,{size:"m",textAlign:"center"},n),!!i&&(!!r||!!a)&&h.createElement($c,{onClick:()=>{r&&window.open(r,"_blank"),a&&a()},fontSize:"17px",lineHeight:"20px",fontWeight:"500",padding:"14px 52px",margin:"24px 0 0"},i),!!o&&h.createElement(tc,{size:"s",color:"var(--text-secondary)",margin:"16px 0 0"},o)),Su=e=>{const t=e.replace(/\?&$/,""),n=t.includes("?")?"&":"?",i={utm_source:(0,U.F)().browser,utm_medium:"extension",utm_content:bs()||""},r=new URLSearchParams(i).toString();return encodeURI(`${t}${n}${r}`)};function Tu(){const[e,t]=(0,h.useState)(null);return(0,h.useEffect)((()=>{(0,_e.Z)().then((e=>{t(e)}))}),[]),e}const Du=async()=>{try{const e=(await(0,P.Z)("youtube.studio")).match(/window\.chunkedPrefetchResolvers\['id-0'\].resolve\(([^;]+)\);/),t=JSON.parse(e[1]);if(!t||!t.title)throw new Error("No channel name found");return t.title}catch(e){Me.Z.error(`getCurrentChannelName error: ${e}`)}};var Fu,Mu="colors",Au="sizes",Iu="space",Ou={gap:Iu,gridGap:Iu,columnGap:Iu,gridColumnGap:Iu,rowGap:Iu,gridRowGap:Iu,inset:Iu,insetBlock:Iu,insetBlockEnd:Iu,insetBlockStart:Iu,insetInline:Iu,insetInlineEnd:Iu,insetInlineStart:Iu,margin:Iu,marginTop:Iu,marginRight:Iu,marginBottom:Iu,marginLeft:Iu,marginBlock:Iu,marginBlockEnd:Iu,marginBlockStart:Iu,marginInline:Iu,marginInlineEnd:Iu,marginInlineStart:Iu,padding:Iu,paddingTop:Iu,paddingRight:Iu,paddingBottom:Iu,paddingLeft:Iu,paddingBlock:Iu,paddingBlockEnd:Iu,paddingBlockStart:Iu,paddingInline:Iu,paddingInlineEnd:Iu,paddingInlineStart:Iu,top:Iu,right:Iu,bottom:Iu,left:Iu,scrollMargin:Iu,scrollMarginTop:Iu,scrollMarginRight:Iu,scrollMarginBottom:Iu,scrollMarginLeft:Iu,scrollMarginX:Iu,scrollMarginY:Iu,scrollMarginBlock:Iu,scrollMarginBlockEnd:Iu,scrollMarginBlockStart:Iu,scrollMarginInline:Iu,scrollMarginInlineEnd:Iu,scrollMarginInlineStart:Iu,scrollPadding:Iu,scrollPaddingTop:Iu,scrollPaddingRight:Iu,scrollPaddingBottom:Iu,scrollPaddingLeft:Iu,scrollPaddingX:Iu,scrollPaddingY:Iu,scrollPaddingBlock:Iu,scrollPaddingBlockEnd:Iu,scrollPaddingBlockStart:Iu,scrollPaddingInline:Iu,scrollPaddingInlineEnd:Iu,scrollPaddingInlineStart:Iu,fontSize:"fontSizes",background:Mu,backgroundColor:Mu,backgroundImage:Mu,borderImage:Mu,border:Mu,borderBlock:Mu,borderBlockEnd:Mu,borderBlockStart:Mu,borderBottom:Mu,borderBottomColor:Mu,borderColor:Mu,borderInline:Mu,borderInlineEnd:Mu,borderInlineStart:Mu,borderLeft:Mu,borderLeftColor:Mu,borderRight:Mu,borderRightColor:Mu,borderTop:Mu,borderTopColor:Mu,caretColor:Mu,color:Mu,columnRuleColor:Mu,fill:Mu,outline:Mu,outlineColor:Mu,stroke:Mu,textDecorationColor:Mu,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Au,minBlockSize:Au,maxBlockSize:Au,inlineSize:Au,minInlineSize:Au,maxInlineSize:Au,width:Au,minWidth:Au,maxWidth:Au,height:Au,minHeight:Au,maxHeight:Au,flexBasis:Au,gridTemplateColumns:Au,gridTemplateRows:Au,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Nu=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,Pu=()=>{const e=Object.create(null);return(t,n,...i)=>{const r=(e=>JSON.stringify(e,Nu))(t);return r in e?e[r]:e[r]=n(t,...i)}},Ru=Symbol.for("sxs.internal"),ju=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),Lu=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:qu}=Object.prototype,Zu=e=>e.includes("-")?e:e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),Bu=/\s+(?![^()]*\))/,Vu=e=>t=>e(..."string"==typeof t?String(t).split(Bu):[t]),zu={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Vu(((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e}))),marginInline:Vu(((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e}))),maxSize:Vu(((e,t)=>({maxBlockSize:e,maxInlineSize:t||e}))),minSize:Vu(((e,t)=>({minBlockSize:e,minInlineSize:t||e}))),paddingBlock:Vu(((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e}))),paddingInline:Vu(((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e})))},Uu=/([\d.]+)([^]*)/,Wu=(e,t)=>e.length?e.reduce(((e,n)=>(e.push(...t.map((e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?`:is(${n})`:n):n+" "+e))),e)),[]):t,Hu=(e,t)=>e in Yu&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,n,i,r)=>n+("stretch"===i?`-moz-available${r};${Zu(e)}:${n}-webkit-fill-available`:`-moz-fit-content${r};${Zu(e)}:${n}fit-content`)+r)):String(t),Yu={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},$u=e=>e?e+"-":"",Ku=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((e,i,r,a,o)=>"$"==a==!!r?e:(i||"--"==a?"calc(":"")+"var(--"+("$"===a?$u(t)+(o.includes("$")?"":$u(n))+o.replace(/\$/g,"-"):o)+")"+(i||"--"==a?"*"+(i||"")+(r||"1")+")":""))),Gu=/\s*,\s*(?![^()]*\))/,Xu=Object.prototype.toString,Qu=(e,t,n,i,r)=>{let a,o,s;const l=(e,t,n)=>{let c,u;const d=e=>{for(c in e){const f=64===c.charCodeAt(0),m=f&&Array.isArray(e[c])?e[c]:[e[c]];for(u of m){const e=/[A-Z]/.test(p=c)?p:p.replace(/-[^]/g,(e=>e[1].toUpperCase())),m="object"==typeof u&&u&&u.toString===Xu&&(!i.utils[e]||!t.length);if(e in i.utils&&!m){const t=i.utils[e];if(t!==o){o=t,d(t(u)),o=null;continue}}else if(e in zu){const t=zu[e];if(t!==s){s=t,d(t(u)),s=null;continue}}if(f&&(h=c.slice(1)in i.media?"@media "+i.media[c.slice(1)]:c,c=h.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((e,t,n,i,r,a)=>{const o=Uu.test(t),s=.0625*(o?-1:1),[l,c]=o?[i,t]:[t,i];return"("+("="===n[0]?"":">"===n[0]===o?"max-":"min-")+l+":"+("="!==n[0]&&1===n.length?c.replace(Uu,((e,t,i)=>Number(t)+s*(">"===n?1:-1)+i)):c)+(r?") and ("+(">"===r[0]?"min-":"max-")+l+":"+(1===r.length?a.replace(Uu,((e,t,n)=>Number(t)+s*(">"===r?-1:1)+n)):a):"")+")"}))),m){const e=f?n.concat(c):[...n],i=f?[...t]:Wu(t,c.split(Gu));void 0!==a&&r(Ju(...a)),a=void 0,l(u,i,e)}else void 0===a&&(a=[[],t,n]),c=f||36!==c.charCodeAt(0)?c:`--${$u(i.prefix)}${c.slice(1).replace(/\$/g,"-")}`,u=m?u:"number"==typeof u?u&&e in ed?String(u)+"px":String(u):Ku(Hu(e,null==u?"":u),i.prefix,i.themeMap[e]),a[0].push(`${f?`${c} `:`${Zu(c)}:`}${u}`)}}var h,p};d(e),void 0!==a&&r(Ju(...a)),a=void 0};l(e,t,n)},Ju=(e,t,n)=>`${n.map((e=>`${e}{`)).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,ed={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},td=e=>String.fromCharCode(e+(e>25?39:97)),nd=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=td(t%52)+n;return td(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),id=["themed","global","styled","onevar","resonevar","allvar","inline"],rd=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},ad=e=>{let t;const n=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,((n,i)=>{const{cssText:r}=n;let a="";if(r.startsWith("--sxs"))return"";if(e[i-1]&&(a=e[i-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===n)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${r}`;return n.cssRules.length?`${a}${r}`:""}return r})).join("")},i=()=>{if(t){const{rules:e,sheet:n}=t;if(!n.deleteRule){for(;3===Object(Object(n.cssRules)[0]).type;)n.cssRules.splice(0,1);n.cssRules=[]}for(const t in e)delete e[t]}const r=Object(e).styleSheets||[];for(const e of r)if(rd(e)){for(let r=0,a=e.cssRules;a[r];++r){const o=Object(a[r]);if(1!==o.type)continue;const s=Object(a[r+1]);if(4!==s.type)continue;++r;const{cssText:l}=o;if(!l.startsWith("--sxs"))continue;const c=l.slice(14,-3).trim().split(/\s+/),u=id[c[0]];u&&(t||(t={sheet:e,reset:i,rules:{},toString:n}),t.rules[u]={group:s,index:r,cache:new Set(c)})}if(t)break}if(!t){const r=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,r(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,(e=>e.cssText)).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:r("","text/css"),rules:{},reset:i,toString:n}}const{sheet:a,rules:o}=t;for(let e=id.length-1;e>=0;--e){const t=id[e];if(!o[t]){const n=id[e+1],i=o[n]?o[n].index:a.cssRules.length;a.insertRule("@media{}",i),a.insertRule(`--sxs{--sxs:${e}}`,i),o[t]={group:a.cssRules[i+1],index:i,cache:new Set([e])}}od(o[t])}};return i(),t},od=e=>{const t=e.group;let n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(e){}}},sd=Symbol(),ld=Pu(),cd=(e,t)=>ld(e,(()=>(...n)=>{let i={type:null,composers:new Set};for(const t of n)if(null!=t)if(t[Ru]){null==i.type&&(i.type=t[Ru].type);for(const e of t[Ru].composers)i.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==i.type&&(i.type=t):i.composers.add(ud(t,e));return null==i.type&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),dd(e,i,t)})),ud=({variants:e,compoundVariants:t,defaultVariants:n,...i},r)=>{const a=`${$u(r.prefix)}c-${nd(i)}`,o=[],s=[],l=Object.create(null),c=[];for(const e in n)l[e]=String(n[e]);if("object"==typeof e&&e)for(const t in e){u=l,d=t,qu.call(u,d)||(l[t]="undefined");const n=e[t];for(const e in n){const i={[t]:String(e)};"undefined"===String(e)&&c.push(t);const r=n[e],a=[i,r,!Lu(r)];o.push(a)}}var u,d;if("object"==typeof t&&t)for(const e of t){let{css:t,...n}=e;t="object"==typeof t&&t||{};for(const e in n)n[e]=String(n[e]);const i=[n,t,!Lu(t)];s.push(i)}return[a,i,o,s,l,c]},dd=(e,t,n)=>{const[i,r,a,o]=hd(t.composers),s="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[sd].length;n++){const[i,r]=t[sd][n];e.rules[i].apply(r)}return t[sd]=[],null}return t[sd]=[],t.rules={},id.forEach((e=>t.rules[e]={apply:n=>t[sd].push([e,n])})),t})(n):null,l=(s||n).rules,c=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,u=u=>{u="object"==typeof u&&u||fd;const{css:d,...h}=u,p={};for(const e in a)if(delete h[e],e in u){let t=u[e];"object"==typeof t&&t?p[e]={"@initial":a[e],...t}:(t=String(t),p[e]="undefined"!==t||o.has(e)?t:a[e])}else p[e]=a[e];const f=new Set([...r]);for(const[i,r,a,o]of t.composers){n.rules.styled.cache.has(i)||(n.rules.styled.cache.add(i),Qu(r,[`.${i}`],[],e,(e=>{l.styled.apply(e)})));const t=pd(a,p,e.media),s=pd(o,p,e.media,!0);for(const r of t)if(void 0!==r)for(const[t,a,o]of r){const r=`${i}-${nd(a)}-${t}`;f.add(r);const s=(o?n.rules.resonevar:n.rules.onevar).cache,c=o?l.resonevar:l.onevar;s.has(r)||(s.add(r),Qu(a,[`.${r}`],[],e,(e=>{c.apply(e)})))}for(const t of s)if(void 0!==t)for(const[r,a]of t){const t=`${i}-${nd(a)}-${r}`;f.add(t),n.rules.allvar.cache.has(t)||(n.rules.allvar.cache.add(t),Qu(a,[`.${t}`],[],e,(e=>{l.allvar.apply(e)})))}}if("object"==typeof d&&d){const t=`${i}-i${nd(d)}-css`;f.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),Qu(d,[`.${t}`],[],e,(e=>{l.inline.apply(e)})))}for(const e of String(u.className||"").trim().split(/\s+/))e&&f.add(e);const m=h.className=[...f].join(" ");return{type:t.type,className:m,selector:c,props:h,toString:()=>m,deferredInjector:s}};return ju(u,{className:i,selector:c,[Ru]:t,toString:()=>(n.rules.styled.cache.has(i)||u(),i)})},hd=e=>{let t="";const n=[],i={},r=[];for(const[a,,,,o,s]of e){""===t&&(t=a),n.push(a),r.push(...s);for(const e in o){const t=o[e];(void 0===i[e]||"undefined"!==t||s.includes(t))&&(i[e]=t)}}return[t,n,i,new Set(r)]},pd=(e,t,n,i)=>{const r=[];e:for(let[a,o,s]of e){if(s)continue;let e,l=0,c=!1;for(e in a){const i=a[e];let r=t[e];if(r!==i){if("object"!=typeof r||!r)continue e;{let e,t,a=0;for(const o in r){if(i===String(r[o])){if("@initial"!==o){const e=o.slice(1);(t=t||[]).push(e in n?n[e]:o.replace(/^@media ?/,"")),c=!0}l+=a,e=!0}++a}if(t&&t.length&&(o={["@media "+t.join(", ")]:o}),!e)continue e}}}(r[l]=r[l]||[]).push([i?"cv":`${e}-${a[e]}`,o,c])}return r},fd={},md=Pu(),gd=(e,t)=>md(e,(()=>(...n)=>{const i=()=>{for(let i of n){i="object"==typeof i&&i||{};let n=nd(i);if(!t.rules.global.cache.has(n)){if(t.rules.global.cache.add(n),"@import"in i){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let n of[].concat(i["@import"]))n=n.includes('"')||n.includes("'")?n:`"${n}"`,t.sheet.insertRule(`@import ${n};`,e++);delete i["@import"]}Qu(i,[],[],e,(e=>{t.rules.global.apply(e)}))}}return""};return ju(i,{toString:i})})),vd=Pu(),yd=(e,t)=>vd(e,(()=>n=>{const i=`${$u(e.prefix)}k-${nd(n)}`,r=()=>{if(!t.rules.global.cache.has(i)){t.rules.global.cache.add(i);const r=[];Qu(n,[],[],e,(e=>r.push(e)));const a=`@keyframes ${i}{${r.join("")}}`;t.rules.global.apply(a)}return i};return ju(r,{get name(){return r()},toString:r})})),bd=class{constructor(e,t,n,i){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==i?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+$u(this.prefix)+$u(this.scale)+this.token}toString(){return this.computedValue}},_d=Pu(),wd=(e,t)=>_d(e,(()=>(n,i)=>{i="object"==typeof n&&n||Object(i);const r=`.${n=(n="string"==typeof n?n:"")||`${$u(e.prefix)}t-${nd(i)}`}`,a={},o=[];for(const t in i){a[t]={};for(const n in i[t]){const r=`--${$u(e.prefix)}${t}-${n}`,s=Ku(String(i[t][n]),e.prefix,t);a[t][n]=new bd(n,s,t,e.prefix),o.push(`${r}:${s}`)}}const s=()=>{if(o.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const r=`${i===e.theme?":root,":""}.${n}{${o.join(";")}}`;t.rules.themed.apply(r)}return n};return{...a,get className(){return s()},selector:r,toString:s}})),kd=Pu(),xd=Pu(),Ed=e=>{const t=(e=>{let t=!1;const n=kd(e,(e=>{t=!0;const n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",i="object"==typeof e.media&&e.media||{},r="object"==typeof e.root?e.root||null:globalThis.document||null,a="object"==typeof e.theme&&e.theme||{},o={prefix:n,media:i,theme:a,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...Ou},utils:"object"==typeof e.utils&&e.utils||{}},s=ad(r),l={css:cd(o,s),globalCss:gd(o,s),keyframes:yd(o,s),createTheme:wd(o,s),reset(){s.reset(),l.theme.toString()},theme:{},sheet:s,config:o,prefix:n,getCssText:s.toString,toString:s.toString};return String(l.theme=l.createTheme(a)),l}));return t||n.reset(),n})(e);return t.styled=(({config:e,sheet:t})=>xd(e,(()=>{const n=cd(e,t);return(...e)=>{const t=n(...e),i=t[Ru].type,r=h.forwardRef(((e,n)=>{const r=e&&e.as||i,{props:a,deferredInjector:o}=t(e);return delete a.as,a.ref=n,o?h.createElement(h.Fragment,null,h.createElement(r,a),h.createElement(o,null)):h.createElement(r,a)}));return r.className=t.className,r.displayName=`Styled.${i.displayName||i.name||i}`,r.selector=t.selector,r.toString=()=>t.selector,r[Ru]=t[Ru],r}})))(t),t},Cd=()=>Fu||(Fu=Ed()),Sd=(...e)=>Cd().keyframes(...e);function Td(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function Dd(...e){return h.useCallback(Td(...e),e)}const Fd=h.forwardRef(((e,t)=>{const{children:n,...i}=e;return h.Children.toArray(n).some(Id)?h.createElement(h.Fragment,null,h.Children.map(n,(e=>Id(e)?h.createElement(Md,(0,kt.Z)({},i,{ref:t}),e.props.children):e))):h.createElement(Md,(0,kt.Z)({},i,{ref:t}),n)}));Fd.displayName="Slot";const Md=h.forwardRef(((e,t)=>{const{children:n,...i}=e;return h.isValidElement(n)?h.cloneElement(n,{...Od(i,n.props),ref:Td(t,n.ref)}):h.Children.count(n)>1?h.Children.only(null):null}));Md.displayName="SlotClone";const Ad=({children:e})=>h.createElement(h.Fragment,null,e);function Id(e){return h.isValidElement(e)&&e.type===Ad}function Od(e,t){const n={...t};for(const i in t){const r=e[i],a=t[i];/^on[A-Z]/.test(i)?n[i]=(...e)=>{null==a||a(...e),null==r||r(...e)}:"style"===i?n[i]={...r,...a}:"className"===i&&(n[i]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}var Nd=new WeakMap,Pd=new WeakMap,Rd={},jd=0,Ld=function(e,t,n){void 0===t&&(t=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===n&&(n="data-aria-hidden");var i=Array.isArray(e)?e:[e];Rd[n]||(Rd[n]=new WeakMap);var r=Rd[n],a=[],o=new Set,s=function(e){e&&!o.has(e)&&(o.add(e),s(e.parentNode))};i.forEach(s);var l=function(e){!e||i.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(o.has(e))l(e);else{var t=e.getAttribute("aria-hidden"),i=null!==t&&"false"!==t,s=(Nd.get(e)||0)+1,c=(r.get(e)||0)+1;Nd.set(e,s),r.set(e,c),a.push(e),1===s&&i&&Pd.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute("aria-hidden","true")}}))};return l(t),o.clear(),jd++,function(){a.forEach((function(e){var t=Nd.get(e)-1,i=r.get(e)-1;Nd.set(e,t),r.set(e,i),t||(Pd.has(e)||e.removeAttribute("aria-hidden"),Pd.delete(e)),i||e.removeAttribute(n)})),--jd||(Nd=new WeakMap,Nd=new WeakMap,Pd=new WeakMap,Rd={})}},qd="right-scroll-bar-position",Zd="width-before-scroll-bar";function Bd(e){return e}function Vd(e,t){void 0===t&&(t=Bd);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var r=t(e,i);return n.push(r),function(){n=n.filter((function(e){return e!==r}))}},assignSyncMedium:function(e){for(i=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){i=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}};return r}var zd=function(e){void 0===e&&(e={});var t=Vd(null);return t.options=m({async:!0,ssr:!1},e),t}();function Ud(e,t){return n=t,i=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))},r=(0,h.useState)((function(){return{value:n,callback:i,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0],r.callback=i,r.facade;var n,i,r}var Wd=function(){},Hd=h.forwardRef((function(e,t){var n=h.useRef(null),i=h.useState({onScrollCapture:Wd,onWheelCapture:Wd,onTouchMoveCapture:Wd}),r=i[0],a=i[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,p=e.sideCar,f=e.noIsolation,v=e.inert,y=e.allowPinchZoom,b=e.as,_=void 0===b?"div":b,w=g(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),k=p,x=Ud([n,t]),E=m({},w,r);return h.createElement(h.Fragment,null,u&&h.createElement(k,{sideCar:zd,removeScrollBar:c,shards:d,noIsolation:f,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n}),o?h.cloneElement(h.Children.only(s),m({},E,{ref:x})):h.createElement(_,m({},E,{className:l,ref:x}),s))}));Hd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Hd.classNames={fullWidth:Zd,zeroRight:qd};var Yd,$d=function(e){var t=e.sideCar,n=g(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return h.createElement(i,m({},n))};$d.isSideCarExport=!0;function Kd(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Yd||__webpack_require__.nc;return t&&e.setAttribute("nonce",t),e}var Gd=function(){var e=0,t=null;return{add:function(n){var i;0==e&&(t=Kd())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),i=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(i)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Xd=function(){var e,t=(e=Gd(),function(t){h.useEffect((function(){return e.add(t),function(){e.remove()}}),[])});return function(e){var n=e.styles;return t(n),null}},Qd={left:0,top:0,right:0,gap:0},Jd=function(e){return parseInt(e||"",10)||0},eh=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Qd;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[Jd(n),Jd(i),Jd(r)]}(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},th=Xd(),nh=function(e,t,n,i){var r=e.left,a=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .with-scroll-bars-hidden {\n   overflow: hidden "+i+";\n   padding-right: "+s+"px "+i+";\n  }\n  body {\n    overflow: hidden "+i+";\n    "+[t&&"position: relative "+i+";","margin"===n&&"\n    padding-left: "+r+"px;\n    padding-top: "+a+"px;\n    padding-right: "+o+"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: "+s+"px "+i+";\n    ","padding"===n&&"padding-right: "+s+"px "+i+";"].filter(Boolean).join("")+"\n  }\n  \n  ."+qd+" {\n    right: "+s+"px "+i+";\n  }\n  \n  ."+Zd+" {\n    margin-right: "+s+"px "+i+";\n  }\n  \n  ."+qd+" ."+qd+" {\n    right: 0 "+i+";\n  }\n  \n  ."+Zd+" ."+Zd+" {\n    margin-right: 0 "+i+";\n  }\n  \n  body {\n    --removed-body-scroll-bar-size: "+s+"px;\n  }\n"},ih=function(e){var t=h.useState(eh(e.gapMode)),n=t[0],i=t[1];h.useEffect((function(){i(eh(e.gapMode))}),[e.gapMode]);var r=e.noRelative,a=e.noImportant,o=e.gapMode,s=void 0===o?"margin":o;return h.createElement(th,{styles:nh(n,!r,s,a?"":"!important")})},rh=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),ah(e,n)){var i=oh(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},ah=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"range"===e.type||"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},oh=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},sh=!1;if("undefined"!=typeof window)try{var lh=Object.defineProperty({},"passive",{get:function(){return sh=!0,!0}});window.addEventListener("test",lh,lh),window.removeEventListener("test",lh,lh)}catch(e){sh=!1}var ch=!!sh&&{passive:!1},uh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dh=function(e){return[e.deltaX,e.deltaY]},hh=function(e){return e&&"current"in e?e.current:e},ph=function(e){return"\n  .block-interactivity-"+e+" {pointer-events: none;}\n  .allow-interactivity-"+e+" {pointer-events: all;}\n"},fh=0,mh=[];const gh=(vh=function(e){var t=h.useRef([]),n=h.useRef([0,0]),i=h.useRef(),r=h.useState(fh++)[0],a=h.useState((function(){return Xd()}))[0],o=h.useRef(e);h.useEffect((function(){o.current=e}),[e]),h.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-"+r);var t=[e.lockRef.current].concat((e.shards||[]).map(hh)).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-"+r)})),function(){document.body.classList.remove("block-interactivity-"+r),t.forEach((function(e){return e.classList.remove("allow-interactivity-"+r)}))}}}),[e.inert,e.lockRef.current,e.shards]);var s=h.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!o.current.allowPinchZoom;var r,a=uh(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v",h=rh(d,u);if(!h)return!0;if(h?r=d:(r="v"===d?"h":"v",h=rh(d,u)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=r),!r)return!0;var p=i.current||r;return function(e,t,n,i,r){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=a*i,s=n.target,l=t.contains(s),c=!1,u=o>0,d=0,h=0;do{var p=oh(e,s),f=p[0],m=p[1]-p[2]-a*f;(f||m)&&ah(e,s)&&(d+=m,h+=f),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(r&&0===d||!r&&o>d)||!u&&(r&&0===h||!r&&-o>h))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),l=h.useCallback((function(e){var n=e;if(mh.length&&mh[mh.length-1]===a){var i="deltaY"in n?dh(n):uh(n),r=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,i)}))[0];if(r&&r.should)n.preventDefault();else if(!r){var l=(o.current.shards||[]).map(hh).filter(Boolean).filter((function(e){return e.contains(n.target)}));(l.length>0?s(n,l[0]):!o.current.noIsolation)&&n.preventDefault()}}}),[]),c=h.useCallback((function(e,n,i,r){var a={name:e,delta:n,target:i,should:r};t.current.push(a),setTimeout((function(){t.current=t.current.filter((function(e){return e!==a}))}),1)}),[]),u=h.useCallback((function(e){n.current=uh(e),i.current=void 0}),[]),d=h.useCallback((function(t){c(t.type,dh(t),t.target,s(t,e.lockRef.current))}),[]),p=h.useCallback((function(t){c(t.type,uh(t),t.target,s(t,e.lockRef.current))}),[]);h.useEffect((function(){return mh.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ch),document.addEventListener("touchmove",l,ch),document.addEventListener("touchstart",u,ch),function(){mh=mh.filter((function(e){return e!==a})),document.removeEventListener("wheel",l,ch),document.removeEventListener("touchmove",l,ch),document.removeEventListener("touchstart",u,ch)}}),[]);var f=e.removeScrollBar,m=e.inert;return h.createElement(h.Fragment,null,m?h.createElement(a,{styles:ph(r)}):null,f?h.createElement(ih,{gapMode:"margin"}):null)},zd.useMedium(vh),$d);var vh,yh=h.forwardRef((function(e,t){return h.createElement(Hd,m({},e,{ref:t,sideCar:gh}))}));yh.classNames=Hd.classNames;const bh=yh;let _h=0;function wh(){h.useEffect((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:kh()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:kh()),_h++,()=>{1===_h&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),_h--}}),[])}function kh(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const xh=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>({...e,[t]:h.forwardRef(((e,n)=>{const{asChild:i,...r}=e,a=i?Fd:t;return h.useEffect((()=>{window[Symbol.for("radix-ui")]=!0}),[]),h.createElement(a,(0,kt.Z)({},r,{ref:n}))}))})),{}),Eh=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?h.useLayoutEffect:()=>{},Ch=e=>{const{present:t,children:n}=e,i=function(e){const[t,n]=h.useState(),i=h.useRef({}),r=h.useRef(e),a=h.useRef("none"),o=e?"mounted":"unmounted",[s,l]=function(e,t){return h.useReducer(((e,n)=>{const i=t[e][n];return null!=i?i:e}),e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect((()=>{const e=Sh(i.current);a.current="mounted"===s?e:"none"}),[s]),Eh((()=>{const t=i.current,n=r.current;if(n!==e){const i=a.current,o=Sh(t);if(e)l("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{const e=i!==o;l(n&&e?"ANIMATION_OUT":"UNMOUNT")}r.current=e}}),[e,l]),Eh((()=>{if(t){const e=e=>{const n=Sh(i.current).includes(e.animationName);e.target===t&&n&&l("ANIMATION_END")},n=e=>{e.target===t&&(a.current=Sh(i.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:h.useCallback((e=>{e&&(i.current=getComputedStyle(e)),n(e)}),[])}}(t),r="function"==typeof n?n({present:i.isPresent}):h.Children.only(n),a=Dd(i.ref,r.ref);return"function"==typeof n||i.isPresent?h.cloneElement(r,{ref:a}):null};function Sh(e){return(null==e?void 0:e.animationName)||"none"}function Th(e){const t=h.useRef(e);return h.useEffect((()=>{t.current=e})),h.useMemo((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}Ch.displayName="Presence";const Dh={bubbles:!1,cancelable:!0},Fh=h.forwardRef(((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=e,[s,l]=h.useState(null),c=Th(r),u=Th(a),d=h.useRef(null),p=Dd(t,(e=>l(e))),f=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect((()=>{if(i){function e(e){if(f.paused||!s)return;const t=e.target;s.contains(t)?d.current=t:Oh(d.current,{select:!0})}function t(e){!f.paused&&s&&(s.contains(e.relatedTarget)||Oh(d.current,{select:!0}))}return document.addEventListener("focusin",e),document.addEventListener("focusout",t),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[i,s,f.paused]),h.useEffect((()=>{if(s){Nh.add(f);const e=document.activeElement;if(!s.contains(e)){const t=new Event("focusScope.autoFocusOnMount",Dh);s.addEventListener("focusScope.autoFocusOnMount",c),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(Oh(i,{select:t}),document.activeElement!==n)return}(Mh(s).filter((e=>"A"!==e.tagName)),{select:!0}),document.activeElement===e&&Oh(s))}return()=>{s.removeEventListener("focusScope.autoFocusOnMount",c),setTimeout((()=>{const t=new Event("focusScope.autoFocusOnUnmount",Dh);s.addEventListener("focusScope.autoFocusOnUnmount",u),s.dispatchEvent(t),t.defaultPrevented||Oh(null!=e?e:document.body,{select:!0}),s.removeEventListener("focusScope.autoFocusOnUnmount",u),Nh.remove(f)}),0)}}}),[s,c,u,f]);const m=h.useCallback((e=>{if(!n&&!i)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[i,a]=function(e){const t=Mh(e);return[Ah(t,e),Ah(t.reverse(),e)]}(t);i&&a?e.shiftKey||r!==a?e.shiftKey&&r===i&&(e.preventDefault(),n&&Oh(a,{select:!0})):(e.preventDefault(),n&&Oh(i,{select:!0})):r===t&&e.preventDefault()}}),[n,i,f.paused]);return h.createElement(xh.div,(0,kt.Z)({tabIndex:-1},o,{ref:p,onKeyDown:m}))}));function Mh(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ah(e,t){for(const n of e)if(!Ih(n,{upTo:t}))return n}function Ih(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Oh(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const Nh=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=Ph(e,t),e.unshift(t)},remove(t){var n;e=Ph(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function Ph(e,t){const n=[...e],i=n.indexOf(t);return-1!==i&&n.splice(i,1),n}function Rh(e){const t=Th(e);h.useEffect((()=>{const e=e=>{"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[t])}let jh,Lh=0;function qh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(null==e||e(i),!1===n||!i.defaultPrevented)return null==t?void 0:t(i)}}const Zh=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bh=h.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=h.useContext(Zh),[u,d]=h.useState(null),[,p]=h.useState({}),f=Dd(t,(e=>d(e))),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=y>=v,w=function(e){const t=Th((e=>{const t=e.target,n=[...c.branches].some((e=>e.contains(t)));_&&!n&&(null==r||r(e),null==o||o(e),e.defaultPrevented||null==s||s())})),n=h.useRef(!1);return h.useEffect((()=>{const e=e=>{e.target&&!n.current&&zh("dismissableLayer.pointerDownOutside",t,{originalEvent:e}),n.current=!1},i=window.setTimeout((()=>{document.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(i),document.removeEventListener("pointerdown",e)}}),[t]),{onPointerDownCapture:()=>n.current=!0}}(),k=function(e){const t=Th((e=>{const t=e.target;[...c.branches].some((e=>e.contains(t)))||(null==a||a(e),null==o||o(e),e.defaultPrevented||null==s||s())})),n=h.useRef(!1);return h.useEffect((()=>{const e=e=>{e.target&&!n.current&&zh("dismissableLayer.focusOutside",t,{originalEvent:e})};return document.addEventListener("focusin",e),()=>document.removeEventListener("focusin",e)}),[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}();return Rh((e=>{y===c.layers.size-1&&(null==i||i(e),e.defaultPrevented||null==s||s())})),function({disabled:e}){const t=h.useRef(!1);Eh((()=>{if(e){function e(){Lh--,0===Lh&&(document.body.style.pointerEvents=jh)}function n(e){t.current="mouse"!==e.pointerType}return 0===Lh&&(jh=document.body.style.pointerEvents),document.body.style.pointerEvents="none",Lh++,document.addEventListener("pointerup",n),()=>{t.current?document.addEventListener("click",e,{once:!0}):e(),document.removeEventListener("pointerup",n)}}}),[e])}({disabled:n}),h.useEffect((()=>{u&&(n&&c.layersWithOutsidePointerEventsDisabled.add(u),c.layers.add(u),Vh())}),[u,n,c]),h.useEffect((()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Vh())}),[u,c]),h.useEffect((()=>{const e=()=>p({});return document.addEventListener("dismissableLayer.update",e),()=>document.removeEventListener("dismissableLayer.update",e)}),[]),h.createElement(xh.div,(0,kt.Z)({},l,{ref:f,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:qh(e.onFocusCapture,k.onFocusCapture),onBlurCapture:qh(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:qh(e.onPointerDownCapture,w.onPointerDownCapture)}))}));function Vh(){const e=new Event("dismissableLayer.update");document.dispatchEvent(e)}function zh(e,t,n){const i=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});return t&&i.addEventListener(e,t,{once:!0}),!i.dispatchEvent(r)}function Uh(e,t){const n=h.createContext(t);function i(e){const{children:t,...i}=e,r=h.useMemo((()=>i),Object.values(i));return h.createElement(n.Provider,{value:r},t)}return i.displayName=e+"Provider",[i,function(i){const r=h.useContext(n);if(r)return r;if(void 0!==t)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}]}function Wh(e,t=[]){let n=[];const i=()=>{const t=n.map((e=>h.createContext(e)));return function(n){const i=(null==n?void 0:n[e])||t;return h.useMemo((()=>({[`__scope${e}`]:{...n,[e]:i}})),[n,i])}};return i.scopeName=e,[function(t,i){const r=h.createContext(i),a=n.length;function o(t){const{scope:n,children:i,...o}=t,s=(null==n?void 0:n[e][a])||r,l=h.useMemo((()=>o),Object.values(o));return h.createElement(s.Provider,{value:l},i)}return n=[...n,i],o.displayName=t+"Provider",[o,function(n,o){const s=(null==o?void 0:o[e][a])||r,l=h.useContext(s);if(l)return l;if(void 0!==i)return i;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Hh(i,...t)]}function Hh(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const i=n.reduce(((t,{useScope:n,scopeName:i})=>({...t,...n(e)[`__scope${i}`]})),{});return h.useMemo((()=>({[`__scope${t.scopeName}`]:i})),[i])}};return n.scopeName=t.scopeName,n}const[Yh,$h]=Wh("Dialog"),[Kh,Gh]=Yh("Dialog"),Xh=h.forwardRef(((e,t)=>{const{forceMount:n,...i}=e,r=Gh("DialogOverlay",e.__scopeDialog);return r.modal?h.createElement(Ch,{present:n||r.open},h.createElement(Qh,(0,kt.Z)({},i,{ref:t}))):null})),Qh=h.forwardRef(((e,t)=>{const{__scopeDialog:n,...i}=e,r=Gh("DialogOverlay",n);return h.createElement(bh,{as:Fd,allowPinchZoom:r.allowPinchZoom,shards:[r.contentRef]},h.createElement(xh.div,(0,kt.Z)({"data-state":rp(r.open)},i,{ref:t,style:{pointerEvents:"auto",...i.style}})))})),Jh=h.forwardRef(((e,t)=>{const{forceMount:n,...i}=e,r=Gh("DialogContent",e.__scopeDialog);return h.createElement(Ch,{present:n||r.open},r.modal?h.createElement(ep,(0,kt.Z)({},i,{ref:t})):h.createElement(tp,(0,kt.Z)({},i,{ref:t})))})),ep=h.forwardRef(((e,t)=>{const n=Gh("DialogContent",e.__scopeDialog),i=h.useRef(null),r=Dd(t,n.contentRef,i);return h.useEffect((()=>{const e=i.current;if(e)return Ld(e)}),[]),h.createElement(np,(0,kt.Z)({},e,{ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qh(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:qh(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:qh(e.onFocusOutside,(e=>e.preventDefault()))}))})),tp=h.forwardRef(((e,t)=>{const n=Gh("DialogContent",e.__scopeDialog),i=h.useRef(!1);return h.createElement(np,(0,kt.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,a;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(i.current||null===(a=n.triggerRef.current)||void 0===a||a.focus(),t.preventDefault()),i.current=!1},onInteractOutside:t=>{var r,a;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(i.current=!0);const o=t.target;(null===(a=n.triggerRef.current)||void 0===a?void 0:a.contains(o))&&t.preventDefault()}}))})),np=h.forwardRef(((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=e,s=Gh("DialogContent",n),l=Dd(t,h.useRef(null));return wh(),h.createElement(h.Fragment,null,h.createElement(Fh,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:a},h.createElement(Bh,(0,kt.Z)({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":rp(s.open)},o,{ref:l,onDismiss:()=>s.onOpenChange(!1)}))),!1)})),ip=h.forwardRef(((e,t)=>{const{__scopeDialog:n,...i}=e,r=Gh("DialogClose",n);return h.createElement(xh.button,(0,kt.Z)({type:"button"},i,{ref:t,onClick:qh(e.onClick,(()=>r.onOpenChange(!1)))}))}));function rp(e){return e?"open":"closed"}const[ap,op]=Uh("DialogTitleWarning",{contentName:"DialogContent",titleName:"DialogTitle",docsSlug:"dialog"}),sp=Xh,lp=Jh,[cp,up]=Uh("Label",{id:void 0,controlRef:{current:null}});function dp(e){const[t,n]=h.useState(void 0);return h.useEffect((()=>{if(e){const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const i=t[0];let r,a;if("borderBoxSize"in i){const e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else{const t=e.getBoundingClientRect();r=t.width,a=t.height}n({width:r,height:a})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}function hp(e){const t=h.useRef({value:e,previous:e});return h.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}function pp({prop:e,defaultProp:t,onChange:n=(()=>{})}){const[i,r]=function({defaultProp:e,onChange:t}){const n=h.useState(e),[i]=n,r=h.useRef(i),a=Th(t);return h.useEffect((()=>{r.current!==i&&(a(i),r.current=i)}),[i,r,a]),n}({defaultProp:t,onChange:n}),a=void 0!==e,o=a?e:i,s=Th(n);return[o,h.useCallback((t=>{if(a){const n=t,i="function"==typeof t?n(e):t;i!==e&&s(i)}else r(t)}),[a,e,r,s])]}const[fp,mp]=Wh("Checkbox"),[gp,vp]=fp("Checkbox"),yp=h.forwardRef(((e,t)=>{const{__scopeCheckbox:n,"aria-labelledby":i,name:r,checked:a,defaultChecked:o,required:s,disabled:l,value:c="on",onCheckedChange:u,...d}=e,[p,f]=h.useState(null),m=Dd(t,(e=>f(e))),g=(e=>{const t=up("LabelConsumer"),{controlRef:n}=t;return h.useEffect((()=>{e&&(n.current=e)}),[e,n]),t.id})(p),v=i||g,y=h.useRef(!1),b=!p||Boolean(p.closest("form")),[_=!1,w]=pp({prop:a,defaultProp:o,onChange:u});return h.createElement(gp,{scope:n,state:_,disabled:l},h.createElement(xh.button,(0,kt.Z)({type:"button",role:"checkbox","aria-checked":wp(_)?"mixed":_,"aria-labelledby":v,"aria-required":s,"data-state":kp(_),"data-disabled":l?"":void 0,disabled:l,value:c},d,{ref:m,onKeyDown:qh(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:qh(e.onClick,(e=>{w((e=>!!wp(e)||!e)),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())}))})),b&&h.createElement(_p,{control:p,bubbles:!y.current,name:r,value:c,checked:_,required:s,disabled:l,style:{transform:"translateX(-100%)"}}))})),bp=h.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...r}=e,a=vp("CheckboxIndicator",n);return h.createElement(Ch,{present:i||wp(a.state)||!0===a.state},h.createElement(xh.span,(0,kt.Z)({"data-state":kp(a.state),"data-disabled":a.disabled?"":void 0},r,{ref:t,style:{pointerEvents:"none",...e.style}})))})),_p=e=>{const{control:t,checked:n,bubbles:i=!0,...r}=e,a=h.useRef(null),o=hp(n),s=dp(t);return h.useEffect((()=>{const e=a.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&r){const t=new Event("click",{bubbles:i});e.indeterminate=wp(n),r.call(e,!wp(n)&&n),e.dispatchEvent(t)}}),[o,n,i]),h.createElement("input",(0,kt.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!wp(n)&&n},r,{tabIndex:-1,ref:a,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function wp(e){return"indeterminate"===e}function kp(e){return wp(e)?"indeterminate":e?"checked":"unchecked"}const xp=yp,Ep=bp,Cp=p["useId".toString()]||(()=>{});let Sp=0;const Tp=h.forwardRef(((e,t)=>h.createElement(xh.span,(0,kt.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})))),Dp=h.forwardRef(((e,t)=>{var n,i;const{containerRef:r,style:a,...o}=e,s=null!==(n=null==r?void 0:r.current)&&void 0!==n?n:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,[,l]=h.useState({});return Eh((()=>{l({})}),[]),s?Yo.createPortal(h.createElement(xh.div,(0,kt.Z)({"data-radix-portal":""},o,{ref:t,style:s===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...a}:void 0})),s):null}));let Fp;const Mp=new Map;function Ap(){const e=[];Mp.forEach(((t,n)=>{const i=n.getBoundingClientRect();var r,a;a=i,((r=t.rect).width!==a.width||r.height!==a.height||r.top!==a.top||r.right!==a.right||r.bottom!==a.bottom||r.left!==a.left)&&(t.rect=i,e.push(t))})),e.forEach((e=>{e.callbacks.forEach((t=>t(e.rect)))})),Fp=requestAnimationFrame(Ap)}function Ip(e){const[t,n]=h.useState();return h.useEffect((()=>{if(e){const t=function(e,t){const n=Mp.get(e);return void 0===n?(Mp.set(e,{rect:{},callbacks:[t]}),1===Mp.size&&(Fp=requestAnimationFrame(Ap))):(n.callbacks.push(t),t(e.getBoundingClientRect())),()=>{const n=Mp.get(e);if(void 0===n)return;const i=n.callbacks.indexOf(t);i>-1&&n.callbacks.splice(i,1),0===n.callbacks.length&&(Mp.delete(e),0===Mp.size&&cancelAnimationFrame(Fp))}}(e,n);return()=>{n(void 0),t()}}}),[e]),t}function Op(e,t,n){const i=e["x"===n?"left":"top"],r="x"===n?"width":"height",a=e[r],o=t[r];return{before:i-o,start:i,center:i+(a-o)/2,end:i+a-o,after:i+a}}function Np(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(e.x+window.scrollX)}px, ${Math.round(e.y+window.scrollY)}px, 0)`}}function Pp(e,t,n,i,r){const a="top"===t||"bottom"===t,o=r?r.width:0,s=r?r.height:0,l=o/2+i;let c="",u="";return a?(c={start:`${l}px`,center:"center",end:e.width-l+"px"}[n],u="top"===t?`${e.height+s}px`:-s+"px"):(c="left"===t?`${e.width+s}px`:-s+"px",u={start:`${l}px`,center:"center",end:e.height-l+"px"}[n]),`${c} ${u}`}const Rp={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},jp={position:"absolute",opacity:0};function Lp({popperSize:e,arrowSize:t,arrowOffset:n,side:i,align:r}){const a=(e.width-t.width)/2,o=(e.height-t.width)/2,s={top:0,right:90,bottom:180,left:-90}[i],l=Math.max(t.width,t.height),c={width:`${l}px`,height:`${l}px`,transform:`rotate(${s}deg)`,willChange:"transform",position:"absolute",[i]:"100%",direction:qp(i,r)};return"top"!==i&&"bottom"!==i||("start"===r&&(c.left=`${n}px`),"center"===r&&(c.left=`${a}px`),"end"===r&&(c.right=`${n}px`)),"left"!==i&&"right"!==i||("start"===r&&(c.top=`${n}px`),"center"===r&&(c.top=`${o}px`),"end"===r&&(c.bottom=`${n}px`)),c}function qp(e,t){return("top"!==e&&"right"!==e||"end"!==t)&&("bottom"!==e&&"left"!==e||"end"===t)?"ltr":"rtl"}function Zp(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]}function Bp(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}const[Vp,zp]=Wh("Popper"),[Up,Wp]=Vp("Popper"),Hp=h.forwardRef(((e,t)=>{const{__scopePopper:n,virtualRef:i,...r}=e,a=Wp("PopperAnchor",n),o=h.useRef(null),s=Dd(t,o);return h.useEffect((()=>{a.onAnchorChange((null==i?void 0:i.current)||o.current)})),i?null:h.createElement(xh.div,(0,kt.Z)({},r,{ref:s}))})),[Yp,$p]=Vp("PopperContent"),Kp=h.forwardRef(((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r,align:a="center",alignOffset:o,collisionTolerance:s,avoidCollisions:l=!0,...c}=e,u=Wp("PopperContent",n),[d,p]=h.useState(),f=Ip(u.anchor),[m,g]=h.useState(null),v=dp(m),[y,b]=h.useState(null),_=dp(y),w=Dd(t,(e=>g(e))),k=function(){const[e,t]=h.useState(void 0);return h.useEffect((()=>{let e;function n(){t({width:window.innerWidth,height:window.innerHeight})}function i(){window.clearTimeout(e),e=window.setTimeout(n,100)}return n(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)}),[]),e}(),x=k?DOMRect.fromRect({...k,x:0,y:0}):void 0,{popperStyles:E,arrowStyles:C,placedSide:S,placedAlign:T}=function({anchorRect:e,popperSize:t,arrowSize:n,arrowOffset:i=0,side:r,sideOffset:a=0,align:o,alignOffset:s=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:c,collisionTolerance:u=0}){if(!e||!t||!c)return{popperStyles:Rp,arrowStyles:jp};const d=function(e,t,n=0,i=0,r){const a=r?r.height:0,o=Op(t,e,"x"),s=Op(t,e,"y"),l=s.before-n-a,c=s.after+n+a,u=o.before-n-a,d=o.after+n+a;return{top:{start:{x:o.start+i,y:l},center:{x:o.center,y:l},end:{x:o.end-i,y:l}},right:{start:{x:d,y:s.start+i},center:{x:d,y:s.center},end:{x:d,y:s.end-i}},bottom:{start:{x:o.start+i,y:c},center:{x:o.center,y:c},end:{x:o.end-i,y:c}},left:{start:{x:u,y:s.start+i},center:{x:u,y:s.center},end:{x:u,y:s.end-i}}}}(t,e,a,s,n),h=d[r][o];if(!1===l){const e=Np(h);let a=jp;return n&&(a=Lp({popperSize:t,arrowSize:n,arrowOffset:i,side:r,align:o})),{popperStyles:{...e,"--radix-popper-transform-origin":Pp(t,r,o,i,n)},arrowStyles:a,placedSide:r,placedAlign:o}}const p=DOMRect.fromRect({...t,...h}),f=(m=c,g=u,DOMRect.fromRect({width:m.width-2*g,height:m.height-2*g,x:m.left+g,y:m.top+g}));var m,g;const v=Bp(p,f),y=d[Zp(r)][o],b=function(e,t,n){const i=Zp(e);return t[e]&&!n[i]?i:e}(r,v,Bp(DOMRect.fromRect({...t,...y}),f)),_=function(e,t,n,i,r){const a="top"===n||"bottom"===n,o=a?"left":"top",s=a?"right":"bottom",l=a?"width":"height",c=t[l]>e[l];return"start"!==i&&"center"!==i||!(r[o]&&c||r[s]&&!c)?"end"!==i&&"center"!==i||!(r[s]&&c||r[o]&&!c)?i:"start":"end"}(t,e,r,o,v),w=Np(d[b][_]);let k=jp;return n&&(k=Lp({popperSize:t,arrowSize:n,arrowOffset:i,side:b,align:_})),{popperStyles:{...w,"--radix-popper-transform-origin":Pp(t,b,_,i,n)},arrowStyles:k,placedSide:b,placedAlign:_}}({anchorRect:f,popperSize:v,arrowSize:_,arrowOffset:d,side:i,sideOffset:r,align:a,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:x,collisionTolerance:s}),D=void 0!==S;return h.createElement("div",{style:E,"data-radix-popper-content-wrapper":""},h.createElement(Yp,{scope:n,arrowStyles:C,onArrowChange:b,onArrowOffsetChange:p},h.createElement(xh.div,(0,kt.Z)({"data-side":S,"data-align":T},c,{style:{...c.style,animation:D?void 0:"none"},ref:w}))))})),Gp=e=>{const{__scopePopper:t,children:n}=e,[i,r]=h.useState(null);return h.createElement(Up,{scope:t,anchor:i,onAnchorChange:r},n)},Xp=Hp,Qp=Kp,[Jp,ef]=Wh("Tooltip",[zp]),tf=zp(),nf=700,[rf,af]=Jp("TooltipProvider",{isOpenDelayed:!0,delayDuration:nf,onOpen:()=>{},onClose:()=>{}}),[of,sf]=Jp("Tooltip"),lf=h.forwardRef(((e,t)=>{const{__scopeTooltip:n,...i}=e,r=sf("TooltipTrigger",n),a=tf(n),o=Dd(t,r.onTriggerChange),s=h.useRef(!1),l=h.useCallback((()=>s.current=!1),[]);return h.useEffect((()=>()=>document.removeEventListener("mouseup",l)),[l]),h.createElement(Xp,(0,kt.Z)({asChild:!0},a),h.createElement(xh.button,(0,kt.Z)({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},i,{ref:o,onMouseEnter:qh(e.onMouseEnter,r.onTriggerEnter),onMouseLeave:qh(e.onMouseLeave,r.onClose),onMouseDown:qh(e.onMouseDown,(()=>{r.onClose(),s.current=!0,document.addEventListener("mouseup",l,{once:!0})})),onFocus:qh(e.onFocus,(()=>{s.current||r.onOpen()})),onBlur:qh(e.onBlur,r.onClose),onClick:qh(e.onClick,(e=>{0===e.detail&&r.onClose()}))})))})),cf=h.forwardRef(((e,t)=>{const{forceMount:n,...i}=e,r=sf("TooltipContent",e.__scopeTooltip);return h.createElement(Ch,{present:n||r.open},h.createElement(uf,(0,kt.Z)({ref:t},i)))})),uf=h.forwardRef(((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":r,portalled:a=!0,...o}=e,s=sf("TooltipContent",n),l=tf(n),c=a?Dp:h.Fragment,{onClose:u}=s;return Rh((()=>u())),h.useEffect((()=>(document.addEventListener("tooltip.open",u),()=>document.removeEventListener("tooltip.open",u))),[u]),h.createElement(c,null,h.createElement(df,{__scopeTooltip:n}),h.createElement(Qp,(0,kt.Z)({"data-state":s.stateAttribute},l,o,{ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),h.createElement(Ad,null,i),h.createElement(Tp,{id:s.contentId,role:"tooltip"},r||i)))}));function df(e){const{__scopeTooltip:t}=e,n=sf("CheckTriggerMoved",t),i=Ip(n.trigger),r=null==i?void 0:i.left,a=hp(r),o=null==i?void 0:i.top,s=hp(o),l=n.onClose;return h.useEffect((()=>{(void 0!==a&&a!==r||void 0!==s&&s!==o)&&l()}),[l,a,s,r,o]),null}const hf=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:r=!1,onOpenChange:a,delayDuration:o}=e,s=af("Tooltip",t),l=tf(t),[c,u]=h.useState(null),d=function(e){const[t,n]=h.useState(Cp());return Eh((()=>{e||n((e=>null!=e?e:String(Sp++)))}),[e]),e||(t?`radix-${t}`:"")}(),p=h.useRef(0),f=null!=o?o:s.delayDuration,m=h.useRef(!1),{onOpen:g,onClose:v}=s,[y=!1,b]=pp({prop:i,defaultProp:r,onChange:e=>{e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),g()),null==a||a(e)}}),_=h.useMemo((()=>y?m.current?"delayed-open":"instant-open":"closed"),[y]),w=h.useCallback((()=>{window.clearTimeout(p.current),m.current=!1,b(!0)}),[b]),k=h.useCallback((()=>{window.clearTimeout(p.current),p.current=window.setTimeout((()=>{m.current=!0,b(!0)}),f)}),[f,b]);return h.useEffect((()=>()=>window.clearTimeout(p.current)),[]),h.createElement(Gp,l,h.createElement(of,{scope:t,contentId:d,open:y,stateAttribute:_,trigger:c,onTriggerChange:u,onTriggerEnter:h.useCallback((()=>{s.isOpenDelayed?k():w()}),[s.isOpenDelayed,k,w]),onOpen:h.useCallback(w,[w]),onClose:h.useCallback((()=>{window.clearTimeout(p.current),b(!1),v()}),[b,v])},n))},pf=lf,ff=cf,mf={brandBlue:"$blue500",backgroundPrimary:"white",backgroundSecondary:"white",backgroundTertiary:"#F5F9FF",textPrimary:"$gray900",textSecondary:"$gray700",textTertiary:"$gray600",borderPrimary:"$gray300",borderSecondary:"$gray200",buttonTertiary:"$gray300",tableRowHover:"$blueAlpha100",tableHeader:"$blue100",grayAlpha100:"rgba(0, 0, 0, 0.06)",grayAlpha800:"rgba(0, 0, 0, 0.64)",black:"#000000",white:"#FFFFFF",whiteAlpha100:"rgba(255, 255, 255, 0.06)",blueAlpha100:"rgba(0, 102, 255, 0.08)",gray200:"#F1F1F1",gray300:"#E8E8E8",gray400:"#d5d5d5",gray500:"#B8B8B8",gray600:"#8F8F8F",gray700:"#666666",gray800:"#383838",gray900:"#252626",gray950:"#181818",blue100:"#F5F9FF",blue500:"#139DFF",blue600:"#1290eb",blue700:"#1184d6",blue800:"#1f2437",blue900:"#121521",blue1000:"#2D3450",green50:"#E8FCF5",green100:"#CCFAE9",green200:"#98F6D3",green300:"#61F5BF",green400:"#29F5AA",green500:"#07E092",green600:"#08AF72",green700:"#088155",green800:"#075438",green900:"#042A1C",lime50:"#F2F9EB",lime100:"#E4F4D7",lime200:"#C9EBAD",lime300:"#ABE37D",lime400:"#8FDD50",lime500:"#74D425",lime600:"#5DA621",lime700:"#45791A",lime800:"#305214",lime900:"#18280B",red50:"#FDE7E7",red100:"#FCCFCF",red200:"#FA9E9E",red300:"#FA6B6B",red400:"#FC3636",red500:"#FF0000",red600:"#C90303",red700:"#940505",red800:"#610505",red900:"#300303",gradientRedOrange:"linear-gradient(119.41deg, #ff4273 0%, #ff8c5a 100%)",gradientTealGreen:"linear-gradient(91.75deg, #2fbae6 2.96%, #70ed7c 97.04%)",gradientBlueLight:"linear-gradient(119.41deg, #3d67ff 0%, #93ede8 100%)",gradientBluePurple1:"linear-gradient(120deg, #0979FF 9.66%, #5A06CB 87.27%)",gradientBluePurple2:"linear-gradient(240deg, #0979FF 9.66%, #5A06CB 87.27%)",gradientBluePurple3:"linear-gradient(0deg, #0979FF 9.66%, #5A06CB 87.27%)",gradientGrayish:"linear-gradient(114.94deg, rgba(9, 121, 255, 0.05) 9.66%, rgba(90, 6, 203, 0.05) 87.27%), #FFFFFF",gradientBluePink:"linear-gradient(90deg, #87d4ff, #e476ee)"},gf={media:{sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},radii:{1:"3px",2:"5px",3:"7px",4:"10px",5:"12px",round:"50%",pill:"100px"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"},space:{1:"2px",2:"4px",3:"8px",4:"16px",5:"24px",6:"32px",7:"48px",8:"64px"}},vf={fontSizes:{"2xs":"9px",xs:"10px",sm:"12px",md:"14px",lg:"16px",xl:"18px","2xl":"20px","3xl":"22px","4xl":"28px","5xl":"34px","6xl":"40px","7xl":"48px"},fontWeights:{normal:"400",medium:"500",bold:"600",bolder:"700",black:"900"},fonts:{default:"Inter, sans-serif"}},yf={colors:mf,fonts:vf.fonts,space:gf.space,shadows:{blue500:mf.blue500},fontSizes:vf.fontSizes,fontWeights:vf.fontWeights,radii:gf.radii,zIndices:gf.zIndices},{styled:bf,css:_f,config:wf,createTheme:kf,keyframes:xf}=Ed({theme:yf,media:{sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{p:e=>({paddingTop:e,paddingBottom:e,paddingLeft:e,paddingRight:e}),pt:e=>({paddingTop:e}),pr:e=>({paddingRight:e}),pb:e=>({paddingBottom:e}),pl:e=>({paddingLeft:e}),px:e=>({paddingLeft:e,paddingRight:e}),py:e=>({paddingTop:e,paddingBottom:e}),m:e=>({marginTop:e,marginBottom:e,marginLeft:e,marginRight:e}),mt:e=>({marginTop:e}),mr:e=>({marginRight:e}),mb:e=>({marginBottom:e}),ml:e=>({marginLeft:e}),mx:e=>({marginLeft:e,marginRight:e}),my:e=>({marginTop:e,marginBottom:e}),gradientBorder:e=>({position:"relative","&::before":{content:"''",display:"block",background:e,position:"absolute",top:"-2px",left:"-2px",width:"calc(100% + 4px)",height:"calc(100% + 4px)",borderRadius:"$5",zIndex:-1}})},prefix:"vidiq"}),Ef=kf("vidiq-dark-theme-ext",{colors:{backgroundPrimary:"$gray950",backgroundSecondary:"$gray900",backgroundTertiary:"$gray800",textPrimary:"white",textSecondary:"$gray600",borderPrimary:"$gray800",borderSecondary:"$gray800",buttonTertiary:"$gray800",tableHeader:"$gray950",tableRowEven:"$backgroundSecondary",tableRow:"$backgroundSecondary",tableRowHover:"$whiteAlpha100",red50:"#FDEFEC",red100:"#FCDBD4",red200:"#FBBBAD",red300:"#FB957E",red400:"#FC7354",red500:"#FF4C24",red600:"#E72D04",red700:"#A82305",red800:"#6F1906",red900:"#340D04"}}),Cf="body[class*=' vidiq-dark-theme']",Sf=`.${kf("vidiq-dark-theme-web",{colors:{backgroundPrimary:"$blue900",backgroundSecondary:"$blue800",backgroundTertiary:"$gray800",textPrimary:"white",textSecondary:"$gray600",borderPrimary:"$blue800",borderSecondary:"$blue1000",buttonTertiary:"$blue900",tableHeader:"$gray950",tableRowEven:"$backgroundSecondary",tableRow:"$backgroundSecondary",tableRowHover:"$whiteAlpha100",red50:"#FDEFEC",red100:"#FCDBD4",red200:"#FBBBAD",red300:"#FB957E",red400:"#FC7354",red500:"#FF4C24",red600:"#E72D04",red700:"#A82305",red800:"#6F1906",red900:"#340D04"}})}`,Tf=`.${Ef}`,Df=bf("div",{boxSizing:"border-box"}),Ff=bf("div",{display:"flex",boxSizing:"border-box",variants:{direction:{row:{flexDirection:"row"},column:{flexDirection:"column"}},wrap:{true:{flexWrap:"wrap"}},justifyContent:{center:{justifyContent:"center"},start:{justifyContent:"flex-start"},end:{justifyContent:"flex-end"},spaceAround:{justifyContent:"space-around"},spaceBetween:{justifyContent:"space-between"}},alignItems:{center:{alignItems:"center"},start:{alignItems:"flex-start"},end:{alignItems:"flex-end"},spaceAround:{alignItems:"space-around"},spaceBetween:{alignItems:"space-between"}}}}),Mf=e=>{var{gap:t,css:n,direction:i="row"}=e,r=g(e,["gap","css","direction"]);return h.createElement(Ff,Object.assign({css:Object.assign({gap:t},n),direction:i},r))},Af=bf("p",{lineHeight:"1",margin:"0",fontWeight:400,color:"$textPrimary",fontFamily:"$default",fontSize:"$md",variants:{variant:{primary:{color:"$textPrimary"},secondary:{color:"$textSecondary"},tertiary:{color:"$textTertiary"}},gradient:{true:{background:"linear-gradient(90deg, #0979ff, #5a06cb)",backgroundClip:"text","-webkit-text-fill-color":"transparent"}},weight:{normal:{fontWeight:"$normal"},medium:{fontWeight:"$medium"},bold:{fontWeight:"$bold"},bolder:{fontWeight:"$bolder"},black:{fontWeight:"$black"}},size:{"2xs":{fontSize:"$2xs",lineHeight:"12px"},xs:{fontSize:"$xs",lineHeight:"12px"},sm:{fontSize:"$sm",lineHeight:"14px"},md:{fontSize:"$md",lineHeight:"16px"},lg:{fontSize:"$lg",lineHeight:"18px"},xl:{fontSize:"$xl",lineHeight:"20px"},"2xl":{fontSize:"$2xl",lineHeight:"22px"},"3xl":{fontSize:"$3xl",lineHeight:"24px"},"4xl":{fontSize:"$4xl",lineHeight:"28px"},"5xl":{fontSize:"$5xl",lineHeight:"36px"},"6xl":{fontSize:"$6xl",lineHeight:"40px"},"7xl":{fontSize:"$7xl",lineHeight:"44px"}},blurred:{true:{filter:"blur(3px)"}}},defaultVariants:{weight:"normal"}}),If=bf("button",{cursor:"pointer",display:"inline-flex",justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",fontFamily:"$default",borderRadius:"$pill",height:"fit-content",fontSize:"$sm",fontWeight:"$bold",border:"1px solid transparent","&:focus-visible":{outline:"none",boxShadow:"0px 0px 4px 1px $blue500",border:"1px solid white"}}),Of=bf(If,{variants:{size:{sm:{height:"28px",px:"$3",fontSize:"$xs"},md:{height:"34px",px:"$4",fontSize:"$sm"},lg:{height:"40px",px:"$4",fontSize:"$md"}},variant:{unstyled:{},primary:{backgroundColor:"$blue500",color:"white",[`${Sf}`]:{},[`${Tf}`]:{},"&:hover":{backgroundColor:"$blue600"},"&:active":{backgroundColor:"$blue700"}},secondary:{backgroundColor:"transparent",border:"1px solid $blue500",color:"$blue500",[`${Sf} &:hover`]:{backgroundColor:"$blue900"},[`${Tf} &:hover`]:{backgroundColor:"$gray800"},"&:hover":{backgroundColor:"$blue100"}},tertiary:{backgroundColor:"$buttonTertiary",color:"$textPrimary","&:hover":{backgroundColor:"$gray400",[`${Cf} &`]:{backgroundColor:"$buttonTertiary",color:"$gray300"}},"&:active":{backgroundColor:"$gray500",[`${Cf} &`]:{backgroundColor:"$buttonTertiary",color:"$gray400"}}},ghost:{backgroundColor:"transparent",color:"$blue500","&:hover":{backgroundColor:"$backgroundTertiary"},"&:active":{color:"$blue700"}},cool:{backgroundColor:"$backgroundTertiary",color:"$blue500","&:hover":{color:"$blue600"},"&:active":{color:"$blue700"}},tab:{backgroundColor:"transparent",color:"$textSecondary","&:hover":{color:"$textTertiary"},"&:active":{color:"$textTertiary",backgroundColor:"$grayAlpha100",[`${Cf} &`]:{backgroundColor:"$whiteAlpha100"}}},navLink:{backgroundColor:"transparent",color:"$textSecondary","&:hover":{color:"$textTertiary"},"&:active":{color:"$textSecondary",textDecoration:"none"}},link:{backgroundColor:"transparent",color:"$blue500","&:hover":{textDecoration:"underline"},"&:active":{color:"$blue700",textDecoration:"none"}},bluePink:{backgroundImage:"$gradientBluePurple1",backgroundOrigin:"border-box",color:"white","&:hover":{backgroundImage:"$gradientBluePurple2"},"&:active":{backgroundImage:"$gradientBluePurple3"}},bluePinkLink:{backgroundImage:"$gradientBluePurple1",backgroundClip:"text","-webkit-text-fill-color":"transparent","&:hover":{backgroundImage:"$gradientBluePurple2"},"&:active":{backgroundImage:"$gradientBluePurple3"}}},weight:{normal:{fontWeight:"$normal"},medium:{fontWeight:"$medium"},bold:{fontWeight:"$bold"},bolder:{fontWeight:"$bolder"},black:{fontWeight:"$black"}},disabled:{true:{pointerEvents:"none"}},icon:{true:{px:"$3",borderRadius:"$4"}},active:{true:{}}},compoundVariants:[{variant:"primary",disabled:!0,css:{border:"1px solid $borderPrimary",backgroundColor:"$gray300",color:"$textTertiary"}},{variant:"secondary",disabled:!0,css:{border:"1px solid $borderPrimary",backgroundColor:"transparent",color:"$textTertiary"}},{variant:"tertiary",disabled:!0,css:{backgroundColor:"$gray300",color:"$textTertiary",[`${Cf} &`]:{backgroundColor:"$buttonTertiary"}}},{variant:"ghost",disabled:!0,css:{backgroundColor:"transparent",color:"$textTertiary"}},{variant:"cool",disabled:!0,css:{color:"$textTertiary"}},{variant:"link",disabled:!0,css:{backgroundColor:"transparent",color:"$textTertiary"}},{variant:"bluePink",disabled:!0,css:{background:"none",backgroundColor:"$gray300",color:"$textTertiary"}},{variant:"tab",active:!0,css:{backgroundColor:"$blue500",color:"white","&:hover":{backgroundColor:"$blue600",color:"white"},"&:active":{[`${Cf} &`]:{backgroundColor:"$blue700"},backgroundColor:"$blue700",color:"white"}}},{variant:"tab",size:"lg",css:{px:"12px"}},{variant:"navLink",disabled:!0,css:{color:"$textTertiary"}},{variant:"navLink",active:!0,css:{color:"$blue500","&:hover":{color:"$blue700"},"&:active":{color:"$blue500"}}}],defaultVariants:{size:"md",variant:"primary"}}),Nf=e=>{var{size:t="md",variant:n="primary"}=e,i=g(e,["size","variant"]);return h.createElement(Of,Object.assign({size:t,variant:n},i))},Pf=(bf(Af,{variants:{type:{h1:{fontSize:"$5xl",lineHeight:"40px"},h2:{fontSize:"$4xl",lineHeight:"36px"},h3:{fontSize:"$3xl",lineHeight:"28px"},h4:{fontSize:"$2xl",lineHeight:"24px"},h5:{fontSize:"$xl",lineHeight:"20px"},custom:{}}},defaultVariants:{type:"custom"}}),e=>{var{gap:t,css:n}=e,i=g(e,["gap","css"]);return h.createElement(Mf,Object.assign({css:Object.assign({flexDirection:"column",flexWrap:"wrap",gap:t},n)},i))}),Rf=bf(Df,{borderRadius:"$4",variants:{variant:{default:{border:"1px solid $borderPrimary",backgroundColor:"$backgroundSecondary"},red:{background:"$gradientRedOrange","& .vidiq-daily-ideas-card-number":{color:"#83372e"},"& .vidiq-daily-ideas-card-view-prediction":{color:"#702f39"}},green:{background:"$gradientTealGreen","& .vidiq-daily-ideas-card-number,.vidiq-daily-ideas-card-view-prediction":{color:"#1b6576"}},blue:{background:"$gradientBlueLight","& .vidiq-daily-ideas-card-number,.vidiq-daily-ideas-card-view-prediction":{color:"#223b92"}},grayWithGradientBorder:{background:"$gradientGrayish",gradientBorder:"$gradientBluePurple1"}},shadow:{true:{boxShadow:"0px 20px 30px rgb(0 0 0 / 8%)"}}},defaultVariants:{variant:"default"}}),jf=bf("svg",{variants:{size:{"2xs":{minWidth:"12px",minHeight:"12px",maxWidth:"12px",maxHeight:"12px"},xs:{minWidth:"14px",minHeight:"14px",maxWidth:"14px",maxHeight:"14px"},sm:{minWidth:"16px",minHeight:"16px",maxWidth:"16px",maxHeight:"16px"},md:{minWidth:"24px",minHeight:"24px",maxWidth:"24px",maxHeight:"24px"},lg:{minWidth:"32px",minHeight:"32px",maxWidth:"32px",maxHeight:"32px"},xl:{minWidth:"48px",minHeight:"48px",maxWidth:"48px",maxHeight:"48px"}}},defaultVariants:{size:"md"}});function Lf(e){const{width:t,height:n}=e;return h.createElement(jf,Object.assign({},e,{css:Object.assign({minWidth:t,minHeight:n,maxWidth:t,maxHeight:n},e.css)}))}const qf=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",width:"16",height:"16"},e),h.createElement("path",{fill:"currentColor",d:"M.3 10.5a.6.6 0 000 .8c.2.2.6.2.8 0L5.5 7l4.4 4.4c.2.2.6.3.8 0a.6.6 0 000-.8L6.4 6l4.3-4.4a.6.6 0 000-.9.6.6 0 00-.8 0L5.5 5.2 1.1.8a.6.6 0 00-.8 0 .6.6 0 000 .9l4.3 4.4-4.3 4.4z"})),Zf=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 131 44",width:"64px",height:"24px"},e),h.createElement("path",{fill:"var(--vidiq-colors-textPrimary)",d:"M0.503296 14.0738H9.61283L14.1193 28.859H14.2126L18.719 14.0939H27.8352L19.699 37.9194H8.19957L0.503296 14.0738Z"}),h.createElement("path",{fill:"var(--vidiq-colors-textPrimary)",d:"M29.1283 14.0471L39.5378 14.0034V37.8994H29.1283V14.0471Z"}),h.createElement("path",{d:"M74.6698 0.462738H85.0793V37.899H74.6698V0.462738Z",fill:"var(--vidiq-colors-blue500)"}),h.createElement("path",{fill:"var(--vidiq-colors-textPrimary)",d:"M29.1283 0.462738L41.091 5.56676L29.1283 10.6708V0.462738Z"}),h.createElement("path",{d:"M130.497 38.198L123.284 30.9295C124.857 27.9094 125.507 24.0034 125.507 19.2752C125.497 6.24832 118.497 0 106.575 0C94.1653 0 87.6823 6.24832 87.6823 19.2752C87.6823 32.698 93.652 38.5503 106.575 38.5503C111.184 38.5503 114.781 37.8557 117.544 36.5L124.99 44L130.497 38.198ZM97.6018 19.2752C97.6018 13.3423 101.062 9.97316 106.575 9.97316C112.088 9.97316 115.604 13.3289 115.548 19.2752C115.498 25.6779 112.008 28.5235 106.575 28.5805C101.025 28.6544 97.6018 25.2081 97.6018 19.2752Z",fill:"var(--vidiq-colors-blue500)"}),h.createElement("path",{fill:"var(--vidiq-colors-textPrimary)",d:"M61.6669 0.462738V15.9997H61.5169C59.8503 13.9862 57.1471 13.2245 53.7173 13.2245C45.961 13.2245 41.5612 18.0164 41.5612 26.0131C41.5612 34.1842 45.371 38.701 53.8939 38.701C57.1504 38.701 60.6569 37.6943 62.0235 35.5768H62.1268V37.899H70.7664V0.462738H61.6669ZM55.7672 30.7513C53.2106 30.7916 51.634 29.0164 51.634 25.9627C51.634 22.909 53.2273 21.1775 55.7672 21.1775C58.307 21.1775 59.9269 22.9124 59.9003 25.9627C59.8736 29.258 58.2704 30.7144 55.7672 30.7513Z"})),Bf=e=>h.createElement(Lf,Object.assign({width:"32",height:"32",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M20 40C31.0457 40 40 31.0457 40 20C40 8.95431 31.0457 0 20 0C8.95431 0 0 8.95431 0 20C0 31.0457 8.95431 40 20 40Z",fill:"var(--vidiq-colors-blue500)"}),h.createElement("path",{d:"M9.03198 8.43991L36.032 19.8859L9.03198 31.3319V8.43991Z",fill:"#121521"}),h.createElement("path",{d:"M11.532 16.2681H13.46V23.3401H11.532V16.2681Z",fill:"white"}),h.createElement("path",{d:"M22.532 23.3458L21.158 21.9718C21.458 21.3998 21.582 20.6638 21.582 19.7718C21.582 17.3098 20.25 16.1298 17.982 16.1298C15.624 16.1298 14.382 17.3098 14.382 19.7718C14.382 22.3058 15.518 23.4118 17.982 23.4118C18.6976 23.441 19.4107 23.3084 20.068 23.0238L21.484 24.4398L22.532 23.3458ZM16.274 19.7718C16.274 18.6498 16.932 18.0138 17.982 18.0138C19.032 18.0138 19.698 18.6498 19.688 19.7718C19.676 20.9718 19.014 21.5138 17.982 21.5278C16.95 21.5418 16.274 20.8918 16.274 19.7718Z",fill:"white"}));const Vf=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 16 16",width:"16",height:"16"},e),h.createElement("path",{fill:"currentColor",d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})),zf=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 16 16",width:"16",height:"16"},e),h.createElement("rect",{fill:"currentColor",x:"3",y:"7",width:"10",height:"2",rx:"1"})),Uf=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 20 20"},e),h.createElement("path",{fill:"currentColor",d:"M14.17 7.64a.83.83 0 00-1.18 0L10 10.6 7.05 7.64a.83.83 0 10-1.18 1.18l3.54 3.54a.83.83 0 001.18 0l3.58-3.54a.83.83 0 000-1.18z"})),Wf=e=>{var{css:t}=e,n=g(e,["css"]);return h.createElement(Uf,Object.assign({css:Object.assign({transform:"rotate(180deg)"},t)},n))},Hf=e=>{var{css:t}=e,n=g(e,["css"]);return h.createElement(Uf,Object.assign({},n,{css:Object.assign({transform:"rotate(90deg)"},t)}))},Yf=e=>{var{css:t}=e,n=g(e,["css"]);return h.createElement(Uf,Object.assign({css:Object.assign({transform:"rotate(270deg)"},t)},n))},$f=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"14",fill:"none",viewBox:"0 0 10 14"},e),h.createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M5 12l3-3-3 3-3-3 3 3zM5 2L2 5l3-3 3 3-3-3z"})),Kf=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},e),h.createElement("circle",{cx:"8",cy:"8",r:"8"}),h.createElement("path",{d:"m10.5 5.5-5 5M5.5 5.5l5 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Gf=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},e),h.createElement("circle",{cx:"8",cy:"8",r:"8"}),h.createElement("path",{d:"M10.667 6.5 7 10.167 5.333 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),Xf=e=>h.createElement(Lf,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",height:"16",fill:"currentColor"},e),h.createElement("path",{d:"M243.8 339.8c-10.9 10.9-28.7 10.9-39.6 0l-64-64c-10.9-10.9-10.9-28.7 0-39.6 10.9-10.9 28.7-10.9 39.6 0l44.2 44.2 108.2-108.2c10.9-10.9 28.7-10.9 39.6 0 10.9 10.9 10.9 28.7 0 39.6l-128 128zM512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"})),Qf=(bf(lp,{backgroundColor:"$backgroundPrimary",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),bf(sp,{backgroundColor:"$grayAlpha800",position:"fixed",inset:0,"@media (prefers-reduced-motion: no-preference)":{animation:`${Sd({"0%":{opacity:0},"100%":{opacity:1}})} 300ms cubic-bezier(0.16, 1, 0.3, 1)`}}),bf(ip,{backgroundColor:"transparent",color:"$textPrimary",cursor:"pointer",p:"$4",border:"none",display:"flex",borderRadius:"$round","&:hover":{backgroundColor:"$grayAlpha100"},[`${Cf} &:hover`]:{backgroundColor:"$whiteAlpha100"}}));bf(Qf,{position:"absolute",top:"5px",right:"5px"});const Jf=bf(xp,{all:"unset",backgroundColor:"white",border:"1px solid $borderPrimary",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$2",[`${Cf} &`]:{borderColor:"transparent"},"&[data-state=checked], &[data-state=indeterminate]":{backgroundColor:"$blue500"},"&:disabled":{pointerEvents:"none",borderColor:"$borderSecondary"}}),em=bf(Jf,{variants:{size:{md:{width:"14px",height:"14px","& .cbindicator":{width:"14px",height:"14px"}},lg:{width:"24px",height:"24px","& .cbindicator":{width:"24px",height:"24px"}}}},defaultVariants:{size:"md"}}),tm=bf(Ep,{width:"inherit",height:"inherit"}),nm=(h.forwardRef(((e,t)=>{const{indeterminate:n,onChange:i,checked:r}=e,a=g(e,["indeterminate","onChange","checked"]),o=n?"indeterminate":r;return h.createElement(em,Object.assign({ref:t,title:"checkbox",onClick:i,checked:o},a),h.createElement(tm,{className:"cbindicator"},"indeterminate"===o&&h.createElement(zf,{size:"lg"===e.size?"md":"xs",css:{color:"white"}}),"indeterminate"!==o&&h.createElement(Vf,{size:"lg"===e.size?"md":"xs",css:{color:"white"}})))})),bf(Af,{userSelect:"none"}),bf("td",{p:"$3"}),h.createContext({})),im=()=>{const e=h.useContext(nm);if(void 0===e)throw new Error("useTable hook called outside of Table context");return e};bf("tr",{variants:{selectable:{true:{cursor:"pointer"}}}});bf("table",{borderCollapse:"collapse",borderSpacing:"0",width:"100%",overflowX:"auto",fontFamily:"$default",fontSize:"$md",color:"$textPrimary",th:{textAlign:"left"},variants:{variant:{default:{fontWeight:"$bold","tr.sub-header":{backgroundColor:"transparent"},"tr.sub-header:hover":{backgroundColor:"transparent"},"tr:nth-of-type(even)":{backgroundColor:"$tableRowEven"},"thead tr":{backgroundColor:"$tableHeader"},"tbody tr":{borderBottom:"1px solid $borderSecondary"},"tbody tr:last-of-type":{borderBottom:"none"},"tbody tr:hover":{backgroundColor:"$tableRowHover"},"tr th":{fontWeight:"$bold"},"th:first-of-type":{borderRadius:"$3 0 0 $3"},"th:last-of-type":{borderRadius:"0 $3 $3 0"}},thin:{fontWeight:"$medium",th:{color:"$textTertiary",fontWeight:"$normal"},"tbody tr":{borderBottom:0},"thead tr":{background:"$transparent"},"tbody tr:hover":{backgroundColor:"$tableRowHover"},"th:first-of-type":{borderRadius:"$4 0 0 $4"},"th:last-of-type":{borderRadius:"0 $4 $4 0"}}}},defaultVariants:{variant:"default"}});bf("tr"),bf("th");const rm=({canSort:e,type:t})=>{if(!e)return null;switch(t){case"asc":return h.createElement(Wf,{height:"16px",width:"16px","data-testid":"sort-ascending-icon"});case"desc":return h.createElement(Uf,{height:"16px",width:"16px","data-testid":"sort-descending-icon"});default:return h.createElement($f,{height:"16px",width:"16px","data-testid":"no-sort-icon"})}},am=bf("th",{p:"$3",color:"$textPrimary",whiteSpace:"nowrap",variants:{sortable:{true:{cursor:"pointer"}}}}),om=(h.forwardRef(((e,t)=>{var{children:n,dataKey:i,canSort:r=!0}=e,a=g(e,["children","dataKey","canSort"]);const{sortKey:o,sortDirection:s,onSort:l}=im();return h.createElement(am,Object.assign({ref:t,"data-testid":`${i}-th`,sortable:r,onClick:()=>{r&&l(i)}},a),h.createElement(Mf,{gap:"$3",css:{alignItems:"center"}},n,h.createElement(rm,{canSort:r,type:o===i?s:"none"})))})),bf(Mf,{alignContent:"center"}),bf(ff,{backgroundColor:"$black",color:"$white",p:"$2",borderRadius:"$2","@media (prefers-reduced-motion: no-preference)":{animation:`${Sd({"0%":{opacity:0},"100%":{opacity:1}})} 300ms cubic-bezier(0.16, 1, 0.3, 1)`}})),sm=e=>h.createElement(om,Object.assign({},e)),lm=bf(pf,{padding:"0px",border:"none",background:"none",color:"inherit",display:"inline-block"},{variants:{text:{true:{borderBottom:"1px dotted",cursor:"help",mx:"0.25rem"}}}});function cm(e){var{children:t,delayDuration:n=100}=e,i=g(e,["children","delayDuration"]);return h.createElement(hf,Object.assign({delayDuration:n},i),t)}bf("div",{borderBottom:"1px solid",borderColor:"$borderPrimary"}).displayName="Separator";const um=({channel:e})=>h.createElement(Nf,{variant:"link",size:"lg",css:{padding:"0px"},onClick:()=>window.open(`https://www.youtube.com/channel/${e.channel_id}`,"_blank")},e.name),dm=({authedChannels:e,currentChannel:t})=>h.createElement(Mf,{css:{flexFlow:"column",gap:"12px",alignItems:"center"}},h.createElement(Af,{size:"lg"},(0,ai.Z)("youHaveAuthedTheseChannels")),h.createElement(Mf,{css:{maxHeight:"100px",overflowY:"auto",flexFlow:"column"}},e.map((e=>h.createElement(um,{key:e.channel_id,channel:e})))),h.createElement(Af,{size:"lg"},(0,ai.Z)("howeverYoureUsingYouTubeAs")," ",h.createElement(um,{channel:t})),h.createElement(Af,{size:"lg"},(0,ai.Z)("pleaseSwitchToAuthedChannelOrAuth"))),hm=()=>{const e=Tu(),t=function(){const[e,t]=(0,h.useState)(null);return(0,h.useEffect)((()=>{Du().then((e=>{t(e)}))}),[]),e}(),n=J.Z.getData().channels;return e&&t&&n&&n.length?h.createElement(dm,{authedChannels:n,currentChannel:{channel_id:e,name:t}}):h.createElement(h.Fragment,null,(0,ai.Z)("modalErrorUnauthenticatedMessage"))},pm=({width:e})=>h.createElement(Cu,{emoji:"💡",text:(0,ai.Z)("connectYourYtChannel"),subText:h.createElement(hm,null),buttonText:(0,ai.Z)("connectYourYtChannel"),buttonHref:Su("https://app.vidiq.com/welcome"),hint:(0,ai.Z)("modalErrorUnauthenticatedHint"),width:e}),fm=({width:e})=>h.createElement(Cu,{emoji:"😬",text:(0,ai.Z)("oopsWereInTrouble"),subText:(0,ai.Z)("modalErrorUnknownMessage"),width:e}),mm=we.Z.keyMirror(["UPDATE"],"ACHIEVEMENTS"),gm={update(e){ko.Z.dispatch({data:e,action:mm.UPDATE})}},vm=[1,5,10,25,50,75,100,150,200,250,300,400,500,600,700,750,800,900,1e3,1500,2e3,2500,3e3,4e3,5e3,6e3,7e3,7500,8e3,9e3,1e4,12500,15e3,17500,2e4,25e3,3e4,4e4,5e4,6e4,7e4,75e3,8e4,9e4,1e5,125e3,15e4,175e3,2e5,25e4,3e5,35e4,4e5,45e4,5e5,55e4,6e5,65e4,7e5,75e4,8e5,85e4,9e5,95e4,1e6,15e5,2e6,25e5,3e6,35e5,4e6,45e5,5e6,55e5,6e6,65e5,7e6,75e5,8e6,85e5,9e6,95e5,1e7,15e6,2e7,25e6,3e7,35e6,4e7,45e6,5e7,55e6,6e7,65e6,7e7,75e6,8e7,85e6,9e7,95e6,1e8,15e7,2e8,25e7,3e8,35e7,4e8,45e7,5e8,55e7,6e8,65e7,7e8,75e7,8e8,85e7,9e8,95e7,1e9,125e7,15e8,175e7,2e9,25e8,3e9,4e9,5e9,7e9,75e8,8e9,9e9,1e10,2e10,25e9,3e10,4e10,5e10,6e10,7e10,75e9,8e10,9e10,1e11];function ym(e,t,n){const i={achievements:{},bestMonth:{},loading:!1};try{const r=[],a=t["1__KEY_METRIC_DAILY_QUERY"],o=Vs(a.DAY),s=a[e];if(!o.length||!s.length)throw new Error("No stats found");const l=(new Date).setHours(0,0,0,0);"SUBSCRIBERS_NET_CHANGE"===e&&n&&o.push(l);let c=0,u=0;const d=wt()().format("MMMM YYYY");let h=null,p=null,f=0,m=[],g=0;const v={month:h,timestamp:p,value:0,values:[],relativeTotal:0,relativeDate:null,currentMonth:d,currentTotal:0,error:!1};o.forEach(((t,a)=>{const y=new Date(t).toUTCString(),b=wt().utc(y).format("MMMM YYYY");let _=s[a];"SUBSCRIBERS_NET_CHANGE"===e&&t===l&&(_=n-r[a-1].total),"WATCH_TIME"===e&&(_=_/1e3/60/60),c+=_,r.push({timestamp:t,date:y,shortDate:b,value:_,total:c});let w=vm[u];for(;w!==i.achievements.achievementValue&&c>=w;)i.achievements={value:w,timestamp:t,achievementDate:y,nextAchievement:vm[u+1]},w=vm[u+=1];if(h||(h=b),p||(p=t),h===b?(m.push(_),f+=_):(f>=v.value&&(v.month=h,v.timestamp=p,v.value=f,v.values=m),h=b,p=t,f=_,m=[_]),b===d){v.currentTotal+=_,v.relativeTotal+=v.values[g];const e=v.month.split(" ");e.splice(1,0,(g+2).toString()+","),v.relativeDate=e.join(" "),g+=1}if(a===o.length-1){f>=v.value&&(v.month=h,v.timestamp=p,v.value=f,v.values=m),v.progress=v.currentTotal/v.value*100,v.relativeProgress=v.relativeTotal/v.value*100,i.bestMonth=v,i.achievements.currentTotal=c,i.achievements.progress=(c-i.achievements.value)/(i.achievements.nextAchievement-i.achievements.value)*100;const e=function(e,t){if(!e.length||!Object.keys(t).length)return{};const n=(new Date).getTime(),i=e[e.length-1];let r=e.slice(e.length-7).reduce(((e,t)=>e+t.value),0)/7;r<=0&&(r=.033);const a=t.value,o=t.nextAchievement,s=o-t.currentTotal;let l=Math.ceil(s/r);l>730&&(l=730);const c=864e5;let u=i.timestamp+l*c;return(u<n||u<n+c)&&(u=n+c),{projectedDate:new Date(u),projectedTimestamp:u,currentAchievement:a,nextAchievement:o,gapToNextAchievement:s,avgGainedPerDay:r,numDaysToNextAchievement:l}}(r,i.achievements);i.achievements.projection=e.projectedTimestamp,i.achievements.projectionDays=e.numDaysToNextAchievement,i.achievements.error=!i.achievements.value,i.bestMonth.error=!i.bestMonth.value}}))}catch(t){(0,ke.Z)(`(vidiq) Error in parseAchievementsKeyData for ${e}:`,t),Me.Z.warning("Achievements: Unable to parse data",{key:e,error:t}),i.achievements.error=!0,i.bestMonth.error=!0}return i}function bm(e,t){const n=e.reduce(((e,t)=>{const n=function(e){if(!e)return 0;const t=1e3*parseInt(e.timeCreatedSeconds,10);return wt().utc(t).startOf("day").valueOf()}(t);return Object.assign(e,{[n]:e[n]?e[n]+1:1})}),{}),i=t.map((e=>{const t=wt().utc(e).startOf("day").valueOf();return n[t]||0}));return ym("UPLOADS",{"1__KEY_METRIC_DAILY_QUERY":{DAY:t,UPLOADS:i}})}function _m(e,t){try{const n=e[`${"INFO_CARD"===t?"8":"9"}__TOP_ENTITIES_TABLE_QUERY_KEY`],i=n[`${t}_CLICK_RATE`],r=n[`${t}_TYPE`];return i.map(((e,t)=>({type:we.Z.capitalize(r[t].replace("_CARD","").replace("_ENDSCREEN_ELEMENT","").replace(/_/g," ").toLowerCase()),clickRate:e})))}catch(e){return(0,ke.Z)("(vidiq) Error in parseChannelAuditClickRates:",t,e),Me.Z.warning("Channel Audit: parseChannelAuditClickRates error",{type:t,error:e.toString()}),[]}}const wm={getTimestamp:e=>wt()(e,"YYYYMMDD").valueOf(),getUrlMetrics:(e,t)=>t.reduce(((t,n)=>t+`&${e}_metrics[]=${n}`),""),getUrlBase:(e,t)=>(t||(t="tab-overview"),`https://studio.youtube.com/channel/${e}/analytics/${t}/period-4_weeks/explore?entity_type=CHANNEL&entity_id=${e}`),getVideoLink(e,t,n){const i=this.getTimestamp(n.start),r=this.getTimestamp(n.end),a=["VIEWS","WATCH_TIME","AVERAGE_WATCH_TIME","AVERAGE_WATCH_PERCENTAGE","LIKES_PER_LIKES_PLUS_DISLIKES_PERCENT","SUBSCRIBERS_NET_CHANGE","TOTAL_ESTIMATED_EARNINGS","VIDEO_THUMBNAIL_IMPRESSIONS","VIDEO_THUMBNAIL_IMPRESSIONS_VTR"];a.indexOf(e)<0&&a.unshift(e);return`https://studio.youtube.com/video/${t}/analytics/tab-overview/period-4_weeks/explore?utm_campaign=upgrade&utm_medium=redirect&utm_source=%2Fanalytics&entity_type=VIDEO&entity_id=${t}&time_period=${i}%2C${r}&explore_type=TABLE_AND_CHART&chart_type=LINE_CHART&metric=${e}&granularity=DAY`+this.getUrlMetrics("t",a)+this.getUrlMetrics("v",a)+`&dimension=VIDEO&o_column=${e}&o_direction=ANALYTICS_ORDER_DIRECTION_DESC`},getSectionLink(e,t,n){const i=this.getTimestamp(n.start),r=this.getTimestamp(n.end),a=["VIEWS","WATCH_TIME","SUBSCRIBERS_NET_CHANGE","AVERAGE_WATCH_TIME","AVERAGE_WATCH_PERCENTAGE","TOTAL_ESTIMATED_EARNINGS","VIDEO_THUMBNAIL_IMPRESSIONS","VIDEO_THUMBNAIL_IMPRESSIONS_VTR"],o="AVERAGE_WATCH_TIME"===e||"AVERAGE_WATCH_PERCENTAGE"===e?"VIEWS":e;return this.getUrlBase(t)+`&time_period=${i}%2C${r}&explore_type=TABLE_AND_CHART&chart_type=LINE_CHART`+`&metric=${e}&granularity=DAY`+this.getUrlMetrics("t",a)+this.getUrlMetrics("v",a)+"&dimension=VIDEO"+`&o_column=${o}&o_direction=ANALYTICS_ORDER_DIRECTION_DESC`},getGrowthLink(e,t,n){const i=this.getTimestamp(n.prevStart),r=this.getTimestamp(n.prevEnd);return this.getSectionLink(e,t,n)+`&comparison_entity_id=${t}`+`&comparison_time_period=${i}%2C${r}&comparison_entity_type=CHANNEL`},getVphLink(e){return`${this.getUrlBase(e)}&explore_type=LATEST_ACTIVITY`},getEngagementLink(e,t){return`https://studio.youtube.com/video/${e}/analytics/tab-overview/period-${this.getTimestamp(t.start)},${this.getTimestamp(t.end)}`},getPlaylistsLink(e,t){const n=this.getTimestamp(t.start),i=this.getTimestamp(t.end),r=this.getUrlMetrics("t",["VIDEO_THUMBNAIL_IMPRESSIONS","VIDEO_THUMBNAIL_IMPRESSIONS_VTR","VIEWS","AVERAGE_WATCH_TIME","WATCH_TIME"]);return this.getUrlBase(e)+"&ddr_dimension=TRAFFIC_SOURCE_TYPE&ddr_value=PLAYLIST"+`&time_period=${n}%2C${i}&explore_type=TABLE_AND_CHART&chart_type=LINE_CHART&metric=WATCH_TIME&granularity=DAY`+r+"&dimension=TRAFFIC_SOURCE_DETAIL&o_column=WATCH_TIME&o_direction=ANALYTICS_ORDER_DIRECTION_DESC"},getClickRatesLink(e,t,n){const i=this.getTimestamp(n.start),r=this.getTimestamp(n.end),a=this.getUrlBase(t,"tab-interest_viewers")+`&time_period=${i}%2C${r}&explore_type=TABLE_AND_CHART&chart_type=LINE_CHART`,o=this.getUrlMetrics("t",["INFO_CARD_TEASER_CLICKS","INFO_CARD_TEASER_CLICK_RATE","INFO_CARD_CLICKS","INFO_CARD_CLICK_RATE"]);if("cards"===e)return a+"&metric=INFO_CARD_CLICK_RATE&granularity=DAY"+o+"&dimension=INFO_CARD_TYPE&o_column=INFO_CARD_CLICK_RATE&o_direction=ANALYTICS_ORDER_DIRECTION_DESC";return a+"&metric=ENDSCREEN_ELEMENT_CLICK_RATE&granularity=DAY"+this.getUrlMetrics("t",["ENDSCREEN_ELEMENT_IMPRESSIONS","ENDSCREEN_ELEMENT_CLICKS","ENDSCREEN_ELEMENT_CLICK_RATE"])+"&dimension=ENDSCREEN_ELEMENT_TYPE&o_column=ENDSCREEN_ELEMENT_CLICK_RATE&o_direction=ANALYTICS_ORDER_DIRECTION_DESC"},getSearchTermsLink(e,t){const n=this.getTimestamp(t.start),i=this.getTimestamp(t.end),r=this.getUrlMetrics("t",["WATCH_TIME","VIEWS","AVERAGE_WATCH_TIME","VIDEO_THUMBNAIL_IMPRESSIONS","VIDEO_THUMBNAIL_IMPRESSIONS_VTR"]);return this.getUrlBase(e)+"&ddr_dimension=TRAFFIC_SOURCE_TYPE&ddr_value=YT_SEARCH"+`&time_period=${n}%2C${i}&explore_type=TABLE_AND_CHART&chart_type=LINE_CHART&metric=VIEWS&granularity=DAY`+r+"&dimension=TRAFFIC_SOURCE_DETAIL&o_column=VIEWS&o_direction=ANALYTICS_ORDER_DIRECTION_DESC"}},km=wm;var xm=__webpack_require__(8247);function Em(e,t,n){const i={};return["VIEWS","SUBSCRIBERS_NET_CHANGE","WATCH_TIME"].forEach((r=>{try{const a=e["0__TOTALS_SUMS_QUERY_KEY"][r][0],o=e["1__TOTALS_SUMS_QUERY_KEY"][r][0],s=(0,xm.Z)(o,a),l=km.getGrowthLink(r,t,n),c=we.Z.camelCase(r.replace("_NET_CHANGE","").toLowerCase());i[c]={thisPeriod:a,lastPeriod:o,percentage:s,link:l}}catch(e){(0,ke.Z)("(vidiq) Error in parseChannelAuditGrowth:",r,e),Me.Z.warn("Channel Audit: parseChannelAuditGrowth error",{key:r,error:e})}})),i}function Cm(e,t,n){try{const i=km.getSearchTermsLink(n,t),r=e["5__TABLE_QUERY_TRAFFIC_SOURCE_YT_SEARCH"];return r.TRAFFIC_SOURCE_DETAIL.map(((e,t)=>({searchTerm:e.replace("YT_SEARCH.",""),views:r.VIEWS[t],watchTime:Math.round(r.WATCH_TIME[t]/1e3/60),link:i})))}catch(e){return(0,ke.Z)("(vidiq) Error in parseChannelAuditSearchTerms:",e),Me.Z.warning("Channel Audit: parseChannelAuditSearchTerms error",{error:e.toString()}),[]}}function Sm(e,t,n){try{const i=`5__TABLE_QUERY_TRAFFIC_SOURCE_${t}`,r="PLAYLISTS"===t?"PLAYLIST":"VIDEO",a=e[i],o=`${r.toLowerCase()}s`,s=e[`${i}_TRAFFIC_SOURCE_DETAIL_ANALYTICS_REFERRER_${r}`][`getCreator${we.Z.capitalize(o)}`][o]||[];let l=[],c=0,u=0;for(;u<=s.length-1;){const e=a.TRAFFIC_SOURCE_DETAIL[c].split(".")[1],t=s[u],n=t[`${r.toLowerCase()}Id`];c+=1,n===e&&(l.push({[`${r.toLowerCase()}Id`]:e,views:a.VIEWS[u],watchTime:Math.round(a.WATCH_TIME[u]/1e3/60),title:t.title,channelId:t.channelId,date_published_at:1e3*parseInt(t.timePublishedSeconds||0,10)}),u+=1)}return"SUGGESTED_VIDEOS"===t&&(l=l.filter((e=>e.channelId!==n))),l}catch(e){return(0,ke.Z)("(vidiq) Error in parseChannelAuditTrafficSource:",t,e),Me.Z.warning("Channel Audit: parseChannelAuditTrafficSource error",{type:t,error:e.toString()}),[]}}const Tm={VIEWS:"views",WATCH_TIME:"watchTime",AVERAGE_WATCH_TIME:"avgViewDuration",AVERAGE_WATCH_PERCENTAGE:"retention",LIKES_PER_LIKES_PLUS_DISLIKES_PERCENT:"likeRatio",SUBSCRIBERS_NET_CHANGE:"subscribers"};function Dm(e,t,n,i){try{const r=n[`${t}__TOP_ENTITIES_TABLE_QUERY_KEY`],a=wt()(i.start,"YYYYMMDD").valueOf(),o=wt()(i.end,"YYYYMMDD").valueOf(),s=r[e].reduce(((i,s,l)=>{const c=n[`${t}__TOP_ENTITIES_TABLE_QUERY_KEY_VIDEO`].getCreatorVideos.videos[l];if(!("VIDEO_PRIVACY_PUBLIC"===c.privacy))return i;const u=1e3*parseInt(c.timePublishedSeconds,10);c.date_published_at=u;return"VIEWS"!==e||u>=a&&u<o?(c[Tm[e]]=s,"WATCH_TIME"===e&&(c[Tm[e]]=Math.round(s/1e3/60)),"AVERAGE_WATCH_TIME"===e&&(c[Tm[e]]=we.Z.sec2time(Math.round(s/1e3))),"VIEWS"!==e&&(c.views=r.VIEWS[l]),["AVERAGE_WATCH_TIME","AVERAGE_WATCH_PERCENTAGE"].indexOf(e)>=0&&c.views<100?i:("SUBSCRIBERS_NET_CHANGE"===e&&(c.avgPerViews=c.views>=1e3?s/(c.views/1e3):null),"LIKES_PER_LIKES_PLUS_DISLIKES_PERCENT"===e&&(c.likes=r.RATINGS_LIKES[l],c.dislikes=r.RATINGS_DISLIKES[l],c.likesPlusDislikes=c.likes+c.dislikes,c.views<100||c.likesPlusDislikes<10||c.likeRatio>=.95)?i:i.concat(c))):i}),[]);return s}catch(t){return(0,ke.Z)("(vidiq) Error in parseChannelAuditVideoData:",e,t),Me.Z.warning("Channel Audit: parseChannelAuditVideoData error",{key:e,error:t.toString()}),[]}}function Fm(e){const t=e["0__TOP_VIDEOS"];return t&&t.VIDEO?t.VIDEO.reduce(((n,i,r)=>{try{const a=e["0__TOP_VIDEO_META"].getCreatorVideos.videos[r];return n.concat({videoId:i,views_per_hour:t.VIEWS[r],title:a.title,date_published_at:1e3*parseInt(a.timePublishedSeconds,10)})}catch(e){return(0,ke.Z)("(vidiq) Error in parseChannelAuditVph:",e),Me.Z.warning("Channel Audit: parseChannelAuditVph error",{error:e.toString()}),n}}),[]):[]}function Mm(e,t,n){try{return Object.assign({growth:Em(e,n,t),cards:_m(e,"INFO_CARD"),endscreens:_m(e,"ENDSCREEN_ELEMENT"),topSearchTerms:Cm(e,t,n),topPlaylists:Sm(e,"PLAYLISTS"),topSuggested:Sm(e,"SUGGESTED_VIDEOS",n),topVph:Fm(e),channelId:n,startDate:t.start,endDate:t.end},function(e,t){const n={};return Object.keys(Tm).forEach(((i,r)=>{const a=r+1,o=Dm(i,a,e,t);let s,l,c=we.Z.capitalize(Tm[i]);"AvgViewDuration"===c&&(c="AvgViewTime"),"LIKES_PER_LIKES_PLUS_DISLIKES_PERCENT"===i?l=o.reverse():"SUBSCRIBERS_NET_CHANGE"===i?(s=o.filter((e=>e.subscribers>=1)),s=fc(s,"avgPerViews",!0),l=Dm(i,a+1,e,t).filter((e=>e.subscribers<0)),l=fc(l,"avgPerViews")):(s=o.slice(0,Math.ceil(o.length/2)),l=o.slice(Math.ceil(o.length/2)).reverse()),n[`top${c}`]=s,n[`lowest${c}`]=l})),n}(e,t))}catch(e){return(0,ke.Z)("(vidiq) Error in parseChannelAuditData:",e),Me.Z.warning("Channel Audit: parseChannelAuditData error",{error:e.toString()}),null}}const Am={nodes:[],connectors:[],allowFailureResultNodes:!0,context:{},trackingLabel:"web_explore_latest_activity"},Im={key:"",value:{query:{dimensions:[{type:""}],metrics:[{type:"VIEWS"}],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]}],orders:[{dimension:{type:""},direction:"ANALYTICS_ORDER_DIRECTION_ASC"}],timeRange:{unixTimeRange:{inclusiveStart:"",exclusiveEnd:""}},returnDataInNewFormat:!1,limitedToBatchedData:!1}}},Om={key:"0__TOP_VIDEOS",value:{query:{dimensions:[{type:"VIDEO"}],metrics:[{type:"VIEWS"}],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]}],orders:[{metric:{type:"VIEWS"},direction:"ANALYTICS_ORDER_DIRECTION_DESC"}],timeRange:{unixTimeRange:{inclusiveStart:"",exclusiveEnd:""}},limit:{pageSize:50,pageOffset:0},returnDataInNewFormat:!1,limitedToBatchedData:!1}}},Nm={key:"0__TOTALS_TIMELINE_QUERY_KEY",value:{query:{dimensions:[{type:"DAY"}],metrics:[{type:"WATCH_TIME"},{type:"VIEWS"},{type:"SUBSCRIBERS_NET_CHANGE"},{type:"AVERAGE_WATCH_TIME"}],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]}],orders:[{dimension:{type:"DAY"},direction:"ANALYTICS_ORDER_DIRECTION_ASC"}],timeRange:{dateIdRange:{inclusiveStart:"",exclusiveEnd:""}},returnDataInNewFormat:!1,limitedToBatchedData:!1}}},Pm={key:"0__TOTALS_SUMS_QUERY_KEY",value:{query:{dimensions:[],metrics:[{type:"WATCH_TIME"},{type:"VIEWS"},{type:"AVERAGE_WATCH_TIME"},{type:"SUBSCRIBERS_NET_CHANGE"}],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]}],orders:[],timeRange:{dateIdRange:{inclusiveStart:"",exclusiveEnd:""}},currency:"USD",returnDataInNewFormat:!1,limitedToBatchedData:!1}}},Rm={key:"2__TOP_ENTITIES_TABLE_QUERY_KEY",value:{query:{dimensions:[{type:"VIDEO"}],metrics:[{type:""}],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]},{dimension:{type:"STREAM_TYPE"},inValues:["VOD"]}],orders:[{metric:{type:""},direction:"ANALYTICS_ORDER_DIRECTION_DESC"}],timeRange:{dateIdRange:{inclusiveStart:"",exclusiveEnd:""}},limit:{pageSize:500,pageOffset:0},currency:"USD",returnDataInNewFormat:!1,limitedToBatchedData:!1}}},jm={key:"2__TOP_ENTITIES_TABLE_QUERY_KEY_VIDEO",value:{getCreatorVideos:{mask:{channelId:!0,lengthSeconds:!0,metrics:{all:!0},permissions:{all:!0},privacy:!0,status:!0,thumbnailDetails:{all:!0},timePublishedSeconds:!0,title:!0,videoId:!0}}}},Lm={key:"2__TOP_ENTITIES_TABLE_QUERY_KEY_VIDEO_ANALYTICS_REFERRER_CHANNEL",value:{getCreatorChannels:{mask:{channelId:!0,metric:{all:!0},permissions:{all:!0},thumbnailDetails:{all:!0},title:!0}}}},qm={key:"5__TABLE_QUERY_TRAFFIC_SOURCE_SUGGESTED_VIDEOS",value:{query:{dimensions:[{type:"TRAFFIC_SOURCE_DETAIL"}],metrics:[{type:"VIEWS"},{type:"WATCH_TIME"}],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]},{dimension:{type:"TRAFFIC_SOURCE_TYPE"},inValues:["YT_RELATED"]}],orders:[{metric:{type:"VIEWS"},direction:"ANALYTICS_ORDER_DIRECTION_DESC"}],timeRange:{dateIdRange:{inclusiveStart:"",exclusiveEnd:""}},limit:{pageSize:50,pageOffset:0},currency:"USD",returnDataInNewFormat:!1,limitedToBatchedData:!1}}},Zm={key:"5__TABLE_QUERY_TRAFFIC_SOURCE_SUGGESTED_VIDEOS_TRAFFIC_SOURCE_DETAIL",value:{getTrafficSources:{trafficSourceIds:[]}}},Bm={key:"5__TABLE_QUERY_TRAFFIC_SOURCE_SUGGESTED_VIDEOS_TRAFFIC_SOURCE_DETAIL_ANALYTICS_REFERRER_VIDEO",value:{}},Vm={key:"1__TOP_ENTITIES_TABLE_QUERY_KEY",value:{query:{dimensions:[{type:"TRAFFIC_SOURCE_TYPE"}],metrics:[{type:"VIEWS",includeTotal:!0}],restricts:{dimension:{type:"USER"},inValues:["CHANNEL_ID"]},orders:[{metric:{type:"VIEWS"},direction:"ANALYTICS_ORDER_DIRECTION_DESC"}],timeRange:{dateIdRange:{inclusiveStart:"",exclusiveEnd:""}},limit:{pageSize:50,pageOffset:0},currency:"USD",returnDataInNewFormat:!0,limitedToBatchedData:!1}}},zm={key:"1__TOP_ENTITIES_CHARTS_QUERY_KEY",value:{query:{dimensions:[{type:"HOUR"},{type:"TRAFFIC_SOURCE_TYPE"}],metrics:[{type:"VIEWS"}],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]}],orders:[{dimension:{type:"TRAFFIC_SOURCE_TYPE"},direction:"ANALYTICS_ORDER_DIRECTION_ASC"},{dimension:{type:"HOUR"},direction:"ANALYTICS_ORDER_DIRECTION_ASC"}],timeRange:{dateIdRange:{inclusiveStart:"",exclusiveEnd:""}},currency:"USD",returnDataInNewFormat:!0,limitedToBatchedData:!1}}},Um={extractorParams:{resultKey:"",resultTableExtractorParams:{dimension:{type:""}}},fillerParams:{targetKey:"",idFillerParams:{}}},Wm={extractorParams:{resultKey:"",referrerExtractorParams:{type:""}},fillerParams:{targetKey:"",idFillerParams:{}}},Hm={key:"1__KEY_METRIC_DAILY_QUERY",value:{query:{dimensions:[{type:"DAY"}],metrics:[{type:"VIEWS"},{type:"WATCH_TIME"},{type:"SUBSCRIBERS_NET_CHANGE"},{type:"RATINGS_LIKES"},{type:"COMMENTS"}],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]}],orders:[{dimension:{type:"DAY"},direction:"ANALYTICS_ORDER_DIRECTION_ASC"}],timeRange:{dateIdRange:{inclusiveStart:"",exclusiveEnd:""}},currency:"USD",returnDataInNewFormat:!1,limitedToBatchedData:!1}}},Ym={key:"1__KEY_METRIC_OVERLAY",value:{listCreatorVideos:{filter:{and:{operands:[{channelIdIs:{value:"CHANNEL_ID"}},{displayTimeSecondsComparison:{comparison:"CREATOR_COMPARISON_GREATER_OR_EQUAL",value:""}},{displayTimeSecondsComparison:{comparison:"CREATOR_COMPARISON_LESS_OR_EQUAL",value:""}},{or:{operands:[{and:{operands:[{videoOriginIs:{value:"VIDEO_ORIGIN_UPLOAD"}},{or:{operands:[{not:{operand:{isPremiere:{}}}},{livestreamStageIs:{value:"VIDEO_LIVESTREAM_STAGE_PAST"}}]}}]}},{and:{operands:[{videoOriginIs:{value:"VIDEO_ORIGIN_LIVESTREAM"}},{livestreamStageIs:{value:"VIDEO_LIVESTREAM_STAGE_PAST"}}]}}]}}]}},order:"VIDEO_ORDER_DISPLAY_TIME_ASC",pageSize:100,mask:{videoId:!0,timePublishedSeconds:!0,timeCreatedSeconds:!0,title:!0,thumbnailDetails:{all:!0}}}}},$m={context:{},dashboardParams:{cardProducerTimeout:"CARD_PRODUCER_TIMEOUT_SHORT",channelId:"CHANNEL_ID",videoSnapshotAnalyticsParams:{nodes:[{key:"VIDEO_SNAPSHOT_DATA_QUERY",value:{getVideoSnapshotData:{externalChannelId:"CHANNEL_ID",catalystType:"CATALYST_ANALYSIS_TYPE_RECENT_VIDEO_PERFORMANCE",showCtr:!0}}}],connectors:[]},factsAnalyticsParams:{connectors:[],nodes:[]}}},Km={key:"DASHBOARD_FACT_ANALYTICS_LIFETIME_SUBSCRIBERS",value:{query:{dimensions:[],limitedToBatchedData:!1,metrics:[{type:"SUBSCRIBERS_NET_CHANGE"}],orders:[],restricts:[{dimension:{type:"USER"},inValues:["CHANNEL_ID"]}],returnDataInNewFormat:!1,timeRange:{unboundedRange:{}}}}},Gm={channelIds:["CHANNEL_ID"],context:{},mask:{channelId:!0,contentOwnerAssociation:{all:!0},features:{all:!0},metric:{all:!0},monetizationDetails:{all:!0},monetizationStatus:!0,permissions:{all:!0},settings:{coreSettings:{featureCountry:!0}}}},Xm={get(e,t,n,i){const r=t.DELEGATED_SESSION_ID;let a;return"toolbarStats"===e&&(a=this.getToolbarStatsPayload(n,r)),"channelAudit"===e&&(a=this.getChannelAuditPayload(n,r)),"achievements"===e&&(a=this.getAchievementsPayload(n)),"videos"===e&&(a=this.getVideosPayload(n,i)),"totalSubs"===e&&(a=this.getTotalSubsPayload(r)),"video"===e&&(a=this.getVideoStatsPayload(n,r)),"creatorChannels"===e&&(a=this.getCreatorChannelsPayload(r)),a=JSON.stringify(a),Object.keys(t).forEach((e=>{a=a.replace(new RegExp(e,"g"),t[e])})),a},getToolbarStatsPayload(e,t){const n=Vs(Am);return n.nodes.push(this.getRealtimeNode("HOUR",e.twoDays)),n.nodes.push(this.getRealtimeNode("MINUTE",e.oneHour)),n.nodes.push(this.getTotalsNode(e.oneWeek)),n.nodes.push(this.getTotalsSumsNode(e.oneWeek)),n.nodes.push(this.getTotalsSumsNode(e.prevWeek,"1")),n.nodes.push(this.getTotalsNode(e.oneYear,"1",!0)),n.nodes.push(this.getTrafficSourceTotalsNode()),n.nodes.push(this.getTrafficSourceChartNode()),n.context.client=Vs(As),n.context.request=Vs(Is),t&&(n.context.user=Vs(Os)),n},getTrafficSourceTotalsNode(){const e=Vs(Vm);return e.value.query.timeRange.dateIdRange.inclusiveStart=wt()().subtract(48,"hours").format("YYYYMMDD"),e.value.query.timeRange.dateIdRange.exclusiveEnd=wt()().format("YYYYMMDD"),e},getTrafficSourceChartNode(){const e=Vs(zm);return e.value.query.timeRange.dateIdRange.inclusiveStart=wt()().subtract(48,"hours").format("YYYYMMDD"),e.value.query.timeRange.dateIdRange.exclusiveEnd=wt()().format("YYYYMMDD"),e},getTableKeyNum(){return this.tableKeyNum||(this.tableKeyNum=0),this.tableKeyNum+=1,this.tableKeyNum},getChannelAuditPayload(e,t){this.tableKeyNum=0;const n=Vs(Am);n.nodes.push(this.getTotalsSumsNode(e)),n.nodes.push(this.getTotalsSumsNode({start:e.prevStart,end:e.prevEnd},"1"));["VIEWS","WATCH_TIME","AVERAGE_WATCH_TIME","AVERAGE_WATCH_PERCENTAGE","LIKES_PER_LIKES_PLUS_DISLIKES_PERCENT","SUBSCRIBERS_NET_CHANGE"].forEach((t=>{const i=this.getTableKeyNum();n.nodes=n.nodes.concat(this.getTopVideosNodes(e,t,i)),n.connectors=n.connectors.concat(this.getTopVideosConnector(i))}));const i=this.getTableKeyNum();return n.nodes=n.nodes.concat(this.getTopVideosNodes(e,"SUBSCRIBERS_NET_CHANGE",i,!0)),n.connectors=n.connectors.concat(this.getTopVideosConnector(i)),n.nodes=n.nodes.concat(this.getMinutelyVideosNodes()),n.connectors.push(this.getMinutelyVideosConnector()),n.nodes.push(this.getSearchTermsNode(e)),n.nodes.push(this.getClickRatesNode(e,"INFO_CARD")),n.nodes.push(this.getClickRatesNode(e,"ENDSCREEN_ELEMENT")),n.nodes=n.nodes.concat(this.getTrafficSourceNodes(e,"SUGGESTED_VIDEOS")),n.connectors=n.connectors.concat(this.getTrafficSourceConnectors("SUGGESTED_VIDEOS")),n.nodes=n.nodes.concat(this.getTrafficSourceNodes(e,"PLAYLISTS")),n.connectors=n.connectors.concat(this.getTrafficSourceConnectors("PLAYLISTS")),n.context.client=Vs(As),n.context.request=Vs(Is),t&&(n.context.user=Vs(Os)),n},getAchievementsPayload(e){const t=Vs(Am);return t.nodes.push(this.getKeyMetricsNode(e)),t.nodes.push(this.getKeyMetricsTotalNode(e)),t.nodes=t.nodes.concat(this.getTopViewedVideosNodes(e)),t.connectors.push(this.getTopViewedVideosConnectors()),t.context.client=Vs(As),t.context.request=Vs(Is),t.context.user=Vs(Os),t},getVideosPayload(e,t){const n=Vs(Am);return n.nodes.push(this.getKeyMetricsOverlayNode(e,t)),n.context.client=Vs(As),n.context.request=Vs(Is),n.context.user=Vs(Os),n},getKeyMetricsNode(e){const t=Vs(Hm);return t.value.query.timeRange.dateIdRange.inclusiveStart=e.start,t.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,t},getKeyMetricsTotalNode(e){const t=Vs(Hm);return t.key="1__KEY_METRIC_TOTAL_QUERY",t.value.query.dimensions=[],t.value.query.orders=[],t.value.query.timeRange.dateIdRange.inclusiveStart=e.start,t.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,t},getKeyMetricsOverlayNode(e,t){const n=Vs(Ym),i=wt().utc(e.start,"YYYYMMDD").valueOf()/1e3,r=wt().utc(e.end,"YYYYMMDD").valueOf()/1e3;return n.value.listCreatorVideos.filter.and.operands[1].displayTimeSecondsComparison.value=i.toString(),n.value.listCreatorVideos.filter.and.operands[2].displayTimeSecondsComparison.value=r.toString(),t&&(n.value.listCreatorVideos.pageToken=t),n},getTopViewedVideosNodes(e){const t=Vs(Rm);t.key="1__TABLE_QUERY_TOP_VIDEOS_BY_VIEWS",t.value.query.metrics[0].type="VIEWS",t.value.query.orders[0].metric.type="VIEWS",t.value.query.timeRange.dateIdRange.inclusiveStart=e.start,t.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,t.value.query.limit.pageSize=6;const n=Vs(jm);return n.key="1__TABLE_QUERY_TOP_VIDEOS_BY_VIEWS_VIDEO",[t,n]},getTopViewedVideosConnectors(){const e=Vs(Um);return e.extractorParams.resultKey="1__TABLE_QUERY_TOP_VIDEOS_BY_VIEWS",e.extractorParams.resultTableExtractorParams.dimension.type="VIDEO",e.fillerParams.targetKey="1__TABLE_QUERY_TOP_VIDEOS_BY_VIEWS_VIDEO",e},getTotalSubsPayload(e){const t=Vs($m),n=Vs(Km);return t.dashboardParams.factsAnalyticsParams.nodes.push(n),t.context.client=Vs(As),t.context.request=Vs(Is),e&&(t.context.user=Vs(Os)),t},getVideoStatsPayload(e,t){const n=Vs(Am),i=Vs(Nm);return i.value.query.metrics=[{type:"VIEWS"}],i.value.query.restricts.push({dimension:{type:"VIDEO"},inValues:["VIDEO_ID"]}),i.value.query.timeRange.dateIdRange.inclusiveStart=e.start,i.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,n.nodes.push(i),n.context.client=Vs(As),n.context.request=Vs(Is),t&&(n.context.user=Vs(Os)),n},getCreatorChannelsPayload(e){const t=Vs(Gm);return t.context.client=Vs(As),t.context.request=Vs(Is),e&&(t.context.user=Vs(Os)),t},getRealtimeNode(e,t){const n=Vs(Im);return n.key=`0__CHANNEL_${e}LY_VIEWS`,n.value.query.dimensions[0].type=e,n.value.query.orders[0].dimension.type=e,n.value.query.timeRange.unixTimeRange.inclusiveStart=t.start,n.value.query.timeRange.unixTimeRange.exclusiveEnd=t.end,n},getTotalsNode(e,t,n){const i=Vs(Nm);return t&&(i.key=`${t}__TOTALS_TIMELINE_QUERY_KEY`),n&&(i.value.query.metrics=[{type:"WATCH_TIME"}],i.value.query.dimensions[0].type="MONTH",i.value.query.orders[0].dimension.type="MONTH"),i.value.query.timeRange.dateIdRange.inclusiveStart=e.start,i.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,i},getTotalsSumsNode(e,t){const n=Vs(Pm);return t&&(n.key=`${t}__TOTALS_SUMS_QUERY_KEY`),n.value.query.timeRange.dateIdRange.inclusiveStart=e.start,n.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,n},getMinutelyVideosNodes(){const e=Vs(Om),t=wt()().startOf("minute").unix(),n=wt()(1e3*t).subtract(60,"minutes").unix();e.value.query.timeRange.unixTimeRange.inclusiveStart=n,e.value.query.timeRange.unixTimeRange.exclusiveEnd=t;const i=Vs(jm);return i.key="0__TOP_VIDEO_META",[e,i]},getTopVideosNodes(e,t,n,i){const r=Vs(Rm);r.key=`${n}__TOP_ENTITIES_TABLE_QUERY_KEY`,"SUBSCRIBERS_NET_CHANGE"===t&&r.value.query.restricts.pop(),r.value.query.metrics[0].type=t,"VIEWS"!==t&&r.value.query.metrics.push({type:"VIEWS"}),"LIKES_PER_LIKES_PLUS_DISLIKES_PERCENT"===t&&r.value.query.metrics.push({type:"RATINGS_LIKES"},{type:"RATINGS_DISLIKES"}),r.value.query.orders[0].metric.type=t;const a="ANALYTICS_ORDER_DIRECTION_"+(i?"ASC":"DESC");r.value.query.orders[0].direction=a,r.value.query.timeRange.dateIdRange.inclusiveStart=e.start,r.value.query.timeRange.dateIdRange.exclusiveEnd=e.end;const o=Vs(jm);o.key=`${n}__TOP_ENTITIES_TABLE_QUERY_KEY_VIDEO`;const s=Vs(Lm);return s.key=`${n}__TOP_ENTITIES_TABLE_QUERY_KEY_VIDEO_ANALYTICS_REFERRER_CHANNEL`,[r,o,s]},getSearchTermsNode(e){const t=Vs(qm);return t.key="5__TABLE_QUERY_TRAFFIC_SOURCE_YT_SEARCH",t.value.query.metrics.push({type:"WATCH_TIME"}),t.value.query.restricts[1].inValues="YT_SEARCH",t.value.query.timeRange.dateIdRange.inclusiveStart=e.start,t.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,t},getClickRatesNode(e,t){const n=Vs(Rm),i=this.getTableKeyNum();return n.key=`${i}__TOP_ENTITIES_TABLE_QUERY_KEY`,n.value.query.dimensions[0].type=`${t}_TYPE`,n.value.query.metrics[0].type=`${t}_CLICK_RATE`,n.value.query.orders[0].metric.type=`${t}_CLICK_RATE`,n.value.query.timeRange.dateIdRange.inclusiveStart=e.start,n.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,n},getTrafficSourceNodes(e,t){const n=`5__TABLE_QUERY_TRAFFIC_SOURCE_${t}`,i=Vs(qm);i.key=n,i.value.query.timeRange.dateIdRange.inclusiveStart=e.start,i.value.query.timeRange.dateIdRange.exclusiveEnd=e.end,i.value.query.restricts[1].inValues="PLAYLISTS"===t?"PLAYLIST":"YT_RELATED";const r=Vs(Zm);r.key=`${n}_TRAFFIC_SOURCE_DETAIL`;const a=Vs(Bm),o="ANALYTICS_REFERRER_"+("PLAYLISTS"===t?"PLAYLIST":"VIDEO");a.key=`${n}_TRAFFIC_SOURCE_DETAIL_${o}`;const s=[i,r,a];return"PLAYLISTS"===t?(i.value.query.orders[0].metric.type="WATCH_TIME",a.value.getCreatorPlaylists={mask:{title:!0,playlistId:!0,channelId:!0,thumbnailDetails:{all:!0}}}):a.value.getCreatorVideos={mask:{title:!0,videoId:!0,permissions:{all:!0},channelId:!0,timePublishedSeconds:!0,metrics:{all:!0},thumbnailDetails:{all:!0}}},s},getMinutelyVideosConnector(){const e=Vs(Um);return e.extractorParams.resultKey="0__TOP_VIDEOS",e.extractorParams.resultTableExtractorParams.dimension.type="VIDEO",e.fillerParams.targetKey="0__TOP_VIDEO_META",e},getTrafficSourceConnectors(e){const t=Vs(Um);t.extractorParams.resultKey=`5__TABLE_QUERY_TRAFFIC_SOURCE_${e}`,t.extractorParams.resultTableExtractorParams.dimension.type="TRAFFIC_SOURCE_DETAIL",t.fillerParams.targetKey=`5__TABLE_QUERY_TRAFFIC_SOURCE_${e}_TRAFFIC_SOURCE_DETAIL`;const n=Vs(Wm);n.extractorParams.resultKey=`5__TABLE_QUERY_TRAFFIC_SOURCE_${e}_TRAFFIC_SOURCE_DETAIL`;const i="ANALYTICS_REFERRER_"+("PLAYLISTS"===e?"PLAYLIST":"VIDEO");n.fillerParams.targetKey=`5__TABLE_QUERY_TRAFFIC_SOURCE_${e}_TRAFFIC_SOURCE_DETAIL_${i}`,n.extractorParams.referrerExtractorParams.type=i;return[t,n]},getTopVideosConnector(e){const t=Vs(Um);t.extractorParams.resultKey=`${e}__TOP_ENTITIES_TABLE_QUERY_KEY`,t.extractorParams.resultTableExtractorParams.dimension.type="VIDEO",t.fillerParams.targetKey=`${e}__TOP_ENTITIES_TABLE_QUERY_KEY_VIDEO`;const n=Vs(Wm);return n.extractorParams.resultKey=`${e}__TOP_ENTITIES_TABLE_QUERY_KEY_VIDEO`,n.extractorParams.referrerExtractorParams.type="ANALYTICS_REFERRER_CHANNEL",n.fillerParams.targetKey=`${e}__TOP_ENTITIES_TABLE_QUERY_KEY_VIDEO_ANALYTICS_REFERRER_CHANNEL`,[t,n]}},Qm=Xm,Jm={getToolbarStatsTimes(){const e=wt()().endOf("hour").add(1,"seconds").unix(),t=wt()(1e3*e).subtract(48,"hours").unix(),n=wt()().startOf("minute").unix(),i=wt()(1e3*n).subtract(60,"minutes").unix(),r=wt()().format("YYYYMMDD"),a=wt()().subtract(7,"days").format("YYYYMMDD"),o=wt()().subtract(365,"days").format("YYYYMMDD"),s=a,l=wt()(s).subtract(7,"days").format("YYYYMMDD");return{twoDays:{start:t,end:e},oneHour:{start:i,end:n},oneWeek:{start:parseInt(a,10),end:parseInt(r,10)},prevWeek:{start:parseInt(l,10),end:parseInt(s,10)},oneYear:{start:parseInt(o,10),end:parseInt(r,10)}}},async fetchToolbarStatsData(){let e,t;try{const n=this.getToolbarStatsTimes();return e=await this.getRequestArguments("toolbarStats",n),t=await Ks.makeRequest("toolbarStats",e),t=this.parseResults(t),t.times=n,t}catch(n){return(0,ke.Z)("(vidiq) Error in fetchToolbarStatsData:",n),Me.Z.warning("Studio Analytics: Unable to fetch toolbar stats data",{error:n.toString(),args:JSON.stringify(e),json:JSON.stringify(t)}),null}},async fetchPublicWatchHours(){const e=await Jm.fetchCreatorChannels(),t=ro()(e,"channels[0].monetizationDetails.eligibilityMetrics.pastYearPublicWatchHours",null);return parseInt(t,10)},async fetchCreatorChannels(){try{const e=await this.getRequestArguments("creatorChannels");return await Ks.makeRequest("creatorChannels",e)}catch(e){return null}},async fetchChannelAuditData(e,t){try{const n=wt()().subtract(e,"days").format("YYYYMMDD"),i={start:n,end:wt()().format("YYYYMMDD"),prevStart:wt()(n).subtract(e,"days").format("YYYYMMDD"),prevEnd:n},r=await this.getRequestArguments("channelAudit",i);let a=await Ks.makeRequestRetry("channelAudit",r,3);return a=this.parseResults(a),a=Mm(a,i,t),a}catch(e){return(0,ke.Z)("(vidiq) Error in fetchChannelAuditData:",e),Me.Z.warning("Studio Analytics: Unable to fetch Channel Audit data",{error:e.toString()}),null}},async fetchAchievementsData(e){try{const t=await this.getRequestArguments("achievements",e);let n=await Ks.makeRequestRetry("achievements",t,3);return n=this.parseResults(n),n}catch(e){return(0,ke.Z)("(vidiq) Error in fetchAchievementsData:",e),Me.Z.warning("Studio Analytics: Unable to fetch Achievements data",{error:e.toString()}),null}},async fetchVideos(e,t){try{const n=await this.getRequestArguments("videos",e,t);let i=await Ks.makeRequestRetry("videos",n,3);return i=this.parseResults(i),i}catch(e){return(0,ke.Z)("(vidiq) Error in fetchVideos:",e),Me.Z.warning("Studio Analytics: Unable to fetch videos",{error:e.toString()}),null}},async fetchAllVideos(e,t,n){t||(t=[]);try{let i=await this.fetchVideos(e,n);i=i["1__KEY_METRIC_OVERLAY"].listCreatorVideos;const r=i.videos;t.push(...r);const a=i.nextPageToken;return a?this.fetchAllVideos(e,t,a):t}catch(e){return(0,ke.Z)("fetchAllVideos error:",e),Me.Z.warning("Studio Analytics: Unable to fetch all videos",{error:e.toString()}),null}},async fetchTotalSubscribers(){try{const e=await this.getRequestArguments("totalSubs"),t=(await Ks.makeRequestRetry("totalSubs",e,3)).cards.find((e=>"facts"===e.id));return t.body.basicCard.item.channelFactsItem.channelFactsData.results[0].value.resultTable.resultColumns[0].values[0].double}catch(e){return(0,ke.Z)("(vidiq) Error in fetchTotalSubscribers:",e),Me.Z.warning("Studio Analytics: Unable to fetch total subscriber count",{error:e.toString()}),null}},async fetchVideoStats(e,t){try{const n=await this.getRequestArguments("video",e,null,t);let i=await Ks.makeRequestRetry("video",n);return i=this.parseResults(i),i}catch(e){return(0,ke.Z)("(vidiq) Error in fetchVideoStats:",e),Me.Z.warning("Studio Analytics: Unable to fetch video stats",{error:e.toString(),video_id:t}),null}},parseResults(e){const t={};return e.results.forEach((e=>{const n={};e.value.resultTable&&e.value.resultTable.resultColumns?(e.value.resultTable.resultColumns.forEach((e=>{n[e.column.type]=(e.values||[]).map((e=>e.double||e.string||0))})),t[e.key]=n):t[e.key]=e.value})),t},async getRequestArguments(e,t,n,i){const r=await Ks.getDataForRequest();i&&(r.payloadKeys.VIDEO_ID=i);const a=window.location.origin,o=r.apiKey;let s=`${a}/youtubei/v1/analytics_data/join?alt=json&key=${o}`;"totalSubs"===e&&(s=`${a}/youtubei/v1/creator/get_channel_dashboard?alt=json&key=${o}`),"creatorChannels"===e&&(s=`${a}/youtubei/v1/creator/get_creator_channels?alt=json&key=${o}`);const l=Qm.get(e,r.payloadKeys,t,n);return[s,r.authHeader,r.authUser,l]}},eg=Jm;const tg="INCLUDE",ng="DISCARD",ig={async getRequestArguments({pageToken:e,origin:t,onlyPublic:n}){const i=await Ks.getDataForRequest(),r=`${window.location.origin}/youtubei/v1/creator/list_creator_videos?alt=json&key=${i.apiKey}`,a=Us.get({params:i.payloadKeys,pageToken:e,origin:t,onlyPublic:n});return[r,i.authHeader,i.authUser,a]},async request({pageToken:e,origin:t,onlyPublic:n,attempts:i=1}){try{const i=await this.getRequestArguments({pageToken:e,origin:t,onlyPublic:n});return await Ks.makeRequest("studioVideos",i)}catch(a){if((0,ke.Z)("(vidiq) StudioVideos request error:",a),Me.Z.warning("Studio Videos: unable to fetch videos",{error:a.toString()}),"Timed Out"===a&&i<3)return await(r=1e3*i,new Promise((e=>{setTimeout(e,r)}))),ig.request({pageToken:e,origin:t,onlyPublic:n,attempts:i+1});throw a}var r},async fetchToDate({minDate:e,origin:t,onlyPublic:n,useTimeCreated:i,includeDrafts:r}){return this.all({origin:t,onlyPublic:n,includeDrafts:r,stop:({video:t})=>(i?t.timeCreatedSeconds:t.timestamp)<e&&"EXCLUDE"})},async all(e={}){const{pageCallback:t,stop:n,pageToken:i,limit:r,origin:a,onlyPublic:o,includeDrafts:s}=e,l=e.page||1,c=e.videos||[];let u,d;try{u=await this.request({pageToken:i,origin:a,onlyPublic:o})}catch(e){return{videos:c,totalPages:l,nextPageToken:null,error:e}}const h=(u.videos||[]).reduce(((e,t,i)=>{if(d)return e;if(!s&&"VIDEO_STATUS_PROCESSED"!==t.status)return e;let r,a,o,l,h;try{var p;if(r=t.tags&&t.tags.length&&t.tags.map((e=>e.value)),a=t.metrics&&t.metrics.viewCount&&parseInt(t.metrics.viewCount,10),t.timestamp){const e=new Date(0);e.setUTCSeconds(t.timestamp),o=e}l=!!(f=t.thumbnailDetails&&t.thumbnailDetails.thumbnails)&&f.some((e=>e.height>=720&&e.width>=1280)),h=null===(p=t.videoEditorProject)||void 0===p?void 0:p.videoDimensions}catch(e){}var f;const m={id:t.videoId,status:we.Z.capitalize((t.privacy||"").replace("VIDEO_PRIVACY_","").toLowerCase()),thumb:t.thumbnailDetails.thumbnails[0].url,timestamp:parseInt(t.timePublishedSeconds,10),...o&&{timestamp_date:o},timeCreatedSeconds:parseInt(t.timeCreatedSeconds,10),title:t.title,description:t.description,desc:t.description,...r&&{keywords:r},duration:we.Z.sec2time(parseInt(t.lengthSeconds,10)),...a&&{views:a},...l&&{highres_thumbnail:l},...h&&{videoDimensions:h}},g=c.length+(i+1);return n&&(d=n({video:m,numVideos:g,index:i,page:u}),!0===d&&(d=tg)),d&&d!==tg?e:[...e,m]}),[]);t&&d!==ng&&t({videos:h,page:l||1,nextPageToken:u.nextPageToken,totalVideos:parseInt(u.totalSize,10)});const p=c.concat(h);let f;if(u.nextPageToken&&!d&&1!==r)try{return await this.all({pageCallback:t,stop:n,origin:a,onlyPublic:o,pageToken:u.nextPageToken,videos:p,page:l+1,limit:"number"==typeof r?r-1:void 0})}catch(e){(0,ke.Z)("(vidiq) StudioVideos error:",e),f=e}return{error:f,videos:p,totalPages:l,nextPageToken:u.nextPageToken}},async get(e){const t=window.location.origin,n=await Ks.getDataForRequest(),i=Us.getCreatorVidsPayload({videoIds:e,params:n.payloadKeys}),r=[`${t}/youtubei/v1/creator/get_creator_videos?alt=json&key=${n.apiKey}`,n.authHeader,n.authUser,i];let a="getVideos";return 1===e.length&&(a+=`#${e[0]}`),Ks.makeRequest(a,r)},async update(e,t,n){const i=await Ks.getDataForRequest();if(n&&n())throw"CANCELLED";const r=Us.getUpdatePayload({videoId:e,changes:t,params:i.payloadKeys}),a=[`${window.location.origin}/youtubei/v1/video_manager/metadata_update?alt=json&key=${i.apiKey}`,i.authHeader,i.authUser,r];return Ks.makeRequest("updateVideo",a)}},rg=ig;const ag={statNames:["subs","views","uploads","likes","watchTime","comments"],fetchCurrentChannel:()=>new Promise((e=>{(0,ve.h)().getCurrentChannel().then((t=>{if(t)return e(t);gm.update({errorUnauthed:!0,loadingChannelStats:!1,loadingVideoStats:!1}),e(null)})).catch((()=>{gm.update({errorUnknown:!0,loadingChannelStats:!1,loadingVideoStats:!1}),e(null)}))})),async get(){const e=await this.fetchCurrentChannel();if(!e)return;const t=e.channel_id,n=await async function(e){try{const t=(await(0,P.Z)("youtube.dashboard",{channelId:e})).match(/[\\]?"timeCreatedSeconds[\\]?":[ ]?[\\]?"([0-9]+)[\\]?"/);if(t&&t[1])return 1e3*parseInt(t[1],10);throw new Error('"timeCreatedSeconds" not found')}catch(e){return(0,ke.Z)("(vidiq) Error in getChannelCreatedDate:",e),wt()("20050101","YYYYMMDD").valueOf()}}(t),i={start:parseInt(wt().utc(n).format("YYYYMMDD"),10),end:parseInt(wt().utc().format("YYYYMMDD"),10)},r=await eg.fetchAchievementsData(i),a=function(e,t){const n={};return Object.entries({COMMENTS:"comments",RATINGS_LIKES:"likes",SUBSCRIBERS_NET_CHANGE:"subs",VIEWS:"views",WATCH_TIME:"watchTime"}).forEach((([i,r])=>{n[r]=ym(i,e,t)})),n}(r,await eg.fetchTotalSubscribers());gm.update(Object.assign({channelId:t},a));const o=(await rg.all()||{}).videos||[];let s=[];r&&r["1__KEY_METRIC_DAILY_QUERY"]&&(s=r["1__KEY_METRIC_DAILY_QUERY"].DAY||[]);const l=bm(o,s);gm.update({uploads:l,loadingChannelStats:!1});const c=r["1__TABLE_QUERY_TOP_VIDEOS_BY_VIEWS_VIDEO"].getCreatorVideos.videos[0],u=c.videoId;let d=1e3*parseInt(c.timePublishedSeconds,10);d=wt()(d).format("YYYYMMDD");const h={start:parseInt(d,10),end:i.end},p=await eg.fetchVideoStats(h,u),f=ym("VIEWS",{"1__KEY_METRIC_DAILY_QUERY":{DAY:p["0__TOTALS_TIMELINE_QUERY_KEY"].DAY,VIEWS:p["0__TOTALS_TIMELINE_QUERY_KEY"].VIEWS}});f.videoId=u,gm.update({bestVideo:f,loadingVideoStats:!1})},getLiveSubCount:e=>new Promise((t=>{(0,P.Z)("vidiq.youtubeDataProxy",{type:"channels",params:{part:"statistics",fields:"items/statistics/subscriberCount",id:e}}).then((e=>{try{t(e.items[0].statistics.subscriberCount)}catch(e){t(null)}}))})),openAchievementCertificatePage(e,t){if(!e.data.value||!e.data.timestamp)return null;let n;if(t)n=t;else{const t=e.channelId;let i=e.name;"subs"===i&&(i="subscribers"),"watchTime"===i&&(i="hours-watched");let r={achievementNumber:Math.round(e.data.value),date:wt()(e.data.timestamp).format("YYYY-MM-DD")};"bestMonth"===e.type&&(r=Object.assign({bestMonth:!0},r));n=`https://www.vidiq.com/achievements/${t}.${i}.${window.btoa(JSON.stringify(r))}`}window.open(n);const i={subs:"subscribers",views:"views",uploads:"uploads",likes:"likes",watchTime:"hours watched",comments:"comments"}[e.name],r={achievement:"key achievements",bestMonth:"top performing months"}[e.type];ht("clicked on achievement item",{"item name":r,"item detail":i,via:lt()}),dt("Opened Achievement Certificate page")},async getShortUrl(e){if(!e.data.value||!e.data.timestamp)return null;const t=e.channelId;let n=e.name;"subs"===n&&(n="subscribers"),"watchTime"===n&&(n="hours-watched");const i=Math.round(e.data.value),r=wt()(e.data.timestamp).format("YYYY-MM-DD"),a="bestMonth"===e.type;try{const e=await(0,P.Z)("vidiq.checkAchievementId",{data:{channelId:t,type:n,number:i,date:r,bestMonth:a}});if(!e||!e.id)throw new Error(e?e.message:null);return`https://vidiq.com/achievements/${e.id}`}catch(t){return(0,ke.Z)("Error getting short URL: ",t,e),null}}},og=ag,sg=new ds.Z("AchievementsStore",{_data:{channelId:"",subs:{loading:!0},views:{loading:!0},uploads:{loading:!0},likes:{loading:!0},watchTime:{loading:!0},comments:{loading:!0},bestVideo:{loading:!0},loadingChannelStats:!0,errorChannelStats:!1,loadingVideoStats:!0,errorVideoStats:!1,loadingMessage:(0,ai.Z)("achievementsLoadingLifetime"),errorUnauthed:!1,errorUnknown:!1}});sg.dispatchToken=ko.Z.register((e=>{const t=sg,n=mm;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const lg=sg;const cg=function(e,t){return t||(t=e=>e),{getState(){return t.bind(this)(e.getData())},getInitialState(){return this.getState()},UNSAFE_componentWillMount(){e.addChangeListener(this.onStoreChange),this._componentWillMount&&this._componentWillMount()},componentWillUnmount(){e.removeChangeListener(this.onStoreChange),this._componentWillUnmount&&this._componentWillUnmount()},onStoreChange(){this.setState(this.getState())}}};const ug=function(e,t,n){return Oo()({mixins:[cg(t,n)],render(){const t=L().extend({},this.state,this.props);return h.createElement(e,t)}})};function dg(){return dg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dg.apply(this,arguments)}function hg(e){return h.createElement("svg",dg({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},e),h.createElement("path",{fill:"url(#AchievementCommentsIconA)",d:"M0 12C0 5.373 5.373 0 12 0h24c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H12C5.373 48 0 42.627 0 36V12z"}),h.createElement("path",{fill:"#fff",d:"M19 14h9v2h5v2h2v10h-2v2h-2v2h-2v1h-4v2h-8v-1h1v-4h-1v-1h-2v-2h-1v-9h2v-2h3v-2z"}),h.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M28 12h-9v2h-3v2h-2v2h-2v9h1v2h2v1h1v4h-1v3h10v-2h4v-1h3v-2h1v-1h2v-3h2V18h-2v-2h-2v-2h-5v-2zm0 2v2h5v2h2v10h-2v2h-2v2h-2v1h-4v2h-8v-1h1v-4h-1v-1h-2v-2h-1v-9h2v-2h3v-2h9z",clipRule:"evenodd"}),h.createElement("defs",null,h.createElement("linearGradient",{id:"AchievementCommentsIconA",x1:"0",x2:"56.959",y1:"0",y2:"32.104",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#D253FF"}),h.createElement("stop",{offset:"1",stopColor:"#FFAC60"}))))}function pg(){return pg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pg.apply(this,arguments)}function fg(e){return h.createElement("svg",pg({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},e),h.createElement("path",{fill:"url(#AchievementLikesIconA)",d:"M0 12C0 5.373 5.373 0 12 0h24c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H12C5.373 48 0 42.627 0 36V12z"}),h.createElement("g",{clipPath:"url(#AchievementLikesIconB)"},h.createElement("path",{fill:"#252626",fillRule:"evenodd",d:"M28.373 13h-2.12v1.06h-1.06v2.916h-1.06v1.06h-1.06v1.06h-1.061v1.856h-1.06v1.06h-2.12v1.06h-1.06v9.012h3.18v1.06h2.915v1.06h7.952v-.794h1.06v-1.06h1.06v-1.326H35v-8.747h-1.06v-1.06h-1.06v-1.06h-4.507v-2.12h1.06V14.06h-1.06V13zm0 8.217h4.506v1.06h1.06v8.747h-1.06v1.325h-1.06v.796h-7.952v-1.06h-2.915v-1.06h-2.12v-7.953h2.12v-1.06h1.06v-1.06h1.06v-1.856h1.06v-1.06h1.06v-1.06h1.061V14.06h2.12v3.976h-1.06v3.18h1.06z",clipRule:"evenodd"}),h.createElement("path",{fill:"url(#AchievementLikesIconC)",d:"M18 21h-5v13h5V21z"}),h.createElement("path",{fill:"#FECEB8",d:"M18.831 23.073v7.951h2.12v1.06h2.916v1.06h7.952v-.794h1.06v-1.326h1.06v-8.747h-1.06v-1.06h-5.566v-3.18h1.06V14.06h-2.12v2.916h-1.06v1.06h-1.06v1.06h-1.06v1.856h-1.061v1.06h-1.06v1.06h-2.12z"}),h.createElement("path",{fill:"#E6B9A6",fillRule:"evenodd",d:"M23.072 19.097h1.06v1.855h-1.06v-1.855zm-1.06 2.915v-1.06h1.06v1.06h-1.06zm0 0v1.06h-1.06v-1.06h1.06zm10.867-.795h-5.566v1.06h5.566v-1.06zM23.867 32.35h7.952v.795h-7.952v-.795zm0-1.06h-2.915v.795h2.915v-.796z",clipRule:"evenodd"})),h.createElement("defs",null,h.createElement("linearGradient",{id:"AchievementLikesIconA",x1:"0",x2:"56.959",y1:"0",y2:"32.104",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#FFE600"}),h.createElement("stop",{offset:"1",stopColor:"#FF5A5A"})),h.createElement("linearGradient",{id:"AchievementLikesIconC",x1:"13",x2:"18.509",y1:"24.956",y2:"25.942",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#0979FF"}),h.createElement("stop",{offset:"1",stopColor:"#5A06CB"})),h.createElement("clipPath",{id:"AchievementLikesIconB"},h.createElement("path",{fill:"#fff",d:"M0 0h22v21.205H0z",transform:"translate(13 13)"}))))}function mg(){return mg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mg.apply(this,arguments)}function gg(e){return h.createElement("svg",mg({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},e),h.createElement("path",{fill:"url(#AchievementSubsIconA)",d:"M0 12C0 5.373 5.373 0 12 0h24c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H12C5.373 48 0 42.627 0 36V12z"}),h.createElement("path",{fill:"#fff",d:"M7 24v-1.5h6V27h-3v-1H9v-1H8v-1H7zm15 0v-1.5h6V27h-3v-1h-1v-1h-1v-1h-1z"}),h.createElement("path",{fill:"#252626",d:"M10.072 24.381h-.846v-.845h.846v.845zm0 0v.845h.845v-.845h-.845zm15.214 0h-.845v-.845h.845v.845zm0 0v.845h.845v-.845h-.845z"}),h.createElement("path",{fill:"#252626",fillRule:"evenodd",d:"M5.845 22.69v1.691h.882v.845h.809v.846h.845v.845h.845v.845h6.762v-.845h.846v-.845h.845V24.38h.845v-1.69h2.5v1.69h.881v.845h.845v.846h.846v.845h.845v.845h6.725v-.845h.846v-.845h.845V24.38h.845v-1.69h7.608v2.535H43V21H5v1.69h.845zm2.536 0h-.845v.846h.845v.845h.845v.845h.846v.846h.845v-.846h.845v.846h.845v-.846h-.845v-.845h-.845v-.845h-.845v-.845h-.846v.845h-.845v-.845zm15.215 0h-.845v.846h.845v.845h.845v.845h.845v.846h.846v-.846h.845v.846h.845v-.846h-.845v-.845h-.845v-.845h-.846v-.845h-.845v.845h-.845v-.845z",clipRule:"evenodd"}),h.createElement("defs",null,h.createElement("linearGradient",{id:"AchievementSubsIconA",x1:"0",x2:"46.494",y1:"48",y2:"49.417",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#3FF7EB"}),h.createElement("stop",{offset:"1",stopColor:"#4AF25B"}))))}function vg(){return vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vg.apply(this,arguments)}function yg(e){return h.createElement("svg",vg({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},e),h.createElement("path",{fill:"url(#AchievementUploadsIconA)",d:"M0 12C0 5.373 5.373 0 12 0h24c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H12C5.373 48 0 42.627 0 36V12z"}),h.createElement("path",{fill:"#252626",fillRule:"evenodd",d:"M13 26.444h2.444v6.112h17.111V35h-17.11v-1.222H13v-7.334zm19.556 0H35v7.334h-2.444v-7.334z",clipRule:"evenodd"}),h.createElement("path",{fill:"#FFB800",fillRule:"evenodd",d:"M25.222 13h-2.445v1.222h2.445V13zm-6.11 8.556h-2.445V19.11h2.444v-2.444h1.222v-1.223h1.223v-1.221h4.889v1.221h1.221v1.223h1.223v1.222h1.222v1.222h1.223v2.445h-4.89v6.11h-4.888v-6.11H19.11zm-.001-3.667h-1.222v1.222h1.222v-1.222zm6.11 9.778h-2.444v1.222h2.445v-1.222z",clipRule:"evenodd"}),h.createElement("path",{fill:"#FFB800",stroke:"#252626",d:"M26 29.5h.5v-1h1v-6h4v-4h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1h-1v-1H25v-1h-2v1h-.5v1h-1v1h-1v1h-1v1h-1v1h-1v1h-1v4h4v6h1v1H26z"}),h.createElement("defs",null,h.createElement("linearGradient",{id:"AchievementUploadsIconA",x1:"1.395",x2:"48.003",y1:"23.999",y2:"24.008",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#4A90E3"}),h.createElement("stop",{offset:"1",stopColor:"#B48BEC"}))))}function bg(){return bg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bg.apply(this,arguments)}function _g(e){return h.createElement("svg",bg({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},e),h.createElement("path",{fill:"url(#AchievementViewsIconA)",d:"M0 12C0 5.373 5.373 0 12 0h24c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H12C5.373 48 0 42.627 0 36V12z"}),h.createElement("path",{fill:"#fff",stroke:"#F5F5F5",strokeWidth:"0.8",d:"M36.6 24c0 2.696-.71 5.117-1.84 6.853-1.13 1.74-2.645 2.747-4.26 2.747-1.615 0-3.13-1.007-4.26-2.747-1.13-1.736-1.84-4.158-1.84-6.853s.71-5.117 1.84-6.853c1.13-1.74 2.645-2.747 4.26-2.747 1.615 0 3.13 1.007 4.26 2.747 1.13 1.736 1.84 4.158 1.84 6.853z"}),h.createElement("ellipse",{cx:"27",cy:"25",fill:"url(#AchievementViewsIconB)",rx:"3",ry:"4"}),h.createElement("circle",{cx:"26.75",cy:"24.75",r:"2.25",fill:"#000"}),h.createElement("circle",{cx:"25.5",cy:"23.5",r:"0.5",fill:"#fff",stroke:"#fff"}),h.createElement("path",{fill:"#fff",stroke:"#F5F5F5",strokeWidth:"0.8",d:"M22.6 24c0 2.696-.71 5.117-1.84 6.853-1.13 1.74-2.645 2.747-4.26 2.747-1.615 0-3.13-1.007-4.26-2.747-1.13-1.736-1.84-4.158-1.84-6.853s.71-5.117 1.84-6.853c1.13-1.74 2.645-2.747 4.26-2.747 1.615 0 3.13 1.007 4.26 2.747 1.13 1.736 1.84 4.158 1.84 6.853z"}),h.createElement("ellipse",{cx:"13",cy:"25",fill:"url(#AchievementViewsIconC)",rx:"3",ry:"4"}),h.createElement("circle",{cx:"12.75",cy:"24.75",r:"2.25",fill:"#000"}),h.createElement("circle",{cx:"11.5",cy:"23.5",r:"0.5",fill:"#fff",stroke:"#fff"}),h.createElement("defs",null,h.createElement("linearGradient",{id:"AchievementViewsIconA",x1:"0",x2:"44.87",y1:"14.609",y2:"35.478",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#FF4273"}),h.createElement("stop",{offset:"1",stopColor:"#FF8C5A"})),h.createElement("linearGradient",{id:"AchievementViewsIconB",x1:"25.5",x2:"28.5",y1:"21.5",y2:"28.5",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#7B4A2C"}),h.createElement("stop",{offset:"1",stopColor:"#DAA77C"})),h.createElement("linearGradient",{id:"AchievementViewsIconC",x1:"11.5",x2:"14.5",y1:"21.5",y2:"28.5",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#7B4A2C"}),h.createElement("stop",{offset:"1",stopColor:"#DAA77C"}))))}function wg(){return wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wg.apply(this,arguments)}function kg(e){return h.createElement("svg",wg({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},e),h.createElement("path",{fill:"url(#AchievementWatchtimeIconA)",d:"M0 12C0 5.373 5.373 0 12 0h24c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H12C5.373 48 0 42.627 0 36V12z"}),h.createElement("g",{clipPath:"url(#AchievementWatchtimeIconB)"},h.createElement("path",{fill:"#FFB800",fillRule:"evenodd",d:"M19 14.667h10V16h2v1.334h2v2h2v11.333h-2v2h-2v2h-2V36H19v-1.333h-2v-2h-2v-2h-2V19.334h2v-2h2V16h2v-1.333zm0 18.667h10V32h2v-2h2V20h-2v-1.333h-2v-1.333H19v1.333h-2V20h-2v10h2v2h2v1.334z",clipRule:"evenodd"}),h.createElement("path",{fill:"#fff",d:"M19 18.666v-1.333h10v1.333h2V20h2v10h-2v2h-2v1.333H19V32h-2v-2h-2V20h2v-1.334h2z"}),h.createElement("path",{fill:"#E8E8E8",d:"M21 20v-2.667h-2v1.333h-2V20h-2v10h2v2h2v1.333h8V32h-6v-2h-2v-2h-2v-6h2v-2h2z"}),h.createElement("path",{fill:"#252626",fillRule:"evenodd",d:"M23.667 20.667h-2v6.667h6v-2h-4v-4.667z",clipRule:"evenodd"}),h.createElement("path",{fill:"#D19700",d:"M26.333 13.333h-4.666v1.333h4.666v-1.333zM27 12h-6v1.333h6V12z"})),h.createElement("defs",null,h.createElement("linearGradient",{id:"AchievementWatchtimeIconA",x1:"0",x2:"44.87",y1:"14.609",y2:"35.478",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#5270DB"}),h.createElement("stop",{offset:"1",stopColor:"#3EEBE0"})),h.createElement("clipPath",{id:"AchievementWatchtimeIconB"},h.createElement("path",{fill:"#fff",d:"M0 0h22v24H0z",transform:"translate(13 12)"}))))}function xg(){return xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xg.apply(this,arguments)}function Eg(e){return h.createElement("svg",xg({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M2.667 8v5.333A1.333 1.333 0 004 14.667h8c.354 0 .693-.14.943-.39a1.333 1.333 0 00.39-.944V8m-2.666-4L8 1.333 5.333 4M8 1.333V10"}))}const Cg=Qn("div",{target:"e106ncpc0"})("position:absolute;bottom:13px;background:var(--light-green);width:10px;height:10px;transform:rotate(45deg);border:2px solid #e6fcf4;left:",(e=>e.left),";"),Sg=({data:e})=>{if(e.error||!e.relativeDate||!e.relativeProgress)return null;const t=(0,ai.Z)("bestMonthPerformance",[e.relativeDate,ge()(e.relativeTotal).format("0,0")]);return h.createElement(Cg,{left:e.relativeProgress-1.666667+"%","data-tip-message":t})};const Tg=Qn("div",{target:"e1t136k34"})(du," align-items:flex-start;justify-content:center;width:100%;"),Dg=Qn("div",{target:"e1t136k33"})({name:"pw7jst",styles:"position:relative;width:100%"}),Fg=Qn("div",{target:"e1t136k32"})({name:"fe0rqm",styles:"background:#e6fcf4;height:20px;width:100%;margin-top:8px;border-radius:12px;overflow:hidden"}),Mg=Qn("div",{target:"e1t136k31"})("width:",(e=>e.width),";background:var(--light-green);height:20px;border-radius:12px 0 0 12px;",ou," align-items:center;justify-content:flex-start;"),Ag=Qn("div",{target:"e1t136k30"})({name:"179xo9p",styles:"font-size:12px;line-height:16px;font-weight:600;color:#252626;margin-left:8px"}),Ig=({type:e,data:t,label:n,loading:i})=>{const r=t.currentTotal?ge()(t.currentTotal).format("0,0"):null;let a=null;if(t.error&&!i)a=ai.Z.html("noAchievementFound",[n]);else if("achievement"!==e||t.error||i)"bestMonth"!==e||t.error||i||(a=t.month===t.currentMonth?(0,ai.Z)("achievementsBestMonthCurrentMonth",[n.toLowerCase()]):ai.Z.html("achievementsBestMonthProgress",[ge()(t.progress).format("0")]));else{const e=ge()(t.nextAchievement).format("0.[0]a").toUpperCase(),i=wt()(t.projection).format("Do MMMM YYYY");a=ai.Z.html("achievementsOnPaceFor",[`${e} ${n}`,i])}return h.createElement(Tg,null,h.createElement(tc,{size:"s",color:"var(--text-secondary)"},a),h.createElement(Dg,null,h.createElement(Fg,null,h.createElement(Mg,{width:`${t.progress||0}%`},h.createElement(Ag,null,r))),"bestMonth"===e&&h.createElement(Sg,{data:t})))};const Og=Qn("div",{target:"e1fnb5l24"})(hu," border:1px solid var(--border-primary);border-radius:12px;margin-top:",(e=>e.marginTop||"20px"),";width:40%;flex-grow:1;padding:20px 16px 26px;box-sizing:border-box;position:relative;",(e=>e.clickable&&"\n    cursor: pointer;\n    &:hover {\n      border: 1px solid var(--blue);\n    }\n  ")," &:nth-child(odd){margin-right:20px;}"),Ng=Qn("div",{target:"e1fnb5l23"})(ou," align-items:center;margin-bottom:18px;width:100%;"),Pg=Qn("div",{target:"e1fnb5l22"})(du," align-items:flex-start;justify-content:center;flex:1;margin-left:12px;"),Rg=Qn("div",{target:"e1fnb5l21"})({name:"16cazzk",styles:"font-weight:900;font-size:28px;line-height:36px;color:var(--text-primary);margin-right:8px"}),jg=Qn("div",{target:"e1fnb5l20"})({name:"1pngk0p",styles:"font-weight:bold;font-size:16px;line-height:20px;color:var(--text-primary);margin-bottom:4px"}),Lg={subs:(0,ai.Z)("subscribersTitle"),views:(0,ai.Z)("viewsTitle"),bestVideo:(0,ai.Z)("viewsTitle"),uploads:(0,ai.Z)("uploadsTitle"),likes:(0,ai.Z)("likesTitle"),watchTime:we.Z.capitalize((0,ai.Z)("hoursWatchedTitle")),comments:(0,ai.Z)("commentsTitle")},qg=({name:e})=>"subs"===e?h.createElement(gg,null):"views"===e||"bestVideo"===e?h.createElement(_g,null):"uploads"===e?h.createElement(yg,null):"likes"===e?h.createElement(fg,null):"watchTime"===e?h.createElement(kg,null):"comments"===e?h.createElement(hg,null):null,Zg=e=>{const{type:t,name:n,data:i,loading:r,marginTop:a}=e,[o,s]=(0,h.useState)(null),[l,c]=(0,h.useState)(!1),u=(0,h.useCallback)((async()=>{if(r||l||"bestVideo"===n)return;const t=await og.getShortUrl(e);s(t),c(!0)}),[e,r,l,n]);(0,h.useEffect)((()=>{i.value&&i.timestamp&&u()}),[i,u]);const d=t=>{t.stopPropagation(),i.error||r||"bestVideo"===n||og.openAchievementCertificatePage(e,o)},p="_ _ _",f=void 0!==i.value?ge()(i.value).format("0.[0]a").toUpperCase():p,m="bestMonth"===t?"MMMM YYYY":"Do MMMM YYYY",g=void 0!==i.timestamp?wt().utc(i.timestamp).format(m):p;return h.createElement(Og,{marginTop:a,clickable:!i.error&&!r&&"bestVideo"!==n,onClick:d},r&&h.createElement(bu,{borderRadius:"12px"},h.createElement(os,{size:"big"})),h.createElement(Ng,null,h.createElement(qg,{name:n}),h.createElement(Pg,null,h.createElement(su,{alignItems:"flex-end"},h.createElement(Rg,null,f),h.createElement(jg,null,Lg[n])),h.createElement(tc,{size:"s",color:"var(--text-secondary)",fontWeight:"600"},(0,ai.Z)("achievedDate",[g]))),"bestVideo"!==n&&h.createElement($c,{onClick:d,disabled:i.error||r},(0,ai.Z)("shareTitle")," ",h.createElement(Eg,null))),h.createElement(Ig,{type:t,data:i,label:Lg[n],loading:r}))},Bg=({bestVideo:e,channelId:t})=>{var n;const i=e.videoId,r=`https://i.ytimg.com/vi/${i}/mqdefault.jpg`,a=`https://www.youtube.com/watch?v=${i}`;return h.createElement(h.Fragment,null,!e.loading&&!(null!==(n=e.achievements)&&void 0!==n&&n.error)&&void 0!==i&&h.createElement(yu,{height:"170px",width:"300px",marginRight:"20px",onClick:()=>{ht("clicked on achievement item",{"item name":"best video",via:lt()}),window.open(a,"_blank")},src:r}),h.createElement(Zg,{type:"achievement",name:"bestVideo",data:e.achievements||{},channelId:t,loading:e.loading,marginTop:"0"}))};const Vg=Qn("div",{target:"eanvqrd1"})({name:"1qgf9mf",styles:"padding:16px 20px 8px"}),zg=Qn("div",{target:"eanvqrd0"})("display:flex;flex-flow:row wrap;",(e=>e.margin&&`margin: ${e.margin};`),";"),Ug=ug((e=>{const{channelId:t,bestVideo:n,errorUnauthed:i,errorUnknown:r}=e;(0,h.useEffect)((()=>{og.get()}),[]);const a=["subs","views","uploads","likes","watchTime","comments"];return h.createElement(Hc,{featureInfoEmoji:"🔥",featureInfoText:(0,ai.Z)("achievementsFeatureInfo")},i&&h.createElement(pm,null),r&&h.createElement(fm,null),!i&&!r&&h.createElement(h.Fragment,null,h.createElement(Vg,null,h.createElement(au,null,(0,ai.Z)("keyAchievementsTitle")),h.createElement(zg,null,a.map((n=>{const i=e[n];return h.createElement(Zg,{key:n,type:"achievement",name:n,data:i.achievements||{},channelId:t,loading:i.loading})})))),h.createElement(Vg,null,h.createElement(au,null,(0,ai.Z)("bestMonthsTitle")),h.createElement(zg,null,a.map((n=>{const i=e[n];return h.createElement(Zg,{key:n,type:"bestMonth",name:n,data:i.bestMonth||{},channelId:t,loading:i.loading})})))),h.createElement(Vg,null,h.createElement(au,null,(0,ai.Z)("bestVideoTitle")),h.createElement(zg,{margin:"20px 0 0"},h.createElement(Bg,{bestVideo:n,channelId:t})))))}),lg);const Wg=Qn(oi,{target:"e1x3d4sm4"})({name:"d3v9zr",styles:"overflow:hidden"}),Hg=Qn("div",{target:"e1x3d4sm3"})({name:"1d3w5wq",styles:"width:100%"}),Yg=Qn(oi,{target:"e1x3d4sm2"})({name:"19v60vh",styles:"overflow-y:auto;width:100%"}),$g=Qn("div",{target:"e1x3d4sm1"})({name:"9tepaw",styles:"margin:0 16px 0 20px;flex-grow:1"}),Kg=Qn("div",{target:"e1x3d4sm0"})({name:"16b5ec1",styles:"width:340px;margin-right:20px"}),Gg=({top:e,left:t,right:n,hideBody:i})=>h.createElement(Wg,{flow:"column"},void 0!==e&&h.createElement(Hg,null,e),!i&&h.createElement(Yg,{flow:"row",align:"flex-start"},void 0!==t&&h.createElement($g,null,t),void 0!==n&&h.createElement(Kg,null,n)));const Xg=Qn("input",{target:"eyjlkrw0"})({name:"ht1p44",styles:"background:var(--blue);color:#fff;font-weight:500;font-size:14px;line-height:18px;padding:8px 16px;border:0;border-radius:100px;&:not([disabled]){cursor:pointer;}&[disabled]{opacity:0.5;}"}),Qg=({redesign:e,disabled:t})=>e?h.createElement(Xg,{type:"submit",value:(0,ai.Z)("search"),disabled:t}):h.createElement("input",{type:"submit",value:(0,ai.Z)("search"),className:"vidiq-search-keywords-input-form-submit",disabled:t}),Jg=Qn("div",{target:"e194zp6b0"})("padding:8px 16px;border:1px solid var(--border-primary);box-sizing:border-box;border-radius:100px;margin:16px 20px;",(e=>e.disabled&&"\n  filter: grayscale(100%);\n  opacity: 0.5;\n")," .vidiq-search-keywords-input-icon-redesign{margin-right:8px;color:var(--text-primary);}"),ev=({redesign:e,disabled:t,testId:n,children:i})=>{if(e)return h.createElement(Jg,{disabled:t},i);const r=Fo()("vidiq-search-keywords-input",{"vidiq-search-keywords-input-disabled":t});return h.createElement("div",{className:r},i)};function tv(){return tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tv.apply(this,arguments)}function nv(e){return h.createElement("svg",tv({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"20",height:"20"},e),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.167 15.833a6.667 6.667 0 100-13.333 6.667 6.667 0 000 13.333zM17.5 17.5l-3.625-3.625"}))}const iv=({redesign:e})=>{if(e)return h.createElement(nv,{className:"vidiq-search-keywords-input-icon-redesign"});const t=chrome.runtime.getURL("images/search-icon.svg");return h.createElement("img",{src:t,alt:"Search icon",className:"vidiq-search-keywords-input-icon"})};function rv(){return rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rv.apply(this,arguments)}function av(e){return h.createElement("svg",rv({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"20",height:"20"},e),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 18.333a8.333 8.333 0 100-16.666 8.333 8.333 0 000 16.666zM12.5 7.5l-5 5m0-5l5 5"}))}const ov=Qn("div",{target:"el5ijuv2"})("display:flex;flex-flow:row;padding:8px 12px;border:1px solid var(--border-primary);box-sizing:border-box;border-radius:100px;font-weight:500;line-height:18px;margin:",(e=>e.multiple?"0 8px 8px 0":"0 8px 0 0"),";svg{color:var(--text-primary);cursor:pointer;}"),sv=Qn("div",{target:"el5ijuv1"})({name:"1fijgmz",styles:"color:var(--text-primary);margin-left:8px;font-size:14px"}),lv=Qn("div",{target:"el5ijuv0"})({name:"e5q9z1",styles:"color:var(--text-primary);background:var(--background-tertiary);border-radius:100px;padding:0 8px;margin-left:6px;font-size:12px"}),cv=({keyword:e,overallScore:t,onClickChip:n,onClickRemove:i,multiple:r,redesign:a})=>{if(a)return h.createElement(ov,{onClick:n,multiple:r},h.createElement(av,{onClick:i}),h.createElement(sv,null,e),void 0!==t&&h.createElement(lv,null,Math.round(t),"/100"));const o=Fo()("vidiq-search-keywords-input-keyword",{"vidiq-search-keywords-input-keyword-with-overall":"number"==typeof t}),s=chrome.runtime.getURL("images/x-close-btn.svg");return h.createElement("div",{className:o,onClick:n},h.createElement("img",{className:"vidiq-search-keywords-input-keyword-remove",alt:"Remove",src:s,onClick:i}),h.createElement("div",{className:"vidiq-search-keywords-input-keyword-text"},e),t&&h.createElement("div",{className:"vidiq-search-keywords-input-keyword-overall"},Math.round(t),"/100"))};function uv(e){document.querySelector("#dialog.ytcp-uploads-dialog")&&"studio.youtube.com"===window.location.host&&B((e=>{document.querySelector("#dialog.ytcp-uploads-dialog").noAutoFocus=e[0]}),[e])}const dv=Qn("div",{target:"eeh5au00"})("display:flex;flex-flow:row;align-items:center;",(e=>!e.redesign&&"padding: 0 16px 16px;"),";");function hv(){return hv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hv.apply(this,arguments)}const pv=Qn("input",{target:"e4u8a0o1"})("flex-grow:1;font-size:14px;border:0 none;",(e=>e.redesign&&"background: transparent;")," ",(e=>e.redesign&&"color: var(--text-primary);")," height:34px;&:focus,&:active{outline:none;}",(e=>e.redesign&&"\n  &::placeholder {\n    color: var(--text-secondary);\n  }\n  ")," ",(e=>e.hidden&&"\n    max-width: 0;\n    max-height: 0;\n    padding: 0;\n  "),";"),fv=h.forwardRef((({redesign:e,placeholder:t,disabled:n,value:i,hidden:r,onChange:a,onBlur:o,onClick:s,testId:l},c)=>{const u={onChange:a,onBlur:o,onClick:s,...void 0!==i&&{value:i},placeholder:t,disabled:n};return h.createElement(pv,hv({type:"text",ref:c,redesign:e,hidden:r},u))}));fv.displayName="SearchKeywordsInputFormInput";const mv=Qn("div",{target:"e4u8a0o0"})({name:"qflz7f",styles:"flex-grow:1;display:flex;align-items:center;font-size:14px;color:var(--text-secondary);height:36px;.vidiq-boost-tag{margin-left:4px;color:white;background:var(--blue);font-size:12px;padding:2px 4px;border-radius:4px;font-weight:500;}"});function gv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vv extends h.Component{constructor(e){super(e),gv(this,"resetPlaceholder",(()=>{!this.state.editing&&this.props.keyword||this.state.editing&&this.state.searchInputValue.length?this.searchInput.placeholder="":this.searchInput.placeholder=this.props.placeholder||(0,ai.Z)("addKeywordOrPhrase")})),gv(this,"onChangeSearchInput",(e=>{this.resetPlaceholder(),this.setState({searchInputValue:e.target.value})})),gv(this,"onUpdateKeyword",(e=>{if(e.preventDefault(),e.stopPropagation(),this.props.disabled)return;const t=this.state.searchInputValue.trim();this.searchInput.blur(),this.setState({searchInputValue:""}),t!==this.state.keyword?(this.props.updateKeyword(t),this.setState({editing:!1,keyword:t})):this.setState({editing:!1})})),gv(this,"removeKeyword",(e=>{e.stopPropagation(),this.props.allowKeywordDeletion&&this.props.updateKeyword(""),this.setState({keyword:null,editing:!0}),this.searchInput.focus()})),gv(this,"onStartEditing",(e=>{this.state.editing||this.removeKeywordBtn&&this.removeKeywordBtn.contains(e.target)||(this.setState({editing:!0}),this.state.keyword&&this.setState({searchInputValue:this.state.keyword}),this.searchInput.focus())})),gv(this,"onBlur",(()=>{const e=this.state.searchInputValue;e&&e.length&&e!==this.props.keyword||this.setState({keyword:this.props.keyword,editing:!1,searchInputValue:""})})),this.state={editing:!1,keyword:e.keyword,searchInputValue:""}}componentDidMount(){uv(!0),this.resetPlaceholder()}componentWillUnmount(){uv(!1)}componentDidUpdate(e){this.props.keyword!==e.keyword&&this.setState({keyword:this.props.keyword}),this.resetPlaceholder()}buttonDisabled(){return!this.state.editing||this.state.editing&&!this.state.searchInputValue||this.props.disabled}render(){return h.createElement(ev,{testId:"search-keywords-input",redesign:this.props.redesign,disabled:this.props.disabled},!this.props.redesign&&h.createElement("div",{className:"vidiq-search-keywords-input-header"},this.props.header||(0,ai.Z)("searchKeyword")),h.createElement(dv,{redesign:this.props.redesign},h.createElement(iv,{redesign:this.props.redesign}),this.state.keyword&&!this.state.editing&&h.createElement(cv,{keyword:this.state.keyword,onClickChip:this.onStartEditing,onClickRemove:this.removeKeyword,redesign:this.props.redesign}),h.createElement("form",{className:"vidiq-search-keywords-input-form",onSubmit:this.onUpdateKeyword,disabled:this.props.disabled},h.createElement(fv,{ref:e=>this.searchInput=e,placeholder:this.props.placeholder||(0,ai.Z)("addKeywordOrPhrase"),onClick:this.onStartEditing,onBlur:this.onBlur,onChange:this.onChangeSearchInput,value:this.state.searchInputValue,disabled:this.props.disabled,redesign:this.props.redesign}),h.createElement(Qg,{disabled:this.buttonDisabled(),redesign:this.props.redesign}))))}}const yv=vv,bv=[{Name:"Afghanistan",Code:"AF"},{Name:"Åland Islands",Code:"AX"},{Name:"Albania",Code:"AL"},{Name:"Algeria",Code:"DZ"},{Name:"American Samoa",Code:"AS"},{Name:"Andorra",Code:"AD"},{Name:"Angola",Code:"AO"},{Name:"Anguilla",Code:"AI"},{Name:"Antarctica",Code:"AQ"},{Name:"Antigua and Barbuda",Code:"AG"},{Name:"Argentina",Code:"AR"},{Name:"Armenia",Code:"AM"},{Name:"Aruba",Code:"AW"},{Name:"Australia",Code:"AU"},{Name:"Austria",Code:"AT"},{Name:"Azerbaijan",Code:"AZ"},{Name:"Bahamas",Code:"BS"},{Name:"Bahrain",Code:"BH"},{Name:"Bangladesh",Code:"BD"},{Name:"Barbados",Code:"BB"},{Name:"Belarus",Code:"BY"},{Name:"Belgium",Code:"BE"},{Name:"Belize",Code:"BZ"},{Name:"Benin",Code:"BJ"},{Name:"Bermuda",Code:"BM"},{Name:"Bhutan",Code:"BT"},{Name:"Bolivia, Plurinational State of",Code:"BO"},{Name:"Bonaire, Sint Eustatius and Saba",Code:"BQ"},{Name:"Bosnia and Herzegovina",Code:"BA"},{Name:"Botswana",Code:"BW"},{Name:"Bouvet Island",Code:"BV"},{Name:"Brazil",Code:"BR"},{Name:"British Indian Ocean Territory",Code:"IO"},{Name:"Brunei Darussalam",Code:"BN"},{Name:"Bulgaria",Code:"BG"},{Name:"Burkina Faso",Code:"BF"},{Name:"Burundi",Code:"BI"},{Name:"Cambodia",Code:"KH"},{Name:"Cameroon",Code:"CM"},{Name:"Canada",Code:"CA"},{Name:"Cape Verde",Code:"CV"},{Name:"Cayman Islands",Code:"KY"},{Name:"Central African Republic",Code:"CF"},{Name:"Chad",Code:"TD"},{Name:"Chile",Code:"CL"},{Name:"China",Code:"CN"},{Name:"Christmas Island",Code:"CX"},{Name:"Cocos (Keeling) Islands",Code:"CC"},{Name:"Colombia",Code:"CO"},{Name:"Comoros",Code:"KM"},{Name:"Congo",Code:"CG"},{Name:"Congo, the Democratic Republic of the",Code:"CD"},{Name:"Cook Islands",Code:"CK"},{Name:"Costa Rica",Code:"CR"},{Name:"Côte d'Ivoire",Code:"CI"},{Name:"Croatia",Code:"HR"},{Name:"Cuba",Code:"CU"},{Name:"Curaçao",Code:"CW"},{Name:"Cyprus",Code:"CY"},{Name:"Czech Republic",Code:"CZ"},{Name:"Denmark",Code:"DK"},{Name:"Djibouti",Code:"DJ"},{Name:"Dominica",Code:"DM"},{Name:"Dominican Republic",Code:"DO"},{Name:"Ecuador",Code:"EC"},{Name:"Egypt",Code:"EG"},{Name:"El Salvador",Code:"SV"},{Name:"Equatorial Guinea",Code:"GQ"},{Name:"Eritrea",Code:"ER"},{Name:"Estonia",Code:"EE"},{Name:"Ethiopia",Code:"ET"},{Name:"Falkland Islands (Malvinas)",Code:"FK"},{Name:"Faroe Islands",Code:"FO"},{Name:"Fiji",Code:"FJ"},{Name:"Finland",Code:"FI"},{Name:"France",Code:"FR"},{Name:"French Guiana",Code:"GF"},{Name:"French Polynesia",Code:"PF"},{Name:"French Southern Territories",Code:"TF"},{Name:"Gabon",Code:"GA"},{Name:"Gambia",Code:"GM"},{Name:"Georgia",Code:"GE"},{Name:"Germany",Code:"DE"},{Name:"Ghana",Code:"GH"},{Name:"Gibraltar",Code:"GI"},{Name:"Greece",Code:"GR"},{Name:"Greenland",Code:"GL"},{Name:"Grenada",Code:"GD"},{Name:"Guadeloupe",Code:"GP"},{Name:"Guam",Code:"GU"},{Name:"Guatemala",Code:"GT"},{Name:"Guernsey",Code:"GG"},{Name:"Guinea",Code:"GN"},{Name:"Guinea-Bissau",Code:"GW"},{Name:"Guyana",Code:"GY"},{Name:"Haiti",Code:"HT"},{Name:"Heard Island and McDonald Islands",Code:"HM"},{Name:"Holy See (Vatican City State)",Code:"VA"},{Name:"Honduras",Code:"HN"},{Name:"Hong Kong",Code:"HK"},{Name:"Hungary",Code:"HU"},{Name:"Iceland",Code:"IS"},{Name:"India",Code:"IN"},{Name:"Indonesia",Code:"ID"},{Name:"Iran, Islamic Republic of",Code:"IR"},{Name:"Iraq",Code:"IQ"},{Name:"Ireland",Code:"IE"},{Name:"Isle of Man",Code:"IM"},{Name:"Israel",Code:"IL"},{Name:"Italy",Code:"IT"},{Name:"Jamaica",Code:"JM"},{Name:"Japan",Code:"JP"},{Name:"Jersey",Code:"JE"},{Name:"Jordan",Code:"JO"},{Name:"Kazakhstan",Code:"KZ"},{Name:"Kenya",Code:"KE"},{Name:"Kiribati",Code:"KI"},{Name:"Korea, Democratic People's Republic of",Code:"KP"},{Name:"Korea, Republic of",Code:"KR"},{Name:"Kuwait",Code:"KW"},{Name:"Kyrgyzstan",Code:"KG"},{Name:"Lao People's Democratic Republic",Code:"LA"},{Name:"Latvia",Code:"LV"},{Name:"Lebanon",Code:"LB"},{Name:"Lesotho",Code:"LS"},{Name:"Liberia",Code:"LR"},{Name:"Libya",Code:"LY"},{Name:"Liechtenstein",Code:"LI"},{Name:"Lithuania",Code:"LT"},{Name:"Luxembourg",Code:"LU"},{Name:"Macao",Code:"MO"},{Name:"Macedonia, the Former Yugoslav Republic of",Code:"MK"},{Name:"Madagascar",Code:"MG"},{Name:"Malawi",Code:"MW"},{Name:"Malaysia",Code:"MY"},{Name:"Maldives",Code:"MV"},{Name:"Mali",Code:"ML"},{Name:"Malta",Code:"MT"},{Name:"Marshall Islands",Code:"MH"},{Name:"Martinique",Code:"MQ"},{Name:"Mauritania",Code:"MR"},{Name:"Mauritius",Code:"MU"},{Name:"Mayotte",Code:"YT"},{Name:"Mexico",Code:"MX"},{Name:"Micronesia, Federated States of",Code:"FM"},{Name:"Moldova, Republic of",Code:"MD"},{Name:"Monaco",Code:"MC"},{Name:"Mongolia",Code:"MN"},{Name:"Montenegro",Code:"ME"},{Name:"Montserrat",Code:"MS"},{Name:"Morocco",Code:"MA"},{Name:"Mozambique",Code:"MZ"},{Name:"Myanmar",Code:"MM"},{Name:"Namibia",Code:"NA"},{Name:"Nauru",Code:"NR"},{Name:"Nepal",Code:"NP"},{Name:"Netherlands",Code:"NL"},{Name:"New Caledonia",Code:"NC"},{Name:"New Zealand",Code:"NZ"},{Name:"Nicaragua",Code:"NI"},{Name:"Niger",Code:"NE"},{Name:"Nigeria",Code:"NG"},{Name:"Niue",Code:"NU"},{Name:"Norfolk Island",Code:"NF"},{Name:"Northern Mariana Islands",Code:"MP"},{Name:"Norway",Code:"NO"},{Name:"Oman",Code:"OM"},{Name:"Pakistan",Code:"PK"},{Name:"Palau",Code:"PW"},{Name:"Palestine, State of",Code:"PS"},{Name:"Panama",Code:"PA"},{Name:"Papua New Guinea",Code:"PG"},{Name:"Paraguay",Code:"PY"},{Name:"Peru",Code:"PE"},{Name:"Philippines",Code:"PH"},{Name:"Pitcairn",Code:"PN"},{Name:"Poland",Code:"PL"},{Name:"Portugal",Code:"PT"},{Name:"Puerto Rico",Code:"PR"},{Name:"Qatar",Code:"QA"},{Name:"Réunion",Code:"RE"},{Name:"Romania",Code:"RO"},{Name:"Russian Federation",Code:"RU"},{Name:"Rwanda",Code:"RW"},{Name:"Saint Barthélemy",Code:"BL"},{Name:"Saint Helena, Ascension and Tristan da Cunha",Code:"SH"},{Name:"Saint Kitts and Nevis",Code:"KN"},{Name:"Saint Lucia",Code:"LC"},{Name:"Saint Martin (French part)",Code:"MF"},{Name:"Saint Pierre and Miquelon",Code:"PM"},{Name:"Saint Vincent and the Grenadines",Code:"VC"},{Name:"Samoa",Code:"WS"},{Name:"San Marino",Code:"SM"},{Name:"Sao Tome and Principe",Code:"ST"},{Name:"Saudi Arabia",Code:"SA"},{Name:"Senegal",Code:"SN"},{Name:"Serbia",Code:"RS"},{Name:"Seychelles",Code:"SC"},{Name:"Sierra Leone",Code:"SL"},{Name:"Singapore",Code:"SG"},{Name:"Sint Maarten (Dutch part)",Code:"SX"},{Name:"Slovakia",Code:"SK"},{Name:"Slovenia",Code:"SI"},{Name:"Solomon Islands",Code:"SB"},{Name:"Somalia",Code:"SO"},{Name:"South Africa",Code:"ZA"},{Name:"South Georgia and the South Sandwich Islands",Code:"GS"},{Name:"South Sudan",Code:"SS"},{Name:"Spain",Code:"ES"},{Name:"Sri Lanka",Code:"LK"},{Name:"Sudan",Code:"SD"},{Name:"Suriname",Code:"SR"},{Name:"Svalbard and Jan Mayen",Code:"SJ"},{Name:"Swaziland",Code:"SZ"},{Name:"Sweden",Code:"SE"},{Name:"Switzerland",Code:"CH"},{Name:"Syrian Arab Republic",Code:"SY"},{Name:"Taiwan, Province of China",Code:"TW"},{Name:"Tajikistan",Code:"TJ"},{Name:"Tanzania, United Republic of",Code:"TZ"},{Name:"Thailand",Code:"TH"},{Name:"Timor-Leste",Code:"TL"},{Name:"Togo",Code:"TG"},{Name:"Tokelau",Code:"TK"},{Name:"Tonga",Code:"TO"},{Name:"Trinidad and Tobago",Code:"TT"},{Name:"Tunisia",Code:"TN"},{Name:"Turkey",Code:"TR"},{Name:"Turkmenistan",Code:"TM"},{Name:"Turks and Caicos Islands",Code:"TC"},{Name:"Tuvalu",Code:"TV"},{Name:"Uganda",Code:"UG"},{Name:"Ukraine",Code:"UA"},{Name:"United Arab Emirates",Code:"AE"},{Name:"United Kingdom",Code:"GB"},{Name:"United States",Code:"US"},{Name:"United States Minor Outlying Islands",Code:"UM"},{Name:"Uruguay",Code:"UY"},{Name:"Uzbekistan",Code:"UZ"},{Name:"Vanuatu",Code:"VU"},{Name:"Venezuela, Bolivarian Republic of",Code:"VE"},{Name:"Vietnam",Code:"VN"},{Name:"Virgin Islands, British",Code:"VG"},{Name:"Virgin Islands, U.S.",Code:"VI"},{Name:"Wallis and Futuna",Code:"WF"},{Name:"Western Sahara",Code:"EH"},{Name:"Yemen",Code:"YE"},{Name:"Zambia",Code:"ZM"},{Name:"Zimbabwe",Code:"ZW"}];const _v=function(e){const t=(L().findWhere(bv,{Code:e})||{Name:"Unknown"}).Name;return ai.Z.tryCountryOrLang(t)};async function wv(){const e=await P.Z.expanded("other.geoIpLookup");if(!e.response.ok)throw new Error(e.response.status);if(!e.json.country_code)throw new Error("No country_code found");if(t=e.json.country_code,!L().findWhere(bv,{Code:t}))throw new Error("Not a supported country");var t;return e.json.country_code}const kv={radius:30,strokeWidth:3,dotRadius:3.5,dotStroke:1,get width(){return 2*this.radius+this.dotRadius+this.dotStroke+1},get height(){return this.width},get center(){return{x:this.width/2,y:this.height/2}}},xv=Qn("svg",{target:"e1e7s4b30"})("height:",kv.height," width:",kv.width,";"),Ev=({vph:e})=>{const t=(0,h.useCallback)((e=>{const{radius:t,center:n}=kv,i=e*Math.PI;return{x:n.x-t*Math.cos(i),y:n.y-t*Math.sin(i)}}),[]),n=(0,h.useCallback)((()=>{const t=Math.log(10),n=Math.pow(10,6);let i=0;return e&&(i=Math.log(e)/t/(Math.log(n)/t)),Math.max(Math.min(i+.25,1.25),-.25)}),[e]),i=(0,h.useCallback)((()=>{const{radius:e}=kv,n=t(-.25),i=t(1.25);return`M ${n.x} ${n.y} A ${e} ${e} 0 1 1 ${i.x} ${i.y}`}),[t]),r=(0,h.useCallback)((()=>{const{radius:e}=kv,i=t(-.25),r=n(),a=t(r);return`M ${i.x} ${i.y} A ${e} ${e} 0 ${r>=.75?"1":"0"} 1 ${a.x} ${a.y}`}),[n,t]),a=(0,h.useCallback)((()=>{const e=n();return t(e)}),[n,t]),o=`0 0 ${kv.width} ${kv.height}`,s=a();return h.createElement(xv,{viewBox:o},h.createElement("defs",null,h.createElement("linearGradient",{id:"vphGradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%"},h.createElement("stop",{offset:"0%",stopColor:"#FF6D3F",stopOpacity:"0.05"}),h.createElement("stop",{offset:"50%",stopColor:"#FF6D3F"}))),h.createElement("path",{d:i(),stroke:"var(--border-primary)",strokeWidth:kv.strokeWidth,strokeLinecap:"round",fill:"none"}),e&&h.createElement("path",{d:r(),stroke:"url(#vphGradient)",strokeWidth:kv.strokeWidth,strokeLinecap:"round",fill:"none"}),e&&h.createElement("circle",{cx:s.x,cy:s.y,r:kv.dotRadius,stroke:"var(--border-primary)",strokeWidth:kv.dotStroke,fill:"#FF6D3F"}))};const Cv=Qn("div",{target:"el8msdw2"})({name:"nh7iz0",styles:"position:absolute;top:10px;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-flow:column"}),Sv=Qn("div",{target:"el8msdw1"})({name:"1rlin9k",styles:"font-weight:bold;font-size:10px;line-height:13px;color:var(--text-secondary)"}),Tv=Qn("div",{target:"el8msdw0"})("position:relative;width:65.5px;height:65.5px;margin:",(e=>e.margin||"0"),";"),Dv=({vph:e,margin:t})=>h.createElement(Tv,{margin:t},h.createElement(Ev,{vph:e}),h.createElement(Cv,null,h.createElement(tc,{size:"m",margin:"0 0 12px 0"},ge()(e||0).format("3[.]0a").toUpperCase()),h.createElement(Sv,null,(0,ai.Z)("vph")))),Fv="views_per_hour",Mv="views",Av="true_engagement",Iv="now-48H",Ov="now-1w",Nv="now-1M",Pv="now-6M",Rv={category:"any",country:"any",iqScore:[0,100],views:null,vph:null,channelSubs:[null,null]},jv={category:"Category",country:"Country",iqScore:"vidIQ Score",views:"Views",vph:"Views Per Hour",channelSubs:"Channel Subscribers"},Lv="most-viewed/ERROR_NO_RESULTS",qv="most-viewed/FETCH_INTERRUPTED",Zv="most-viewed/FETCH_RESEARCH",Bv="most-viewed/FETCH_RESEARCH_SUCCESS",Vv="most-viewed/FETCH_RESEARCH_FAILURE",zv="most-viewed/SET_COUNTRY_CODE",Uv="most-viewed/SET_PERMISSIONS",Wv={[Iv]:"past 48 hours",[Ov]:"this week",[Nv]:"this month",[Pv]:"past 6 months"},Hv={[Fv]:"vph",[Mv]:"views",[Av]:"engagements"},Yv=(e,t)=>{let n=t;if("country"===e&&"any"!==t){const e=bv.find((e=>e.Code===t));n=e&&e.Name}ht("applied search filters on most viewed",{filter:e,"filter detailed":n})},$v=(()=>{let e,t,n,i;return n={},i={},function(r){const a=[],o=[];let s,l;for(s in r)l=r[s],i[s]=l,n[l]=s,a.push(l),o.push(s);e=new RegExp("("+a.join("|")+")","g"),t=new RegExp("("+o.join("|")+"|&#[0-9]{1,5};)","g")}({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"}),{htmlEncode:function(t){return t?String(t).replace(e,((e,t)=>n[t])):t},htmlDecode:function(e){return e?String(e).replace(t,((e,t)=>t in i?i[t]:String.fromCharCode(parseInt(t.substr(2),10)))):e}}})();const Kv=Qn("div",{target:"en4nady3"})(uu," margin-bottom:20px;align-items:flex-start;"),Gv=Qn("div",{target:"en4nady2"})(du," align-items:flex-start;justify-content:space-between;height:79px;cursor:pointer;"),Xv=Qn("div",{target:"en4nady1"})(du," align-items:flex-start;justify-content:center;"),Qv=Qn(tc,{target:"en4nady0"})({name:"1lag9c",styles:"overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical"}),Jv=()=>h.createElement(tc,{size:"s",color:"var(--text-secondary)",margin:"0 4px",fontWeight:"600"},"•"),ey=({vph:e,openVideo:t,includeVphGraphic:n})=>h.createElement(oi,null,n&&h.createElement(Dv,{vph:e||0,margin:"0 16px 0 0"}),h.createElement(iM,{alignment:"right",alternate:!0,redesign:!0},h.createElement(aM,{id:"View on YouTube",onClick:t},(0,ai.Z)("viewOnYouTube")))),ty=({channelTitle:e,subscribers:t,datePublished:n})=>h.createElement(oi,{margin:"0 0 4px 0"},h.createElement(tc,{size:"s",fontWeight:"600"},$v.htmlDecode(e)),!!t&&h.createElement(h.Fragment,null,h.createElement(Jv,null),h.createElement(tc,{size:"s",color:"var(--text-secondary)",fontWeight:"600"},ge()(t).format("3[.]0a").toUpperCase()," ",(0,ai.Z)("subs"))),h.createElement(Jv,null),h.createElement(tc,{size:"s",color:"var(--text-secondary)",fontWeight:"600"},wt()(n).fromNow())),ny=({views:e,vph:t,hideVph:n,engagementRate:i,vidiqScore:r})=>h.createElement(oi,{margin:"8px 0 0"},h.createElement(tc,{size:"m",fontWeight:"600"},ge()(e).format("0,0")," ",(0,ai.Z)("viewsTitle")),!n&&h.createElement(h.Fragment,null,h.createElement(Jv,null),h.createElement(tc,{size:"m",fontWeight:"600"},ge()(t||0).format("3[.]0a").toUpperCase()," ",(0,ai.Z)("vph"))),void 0!==i&&h.createElement(h.Fragment,null,h.createElement(Jv,null),h.createElement(tc,{size:"m",fontWeight:"600"},ge()(100*i).format("0[.]0"),"%"," ",(0,ai.Z)("engagementRateStatLabel"))),void 0!==r&&h.createElement(h.Fragment,null,h.createElement(Jv,null),h.createElement(tc,{size:"m",fontWeight:"600"},Math.round(r),"/100 ",(0,ai.Z)("vidiqScoreStatLabel")))),iy=({video:e,location:t,includeVphGraphic:n,variant:i})=>{const{video_id:r,title:a,views:o,views_per_hour:s,channel_id:l,channel_title:c,channel_subscribers:u,date_published_at:d,engagement_rate:p,iq_score:f}=e,m=`https://i.ytimg.com/vi/${r}/hqdefault.jpg`,g=()=>{window.open(`https://youtu.be/${r}`,"_blank"),ht("clicked on a video on most viewed",{"video id":r}),Xo({location:t,channelId:l,vph:s})};return h.createElement(Kv,null,h.createElement(oi,{flow:"column",align:"flex-start",justify:"center"},h.createElement(oi,null,h.createElement(yu,{src:m,onClick:g}),h.createElement(Gv,{onClick:g},h.createElement(Qv,{size:"m",fontWeight:"700"},$v.htmlDecode(a)),h.createElement(Xv,null,h.createElement(ty,{channelTitle:c,subscribers:u,datePublished:d}),"mostViewed"!==i&&h.createElement(ny,{views:o,vph:s})))),"mostViewed"===i&&h.createElement(ny,{views:o,hideVph:!0,engagementRate:p,vidiqScore:f})),h.createElement(ey,{vph:s,includeVphGraphic:n,openVideo:g}))};const ry=Qn("div",{target:"epllf9v0"})({name:"19tqjz9",styles:"overflow-y:auto;padding:16px 16px 0 0"}),ay=({loading:e,videos:t,error:n,totalResults:i,size:r,offset:a,loadMoreResults:o})=>{const s=(0,h.useCallback)((()=>{o(a+r),ht("loaded more videos on most viewed")}),[o,a,r]);if(n===qv&&(e=!0),n&&!e){const e=n===Lv?(0,ai.Z)("researchErrorNoResults"):(0,ai.Z)("modalErrorUnknownMessage");return h.createElement(tc,null,e)}return h.createElement(ry,null,t.map((e=>h.createElement(iy,{key:e.video_id,video:e,location:"Most Viewed",includeVphGraphic:!0,variant:"mostViewed"}))),e&&h.createElement("div",null,h.createElement(os,{size:"big"})),a+r>=i&&!e&&h.createElement(tc,null,(0,ai.Z)("endOfResults")),!e&&a+r<i&&h.createElement($c,{onClick:s,testId:"load-more-button"},(0,ai.Z)("researchLoadMore")))};function oy(){return oy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oy.apply(this,arguments)}const sy=Qn("label",{target:"e1gg26en1"})(iu," ",Jc,";"),ly=({type:e,id:t,name:n,value:i,label:r,checked:a,disabled:o,onChange:s})=>h.createElement(oi,null,h.createElement("input",{type:e,id:t,name:n,value:i,checked:a,disabled:o,onChange:s}),h.createElement(sy,{htmlFor:t,margin:"0 0 0 4px",color:a?"var(--text-primary)":"var(--text-secondary)"},r)),cy=e=>h.createElement(ly,oy({type:"checkbox"},e));function uy(){return uy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uy.apply(this,arguments)}function dy(e){return h.createElement("svg",uy({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 9 14"},e),h.createElement("path",{fill:"currentColor",d:"M.813 7.064c0 .288.11.534.342.76l5.243 5.126a.898.898 0 00.664.274.95.95 0 00.656-1.641L3.076 7.058l4.642-4.512a.95.95 0 00-.656-1.64.898.898 0 00-.664.273L1.155 6.306a1.03 1.03 0 00-.342.758z"}))}const hy=e=>h.createElement("svg",uy({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",height:"20",width:"20"},e),h.createElement("path",{fill:"currentColor",d:"M14.167 7.642a.833.833 0 00-1.175 0L10 10.592l-2.95-2.95a.833.833 0 10-1.175 1.183l3.533 3.533a.833.833 0 001.184 0l3.575-3.533a.833.833 0 000-1.183z"})),py=Qn(hy,{target:"e1jizrc91"})({name:"21xn5r",styles:"transform:rotate(180deg)"}),fy=Qn(hy,{target:"e1jizrc90"})({name:"jbgpyq",styles:"transform:rotate(90deg)"});const my=Qn("div",{target:"e1v5evsx3"})(uu," padding:8px 12px;border-radius:100px;border:1px solid var(--border-primary);",(e=>e.expanded&&"border-color: var(--blue);")," ",(e=>e.disabled&&"opacity: 0.7;")," ",(e=>!e.disabled&&"cursor: pointer;")," min-width:",(e=>e.minWidth||"200px"),";"),gy=Qn("div",{target:"e1v5evsx2"})(lu,";"),vy=Qn("img",{target:"e1v5evsx1"})({name:"i8izt6",styles:"width:24px;height:24px;border-radius:50px;margin-right:8px"}),yy=Qn("div",{target:"e1v5evsx0"})(lu," width:20px;height:20px;color:var(--text-primary);"),by=({onClick:e,selectedText:t,selectedImageSrc:n,selectedIsDefault:i,placeholder:r,onClickClear:a,expanded:o,disabled:s,minWidth:l,extraBoxText:c})=>h.createElement(my,{onClick:e,expanded:o,disabled:s,minWidth:l},h.createElement(gy,null,n&&h.createElement(vy,{src:n}),void 0!==c&&h.createElement(tc,{size:"m",fontWeight:"normal",margin:"0 4px 0 0"},c),t&&!i&&h.createElement(tc,{size:"m"},t),(!t||i)&&h.createElement(tc,{size:"m",color:"var(--text-secondary)"},r)),h.createElement(yy,null,(!t||!a||i)&&(o?h.createElement(py,null):h.createElement(hy,null)),t&&!i&&a&&!s&&h.createElement(av,{onClick:e=>{e.stopPropagation(),a&&a()}}))),_y=Qn("div",{target:"e1kgl39a0"})("position:absolute;",(e=>"left"!==e.align&&"right: 0;")," ",(e=>"left"===e.align&&"left: 0;")," margin-top:8px;padding:20px 8px;background:var(--background-secondary);border:1px solid var(--border-primary);box-sizing:border-box;box-shadow:0px 0px 4px rgba(0, 0, 0, 0.08),0px 8px 16px rgba(0, 0, 0, 0.08),0px 16px 32px rgba(0, 0, 0, 0.02);border-radius:8px;display:flex;flex-flow:column;z-index:4;"),wy=({expanded:e,header:t,align:n,children:i})=>e?h.createElement(_y,{align:n},t&&h.createElement(tc,{size:"s",color:"var(--text-secondary)",padding:"0 0 6px 6px"},t),i):null;function ky(){return ky=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ky.apply(this,arguments)}function xy(e){return h.createElement("svg",ky({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"none",viewBox:"0 0 12 10"},e),h.createElement("path",{fill:"currentColor",d:"M4.094 7.004l-2.75-2.781L0 5.503l4.094 4.095L12 1.69 10.656.41 4.094 7.004z"}))}const Ey=Qn("div",{target:"e16qdhi82"})("display:flex;align-items:center;justify-content:center;font-size:14px;background:",(e=>e.isSelected?"var(--background-tinted)":"var(--background-secondary)"),";box-sizing:border-box;border:1px solid var(--background-secondary);border-radius:8px;padding:8px 10px;min-width:256px;cursor:pointer;",(e=>e.isSelected&&"\n    svg {\n      background: var(--blue);\n      border-radius: 50px;\n      padding: 4px;\n      color: #fff;\n    }\n  ")," ",(e=>!e.disabled&&"\n    &:hover {\n      background: var(--background-tinted);\n    }\n  "),";"),Cy=Qn("img",{target:"e16qdhi81"})({name:"i8izt6",styles:"width:24px;height:24px;border-radius:50px;margin-right:8px"}),Sy=Qn("div",{target:"e16qdhi80"})({name:"vuk2gn",styles:"font-size:12px;background:var(--text-blue-purple-gradient);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent"}),Ty=({option:e,isSelected:t,onClick:n})=>h.createElement(Ey,{onClick:n,isSelected:t,disabled:void 0!==e.upsell},void 0!==e.image&&h.createElement(Cy,{src:e.image}),h.createElement(tc,{flexGrow:"1",color:e.upsell?"var(--text-secondary)":"var(--text-primary)"},e.text),void 0!==e.upsell&&h.createElement(Sy,null,e.upsell.text),t&&h.createElement(xy,null));const Dy=xs,Fy=Qn("div",{target:"e16v78rz1"})(ou," align-items:center;justify-content:flex-start;padding:10px 0 0 8px;"),My=({options:e,initSelected:t,getSelectedOption:n,header:i,onChangeSelected:r,disabled:a,checkboxOption:o,onChangeCheckbox:s,extraBoxText:l,alignModal:c})=>{const[u,d]=(0,h.useState)(!1),[p,f]=(0,h.useState)(t),m=(0,h.useRef)(null),g=(0,h.useCallback)((e=>{m.current&&!m.current.contains(e.target)&&d(!1)}),[]);(0,h.useEffect)((()=>{u?document.addEventListener("mouseup",g):document.removeEventListener("mouseup",g)}),[u,g]),(0,h.useEffect)((()=>{d(!1)}),[a]);const v=(0,h.useCallback)((e=>{a||(e.upsell?Dy.handler(e.upsell.code,e.upsell.plan):(d(!1),e.value!==p.value&&(f(n?n(e.value):e),r(e.value))))}),[p,n,r,a]);return h.createElement("div",{className:"vidiq-select-menu-container",ref:m},h.createElement(by,{onClick:()=>{a||d(!u)},selectedText:p.text,selectedImageSrc:p.image,placeholder:"",expanded:u,disabled:a,extraBoxText:l}),h.createElement(wy,{expanded:u,header:i,align:c},h.createElement("div",{className:"vidiq-select-menu-options"},e.map((e=>h.createElement(Ty,{key:e.value,option:e,isSelected:e.value===p.value,onClick:()=>v(e)}))),o&&s&&h.createElement(Fy,null,h.createElement(cy,{id:"vidiq-limitToRange",name:"vidiq-limitToRange",label:o.text,checked:o.value,onChange:s})))))},Ay=Qn(oi,{target:"e16v78rz0"})({name:"13zy9uy",styles:"margin-bottom:24px;.vidiq-select-menu-container:not(:last-child){margin-right:16px;}"}),Iy=({children:e})=>h.createElement(Ay,{justify:"flex-start"},e),Oy=[{value:Fv,text:we.Z.capitalize((0,ai.Z)("vphStatLabel"))},{value:Mv,text:(0,ai.Z)("researchFilterViews")},{value:Av,text:(0,ai.Z)("researchFilterEngagements")}],Ny=[{value:Iv,text:(0,ai.Z)("researchFilterPast48Hours")},{value:Ov,text:(0,ai.Z)("researchPastNDays",["7"])},{value:Nv,text:(0,ai.Z)("researchPastNDays",["30"])},{value:Pv,text:(0,ai.Z)("researchFilterPast6Months")}],Py=({sort:e,range:t,onChangeSelector:n,disabled:i})=>{const[r,a]=(0,h.useState)(e),[o,s]=(0,h.useState)(t),l=(0,h.useCallback)((e=>{a(e),n("sort",e),ht("changed video metrics on most viewed",{"changed to":Hv[e]})}),[n]),c=(0,h.useCallback)((e=>{s(e),n("range",e),ht("changed time filters on most viewed",{"changed to":Wv[e]})}),[n]);return h.createElement(Iy,null,h.createElement(My,{options:Oy,initSelected:Oy.find((e=>e.value===r))||Oy[0],onChangeSelected:l,extraBoxText:`${(0,ai.Z)("sortBy")}:`,alignModal:"left",disabled:i}),h.createElement(My,{options:Ny,initSelected:Ny.find((e=>e.value===o))||Ny[0],onChangeSelected:c,extraBoxText:`${(0,ai.Z)("dateRange")}:`,alignModal:"left",disabled:i}))};const Ry=Qn("div",{target:"e6c26ba1"})({name:"13udsys",styles:"height:100%"}),jy=Qn("div",{target:"e6c26ba0"})({name:"p1mb1",styles:"display:flex;flex-flow:column;height:100%;width:100%;box-sizing:border-box;padding:16px 0 16px 16px"}),Ly=({loading:e,videos:t,totalResults:n,size:i,offset:r,error:a,sort:o,range:s,selectorsDisabled:l,updateParameters:c})=>h.createElement(Ry,null,h.createElement(jy,null,h.createElement(Py,{sort:o,range:s,onChangeSelector:(e,t)=>{c({[e]:t})},disabled:l}),h.createElement(ay,{loading:e,videos:t,error:a,totalResults:n,size:i,offset:r,loadMoreResults:e=>{c({offset:e})}}))),qy=Qn("div",{target:"ew29ioi0"})(du," align-items:",(e=>e.alignItems||"center"),";justify-content:center;border:1px solid var(--border-primary);border-radius:12px;box-sizing:border-box;padding:",(e=>e.padding||"16px"),";",(e=>e.width&&`width: ${e.width};`)," ",(e=>e.minWidth&&`min-width: ${e.minWidth};`),";");function Zy(){return Zy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zy.apply(this,arguments)}function By(e){return h.createElement("svg",Zy({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),h.createElement("path",{fill:"currentColor",stroke:"currentColor",strokeWidth:"0.5",d:"M21.104 9.247l.007.001.008.001a.75.75 0 01.642.494.75.75 0 01-.243.756l-.006.006-.006.005-4.13 4-.095.093.023.13 1 5.68h0v.004a.75.75 0 01-.3.75h0a.75.75 0 01-.443.143h-.002a.68.68 0 01-.336-.088h0l-.007-.004-5.1-2.67-.116-.06-.116.06-5.1 2.67v0l-.007.004a.75.75 0 01-1.07-.386.75.75 0 01-.033-.424h0l.002-.009 1-5.68.023-.13-.095-.093-4.129-3.998a.75.75 0 01-.187-.747.75.75 0 01.607-.508h.002l5.69-.84.13-.019.057-.117 2.55-5.16.001-.002a.75.75 0 011.073-.309.75.75 0 01.277.309v.002l2.55 5.17.059.117.13.02 5.69.83zm-5.08 4.602h0l.002-.002 3-2.99.355-.353-.495-.071-4.21-.61h-.002a.75.75 0 01-.57-.413h0l-1.88-3.82-.23-.468-.22.472-1.78 3.808a.75.75 0 01-.568.41h-.002l-4.21.61-.494.072.353.353 3 3 .003.002a.75.75 0 01.217.66v0l-.72 4.199-.086.502.45-.24 3.757-1.997a.81.81 0 01.712 0l3.757 1.998.45.24-.087-.503-.72-4.199h0a.75.75 0 01.218-.66z"}))}function Vy(){return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},h.createElement("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm0 22C6.5 22 2 17.5 2 12S6.5 2 12 2s10 4.5 10 10-4.5 10-10 10zm4.3-12.9L13.4 12l2.9 2.9c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0L12 13.4l-2.9 2.9c-.4.4-1 .4-1.4 0-.4-.4-.4-1 0-1.4l2.9-2.9-2.9-2.9c-.4-.4-.4-1 0-1.4.4-.4 1-.4 1.4 0l2.9 2.9 2.9-2.9c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4z"}))}function zy(){return zy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zy.apply(this,arguments)}function Uy({...e}){return h.createElement("svg",zy({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.66667 3.33334H13.3333C13.5101 3.33334 13.6797 3.40358 13.8047 3.52861C13.9298 3.65363 14 3.8232 14 4.00001C14 4.17682 13.9298 4.34639 13.8047 4.47141C13.6797 4.59644 13.5101 4.66668 13.3333 4.66668H2.66667C2.48986 4.66668 2.32029 4.59644 2.19526 4.47141C2.07024 4.34639 2 4.17682 2 4.00001C2 3.8232 2.07024 3.65363 2.19526 3.52861C2.32029 3.40358 2.48986 3.33334 2.66667 3.33334ZM2.66667 7.33334H13.3333C13.5101 7.33334 13.6797 7.40358 13.8047 7.52861C13.9298 7.65363 14 7.8232 14 8.00001C14 8.17682 13.9298 8.34639 13.8047 8.47141C13.6797 8.59644 13.5101 8.66668 13.3333 8.66668H2.66667C2.48986 8.66668 2.32029 8.59644 2.19526 8.47141C2.07024 8.34639 2 8.17682 2 8.00001C2 7.8232 2.07024 7.65363 2.19526 7.52861C2.32029 7.40358 2.48986 7.33334 2.66667 7.33334ZM2.66667 11.3333H13.3333C13.5101 11.3333 13.6797 11.4036 13.8047 11.5286C13.9298 11.6536 14 11.8232 14 12C14 12.1768 13.9298 12.3464 13.8047 12.4714C13.6797 12.5964 13.5101 12.6667 13.3333 12.6667H2.66667C2.48986 12.6667 2.32029 12.5964 2.19526 12.4714C2.07024 12.3464 2 12.1768 2 12C2 11.8232 2.07024 11.6536 2.19526 11.5286C2.32029 11.4036 2.48986 11.3333 2.66667 11.3333Z"}))}function Wy(){return Wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wy.apply(this,arguments)}function Hy({...e}){return h.createElement("svg",Wy({width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M6.3547 0.238441L3.0547 3.57069L1.7547 2.25799C1.66429 2.15298 1.55337 2.06797 1.4289 2.00829C1.30442 1.94861 1.16907 1.91556 1.03135 1.91119C0.89362 1.90683 0.756487 1.93126 0.628551 1.98294C0.500616 2.03463 0.384638 2.11245 0.287896 2.21154C0.191154 2.31062 0.115736 2.42882 0.0663719 2.55873C0.017008 2.68863 -0.00523578 2.82744 0.00103662 2.96644C0.00730901 3.10543 0.041962 3.24162 0.102821 3.36646C0.163681 3.49129 0.249433 3.60208 0.354698 3.69186L2.3547 5.71141C2.54163 5.89643 2.79295 6.00006 3.0547 6.00006C3.31645 6.00006 3.56777 5.89643 3.7547 5.71141L7.7547 1.67232C7.91998 1.48034 8.00741 1.23244 7.99951 0.978182C7.99161 0.723925 7.88897 0.482046 7.7121 0.300899C7.53524 0.119753 7.29718 0.012688 7.04552 0.00110859C6.79386 -0.0104709 6.54715 0.0742882 6.3547 0.238441Z",fill:"white"}))}const Yy=Qn(oi,{target:"e1306asd3"})("border:2px solid #5a06cb;border-radius:6px;box-shadow:0px 20px 30px rgba(0, 0, 0, 0.08);padding:",(e=>"row"===e.flow?"12px":"24px"),";",(e=>e.margin&&`margin: ${e.margin};`)," position:",(e=>e.foggyWindow||e.absolute?"absolute":"relative"),";background:",(e=>e.foggyWindow?"var(--background-tinted-translucent)":"var(--background-tinted)"),";text-align:center;box-sizing:border-box;",(e=>e.top&&`top: ${e.top};`)," ",(e=>e.left&&`left: ${e.left};`)," ",(e=>e.bottom&&`bottom: ${e.bottom};`)," ",(e=>e.height&&`height: ${e.height};`)," ",(e=>e.width&&`width: ${e.width};`),";"),$y=Qn(tc,{target:"e1306asd2"})("display:flex;align-items:center;background:linear-gradient(90deg, #0979ff, #5a06cb);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;svg{width:",(e=>"m"===e.size?"16px":"24px"),";height:",(e=>"m"===e.size?"16px":"24px"),";margin-left:4px;color:#5a06cb;}"),Ky=Qn("div",{target:"e1306asd1"})({name:"1p8y4vt",styles:"position:absolute;right:0;top:1px;padding:inherit;cursor:pointer;color:var(--text-primary);width:16px;height:16px"}),Gy=Qn("div",{target:"e1306asd0"})({name:"uc3ena",styles:"font-weight:600;font-size:12px;line-height:16px;color:#fff;background:linear-gradient(114.94deg, #0979ff 9.66%, #5a06cb 87.27%);border-radius:4px;margin-right:10px;padding:1px 2.5px"});const Xy=xs,Qy=({code:e,plan:t,variant:n,header:i,text:r,actionText:a,dismissKey:o,newBadge:s,margin:c,foggyWindow:u,absolute:d,height:p,width:f,top:m,left:g,bottom:v})=>{const{isVisible:y,onDismiss:b}=function(e){const[t,n]=(0,h.useState)(void 0===e);return(0,h.useEffect)((()=>{!async function(){void 0!==e&&!0!==await l.get(e)&&n(!0)}()}),[e]),{isVisible:t,onDismiss:(0,h.useCallback)((async()=>{void 0!==e&&(await l.set({[e]:!1}),n(!1))}),[e])}}(o),_=()=>{vt.reportSessionTokenToOtherProperties(),Xy.handler(e,t)};return y?"link"===n?h.createElement($y,{size:"m",cursor:"pointer",onClick:_},a||(0,ai.Z)("modalUpsellButton"),h.createElement(By,null)):"inline"===n?h.createElement(Yy,{flow:"row",margin:c,width:f},s&&h.createElement(Gy,null,(0,ai.Z)("newTitle")),void 0!==r&&h.createElement(tc,{size:"m",fontWeight:"bold",margin:"0 4px 0 0"},r),h.createElement($y,{size:"m",fontWeight:"bold",cursor:"pointer",onClick:_},a||(0,ai.Z)("modalUpsellButton"),h.createElement(By,null)),void 0!==o&&h.createElement(Ky,{onClick:b},h.createElement(Vy,null))):"button"===n?h.createElement($c,{onClick:_,variant:"gradient",fontWeight:"bold"},a||(0,ai.Z)("modalUpsellButton")):h.createElement(Yy,{flow:"column",margin:c,foggyWindow:u,height:p,width:f,bottom:v,top:m,left:g,absolute:d},i&&h.createElement($y,{size:"xl",fontWeight:"bold",margin:"0 0 16px 0"},i,h.createElement(By,null)),r&&h.createElement(tc,{size:"m",fontWeight:"bold",margin:"0 0 16px 0"},r),h.createElement($c,{onClick:_,variant:"gradient",fontWeight:"bold"},a||(0,ai.Z)("modalUpsellButton"))):null},Jy=[{value:[null,null],label:(0,ai.Z)("anyLabel"),trackingLabel:"any"},{value:[0,1e3],label:(0,ai.Z)("researchFilterUpTo1k"),trackingLabel:"up to 1k"},{value:[1e3,1e4],label:(0,ai.Z)("mostViewedFilter1Kto10K"),trackingLabel:"1k to 10k"},{value:[1e4,1e5],label:(0,ai.Z)("mostViewedFilter10Kto100K"),trackingLabel:"10k to 100k"},{value:[1e5,1e6],label:(0,ai.Z)("mostViewedFilter100Kto1M"),trackingLabel:"100k to 1m"},{value:[1e6,null],label:(0,ai.Z)("mostViewedFilter1MorMore"),trackingLabel:"1m or more"}],eb=[{label:(0,ai.Z)("anyLabel"),value:null,trackingLabel:"any"},{label:(0,ai.Z)("researchFilterUpTo1k"),value:0,trackingLabel:"up to 1k"},{label:(0,ai.Z)("researchFilterOver1k"),value:1e3,trackingLabel:"over 1k"},{label:(0,ai.Z)("researchFilterOver10k"),value:1e4,trackingLabel:"over 10k"},{label:(0,ai.Z)("researchFilterOver100k"),value:1e5,trackingLabel:"over 100k"},{label:(0,ai.Z)("researchFilterOver1m"),value:1e6,trackingLabel:"over 1m"},{label:(0,ai.Z)("researchFilterOver10m"),value:1e7,trackingLabel:"over 10m"},{label:(0,ai.Z)("researchFilterOver100m"),value:1e8,trackingLabel:"over 100m"},{label:(0,ai.Z)("researchFilterOver1b"),value:1e9,trackingLabel:"over 1b"}],tb=[{label:(0,ai.Z)("anyLabel"),value:null,trackingLabel:"any"},{label:(0,ai.Z)("researchFilterUpTo100"),value:0,trackingLabel:"up to 100"},{label:(0,ai.Z)("researchFilterOver100"),value:100,trackingLabel:"over 100"},{label:(0,ai.Z)("researchFilterOver1k"),value:1e3,trackingLabel:"over 1k"},{label:(0,ai.Z)("researchFilterOver5k"),value:5e3,trackingLabel:"over 5k"},{label:(0,ai.Z)("researchFilterOver10k"),value:1e4,trackingLabel:"over 10k"},{label:(0,ai.Z)("researchFilterOver50k"),value:5e4,trackingLabel:"over 50k"},{label:(0,ai.Z)("researchFilterOver100k"),value:1e5,trackingLabel:"over 100k"}];function nb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ib(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function rb(e,t,n){return t&&ib(e.prototype,t),n&&ib(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ab=__webpack_require__(9611);function ob(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,ab.Z)(e,t)}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sb(e)}function lb(e){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ub(e,t){if(t&&("object"===lb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cb(e)}function db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sb(e);if(t){var r=sb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ub(this,n)}}var hb={};function pb(e,t){0}function fb(e,t,n){t||hb[n]||(e(!1,n),hb[n]=!0)}const mb=function(e,t){fb(pb,e,t)};const gb=function(e){var t,n,i=e.className,r=e.included,a=e.vertical,o=e.style,s=e.length,l=e.offset,c=e.reverse;s<0&&(c=!c,s=Math.abs(s),l=100-l);var u=a?(pi(t={},c?"top":"bottom","".concat(l,"%")),pi(t,c?"bottom":"top","auto"),pi(t,"height","".concat(s,"%")),t):(pi(n={},c?"right":"left","".concat(l,"%")),pi(n,c?"left":"right","auto"),pi(n,"width","".concat(s,"%")),n),d=mi(mi({},o),u);return r?h.createElement("div",{className:i,style:d}):null};function vb(e,t){if(null==e)return{};var n,i,r=Pi(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function bb(e,t){if(e){if("string"==typeof e)return yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yb(e,t):void 0}}function _b(e){return function(e){if(Array.isArray(e))return yb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sb(e)););return e}function kb(){return kb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=wb(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},kb.apply(this,arguments)}function xb(e,t,n,i){var r=Yo.unstable_batchedUpdates?function(e){Yo.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,r,i),{remove:function(){e.removeEventListener&&e.removeEventListener(t,r)}}}const Eb=function(e){var t=e.prefixCls,n=e.vertical,i=e.reverse,r=e.marks,a=e.dots,o=e.step,s=e.included,l=e.lowerBound,c=e.upperBound,u=e.max,d=e.min,p=e.dotStyle,f=e.activeDotStyle,m=u-d,g=function(e,t,n,i,r,a){mb(!n||i>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var o=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&i)for(var s=r;s<=a;s+=i)-1===o.indexOf(s)&&o.push(s);return o}(0,r,a,o,d,u).map((function(e){var r,a="".concat(Math.abs(e-d)/m*100,"%"),o=!s&&e===c||s&&e<=c&&e>=l,u=mi(mi({},p),{},pi({},n?i?"top":"bottom":i?"right":"left",a));o&&(u=mi(mi({},u),f));var g=Fo()((pi(r={},"".concat(t,"-dot"),!0),pi(r,"".concat(t,"-dot-active"),o),pi(r,"".concat(t,"-dot-reverse"),i),r));return h.createElement("span",{className:g,style:u,key:e})}));return h.createElement("div",{className:"".concat(t,"-step")},g)};const Cb=function(e){var t=e.className,n=e.vertical,i=e.reverse,r=e.marks,a=e.included,o=e.upperBound,s=e.lowerBound,l=e.max,c=e.min,u=e.onClickLabel,d=Object.keys(r),p=l-c,f=d.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var l,d=r[e],f="object"===lb(d)&&!h.isValidElement(d),m=f?d.label:d;if(!m&&0!==m)return null;var g=!a&&e===o||a&&e<=o&&e>=s,v=Fo()((pi(l={},"".concat(t,"-text"),!0),pi(l,"".concat(t,"-text-active"),g),l)),y=pi({marginBottom:"-50%"},i?"top":"bottom","".concat((e-c)/p*100,"%")),b=pi({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((e-c)/p*100,"%")),_=n?y:b,w=f?mi(mi({},_),d.style):_;return h.createElement("span",{className:v,style:w,key:e,onMouseDown:function(t){return u(t,e)},onTouchStart:function(t){return u(t,e)}},m)}));return h.createElement("div",{className:t},f)};var Sb=function(e){ob(n,e);var t=db(n);function n(){var e;return nb(this,n),(e=t.apply(this,arguments)).state={clickFocused:!1},e.setHandleRef=function(t){e.handle=t},e.handleMouseUp=function(){document.activeElement===e.handle&&e.setClickFocus(!0)},e.handleMouseDown=function(t){t.preventDefault(),e.focus()},e.handleBlur=function(){e.setClickFocus(!1)},e.handleKeyDown=function(){e.setClickFocus(!1)},e}return rb(n,[{key:"componentDidMount",value:function(){this.onMouseUpListener=xb(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,n,i=this.props,r=i.prefixCls,a=i.vertical,o=i.reverse,s=i.offset,l=i.style,c=i.disabled,u=i.min,d=i.max,p=i.value,f=i.tabIndex,m=i.ariaLabel,g=i.ariaLabelledBy,v=i.ariaValueTextFormatter,y=vb(i,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),b=Fo()(this.props.className,pi({},"".concat(r,"-handle-click-focused"),this.state.clickFocused)),_=a?(pi(e={},o?"top":"bottom","".concat(s,"%")),pi(e,o?"bottom":"top","auto"),pi(e,"transform",o?null:"translateY(+50%)"),e):(pi(t={},o?"right":"left","".concat(s,"%")),pi(t,o?"left":"right","auto"),pi(t,"transform","translateX(".concat(o?"+":"-","50%)")),t),w=mi(mi({},l),_),k=f||0;return(c||null===f)&&(k=null),v&&(n=v(p)),h.createElement("div",(0,kt.Z)({ref:this.setHandleRef,tabIndex:k},y,{className:b,style:w,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":u,"aria-valuemax":d,"aria-valuenow":p,"aria-disabled":!!c,"aria-label":m,"aria-labelledby":g,"aria-valuetext":n}))}}]),n}(h.Component),Tb={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Tb.F1&&t<=Tb.F12)return!1;switch(t){case Tb.ALT:case Tb.CAPS_LOCK:case Tb.CONTEXT_MENU:case Tb.CTRL:case Tb.DOWN:case Tb.END:case Tb.ESC:case Tb.HOME:case Tb.INSERT:case Tb.LEFT:case Tb.MAC_FF_META:case Tb.META:case Tb.NUMLOCK:case Tb.NUM_CENTER:case Tb.PAGE_DOWN:case Tb.PAGE_UP:case Tb.PAUSE:case Tb.PRINT_SCREEN:case Tb.RIGHT:case Tb.SHIFT:case Tb.UP:case Tb.WIN_KEY:case Tb.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Tb.ZERO&&e<=Tb.NINE)return!0;if(e>=Tb.NUM_ZERO&&e<=Tb.NUM_MULTIPLY)return!0;if(e>=Tb.A&&e<=Tb.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Tb.SPACE:case Tb.QUESTION_MARK:case Tb.NUM_PLUS:case Tb.NUM_MINUS:case Tb.NUM_PERIOD:case Tb.NUM_DIVISION:case Tb.SEMICOLON:case Tb.DASH:case Tb.EQUALS:case Tb.COMMA:case Tb.PERIOD:case Tb.SLASH:case Tb.APOSTROPHE:case Tb.SINGLE_QUOTE:case Tb.OPEN_SQUARE_BRACKET:case Tb.BACKSLASH:case Tb.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const Db=Tb;function Fb(e,t){try{return Object.keys(t).some((function(n){return e.target===(0,Yo.findDOMNode)(t[n])}))}catch(e){return!1}}function Mb(e,t){var n=t.min,i=t.max;return e<n||e>i}function Ab(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function Ib(e,t){var n=t.marks,i=t.step,r=t.min,a=t.max,o=Object.keys(n).map(parseFloat);if(null!==i){var s=Math.pow(10,Ob(i)),l=Math.floor((a*s-r*s)/(i*s)),c=Math.min((e-r)/i,l),u=Math.round(c)*i+r;o.push(u)}var d=o.map((function(t){return Math.abs(e-t)}));return o[d.indexOf(Math.min.apply(Math,_b(d)))]}function Ob(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function Nb(e,t){return e?t.clientY:t.pageX}function Pb(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function Rb(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function jb(e,t){var n=t.max,i=t.min;return e<=i?i:e>=n?n:e}function Lb(e,t){var n=t.step,i=isFinite(Ib(e,t))?Ib(e,t):0;return null===n?i:parseFloat(i.toFixed(Ob(n)))}function qb(e){e.stopPropagation(),e.preventDefault()}function Zb(e,t,n){var i="increase",r="decrease",a=i;switch(e.keyCode){case Db.UP:a=t&&n?r:i;break;case Db.RIGHT:a=!t&&n?r:i;break;case Db.DOWN:a=t&&n?i:r;break;case Db.LEFT:a=!t&&n?i:r;break;case Db.END:return function(e,t){return t.max};case Db.HOME:return function(e,t){return t.min};case Db.PAGE_UP:return function(e,t){return e+2*t.step};case Db.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,n){var i={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},r=i[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),a=Object.keys(n.marks)[r];return n.step?i[e](t,n.step):Object.keys(n.marks).length&&n.marks[a]?n.marks[a]:t}(a,e,t)}}function Bb(){}function Vb(e){var t;return t=function(e){ob(n,e);var t=db(n);function n(e){var i;nb(this,n),(i=t.call(this,e)).onDown=function(e,t){var n=t,r=i.props,a=r.draggableTrack,o=r.vertical,s=i.state.bounds,l=a&&i.positionGetValue&&i.positionGetValue(n)||[],c=Fb(e,i.handlesRefs);if(i.dragTrack=a&&s.length>=2&&!c&&!l.map((function(e,t){var n=!!t||e>=s[t];return t===l.length-1?e<=s[t]:n})).some((function(e){return!e})),i.dragTrack)i.dragOffset=n,i.startBounds=_b(s);else{if(c){var u=Rb(o,e.target);i.dragOffset=n-u,n=u}else i.dragOffset=0;i.onStart(n)}},i.onMouseDown=function(e){if(0===e.button){i.removeDocumentEvents();var t=Nb(i.props.vertical,e);i.onDown(e,t),i.addDocumentMouseEvents()}},i.onTouchStart=function(e){if(!Ab(e)){var t=Pb(i.props.vertical,e);i.onDown(e,t),i.addDocumentTouchEvents(),qb(e)}},i.onFocus=function(e){var t=i.props,n=t.onFocus,r=t.vertical;if(Fb(e,i.handlesRefs)&&!i.dragTrack){var a=Rb(r,e.target);i.dragOffset=0,i.onStart(a),qb(e),n&&n(e)}},i.onBlur=function(e){var t=i.props.onBlur;i.dragTrack||i.onEnd(),t&&t(e)},i.onMouseUp=function(){i.handlesRefs[i.prevMovedHandleIndex]&&i.handlesRefs[i.prevMovedHandleIndex].clickFocus()},i.onMouseMove=function(e){if(i.sliderRef){var t=Nb(i.props.vertical,e);i.onMove(e,t-i.dragOffset,i.dragTrack,i.startBounds)}else i.onEnd()},i.onTouchMove=function(e){if(!Ab(e)&&i.sliderRef){var t=Pb(i.props.vertical,e);i.onMove(e,t-i.dragOffset,i.dragTrack,i.startBounds)}else i.onEnd()},i.onKeyDown=function(e){i.sliderRef&&Fb(e,i.handlesRefs)&&i.onKeyboard(e)},i.onClickMarkLabel=function(e,t){e.stopPropagation(),i.onChange({value:t}),i.setState({value:t},(function(){return i.onEnd(!0)}))},i.saveSlider=function(e){i.sliderRef=e};var r=e.step,a=e.max,o=e.min,s=!isFinite(a-o)||(a-o)%r==0;return mb(!r||Math.floor(r)!==r||s,"Slider[max] - Slider[min] (".concat(a-o,") should be a multiple of Slider[step] (").concat(r,")")),i.handlesRefs={},i}return rb(n,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){kb(sb(n.prototype),"componentWillUnmount",this)&&kb(sb(n.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,i=t.reverse,r=e.getBoundingClientRect();return n?i?r.bottom:r.top:window.pageXOffset+(i?r.right:r.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=xb(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=xb(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=xb(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=xb(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var e;this.props.disabled||null===(e=this.handlesRefs[0])||void 0===e||e.focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){var n,i;null===(n=e.handlesRefs[t])||void 0===n||null===(i=n.blur)||void 0===i||i.call(n)}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,i=t.min,r=t.max,a=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-a)*(r-i)+i:a*(r-i)+i}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,i=(e-n)/(t.max-n);return Math.max(0,100*i)}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,t=this.props,i=t.prefixCls,r=t.className,a=t.marks,o=t.dots,s=t.step,l=t.included,c=t.disabled,u=t.vertical,d=t.reverse,p=t.min,f=t.max,m=t.children,g=t.maximumTrackStyle,v=t.style,y=t.railStyle,b=t.dotStyle,_=t.activeDotStyle,w=kb(sb(n.prototype),"render",this).call(this),k=w.tracks,x=w.handles,E=Fo()(i,(pi(e={},"".concat(i,"-with-marks"),Object.keys(a).length),pi(e,"".concat(i,"-disabled"),c),pi(e,"".concat(i,"-vertical"),u),pi(e,r,r),e));return h.createElement("div",{ref:this.saveSlider,className:E,onTouchStart:c?Bb:this.onTouchStart,onMouseDown:c?Bb:this.onMouseDown,onMouseUp:c?Bb:this.onMouseUp,onKeyDown:c?Bb:this.onKeyDown,onFocus:c?Bb:this.onFocus,onBlur:c?Bb:this.onBlur,style:v},h.createElement("div",{className:"".concat(i,"-rail"),style:mi(mi({},g),y)}),k,h.createElement(Eb,{prefixCls:i,vertical:u,reverse:d,marks:a,dots:o,step:s,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:f,min:p,dotStyle:b,activeDotStyle:_}),x,h.createElement(Cb,{className:"".concat(i,"-mark"),onClickLabel:c?Bb:this.onClickMarkLabel,vertical:u,marks:a,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:f,min:p,reverse:d}),m)}}]),n}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=mi(mi({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=vb(e,["index"]);return delete n.dragging,null===n.value?null:h.createElement(Sb,(0,kt.Z)({},n,{key:t}))},onBeforeChange:Bb,onChange:Bb,onAfterChange:Bb,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var zb=function(e){ob(n,e);var t=db(n);function n(e){var i;nb(this,n),(i=t.call(this,e)).positionGetValue=function(e){return[]},i.onEnd=function(e){var t=i.state.dragging;i.removeDocumentEvents(),(t||e)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var r=void 0!==e.defaultValue?e.defaultValue:e.min,a=void 0!==e.value?e.value:r;return i.state={value:i.trimAlignValue(a),dragging:!1},mb(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),mb(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return rb(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,i=n.min,r=n.max,a=n.value,o=n.onChange;if("min"in this.props||"max"in this.props){var s=void 0!==a?a:t.value,l=this.trimAlignValue(s,this.props);l!==t.value&&(this.setState({value:l}),i===e.min&&r===e.max||!Mb(s,this.props)||o(l))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),i=e.value>this.props.max?mi(mi({},e),{},{value:this.props.max}):e;n&&this.setState(i);var r=i.value;t.onChange(r)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e,i!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:i}))}},{key:"onMove",value:function(e,t){qb(e);var n=this.state.value,i=this.calcValueByPos(t);i!==n&&this.onChange({value:i})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,i=Zb(e,t.vertical,n);if(i){qb(e);var r=this.state.value,a=i(r,this.props),o=this.trimAlignValue(a);if(o===r)return;this.onChange({value:o}),this.props.onAfterChange(o),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var e=this.props.startPoint||this.props.min;return this.state.value>e?e:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=mi(mi({},this.props),t),i=jb(e,n);return Lb(i,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,i=t.vertical,r=t.included,a=t.disabled,o=t.minimumTrackStyle,s=t.trackStyle,l=t.handleStyle,c=t.tabIndex,u=t.ariaLabelForHandle,d=t.ariaLabelledByForHandle,p=t.ariaValueTextFormatterForHandle,f=t.min,m=t.max,g=t.startPoint,v=t.reverse,y=t.handle,b=this.state,_=b.value,w=b.dragging,k=this.calcOffset(_),x=y({className:"".concat(n,"-handle"),prefixCls:n,vertical:i,offset:k,value:_,dragging:w,disabled:a,min:f,max:m,reverse:v,index:0,tabIndex:c,ariaLabel:u,ariaLabelledBy:d,ariaValueTextFormatter:p,style:l[0]||l,ref:function(t){return e.saveHandle(0,t)}}),E=void 0!==g?this.calcOffset(g):0,C=s[0]||s;return{tracks:h.createElement(gb,{className:"".concat(n,"-track"),vertical:i,included:r,offset:E,reverse:v,length:k-E,style:mi(mi({},o),C)}),handles:x}}}]),n}(h.Component);const Ub=Vb(zb);var Wb=function(e){var t=e.value,n=e.handle,i=e.bounds,r=e.props,a=r.allowCross,o=r.pushable,s=Number(o),l=jb(t,r),c=l;return a||null==n||void 0===i||(n>0&&l<=i[n-1]+s&&(c=i[n-1]+s),n<i.length-1&&l>=i[n+1]-s&&(c=i[n+1]-s)),Lb(c,r)},Hb=function(e){ob(n,e);var t=db(n);function n(e){var i;nb(this,n),(i=t.call(this,e)).positionGetValue=function(e){var t=i.getValue(),n=i.calcValueByPos(e),r=i.getClosestBound(n),a=i.getBoundNeedMoving(n,r);if(n===t[a])return null;var o=_b(t);return o[a]=n,o},i.onEnd=function(e){var t=i.state.handle;i.removeDocumentEvents(),t||(i.dragTrack=!1),(null!==t||e)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var r=e.count,a=e.min,o=e.max,s=Array.apply(void 0,_b(Array(r+1))).map((function(){return a})),l="defaultValue"in e?e.defaultValue:s,c=(void 0!==e.value?e.value:l).map((function(t,n){return Wb({value:t,handle:n,props:e})})),u=c[0]===o?0:c.length-1;return i.state={handle:null,recent:u,bounds:c},i}return rb(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this,i=this.props,r=i.onChange,a=i.value,o=i.min,s=i.max;if(("min"in this.props||"max"in this.props)&&(o!==e.min||s!==e.max)){var l=a||t.bounds;if(l.some((function(e){return Mb(e,n.props)}))){var c=l.map((function(e){return jb(e,n.props)}));r(c)}}}},{key:"onChange",value:function(e){var t=this.props;if(!("value"in t))this.setState(e);else{var n={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),Object.keys(n).length&&this.setState(n)}var i=mi(mi({},this.state),e).bounds;t.onChange(i)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,i=this.getValue();t.onBeforeChange(i);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e;var a=this.getClosestBound(r);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(r,a),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),r!==i[this.prevMovedHandleIndex]){var o=_b(n.bounds);o[this.prevMovedHandleIndex]=r,this.onChange({bounds:o})}}},{key:"onMove",value:function(e,t,n,i){qb(e);var r=this.state,a=this.props,o=a.max||100,s=a.min||0;if(n){var l=a.vertical?-t:t;l=a.reverse?-l:l;var c=o-Math.max.apply(Math,_b(i)),u=s-Math.min.apply(Math,_b(i)),d=Math.min(Math.max(l/(this.getSliderLength()/(o-s)),u),c),h=i.map((function(e){return Math.floor(Math.max(Math.min(e+d,o),s))}));r.bounds.map((function(e,t){return e===h[t]})).some((function(e){return!e}))&&this.onChange({bounds:h})}else{var p=this.calcValueByPos(t);p!==r.bounds[r.handle]&&this.moveTo(p)}}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,i=Zb(e,t.vertical,n);if(i){qb(e);var r=this.state,a=this.props,o=r.bounds,s=r.handle,l=o[null===s?r.recent:s],c=i(l,a),u=Wb({value:c,handle:s,bounds:r.bounds,props:a});if(u===l)return;this.moveTo(u,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,i=1;i<t.length-1;i+=1)e>=t[i]&&(n=i);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,i=n.bounds,r=n.recent,a=t,o=i[t+1]===i[t];return o&&i[r]===i[t]&&(a=r),o&&e!==i[t+1]&&(a=e<i[t+1]?t:t+1),a}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,i=e.min,r=e.max,a=this.internalPointsCache;if(!a||a.marks!==t||a.step!==n){var o=mi({},t);if(null!==n)for(var s=i;s<=r;s+=n)o[s]=s;var l=Object.keys(o).map(parseFloat);l.sort((function(e,t){return e-t})),this.internalPointsCache={marks:t,step:n,points:l}}return this.internalPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,i=this.state,r=this.props,a=_b(i.bounds),o=null===i.handle?i.recent:i.handle;a[o]=e;var s=o;!1!==r.pushable?this.pushSurroundingHandles(a,s):r.allowCross&&(a.sort((function(e,t){return e-t})),s=a.indexOf(e)),this.onChange({recent:s,handle:s,bounds:a}),t&&(this.props.onAfterChange(a),this.setState({},(function(){n.handlesRefs[s].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],i=this.props.pushable,r=Number(i),a=0;if(e[t+1]-n<r&&(a=1),n-e[t-1]<r&&(a=-1),0!==a){var o=t+a,s=a*(e[o]-n);this.pushHandle(e,o,a,r-s)||(e[t]=e[o]-a*r)}}},{key:"pushHandle",value:function(e,t,n,i){for(var r=e[t],a=e[t];n*(a-r)<i;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=r,!1;a=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var i=this.getPoints(),r=i.indexOf(e[t])+n;if(r>=i.length||r<0)return!1;var a=t+n,o=i[r],s=this.props.pushable,l=Number(s),c=n*(e[a]-o);return!!this.pushHandle(e,a,n,l-c)&&(e[t]=o,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,i=t.bounds;return Wb({value:e,handle:n,bounds:i,props:this.props})}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,i=t.bounds,r=this.props,a=r.prefixCls,o=r.vertical,s=r.included,l=r.disabled,c=r.min,u=r.max,d=r.reverse,p=r.handle,f=r.trackStyle,m=r.handleStyle,g=r.tabIndex,v=r.ariaLabelGroupForHandles,y=r.ariaLabelledByGroupForHandles,b=r.ariaValueTextFormatterGroupForHandles,_=i.map((function(t){return e.calcOffset(t)})),w="".concat(a,"-handle"),k=i.map((function(t,i){var r,s=g[i]||0;(l||null===g[i])&&(s=null);var h=n===i;return p({className:Fo()((r={},pi(r,w,!0),pi(r,"".concat(w,"-").concat(i+1),!0),pi(r,"".concat(w,"-dragging"),h),r)),prefixCls:a,vertical:o,dragging:h,offset:_[i],value:t,index:i,tabIndex:s,min:c,max:u,reverse:d,disabled:l,style:m[i],ref:function(t){return e.saveHandle(i,t)},ariaLabel:v[i],ariaLabelledBy:y[i],ariaValueTextFormatter:b[i]})})),x=i.slice(0,-1).map((function(e,t){var n,i=t+1,r=Fo()((pi(n={},"".concat(a,"-track"),!0),pi(n,"".concat(a,"-track-").concat(i),!0),n));return h.createElement(gb,{className:r,vertical:o,reverse:d,included:s,offset:_[i-1],length:_[i]-_[i-1],style:f[t],key:i})}));return{tracks:x,handles:k}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!("value"in e||"min"in e||"max"in e))return null;var n=e.value||t.bounds,i=n.map((function(n,i){return Wb({value:n,handle:i,bounds:t.bounds,props:e})}));if(t.bounds.length===i.length){if(i.every((function(e,n){return e===t.bounds[n]})))return null}else i=n.map((function(t,n){return Wb({value:t,handle:n,props:e})}));return mi(mi({},t),{},{bounds:i})}}]),n}(h.Component);Hb.displayName="Range",Hb.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};const Yb=Vb(Hb);var $b=function(e){return+setTimeout(e,16)},Kb=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&($b=function(e){return window.requestAnimationFrame(e)},Kb=function(e){return window.cancelAnimationFrame(e)});var Gb=0,Xb=new Map;function Qb(e){Xb.delete(e)}function Jb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Gb+=1;function i(t){if(0===t)Qb(n),e();else{var r=$b((function(){i(t-1)}));Xb.set(n,r)}}return i(t),n}function e_(e,t){return!!e&&e.contains(t)}function t_(e){return e instanceof HTMLElement?e:Yo.findDOMNode(e)}Jb.cancel=function(e){var t=Xb.get(e);return Qb(t),Kb(t)};var n_=__webpack_require__(9864);function i_(e,t){"function"==typeof e?e(t):"object"===lb(e)&&e&&"current"in e&&(e.current=t)}function r_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter((function(e){return e}));return i.length<=1?i[0]:function(e){t.forEach((function(t){i_(t,e)}))}}function a_(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}const o_=(0,h.forwardRef)((function(e,t){var n=e.didUpdate,i=e.getContainer,r=e.children,a=(0,h.useRef)();(0,h.useImperativeHandle)(t,(function(){return{}}));var o=(0,h.useRef)(!1);return!o.current&&a_()&&(a.current=i(),o.current=!0),(0,h.useEffect)((function(){null==n||n(e)})),(0,h.useEffect)((function(){return function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?Yo.createPortal(r,a.current):null}));function s_(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function l_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||bb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var u_,d_,h_,p_=(u_=a_(),d_="undefined"!=typeof window?window:{},h_={animationend:c_("Animation","AnimationEnd"),transitionend:c_("Transition","TransitionEnd")},u_&&("AnimationEvent"in d_||delete h_.animationend.animation,"TransitionEvent"in d_||delete h_.transitionend.transition),h_),f_={};if(a_()){var m_=document.createElement("div");f_=m_.style}var g_={};function v_(e){if(g_[e])return g_[e];var t=p_[e];if(t)for(var n=Object.keys(t),i=n.length,r=0;r<i;r+=1){var a=n[r];if(Object.prototype.hasOwnProperty.call(t,a)&&a in f_)return g_[e]=t[a],g_[e]}return""}var y_=v_("animationend"),b_=v_("transitionend"),__=!(!y_||!b_),w_=y_||"animationend",k_=b_||"transitionend";function x_(e,t){if(!e)return null;if("object"===lb(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var E_="none",C_="appear",S_="enter",T_="leave",D_="none",F_="prepare",M_="start",A_="active",I_="end";function O_(e){var t=(0,h.useRef)(!1),n=l_((0,h.useState)(e),2),i=n[0],r=n[1];return(0,h.useEffect)((function(){return function(){t.current=!0}}),[]),[i,function(e){t.current||r(e)}]}const N_=a_()?h.useLayoutEffect:h.useEffect;var P_=[F_,M_,A_,I_];function R_(e){return e===A_||e===I_}const j_=function(e,t){var n=l_(O_(D_),2),i=n[0],r=n[1],a=function(){var e=h.useRef(null);function t(){Jb.cancel(e.current)}return h.useEffect((function(){return function(){t()}}),[]),[function n(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Jb((function(){r<=1?i({isCanceled:function(){return a!==e.current}}):n(i,r-1)}));e.current=a},t]}(),o=l_(a,2),s=o[0],l=o[1];return N_((function(){if(i!==D_&&i!==I_){var e=P_.indexOf(i),n=P_[e+1],a=t(i);false===a?r(n):s((function(e){function t(){e.isCanceled()||r(n)}!0===a?t():Promise.resolve(a).then(t)}))}}),[e,i]),h.useEffect((function(){return function(){l()}}),[]),[function(){r(F_)},i]};function L_(e,t,n,i){var r=i.motionEnter,a=void 0===r||r,o=i.motionAppear,s=void 0===o||o,l=i.motionLeave,c=void 0===l||l,u=i.motionDeadline,d=i.motionLeaveImmediately,p=i.onAppearPrepare,f=i.onEnterPrepare,m=i.onLeavePrepare,g=i.onAppearStart,v=i.onEnterStart,y=i.onLeaveStart,b=i.onAppearActive,_=i.onEnterActive,w=i.onLeaveActive,k=i.onAppearEnd,x=i.onEnterEnd,E=i.onLeaveEnd,C=i.onVisibleChanged,S=l_(O_(),2),T=S[0],D=S[1],F=l_(O_(E_),2),M=F[0],A=F[1],I=l_(O_(null),2),O=I[0],N=I[1],P=(0,h.useRef)(!1),R=(0,h.useRef)(null),j=(0,h.useRef)(!1),L=(0,h.useRef)(null);function q(){return n()||L.current}var Z=(0,h.useRef)(!1);function B(e){var t,n=q();e&&!e.deadline&&e.target!==n||(M===C_&&Z.current?t=null==k?void 0:k(n,e):M===S_&&Z.current?t=null==x?void 0:x(n,e):M===T_&&Z.current&&(t=null==E?void 0:E(n,e)),!1===t||j.current||(A(E_),N(null)))}var V=function(e){var t=(0,h.useRef)(),n=(0,h.useRef)(e);n.current=e;var i=h.useCallback((function(e){n.current(e)}),[]);function r(e){e&&(e.removeEventListener(k_,i),e.removeEventListener(w_,i))}return h.useEffect((function(){return function(){r(t.current)}}),[]),[function(e){t.current&&t.current!==e&&r(t.current),e&&e!==t.current&&(e.addEventListener(k_,i),e.addEventListener(w_,i),t.current=e)},r]}(B),z=l_(V,1)[0],U=h.useMemo((function(){var e,t,n;switch(M){case C_:return pi(e={},F_,p),pi(e,M_,g),pi(e,A_,b),e;case S_:return pi(t={},F_,f),pi(t,M_,v),pi(t,A_,_),t;case T_:return pi(n={},F_,m),pi(n,M_,y),pi(n,A_,w),n;default:return{}}}),[M]),W=l_(j_(M,(function(e){if(e===F_){var t=U.prepare;return!!t&&t(q())}var n;Y in U&&N((null===(n=U[Y])||void 0===n?void 0:n.call(U,q(),null))||null);return Y===A_&&(z(q()),u>0&&(clearTimeout(R.current),R.current=setTimeout((function(){B({deadline:!0})}),u))),true})),2),H=W[0],Y=W[1],$=R_(Y);Z.current=$,N_((function(){D(t);var n,i=P.current;(P.current=!0,e)&&(!i&&t&&s&&(n=C_),i&&t&&a&&(n=S_),(i&&!t&&c||!i&&d&&!t&&c)&&(n=T_),n&&(A(n),H()))}),[t]),(0,h.useEffect)((function(){(M===C_&&!s||M===S_&&!a||M===T_&&!c)&&A(E_)}),[s,a,c]),(0,h.useEffect)((function(){return function(){clearTimeout(R.current),j.current=!0}}),[]),(0,h.useEffect)((function(){void 0!==T&&M===E_&&(null==C||C(T))}),[T,M]);var K=O;return U.prepare&&Y===M_&&(K=mi({transition:"none"},K)),[M,Y,K,null!=T?T:t]}var q_=function(e){ob(n,e);var t=db(n);function n(){return nb(this,n),t.apply(this,arguments)}return rb(n,[{key:"render",value:function(){return this.props.children}}]),n}(h.Component);const Z_=q_;const B_=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===lb(e)&&(t=e.transitionSupport);var i=h.forwardRef((function(e,t){var i=e.visible,r=void 0===i||i,a=e.removeOnLeave,o=void 0===a||a,s=e.forceRender,l=e.children,c=e.motionName,u=e.leavedClassName,d=e.eventProps,p=n(e),f=(0,h.useRef)(),m=(0,h.useRef)();var g=l_(L_(p,r,(function(){try{return f.current instanceof HTMLElement?f.current:t_(m.current)}catch(e){return null}}),e),4),v=g[0],y=g[1],b=g[2],_=g[3],w=h.useRef(_);_&&(w.current=!0);var k,x=h.useCallback((function(e){f.current=e,i_(t,e)}),[]),E=mi(mi({},d),{},{visible:r});if(l)if(v!==E_&&n(e)){var C,S;y===F_?S="prepare":R_(y)?S="active":y===M_&&(S="start"),k=l(mi(mi({},E),{},{className:Fo()(x_(c,v),(C={},pi(C,x_(c,"".concat(v,"-").concat(S)),S),pi(C,c,"string"==typeof c),C)),style:b}),x)}else k=_?l(mi({},E),x):!o&&w.current?l(mi(mi({},E),{},{className:u}),x):s?l(mi(mi({},E),{},{style:{display:"none"}}),x):null;else k=null;return h.createElement(Z_,{ref:m},k)}));return i.displayName="CSSMotion",i}(__);var V_="add",z_="keep",U_="remove",W_="removed";function H_(e){var t;return mi(mi({},t=e&&"object"===lb(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Y_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(H_)}function $_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],i=0,r=t.length,a=Y_(e),o=Y_(t);a.forEach((function(e){for(var t=!1,a=i;a<r;a+=1){var s=o[a];if(s.key===e.key){i<a&&(n=n.concat(o.slice(i,a).map((function(e){return mi(mi({},e),{},{status:V_})}))),i=a),n.push(mi(mi({},s),{},{status:z_})),i+=1,t=!0;break}}t||n.push(mi(mi({},e),{},{status:U_}))})),i<r&&(n=n.concat(o.slice(i).map((function(e){return mi(mi({},e),{},{status:V_})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var l=Object.keys(s).filter((function(e){return s[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,i=t.status;return n!==e||i!==U_}))).forEach((function(t){t.key===e&&(t.status=z_)}))})),n}var K_=["component","children","onVisibleChanged"],G_=["status"],X_=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B_,n=function(e){ob(i,e);var n=db(i);function i(){var e;nb(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:mi(mi({},e),{},{status:W_})}))}}))},e}return rb(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,i=this.props,r=i.component,a=i.children,o=i.onVisibleChanged,s=vb(i,K_),l=r||h.Fragment,c={};return X_.forEach((function(e){c[e]=s[e],delete s[e]})),delete s.keys,h.createElement(l,s,n.map((function(n){var i=n.status,r=vb(n,G_),s=i===V_||i===z_;return h.createElement(t,(0,kt.Z)({},c,{key:r.key,visible:s,eventProps:r,onVisibleChanged:function(t){null==o||o(t,{key:r.key}),t||e.removeKey(r.key)}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,i=t.keyEntities,r=Y_(n);return{keyEntities:$_(i,r).filter((function(e){var t=i.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==W_||e.status!==U_}))}}}]),i}(h.Component);n.defaultProps={component:"div"}}(__);const Q_=B_;function J_(e){var t=e.prefixCls,n=e.motion,i=e.animation,r=e.transitionName;return n||(i?{motionName:"".concat(t,"-").concat(i)}:r?{motionName:r}:null)}function ew(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,r=e.mask,a=e.maskMotion,o=e.maskAnimation,s=e.maskTransitionName;if(!r)return null;var l={};return(a||s||o)&&(l=mi({motionAppear:!0},J_({motion:a,prefixCls:t,transitionName:s,animation:o}))),h.createElement(Q_,(0,kt.Z)({},l,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return h.createElement("div",{style:{zIndex:i},className:Fo()("".concat(t,"-mask"),n)})}))}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach((function(t){rw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iw(e){return iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iw(e)}function rw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aw,ow={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function sw(){if(void 0!==aw)return aw;aw="";var e=document.createElement("p").style;for(var t in ow)t+"Transform"in e&&(aw=t);return aw}function lw(){return sw()?"".concat(sw(),"TransitionProperty"):"transitionProperty"}function cw(){return sw()?"".concat(sw(),"Transform"):"transform"}function uw(e,t){var n=lw();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function dw(e,t){var n=cw();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var hw,pw=/matrix\((.*)\)/,fw=/matrix3d\((.*)\)/;function mw(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function gw(e,t,n){var i=n;if("object"!==iw(t))return void 0!==i?("number"==typeof i&&(i="".concat(i,"px")),void(e.style[t]=i)):hw(e,t);for(var r in t)t.hasOwnProperty(r)&&gw(e,r,t[r])}function vw(e,t){var n=e["page".concat(t?"Y":"X","Offset")],i="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var r=e.document;"number"!=typeof(n=r.documentElement[i])&&(n=r.body[i])}return n}function yw(e){return vw(e)}function bw(e){return vw(e,!0)}function _w(e){var t=function(e){var t,n,i,r=e.ownerDocument,a=r.body,o=r&&r.documentElement;return n=(t=e.getBoundingClientRect()).left,i=t.top,{left:n-=o.clientLeft||a.clientLeft||0,top:i-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,i=n.defaultView||n.parentWindow;return t.left+=yw(i),t.top+=bw(i),t}function ww(e){return null!=e&&e==e.window}function kw(e){return ww(e)?e.document:9===e.nodeType?e:e.ownerDocument}var xw=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Ew=/^(top|right|bottom|left)$/;function Cw(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Sw(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Tw(e,t,n){"static"===gw(e,"position")&&(e.style.position="relative");var i=-999,r=-999,a=Cw("left",n),o=Cw("top",n),s=Sw(a),l=Sw(o);"left"!==a&&(i=999),"top"!==o&&(r=999);var c="",u=_w(e);("left"in t||"top"in t)&&(c=function(e){return e.style.transitionProperty||e.style[lw()]}(e)||"",uw(e,"none")),"left"in t&&(e.style[s]="",e.style[a]="".concat(i,"px")),"top"in t&&(e.style[l]="",e.style[o]="".concat(r,"px")),mw(e);var d=_w(e),h={};for(var p in t)if(t.hasOwnProperty(p)){var f=Cw(p,n),m="left"===p?i:r,g=u[p]-d[p];h[f]=f===p?m+g:m-g}gw(e,h),mw(e),("left"in t||"top"in t)&&uw(e,c);var v={};for(var y in t)if(t.hasOwnProperty(y)){var b=Cw(y,n),_=t[y]-u[y];v[b]=y===b?h[b]+_:h[b]-_}gw(e,v)}function Dw(e,t){var n=_w(e),i=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(cw());if(n&&"none"!==n){var i=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}(e),r={x:i.x,y:i.y};"left"in t&&(r.x=i.x+t.left-n.left),"top"in t&&(r.y=i.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),i=n.getPropertyValue("transform")||n.getPropertyValue(cw());if(i&&"none"!==i){var r,a=i.match(pw);a?((r=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,r[5]=t.y,dw(e,"matrix(".concat(r.join(","),")"))):((r=i.match(fw)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,r[13]=t.y,dw(e,"matrix3d(".concat(r.join(","),")")))}else dw(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,r)}function Fw(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Mw(e){return"border-box"===hw(e,"boxSizing")}"undefined"!=typeof window&&(hw=window.getComputedStyle?function(e,t,n){var i=n,r="",a=kw(e);return(i=i||a.defaultView.getComputedStyle(e,null))&&(r=i.getPropertyValue(t)||i[t]),r}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(xw.test(n)&&!Ew.test(t)){var i=e.style,r=i.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,i.left="fontSize"===t?"1em":n||0,n=i.pixelLeft+"px",i.left=r,e.runtimeStyle.left=a}return""===n?"auto":n});var Aw=["margin","border","padding"];function Iw(e,t,n){var i,r={},a=e.style;for(i in t)t.hasOwnProperty(i)&&(r[i]=a[i],a[i]=t[i]);for(i in n.call(e),t)t.hasOwnProperty(i)&&(a[i]=r[i])}function Ow(e,t,n){var i,r,a,o=0;for(r=0;r<t.length;r++)if(i=t[r])for(a=0;a<n.length;a++){var s=void 0;s="border"===i?"".concat(i).concat(n[a],"Width"):i+n[a],o+=parseFloat(hw(e,s))||0}return o}var Nw={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Pw(e,t,n){var i=n;if(ww(e))return"width"===t?Nw.viewportWidth(e):Nw.viewportHeight(e);if(9===e.nodeType)return"width"===t?Nw.docWidth(e):Nw.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,o=Mw(e),s=0;(null==a||a<=0)&&(a=void 0,(null==(s=hw(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===i&&(i=o?1:-1);var l=void 0!==a||o,c=a||s;return-1===i?l?c-Ow(e,["border","padding"],r):s:l?1===i?c:c+(2===i?-Ow(e,["border"],r):Ow(e,["margin"],r)):s+Ow(e,Aw.slice(i),r)}Fw(["Width","Height"],(function(e){Nw["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Nw["viewport".concat(e)](n))},Nw["viewport".concat(e)]=function(t){var n="client".concat(e),i=t.document,r=i.body,a=i.documentElement[n];return"CSS1Compat"===i.compatMode&&a||r&&r[n]||a}}));var Rw={position:"absolute",visibility:"hidden",display:"block"};function jw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t[0];return 0!==r.offsetWidth?i=Pw.apply(void 0,t):Iw(r,Rw,(function(){i=Pw.apply(void 0,t)})),i}function Lw(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Fw(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Nw["outer".concat(t)]=function(t,n){return t&&jw(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Nw[e]=function(t,i){var r=i;return void 0!==r?t?(Mw(t)&&(r+=Ow(t,["padding","border"],n)),gw(t,e,r)):void 0:t&&jw(t,e,-1)}}));var qw={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:kw,offset:function(e,t,n){if(void 0===t)return _w(e);!function(e,t,n){if(n.ignoreShake){var i=_w(e),r=i.left.toFixed(0),a=i.top.toFixed(0),o=t.left.toFixed(0),s=t.top.toFixed(0);if(r===o&&a===s)return}n.useCssRight||n.useCssBottom?Tw(e,t,n):n.useCssTransform&&cw()in document.body.style?Dw(e,t):Tw(e,t,n)}(e,t,n||{})},isWindow:ww,each:Fw,css:gw,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Lw,getWindowScrollLeft:function(e){return yw(e)},getWindowScrollTop:function(e){return bw(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)qw.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Lw(qw,Nw);var Zw=qw.getParent;function Bw(e){if(qw.isWindow(e)||9===e.nodeType)return null;var t,n=qw.getDocument(e).body,i=qw.css(e,"position");if(!("fixed"===i||"absolute"===i))return"html"===e.nodeName.toLowerCase()?null:Zw(e);for(t=Zw(e);t&&t!==n&&9!==t.nodeType;t=Zw(t))if("static"!==(i=qw.css(t,"position")))return t;return null}var Vw=qw.getParent;function zw(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},i=Bw(e),r=qw.getDocument(e),a=r.defaultView||r.parentWindow,o=r.body,s=r.documentElement;i;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===i.clientWidth||i===o||i===s||"visible"===qw.css(i,"overflow")){if(i===o||i===s)break}else{var l=qw.offset(i);l.left+=i.clientLeft,l.top+=i.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+i.clientWidth),n.bottom=Math.min(n.bottom,l.top+i.clientHeight),n.left=Math.max(n.left,l.left)}i=Bw(i)}var c=null;qw.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===qw.css(e,"position")&&(e.style.position="fixed"));var u=qw.getWindowScrollLeft(a),d=qw.getWindowScrollTop(a),h=qw.viewportWidth(a),p=qw.viewportHeight(a),f=s.scrollWidth,m=s.scrollHeight,g=window.getComputedStyle(o);if("hidden"===g.overflowX&&(f=a.innerWidth),"hidden"===g.overflowY&&(m=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(qw.isWindow(e)||9===e.nodeType)return!1;var t=qw.getDocument(e),n=t.body,i=null;for(i=Vw(e);i&&i!==n&&i!==t;i=Vw(i))if("fixed"===qw.css(i,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+h),n.bottom=Math.min(n.bottom,d+p);else{var v=Math.max(f,u+h);n.right=Math.min(n.right,v);var y=Math.max(m,d+p);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Uw(e){var t,n,i;if(qw.isWindow(e)||9===e.nodeType){var r=qw.getWindow(e);t={left:qw.getWindowScrollLeft(r),top:qw.getWindowScrollTop(r)},n=qw.viewportWidth(r),i=qw.viewportHeight(r)}else t=qw.offset(e),n=qw.outerWidth(e),i=qw.outerHeight(e);return t.width=n,t.height=i,t}function Ww(e,t){var n=t.charAt(0),i=t.charAt(1),r=e.width,a=e.height,o=e.left,s=e.top;return"c"===n?s+=a/2:"b"===n&&(s+=a),"c"===i?o+=r/2:"r"===i&&(o+=r),{left:o,top:s}}function Hw(e,t,n,i,r){var a=Ww(t,n[1]),o=Ww(e,n[0]),s=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-s[0]+i[0]-r[0]),top:Math.round(e.top-s[1]+i[1]-r[1])}}function Yw(e,t,n){return e.left<n.left||e.left+t.width>n.right}function $w(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Kw(e,t,n){var i=[];return qw.each(e,(function(e){i.push(e.replace(t,(function(e){return n[e]})))})),i}function Gw(e,t){return e[t]=-e[t],e}function Xw(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Qw(e,t){e[0]=Xw(e[0],t.width),e[1]=Xw(e[1],t.height)}function Jw(e,t,n,i){var r=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;a=[].concat(a),o=[].concat(o);var c={},u=0,d=zw(l,!(!(s=s||{})||!s.alwaysByViewport)),h=Uw(l);Qw(a,h),Qw(o,t);var p=Hw(h,t,r,a,o),f=qw.merge(h,p);if(d&&(s.adjustX||s.adjustY)&&i){if(s.adjustX&&Yw(p,h,d)){var m=Kw(r,/[lr]/gi,{l:"r",r:"l"}),g=Gw(a,0),v=Gw(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Hw(h,t,m,g,v),h,d)||(u=1,r=m,a=g,o=v)}if(s.adjustY&&$w(p,h,d)){var y=Kw(r,/[tb]/gi,{t:"b",b:"t"}),b=Gw(a,1),_=Gw(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Hw(h,t,y,b,_),h,d)||(u=1,r=y,a=b,o=_)}u&&(p=Hw(h,t,r,a,o),qw.mix(f,p));var w=Yw(p,h,d),k=$w(p,h,d);if(w||k){var x=r;w&&(x=Kw(r,/[lr]/gi,{l:"r",r:"l"})),k&&(x=Kw(r,/[tb]/gi,{t:"b",b:"t"})),r=x,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&k,(c.adjustX||c.adjustY)&&(f=function(e,t,n,i){var r=qw.clone(e),a={width:t.width,height:t.height};return i.adjustX&&r.left<n.left&&(r.left=n.left),i.resizeWidth&&r.left>=n.left&&r.left+a.width>n.right&&(a.width-=r.left+a.width-n.right),i.adjustX&&r.left+a.width>n.right&&(r.left=Math.max(n.right-a.width,n.left)),i.adjustY&&r.top<n.top&&(r.top=n.top),i.resizeHeight&&r.top>=n.top&&r.top+a.height>n.bottom&&(a.height-=r.top+a.height-n.bottom),i.adjustY&&r.top+a.height>n.bottom&&(r.top=Math.max(n.bottom-a.height,n.top)),qw.mix(r,a)}(p,h,d,c))}return f.width!==h.width&&qw.css(l,"width",qw.width(l)+f.width-h.width),f.height!==h.height&&qw.css(l,"height",qw.height(l)+f.height-h.height),qw.offset(l,{left:f.left,top:f.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:r,offset:a,targetOffset:o,overflow:c}}function ek(e,t,n){var i=n.target||t,r=Uw(i),a=!function(e,t){var n=zw(e,t),i=Uw(e);return!n||i.left+i.width<=n.left||i.top+i.height<=n.top||i.left>=n.right||i.top>=n.bottom}(i,n.overflow&&n.overflow.alwaysByViewport);return Jw(e,r,n,a)}ek.__getOffsetParent=Bw,ek.__getVisibleRectForElement=zw;var tk=__webpack_require__(8446),nk=__webpack_require__.n(tk),ik=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),rk="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ak=void 0!==__webpack_require__.g&&__webpack_require__.g.Math===Math?__webpack_require__.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ok="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ak):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var sk=["top","right","bottom","left","width","height","size","weight"],lk="undefined"!=typeof MutationObserver,ck=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&s()}function o(){ok(a)}function s(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(o,t);r=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){rk&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),lk?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){rk&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;sk.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),uk=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},dk=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ak},hk=yk(0,0,0,0);function pk(e){return parseFloat(e)||0}function fk(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+pk(e["border-"+n+"-width"])}),0)}function mk(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return hk;var i=dk(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],a=e["padding-"+r];t[r]=pk(a)}return t}(i),a=r.left+r.right,o=r.top+r.bottom,s=pk(i.width),l=pk(i.height);if("border-box"===i.boxSizing&&(Math.round(s+a)!==t&&(s-=fk(i,"left","right")+a),Math.round(l+o)!==n&&(l-=fk(i,"top","bottom")+o)),!function(e){return e===dk(e).document.documentElement}(e)){var c=Math.round(s+a)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return yk(r.left,r.top,s,l)}var gk="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof dk(e).SVGGraphicsElement}:function(e){return e instanceof dk(e).SVGElement&&"function"==typeof e.getBBox};function vk(e){return rk?gk(e)?function(e){var t=e.getBBox();return yk(0,0,t.width,t.height)}(e):mk(e):hk}function yk(e,t,n,i){return{x:e,y:t,width:n,height:i}}var bk=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=yk(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=vk(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_k=function(e,t){var n=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return uk(o,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),o}(t);uk(this,{target:e,contentRect:n})},wk=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ik,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof dk(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new bk(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof dk(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),kk="undefined"!=typeof WeakMap?new WeakMap:new ik,xk=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ck.getInstance(),i=new wk(t,n,this);kk.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){xk.prototype[e]=function(){var t;return(t=kk.get(this))[e].apply(t,arguments)}}));const Ek=void 0!==ak.ResizeObserver?ak.ResizeObserver:xk;function Ck(e,t){var n=null,i=null;var r=new Ek((function(e){var r=l_(e,1)[0].target;if(document.documentElement.contains(r)){var a=r.getBoundingClientRect(),o=a.width,s=a.height,l=Math.floor(o),c=Math.floor(s);n===l&&i===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,i=c}}));return e&&r.observe(e),function(){r.disconnect()}}function Sk(e){return"function"!=typeof e?null:e()}function Tk(e){return"object"===lb(e)&&e?e:null}var Dk=function(e,t){var n=e.children,i=e.disabled,r=e.target,a=e.align,o=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,c=void 0===l?0:l,u=h.useRef({}),d=h.useRef(),p=h.Children.only(n),f=h.useRef({});f.current.disabled=i,f.current.target=r,f.current.align=a,f.current.onAlign=o;var m=function(e,t){var n=h.useRef(!1),i=h.useRef(null);function r(){window.clearTimeout(i.current)}return[function a(o){if(n.current&&!0!==o)r(),i.current=window.setTimeout((function(){n.current=!1,a()}),t);else{if(!1===e())return;n.current=!0,r(),i.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,r()}]}((function(){var e=f.current,t=e.disabled,n=e.target,i=e.align,r=e.onAlign;if(!t&&n){var a,o=d.current,s=Sk(n),l=Tk(n);u.current.element=s,u.current.point=l,u.current.align=i;var c=document.activeElement;return s&&function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}(s)?a=ek(o,s,i):l&&(a=function(e,t,n){var i,r,a=qw.getDocument(e),o=a.defaultView||a.parentWindow,s=qw.getWindowScrollLeft(o),l=qw.getWindowScrollTop(o),c=qw.viewportWidth(o),u=qw.viewportHeight(o),d={left:i="pageX"in t?t.pageX:s+t.clientX,top:r="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},h=i>=0&&i<=s+c&&r>=0&&r<=l+u,p=[n.points[0],"cc"];return Jw(e,d,nw(nw({},n),{},{points:p}),h)}(o,l,i)),function(e,t){e!==document.activeElement&&e_(t,e)&&"function"==typeof e.focus&&e.focus()}(c,o),r&&a&&r(o,a),!0}return!1}),c),g=l_(m,2),v=g[0],y=g[1],b=h.useRef({cancel:function(){}}),_=h.useRef({cancel:function(){}});h.useEffect((function(){var e=Sk(r),t=Tk(r);d.current!==_.current.element&&(_.current.cancel(),_.current.element=d.current,_.current.cancel=Ck(d.current,v)),u.current.element===e&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(u.current.point,t)&&nk()(u.current.align,a)||(v(),b.current.element!==e&&(b.current.cancel(),b.current.element=e,b.current.cancel=Ck(e,v)))})),h.useEffect((function(){i?y():v()}),[i]);var w=h.useRef(null);return h.useEffect((function(){s?w.current||(w.current=xb(window,"resize",v)):w.current&&(w.current.remove(),w.current=null)}),[s]),h.useEffect((function(){return function(){b.current.cancel(),_.current.cancel(),w.current&&w.current.remove(),y()}}),[]),h.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),h.isValidElement(p)&&(p=h.cloneElement(p,{ref:r_(p.ref,d)})),p},Fk=h.forwardRef(Dk);Fk.displayName="Align";const Mk=Fk;var Ak=__webpack_require__(8311),Ik=__webpack_require__.n(Ak);function Ok(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Nk(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Ok(a,i,r,o,s,"next",e)}function s(e){Ok(a,i,r,o,s,"throw",e)}o(void 0)}))}}var Pk=["measure","align",null,"motion"];var Rk=h.forwardRef((function(e,t){var n=e.visible,i=e.prefixCls,r=e.className,a=e.style,o=e.children,s=e.zIndex,l=e.stretch,c=e.destroyPopupOnHide,u=e.forceRender,d=e.align,p=e.point,f=e.getRootDomNode,m=e.getClassNameFromAlign,g=e.onAlign,v=e.onMouseEnter,y=e.onMouseLeave,b=e.onMouseDown,_=e.onTouchStart,w=(0,h.useRef)(),k=(0,h.useRef)(),x=l_((0,h.useState)(),2),E=x[0],C=x[1],S=function(e){var t=l_(h.useState({width:0,height:0}),2),n=t[0],i=t[1];return[h.useMemo((function(){var t={};if(e){var i=n.width,r=n.height;-1!==e.indexOf("height")&&r?t.height=r:-1!==e.indexOf("minHeight")&&r&&(t.minHeight=r),-1!==e.indexOf("width")&&i?t.width=i:-1!==e.indexOf("minWidth")&&i&&(t.minWidth=i)}return t}),[e,n]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(l),T=l_(S,2),D=T[0],F=T[1];var M=function(e,t){var n=l_((0,h.useState)(null),2),i=n[0],r=n[1],a=(0,h.useRef)(),o=(0,h.useRef)(!1);function s(e){o.current||r(e)}function l(){Jb.cancel(a.current)}return(0,h.useEffect)((function(){s("measure")}),[e]),(0,h.useEffect)((function(){"measure"===i&&t(),i&&(a.current=Jb(Nk(Ik().mark((function e(){var t,n;return Ik().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Pk.indexOf(i),(n=Pk[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,h.useEffect)((function(){return function(){o.current=!0,l()}}),[]),[i,function(e){l(),a.current=Jb((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(n,(function(){l&&F(f())})),A=l_(M,2),I=A[0],O=A[1],N=(0,h.useRef)();function P(){var e;null===(e=w.current)||void 0===e||e.forceAlign()}function R(e,t){var n=m(t);E!==n&&C(n),"align"===I&&(E!==n?Promise.resolve().then((function(){P()})):O((function(){var e;null===(e=N.current)||void 0===e||e.call(N)})),null==g||g(e,t))}var j=mi({},J_(e));function L(){return new Promise((function(e){N.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=j[e];j[e]=function(e,n){return O(),null==t?void 0:t(e,n)}})),h.useEffect((function(){j.motionName||"motion"!==I||O()}),[j.motionName,I]),h.useImperativeHandle(t,(function(){return{forceAlign:P,getElement:function(){return k.current}}}));var q=mi(mi({},D),{},{zIndex:s,opacity:"motion"!==I&&"stable"!==I&&n?0:void 0,pointerEvents:"stable"===I?void 0:"none"},a),Z=!0;!(null==d?void 0:d.points)||"align"!==I&&"stable"!==I||(Z=!1);var B=o;return h.Children.count(o)>1&&(B=h.createElement("div",{className:"".concat(i,"-content")},o)),h.createElement(Q_,(0,kt.Z)({visible:n,ref:k,leavedClassName:"".concat(i,"-hidden")},j,{onAppearPrepare:L,onEnterPrepare:L,removeOnLeave:c,forceRender:u}),(function(e,t){var n=e.className,a=e.style,o=Fo()(i,r,E,n);return h.createElement(Mk,{target:p||f,key:"popup",ref:w,monitorWindowResize:!0,disabled:Z,align:d,onAlign:R},h.createElement("div",{ref:t,className:o,onMouseEnter:v,onMouseLeave:y,onMouseDownCapture:b,onTouchStartCapture:_,style:mi(mi({},a),q)},B))}))}));Rk.displayName="PopupInner";const jk=Rk;var Lk=h.forwardRef((function(e,t){var n=e.prefixCls,i=e.visible,r=e.zIndex,a=e.children,o=e.mobile,s=(o=void 0===o?{}:o).popupClassName,l=o.popupStyle,c=o.popupMotion,u=void 0===c?{}:c,d=o.popupRender,p=h.useRef();h.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var f=mi({zIndex:r},l),m=a;return h.Children.count(a)>1&&(m=h.createElement("div",{className:"".concat(n,"-content")},a)),d&&(m=d(m)),h.createElement(Q_,(0,kt.Z)({visible:i,ref:p,removeOnLeave:!0},u),(function(e,t){var i=e.className,r=e.style,a=Fo()(n,s,i);return h.createElement("div",{ref:t,className:a,style:mi(mi({},r),f)},m)}))}));Lk.displayName="MobilePopupInner";const qk=Lk;var Zk=["visible","mobile"],Bk=h.forwardRef((function(e,t){var n=e.visible,i=e.mobile,r=vb(e,Zk),a=l_((0,h.useState)(n),2),o=a[0],s=a[1],l=l_((0,h.useState)(!1),2),c=l[0],u=l[1],d=mi(mi({},r),{},{visible:o});(0,h.useEffect)((function(){s(n),n&&i&&u(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4)))}())}),[n,i]);var p=c?h.createElement(qk,(0,kt.Z)({},d,{mobile:i,ref:t})):h.createElement(jk,(0,kt.Z)({},d,{ref:t}));return h.createElement("div",null,h.createElement(ew,d),p)}));Bk.displayName="Popup";const Vk=Bk;const zk=h.createContext(null);function Uk(){}function Wk(){return""}function Hk(e){return e?e.ownerDocument:window.document}var Yk=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];const $k=function(e){var t=function(t){ob(i,t);var n=db(i);function i(e){var t,r;return nb(this,i),(t=n.call(this,e)).popupRef=h.createRef(),t.triggerRef=h.createRef(),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&e_(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var i=!t.state.popupVisible;(t.isClickToHide()&&!i||i&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,i=t.getRootDomNode(),r=t.getPopupDomNode();e_(i,n)&&!t.isContextMenuOnly()||e_(r,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=t_(t.triggerRef.current);if(n)return n}catch(e){}return Yo.findDOMNode(cb(t))},t.getPopupClassNameFromAlign=function(e){var n=[],i=t.props,r=i.popupPlacement,a=i.builtinPlacements,o=i.prefixCls,s=i.alignPoint,l=i.getPopupClassNameFromAlign;return r&&a&&n.push(function(e,t,n,i){for(var r=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o];if(s_(e[s].points,r,i))return"".concat(t,"-placement-").concat(s)}return""}(a,o,e,s)),l&&n.push(l(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,i=e.destroyPopupOnHide,r=e.popupClassName,a=e.onPopupAlign,o=e.popupMotion,s=e.popupAnimation,l=e.popupTransitionName,c=e.popupStyle,u=e.mask,d=e.maskAnimation,p=e.maskTransitionName,f=e.maskMotion,m=e.zIndex,g=e.popup,v=e.stretch,y=e.alignPoint,b=e.mobile,_=e.forceRender,w=t.state,k=w.popupVisible,x=w.point,E=t.getPopupAlign(),C={};return t.isMouseEnterToShow()&&(C.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(C.onMouseLeave=t.onPopupMouseLeave),C.onMouseDown=t.onPopupMouseDown,C.onTouchStart=t.onPopupMouseDown,h.createElement(Vk,(0,kt.Z)({prefixCls:n,destroyPopupOnHide:i,visible:k,point:y&&x,className:r,align:E,onAlign:a,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},C,{stretch:v,getRootDomNode:t.getRootDomNode,style:c,mask:u,zIndex:m,transitionName:l,maskAnimation:d,maskTransitionName:p,maskMotion:f,ref:t.popupRef,motion:o,mobile:b,forceRender:_}),"function"==typeof g?g():g)},t.attachParent=function(e){Jb.cancel(t.attachId);var n,i=t.props,r=i.getPopupContainer,a=i.getDocument,o=t.getRootDomNode();r?(o||0===r.length)&&(n=r(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Jb((function(){t.attachParent(e)}))},t.getContainer=function(){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.attachParent(e),e},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},r="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:r,popupVisible:r},Yk.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return rb(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=xb(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=xb(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=xb(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=xb(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Jb.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;return t&&i?function(e,t,n){return mi(mi({},e[t]||{}),n)}(i,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,i=this.state.popupVisible;this.clearDelayTimer(),i!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:i}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var i=this,r=1e3*t;if(this.clearDelayTimer(),r){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){i.setPopupVisible(e,a),i.clearDelayTimer()}),r)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var i=this.props[e];i&&i(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,r=n.forceRender,a=n.alignPoint,o=n.className,s=n.autoDestroy,l=h.Children.only(i),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,a&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var u=Fo()(l&&l.props&&l.props.className,o);u&&(c.className=u);var d,p,f,m,g=mi({},c);d=l,"function"==typeof(m=(0,n_.isMemo)(d)?d.type.type:d.type)&&!(null===(p=m.prototype)||void 0===p?void 0:p.render)||"function"==typeof d&&!(null===(f=d.prototype)||void 0===f?void 0:f.render)||(g.ref=r_(this.triggerRef,l.ref));var v,y=h.cloneElement(l,g);return(t||this.popupRef.current||r)&&(v=h.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(v=null),h.createElement(zk.Provider,{value:this.triggerContextValue},y,v)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,i={};return void 0!==n&&t.popupVisible!==n&&(i.popupVisible=n,i.prevPopupVisible=t.popupVisible),i}}]),i}(h.Component);return t.contextType=zk,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Wk,getDocument:Hk,onPopupVisibleChange:Uk,afterPopupVisibleChange:Uk,onPopupAlign:Uk,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(o_);var Kk={adjustX:1,adjustY:1},Gk=[0,0],Xk={left:{points:["cr","cl"],overflow:Kk,offset:[-4,0],targetOffset:Gk},right:{points:["cl","cr"],overflow:Kk,offset:[4,0],targetOffset:Gk},top:{points:["bc","tc"],overflow:Kk,offset:[0,-4],targetOffset:Gk},bottom:{points:["tc","bc"],overflow:Kk,offset:[0,4],targetOffset:Gk},topLeft:{points:["bl","tl"],overflow:Kk,offset:[0,-4],targetOffset:Gk},leftTop:{points:["tr","tl"],overflow:Kk,offset:[-4,0],targetOffset:Gk},topRight:{points:["br","tr"],overflow:Kk,offset:[0,-4],targetOffset:Gk},rightTop:{points:["tl","tr"],overflow:Kk,offset:[4,0],targetOffset:Gk},bottomRight:{points:["tr","br"],overflow:Kk,offset:[0,4],targetOffset:Gk},rightBottom:{points:["bl","br"],overflow:Kk,offset:[4,0],targetOffset:Gk},bottomLeft:{points:["tl","bl"],overflow:Kk,offset:[0,4],targetOffset:Gk},leftBottom:{points:["br","bl"],overflow:Kk,offset:[-4,0],targetOffset:Gk}};const Qk=function(e){var t=e.overlay,n=e.prefixCls,i=e.id,r=e.overlayInnerStyle;return h.createElement("div",{className:"".concat(n,"-inner"),id:i,role:"tooltip",style:r},"function"==typeof t?t():t)};var Jk=function(e,t){var n=e.overlayClassName,i=e.trigger,r=void 0===i?["hover"]:i,a=e.mouseEnterDelay,o=void 0===a?0:a,s=e.mouseLeaveDelay,l=void 0===s?.1:s,c=e.overlayStyle,u=e.prefixCls,d=void 0===u?"rc-tooltip":u,p=e.children,f=e.onVisibleChange,m=e.afterVisibleChange,g=e.transitionName,v=e.animation,y=e.motion,b=e.placement,_=void 0===b?"right":b,w=e.align,k=void 0===w?{}:w,x=e.destroyTooltipOnHide,E=void 0!==x&&x,C=e.defaultVisible,S=e.getTooltipContainer,T=e.overlayInnerStyle,D=vb(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),F=(0,h.useRef)(null);(0,h.useImperativeHandle)(t,(function(){return F.current}));var M=mi({},D);"visible"in e&&(M.popupVisible=e.visible);var A=!1,I=!1;if("boolean"==typeof E)A=E;else if(E&&"object"===lb(E)){var O=E.keepParent;A=!0===O,I=!1===O}return h.createElement($k,(0,kt.Z)({popupClassName:n,prefixCls:d,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,i=e.overlay,r=e.id;return[h.createElement("div",{className:"".concat(d,"-arrow"),key:"arrow"},n),h.createElement(Qk,{key:"content",prefixCls:d,id:r,overlay:i,overlayInnerStyle:T})]},action:r,builtinPlacements:Xk,popupPlacement:_,ref:F,popupAlign:k,getPopupContainer:S,onPopupVisibleChange:f,afterPopupVisibleChange:m,popupTransitionName:g,popupAnimation:v,popupMotion:y,defaultPopupVisible:C,destroyPopupOnHide:A,autoDestroy:I,mouseLeaveDelay:l,popupStyle:c,mouseEnterDelay:o},M),p)};const ex=(0,h.forwardRef)(Jk);const tx=h.forwardRef((function(e,t){var n=e.visible,i=e.overlay,r=h.useRef(null),a=r_(t,r),o=h.useRef(null);function s(){Jb.cancel(o.current)}return h.useEffect((function(){return n?o.current=Jb((function(){var e;null===(e=r.current)||void 0===e||e.forcePopupAlign()})):s(),s}),[n,i]),h.createElement(ex,(0,kt.Z)({ref:a},e))}));var nx=Ub;nx.Range=Yb,nx.Handle=Sb,nx.createSliderWithTooltip=function(e){var t;return t=function(t){ob(i,t);var n=db(i);function i(){var e;return nb(this,i),(e=n.apply(this,arguments)).state={visibles:{}},e.handleTooltipVisibleChange=function(t,n){e.setState((function(e){return{visibles:mi(mi({},e.visibles),{},pi({},t,n))}}))},e.handleWithTooltip=function(t){var n,i=t.value,r=t.dragging,a=t.index,o=t.disabled,s=vb(t,["value","dragging","index","disabled"]),l=e.props,c=l.tipFormatter,u=l.tipProps,d=l.handleStyle,p=l.getTooltipContainer,f=u.prefixCls,m=void 0===f?"rc-slider-tooltip":f,g=u.overlay,v=void 0===g?c(i):g,y=u.placement,b=void 0===y?"top":y,_=u.visible,w=void 0!==_&&_,k=vb(u,["prefixCls","overlay","placement","visible"]);return n=Array.isArray(d)?d[a]||d[0]:d,h.createElement(tx,(0,kt.Z)({},k,{getTooltipContainer:p,prefixCls:m,overlay:v,placement:b,visible:!o&&(e.state.visibles[a]||r)||w,key:a}),h.createElement(Sb,(0,kt.Z)({},s,{style:mi({},n),value:i,onMouseEnter:function(){return e.handleTooltipVisibleChange(a,!0)},onMouseLeave:function(){return e.handleTooltipVisibleChange(a,!1)}})))},e}return rb(i,[{key:"render",value:function(){return h.createElement(e,(0,kt.Z)({},this.props,{handle:this.handleWithTooltip}))}}]),i}(h.Component),t.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{},getTooltipContainer:function(e){return e.parentNode}},t};function ix(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rx extends h.Component{constructor(e){super(e),ix(this,"handleClickOutside",(e=>{this.node&&!this.node.contains(e.target)&&this.onClickCancel()})),ix(this,"onChangeCheck",(e=>{const t=Vs(this.state.selected),n=e.target.getAttribute("name");t[n].checked=!t[n].checked,"radio"===this.props.type&&Object.keys(t).forEach((e=>{e!==n&&(t[e].checked=!1)})),this.setState({selected:t})})),ix(this,"onChangeRadio",(e=>{this.setState({selected:JSON.parse(e.target.value)})})),ix(this,"onChangeRange",(e=>{this.setState({selected:e})})),ix(this,"onClickCancel",(()=>{this.setState({selected:this.props.selected}),this.props.onCancel()})),ix(this,"onClickSave",(()=>{this.props.onSave(this.state.selected)})),this.state={selected:e.selected}}componentDidUpdate(e){!e.expanded&&this.props.expanded?(this.setState({selected:this.props.selected}),document.addEventListener("click",this.handleClickOutside,!1)):e.expanded&&!this.props.expanded&&document.removeEventListener("click",this.handleClickOutside,!1)}checksContent(){const e=Object.entries(this.state.selected).map((([e,t])=>{const n=`vidiq-filter-selector-section-check-${e}`;return h.createElement("div",{key:e,className:"vidiq-filter-selector-section-check-wrapper"},h.createElement("input",{id:n,type:"checkbox",name:e,checked:t.checked,onChange:this.onChangeCheck}),h.createElement("label",{htmlFor:n},t.label))}));return h.createElement("div",{className:"vidiq-filter-selector-section-checks"},e)}radioContent(){const e=this.props.options.map(((e,t)=>{const n=`vidiq-filter-selector-section-radio-${t}`,i=JSON.stringify(e.value)===JSON.stringify(this.state.selected);return h.createElement("div",{key:t,className:"vidiq-filter-selector-section-radio-wrapper"},h.createElement("input",{id:n,type:"radio",value:JSON.stringify(e.value),checked:i,onChange:this.onChangeRadio}),h.createElement("label",{htmlFor:n},e.label))}));return h.createElement("div",{className:"vidiq-filter-selector-section-radios"},e)}rangeContent(){const e=this.props.options[0],t=this.props.options[1],n=this.state.selected[0],i=this.state.selected[1];let r={[e]:String(e),[t]:String(t),[n]:String(n),[i]:String(i)};return this.props.valueMap&&(r=this.props.valueMap.reduce(((e,t,n)=>(e[n]=t,e)),{})),h.createElement("div",{className:"vidiq-filter-selector-section-range"},h.createElement(Yb,{className:"vidiq-filter-selector-section-range-slider",min:e,max:t,marks:r,step:1,onChange:this.onChangeRange,defaultValue:[e,t],value:this.state.selected,allowCross:!1}))}render(){const{expanded:e,type:t}=this.props;if(!e||"selector"===t)return null;let n;return"checks"===t?n=this.checksContent():"range"===t?n=this.rangeContent():"radio"===t&&(n=this.radioContent()),h.createElement("div",{className:"vidiq-filter-selector-section-expanded",ref:e=>this.node=e},n,h.createElement("div",{className:"vidiq-filter-selector-body-actions vidiq-filter-selector-section-expanded-buttons"},h.createElement("button",{id:"vidiq-filter-selector-cancel-button",className:"vidiq-filter-selector-action-button",onClick:this.onClickCancel},(0,ai.Z)("cancel")),h.createElement("button",{id:"vidiq-filter-selector-apply-button",className:"vidiq-filter-selector-action-button",onClick:this.onClickSave},(0,ai.Z)("saveTitle"))))}}const ax=rx,ox=Oo()({displayName:"GeneralSelector",onChange(e){this.props.onChange&&this.props.onChange(e.target.value)},getOptions(e){let t=0;return L().map(e,((e,n)=>(e=ai.Z.tryCountryOrLang(e),h.createElement("option",{value:n,key:++t},e))))},content(){return this.props.values&&!this.props.groups?this.getOptions(this.props.values):L().map(this.props.groups,((e,t)=>h.createElement("optgroup",{key:t,label:t},this.getOptions(e))))},render(){return h.createElement("select",{className:this.props.classes,disabled:this.props.disabled,defaultValue:this.props.defaultValue,value:this.props.value,name:this.props.name,onChange:this.onChange},this.content())}}),sx=ox,lx=Qn("div",{target:"eii6vxy1"})("position:relative;",(e=>e.width&&`width: ${e.width};`)," .vidiq-select-element-arrow-icon{position:absolute;bottom:9px;right:13px;z-index:0;pointer-events:none;color:var(--text-primary);}.vidiq-select-element-remove-icon{position:absolute;bottom:9px;right:13px;color:var(--text-primary);cursor:pointer;}"),cx=Qn("select",{target:"eii6vxy0"})("-webkit-appearance:none;background:transparent;z-index:999;border-radius:100px;border:1px solid var(--border-primary);padding:8px 40px 8px 12px;height:38px;width:100%;margin:0;font-size:14px;font-weight:500;color:",(e=>e.isDefault?"var(--text-secondary)":"var(--text-primary)"),";&:focus,&:active{outline:none;border:1px solid var(--blue);}&:not([disabled]):hover{cursor:pointer;}"),ux=({id:e,onChange:t,options:n,selected:i,disabled:r,isDefault:a,onClickClear:o,width:s})=>h.createElement(lx,{width:s},h.createElement(cx,{id:e,onChange:e=>t(e.target.value),value:i,isDefault:a,disabled:r},Object.entries(n).map((([e,t],n)=>{const i=ai.Z.tryCountryOrLang(t);return h.createElement("option",{value:e,key:n},i)}))),(a||!o)&&h.createElement(hy,{className:"vidiq-select-element-arrow-icon"}),!a&&o&&!r&&h.createElement(av,{className:"vidiq-select-element-remove-icon",onClick:o}));const dx=Qn("div",{target:"ep8wx7j2"})({name:"1vdff0i",styles:"font-size:13px;display:flex;align-items:center;position:relative;padding:8px 0"}),hx=Qn("input",{target:"ep8wx7j1"})({name:"296bva",styles:"margin:0 8px;width:16px;height:16px"}),px=Qn("label",{target:"ep8wx7j0"})({name:"1ni1pob",styles:"position:absolute;padding:8px 0 8px 32px;width:280px;color:var(--text-primary)"}),fx=({inputType:e,id:t,checked:n,onChange:i,label:r,name:a,value:o,testId:s})=>h.createElement(dx,null,h.createElement(hx,{type:e,id:t,checked:n,onChange:i,name:a,value:o}),h.createElement(px,{htmlFor:t},r));const mx=Qn("div",{target:"e2d24os0"})({name:"te1fbj",styles:"margin:8px 0"}),gx=({selected:e,onChangeCheck:t})=>h.createElement(mx,null,Object.entries(e).map((([e,n])=>{const i=`vidiq-filter-selector-section-check-${e}`;return h.createElement(fx,{key:e,inputType:"checkbox",id:i,name:e,checked:n.checked,onChange:()=>t(e),label:n.label})})));const vx=Qn("div",{target:"e9ynjz00"})({name:"te1fbj",styles:"margin:8px 0"}),yx=({options:e,selected:t,onChangeRadio:n})=>h.createElement(vx,null,e.map(((e,i)=>{const r=`vidiq-filter-selector-section-radio-${i}`,a=JSON.stringify(e.value),o=a===JSON.stringify(t);return h.createElement(fx,{key:i,inputType:"radio",id:r,value:a,checked:o,onChange:()=>n(e.value),label:e.label,testId:"filter-selector-radio-input"})})));const bx=Qn("div",{target:"e1gboyh60"})({name:"1risbme",styles:"height:67px;display:flex;align-items:flex-end;justify-content:center"}),_x=({options:e,selected:t,valueMap:n,onChangeRange:i})=>{const r=e[0],a=e[1],o=t[0],s=t[1],l=n?n.reduce(((e,t,n)=>(e[n.toString()]=t,e)),{}):{[r]:String(r),[a]:String(a),[o]:String(o),[s]:String(s)};return h.createElement(bx,null,h.createElement(Yb,{className:"vidiq-filter-selector-section-range-slider",min:r,max:a,marks:l,step:1,onChange:i,defaultValue:[r,a],value:t,allowCross:!1}))},wx=({type:e,options:t,selected:n,valueMap:i,updateSelected:r})=>{const a=e=>{const t=Vs(n);t[e].checked=!t[e].checked,r(t)};return"checks"===e?h.createElement(gx,{selected:n,onChangeCheck:a}):"radio"===e?h.createElement(yx,{options:t,selected:n,onChangeRadio:e=>r(e)}):h.createElement(_x,{options:t,selected:n,valueMap:i,onChangeRange:e=>r(e)})};const kx=Qn("div",{target:"em80na71"})({name:"m1lwzo",styles:"position:absolute;background:var(--background-primary);width:100%;z-index:999;margin-top:8px;box-shadow:0px 20px 30px rgb(0 0 0 / 8%);border-radius:10px;border:1px solid var(--border-primary)"}),xx=Qn("div",{target:"em80na70"})({name:"rvp06v",styles:"height:48px;background:var(--background-secondary);border-top:1px solid var(--border-primary);border-radius:0 0 10px 10px;display:flex;align-items:center;justify-content:flex-end"}),Ex=({expanded:e,type:t,options:n,selected:i,onSave:r,onCancel:a,valueMap:o,containerRef:s})=>{const[l,c]=(0,h.useState)(i),u=(0,h.useCallback)((()=>{c(i),a()}),[i,a]),d=(0,h.useCallback)((e=>{s.current&&!s.current.contains(e.target)&&u()}),[s,u]),p=(0,h.useCallback)((()=>{c(i)}),[i]);return(0,h.useEffect)((()=>{if(e)return p(),void document.addEventListener("mouseup",d,!1);document.removeEventListener("mouseup",d,!1)}),[e,d,p]),e?h.createElement(kx,null,h.createElement(wx,{type:t,options:n,selected:l,valueMap:o,updateSelected:e=>{c(e)}}),h.createElement(xx,null,h.createElement($c,{onClick:u,variant:"secondary",margin:"0 8px 0 0",fontWeight:"500"},(0,ai.Z)("cancel")),h.createElement($c,{onClick:()=>r(l),margin:"0 8px 0 0",fontWeight:"500"},(0,ai.Z)("saveTitle")))):null};const Cx=Qn("div",{target:"e11vf7sh0"})({name:"pksui6",styles:"padding-top:8px;position:relative"}),Sx=({type:e,label:t,options:n,selected:i="_choose",default:r="_choose",onChange:a,valueMap:o,disabled:s=!1,noChoose:l})=>{const c=(0,h.useRef)(null),[u,d]=(0,h.useState)(!1),p="selector"!==e||l?n:Object.assign({_choose:(0,ai.Z)("chooseEllipses")},n),f=()=>{a&&a(r)},m=(({type:e,selected:t,defaultValue:n})=>{if("range"===e)return t.join()===n.join();if("checks"===e)return Object.values(t).filter((e=>e.checked)).length===Object.keys(n).length;return"radio"===e?JSON.stringify(t)===JSON.stringify(n):"_choose"===t||"any"===t})({type:e,selected:i,defaultValue:r});let g;return"selector"!==e&&(g=(({type:e,selected:t,defaultValue:n,options:i,valueMap:r,redesign:a})=>{if("checks"===e){const e=Object.values(t).filter((e=>e.checked));return e.length!==Object.keys(n).length?Object.values(e).map((e=>e.label)).join(", "):a?void 0:(0,ai.Z)("anyLabel")}if("radio"===e){const e=i.find((e=>JSON.stringify(e.value)===JSON.stringify(t)));return e?e.label:a?void 0:(0,ai.Z)("anyLabel")}if(Array.isArray(t)&&Array.isArray(n)&&t.join()===n.join())return a?void 0:(0,ai.Z)("anyLabel");const o=t;return r?o[0]===o[1]?r[o[0]]:`${r[o[0]]} - ${r[o[1]]}`:o[0]===o[1]?o[0].toString():`${o[0]} - ${o[1]}`})({type:e,selected:i,defaultValue:r,options:n,valueMap:o,redesign:!0})),h.createElement(Cx,null,h.createElement(tc,{color:"var(--text-secondary)",margin:"0 0 8px 8px"},t),"selector"===e?h.createElement(ux,{onChange:a,options:l?n:p,selected:i,disabled:s,isDefault:m,onClickClear:f}):h.createElement("div",{ref:c},h.createElement(by,{onClick:()=>!s&&d(!u),selectedText:g,selectedIsDefault:m,placeholder:(0,ai.Z)("anyLabel"),onClickClear:f,expanded:u,disabled:s}),h.createElement(Ex,{expanded:u,type:e,options:n,selected:i,onSave:e=>{a&&a(e),d(!u)},onCancel:()=>d(!u),valueMap:o,containerRef:c})))};function Tx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Dx extends h.Component{constructor(e){super(e),Tx(this,"toggleExpanded",(()=>{this.setState({expanded:!this.state.expanded})})),Tx(this,"onSave",(e=>{this.props.onChange(e),this.toggleExpanded()})),Tx(this,"onClickRemove",(()=>{this.props.onChange(this.props.default)}));let t=e.options;"selector"!==e.type||e.noChoose||(t=Object.assign({_choose:(0,ai.Z)("chooseEllipses")},t)),this.state={expanded:!1,options:t}}allSelected(){if("range"===this.props.type)return this.props.selected.join()===this.props.default.join();if("checks"===this.props.type){return Object.values(this.props.selected).filter((e=>e.checked)).length===Object.keys(this.props.default).length}return"radio"===this.props.type?JSON.stringify(this.props.selected)===JSON.stringify(this.props.default):"_choose"===this.props.selected||"any"===this.props.selected}getChecksFilterText(){const e=Object.values(this.props.selected).filter((e=>e.checked));if(e.length!==Object.keys(this.props.default).length){return Object.values(e).map((e=>e.label)).join(", ")}return(0,ai.Z)("anyLabel")}getRadioFilterText(){const e=this.props.options.find((e=>JSON.stringify(e.value)===JSON.stringify(this.props.selected)));return e?e.label:(0,ai.Z)("anyLabel")}getFilterText(){if("checks"===this.props.type)return this.getChecksFilterText();if("radio"===this.props.type)return this.getRadioFilterText();const e=this.props.selected;return e.join()===this.props.default.join()?(0,ai.Z)("anyLabel"):"range"===this.props.type&&this.props.valueMap?e[0]===e[1]?this.props.valueMap[e[0]]:`${this.props.valueMap[this.props.selected[0]]} - ${this.props.valueMap[this.props.selected[1]]}`:"range"===this.props.type?e[0]===e[1]?e[0].toString():`${this.props.selected[0]} - ${this.props.selected[1]}`:Object.values(this.props.selected).join(", ")}getFilterContent(){if("selector"===this.props.type){const e=this.props.noChoose?this.props.options:this.state.options,t=Fo()("vidiq-filter-selector-section-select",{"vidiq-filter-selector-section-select-any":this.allSelected()});return h.createElement(sx,{classes:t,onChange:this.props.onChange,values:e,value:this.props.selected,disabled:this.props.disabled})}const e=this.props.disabled?()=>{}:this.toggleExpanded,t=Fo()("vidiq-filter-selector-section-select-box",{"vidiq-filter-selector-section-select-expanded":this.state.expanded,"vidiq-filter-selector-section-select-any":this.allSelected(),"vidiq-filter-selector-section-select-disabled":this.props.disabled});return h.createElement("div",{className:t,onClick:e},this.getFilterText())}removeSelectedButton(){if(this.allSelected()||this.props.disabled)return null;const e=chrome.runtime.getURL("images/x-close-btn.svg");return h.createElement("img",{src:e,alt:"Remove",className:"vidiq-filter-selector-remove-button",onClick:this.onClickRemove})}render(){if(this.props.redesign)return h.createElement(Sx,this.props);const e=this.state.expanded?chrome.runtime.getURL("images/up-down-arrows-blue.svg"):chrome.runtime.getURL("images/up-down-arrows.svg");return h.createElement("div",{className:"vidiq-filter-selector-section"},h.createElement("div",{className:"vidiq-filter-selector-section-label"},this.props.label),h.createElement("img",{src:e,alt:"",className:"vidiq-filter-selector-arrows-icon"}),this.getFilterContent(),this.removeSelectedButton(),"selector"!==this.props.type&&h.createElement(ax,{expanded:this.state.expanded,type:this.props.type,options:this.props.options,selected:this.props.selected,onSave:this.onSave,onCancel:this.toggleExpanded,statKey:this.props.statKey,valueMap:this.props.valueMap}))}}Dx.defaultProps={selected:"_choose",default:"_choose",disabled:!1};const Fx=Dx;o.ZP.categories.map((e=>e.key));const Mx=function({onChangeFilter:e,value:t,disabled:n}){const i=(0,h.useMemo)((()=>{if(n)return{any:(0,ai.Z)("anyLabel")};return{...o.ZP.categories.reduce(((e,t)=>(e[t.key]=t.label,e)),{}),any:(0,ai.Z)("anyLabel")}}),[n]),[r,a]=(0,h.useState)(t),s=(0,h.useCallback)((t=>{a(t),e({category:t}),Yv("category",t)}),[e]);return(0,h.useEffect)((()=>{t!==r&&a(t)}),[t,r]),h.createElement(Fx,{type:"selector",label:(0,ai.Z)("categoryTitle"),options:i,selected:r,default:"any",onChange:s,noChoose:!0,disabled:n,redesign:!0})};bv.map((e=>e.Code));const Ax=function({onChangeFilter:e,value:t,disabled:n}){const i=(0,h.useMemo)((()=>{const e=bv.reduce(((e,t)=>(e[t.Code]=_v(t.Code),e)),{});return n?{[t]:"any"===t?(0,ai.Z)("anyLabel"):e[t]}:{any:(0,ai.Z)("anyLabel"),...e}}),[n,t]),[r,a]=(0,h.useState)(t),o=(0,h.useCallback)((t=>{a(t),e({country:t}),Yv("country",t)}),[e]);return(0,h.useEffect)((()=>{t!==r&&a(t)}),[t,r]),h.createElement(Fx,{type:"selector",label:(0,ai.Z)("countryTitle"),options:i,selected:r,default:"any",onChange:o,noChoose:!0,disabled:n,redesign:!0})};const Ix=function({value:e,onChangeFilter:t,disabled:n}){const i=[0,100],[r,a]=(0,h.useState)(i),o=(0,h.useCallback)((e=>{a(e),t({iqScore:e});const[n,i]=e;Yv("vidiq score",`${n} - ${i}`)}),[t]);return(0,h.useEffect)((()=>{e!==r&&a(e)}),[r,e]),h.createElement(Fx,{type:"range",label:(0,ai.Z)("researchVidiqScore"),options:i,selected:r,default:i,onChange:o,disabled:n,redesign:!0})};const Ox=function({name:e,value:t,defaultValue:n,label:i,filterOptions:r,onChangeFilter:a,disabled:o}){const[s,l]=(0,h.useState)(t),c=(0,h.useCallback)((t=>{l(t);const n=function(e,t){return t.find((t=>JSON.stringify(t.value)===JSON.stringify(e)))}(t,r);if(!n)return;a({[e]:n.value});Yv("channelSubs"===e?"channel subs":e,n.trackingLabel)}),[e,r,a]);return(0,h.useEffect)((()=>{JSON.stringify(t)!==JSON.stringify(s)&&l(t)}),[s,t,r]),h.createElement(Fx,{type:"radio",label:i,options:r,selected:s,default:n,onChange:c,disabled:o,redesign:!0})};function Nx(){return Nx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nx.apply(this,arguments)}const Px=Qn("div",{target:"e15uzkgy0"})("padding:16px 8px;width:100%;",(e=>e.disabled&&"\n    background: transparent;\n    box-shadow: none;\n    opacity: 0.5;\n  "),";"),Rx=({filters:e,updateFilters:t,disabled:n})=>{const i=(0,h.useCallback)((e=>{const n=Object.keys(e)[0];Go({location:"Most Viewed",type:jv[n]}),t(e)}),[t]),r={onChangeFilter:i,disabled:n},{channelSubs:a,vph:o,views:s,category:l,country:c,iqScore:u}=e;return h.createElement(Px,{disabled:n},h.createElement(Ox,Nx({name:"channelSubs",value:a,defaultValue:[null,null],label:(0,ai.Z)("channelSubscribers"),filterOptions:Jy},r)),h.createElement(Ox,Nx({name:"vph",value:o,defaultValue:null,label:(0,ai.Z)("viewsPerHour"),filterOptions:tb},r)),h.createElement(Ox,Nx({name:"views",value:s,defaultValue:null,label:(0,ai.Z)("viewsTitle"),filterOptions:eb},r)),h.createElement(Mx,{onChangeFilter:i,value:l,disabled:n}),h.createElement(Ax,{onChangeFilter:i,value:c,disabled:n}),h.createElement(Ix,Nx({},r,{value:u})))};const jx=Qn("div",{target:"e1ikv4vt1"})({name:"if5o6f",styles:"display:flex;flex-flow:row;align-items:center;justify-content:space-between;width:100%"}),Lx=Qn("div",{target:"e1ikv4vt0"})(iu," font-weight:500;color:var(--text-secondary);",(e=>!e.disabled&&"cursor: pointer;")," ",(e=>e.disabled&&"opacity: 0.5;"),";"),qx=({filters:e,updateFilters:t,filtersPermitted:n})=>{const[i,r]=(0,h.useState)(!1);(0,h.useEffect)((()=>{const t=Object.keys(Rv).some((t=>"object"==typeof e[t]?JSON.stringify(e[t])!==JSON.stringify(Rv[t]):e[t]!==Rv[t]));t&&!i?r(!0):!t&&i&&r(!1)}),[e,i]);return h.createElement(qy,{padding:"20px 16px",width:"340px"},h.createElement(jx,null,h.createElement(au,null,(0,ai.Z)("filterMostViewedVideos")),h.createElement(Lx,{disabled:!n||!i,onClick:()=>{i&&n&&(t(Rv),ht("cleared search filters on most viewed"))}},(0,ai.Z)("clearTitle"))),!1===n&&h.createElement(Qy,{code:"MostViewedFilters",plan:"boost",header:(0,ai.Z)("upgradeToPlan",["Boost"]),text:(0,ai.Z)("researchFiltersUpsellAlt"),margin:"16px 0 0"}),h.createElement(Rx,{filters:e,updateFilters:t,disabled:!n}))};const Zx=function({queryPermitted:e}){return!1!==e?null:h.createElement(Qy,{code:"MostViewedSearchUpsell",plan:"pro",variant:"inline",actionText:(0,ai.Z)("upgradeForUnlimitedSearches"),margin:"16px"})};const Bx=function(){const{state:e,fetchResearch:t,setCountryCode:n,setPermissions:i}=(0,h.useContext)(Ux),[r,a]=(0,h.useState)(e.fetchedInitial);(0,h.useEffect)((()=>{if(null!==e.queryPermitted&&null!==e.filtersPermitted)return;const t={queryPermitted:(0,ve.h)().featurePermitted("researchSearchAndSort"),filtersPermitted:(0,ve.h)().featurePermitted("researchFilters")};i(t)}),[e.queryPermitted,e.filtersPermitted,i]),(0,h.useEffect)((()=>{r||"any"===e.country||(a(!0),t(e))}),[t,r,e]),(0,h.useEffect)((()=>{!async function(){if("any"!==e.country||r)return;let t="US";try{t=await wv()}catch(e){}n(t)}()}),[e.country,n,r,e.filtersPermitted]);const o=(0,h.useCallback)((n=>{!e.queryPermitted&&n.length||(t({...e,query:n}),ht("searched a term on most viewed",{"last search term":n}),Lc({keyword:n,source:"most viewed",location:"Most Viewed"}))}),[e,t]),s=(0,h.useCallback)((n=>{t({...e,...n},n.offset&&n.offset>0)}),[e,t]),{channelSubs:l,vph:c,views:u,category:d,country:p,iqScore:f}=e,m=h.createElement(h.Fragment,null,h.createElement(Zx,{queryPermitted:e.queryPermitted}),h.createElement(yv,{keyword:e.query,updateKeyword:o,placeholder:(0,ai.Z)("researchSearchKeywordPlaceholder"),disabled:!e.queryPermitted,allowKeywordDeletion:!0,redesign:!0})),g=h.createElement(Ly,{loading:e.loading,videos:e.videos,totalResults:e.totalResults,size:e.size,offset:e.offset,error:e.error,sort:e.sort,range:e.range,selectorsDisabled:!e.queryPermitted,updateParameters:s}),v=h.createElement(qx,{filters:{channelSubs:l,vph:c,views:u,category:d,country:p,iqScore:f},updateFilters:s,filtersPermitted:e.filtersPermitted});return h.createElement(Hc,{featureInfoEmoji:"🎥",featureInfoText:(0,ai.Z)("trendAlertsMostViewedFeatureInfo"),minHeight:"400px",width:"100%"},h.createElement(Gg,{top:m,left:g,right:v}))},Vx={loading:!0,size:20,offset:0,range:Ov,sort:Fv,totalResults:0,videos:[],error:null,query:"",duration:null,queryPermitted:null,filtersPermitted:null,fetchedInitial:!1,...Rv},zx=(e=Vx,t)=>{switch(t.type){case Zv:return{...e,...t.payload,loading:!0};case Bv:return{...e,...t.payload,loading:!1,error:null};case Vv:return{...e,loading:!1,error:t.payload.error||null};case zv:return{...e,country:t.payload.country||"US"};case Uv:{const{queryPermitted:n,filtersPermitted:i}=t.payload;return{...e,queryPermitted:n||!1,filtersPermitted:i||!1}}}},Ux=(0,h.createContext)({state:Vx,fetchResearch:()=>null,setCountryCode:()=>null,setPermissions:()=>null}),Wx={};let Hx,Yx=!1;const $x=()=>{const[e,t]=(0,h.useReducer)(zx,Wx.state||Vx);Wx.state=e;const n=(0,h.useCallback)((async(n,i)=>{try{i||(n.offset=0,n.videos=[]),t({type:Zv,payload:n});const o=function(e){return{size:e.size,from:e.offset,date_published_at:e.range,sort:e.sort,...e.query&&{search_query:e.query},...e.query&&{search_description:!1},category:e.category,country:e.country,min_iq_score:e.iqScore[0],max_iq_score:e.iqScore[1],...null!==e.views&&{min_views:e.views},...null!==e.vph&&{min_views_per_hour:e.vph},...null!==e.duration&&{min_duration:e.duration},...null!==e.channelSubs[0]&&{min_channel_subscribers:e.channelSubs[0]},...null!==e.channelSubs[1]&&{max_channel_subscribers:e.channelSubs[1]}}}(n);Hx=o,Yx=!0;const{json:s,response:l}=await P.Z.expanded("vidiq.research",{data:o});if(o!==Hx){if(Yx)throw new Error(qv);return}if(Yx=!1,!l||!l.ok||!s)throw r=l.status,a=l.statusText,Me.Z.error("Most Viewed (version 2): Unknown error",{status:r,statusText:a}),new Error("most-viewed/ERROR_UNKNOWN");const{results:c,query_stats:u}=s;if(!c||!c.length)throw new Error(Lv);t({type:Bv,payload:{videos:i?e.videos.concat(c):c,totalResults:u.num_results,fetchedInitial:!0}})}catch(e){t({type:Vv,payload:{error:e.message,fetchedInitial:!1}})}var r,a}),[e.videos]),i=(0,h.useCallback)((e=>{t({type:zv,payload:{country:e}})}),[]),r=(0,h.useCallback)((({queryPermitted:e,filtersPermitted:n})=>{t({type:Uv,payload:{queryPermitted:e,filtersPermitted:n}})}),[]),a={state:e,fetchResearch:n,setCountryCode:i,setPermissions:r};return h.createElement(Ux.Provider,{value:a},h.createElement(Bx,null))},Kx=Qn("div",{target:"e7apcyw1"})("padding:5px;border:1px solid var(--border-primary);border-radius:100px;font-size:20px;display:flex;align-items:center;justify-content:center;height:20px;width:20px;&:hover{cursor:pointer;background:var(--background-tinted-secondary);}",(e=>e.isSelected&&"border: 1px solid var(--blue);")," ",(e=>e.hasSelectedEmoji&&!e.isSelected&&"opacity: 0.5;"),";"),Gx=Qn("div",{target:"e7apcyw0"})("display:flex;flex-flow:row;align-items:center;justify-content:center;",Kx,":not(:last-child){margin-right:32px;}"),Xx=({emojis:e,selectedEmoji:t,onClickEmoji:n})=>h.createElement(Gx,null,e.map((e=>h.createElement(Kx,{key:e.title,onClick:()=>n(e.emoji),hasSelectedEmoji:null!==t,isSelected:e.emoji===t},h.createElement("div",{className:"vidiq-video-ideas-emoji"},e.emoji)))));function Qx(){return Qx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qx.apply(this,arguments)}const Jx={primary:"primary",ghost:"ghost",outline:"outline",link:"link"};function eE({variant:e,type:t="button",className:n,children:i,onClick:r,href:a,isFull:o,isLoading:s,...l}){const c=Fo()("iq-button",n,{primary:e===Jx.primary,ghost:e===Jx.ghost,outline:e===Jx.outline,link:e===Jx.link,full:o}),u=s?h.createElement(os,null):i;return"string"==typeof a?h.createElement("a",Qx({className:c,href:a},l),u):h.createElement("button",Qx({className:c,onClick:r,type:t},l),u)}eE.variants=Jx,eE.defaultProps={variant:"primary"};const tE=eE;const nE=Qn("textarea",{target:"en5yfce2"})({name:"1im2b07",styles:"width:700px;height:80px;resize:none;background:var(--ultra-light-grey);font-family:'Roboto';font-size:14px;line-height:20px;margin:16px 0 8px;padding:8px 10px;border-radius:8px;border:0 none;box-sizing:border-box;color:var(--text-primary);font-weight:500;&::placeholder{color:var(--text-secondary);font-weight:400;}"}),iE=Qn("div",{target:"en5yfce1"})({name:"ldimq3",styles:"display:flex;flex-flow:row;align-items:center;justify-content:space-between;width:700px"}),rE=Qn("div",{target:"en5yfce0"})({name:"5ub212",styles:"color:var(--text-primary);font-size:14px;line-height:20px;display:flex;flex-flow:row;align-items:center;justify-content:center;input[type='checkbox']{width:16px;height:16px;margin:0;cursor:pointer;}label{margin-left:8px;cursor:pointer;}"}),aE=({textareaText:e,onChangeTextarea:t,includeScreenshot:n,onChangeIncludeScreenshot:i,onClickSubmit:r,creatingScreenshot:a})=>h.createElement(h.Fragment,null,h.createElement(nE,{placeholder:(0,ai.Z)("feedbackPopoverPlaceholder"),value:e,onChange:t,maxLength:1400}),h.createElement(iE,null,h.createElement(rE,null,h.createElement("input",{type:"checkbox",id:"vidiq-include-screenshot-checkbox",checked:n,onChange:i}),h.createElement("label",{htmlFor:"vidiq-include-screenshot-checkbox"},(0,ai.Z)("includeScreenshot"))),h.createElement(tE,{variant:"primary",onClick:r,disabled:0===e.length||a},(0,ai.Z)("sendFeedbackTitle"))));const oE=Qn("div",{target:"e13ds0ub0"})({name:"17xx2u2",styles:"display:flex;flex-flow:row;align-items:center;justify-content:center;padding:8px 16px;background:#d6efd7;box-sizing:border-box;border:1px solid #70c774;border-radius:8px;color:#252626;font-size:14px;font-weight:500;line-height:20px;svg{width:18px;height:18px;margin-right:8px;box-sizing:border-box;padding:3px;background:#009a07;color:white;border-radius:100px;}"}),sE=()=>h.createElement(oE,null,h.createElement(xy,null)," ",(0,ai.Z)("feedbackSentMessage"));var lE=__webpack_require__(9306),cE=__webpack_require__.n(lE);const uE={},dE=async({message:e,blobUrl:t})=>{const{response:n}=await P.Z.expanded("vidiq.intercom",{message:e,blobUrl:t});return n.ok},hE=({selectorForImage:e})=>new Promise((t=>{const n=document.querySelector(e),i=(null==n?void 0:n.querySelectorAll("img"))||[],r=Array.from(i).map((async e=>{const t=e.getAttribute("src");if(null==t||!t.includes("i.ytimg.com"))return;const n=await(async e=>{if(!e)return null;try{const t=e.match(/i\.ytimg\.com\/vi\/([^/]+)\//),n=t&&t[1];if(n&&uE[n])return uE[n];const i=e.split("https://i.ytimg.com/")[1],{blob:r}=await P.Z.expanded("other.ytimg",{path:i}),a=await fetch(r,{method:"GET"}),o=await a.blob(),s=(window.URL||window.webkitURL).createObjectURL(o);return n&&(uE[n]=s),s}catch(e){return null}})(t);e.setAttribute("src",n||"")}));Promise.all(r).then(t)})),pE=async({selectorForImage:e,type:t})=>{try{await hE({selectorForImage:e});const n=document.querySelector(e),i=null==n?void 0:n.offsetParent;return n?cE().toBlob(n,{width:null==i?void 0:i.offsetWidth,filter:e=>((e,t)=>{const n="window"===t?"vidiq-feedback-window":"vidiq-feedback-popover-box",i=e;if(i.classList&&(i.classList.contains("material-icons")||i.classList.contains(n)))return!1;if(1===i.nodeType&&"SELECT"===i.tagName){const t=e.getElementsByTagName("OPTION"),n=e.selectedIndex;for(let e=0;e<t.length;e++)e===n?t[e].setAttribute("selected","true"):t[e].removeAttribute("selected")}return!0})(e,t),style:{fontFamily:"Arial, Roboto, sans-serif"}}).then((e=>URL.createObjectURL(e))):null}catch(e){return Me.Z.error("Feedback > createFeedbackScreenshot error",{error:e.message}),null}},fE=({featureEventName:e,feedbackRating:t,includeScreenshot:n,feedbackMessage:i})=>{ht("sent feature feedback",{via:lt(),feature:e.toLowerCase(),rating:t,"screenshot included":n,feedback:i,location:(0,be.Z)()})};const mE=Qn("div",{target:"ejkhmny1"})({name:"j4hf9b",styles:"position:absolute;width:100%;bottom:0;padding:16px;display:flex;flex-flow:column;align-items:center;justify-content:center;box-shadow:0px -4px 4px rgba(0, 0, 0, 0.08),-8px 8px 16px rgba(0, 0, 0, 0.08),-16px 16px 32px rgba(0, 0, 0, 0.02);background:var(--background-primary);z-index:40;box-sizing:border-box;svg.vidiq-feedback-popover-close{position:absolute;right:16px;top:16px;&:hover{cursor:pointer;}}"}),gE=Qn("div",{target:"ejkhmny0"})({name:"1jf4rjt",styles:"font-size:16px;font-weight:700;line-height:20px;color:var(--text-primary);margin-bottom:12px"}),vE=[{emoji:"😡",rating:1,title:"Very Bad"},{emoji:"🙁",rating:2,title:"Bad"},{emoji:"😐",rating:3,title:"Okay"},{emoji:"😃",rating:4,title:"Good"},{emoji:"😍",rating:5,title:"Very Good"}],yE=({timestampStorageKey:e,featureEventName:t})=>{const[n,i]=(0,h.useState)(null),[r,a]=(0,h.useState)(""),[o,s]=(0,h.useState)(!0),[c,u]=(0,h.useState)(!0),[d,p]=(0,h.useState)(null),[f,m]=(0,h.useState)(!1),[g,v]=(0,h.useState)(!1),y=(0,h.useCallback)((async()=>{await(async e=>{const t=await l.get(e),n=t?parseInt(t,10):null;return!n||((new Date).getTime()-n)/1e3/60/60/24>=90})(e)&&setTimeout((()=>{v(!0),(e=>{l.set({[e]:(new Date).getTime()})})(e)}),2e3)}),[e]);(0,h.useEffect)((()=>{y()}),[y]);return g?h.createElement(mE,{className:"vidiq-feedback-popover-box"},!f&&h.createElement(h.Fragment,null,h.createElement(gE,null,(0,ai.Z)("howsExpWithDailyIdeas")),h.createElement(Xx,{emojis:vE,selectedEmoji:n,onClickEmoji:e=>{null===n&&(async()=>{const e=await pE({selectorForImage:"#vidiq-nav-menu",type:"popover"});p(e),u(!1)})(),i(e)}}),null!==n&&h.createElement(aE,{textareaText:r,onChangeTextarea:e=>{a(e.target.value)},includeScreenshot:o,onChangeIncludeScreenshot:()=>{s(!o)},onClickSubmit:async()=>{const e=vE.find((e=>e.emoji===n)),i=(null==e?void 0:e.rating)||0,a=await(async({rating:e,message:t})=>{const n=await(0,_e.Z)();return`Channel Name: ${await Du()}\nChannel ID: ${n}\n\nFeedback Rating: ${e.toString()}/5\n\n\n${t}`})({rating:i,message:r});dE({message:a,blobUrl:o?d:null}),fE({featureEventName:t,feedbackRating:i,includeScreenshot:o,feedbackMessage:r}),m(!0),setTimeout((()=>{v(!1)}),5e3)},creatingScreenshot:c})),f&&h.createElement(sE,null),h.createElement(Gl,{className:"vidiq-feedback-popover-close",onClick:()=>{v(!1)},width:"14",height:"14",color:"var(--text-primary)"})):null};function bE(){return bE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bE.apply(this,arguments)}function _E(e){return h.createElement("svg",bE({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"20",height:"20"},e),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.893 4.107A8.333 8.333 0 104.108 15.893 8.333 8.333 0 0015.893 4.107zM9.116 14.634a1.25 1.25 0 101.768-1.768 1.25 1.25 0 00-1.768 1.768zm.05-4.55c.1 1 1.559 1 1.667 0l.417-4.167A.833.833 0 0010.417 5h-.834a.833.833 0 00-.833.917l.417 4.166z",clipRule:"evenodd"}))}const wE=Qn("div",{target:"e1mzanir0"})({name:"679m2y",styles:"display:flex;flex-flow:row;align-items:center;justify-content:center;background:#f8dede;color:#000;padding:8px 16px;border:1px solid #b42828;border-radius:8px;font-size:14px;font-family:Roboto,sans-serif;font-weight:400;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);z-index:999;svg.vidiq-error-popup-icon{color:#b42828;margin-right:8px;}svg.vidiq-error-popup-close{color:#000;margin-left:8px;cursor:pointer;}"}),kE=({display:e,onClose:t,children:n})=>{const i=(0,h.useRef)(null),r=(0,h.useCallback)((e=>{i.current&&!i.current.contains(e.target)&&t()}),[t]);return(0,h.useEffect)((()=>{e?document.addEventListener("click",r,!1):document.removeEventListener("click",r,!1)}),[e,r]),e?h.createElement(wE,{ref:i},h.createElement(_E,{className:"vidiq-error-popup-icon"}),h.createElement("div",{className:"vidiq-error-popup-text"},n),h.createElement(Gl,{className:"vidiq-error-popup-close",onClick:t})):null};var xE=__webpack_require__(7557),EE=__webpack_require__.n(xE);const CE=Qn("div",{target:"efs76ar4"})(hu," margin:0 auto;text-align:center;"),SE=({children:e})=>h.createElement(CE,null,e),TE=Qn("div",{target:"efs76ar3"})(lu," font-size:40px;box-sizing:border-box;margin-bottom:12px;height:40px;"),DE=Qn("div",{target:"efs76ar2"})({name:"1gsr0jy",styles:"font-size:24px;line-height:36px;font-weight:bold;color:var(--text-primary);margin-bottom:24px"}),FE=({children:e})=>h.createElement(DE,null,e),ME=Qn("div",{target:"efs76ar1"})({name:"ryfqmm",styles:"font-size:14px;line-height:20px;font-weight:500;color:var(--text-primary);max-width:478px;text-align:center"}),AE=({children:e})=>h.createElement(ME,null,e),IE=Qn("div",{target:"efs76ar0"})({name:"kw4dmd",styles:"margin-top:24px;color:#fff;background:var(--blue);font-size:17px;font-weight:500;line-height:20px;padding:14px 52px;border-radius:100px;cursor:pointer"}),OE=({type:e})=>h.createElement(SE,null,h.createElement(TE,null,"💡"),h.createElement(FE,null,e===oc.ERROR_REAUTH_CHANNEL?(0,ai.Z)("reconnectYourYtChannel"):(0,ai.Z)("connectYourYtChannel")),h.createElement(AE,null,(0,ai.Z)("forDailyIdeasAuthChannel")),h.createElement(IE,{onClick:()=>{window.open(Su("https://app.vidiq.com/welcome"),"_blank")}},e===oc.ERROR_REAUTH_CHANNEL?(0,ai.Z)("reconnectYourYtAccount"):(0,ai.Z)("connectYourYtAccount")),h.createElement(tc,{size:"s",color:"var(--text-secondary)",margin:"16px 0 0"},(0,ai.Z)("modalErrorUnauthenticatedHint")));var NE=__webpack_require__(5697),PE=__webpack_require__.n(NE);function RE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function LE(e,t,n){return t&&jE(e.prototype,t),n&&jE(e,n),e}function qE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BE(e,t)}function ZE(e){return ZE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ZE(e)}function BE(e,t){return BE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},BE(e,t)}function VE(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ZE(e);if(t){var r=ZE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return VE(this,n)}}function UE(e){return function(e){if(Array.isArray(e))return WE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return WE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function HE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=String(e);if(0===t)return n;var i=n.match(/(.*?)([0-9]+)(.*)/),r=i?i[1]:"",a=i?i[3]:"",o=i?i[2]:n,s=o.length>=t?o:(UE(Array(t)).map((function(){return"0"})).join("")+o).slice(-1*t);return"".concat(r).concat(s).concat(a)}var YE={daysInHours:!1,zeroPadTime:2};function $E(e,t){var n=e.days,i=e.hours,r=e.minutes,a=e.seconds,o=Object.assign(Object.assign({},YE),t),s=o.daysInHours,l=o.zeroPadTime,c=o.zeroPadDays,u=void 0===c?l:c,d=Math.min(2,l),h=s?HE(i+24*n,l):HE(i,d);return{days:s?"":HE(n,u),hours:h,minutes:HE(r,d),seconds:HE(a,d)}}var KE=function(e){qE(n,e);var t=zE(n);function n(){var e;return RE(this,n),(e=t.apply(this,arguments)).state={count:e.props.count||3},e.startCountdown=function(){e.interval=window.setInterval((function(){0===e.state.count-1?(e.stopCountdown(),e.props.onComplete&&e.props.onComplete()):e.setState((function(e){return{count:e.count-1}}))}),1e3)},e.stopCountdown=function(){clearInterval(e.interval)},e.addTime=function(t){e.stopCountdown(),e.setState((function(e){return{count:e.count+t}}),e.startCountdown)},e}return LE(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?(0,h.cloneElement)(this.props.children,{count:this.state.count}):null}}]),n}(h.Component);KE.propTypes={count:NE.number,children:NE.element,onComplete:NE.func};var GE=function(e){qE(n,e);var t=zE(n);function n(e){var i;if(RE(this,n),(i=t.call(this,e)).mounted=!1,i.initialTimestamp=i.calcOffsetStartTimestamp(),i.offsetStartTimestamp=i.props.autoStart?0:i.initialTimestamp,i.offsetTime=0,i.legacyMode=!1,i.legacyCountdownRef=(0,h.createRef)(),i.tick=function(){var e=i.calcTimeDelta(),t=e.completed&&!i.props.overtime?void 0:i.props.onTick;i.setTimeDeltaState(e,void 0,t)},i.start=function(){if(!i.isStarted()){var e=i.offsetStartTimestamp;i.offsetStartTimestamp=0,i.offsetTime+=e?i.calcOffsetStartTimestamp()-e:0;var t=i.calcTimeDelta();i.setTimeDeltaState(t,"STARTED",i.props.onStart),i.props.controlled||t.completed&&!i.props.overtime||(i.clearTimer(),i.interval=window.setInterval(i.tick,i.props.intervalDelay))}},i.pause=function(){i.isPaused()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.setTimeDeltaState(i.state.timeDelta,"PAUSED",i.props.onPause))},i.stop=function(){i.isStopped()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.offsetTime=i.offsetStartTimestamp-i.initialTimestamp,i.setTimeDeltaState(i.calcTimeDelta(),"STOPPED",i.props.onStop))},i.isStarted=function(){return i.isStatus("STARTED")},i.isPaused=function(){return i.isStatus("PAUSED")},i.isStopped=function(){return i.isStatus("STOPPED")},i.isCompleted=function(){return i.isStatus("COMPLETED")},i.handleOnComplete=function(e){i.props.onComplete&&i.props.onComplete(e)},e.date){var r=i.calcTimeDelta();i.state={timeDelta:r,status:r.completed?"COMPLETED":"STOPPED"}}else i.legacyMode=!0;return i}return LE(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){this.legacyMode||this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,t=e.date,n=e.now,i=e.precision,r=e.controlled,a=e.overtime;return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.now,r=void 0===i?Date.now:i,a=n.precision,o=void 0===a?0:a,s=n.controlled,l=n.offsetTime,c=void 0===l?0:l,u=n.overtime;t="string"==typeof e?new Date(e).getTime():e instanceof Date?e.getTime():e,s||(t+=c);var d=s?t:t-r(),h=Math.min(20,Math.max(0,o)),p=Math.round(1e3*parseFloat(((u?d:Math.max(0,d))/1e3).toFixed(h))),f=Math.abs(p)/1e3;return{total:p,days:Math.floor(f/86400),hours:Math.floor(f/3600%24),minutes:Math.floor(f/60%60),seconds:Math.floor(f%60),milliseconds:Number((f%1*1e3).toFixed()),completed:p<=0}}(t,{now:n,precision:i,controlled:r,offsetTime:this.offsetTime,overtime:a})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.current.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,t,n){var i=this;if(this.mounted){var r;!this.state.timeDelta.completed&&e.completed&&(this.props.overtime||this.clearTimer(),r=this.handleOnComplete);return this.setState((function(n){var r=t||n.status;return e.completed&&!i.props.overtime?r="COMPLETED":t||"COMPLETED"!==r||(r="STOPPED"),{timeDelta:e,status:r}}),(function(){n&&n(i.state.timeDelta),r&&r(i.state.timeDelta)}))}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,t=e.daysInHours,n=e.zeroPadTime,i=e.zeroPadDays,r=this.state.timeDelta;return Object.assign(Object.assign({},r),{api:this.getApi(),props:this.props,formatted:$E(r,{daysInHours:t,zeroPadTime:n,zeroPadDays:i})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,t=e.count,n=e.children,i=e.onComplete;return(0,h.createElement)(KE,{ref:this.legacyCountdownRef,count:t,onComplete:i},n)}var r=this.props,a=r.className,o=r.overtime,s=r.children,l=r.renderer,c=this.getRenderProps();if(l)return l(c);if(s&&this.state.timeDelta.completed&&!o)return(0,h.cloneElement)(s,{countdown:c});var u=c.formatted,d=u.days,p=u.hours,f=u.minutes,m=u.seconds;return(0,h.createElement)("span",{className:a},c.total<0?"-":"",d,d?":":"",p,":",f,":",m)}}]),n}(h.Component);GE.defaultProps=Object.assign(Object.assign({},YE),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),GE.propTypes={date:(0,NE.oneOfType)([(0,NE.instanceOf)(Date),NE.string,NE.number]),daysInHours:NE.bool,zeroPadTime:NE.number,zeroPadDays:NE.number,controlled:NE.bool,intervalDelay:NE.number,precision:NE.number,autoStart:NE.bool,overtime:NE.bool,className:NE.string,children:NE.element,renderer:NE.func,now:NE.func,onMount:NE.func,onStart:NE.func,onPause:NE.func,onStop:NE.func,onTick:NE.func,onComplete:NE.func};const XE=GE;const QE=Qn("img",{target:"eoelh7g1"})({name:"xxut8f",styles:"width:240px;margin-bottom:12px;border-radius:8px"}),JE=Qn("span",{target:"eoelh7g0"})({name:"vifs8c",styles:"margin:0 4px"}),eC=({refresh:e,justAuthedTimeLeft:t})=>{const n=1e3*(t||300);return h.createElement(XE,{date:Date.now()+n,renderer:({minutes:e,seconds:t})=>h.createElement(JE,null,HE(e,0),":",HE(t)),onComplete:e})},tC=({refresh:e,justAuthedTimeLeft:t})=>{const n=chrome.runtime.getURL("images/vidiq-nyan-cat.gif");return h.createElement(SE,null,h.createElement(QE,{src:n}),h.createElement(FE,null,(0,ai.Z)("stayTuned")),h.createElement(AE,null,h.createElement("span",null,"✅ ",(0,ai.Z)("ideasJustAuthedPartOne")),h.createElement(eC,{refresh:e,justAuthedTimeLeft:t}),h.createElement("span",null,(0,ai.Z)("ideasJustAuthedPartTwo"))),h.createElement(IE,{onClick:e},(0,ai.Z)("refresh")))},nC=({justUploadedTimeLeft:e})=>h.createElement(SE,null,h.createElement(TE,null,"⚡️️"),h.createElement(FE,null,(0,ai.Z)("almostThere")),h.createElement(AE,null,(0,ai.Z)("ideasJustUploadedErr",[(e||8).toString()]))),iC=({refresh:e})=>h.createElement(SE,null,h.createElement(TE,null,"😬"),h.createElement(FE,null,(0,ai.Z)("oopsWereInTrouble")),h.createElement(AE,null,ai.Z.html("issueGettingIdeas")),h.createElement(IE,{onClick:e},(0,ai.Z)("tryAgain")));function rC(){return rC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rC.apply(this,arguments)}const aC=e=>h.createElement("svg",rC({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"688",height:"348",viewBox:"0 0 688 348",fill:"none"},e),h.createElement("g",{filter:"url(#a)"},h.createElement("rect",{width:"456",height:"180",x:"116",y:"148",fill:"url(#b)",rx:"12"})),h.createElement("g",{filter:"url(#c)"},h.createElement("rect",{width:"556",height:"180",x:"66",y:"132",fill:"url(#d)",rx:"12"})),h.createElement("g",{filter:"url(#e)"},h.createElement("rect",{width:"656",height:"284",x:"16",y:"12",fill:"url(#f)",rx:"12"}),h.createElement("rect",{width:"224",height:"30",x:"232",y:"52",fill:"#fff",fillOpacity:"0.48",rx:"15"}),h.createElement("path",{fill:"#702F39",d:"M246.724 61.818h-2.391L247.848 72h2.774l3.51-10.182h-2.386l-2.466 7.736h-.095l-2.461-7.736zM255.318 72h2.118v-7.636h-2.118V72zm1.064-8.62c.631 0 1.148-.483 1.148-1.075 0-.586-.517-1.069-1.148-1.069-.627 0-1.144.483-1.144 1.07 0 .591.517 1.073 1.144 1.073zm6.23 8.77c1.89 0 3.162-.92 3.461-2.338l-1.959-.129c-.214.582-.761.885-1.467.885-1.059 0-1.73-.7-1.73-1.84v-.004h5.2v-.582c0-2.595-1.571-3.878-3.589-3.878-2.247 0-3.704 1.596-3.704 3.953 0 2.42 1.437 3.932 3.788 3.932zm-1.695-4.739c.045-.87.706-1.566 1.646-1.566.919 0 1.556.656 1.561 1.566h-3.207zM268.951 72h2.237l1.313-4.803h.094L273.908 72h2.242l2.073-7.636h-2.138l-1.163 5.1h-.065l-1.252-5.1h-2.103l-1.233 5.13h-.07l-1.183-5.13h-2.143L268.951 72zm13.682 0h2.153v-3.301h1.809c2.342 0 3.704-1.397 3.704-3.43 0-2.024-1.337-3.45-3.649-3.45h-4.017V72zm2.153-5.026v-3.396h1.451c1.243 0 1.845.676 1.845 1.69 0 1.01-.602 1.706-1.835 1.706h-1.461zM291.658 72h2.118v-4.32c0-.94.686-1.586 1.62-1.586.294 0 .696.05.895.114v-1.88a3.179 3.179 0 00-.666-.074c-.855 0-1.556.497-1.835 1.442h-.079v-1.332h-2.053V72zm8.853.15c1.889 0 3.162-.92 3.46-2.338l-1.959-.129c-.214.582-.76.885-1.466.885-1.059 0-1.73-.7-1.73-1.84v-.004h5.2v-.582c0-2.595-1.571-3.878-3.59-3.878-2.247 0-3.704 1.596-3.704 3.953 0 2.42 1.437 3.932 3.789 3.932zm-1.695-4.739c.044-.87.705-1.566 1.645-1.566.92 0 1.556.656 1.561 1.566h-3.206zm9.396 4.713c1.233 0 1.874-.71 2.167-1.347h.09V72h2.088V61.818h-2.113v3.828h-.065c-.283-.621-.894-1.382-2.172-1.382-1.676 0-3.092 1.303-3.092 3.928 0 2.555 1.357 3.932 3.097 3.932zm.671-1.685c-1.039 0-1.606-.925-1.606-2.257 0-1.323.557-2.232 1.606-2.232 1.029 0 1.606.87 1.606 2.232s-.587 2.257-1.606 2.257zM314.298 72h2.118v-7.636h-2.118V72zm1.064-8.62c.632 0 1.149-.483 1.149-1.075 0-.586-.517-1.069-1.149-1.069-.626 0-1.143.483-1.143 1.07 0 .591.517 1.073 1.143 1.073zm6.201 8.77c2.033 0 3.311-1.194 3.411-2.949h-1.999c-.124.815-.661 1.273-1.387 1.273-.989 0-1.631-.83-1.631-2.292 0-1.442.647-2.267 1.631-2.267.775 0 1.273.512 1.387 1.272h1.999c-.09-1.764-1.427-2.923-3.421-2.923-2.317 0-3.748 1.606-3.748 3.948 0 2.321 1.406 3.937 3.758 3.937zm8.828-7.786h-1.436v-1.83h-2.118v1.83h-1.044v1.59h1.044v3.978c-.01 1.496 1.009 2.237 2.545 2.172a4.16 4.16 0 001.149-.198l-.334-1.577c-.104.02-.328.07-.527.07-.422 0-.715-.159-.715-.746v-3.699h1.436v-1.59zm1.38 7.636h2.118v-7.636h-2.118V72zm1.064-8.62c.631 0 1.148-.483 1.148-1.075 0-.586-.517-1.069-1.148-1.069-.627 0-1.144.483-1.144 1.07 0 .591.517 1.073 1.144 1.073zm6.201 8.77c2.316 0 3.758-1.587 3.758-3.938 0-2.367-1.442-3.948-3.758-3.948-2.317 0-3.759 1.581-3.759 3.948 0 2.351 1.442 3.937 3.759 3.937zm.01-1.642c-1.069 0-1.616-.979-1.616-2.311 0-1.333.547-2.317 1.616-2.317 1.049 0 1.596.984 1.596 2.317 0 1.332-.547 2.311-1.596 2.311zm7.243-2.923c.005-.984.592-1.56 1.447-1.56.85 0 1.362.556 1.357 1.49V72h2.118v-4.862c0-1.78-1.044-2.874-2.635-2.874-1.133 0-1.954.557-2.297 1.447h-.089v-1.347h-2.019V72h2.118v-4.415zm7.829-.8a1.21 1.21 0 001.193-1.193 1.207 1.207 0 00-1.193-1.184 1.188 1.188 0 100 2.377zm0 5.344a1.21 1.21 0 001.193-1.193 1.207 1.207 0 00-1.193-1.183 1.188 1.188 0 100 2.376zm8.052-10.31h-2.392L363.293 72h2.774l3.51-10.182h-2.386l-2.466 7.736h-.094l-2.461-7.736zm11.198 10.33c1.889 0 3.162-.92 3.46-2.337l-1.958-.129c-.214.582-.761.885-1.467.885-1.059 0-1.73-.7-1.73-1.84v-.004h5.2v-.582c0-2.595-1.571-3.878-3.589-3.878-2.247 0-3.704 1.596-3.704 3.953 0 2.42 1.437 3.932 3.788 3.932zm-1.695-4.738c.045-.87.706-1.566 1.646-1.566.919 0 1.556.656 1.561 1.566h-3.207zM378.255 72h2.118v-4.32c0-.94.686-1.586 1.621-1.586.293 0 .696.05.895.114v-1.88a3.186 3.186 0 00-.666-.074c-.855 0-1.556.497-1.835 1.442h-.079v-1.332h-2.054V72zm7.269 2.864c1.576 0 2.411-.806 2.844-2.039l2.968-8.451-2.243-.01-1.595 5.608h-.08l-1.581-5.608h-2.227l2.739 7.855-.124.323c-.279.716-.811.75-1.556.522l-.478 1.58c.304.13.796.22 1.333.22zM395.699 72h2.153v-4.206h4.37V72h2.148V61.818h-2.148v4.201h-4.37v-4.2h-2.153V72zm10.406 0h2.118v-7.636h-2.118V72zm1.064-8.62c.631 0 1.148-.483 1.148-1.075 0-.586-.517-1.069-1.148-1.069-.627 0-1.144.483-1.144 1.07 0 .591.517 1.073 1.144 1.073zm6.191 11.643c2.182 0 3.733-.995 3.733-2.948v-7.711h-2.103v1.282h-.079c-.284-.621-.905-1.382-2.183-1.382-1.675 0-3.092 1.303-3.092 3.903 0 2.54 1.377 3.724 3.097 3.724 1.218 0 1.899-.612 2.178-1.243H415v1.397c0 1.049-.671 1.456-1.591 1.456-.934 0-1.407-.407-1.581-.87l-1.958.264c.253 1.203 1.431 2.128 3.49 2.128zm.044-4.723c-1.039 0-1.605-.826-1.605-2.143 0-1.298.556-2.207 1.605-2.207 1.03 0 1.606.87 1.606 2.207 0 1.347-.586 2.143-1.606 2.143zm7.493-2.715c.005-.984.606-1.56 1.471-1.56.86 0 1.367.551 1.362 1.49V72h2.118v-4.862c.005-1.79-1.049-2.874-2.64-2.874-1.158 0-1.933.547-2.282 1.447h-.089v-3.893h-2.058V72h2.118v-4.415z"}),h.createElement("path",{fill:"url(#g)",d:"M429.91 72.98h14v-14h-14v14z"}),h.createElement("g",{filter:"url(#h)"},h.createElement("path",{fill:"#fff",d:"M180.365 148.358h5.588c-.427-4.087-4.136-7-8.949-7-5.488 0-9.943 3.778-9.943 10.5 0 6.443 4.037 10.42 9.983 10.42 5.33 0 9.148-3.261 9.148-8.829v-2.824h-9.029v3.937h3.699c-.05 1.77-1.302 2.904-3.778 2.904-2.864 0-4.335-2.108-4.335-5.688 0-3.529 1.59-5.608 4.375-5.608 1.73 0 2.903.796 3.241 2.188zm15.802 13.92c4.236 0 6.96-2.028 7.478-5.21h-5.012c-.318.865-1.223 1.352-2.346 1.352-1.631 0-2.586-1.073-2.586-2.545v-.239h9.944v-1.272c0-4.863-2.983-7.836-7.597-7.836-4.733 0-7.756 3.142-7.756 7.875 0 4.942 2.983 7.875 7.875 7.875zm-2.466-9.664c.03-1.323 1.124-2.228 2.466-2.228 1.362 0 2.397.915 2.426 2.228h-4.892zm21.291-5.887h-2.625v-3.659h-5.488v3.659h-1.949v3.978h1.949v6.9c-.04 3.202 1.938 4.823 5.727 4.614a11.203 11.203 0 002.665-.478l-.796-3.857c-.209.049-.746.159-1.074.159-.716 0-1.034-.319-1.034-.955v-6.383h2.625v-3.978zm7.579 12.091h9.904V162h5.29v-3.182h2.346v-4.295h-2.346v-12.887h-7l-8.194 12.887v4.295zm10.023-4.295h-4.574v-.159l4.415-7h.159v7.159zm18.706 8.034c5.538.01 8.978-3.958 8.988-10.699.01-6.702-3.45-10.5-8.988-10.5-5.549 0-8.969 3.778-8.989 10.5-.02 6.712 3.44 10.689 8.989 10.699zm0-4.495c-1.909 0-3.282-1.919-3.262-6.204.02-4.186 1.353-6.046 3.262-6.046s3.251 1.86 3.261 6.046c.01 4.285-1.352 6.204-3.261 6.204zm20.453 4.495c5.538.01 8.979-3.958 8.988-10.699.01-6.702-3.45-10.5-8.988-10.5-5.548 0-8.969 3.778-8.989 10.5-.02 6.712 3.441 10.689 8.989 10.699zm0-4.495c-1.909 0-3.281-1.919-3.262-6.204.02-4.186 1.353-6.046 3.262-6.046s3.251 1.86 3.261 6.046c.01 4.285-1.352 6.204-3.261 6.204zm20.453 4.495c5.538.01 8.979-3.958 8.989-10.699.01-6.702-3.451-10.5-8.989-10.5-5.548 0-8.969 3.778-8.989 10.5-.02 6.712 3.441 10.689 8.989 10.699zm0-4.495c-1.909 0-3.281-1.919-3.261-6.204.019-4.186 1.352-6.046 3.261-6.046s3.251 1.86 3.261 6.046c.01 4.285-1.352 6.204-3.261 6.204zM312.112 162h5.926l2.148-8.193h.159l2.148 8.193h5.926l3.818-15.273h-5.488l-1.671 9.228h-.119l-2.029-9.228h-5.329l-1.949 9.307h-.119l-1.75-9.307h-5.489L312.112 162zm26.051.239c1.989 0 3.49-.677 4.415-2.387h.119V162h5.131v-10.46c0-2.824-2.675-5.012-7.04-5.012-4.564 0-6.811 2.387-7 5.171h5.051c.13-.945.826-1.392 1.87-1.392.954 0 1.63.437 1.63 1.233v.04c0 .884-.974 1.163-3.539 1.352-3.152.229-5.608 1.501-5.608 4.852 0 3.043 2.048 4.455 4.971 4.455zm1.79-3.461c-.935 0-1.591-.457-1.591-1.312 0-.786.557-1.392 1.83-1.591.875-.139 1.611-.318 2.187-.557v1.273c0 1.392-1.183 2.187-2.426 2.187zm19.606-12.051h-2.625v-3.659h-5.489v3.659h-1.949v3.978h1.949v6.9c-.04 3.202 1.939 4.823 5.727 4.614a11.192 11.192 0 002.665-.478l-.795-3.857c-.209.049-.746.159-1.074.159-.716 0-1.034-.319-1.034-.955v-6.383h2.625v-3.978zm9.433 15.551c4.524 0 7.298-2.595 7.358-6.642h-5.091c-.119 1.601-.984 2.466-2.187 2.466-1.442 0-2.387-1.233-2.387-3.738 0-2.506.945-3.739 2.387-3.739 1.213 0 2.038.865 2.187 2.466h5.091c-.03-3.977-2.863-6.563-7.358-6.563-4.971 0-7.915 3.182-7.915 7.875 0 4.694 2.944 7.875 7.915 7.875zm15.111-8.869c.01-1.511.885-2.426 2.228-2.426 1.402 0 2.197.915 2.187 2.426V162h5.489v-9.744c.01-3.341-2.098-5.728-5.33-5.728-2.257 0-3.927 1.154-4.613 3.103h-.16v-7.995h-5.289V162h5.488v-8.591zm27.299-6.682h-2.625v-3.659h-5.488v3.659h-1.949v3.978h1.949v6.9c-.04 3.202 1.939 4.823 5.727 4.614a11.192 11.192 0 002.665-.478l-.796-3.857c-.209.049-.745.159-1.074.159-.715 0-1.034-.319-1.034-.955v-6.383h2.625v-3.978zm2.24 15.273h5.489v-15.273h-5.489V162zm2.744-16.864c1.492 0 2.705-1.123 2.705-2.505s-1.213-2.506-2.705-2.506c-1.491 0-2.704 1.124-2.704 2.506 0 1.382 1.213 2.505 2.704 2.505zM421.927 162h5.489v-8.909c0-1.332.696-2.148 1.829-2.148 1.134 0 1.87.816 1.87 2.148V162h5.25v-8.909c0-1.332.696-2.148 1.829-2.148 1.134 0 1.87.816 1.87 2.148V162h5.488v-10.301c0-3.132-2.008-5.171-4.932-5.171-2.267 0-4.096 1.233-4.613 3.103h-.159c-.319-1.87-2.029-3.103-4.176-3.103-2.118 0-3.739 1.194-4.375 3.103h-.16v-2.904h-5.21V162zm33.65.278c4.236 0 6.961-2.028 7.478-5.21h-5.012c-.318.865-1.223 1.352-2.346 1.352-1.631 0-2.585-1.073-2.585-2.545v-.239h9.943v-1.272c0-4.863-2.983-7.836-7.597-7.836-4.733 0-7.756 3.142-7.756 7.875 0 4.942 2.983 7.875 7.875 7.875zm-2.465-9.664c.029-1.323 1.123-2.228 2.465-2.228 1.363 0 2.397.915 2.427 2.228h-4.892zm22.016 9.625c1.989 0 3.49-.677 4.415-2.387h.119V162h5.131v-10.46c0-2.824-2.675-5.012-7.04-5.012-4.564 0-6.811 2.387-7 5.171h5.051c.13-.945.826-1.392 1.87-1.392.954 0 1.63.437 1.63 1.233v.04c0 .884-.974 1.163-3.539 1.352-3.152.229-5.608 1.501-5.608 4.852 0 3.043 2.048 4.455 4.971 4.455zm1.79-3.461c-.935 0-1.591-.457-1.591-1.312 0-.786.557-1.392 1.83-1.591.875-.139 1.61-.318 2.187-.557v1.273c0 1.392-1.183 2.187-2.426 2.187zm15.986-5.369c.01-1.511.865-2.426 2.227-2.426 1.382 0 2.198.915 2.188 2.426V162h5.489v-9.744c.009-3.321-2.089-5.728-5.33-5.728-2.247 0-4.027 1.174-4.693 3.103h-.159v-2.904h-5.211V162h5.489v-8.591zm18.141 8.79c2.148 0 3.62-1.154 4.256-2.705h.119V162h5.449v-20.364h-5.488v7.756h-.08c-.596-1.551-2.028-2.864-4.295-2.864-3.023 0-5.966 2.307-5.966 7.836 0 5.289 2.744 7.835 6.005 7.835zm2.029-4.216c-1.512 0-2.386-1.352-2.386-3.619 0-2.267.874-3.62 2.386-3.62 1.511 0 2.426 1.353 2.426 3.62 0 2.227-.915 3.619-2.426 3.619zm-318.67 19.653h-5.091l-5.012 3.063v4.693l4.455-2.665h.119V198h5.529v-20.364zm13.05 20.921c5.538.01 8.979-3.958 8.989-10.699.01-6.702-3.451-10.5-8.989-10.5-5.548 0-8.969 3.778-8.989 10.5-.02 6.712 3.441 10.689 8.989 10.699zm0-4.495c-1.909 0-3.281-1.919-3.261-6.204.02-4.186 1.352-6.046 3.261-6.046s3.251 1.86 3.261 6.046c.01 4.285-1.352 6.204-3.261 6.204zm20.453 4.495c5.538.01 8.979-3.958 8.989-10.699.01-6.702-3.451-10.5-8.989-10.5-5.548 0-8.969 3.778-8.988 10.5-.02 6.712 3.44 10.689 8.988 10.699zm0-4.495c-1.909 0-3.281-1.919-3.261-6.204.02-4.186 1.352-6.046 3.261-6.046s3.252 1.86 3.262 6.046c.009 4.285-1.353 6.204-3.262 6.204zm20.453 4.495c5.539.01 8.979-3.958 8.989-10.699.01-6.702-3.45-10.5-8.989-10.5-5.548 0-8.968 3.778-8.988 10.5-.02 6.712 3.44 10.689 8.988 10.699zm0-4.495c-1.909 0-3.281-1.919-3.261-6.204.02-4.186 1.352-6.046 3.261-6.046s3.252 1.86 3.262 6.046c.01 4.285-1.353 6.204-3.262 6.204zm31.162-6.363c-.139-3.232-2.824-5.171-7.238-5.171-4.365 0-7.06 1.79-7.04 4.972-.02 2.406 1.541 3.947 4.653 4.494l2.705.478c1.193.218 1.73.537 1.75 1.113-.02.637-.746.995-1.75.995-1.243 0-2.118-.537-2.267-1.512h-5.449c.298 3.132 3.003 5.21 7.676 5.21 4.226 0 7.338-2.058 7.358-5.329-.02-2.257-1.531-3.57-4.653-4.137l-3.103-.556c-1.163-.209-1.491-.627-1.471-1.074-.02-.637.765-.994 1.71-.994 1.084 0 1.989.576 2.068 1.511h5.051zm12.404 3.619c.01 1.512-.865 2.426-2.227 2.426-1.382 0-2.178-.914-2.187-2.426v-8.591h-5.489v9.745c.01 3.34 2.118 5.727 5.329 5.727 2.277 0 4.027-1.154 4.694-3.102h.159V198h5.21v-15.273h-5.489v8.591zm8.201 6.682h5.449v-2.506h.119c.636 1.551 2.108 2.705 4.256 2.705 3.261 0 6.005-2.546 6.005-7.835 0-5.529-2.943-7.836-5.965-7.836-2.267 0-3.699 1.313-4.296 2.864h-.079v-7.756h-5.489V198zm5.369-7.636c0-2.267.915-3.62 2.426-3.62 1.512 0 2.387 1.353 2.387 3.62 0 2.267-.875 3.619-2.387 3.619-1.511 0-2.426-1.392-2.426-3.619zm26.718-2.665c-.14-3.232-2.824-5.171-7.239-5.171-4.365 0-7.06 1.79-7.04 4.972-.02 2.406 1.541 3.947 4.654 4.494l2.704.478c1.193.218 1.73.537 1.75 1.113-.02.637-.746.995-1.75.995-1.243 0-2.118-.537-2.267-1.512h-5.449c.299 3.132 3.003 5.21 7.676 5.21 4.226 0 7.338-2.058 7.358-5.329-.02-2.257-1.531-3.57-4.653-4.137l-3.102-.556c-1.164-.209-1.492-.627-1.472-1.074-.02-.637.766-.994 1.71-.994 1.084 0 1.989.576 2.068 1.511h5.052zm9.858 10.579c4.524 0 7.299-2.595 7.358-6.642h-5.091c-.119 1.601-.984 2.466-2.187 2.466-1.442 0-2.387-1.233-2.387-3.738 0-2.506.945-3.739 2.387-3.739 1.213 0 2.038.865 2.187 2.466h5.091c-.03-3.977-2.863-6.563-7.358-6.563-4.971 0-7.915 3.182-7.915 7.875 0 4.694 2.944 7.875 7.915 7.875zm9.623-.278h5.488v-7.955c0-1.75 1.204-2.903 2.824-2.903.567 0 1.482.09 2.029.278v-4.683a4.977 4.977 0 00-1.392-.209c-1.631 0-2.904.955-3.461 3.103h-.159v-2.904h-5.329V198zm12.14 0h5.489v-15.273h-5.489V198zm2.745-16.864c1.491 0 2.704-1.123 2.704-2.505s-1.213-2.506-2.704-2.506c-1.492 0-2.705 1.124-2.705 2.506 0 1.382 1.213 2.505 2.705 2.505zM372.041 198h5.449v-2.506h.119c.637 1.551 2.108 2.705 4.256 2.705 3.261 0 6.006-2.546 6.006-7.835 0-5.529-2.944-7.836-5.966-7.836-2.267 0-3.699 1.313-4.296 2.864h-.079v-7.756h-5.489V198zm5.369-7.636c0-2.267.915-3.62 2.426-3.62 1.512 0 2.387 1.353 2.387 3.62 0 2.267-.875 3.619-2.387 3.619-1.511 0-2.426-1.392-2.426-3.619zm20.076 7.914c4.235 0 6.96-2.028 7.477-5.21h-5.011c-.319.865-1.223 1.352-2.347 1.352-1.631 0-2.585-1.073-2.585-2.545v-.239h9.943v-1.272c0-4.863-2.983-7.836-7.597-7.836-4.733 0-7.755 3.142-7.755 7.875 0 4.942 2.983 7.875 7.875 7.875zm-2.466-9.664c.03-1.323 1.123-2.228 2.466-2.228 1.362 0 2.396.915 2.426 2.228h-4.892zM407.203 198h5.488v-7.955c0-1.75 1.203-2.903 2.824-2.903.567 0 1.482.09 2.029.278v-4.683a4.978 4.978 0 00-1.393-.209c-1.63 0-2.903.955-3.46 3.103h-.159v-2.904h-5.329V198zm26.1-10.301c-.139-3.232-2.823-5.171-7.238-5.171-4.365 0-7.06 1.79-7.04 4.972-.02 2.406 1.541 3.947 4.653 4.494l2.705.478c1.193.218 1.73.537 1.75 1.113-.02.637-.746.995-1.75.995-1.243 0-2.118-.537-2.267-1.512h-5.449c.298 3.132 3.003 5.21 7.676 5.21 4.226 0 7.338-2.058 7.358-5.329-.02-2.257-1.531-3.57-4.653-4.137l-3.103-.556c-1.163-.209-1.491-.627-1.471-1.074-.02-.637.766-.994 1.71-.994 1.084 0 1.989.576 2.068 1.511h5.051zm17.227-4.972h-2.784v-.676c0-.716.278-1.193 1.312-1.193.398 0 .995.08 1.392.199l.796-3.938c-.636-.159-2.108-.437-3.5-.437-3.341 0-5.489 1.829-5.489 5.608v.437h-1.949v3.978h1.949V198h5.489v-11.295h2.784v-3.978zm5.745 15.512c1.988 0 3.49-.677 4.414-2.387h.12V198h5.13v-10.46c0-2.824-2.674-5.012-7.039-5.012-4.564 0-6.811 2.387-7 5.171h5.051c.129-.945.825-1.392 1.869-1.392.955 0 1.631.437 1.631 1.233v.04c0 .884-.975 1.163-3.54 1.352-3.152.229-5.608 1.501-5.608 4.852 0 3.043 2.048 4.455 4.972 4.455zm1.789-3.461c-.934 0-1.59-.457-1.59-1.312 0-.786.556-1.392 1.829-1.591.875-.139 1.611-.318 2.188-.557v1.273c0 1.392-1.184 2.187-2.427 2.187zm24.458-7.079c-.139-3.232-2.824-5.171-7.238-5.171-4.365 0-7.06 1.79-7.04 4.972-.02 2.406 1.541 3.947 4.653 4.494l2.705.478c1.193.218 1.73.537 1.75 1.113-.02.637-.746.995-1.75.995-1.243 0-2.118-.537-2.267-1.512h-5.449c.298 3.132 3.003 5.21 7.676 5.21 4.226 0 7.338-2.058 7.358-5.329-.02-2.257-1.531-3.57-4.653-4.137l-3.103-.556c-1.163-.209-1.491-.627-1.471-1.074-.02-.637.765-.994 1.71-.994 1.084 0 1.989.576 2.068 1.511h5.051zm11.609-4.972h-2.625v-3.659h-5.489v3.659h-1.949v3.978h1.949v6.9c-.04 3.202 1.939 4.823 5.727 4.614a11.192 11.192 0 002.665-.478l-.795-3.857c-.209.049-.746.159-1.074.159-.716 0-1.034-.319-1.034-.955v-6.383h2.625v-3.978zm8.603-5.091h-5.568l.517 14h4.534l.517-14zm-2.784 20.682c1.462 0 2.764-1.233 2.784-2.784-.02-1.511-1.322-2.744-2.784-2.744-1.541 0-2.804 1.233-2.784 2.744-.02 1.551 1.243 2.784 2.784 2.784z"})),h.createElement("path",{fill:"#652E32",d:"M619.955 27.364h-2.006l-2.892 1.858v1.931l2.721-1.738h.069V39h2.108V27.364zm10.752 11.806c2.557 0 4.182-1.8 4.182-4.5 0-2.704-1.625-4.51-4.182-4.51-2.556 0-4.181 1.806-4.181 4.51 0 2.7 1.625 4.5 4.181 4.5zm.012-1.647c-1.415 0-2.108-1.262-2.108-2.858 0-1.597.693-2.875 2.108-2.875 1.392 0 2.085 1.278 2.085 2.875 0 1.596-.693 2.858-2.085 2.858zm10.336-7.25h-1.812v-.688c0-.682.284-1.062 1.051-1.062.324 0 .597.074.767.125l.415-1.591a5.128 5.128 0 00-1.563-.239c-1.517 0-2.727.87-2.727 2.63v.825h-1.29v1.59h1.29V39h2.057v-7.136h1.812v-1.591zm9.733 8.886c2.489 0 4.301-1.426 4.296-3.392.005-1.455-.904-2.5-2.534-2.733v-.09c1.261-.274 2.108-1.211 2.102-2.518.006-1.773-1.506-3.221-3.83-3.221-2.261 0-4.011 1.346-4.056 3.295h2.028c.034-.977.943-1.585 2.017-1.585 1.085 0 1.807.659 1.801 1.636.006 1.017-.835 1.693-2.04 1.693h-1.028v1.625h1.028c1.472 0 2.347.739 2.341 1.79.006 1.029-.886 1.733-2.13 1.733-1.171 0-2.074-.608-2.125-1.557h-2.137c.057 1.966 1.813 3.324 4.267 3.324z"})),h.createElement("defs",null,h.createElement("filter",{id:"a",width:"488",height:"212",x:"100",y:"136",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},h.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),h.createElement("feOffset",{dy:"4"}),h.createElement("feGaussianBlur",{stdDeviation:"8"}),h.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),h.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),h.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),h.createElement("filter",{id:"c",width:"588",height:"212",x:"50",y:"120",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},h.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),h.createElement("feOffset",{dy:"4"}),h.createElement("feGaussianBlur",{stdDeviation:"8"}),h.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),h.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),h.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),h.createElement("filter",{id:"e",width:"688",height:"316",x:"0",y:"0",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},h.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),h.createElement("feOffset",{dy:"4"}),h.createElement("feGaussianBlur",{stdDeviation:"8"}),h.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),h.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),h.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),h.createElement("filter",{id:"h",width:"369.808",height:"74.432",x:"159.061",y:"136.125",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},h.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),h.createElement("feOffset",{dy:"4"}),h.createElement("feGaussianBlur",{stdDeviation:"4"}),h.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),h.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),h.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),h.createElement("feOffset",{dy:"1"}),h.createElement("feGaussianBlur",{stdDeviation:"0.5"}),h.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),h.createElement("feBlend",{in2:"effect1_dropShadow",result:"effect2_dropShadow"}),h.createElement("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),h.createElement("linearGradient",{id:"b",x1:"116",x2:"333.083",y1:"202.783",y2:"458.57",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#5270DB"}),h.createElement("stop",{offset:"1",stopColor:"#3EEBE0"})),h.createElement("linearGradient",{id:"d",x1:"66",x2:"212.879",y1:"280.696",y2:"-34.917",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#3FF6EB"}),h.createElement("stop",{offset:"1",stopColor:"#4AF25B"})),h.createElement("linearGradient",{id:"f",x1:"16",x2:"362.237",y1:"98.435",y2:"470.416",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#FF4273"}),h.createElement("stop",{offset:"1",stopColor:"#FF8C5A"})),h.createElement("pattern",{id:"g",width:"1",height:"1",patternContentUnits:"objectBoundingBox"},h.createElement("use",{transform:"scale(.01563)",xlinkHref:"#i"})),h.createElement("image",{id:"i",width:"64",height:"64",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAZDElEQVR4Ae2ZBXgc192v3zMzu7O8K5YsWcaaMWQHHYY6zMz03Vu4bVJOmzJzyszcJMXEYYcZ7Zhly5bFyzs7POeOV/b3uIyBD97n+Z2jRek9//85WuB/+R+Oxn9DrnzDu9u0iD4jEktORdMmx9O5nKJFpFkzxivFwprtW7Y/AhgA2lGnvp7/DnSng7Z4U2tPPJtdHE1kl2vx5EJVT/YokViTEtVjihqRetY1iY5si43Wblm7YegzQEVMPeBq/qvyjesPyX74s988YL8TznzdtH0OOVTPNDf5SoyaFVA1bUzbwQ9AKBpxPUoyHgXXYePTz7D6rgdXDRcrl2oFV/2v1+LLgpaWlubr8sSvvOa6N7cRT2MmNJymSQyOGIzlS1RqdQIpiYXimWQoH0sQTURwaj62D0o6d5xw/LM0kUzyX4Vr97Was03NN/bOeM15Xb3T2tATuIGgXKlhDm6hf/1GCs37Mly28dyAuB4hqSdIphKkMxE0oFCpUatb+JEIXjTSq4UDr3bevJ8T0eOJt85cfNA1vXPmT9YSGcp1m8p4HqNSIl+sMLkjvK60hdr2e9Fz++LH0sQTUdLpBNlQPhFTcQwb06zjSokjNHwRiWvhwKuZd6wQ505duP+7XtPduyC1qQ/zW9/BGBtHtLZSX7CEfFMzUgSs3biVVCbHnCZBa+UFxrL7I7LtNGcgl9XQFYlvAeFs+QFWIJFSooUDr0ZuOMTvTPdO++ABqn7FzFX3suGOVdzft5Ei0A4chs6yhbN58viTeGTBUppaW9A0jWQiRkdHhFJlC8VEnGx7Dy0pSUyVKAT4UlJzPGzXQwl8UwsHXm28b2XuxO6eyTcd+szzUwe/+CW+lUpx7+Qe8tOOo1SuMLZzB7PzRT5Zsjn8uSeoCIXNBx5IVo9M7Pdkgsld7ZRKW5ER6M72oCGwTLWx/6uWi+s4qNIrauHAq4V3HZnQk21tNy6aMu0dS770NX7x4P08fP6F5OYuoHPbVvz+bViVGslEhsctmxsKo9w6lODQ4u1sX7yEZGszmUSMXCaJZTvE9Qy50rN0tls40ZnYtk+halKzHFzHlJpnD2mBZ/Nq4PpD9I6Wzs5vLFyy74kzb3gPNz3zJLUPfJRWw6Tv2WcYDKs+PDREsVjANAyEXedh32eD47B8x2am7tgGC+aQiUXIZdJY1SKbtm1h0YrjKQz8mnp7nOHxJOOFCpbl4NvmuFsvrtfMepFXmhtPmLRkxuw5P5+z/JCZiQ98gJufe5bR628gGB6hf/NmBgd3yQ9TKZdwrDq+Y4Hv4vk+tY52aIrTHF7v7TrxY1FSepSOVA+zeqeBgNa24/nd6lt4cXwR4yUD26rj2+azuP5aTbo+ryRvPbL58HmLFt+y5Ihjczt+/nPqv/kNtx92BC2FIn3rX2R4cCdjY6MYtSquZSIdCxkEYSCGoGtKL3S1EG1rJZmMk9EjJDQNBfB8Fyklpm+RjbbQ99jtVKwuHLMO9fJdQEUj4BXjbUdlz93vkEO/MW/f5cktm7dh/+wn1Ds6sFo72LDmhbDqgxTyY9RrNTzbRLr2hLyUIH0OyDTxmqYsvh7DnjaN9liUuKKiABJJ4AfUrCo7BnZSqprM0kd4ccDCNj3AfRZAA5dXgnOnV89Ydvhp35o+b3F8tGax89lnWRLK/DZfYHB4hFpY+VKxgLFL3jIJBwLfb4hJSYOr29qI/u53DOx/APGrryGlKAgkvvTwfZ+6VWd4ZJQdO4YYGtjU6JA24wWGjM5xpHgKQEMKXm7u+vRFry1UjO/2zloQHypUGanUUSplsgG0KSpb+7eh1SoNeT+UCBwLKXdXvpGAC3LNnO35MDxE4XX7097WAo6DG7jhZGNadQrFEkODo4yNjTGaNxgey9MRM9GqW38E5AE0zSvycrJyv+mpZx+//3P7HXdacqhQY7RQpGi7pGoGVt9WDlY0JpXGWW/a4FgTCXyQhGkMXJZM8/lEkkgo1n/s0YhzzyLu2jhhbLuOYdSpVGvk8wXGw5RKZRzHxzUtTDugRan9gt1oLUqFl4vD583PHnTBFff0ivzMoeEiZUdQrtaoWDYj8RwzPUmvY/C9XJZvVHdwm20w5PsgBB1IjohGOEdVOVHRYHCE/iMOIf/BG+lOJbDMOpZlhPI1qtU6xXKFQqFEqVymEqZcKjM2Okrb5LZK3k+MsRutuaudl4ML7/v1gTt7uz657PD99hESnrztdnZu7yeSSKMJwQ5UVi09kDMfvoNsPM37p/Xypq19DNgOMQEzEHQFEkJRSZ2tRx1L/rMfp3vKZLx6KF6vUQ/nWs2gXAlTrlKpVKlWKlTClHctRNXg+R2llcB6dqONjQ7xUvPR/hcuNdKJr09dvkyrC9iwxaI+aRn17UOkzBqz50xh3aY+ts6az7dDwZXb19NaLWJXq2SAVkAFRgGru4f+yy8j+X+voTum4xvVCXmjFs4m1epE+1fDVPbIV6qUSxXy5dpv04IH2QstLWxeKj61dWOyHIl8KpVOX/Oo3sJBZ1/Jlj6bwcES48UKsnN/RtfeTd+dD9Lc1oUiwD9kBTdXlqL2byE3eQPNlkE6qhOfOpX04SuYdOAyuro7Sfouzi7x3fI1w8QIUzXqfyhfrjTOgHyh6Bfz+ev5I7TwSl4KvlXNL2nWY9+PxfQFDw2Pwbs/TKA007dlkEK5RLFqUDFdaFmKsv0hUnaNpo4uYtEIye5W9P0WoSfjJBIxMqkELbk0LXGdpALCtbEcqyFu1icq/58LUAvlq9U98o3Kl4olRsZrX4gnmzbwR2jhlfy9fKLaF00ZfpvmB+WoEHUgYDcFP1BsSOmquiweibyhPZY41gj86ECpyKrepZy07Cj6+nYyPDZO2ahTMx0s18NDIdK1nO2Dj5JNVUg3TyYW1UjrYeJRsqF0JpyTKsSlj/QCHNtsVH5i31uNNNq/ZlAN5at7yRdLZcbzpTHTdj/An0Hkembz93Iv47+apiWOqZt20XCcctX3LQsCpFRUIeIxRWnOBUG77bkMA+Oq4Ed2hPJl72S/lecwMDTeqLxhO9hegI9AKApqNE5UgcTA/Ry2YBJdk6eTiGk0ZVJkEjFSyRixiIKQAbZlYpoTbV83rTB2YwFqjdavNtq9VCw2XgOMjxcYHBpmaKx4AnA7fwbRPmMOfw+32WPvXij090dsF3x/Ip4HQdBI4Pu44VySAdsiEcY1jU1BwBdys1j+/z6EkutktFjGsFwcXxIAQo0QiYSJRtBjcTQhaR++l5OW9xBtmktEWExqbyYRi4L0cSwL0zSohzHru+Qd6paFsUu+VqNamdjvxUKJQpiR0TGGhse+B1zCX0CLaRp/i1XGztd50ez7tWoVHGdC3HUbsx+AL8AFbAF5VaGsKBgC7gtiqB1Tqfkq9bAaFdNpyEuhoKgaEUWgKCoRTUPXBOlUBpE7kZGRn7I4O8QLI1PozApkJIll7aq0GYrXMU0H0wrld19XqxlUqhWq5QqVcpVSOBdLJcKDb3u1br6Rv4IW3oG/xrOyeKkq4jfpto1wd8t7LtL3kYCvgAc4QEVAUQgMIRkI4LloE9l0G+OlKpYSxQkkCBVFFaiKQkRT0aMq8cZ+12lKaLQ0tVEOLiewPsrh0+uk0p2h6DD1qkcljGl5WLaLaU/IT1S/SmVCvrHni8UyY2MFp1wxztcUpcRfQQvvwF/iQX/80C4l8o11isIs2wDp7Y5PIGQY8AFPQp2GfCN+EPCkmkTGkniRBBXTJghFpVBRNQVNDaMpjcrHo5GGfEs6Tks2SVNSkEp2sqn+TmZH300mkmLT6GRqFYdKTcGyA2xnT+sbGBMH38QLn8YWqFAoFCmUqu8UQnmIv4EmhPLnDzx7ZFpbLHazI101IQJiwgbVh8BDIgkAX07EClMOUwQsAoalyuNqhlgig5dpRVU1BKAogogqiGpK46RPxqLkkqF8JhHKJ2hKRUlEBJhVqobKj3dexMqxD6Knj6BYmRpe52E5HvZ/Vr/WaP9qpUa50mj9xuv/sUL5M4qqfIq/Ay28I3/MPfXBVDoe+3lTOmgd9WGSb4MIwJWN+BICfyKuBCOAigc1KSHMZpHAisRJZSahNLehqBGU3ZXXIyqxXVWP6TSnYzTvkg+TTUaIaWBLiVGpUB/eSb4c8LmNF3NM+iZoOo1KvZ16rYptW1im2Tj5J/Z/bc/hx9hY8dcKvJm/E02R7A1POkNCS8Y+2TZN31diUDehVQbgKeD6SAeY2AV4LtgeGC5UfTDDBA5sUhOokRR0TiaWSaNGNRRFIxrRGid6JhGjKRNvVD2XjpOOq0SUie/zpqz6GUUJfZ0zsCoVqk6Ur49dRnfpN3RN3x9VT1AqljEtc/cBWKdcmXjjMzqWfyBfqJzLP4AWPoC98ZLK6R2LEteQc7EtyJRASe7ucyeYOAKcMC6Nn20HajaYDgQ2jCoKG7w0WjxLvKOTVDKBomloYRIxnUwy3pBuTofyqRgJXUH4DiOFPJN/+AVO+8nXGe3p5e4r34/p+lhhTKnzTHA4z/z+Nxy/8jDKholZrex+7W80qh/KP1g1jJOiMdXkH0ALH8AeHvPLndkF2S8qczxwfKRjk0lFQHHA8ZB2QOCC74FnTUjXwlQtMMMEERgUUYx6nEyulWxrK+lQWFU1Yo3Kx8mmwiR1UrEIEeni1mrsGNjC7O99jvMevQszneTDR59HwXLxbQfLndjzDgpm07785Cf3MH/+DCzLoVSuNl79jY/nH6pWzVNAlPkH0WQg2EO2O35j5mitAxwIAqg4qBkNAgluAI4kcECGCSxwXLBtMA3wdBBR2F4EqeokOztoaWkmGQrr0QipRIx0fJd4FF0TCKtCrV6mb/0zvOZn3+bCHRsJEinecfi5PNXUi1atNuQd18VxHBzbxYtmcHJzWL9+A7lsEtO0GBkeub1eMy4BCvwTaPg2AM/F3ZUdp6Supd0DWxD4PpqnIZIauC44E2eAcAATlARUDL5vdHBrW5zI0AZNe26bMr0w96j3ZMtorT1ddLQ1kUgkiOlRknqEmCZQAhOnVKVaHmHDI3fTevNPuCoKajLFdQuP5P72GcTLJep+gOt6YZwwPp7n4Toujpah4rdT6F8fTJ2/+HGvKC6Oxhjjn0Q0zz6Yh0bW6p0ro6tzF4hlGBICgXQsMEFEog1xXBsci8D2ERKeW8PDtz7EUYAFUDzyypO2bhvQmubtf/Pm/mHmHngEk2fOaRx8UVWg4hNYBkY5z/jYAAOrb0O58/d86OgjmGVUuNHO8KOZ+5NG4EmJ6/uheBCK+/i+j7drMRwL23YxDcP0x9afA/yGfxGtUCwS7VYuzZ7jLiMlQWcCx0M4Knh+GMCOgitRfBvPCtzv3in/D2DVTrw2sn208s3a2o0X7T9vhr/qkfuZsvAQZs56DboeQZEegWNTrxQpjg8zvG095VDeX/s87zwilD/rVL53zzN8Y0whXatRY+KFlC8lng9+YwE8bMfBsWzc8sijfmXwTcCj/BsQD6ayrfOvVx7JXeLPpApIIBBgOSBVsJUwgKWEAXSPm39gfBx42725M7PbK/rnnnjwvkuScUmuezYvPPEo8444m9MvvLzx786slKjmxxgZGWT0xacIHrgLSuMcG9V5/X9cwRpinPToDrx4EkUIAqEg97zICmSj8rUwiVoRr1r8Zr029DrA4t+E1rKfclXuQmWyHxeDSlypBL4sSy3oq21RVC0ZnRFrlmoQSDUqUBGKVlpL6cGH5McB3BPtzkfufOTcng4Tfe7B9JvtZLuGePGh36LrOsceczTlkR0MbNtG6bknSD3/GHEZkELl7GwKuepO3hWfzlg0Q9oyCJQIUlGQiIa87Xk4lsU+xR2cOvzit4Er+TcjRt6qt8UvEZppBtVMW9QEfP4MsZQvaI6pgMduPnWM0+VPif7sp+OHHjJkd6KoAt0qMvjo7fhKhCUHHkWzGsCj95MujhJBxQIuS4RVz6X4tJLluqaZNGm7xFVQNBQJSigubJOeWp7LC1s4rJ5f8wXJAYDJvxlxFf84h+yHps7g1NOv5ab4srmdZ92wP7c9kaArNkanWkBPT+WF+36N5RnMMKPMsiooaLhAB5KPtmbwtSiL0jMZ1jMkEMR9Scaq02qUmGSVWGEVON6r0gzWdQFLgfW8BIjL/lH5I9nv5PNavtN6bM982lpBSzE4HOOSt9cwRsv0TN+XpTN72Dma5+avfoH51RpJBDHAQnJdNs2hqTTvCZJ8XmtlimfSZNZoMat0ewYHBSYLhE+HgATwiOSXwJm8RGjnK/xd/GYqyrUH8+PeNx702uTSeSm8CHg+uAkmTQq45bMeH/tyC8hJeASMDWxmgWOTBSYJgRKVnHBWjkMPEez4quSxNQVWBEP0Bg7zcJkuJN0CWlRQ5UQCkI8EfIaXEPF+/j5O+Q9uXXRa2ymsOA28if2KVIEE4IBm4hqD/PDWSdzy822Yd/+etC3REXTENVa0SU4NApzPtKz99OdKafmg2ztLhQ4gt7vaugQViEqIAGUY/mLATMDgJUKr87e55By6px/NUUFvK4pIg7DDdIRRISiBdMCNEsktZcHkR/j272+jFYghyGiwbzecUPbYOKf7oXu2u6fIQfGDYwS9GhAXYQCtIT8RZXd8KCTA5CVES/DXcRazomdffhDpaUqJngPAlyD0MN0QlEGGQYVEG5ufLHPLW59iXgZkHRQPjto3xhmLfDbvYOdbZiy7jD7yh0Z/VWuPgudNVHuPtLbXzwBRIawrVQJeQrQrVcHevONAqZ10oDjSXccGoH/fJfLzqSX0yHQrqDpID0Q8TAZwgBjEE/S/MM6nTv0CStWhWZ2426ITdM64TGfjQ87O1fs4K0/k5k3XfTSRWLpYTE5qYHqgAWKvygsmEAIUkLzEaAp/yOsOpmPJEnnbA/1c//QmVp96HvN9XaAmBAQ+YIMERDGMDmqGwI9x643fRyk6ZCMgy3DQ63Kc+CGVvi/Xvv3LqncjVXXHt3/TsWzu1ORN+4zt3B/bQ9tLXJUg2J0JeTyI3OpLwUu4EOIL/Cmzj6b3mXFmvO4EbtEXkg2mx9HmLAClGUQO1Dmg9IIUEOvhsR/+lu9d8nnScYFjSU55fzcr3tHM5s/1/wC46IrPRLW8m33Tomz0w5cVBrR98lVcCepe4spe8ns6oizZenOgzAMsXiI0gcLeNJ8nO+99TvGvONj/ZnwFWTcJiq6AOgX8PIhR0A4F0QbRLGbRZPUHf0rUB9+XnP/VWex3eQelH63bcOOHKlfmeiO5jqbe1acG5UUX21vR3QBTBc0HJfhT+T1IIA1dBxFkXtIFOIiAvRmsiJYj0vR2LqLLb0+hTVoG9T6QBigtu+NAJAci4KEvf4ZN60fomqRx4ddmMWvlbMrP7Rz88kfGVy7owD79hqA1smbLnCmrTdxhsFRQBbC3+F7yYq8tkZfcsQVR5SVE/ALBH5M8VM478mrWRg6cg5iyAjn0ICKWg8R0UNpBd0GJUhpS+eiyL5BKeVzzi8W0zeuBquTz5/z+tcBtAKdf5za3Dymb1J97zc5O8IbAL4F0d3eA/MMFkBI8YIsUrwe+wEuMNuWP/AcOkNeumMYbFQuCygjqyFPgAplJIAPQDFDSgMG3rvgprT2Sq35yINleE8wHuO+9+a8smjshD+CYmHZEVpMJmhUdhAaKCtLbXW0BEnCAQEIUvDWSy0F+n5cBzUSyh0+2o3y+m7fqOtO8ABS7iL99G+rcg0AooArQbKCZ337oBTomSc76ycFEU4OM/WzD9jW3eZ947D6+xl50H6bYfkStKHqA0CVqDIiAdMAD6hIUQKdBdUSKczvh97xMiI1CsDf9p8ibjrqy5XVBLk5QHSSy8BBItoIzAkYNcu0MDExhy+r7WfG6bqAfHurjp+/mNOBW/gwnvl1fnbzFO8zv8zG3gzECwoTAhaiEBGDAugEprgXu52/wkr4UzqWoitndKIlWgicHkKWdSNNGjgzhbt+JpgWkM52hfC/k18CWMZ76Ard+/wl+w1/glITX7+tgqeBEIBoFzQYV0AQMSVZvD7gY5HZeZsTey/3FXto/soL7e89QZzslgYqHkgKlJwFBnPqqAjgSEYA6S3X7X/Af2PIo3/x9Pz8BAv4CH/u+tipxmzhW9rnIQXDCiBLYJu4aX3x2u+QdgM8rgDaAYA9nTZLLp3WI2X5PF6JUw99cQTQruKUAdYqFGlAbXcPDdw3zsUlP+gbwmEjCynn8RRa/EyUwlB4hFNDcMBAPMyzZ9lufq0HeieAVQzOEZA/dzUTkCQK1qwXhgGxXUKfGkXfv5N4beZ/h8jVgcMqSyJdS3XIQeIy/hfDSqi1aEQKREFhgP1zim2tq4p1AmVcY8VkU9jDn8ODNR5/Lpwb7GbBqjCWaaY1lYHwjnwU+zW6+/zD7JFQGgFH+Bud/hMndheTWyBqpbn3SefynD/pXAc/zKkF8JC4AqHTJ3GmT+c5YnZvW1nkEqE/uIj5UBMDkn2TF60X7zHzs7t9/w/vE2g3eDwGfVxHiBkUAsM982a4nOAb4If9GguPQs+vU44Bf8yrk/wOEQ+Jsyne4vgAAAABJRU5ErkJggg=="})));const oC=Qn("div",{target:"eg480cj3"})("color:var(--text-primary);font-weight:600;font-size:14px;line-height:20px;",(e=>!!e.margin&&`margin: ${e.margin};`),";"),sC=Qn(oC,{target:"eg480cj2"})({name:"jd9nj1",styles:"color:var(--blue);cursor:pointer;margin-left:4px"}),lC=Qn("div",{target:"eg480cj1"})({name:"116wrqs",styles:"display:flex;flex-flow:row;align-items:center;justify-content:center;margin-top:16px"}),cC=Qn("div",{target:"eg480cj0"})({name:"1spjcy5",styles:"display:inline-block;min-width:20px"}),uC=()=>h.createElement(SE,null,h.createElement(TE,null,"🎥"),h.createElement(FE,null,(0,ai.Z)("dailyIdeasNoVideosPrimary")),h.createElement(oC,{margin:"0 0 16px 0"},h.createElement(cC,null,"✅"),(0,ai.Z)("dailyIdeasNoVideosExplainOne"),h.createElement("br",null),(0,ai.Z)("dailyIdeasNoVideosExplainTwo")),h.createElement(aC,{className:"vidiq-daily-ideas-cards-graphic",width:"460",height:"232"}),h.createElement(lC,null,h.createElement(oC,null,(0,ai.Z)("dontKnowWhatVideoToCreate")),h.createElement(sC,{className:"vidiq-daily-ideas-no-videos-error-link",onClick:()=>{ht("clicked on article link",{via:lt(),"article name":"How to Choose the Best Niche for Your YouTube Channel"}),window.open(Su("https://vidiq.com/blog/post/youtube-niche/"),"_blank")}},(0,ai.Z)("getSomeHelp")))),dC=({loading:e,error:t,refresh:n,justAuthedTimeLeft:i,justUploadedTimeLeft:r})=>e||!t?null:t.type===oc.ERROR_NO_PUBLIC_VIDS||t.type===oc.ERROR_NO_RECENT_VIDS?h.createElement(uC,null):t.type===oc.ERROR_NO_AUTHED_CHANNELS||t.type===oc.ERROR_REAUTH_CHANNEL?h.createElement(OE,{type:t.type}):t.type===oc.ERROR_WAIT_5_MIN?h.createElement(tC,{refresh:n,justAuthedTimeLeft:i}):t.type===oc.ERROR_JUST_UPLOADED?h.createElement(nC,{justUploadedTimeLeft:r}):h.createElement(iC,{refresh:n}),hC=({scoreLabel:e})=>{const t=mc(e),n=gc(e);return h.createElement("td",null,h.createElement("div",{className:"vidiq-video-ideas-table-row-content"},h.createElement(oi,null,h.createElement("div",null,t),n&&h.createElement("div",{className:"vidiq-view-potential-emoji"}," ",n))))};const pC=Qn("div",{target:"e7ximw1"})({name:"1c0rwzb",styles:"display:flex;flex-flow:row;align-items:center;position:relative;right:-12px"}),fC=Qn("div",{target:"e7ximw0"})("display:flex;width:24px;height:24px;align-items:center;justify-content:center;",(e=>!e.disabled&&"cursor: pointer;")," svg{width:8px;height:12px;color:",(e=>e.disabled?"var(--text-secondary)":"var(--text-primary)"),";",(e=>"right"===e.direction&&"transform: rotate(180deg);"),";}"),mC=({onClickArrow:e,leftDisabled:t,rightDisabled:n})=>{const i=i=>{"left"!==i||t||e("left"),"right"!==i||n||e("right")};return h.createElement(pC,null,h.createElement(fC,{direction:"left",disabled:t,onClick:()=>i("left")},h.createElement(dy,null)),h.createElement(fC,{direction:"right",disabled:n,onClick:()=>i("right")},h.createElement(dy,null)))};const gC=Qn("div",{target:"e1j2stjm2"})({name:"1vsaj0r",styles:"color:var(--text-primary)"}),vC=Qn("div",{target:"e1j2stjm1"})({name:"msn4hq",styles:"color:var(--text-secondary)"}),yC=Qn("div",{target:"e1j2stjm0"})({name:"msn4hq",styles:"color:var(--text-secondary)"}),bC=({id:e,thumbnail:t,title:n,channelTitle:i,channelAvatar:r,channelSubs:a,views:o,publishDate:s,onClick:l,testId:c})=>h.createElement("div",{className:"vidiq-stacked-video",onClick:()=>{l&&l(),window.open(`https://www.youtube.com/watch?v=${e}`,"_blank")}},h.createElement("img",{src:t,className:"vidiq-stacked-video-thumb",alt:""}),h.createElement(gC,{className:"vidiq-stacked-video-title"},$v.htmlDecode(n)),h.createElement("div",{className:"vidiq-stacked-video-channel"},h.createElement("img",{src:r,className:"vidiq-stacked-video-channel-avatar",alt:""}),h.createElement("div",{className:"vidiq-stacked-video-channel-info"},h.createElement(gC,{className:"vidiq-stacked-video-channel-title"},$v.htmlDecode(i)),Boolean(a)&&h.createElement(vC,null,ge()(a).format("0.0a").toUpperCase()," ",(0,ai.Z)("subs")))),h.createElement(yC,{className:"vidiq-stacked-video-info"},h.createElement("div",{className:"vidiq-stacked-video-views"},ge()(o).format("0.0a").toUpperCase()," ",(0,ai.Z)("viewsStatLabel")),h.createElement("div",{className:"vidiq-stacked-video-dot"},"•"),h.createElement("div",{className:"vidiq-stacked-video-date"},wt()(s).fromNow())));const _C=Qn("div",{target:"e1lhtdvl3"})({name:"1ivwyjx",styles:"padding:0 0 12px 16px"}),wC="\n  @keyframes blink {\n    50% {\n      opacity: 0.5;\n    }\n  }\n  background: var(--border-primary);\n  opacity: 1;\n  border-radius: 2px;\n  animation: blink 1s linear infinite;\n",kC=Qn("div",{target:"e1lhtdvl2"})("width:400px;height:20px;margin-bottom:8px;",wC,";"),xC=Qn("div",{target:"e1lhtdvl1"})({name:"1ltq1eh",styles:"display:flex;flex-flow:row;overflow-x:auto"}),EC=Qn("div",{target:"e1lhtdvl0"})("width:224px;height:126px;margin-right:16px;flex-shrink:0;",wC,";"),CC=()=>h.createElement(_C,null,h.createElement(kC,null),h.createElement(xC,null,[...Array(10)].map(((e,t)=>h.createElement(EC,{key:t})))));function SC(){return SC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},SC.apply(this,arguments)}const TC=(0,h.forwardRef)((({loading:e,error:t,content:n,view:i,onScroll:r},a)=>h.createElement(h.Fragment,null,e&&h.createElement(CC,null),!e&&t&&h.createElement("div",{className:"vidiq-daily-ideas-videos-error"},ai.Z.html("videoIdeasUnexpectedErrorSecondary")),!e&&!t&&n&&h.createElement("div",{className:"vidiq-daily-ideas-videos-list",ref:a,onScroll:r},n.map((e=>h.createElement(bC,SC({key:e.id},e,{onClick:()=>{return t=e.id,n=e.title,void ht("clicked on video on video ideas table",{"video id":t,"video name":n,type:i,via:lt()});var t,n},testId:`daily-ideas-video-${e.id}`}))))))));TC.displayName="DailyIdeasVideosList";const DC=Qn("div",{target:"e3dvv340"})((e=>"list"===e.view&&"\n    background: var(--background-primary);\n    border: 1px solid var(--border-primary);\n    border-radius: 8px;\n  ")," ",(e=>"card"===e.view&&"\n    background: transparent;\n    border-top: 1px solid var(--border-primary);\n  ")," padding:14px 0 12px;position:relative;.react-spinner{padding:16px;}"),FC=({idea:e,videosForIdea:t,fetchVideos:n,view:i})=>{const{loading:r,error:a,content:o}=t,[s,l]=(0,h.useState)(!0),[c,u]=(0,h.useState)(!1);(0,h.useEffect)((()=>{o&&o.length||n(e)}),[]);const d=(0,h.useRef)(null);return h.createElement(DC,{view:i},!r&&h.createElement(oi,{justify:"space-between",margin:"0 16px 14px"},h.createElement(tc,null,ai.Z.html("topSearchVideos",[e])),!a&&h.createElement(mC,{onClickArrow:e=>{if(!d.current)return;const t=d.current.scrollLeft,n="left"===e?t-240:t+240;d.current.scrollTo({left:n,behavior:"smooth"})},leftDisabled:s,rightDisabled:c})),h.createElement(TC,{loading:r,error:a,content:o,view:i,onScroll:()=>{if(!d.current)return;const e=d.current.scrollLeft;s||0!==e?s&&0!==e&&l(!1):l(!0);const t=d.current.scrollWidth-(d.current.scrollLeft+d.current.clientWidth);c||0!==t?c&&0!==e&&u(!1):u(!0)},ref:d}))},MC=({idea:e,videosForIdea:t,fetchVideos:n,odd:i})=>{const r=Fo()("vidiq-daily-ideas-videos-tr",{"vidiq-daily-ideas-videos-tr-odd":i});return h.createElement("tr",{className:r},h.createElement("td",{className:"vidiq-daily-ideas-videos-td",colSpan:4},h.createElement(FC,{idea:e,videosForIdea:t,fetchVideos:n,view:"list"})))};function AC(){return AC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},AC.apply(this,arguments)}function IC(e){return h.createElement("svg",AC({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",height:"24",width:"24"},e),h.createElement("rect",{width:"23",height:"23",x:"0.5",y:"0.5",fill:"none",rx:"11.5"}),h.createElement("path",{fill:"currentColor",d:"M8.401 15.473a.565.565 0 00.005.786.57.57 0 00.786.005l2.989-2.993 2.993 2.993c.21.21.571.21.786-.005a.565.565 0 000-.786l-2.988-2.994 2.988-2.988a.56.56 0 000-.786.57.57 0 00-.786-.005l-2.993 2.993L9.192 8.7a.565.565 0 00-.786.005.57.57 0 00-.005.786l2.994 2.989L8.4 15.473z"}),h.createElement("rect",{width:"23",height:"23",x:"0.5",y:"0.5",stroke:"currentColor",rx:"11.5"}))}function OC(){return OC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},OC.apply(this,arguments)}const NC={heart:function(e){return h.createElement("svg",OC({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"24",height:"24"},e),h.createElement("rect",{width:"23",height:"23",x:"0.5",y:"0.5",fill:"none",rx:"11.5"}),h.createElement("path",{fill:"currentColor",d:"M6.447 10.611c0 2.496 2.092 4.951 5.397 7.06.123.077.299.16.422.16s.299-.083.427-.16c3.3-2.108 5.391-4.564 5.391-7.06 0-2.074-1.424-3.539-3.322-3.539-1.084 0-1.963.516-2.496 1.307-.522-.785-1.412-1.307-2.496-1.307-1.899 0-3.323 1.465-3.323 3.54zm.944 0c0-1.558 1.007-2.595 2.367-2.595 1.101 0 1.734.685 2.11 1.271.157.234.257.299.398.299.14 0 .228-.07.398-.299.404-.574 1.014-1.271 2.11-1.271 1.359 0 2.367 1.037 2.367 2.595 0 2.18-2.303 4.53-4.752 6.159-.059.04-.1.07-.123.07-.024 0-.065-.03-.118-.07-2.455-1.63-4.757-3.979-4.757-6.159z"}),h.createElement("rect",{width:"23",height:"23",x:"0.5",y:"0.5",stroke:"currentColor",rx:"11.5"}))},dismiss:IC},PC=({type:e,onClick:t,tooltip:n,disabled:i,classes:r,testId:a})=>{const o=Fo()("vidiq-video-ideas-icon-button",r,{"vidiq-video-ideas-icon-button-disabled":i}),s=NC[e],l=h.createElement(s,{onClick:e=>{e.stopPropagation(),t()},className:o});return i?l:h.createElement(tA,{text:n,type:"div"},l)},RC=({onClick:e,disabled:t})=>h.createElement(PC,{type:"heart",onClick:e,classes:"vidiq-save-icon-button",tooltip:(0,ai.Z)("saveTitle"),testId:"save-button",disabled:t}),jC=({onClick:e,disabled:t})=>h.createElement(PC,{type:"dismiss",onClick:e,classes:"vidiq-dismiss-icon-button",tooltip:(0,ai.Z)("dismissTitle"),testId:"dismiss-button",disabled:t}),LC=({children:e,odd:t,expanded:n,onClick:i})=>{const r=Fo()("vidiq-daily-ideas-table-row",{"vidiq-daily-ideas-table-row-odd":t,"vidiq-daily-ideas-table-row-expanded":n});return h.createElement("tr",{className:r,onClick:i},e)},qC=({ideaData:e,checked:t,toggleCheck:n,addIdeaToGroup:i,odd:r,videosForIdea:a,fetchVideos:o})=>{const[s,l]=(0,h.useState)(!1),c=`${e.idea}-checkbox`;return h.createElement(h.Fragment,null,h.createElement(LC,{odd:r,expanded:s,onClick:()=>{Dc(!s,e.idea,"list"),l(!s)}},h.createElement("td",{className:"vidiq-video-ideas-table-row-keyword"},h.createElement("div",{className:"vidiq-video-ideas-table-row-content"},h.createElement("input",{type:"checkbox",id:c,checked:t,onChange:n,onClick:e=>e.stopPropagation()}),h.createElement("div",{className:"vidiq-video-ideas-table-row-text"},e.idea))),h.createElement(hC,{scoreLabel:e.score_label}),h.createElement("td",{className:"vidiq-daily-ideas-icon-button"},h.createElement(jC,{onClick:()=>i("dismissedIdeas",e.id,e.idea,e.score,e.score_label)})),h.createElement("td",{className:"vidiq-daily-ideas-icon-button"},h.createElement(RC,{onClick:()=>i("savedIdeas",e.id,e.idea,e.score,e.score_label)}))),s&&h.createElement(MC,{idea:e.idea,videosForIdea:a,fetchVideos:o,odd:r}))},ZC=[{id:"1",idea:"gaming",score:99,score_label:"very-high"},{id:"2",idea:"youtube",score:85,score_label:"very-high"},{id:"3",idea:"video games",score:82,score_label:"very-high"},{id:"4",idea:"how to",score:80,score_label:"very-high"},{id:"5",idea:"world news",score:77,score_label:"high"},{id:"6",idea:"talk show",score:65,score_label:"high"},{id:"7",idea:"movies",score:60,score_label:"medium"}],BC=({ideaData:e,checked:t,toggle:n,forUpsell:i})=>{const r=`${e.idea}-checkbox`,a=Fo()("vidiq-video-ideas-table-row-text",{"vidiq-table-idea-label-blurred":i}),o=Fo()({"vidiq-daily-ideas-table-checkbox-blurred":i});return h.createElement("td",{className:"vidiq-video-ideas-table-row-keyword"},h.createElement("div",{className:"vidiq-video-ideas-table-row-content"},h.createElement("input",{type:"checkbox",id:r,className:o,checked:t,onChange:n,disabled:i}),h.createElement("div",{className:a},e.idea)))};const VC=Qn("div",{target:"eh75w6p1"})({name:"cuvckg",styles:"overflow-y:auto;box-sizing:border-box;background:var(--background-secondary);position:relative;display:flex;flex-flow:column;justify-content:flex-start;align-items:center;margin-top:16px"}),zC=({children:e,testId:t})=>h.createElement(VC,null,e),UC=Qn("table",{target:"eh75w6p0"})("width:747px;font-size:14px;background:var(--background-secondary);border-radius:8px;border-collapse:separate;border-spacing:0;input[type='checkbox']{margin:0 16px 0 0;width:16px;min-width:16px;height:16px;}input[type='checkbox']:not([disabled]),label:not(.vidiq-table-idea-label-blurred){cursor:pointer;}th{text-align:left;cursor:pointer;color:var(--text-primary);border:0;background:var(--background-tinted);font-weight:500;padding:8px 0;line-height:20px;}td{color:var(--text-primary);border-bottom:1px solid var(--border-secondary);}tr.vidiq-daily-ideas-table-row:hover{cursor:pointer;}div.vidiq-video-ideas-table-row-content{display:flex;flex-flow:row;color:var(--text-primary);align-items:center;}div.vidiq-video-ideas-table-row-content{line-height:20px;}th:not(:first-child),td:not(:first-child){text-align:center;div.vidiq-video-ideas-table-row-content{justify-content:center;}}th.vidiq-daily-ideas-header-filler{width:48px;}td.vidiq-daily-ideas-icon-button{width:24px;padding:0 8px;svg{display:flex;align-items:center;justify-content:center;}}td.vidiq-video-ideas-trash-button{color:var(--text-secondary);padding:0 16px;cursor:pointer;&:hover{color:var(--blue);}}th:first-child{width:",(e=>"saved"===e.group?"50%":"65%"),";padding:8px 0 8px 16px;}td:first-child{width:",(e=>"saved"===e.group?"50%":"65%"),";padding:10px 0 10px 16px;}tbody tr:first-child{td{padding-top:18px;}td:not(:first-child){padding-bottom:10px;}}td:last-child{padding-right:16px;}th:first-child{border-radius:8px 0 0 8px;}th:last-child{border-radius:0 8px 8px 0;}td.vidiq-daily-ideas-videos-td{border-radius:0 0 8px 8px;padding-bottom:12px;}.vidiq-table-idea-label-blurred{filter:blur(8px);user-select:none;-webkit-user-select:none;-moz-user-select:none;}.vidiq-daily-ideas-table-checkbox-blurred{filter:blur(3px);}.vidiq-view-potential-emoji{margin-left:4px;}th.vidiq-restore-all-ideas-link,td.video-ideas-table-row-restore{text-align:right;font-weight:normal;color:var(--blue);padding-right:16px;&:hover{cursor:pointer;}}th.vidiq-daily-ideas-action-tooltip{width:40px;}th.vidiq-daily-ideas-action-tooltip .vidiq-simple-tooltip-text{font-size:12px;margin:0;right:-50px;border-radius:8px;}"),WC=({children:e,testId:t,group:n})=>h.createElement(UC,{group:n},e),HC=({children:e})=>h.createElement("tbody",null,e),YC=({children:e})=>h.createElement("thead",null,h.createElement("tr",null,e)),$C=()=>h.createElement(h.Fragment,null,h.createElement(Qy,{code:"DailyIdeasUpsellList",variant:"inline",text:`👀 ${(0,ai.Z)("dailyIdeasUpsell",[(0,ve.h)().getFeatureLimit("dailyIdeas")])}`,width:"747px",margin:"16px"}),h.createElement(WC,{testId:"daily-ideas-upsell-table"},h.createElement(HC,null,ZC.map((e=>h.createElement("tr",{key:e.idea},h.createElement(BC,{ideaData:e,checked:!1,toggle:()=>null,forUpsell:!0}),h.createElement(hC,{scoreLabel:e.score_label}),h.createElement("td",{className:"vidiq-daily-ideas-icon-button"},h.createElement(jC,{onClick:()=>null,disabled:!0})),h.createElement("td",{className:"vidiq-daily-ideas-icon-button"},h.createElement(RC,{onClick:()=>null,disabled:!0})))))))),KC=({allIdeasSelected:e,toggleAllIdeasSelected:t})=>h.createElement("th",null,h.createElement(oi,{justify:"flex-start"},h.createElement("input",{id:"idea-header-checkbox",type:"checkbox",checked:e,onChange:()=>t(e)}),h.createElement("label",{htmlFor:"idea-header-checkbox"},(0,ai.Z)("idea"))));const GC=Qn(oi,{target:"erpcem90"})({name:"c1vl5t",styles:"&:hover{color:var(--blue);}"}),XC=({label:e,tooltip:t,testId:n,onChangeSort:i,sortDescending:r,hideArrow:a=!1})=>t?h.createElement("th",null,h.createElement(tA,{type:"div",text:t,onClick:i,fixedPos:!0,testId:n},h.createElement(GC,null,e," ",!a&&(r?h.createElement(hy,null):h.createElement(py,null))))):h.createElement("th",null,h.createElement(GC,{onClick:i},e," ",!a&&(r?h.createElement(hy,null):h.createElement(py,null)))),QC=({ideas:e,selectedIdeas:t,toggleIdeaSelected:n,toggleAllIdeasSelected:i,onChangeSort:r,addIdeaToGroup:a,permitted:o,videos:s,fetchVideos:l})=>{const c=(0,h.useMemo)((()=>e.length>0&&e.join()===t.join()),[e,t]),[u,d]=(0,h.useState)(!1),[p,f]=(0,h.useState)(null),m=(e,t,n,i,r)=>{a(e,t,n,i,r),f("savedIdeas"===e?`💙 ${(0,ai.Z)("ideaSaved")}`:`❌ ${(0,ai.Z)("ideaDismissed")}`),d(!0),setTimeout((()=>{d(!1)}),2e3)};return!e.length&&o?null:h.createElement(zC,{testId:"daily-ideas-table"},h.createElement(WC,null,h.createElement(YC,null,h.createElement(KC,{allIdeasSelected:c,toggleAllIdeasSelected:i}),h.createElement(XC,{label:(0,ai.Z)("viewPrediction"),tooltip:(0,ai.Z)("viewPotentialHeaderTooltip"),testId:"view-potential-header",onChangeSort:r,hideArrow:!0}),h.createElement(tA,{type:"th",text:p||"",activate:u,fadeOut:!0,noWrap:!0,classes:"vidiq-daily-ideas-action-tooltip"}),h.createElement("th",{className:"vidiq-daily-ideas-header-filler"})),h.createElement(HC,null,e.map(((e,i)=>h.createElement(qC,{key:e.idea,ideaData:e,checked:t.findIndex((({idea:t})=>t===e.idea))>=0,toggleCheck:()=>n(e),addIdeaToGroup:m,odd:i%2==0,videosForIdea:s[e.idea]||{},fetchVideos:l}))))),!o&&h.createElement($C,null))};function JC(){return JC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},JC.apply(this,arguments)}function eS(e){return h.createElement("svg",JC({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),h.createElement("path",{fill:"currentColor",stroke:"currentColor",strokeWidth:"0.5",d:"M8.096 1.584h.002a6.264 6.264 0 012.872.718h0l.004.002a6.223 6.223 0 013.295 4.243v.003a5.84 5.84 0 01.102 2.026v.005a6.263 6.263 0 01-1.57 3.526 6.264 6.264 0 01-3.34 1.936h0-.004a5.749 5.749 0 01-1.476.141h0a6.624 6.624 0 01-1.67-.27h-.002c-.224-.065-.443-.14-.668-.218a42.29 42.29 0 00-.205-.071.744.744 0 00-.509 0v.001l-2.086.753h0l-.012.004a.456.456 0 01-.262.028.456.456 0 01-.233-.122l-.006-.006-.006-.005a.49.49 0 01-.152-.24.49.49 0 01.007-.285h0l.003-.012h0c.185-.662.371-1.324.55-1.987a.397.397 0 00.025-.14.397.397 0 00-.034-.162l-.003-.007-.004-.007c-.052-.099-.119-.205-.177-.297l-.077-.122v-.001a6.023 6.023 0 01-.832-2.445h0V8.57a6.104 6.104 0 01.416-3.062h0a6.23 6.23 0 011.512-2.186h.001a6.363 6.363 0 012.996-1.578h0a6.69 6.69 0 011.543-.161zm.003-.25v0zM3.083 13.207v.25h.333l.041-.014.362-.13c.377-.135.753-.27 1.129-.412h.002a1.13 1.13 0 01.825 0h0l.01.003.587.2h0l.004.002a6.18 6.18 0 001.668.291h.001a5.048 5.048 0 001.122-.09 5.35 5.35 0 003.082-1.81 5.417 5.417 0 001.08-1.884 5.418 5.418 0 00.253-2.158 5.071 5.071 0 00-.51-1.89 5.416 5.416 0 00-2.5-2.541 5.583 5.583 0 00-3.486-.53 5.537 5.537 0 00-3.14 1.626 5.343 5.343 0 00-1.481 4.412 5.263 5.263 0 00.79 2.197h0l.002.002c.072.111.14.226.2.344v.001a.617.617 0 01.054.428l-.339 1.208h0l-.006.023c-.038.13-.083.29-.083.472zm1.563-4.71A.71.71 0 014.436 8a.703.703 0 011.199-.498.703.703 0 01.156.764.703.703 0 01-.646.438.71.71 0 01-.5-.206zm2.769-.106a.703.703 0 01.087-.888.703.703 0 01.888-.087.703.703 0 01.107 1.082.703.703 0 01-1.082-.107zm2.94.107a.703.703 0 11.995-.995.703.703 0 01-.995.995z"}))}const tS=Oo()({displayName:"FeedbackWindow",satisfactionEmojis:[{emoji:"😠",rating:1,title:"Very Bad"},{emoji:"🙁",rating:2,title:"Bad"},{emoji:"😐",rating:3,title:"Okay"},{emoji:"😃",rating:4,title:"Good"},{emoji:"😍",rating:5,title:"Very Good"}],getInitialState:()=>({screenshotUrl:null,feedbackRating:null,feedbackMessage:"",creatingScreenshot:!1,includeScreenshot:!0,submittingFeedback:!1,feedbackSubmitted:!1,feedbackError:!1}),componentDidMount(){document.addEventListener("mousedown",this.handleClick,!1)},componentWillUnmount(){document.removeEventListener("mousedown",this.handleClick,!1)},componentDidUpdate(e){!this.props.displayWindow||e.displayWindow||this.state.creatingScreenshot||setTimeout(this.createScreenshot,200)},handleClick(e){this.node&&!this.node.contains(e.target)&&this.toggleFeedbackWindow()},toggleFeedbackWindow(){this.setState({screenshotUrl:null,creatingScreenshot:!1,feedbackRating:null,submittingFeedback:!1,feedbackSubmitted:!1,feedbackError:!1}),this.props.toggleFeedbackWindow()},getChannelId:()=>new Promise((e=>{(0,_e.Z)().then((t=>e(t)))})),async getChannelInfo(){let e=this.props.channelId,t=this.props.channelName;return e||(e=await this.getChannelId()),t||(t=await Du()),`Channel Name: ${t}\nChannel ID: ${e}\n\n`},async submit(){if(this.state.submittingFeedback)return;this.setState({submittingFeedback:!0,feedbackError:!1});const e=this.state.feedbackRating?`Feedback Rating: ${this.state.feedbackRating.toString()}/5\n`:"",t=`${await this.getChannelInfo()}${e}${this.props.feedbackMessageExtra}\n\n${this.state.feedbackMessage}`,n=this.state.includeScreenshot?this.state.screenshotUrl:null;await dE({message:t,blobUrl:n})?(this.setState({submittingFeedback:!1,feedbackSubmitted:!0,feedbackMessage:""}),setTimeout(this.toggleFeedbackWindow,3e3),fE({featureEventName:this.props.featureEventName,feedbackRating:this.state.feedbackRating,includeScreenshot:this.state.includeScreenshot,feedbackMessage:this.state.feedbackMessage})):this.setState({submittingFeedback:!1,feedbackError:!0})},updateMessage(e){this.setState({feedbackMessage:e.target.value})},openImg(){window.open(this.state.screenshotUrl,"_blank")},async createScreenshot(){if(this.state.creatingScreenshot)return;this.setState({creatingScreenshot:!0,feedbackError:!1});const e=await pE({selectorForImage:this.props.selectorForImage,type:"window"});this.setState({creatingScreenshot:!1,screenshotUrl:e})},feedbackScreenshot(){return this.state.screenshotUrl?h.createElement("img",{className:"vidiq-feedback-screenshot",src:this.state.screenshotUrl,onClick:this.openImg,alt:""}):h.createElement(os,{size:"big",classes:"vidiq-creating-image-spinner"})},onChangeCheckbox(){this.setState({includeScreenshot:!this.state.includeScreenshot})},submittingSpinner(){return this.state.submittingFeedback?h.createElement(os,{classes:"vidiq-submitting-feedback-spinner"}):null},feedbackSubmittedText(){return this.state.feedbackSubmitted?h.createElement("div",{className:"vidiq-feedback-submitted-message"},(0,ai.Z)("channelAuditFeedbackSubmittedMessage")):null},errorMessage(){return this.state.feedbackError?h.createElement("div",{className:"vidiq-feedback-error-message"},(0,ai.Z)("channelAuditFeedbackErrorMessage")):null},emojis(){return this.satisfactionEmojis.map((e=>{const t=Fo()("vidiq-satisfaction-emoji",{selected:e.rating===this.state.feedbackRating});return h.createElement("div",{key:e.rating,className:t,title:e.title,value:e.rating,onClick:()=>{this.setState({feedbackRating:e.rating})}},e.emoji)}))},render(){return this.props.displayWindow?h.createElement("div",{className:"vidiq-feedback-window",ref:e=>this.node=e},h.createElement("h3",{className:"vidiq-feedback-window-header"},(0,ai.Z)("whatDoYouThinkTitle")),h.createElement("div",{className:"vidiq-feedback-window-close",onClick:this.toggleFeedbackWindow},"✖"),h.createElement("div",{className:"vidiq-feedback-rating-container"},h.createElement("div",{className:"vidiq-feedback-rating-message"},(0,ai.Z)("feedbackRatingMessage",[this.props.featureName])),h.createElement("div",{className:"vidiq-feedback-rating-emojis"},this.emojis())),h.createElement("textarea",{className:"vidiq-feedback-textarea",rows:"5",cols:"50",maxLength:"1400",placeholder:(0,ai.Z)("feedbackTextareaPlaceholder"),value:this.state.feedbackMessage,onChange:this.updateMessage}),h.createElement("div",{className:"vidiq-feedback-character-counter"},this.state.feedbackMessage.length," / 1500"),h.createElement("div",{className:"vidiq-feedback-include-screenshot-container"},h.createElement("input",{id:"vidiq-feedback-include-screenshot",type:"checkbox",checked:this.state.includeScreenshot,onChange:this.onChangeCheckbox}),h.createElement("label",{htmlFor:"vidiq-feedback-include-screenshot"},(0,ai.Z)("includeScreenshot"))),this.feedbackScreenshot(),h.createElement(is,{text:"Submit",onClick:this.submit,disabled:this.state.submittingFeedback||this.state.includeScreenshot&&!this.state.screenshotUrl}),this.submittingSpinner(),this.feedbackSubmittedText(),this.errorMessage()):null}}),nS=tS;function iS(){return iS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},iS.apply(this,arguments)}const rS=Oo()({displayName:"FeedbackButton",getInitialState:()=>({displayWindow:!1}),toggleFeedbackWindow(){this.setState({displayWindow:!this.state.displayWindow})},onClick(){this.toggleFeedbackWindow()},render(){const{classes:e,selectorForImage:t,feedbackMessageExtra:n,featureName:i,featureEventName:r,channelId:a,channelName:o,buttonClass:s,buttonContent:l,buttonType:c,omitClass:u}=this.props,d=Fo()({"vidiq-feedback-container":!u},e),p=h.createElement(nS,{displayWindow:this.state.displayWindow,toggleFeedbackWindow:this.toggleFeedbackWindow,selectorForImage:t,feedbackMessageExtra:n,featureName:i,featureEventName:r,channelId:a,channelName:o});return"div"===c?h.createElement("div",{className:d},h.createElement("div",{onClick:this.onClick,className:s},l),p):h.createElement("div",{className:d},h.createElement(is,{classes:"vidiq-feedback-button",text:(0,ai.Z)("whatDoYouThinkTitle"),secondary:!0,onClick:this.onClick}),p)}}),aS=rS,oS=e=>{const t=h.createElement("span",null,(0,ai.Z)("leaveFeedback"));return h.createElement(rS,iS({},e,{buttonContent:t,buttonType:"div",classes:"vidiq-feedback-container-for-nav-menu"}))},sS=e=>h.createElement(rS,iS({},e,{buttonType:"div",buttonContent:h.createElement($c,{variant:"hollow"},(0,ai.Z)("leaveFeedback")," ",h.createElement(eS,null))})),lS=()=>h.createElement(sS,{selectorForImage:"#vidiq-nav-menu",feedbackMessageExtra:"Sent from Daily Video Ideas (modal) Feedback",featureName:"Daily Video Ideas",featureEventName:"Daily Ideas",omitClass:!0,classes:"vidiq-video-ideas-feedback-redesign-container"});function cS(){return cS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cS.apply(this,arguments)}function uS(e){return h.createElement("svg",cS({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"20",height:"20"},e),h.createElement("rect",{width:"11",height:"11",x:"0.5",y:"0.5",fill:"none",stroke:"currentColor",rx:"1.5"}),h.createElement("rect",{width:"12",height:"12",x:"8",y:"8",fill:"currentColor",rx:"2"}))}function dS(){return dS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dS.apply(this,arguments)}function hS(e){return h.createElement("svg",dS({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"20",height:"20"},e),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 18.333a8.333 8.333 0 100-16.666 8.333 8.333 0 000 16.666zm.833-12.5v6.325l1.917-1.916a.834.834 0 011.167 1.183l-3.334 3.333a.833.833 0 01-1.166 0l-3.334-3.333a.834.834 0 111.167-1.183l1.917 1.916V5.833a.833.833 0 111.666 0z",clipRule:"evenodd"}))}const pS={yt_comments:0,fb_likes:0,fb_reactions:0,fb_comments:0,fb_shares:0,views:0,reddit_likes:0,reddit_posts:0,reddit_comments:0},fS=(e,t)=>null==t?void 0!==pS[e]?pS[e].toString():"-":"string"==typeof t?t:"number"==typeof t?isFinite(t)?t.toString():"-":"value"in t?isFinite(t.value)?`${t.value}/${t.outOf}`:"-":"formatted"in t?t.formatted:t.toString();class mS{constructor(e){this.data={id:e},this.dfd=new(r().Deferred),this.promise=this.dfd.promise(),this.started=!1,this.progress=0,this.customKeys=null}build(e){let t;this.started=!0;const n=this.customKeys||mS.STATS,i=L().without(...[n].concat(L().keys(this.data)));let r=!1;const a=L().object(L().map(n,(e=>[e,null]))),o=()=>{L().extend(this.data,L().extend(a,this.data)),this.progress=this.getProgress(),this.onProgress&&this.onProgress(this.progress)},s=()=>{t&&clearTimeout(t),t=setTimeout((()=>{this.dfd.reject()}),8e3)};return s(),cL(e?{...this.data,video_id:this.data.id}:this.data.id,i,(e=>{"pending"===this.dfd.state()&&(s(),e.watch_page_html&&(r=!0),L().extend(this.data,L().pick(...[e].concat(i))),this.progress=this.getProgress(),this.onProgress&&this.onProgress(this.progress))})).done((()=>{if("pending"===this.dfd.state()){if(clearTimeout(t),!r)return this.dfd.reject();o(),this.dfd.resolve(this.data)}})),this.promise.fail((()=>{clearTimeout(t),o()})),this.promise}getProgress(){return Math.min(L().keys(this.data).length/mS.STATS.length,1)}}mS.STATS=["id","title","desc","duration","status","date_published","keywords","vidiq_score_client","views","yt_likes","yt_dislikes","yt_comments","fb_likes","fb_reactions","fb_comments","fb_shares","tweets","reddit_likes","reddit_posts","reddit_comments","desc_link_count","desc_word_count","creator_suggested","engagement_rate"],mS.TAG_STATS=["keyword","occurrences","overall","competition","volume","search_rank"],mS.KWINS_TAG_STATS=["keyword","related_score","estimated_monthly_search","competition","overall"],mS.DAILY_VIDEO_IDEAS_STATS=["keyword","view_potential"],mS.NAMES={vidiq_score_lite:"vidiq_score",desc:"description"},mS.start=e=>{const t=new mS(e);return t.build(),t},mS.fromVideo=(e,t)=>{const n=new mS(e.id);return t&&(n.data=e),e.title&&(n.data.title=e.title),e.duration&&(n.data.duration=we.Z.time2sec(e.duration)),e.status&&(n.data.status=e.status),n.progress=n.getProgress(),n._video=e,n},mS.getHeading=e=>{"vidiq_score_client"===e&&(e="vidiq_score"),"desc"===e&&(e="description"),"reddit_count"===e&&(e="reddit_likes");const t=we.Z.camelCase(e);return ai.Z.exists(t)?ai.Z.upper(t):ai.Z.exists(t+"Title")?ai.Z.upper(t+"Title"):ai.Z.upper(t+"StatLabel")},mS.csv=function(e,t){t||(t=L().map(this.STATS,(function(e){return this.NAMES[e]?this.NAMES[e]:e}),this));return[L().map(t,(function(e){return this.getHeading(e)}),this).join(",")].concat(L().map(e,(e=>L().map(t,(t=>{"description"===t&&(t="desc");let n=e[t];return L().isArray(n)&&(n=n.join(", ")),"creator_suggested"===t&&n&&(n=n.value),"date_published"===t&&n&&(n=n.formatted),n&&"function"==typeof n.match&&n.match(/"|,/)&&(n='"'+n.replace(/"/g,'""')+'"'),n="desc"===t&&n?n.replace(/\r|\n/g," "):n,fS(t,n)})).join(",")),this)).join("\n")},mS.tagHeadings=function(e){if("kwins"===e)return this.KWINS_TAG_STATS;if("videoIdeas"===e)return this.DAILY_VIDEO_IDEAS_STATS;const t=this.TAG_STATS;return"video"!==e?L().without(t,"search_rank"):t},mS.csvTags=function(e,t,n){let i=this.tagHeadings(t);e[0].occurrences||(i=L().without(i,"occurrences"));const r=["overall","competition","volume"];"kwins"===t&&r.push("estimated_monthly_search","related_score");return[i.join(",").replace(/_/g," ").toUpperCase()].concat(L().map(e,(e=>L().map(i,(t=>!n&&r.indexOf(t)>=0?"Upgrade to Pro for access":"keyword"===t||"view_potential"===t?e[t]:void 0===e[t]?"":we.Z.numbro(e[t],{format:"0.00"}))).join(",")))).join("\n")},mS.csv2url=e=>URL.createObjectURL(new Blob(["\ufeff"+e],{type:"text/csv"})),mS.custom=(e,t)=>new Promise(((n,i)=>{const r=mS.fromVideo(e,!0);r.customKeys=t,r.build(!0).done(n).fail(i)}));const gS=mS,vS=e=>{ht("previewed csv export",{location:(0,be.Z)(),feature:e})},yS=e=>{ht("downloaded csv export",{location:(0,be.Z)(),feature:e})},bS=we.Z.keyMirror(["UPDATE_PARAMS","REQUEST_COMPETITORS","REQUEST_COMPETITOR_CHANGE","REQUEST_TRENDING_VIDEOS","REQUEST_CHANNEL_ID","RECEIVE_CHANNEL_ID","RECEIVE_COMPETITORS","RECEIVE_TRENDING_VIDEOS","RECEIVE_WARNING","RECEIVE_ERROR","RECEIVE_CHANNEL_THUMBS","WARNING_COMPETITOR_DOES_NOT_EXIST","WARNING_UNABLE_TO_REMOVE_COMPETITOR","ERROR_UNAUTHENTICATED","ERROR_NO_TRENDING_VIDEOS","ERROR_UNKNOWN"],"COMPETITION"),_S=new ds.Z("CompetitionStore",{_data:{loadingCompetitors:!0,loadingTrendingVideos:!0,trendingVideosRequested:!1,loadingCompetitorChange:!1,loadingChannelId:!1,range:"weekly",sort:"views_per_hour",channelId:null,competitors:[],videos:[],warning:null,error:null,basis:null,fetched:!1,channelThumbnails:{}},updateParams(e,t){this.setData({[e]:t})},requestCompetitors(){this.setData({loadingCompetitors:!0})},requestCompetitorChange(){this.setData({loadingCompetitorChange:!0})},requestTrendingVideos(){this.setData({loadingTrendingVideos:!0,trendingVideosRequested:!0})},requestChannelId(){this.setData({loadingChannelId:!0})},receiveChannelId(e){this.setData({channelId:e,loadingChannelId:!1})},receiveCompetitors(e,t){this.setData({loadingCompetitors:!1,loadingCompetitorChange:!1,loadingTrendingVideos:e.length>0,competitors:L().sortBy(e,"display_name"),warning:null,error:null,fetched:!0,basis:t})},receiveTrendingVideos(e){this.setData({loadingTrendingVideos:!1,trendingVideosRequested:!1,videos:e,error:null})},receiveWarning(e){this.setData({loadingCompetitorChange:!1,warning:e})},receiveError(e){const t={loadingCompetitors:!1,loadingCompetitorChange:!1,loadingTrendingVideos:!1,loadingChannelId:!1,error:e};this.setData(t)},receiveChannelThumbs(e){this.setData({channelThumbnails:e})}});_S.dispatchToken=ko.Z.register((e=>{const t=_S,n=bS;switch(e.action){case n.UPDATE_PARAMS:t.updateParams(e.paramName,e.paramValue);break;case n.REQUEST_COMPETITORS:t.requestCompetitors();break;case n.REQUEST_COMPETITOR_CHANGE:t.requestCompetitorChange();break;case n.REQUEST_TRENDING_VIDEOS:t.requestTrendingVideos();break;case n.REQUEST_CHANNEL_ID:t.requestChannelId();break;case n.RECEIVE_CHANNEL_ID:t.receiveChannelId(e.channelId);break;case n.RECEIVE_COMPETITORS:t.receiveCompetitors(e.competitors,e.basis);break;case n.RECEIVE_TRENDING_VIDEOS:t.receiveTrendingVideos(e.videos);break;case n.RECEIVE_WARNING:t.receiveWarning(e.warning);break;case n.RECEIVE_ERROR:t.receiveError(e.error);break;case n.RECEIVE_CHANNEL_THUMBS:t.receiveChannelThumbs(e.channelThumbnails);break;default:return!0}}));const wS=_S,kS=Oo()({displayName:"TagExport",getInitialState:()=>({csvUrl:null}),getMode(){const e=window.location.pathname.match(/\/(user|channel)\/.+/);if(e&&e[0])return"channel";switch(window.location.pathname){case"/watch":return"video";case"/results":return"search";case"/playlist":return"playlist"}},UNSAFE_componentWillMount(){const e=this.props.mode||this.getMode();this.setState({permitted:(0,ve.h)().featurePermitted("csvExportTags"),mode:e})},componentDidMount(){this.setState({csvUrl:gS.csv2url(gS.csvTags(this.props.tags,this.state.mode,this.state.permitted))})},render(){return h.createElement("div",{className:"tag-export"},this.downloadButton(),this.preview(),this.previewLabel(),this.upgrade())},exportForCompetitors(){const e=wS.getData(),t={bidiurnally:(0,ai.Z)("competitorsPast48Hours"),weekly:(0,ai.Z)("competitorsThisWeek"),monthly:(0,ai.Z)("competitorsThisMonth"),all:(0,ai.Z)("competitorsAllTime")};return(0,ai.Z)("competitors")+" "+t[e.range]},exportFor(){switch(this.state.mode){case"video":return this.props.videoId;case"search":case"kwins":return this.props.searchTerm;case"playlist":return window.location.search.split("=")[1];case"channel":return window.location.pathname.split("/")[2];case"competitors":return this.exportForCompetitors();case"videoIdeas":return(0,ai.Z)("dailyIdeasTitle")}},typeTags(){switch(this.state.mode){case"video":return(0,ai.Z)("videoTagsTitle");case"search":return(0,ai.Z)("topSearchKeywordsTitle");case"kwins":return(0,ai.Z)("topKwinsKeywords");case"videoIdeas":return wt()().format("YYYY-MM-DD");default:return(0,ai.Z)("topKeywords")}},csvName(){return(0,ai.Z)("downloadName",[this.exportFor()])+" "+this.typeTags()+".csv"},getEventFeatureName(){switch(this.state.mode){case"search":return"related keywords search panel";case"kwins":return"related keywords keyword inspector";default:return`${this.state.mode} tags`}},onClickDownload(){dt("Clicked Download CSV Video Tags"),yS(this.getEventFeatureName())},downloadButton(){return h.createElement("div",{className:"download-csv"},h.createElement("a",{className:"vidiq-button",href:this.state.csvUrl,target:"new",download:this.csvName(),onClick:this.onClickDownload},(0,ai.Z)("downloadCSVTitle")))},preview(){const e=Fo()("tag-export-preview",{basic:!this.state.permitted&&"kwins"!==this.state.mode,"basic-kwins":!this.state.permitted&&"kwins"===this.state.mode});return h.createElement("div",{className:e},h.createElement("table",null,h.createElement("thead",null,h.createElement("tr",null,this.headings())),h.createElement("tbody",null,this.rows())))},previewLabel:()=>h.createElement("p",{className:"preview-label"},(0,ai.Z)("CSVPreview")),headings(){let e=gS.tagHeadings(this.state.mode);return this.props.tags[0].occurrences||(e=L().without(e,"occurrences")),L().map(e,((e,t)=>h.createElement("th",{key:t},e.replace(/_/g," ").toUpperCase())))},rows(){return L().map(this.props.tags,(function(e,t){return h.createElement("tr",{key:t},this.columns(e))}),this)},columns(e){let t=gS.tagHeadings(this.state.mode);return this.props.tags[0].occurrences||(t=L().without(t,"occurrences")),L().map(t,((t,n)=>{const i="keyword"===t||"view_potential"===t?e[t]:void 0===e[t]?"":we.Z.numbro(e[t],{format:"0.00"});return h.createElement("td",{key:n},i)}),this)},upgrade(){if(this.state.permitted)return null;const e=Fo()("tag-export-upgrade",{search:"search"===this.state.mode,kwins:"kwins"===this.state.mode});return h.createElement("div",{className:e},h.createElement("p",null,"Available for vidIQ Pro"),h.createElement(xs,{TagExport:!0,targetPlan:"pro",text:"Upgrade Now!"}))}}),xS=kS;function ES(e){return e.replace(/\\u(\w\w\w\w)/g,(function(e,t){const n=parseInt(t,16);return String.fromCharCode(n)}))}const CS=function(e){const t=document.createElement("input");t.style="position: fixed; top: 0; left: 0;",t.contentEditable=!0,document.body.appendChild(t),t.value=e,t.unselectable="off",t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)},SS=(e,t,n)=>{CS(e.join(",")),n||ht("copied keywords",{"keyword count":e.length,via:lt(),location:(0,be.Z)(),...t&&{feature:t}})},TS=Qn(oi,{target:"e11x64og0"})("padding:16px;background:var(--background-primary);box-shadow:0px -2px 4px rgba(103, 103, 103, 0.14);",(e=>e.sticky&&"\n  position: sticky;\n  bottom: 0;\n  z-index: 99999;\n  "),";"),DS=({onClickCsvExport:e,exportButtonText:t,onClickCopy:n,copyButtonText:i,sticky:r})=>h.createElement(TS,{sticky:r},h.createElement($c,{onClick:e,variant:"hollow",margin:"0 16px 0 0"},t||(0,ai.Z)("downloadAsCsv"),h.createElement(hS,null)),h.createElement($c,{onClick:n,variant:"hollow"},i||(0,ai.Z)("copyToClipboard"),h.createElement(uS,null)));function FS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class MS extends h.Component{constructor(...e){super(...e),FS(this,"onClickCsvExport",(()=>{const{mode:e,onClickButton:t}=this.props;vS(`related keywords ${"kwins"===e?"keyword inspector":"videoIdeas"===e?"video ideas":"search panel"}`),dt("Opened CSV Export search tags");const n="videoIdeas"===e?(0,ai.Z)("dailyIdeasTitle"):(0,ai.Z)("topSearchKeywordsTitle");cs.create({title:(0,ai.Z)("csvExportTitle")+" ("+n+")",innerComponent:xS,innerProps:{tags:this.getSortedKeywords(),searchTerm:this.props.searchTerm,mode:this.props.mode||null}},"vidiq-modal-increased-z-index"),t&&t("export")})),FS(this,"onClickCopy",(()=>{const{feature:e,onClickButton:t,noEvent:n}=this.props,i=this.getSortedKeywords().map((e=>ES(e.keyword)));SS(i,e,n),t&&t("copy",i.length)}))}getSortedKeywords(){const e=fc(this.props.selected,this.props.sort||"overall",void 0===this.props.descendingSortOrder||this.props.descendingSortOrder);if(this.props.forcedTopKeyword){const t=e.findIndex((e=>e.keyword===this.props.forcedTopKeyword));if(t<0)return e;const n=e[t];e.splice(t,1),e.unshift(n)}return e}render(){const{altStyle:e,copyButtonText:t,exportButtonText:n}=this.props;if(this.props.redesign)return h.createElement(DS,{exportButtonText:n,onClickCsvExport:this.onClickCsvExport,copyButtonText:t,onClickCopy:this.onClickCopy,sticky:this.props.sticky});const i=Fo()("vidiq-related-keywords-actions",{"vidiq-related-keywords-actions-alt":e});return h.createElement("div",{className:i},h.createElement("button",{id:"vidiq-download-csv-tags",onClick:this.onClickCsvExport,className:"vidiq-related-keywords-action-button"},e&&h.createElement(hS,null),n||(0,ai.Z)("downloadAsCsv")),h.createElement("button",{onClick:this.onClickCopy,className:"vidiq-related-keywords-action-button"},e&&h.createElement(uS,null),t||(0,ai.Z)("copyToClipboard")))}}const AS=MS;function IS(){return IS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},IS.apply(this,arguments)}function OS(e){return h.createElement("svg",IS({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",width:"18",height:"18"},e),h.createElement("path",{fill:"currentColor",d:"M9.791 7.054v5.693a.75.75 0 11-1.5 0V7.054L6.566 8.78a.75.75 0 11-1.05-1.065l3-3a.75.75 0 011.05 0l3 3a.75.75 0 01-1.05 1.065L9.791 7.047v.007z"}))}const NS=Qn(oi,{target:"eumkko0"})({name:"k3d9k4",styles:"width:747px;min-height:34px;margin:0 auto;padding:16px 0;position:relative"}),PS=({expanded:e,toggleExpanded:t,numIdeas:n=0,loading:i})=>{const r=(0,h.useMemo)((()=>e?(0,ai.Z)("showFewerTitle"):(0,ai.Z)("showAllIdeas",[n.toString()])),[e,n]);if(n<=10||i)return null;const a=Fo()("vidiq-video-ideas-expand-arrow",{"vidiq-video-ideas-arrow-down":!e});return h.createElement(NS,null,h.createElement($c,{testId:"expand-button",onClick:t},r," ",h.createElement(OS,{className:a})))},RS=({expanded:e,loading:t,numIdeas:n,numVisibleIdeas:i,sortDescending:r,selectedIdeas:a,toggleExpanded:o,selectedChannelId:s,selectedChannelSubs:l})=>{const c=(0,h.useMemo)((()=>a.map((e=>({...e,keyword:e.idea,view_potential:mc(e.score_label)})))),[a]);return i?h.createElement(h.Fragment,null,h.createElement(PS,{expanded:e,toggleExpanded:o,numIdeas:n,loading:t}),Boolean(c.length)&&h.createElement(AS,{selected:c,sort:"score",descendingSortOrder:r,onClickButton:(e,t)=>{"copy"===e&&s&&((e,t,n)=>{ht("copied ideas from video ideas table",{"channel id":e,"channel subs":n,"idea count":t,via:lt(),_identify:Ec()})})(s,t,l)},altStyle:!0,copyButtonText:(0,ai.Z)("copyIdeas"),exportButtonText:(0,ai.Z)("exportIdeas"),mode:"videoIdeas",noEvent:!0,redesign:!0})):null};const jS=Qn("button",{target:"etrao4o0"})({name:"2ea294",styles:"cursor:pointer;background:var(--blue);color:#fff;font-weight:500;font-size:14px;font-family:Roboto,sans-serif;padding:8px 16px;border-radius:4px;border:0 none;outline:none"});const LS=function({onClick:e,classes:t,testId:n,children:i}){const r=Fo()("vidiq-styled-blue-button",t);return h.createElement(jS,{className:r,onClick:e},i)},qS=({children:e,column:t,border:n,classes:i,testId:r})=>{const a=Fo()("vidiq-video-ideas-tip",i,{"vidiq-video-ideas-tip-column":t,"vidiq-video-ideas-tip-bordered":n});return h.createElement("div",{className:a},e)},ZS=({onClick:e})=>h.createElement(qS,{column:!0,border:!0,classes:"vidiq-video-ideas-group-error",testId:"group-ideas-error"},h.createElement("span",{className:"vidiq-video-ideas-group-error-text"},h.createElement("span",{className:"vidiq-video-ideas-emoji"},"☹️")," ",(0,ai.Z)("couldntGetIdeasError")),h.createElement(LS,{onClick:e},(0,ai.Z)("tryAgain"))),BS=({onClick:e})=>h.createElement(qS,{column:!0,classes:"vidiq-went-through-all-ideas-tip",testId:"went-through-ideas-tip"},h.createElement("div",{className:"vidiq-video-ideas-tip-large"},"👀 ",ai.Z.html("checkYouOut")),h.createElement("div",{className:"vidiq-video-ideas-tip-primary"},(0,ai.Z)("startResearchingSavedIdeas")),h.createElement("div",{className:"vidiq-video-ideas-tip-link",onClick:e},(0,ai.Z)("letsGo")," ",h.createElement(OS,null))),VS=({visibleIdeas:e,selectedIdeas:t,toggleIdeaSelected:n,toggleAllIdeasSelected:i,sortDescending:r,onChangeSort:a,error:o,loading:s,addIdeaToGroup:l,selectedChannelId:c,selectedChannelSubs:u,expanded:d,toggleExpanded:p,numIdeas:f,videos:m,fetchVideos:g,setSelectedTab:v})=>{const y=(0,ve.h)().featurePermitted("videoIdeas");return h.createElement(h.Fragment,null,h.createElement(QC,{ideas:e,onChangeSort:a,selectedIdeas:t,toggleIdeaSelected:n,toggleAllIdeasSelected:i,addIdeaToGroup:l,videos:m,fetchVideos:g,permitted:y}),h.createElement(RS,{expanded:d,loading:s,numIdeas:f,numVisibleIdeas:e.length,sortDescending:r,selectedIdeas:t,toggleExpanded:p,selectedChannelId:c,selectedChannelSubs:u}),!e.length&&!s&&!o&&y&&h.createElement(BS,{onClick:()=>v("saved")}))};var zS=__webpack_require__(4578);const US=h.createContext(null);function WS(e,t){var n=Object.create(null);return e&&h.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,h.isValidElement)(e)?t(e):e}(e)})),n}function HS(e,t,n){return null!=n[t]?n[t]:e.props[t]}function YS(e,t,n){var i=WS(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),a=[];for(var o in e)o in t?a.length&&(r[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}(t,i);return Object.keys(r).forEach((function(a){var o=r[a];if((0,h.isValidElement)(o)){var s=a in t,l=a in i,c=t[a],u=(0,h.isValidElement)(c)&&!c.props.in;!l||s&&!u?l||!s||u?l&&s&&(0,h.isValidElement)(c)&&(r[a]=(0,h.cloneElement)(o,{onExited:n.bind(null,o),in:c.props.in,exit:HS(o,"exit",e),enter:HS(o,"enter",e)})):r[a]=(0,h.cloneElement)(o,{in:!1}):r[a]=(0,h.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:HS(o,"exit",e),enter:HS(o,"enter",e)})}})),r}var $S=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},KS=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(cb(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}(0,zS.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,r=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,i=a,WS(n.children,(function(e){return(0,h.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:HS(e,"appear",n),enter:HS(e,"enter",n),exit:HS(e,"exit",n)})}))):YS(e,r,a),firstRender:!1}},n.handleExited=function(e,t){var n=WS(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,kt.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Pi(e,["component","childFactory"]),r=this.state.contextValue,a=$S(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?h.createElement(US.Provider,{value:r},a):h.createElement(US.Provider,{value:r},h.createElement(t,i,a))},t}(h.Component);KS.propTypes={},KS.defaultProps={component:"div",childFactory:function(e){return e}};const GS=KS;function XS(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const QS=!1;var JS="unmounted",eT="exited",tT="entering",nT="entered",iT="exiting",rT=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,a=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?a?(r=eT,i.appearStatus=tT):r=nT:r=t.unmountOnExit||t.mountOnEnter?JS:eT,i.state={status:r},i.nextCallback=null,i}(0,zS.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===JS?{status:eT}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==tT&&n!==nT&&(t=tT):n!==tT&&n!==nT||(t=iT)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===tT?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===eT&&this.setState({status:JS})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[Yo.findDOMNode(this),i],a=r[0],o=r[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||QS?this.safeSetState({status:nT},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:tT},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:nT},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:Yo.findDOMNode(this);t&&!QS?(this.props.onExit(i),this.safeSetState({status:iT},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:eT},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:eT},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Yo.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=r[0],o=r[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===JS)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Pi(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return h.createElement(US.Provider,{value:null},"function"==typeof n?n(e,i):h.cloneElement(h.Children.only(n),i))},t}(h.Component);function aT(){}rT.contextType=US,rT.propTypes={},rT.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:aT,onEntering:aT,onEntered:aT,onExit:aT,onExiting:aT,onExited:aT},rT.UNMOUNTED=JS,rT.EXITED=eT,rT.ENTERING=tT,rT.ENTERED=nT,rT.EXITING=iT;const oT=rT;var sT=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=XS(n.className,i):n.setAttribute("class",XS(n.className&&n.className.baseVal||"",i)));var n,i}))},lT=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1];t.removeClasses(r,"exit"),t.addClass(r,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1]?"appear":"enter";t.addClass(r,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1]?"appear":"enter";t.removeClasses(r,a),t.addClass(r,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,r=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:i?r+"-active":n[e+"Active"],doneClassName:i?r+"-done":n[e+"Done"]}},t}(0,zS.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&r&&(i+=" "+r),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,r=n.active,a=n.done;this.appliedClasses[t]={},i&&sT(e,i),r&&sT(e,r),a&&sT(e,a)},n.render=function(){var e=this.props,t=(e.classNames,Pi(e,["classNames"]));return h.createElement(oT,(0,kt.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(h.Component);lT.defaultProps={classNames:""},lT.propTypes={};const cT=lT;function uT(){return uT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uT.apply(this,arguments)}function dT(e){return h.createElement("svg",uT({xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"12",height:"12",viewBox:"0 0 12 12"},e),h.createElement("defs",null),h.createElement("path",{fill:"currentColor",d:"M0.961914 9.76172C0.674805 10.0488 0.661133 10.5615 0.96875 10.8623C1.26953 11.1631 1.78223 11.1562 2.06934 10.8691L6.25293 6.67871L10.4434 10.8691C10.7373 11.1631 11.2432 11.1631 11.5439 10.8623C11.8379 10.5547 11.8447 10.0557 11.5439 9.76172L7.36035 5.57129L11.5439 1.3877C11.8447 1.09375 11.8447 0.587891 11.5439 0.287109C11.2363 -0.00683594 10.7373 -0.0136719 10.4434 0.280273L6.25293 4.4707L2.06934 0.280273C1.78223 -0.00683594 1.2627 -0.0205078 0.96875 0.287109C0.667969 0.587891 0.674805 1.10059 0.961914 1.3877L5.15234 5.57129L0.961914 9.76172Z"}))}function hT(){return hT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hT.apply(this,arguments)}function pT(e){return h.createElement("svg",hT({xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"15",height:"14",viewBox:"0 0 15 14"},e),h.createElement("path",{fill:"currentColor",d:"M.647 4.644c0 2.918 2.455 5.803 6.269 8.264.212.137.472.274.65.274.177 0 .437-.137.649-.274 3.821-2.46 6.268-5.345 6.268-8.264C14.483 2.12 12.74.37 10.505.37c-1.306 0-2.324.595-2.94 1.497C6.964.973 5.938.371 4.633.371 2.39.371.647 2.121.647 4.644zm1.409-.007c0-1.723 1.134-2.892 2.659-2.892 1.23 0 1.92.745 2.351 1.395.192.28.322.369.5.369.184 0 .3-.096.498-.37.465-.635 1.128-1.394 2.352-1.394 1.531 0 2.666 1.17 2.666 2.892 0 2.406-2.502 5.072-5.387 6.986-.061.041-.102.068-.13.068-.027 0-.068-.027-.123-.068-2.884-1.914-5.386-4.58-5.386-6.986z"}))}const fT=({ideaData:e,ideaPosition:t,numIdeas:n,onClickSave:i,onClickDismiss:r})=>{const{score_label:a,idea:o}=e,[s,l]=(0,h.useState)(null),c=e=>{s||(l(e),"saved"===e&&i(),"dismissed"===e&&r())},u=Fo()("vidiq-daily-ideas-card",{"vidiq-daily-ideas-card-very-high":"very-high"===a,"vidiq-daily-ideas-card-high":"high"===a,"vidiq-daily-ideas-card-medium":"medium"===a,"vidiq-daily-ideas-card-saved":"saved"===s,"vidiq-daily-ideas-card-dismissed":"dismissed"===s,"vidiq-daily-ideas-card-neutral":!s}),d=o.length>=90?"28px":"40px";return h.createElement("div",{className:u},h.createElement("div",{className:"vidiq-daily-ideas-card-number"},(0,ai.Z)("numOfTotal",[t.toString(),n.toString()])),h.createElement("div",{className:"vidiq-daily-ideas-card-content"},h.createElement("div",{className:"vidiq-daily-ideas-card-view-prediction"},(0,ai.Z)("viewPrediction"),": ",mc(a)," ",gc(a)),h.createElement("div",{className:"vidiq-daily-ideas-card-text",style:{fontSize:d}},o),h.createElement("div",{className:"vidiq-daily-ideas-card-buttons"},h.createElement("div",{className:"vidiq-daily-ideas-card-dismiss",onClick:()=>c("dismissed")},(0,ai.Z)("dismissTitle")," ",h.createElement(dT,null)),h.createElement("div",{className:"vidiq-daily-ideas-card-save",onClick:()=>c("saved")},(0,ai.Z)("saveTitle")," ",h.createElement(pT,null)))),"saved"===s&&h.createElement("div",{className:"vidiq-daily-ideas-card-popup-saved"},(0,ai.Z)("saved")," ",h.createElement(pT,null)),"dismissed"===s&&h.createElement("div",{className:"vidiq-daily-ideas-card-popup-dismissed"},(0,ai.Z)("dismissed")," ",h.createElement(dT,null)))};var mT=__webpack_require__(7128);const gT=Qn("div",{target:"e1i1me9z0"})({name:"83aya1",styles:".vidiq-upgrade-button-gradient{display:flex;align-items:center;justify-content:center;background:var(--text-blue-purple-gradient);border-radius:100px;padding:16px 32px;font-weight:bold;font-size:18px;line-height:23px;color:#ffffff;text-decoration:none;}"}),vT=({upsellName:e,text:t})=>h.createElement(gT,null,h.createElement(xs,{text:t||(0,mT.Z)("upgrade"),anchor:!0,upsell:e,className:"vidiq-upgrade-button-gradient",resetClassName:!0}));const yT=Qn("div",{target:"e1m551kv1"})({name:"1mgwgv9",styles:"width:656px;height:284px;display:flex;flex-flow:column;align-items:center;justify-content:center;box-shadow:0px 4px 16px rgba(0, 0, 0, 0.16);border-radius:10px;box-sizing:border-box;position:absolute;top:0;opacity:1;background:var(--background-tinted);border:2px solid var(--text-purple)"}),bT=Qn("div",{target:"e1m551kv0"})({name:"6tmt2c",styles:"font-weight:900;font-size:34px;line-height:41px;text-align:center;color:var(--text-primary);width:460px"}),_T=({onClickGoToSaved:e})=>{const t=(0,ve.h)().featurePermitted("videoIdeas"),n=(0,ve.h)().getFeatureLimit("dailyIdeas"),i=Fo()("vidiq-daily-ideas-card","vidiq-daily-ideas-card-neutral","vidiq-daily-ideas-card-finish");return t?h.createElement("div",{className:i},h.createElement("div",{className:"vidiq-daily-ideas-card-finish-primary"},"👀 ",ai.Z.html("checkYouOut")),h.createElement("div",{className:"vidiq-daily-ideas-card-finish-secondary"},(0,ai.Z)("startResearchingSavedIdeasAlt")),h.createElement("div",{className:"vidiq-daily-ideas-card-finish-link",onClick:e},(0,ai.Z)("checkOutYourSavedIdeas")," ",h.createElement(OS,null))):h.createElement(yT,{className:"vidiq-daily-ideas-card-neutral"},h.createElement(bT,null,"⚡️ ",(0,ai.Z)("niceYouViewedIdeas",[n.toString()])),h.createElement(tc,{size:"l",margin:"24px 0",padding:"0 150px",textAlign:"center"},(0,ai.Z)("dailyIdeasUpsellAlt",[n.toString()])),h.createElement(vT,{upsellName:"DailyIdeasUpsellCard",text:(0,ai.Z)("upgradeToPlan",[3===n?"Pro":"Boost"])}))},wT=Qn("div",{target:"eyf272p1"})(lu," margin:20px 0 16px;"),kT=Qn("div",{target:"eyf272p0"})(lu," background:var(--border-primary);padding:8px 16px;border-radius:100px;cursor:pointer;&:hover{background:var(--border-secondary);}svg{margin-left:4px;color:var(--text-primary);}"),xT=({expanded:e,toggle:t})=>{const n={width:"16px",height:"16px"};return h.createElement(wT,null,h.createElement(kT,{onClick:t},h.createElement(ru,null,e?(0,ai.Z)("hideRelatedVideos"):(0,ai.Z)("showRelatedVideos")),e?h.createElement(py,n):h.createElement(hy,n)))},ET=Qn("div",{target:"e78i6d20"})("overflow-y:auto;.vidiq-daily-ideas-card-neutral:nth-child(1){transform:translateY(\n        ",(e=>kc(e.numCards,0)),"px\n      ) scale(",(e=>wc(e.numCards,0)),");transition:transform 300ms;transition-delay:500ms;z-index:0;}.vidiq-daily-ideas-card-neutral:nth-child(2){transform:translateY(\n        ",(e=>kc(e.numCards,1)),"px\n      ) scale(",(e=>wc(e.numCards,1)),");transition:transform 300ms;transition-delay:500ms;z-index:1;}.vidiq-daily-ideas-card-neutral:nth-child(3){transform:translateY(\n        ",(e=>kc(e.numCards,2)),"px\n      ) scale(",(e=>wc(e.numCards,2)),");transition:transform 300ms;transition-delay:500ms;z-index:2;}.vidiq-daily-ideas-card-neutral:nth-child(4){transform:translateY(\n        ",(e=>kc(e.numCards,3)),"px\n      ) scale(",(e=>wc(e.numCards,3)),");transition:transform 300ms;transition-delay:500ms;z-index:3;}"),CT=({ideas:e,addIdeaToGroup:t,videos:n,fetchVideos:i,setSelectedTab:r})=>{const[a,o]=(0,h.useState)(!1),s=bc(e),l=s.slice(0,4).reverse(),c=l[l.length-1],u=n[null==c?void 0:c.idea]||{},d=s.length<=3,p=d?l.length+1:l.length,f=(e,n)=>{o(!1),t(e,n.id,n.idea,n.score,n.score_label)};return h.createElement(ET,{numCards:p},h.createElement(GS,{key:"idea-cards-transition-group",className:"vidiq-daily-ideas-cards"},d&&h.createElement(cT,{key:"finished-ideas-card",className:"vidiq-daily-ideas-card",timeout:1e3},h.createElement(_T,{onClickGoToSaved:()=>r("saved")})),l.map((t=>{const n=e.findIndex((e=>e.id===t.id))+1;return h.createElement(cT,{key:t.id,className:"vidiq-daily-ideas-card",timeout:1e3},h.createElement(fT,{ideaData:t,ideaPosition:n,numIdeas:e.length,onClickSave:()=>f("savedIdeas",t),onClickDismiss:()=>f("dismissedIdeas",t)}))}))),l.length>0&&h.createElement(xT,{expanded:a,toggle:()=>{Dc(!a,c.idea,"card"),o(!a)}}),l.length>0&&a&&h.createElement(FC,{idea:c.idea,videosForIdea:u,fetchVideos:i,view:"card"}))},ST=()=>h.createElement("div",{className:"vidiq-video-ideas-loading-spinner"},h.createElement(os,{size:"big"})),TT=e=>{const{allIdeas:t,error:n,loading:i,setSelectedTab:r,view:a,addIdeaToGroup:o,videos:s,fetchVideos:l,fetchIdeas:c,selectedChannelId:u,justAuthedTimeLeft:d,justUploadedTimeLeft:p}=e;return h.createElement(h.Fragment,null,i&&h.createElement(ST,null),h.createElement(dC,{loading:i,error:n,refresh:()=>{c(u||void 0)},justAuthedTimeLeft:d,justUploadedTimeLeft:p}),"card"===a&&!i&&!n&&h.createElement(CT,{ideas:t,addIdeaToGroup:o,videos:s,fetchVideos:l,setSelectedTab:r}),"list"===a&&!i&&!n&&h.createElement(VS,EE()(e,["view"])))},DT=Qn("div",{target:"ekg19ix0"})(lu," ",iu," ",Jc," padding:100px 0 90px;text-align:center;.vidiq-video-ideas-emoji{margin:0 4px;}"),FT=({type:e})=>{const t="saved"===e?"💙️":"❌",n="saved"===e?(0,ai.Z)("toSaveAnIdea"):(0,ai.Z)("toDismissAnIdea"),i="saved"===e?(0,ai.Z)("allSavedVisibleHere"):(0,ai.Z)("allDismissedVisibleHere");return h.createElement(DT,null,(0,ai.Z)("goToDailyIdeasAndClick"),h.createElement("span",{className:"vidiq-video-ideas-emoji"},t),n," ",i)},MT=({dismissedIdeas:e,onClickRestore:t})=>h.createElement(h.Fragment,null,e.map((({idea:e,id:n})=>h.createElement("tr",{key:e},h.createElement("td",{className:"vidiq-video-ideas-table-row-keyword"},h.createElement("div",{className:"vidiq-video-ideas-table-row-content"},e)),h.createElement("td",{className:"video-ideas-table-row-restore",onClick:()=>t(n,e)},(0,ai.Z)("restore")))))),AT=({fetchDismissedIdeas:e,loading:t,dismissedIdeas:n,restoreAll:i,restore:r,error:a})=>{(0,h.useEffect)((()=>{n.length>0||e()}),[]);const o=(0,h.useMemo)((()=>fc(n,"created_at",!0)),[n]);return t?h.createElement(ST,null):!t&&a?h.createElement(ZS,{onClick:e}):o.length?h.createElement(zC,null,h.createElement(WC,null,h.createElement(YC,null,h.createElement("th",null,(0,ai.Z)("dismissedIdeasLabel")),h.createElement("th",{className:"vidiq-restore-all-ideas-link",onClick:i},h.createElement("div",{className:"vidiq-restore-all-ideas-link-text"},(0,ai.Z)("restoreAll")))),h.createElement(HC,null,h.createElement(MT,{dismissedIdeas:o,onClickRestore:r})))):h.createElement(FT,{type:"dismissed"})};function IT(){return IT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},IT.apply(this,arguments)}function OT(e){return h.createElement("svg",IT({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 16",width:"14",height:"16"},e),h.createElement("path",{fill:"currentColor",d:"M3.532 15.571h6.269c.977 0 1.634-.636 1.681-1.613l.472-9.94h.82c.28 0 .513-.239.513-.519a.516.516 0 00-.513-.513H9.65V1.94C9.65.95 9.008.348 7.955.348h-2.59c-1.053 0-1.696.601-1.696 1.592v1.046H.559a.521.521 0 00-.513.513c0 .287.24.52.513.52h.82l.472 9.946c.047.977.697 1.606 1.681 1.606zM4.756 2.01c0-.39.266-.643.677-.643h2.454c.41 0 .676.253.676.643v.977H4.756V2.01zm-1.128 12.53c-.39 0-.684-.294-.704-.697l-.479-9.823h8.409l-.445 9.823c-.02.41-.314.697-.718.697H3.628zM4.64 13.37c.26 0 .43-.164.423-.403l-.205-7.315c-.006-.239-.184-.396-.43-.396-.26 0-.43.164-.424.403l.212 7.308c.007.246.17.403.424.403zm2.03 0c.26 0 .437-.164.437-.403V5.659c0-.24-.177-.403-.437-.403s-.444.164-.444.403v7.308c0 .24.184.403.444.403zm2.023 0c.246 0 .417-.157.424-.403l.212-7.308c.007-.24-.17-.403-.43-.403-.24 0-.418.157-.424.403l-.205 7.308c-.007.24.164.403.423.403z"}))}const NT=({ideaData:e,onClickDelete:t,odd:n,videosForIdea:i,fetchVideos:r})=>{const[a,o]=(0,h.useState)(!1),{idea:s,created_at:l,id:c}=e;return h.createElement(h.Fragment,null,h.createElement(LC,{odd:n,expanded:a,onClick:()=>{Dc(!a,e.idea,"list"),o(!a)}},h.createElement("td",{className:"vidiq-video-ideas-table-row-keyword"},h.createElement("div",{className:"vidiq-video-ideas-table-row-content"},s)),h.createElement(hC,{scoreLabel:e.score_label}),h.createElement("td",{className:"vidiq-video-ideas-table-row-date"},(e=>{const t=1e3*e;return((new Date).valueOf()-t)/1e3/60/60<22?(0,ai.Z)("todayLabel"):wt()(t).fromNow()})(l)),h.createElement(tA,{type:"td",text:(0,ai.Z)("deleteTitle"),classes:"vidiq-video-ideas-trash-button",onClick:e=>{e.stopPropagation(),t(c,s)},testId:"delete-button"},h.createElement(OT,null))),a&&h.createElement(MC,{idea:e.idea,videosForIdea:i,fetchVideos:r,odd:n}))},PT=cs,RT=({fetchSavedIdeas:e,loading:t,savedIdeas:n,onChangeSort:i,sortDescending:r,sort:a,onClickDelete:o,error:s,videos:l,fetchVideos:c})=>{(0,h.useEffect)((()=>{n.length>0||e()}),[]);const u=(0,h.useMemo)((()=>"view_prediction"===a?((e,t)=>{const n={"very-high":2,high:1,medium:0};return e.sort(((e,i)=>t?n[i.score_label]-n[e.score_label]||i.created_at-e.created_at:n[e.score_label]-n[i.score_label]||i.created_at-e.created_at))})(n,r):fc(n,"created_at",r)),[n,r,a]),d=()=>{PT.destroy()},p=(e,t)=>{PT.create({innerComponent:yz,innerProps:{onYes:()=>((e,t)=>{o(e,t),d()})(e,t),yesText:(0,ai.Z)("yesImSure"),onNo:d,noText:(0,ai.Z)("noNevermind"),extra:()=>`🤔 ${(0,ai.Z)("areYouSureDeleteIdea")}`,testId:"delete-saved-idea-dialogue"}},"vidiq-delete-idea-dialogue-modal")};return t?h.createElement(ST,null):!t&&s?h.createElement(ZS,{onClick:e}):u.length?h.createElement(zC,null,h.createElement(WC,{group:"saved"},h.createElement(YC,null,h.createElement("th",null,(0,ai.Z)("idea")),h.createElement(XC,{label:(0,ai.Z)("viewPredictionWhenSaved"),tooltip:(0,ai.Z)("viewPotentialHeaderTooltip"),onChangeSort:()=>i("view_prediction"),sortDescending:r,hideArrow:"view_prediction"!==a}),h.createElement(XC,{label:(0,ai.Z)("dateSaved"),onChangeSort:()=>i("date"),sortDescending:r,hideArrow:"date"!==a}),h.createElement("th",null)),h.createElement(HC,null,u.map(((e,t)=>h.createElement(NT,{key:e.id,ideaData:e,onClickDelete:p,odd:t%2==0,videosForIdea:l[e.idea]||{},fetchVideos:c})))))):h.createElement(FT,{type:"saved"})},jT=({hideFeatureInfo:e,children:t})=>h.createElement(Hc,{featureInfoEmoji:"👇",featureInfoText:(0,ai.Z)("videoIdeasTip",[(0,ve.h)().getFeatureLimit("dailyIdeas")||50]),hideFeatureInfo:e,minHeight:"400px"},t);function LT(){return LT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},LT.apply(this,arguments)}function qT(e){return h.createElement("svg",LT({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"16",height:"16"},e),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.333 12H14M2 12h.007m3.326-4H14M2 8h.007m3.326-4H14M2 4h.007"}))}function ZT(){return ZT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ZT.apply(this,arguments)}function BT(e){return h.createElement("svg",ZT({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"16",height:"16"},e),h.createElement("path",{fill:"currentColor",stroke:"currentColor",d:"M1.606 9.06l-.35.35.35-.35A1.5 1.5 0 011.166 8V2.667a1.5 1.5 0 011.5-1.5h10.667a1.5 1.5 0 011.5 1.5V8a1.5 1.5 0 01-1.5 1.5H2.667a1.5 1.5 0 01-1.061-.44zm1.327 2.773h10.134a.167.167 0 01.117.285.167.167 0 01-.117.049H2.933a.166.166 0 110-.334zm1.6 2.667h6.934c.044 0 .086.018.117.049l.354-.354-.354.354a.167.167 0 01-.117.284H4.533a.167.167 0 010-.333zm9.625-5.675c.219-.219.342-.516.342-.825V2.667A1.167 1.167 0 0013.333 1.5H2.667A1.167 1.167 0 001.5 2.667V8a1.167 1.167 0 001.167 1.167h10.666c.31 0 .607-.123.825-.342z"}))}const VT=Qn("div",{target:"e1xraysi0"})("display:flex;align-items:center;justify-content:center;padding:8px;border-radius:8px;color:",(e=>e.selected?"var(--blue)":"var(--text-secondary)"),";",(e=>e.selected&&"background: var(--background-tinted-secondary);")," &:first-child{margin-right:16px;}&:hover{color:var(--blue);cursor:pointer;}"),zT=({onClick:e,selected:t,testId:n,children:i})=>h.createElement(VT,{selected:t,onClick:e},i),UT=Qn("div",{target:"eixx4bv0"})("padding:8px 12px;border-radius:100px;font-weight:500;font-size:14px;line-height:18px;margin-right:16px;position:relative;color:",(e=>e.selected?"#fff":"var(--text-secondary)"),";",(e=>e.selected&&"background: var(--blue);")," ",(e=>e.disabled&&"opacity: 0.5;")," &:hover{",(e=>!e.selected&&!e.disabled&&"\n      cursor: pointer;\n      color: var(--text-primary);\n    "),";}"),WT=({label:e,selected:t,onClick:n,disabled:i,notificationDot:r,testId:a})=>h.createElement(UT,{selected:t,disabled:i,onClick:i?()=>null:n},e,r&&h.createElement("div",{className:"vidiq-video-ideas-tab-notification"})),HT=({type:e,text:t,disabled:n,ideaAddedToGroup:i,children:r})=>{const a=`video-ideas-tab-tip-${e}`,[o,s]=(0,h.useState)(ye.Z.getItem(a)||!1);return(0,h.useEffect)((()=>{i&&!ye.Z.getItem(a)&&(s(!0),ye.Z.setItem(a,!0),setTimeout((()=>{s(!1)}),2e3))}),[i,s,a]),h.createElement(tA,{text:t,disabled:n,activate:o,triangle:!0,noWrap:!0,fadeOut:!0},r)},YT=({selectedTab:e,onClickTab:t,hasError:n,loading:i,savedIdeasNotification:r,savedIdeasTooltipActive:a,dismissedIdeasTooltipActive:o})=>h.createElement("div",{className:"vidiq-video-ideas-tabs"},h.createElement(WT,{label:(0,ai.Z)("dailyIdeasLabel"),selected:"daily"===e,onClick:()=>t("daily"),disabled:i,testId:"daily-ideas-tab"}),h.createElement(HT,{type:"saved",text:(0,ai.Z)("savedIdeasTabTooltip"),disabled:Boolean(n),ideaAddedToGroup:a},h.createElement(WT,{label:(0,ai.Z)("savedIdeasLabel"),selected:"saved"===e,onClick:()=>t("saved"),disabled:i,notificationDot:!n&&r,testId:"saved-ideas-tab"})),h.createElement(HT,{type:"dismissed",text:(0,ai.Z)("dismissedIdeasTabTooltip"),disabled:Boolean(n),ideaAddedToGroup:o},h.createElement(WT,{label:(0,ai.Z)("dismissedIdeasLabel"),selected:"dismissed"===e,onClick:()=>t("dismissed"),disabled:i,testId:"dismissed-ideas-tab"})));const $T=Qn("div",{target:"e1wt0weh0"})({name:"1lsp354",styles:"display:flex;flex-flow:row;align-items:center;justify-content:center;flex:0"}),KT=({selectedTab:e,setSelectedTab:t,error:n,loading:i,savedIdeasLoading:r,dismissedIdeasLoading:a,savedIdeasNotification:o,savedIdeasTooltipActive:s,dismissedIdeasTooltipActive:l,view:c,toggleView:u})=>h.createElement(oi,{justify:"space-between",padding:"0 24px"},h.createElement(YT,{selectedTab:e,onClickTab:t,hasError:Boolean(n),loading:i||r||a,savedIdeasNotification:o,savedIdeasTooltipActive:s,dismissedIdeasTooltipActive:l}),!n&&!i&&"daily"===e&&h.createElement($T,null,h.createElement(zT,{onClick:()=>u("card"),selected:"card"===c,testId:"view-selector-card"},h.createElement(BT,null)),h.createElement(zT,{onClick:()=>u("list"),selected:"list"===c,testId:"view-selector-list"},h.createElement(qT,null))));const GT=Qn("div",{target:"e4nsks20"})({name:"pddgn4",styles:"width:100%;display:flex;flex-flow:column;background:var(--background-primary);height:100%"}),XT=()=>{const{state:e,fetchIdeas:t,fetchGroupIdeas:n,fetchVideos:i,toggleExpanded:r,toggleSortDescending:a,setSelectedIdeas:o,setSelectedTab:s,addIdeaToGroup:l,removeIdeaFromGroup:c,removeAllDismissedIdeas:u,closeError:d,setView:p}=(0,h.useContext)(Nc),{ideas:f,selectedIdeas:m,sortDescending:g,sortSavedDescending:v,sortSavedBy:y,channels:b,selectedChannelId:_,expanded:w,loading:k,error:x,selectedTab:E,savedIdeas:C,savedIdeasLoading:S,savedIdeasError:T,dismissedIdeas:D,dismissedIdeasLoading:F,dismissedIdeasError:M,savedIdeasNotification:A,savedIdeasTooltipActive:I,dismissedIdeasTooltipActive:O,errorPopupMessage:N,videos:P,view:R,justAuthedTimeLeft:j,justUploadedTimeLeft:L}=e;(0,h.useEffect)((()=>{const{ideas:n,channels:i,selectedChannelId:r,algorithmId:a,view:o}=e;n.length&&i.length&&r?Sc({channelId:r,algorithmId:a,type:o,ideas:n}):t(r||void 0)}),[]);const q=(0,h.useMemo)((()=>bc(f)),[f]),Z=(0,h.useMemo)((()=>(({ideas:e,expanded:t,sortDescending:n})=>{const i=fc(e,"score",n).filter((({marked_as:e})=>!e));return t?i:i.slice(0,10)})({ideas:q,expanded:w,sortDescending:g})),[q,w,g]),B=(0,h.useMemo)((()=>{if(!_||!b.length)return;const e=vc(_,b);return e?e.subscribers:void 0}),[_,b]);return h.createElement(GT,null,h.createElement(KT,{selectedTab:E,setSelectedTab:s,error:x,loading:k,savedIdeasLoading:S,dismissedIdeasLoading:F,savedIdeasNotification:A,savedIdeasTooltipActive:I,dismissedIdeasTooltipActive:O,view:R,toggleView:e=>{e!==R&&(((e,t)=>{ht("changed video ideas view",{from:e,to:t,via:lt()})})(R,e),p(e))}}),h.createElement(jT,{hideFeatureInfo:"daily"!==E||!!x},"daily"===E&&h.createElement(TT,{allIdeas:f,visibleIdeas:Z,selectedIdeas:m,toggleIdeaSelected:e=>{const t=Vs(m),n=t.findIndex((t=>t.idea===e.idea));n>=0?t.splice(n,1):t.push(e),o(t)},toggleAllIdeasSelected:e=>{o(e?[]:Z)},sortDescending:g,addIdeaToGroup:l,onChangeSort:()=>{!x&&_&&(a("daily"),w||r(),Cc("daily",!g,_))},error:x,loading:k,selectedChannelId:_,selectedChannelSubs:B,expanded:w,toggleExpanded:r,numIdeas:q.length,setSelectedTab:s,videos:P,fetchVideos:i,fetchIdeas:t,view:R,justAuthedTimeLeft:j,justUploadedTimeLeft:L}),"saved"===E&&h.createElement(RT,{fetchSavedIdeas:()=>n("savedIdeas",_),loading:S,savedIdeas:C,onChangeSort:e=>{a("saved",e),Cc("saved",!v,_)},sortDescending:v,sort:y,onClickDelete:(e,t)=>c("savedIdeas",e,t),error:T,videos:P,fetchVideos:i}),"dismissed"===E&&h.createElement(AT,{fetchDismissedIdeas:()=>n("dismissedIdeas",_),loading:F,dismissedIdeas:D,restoreAll:u,restore:(e,t)=>c("dismissedIdeas",e,t),error:M}),h.createElement(kE,{display:Boolean(N),onClose:d},N)),h.createElement(yE,{timestampStorageKey:"vidiq-daily-ideas-feedback-timestamp",featureEventName:"Daily Ideas"}))},QT=()=>{const{state:e,onChangeChannel:t}=(0,h.useContext)(Nc),{channels:n,selectedChannelId:i,loading:r}=e,a=n.map((e=>yc(e)));if(!i)return null;const o=vc(i,n);if(!o)return null;const s=yc(o);return h.createElement("div",{className:"vidiq-video-ideas-channels"},h.createElement(My,{options:a,initSelected:s,header:(0,ai.Z)("selectAYouTubeChannel"),onChangeSelected:t,disabled:r}))},JT=we.Z.keyMirror(["UPDATE"],"CHANNEL_AUDIT"),eD={fetchCurrentChannelId:()=>(0,ve.h)().getCurrentChannel().then((e=>{if(!e)throw new Error(bS.ERROR_UNAUTHENTICATED);return e.id})).catch((e=>{throw e||new Error(bS.ERROR_UNKNOWN)})),fetchCompetitors:e=>P.Z.expanded("vidiq.showCompetitors",{cid:e}).then((({response:e,json:t})=>{if(!e.ok)throw new Error(bS.ERROR_UNKNOWN);return t})),fetchTrendingVideos:e=>new Promise(((t,n)=>{const i={channel_ids:e.channelIds,email_frequency:e.range,sort:e.sort,min_recorded_at:3};P.Z.expanded("vidiq.competitorTrendAlert",{body:i}).then((({json:e,response:i})=>i.ok?e&&e.length?void t(e):n(bS.ERROR_NO_TRENDING_VIDEOS):n(bS.ERROR_UNKNOWN)))})),addCompetitor:(e,t)=>new Promise(((n,i)=>{P.Z.expanded("vidiq.followCompetitor",{cid:e,competitor:t}).then((({response:e,json:t})=>{if(!e.ok||!t.competitors||!t.competitors.length)return i(bS.WARNING_COMPETITOR_DOES_NOT_EXIST);n(t)}))})),removeCompetitor:(e,t)=>new Promise(((n,i)=>{P.Z.expanded("vidiq.unfollowCompetitor",{cid:e,competitor:t}).then((({response:e})=>{if(!e.ok)return i(bS.WARNING_UNABLE_TO_REMOVE_COMPETITOR);n()}))})),isCompetitor(e){return new Promise((t=>{let n=null;this.fetchCurrentChannelId().then((e=>(n=e,this.fetchCompetitors(n)))).then((i=>{const r=i.competitors.find((t=>t.yt_channel_id===e)),a=r?r.id:null;return t({isCompetitor:!!r,channelId:a,myChannelId:n})}))}))}},tD=eD,nD=new ds.Z("ChannelAuditStore",{_data:{growth:{},videos:[],topVph:[],topWatchTime:[],topSubscribers:[],topEngagement:[],topSuggested:[],topPlaylists:[],topAvgViewTime:[],topCompetitorVideos:[],topViews:[],topSearchTerms:[],topRetention:[],lowestRetention:[],lowestAvgViewTime:[],lowestViews:[],lowestSubscribers:[],lowestLikeRatio:[],endscreens:[],cards:[],averageMetrics:{},missingMetrics:{},postingSchedule:{},loading:!1,gotData:!1,numDays:30,startDate:"",endDate:"",limitToRange:!1,errorUnauthed:!1,errorUnknown:!1,channelId:""}});nD.dispatchToken=ko.Z.register((e=>{const t=nD,n=JT;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const iD=nD;const rD={customExportKeys:["id","title","desc","keywords","timestamp","timestamp_date","views","cards","endscreens","highres_thumbnail","added_to_playlist","actionable_seo_score"],update(e){ko.Z.dispatch({action:JT.UPDATE,data:e})},fetchCurrentChannel(){return new Promise((e=>{(0,ve.h)().getCurrentChannel().then((t=>{if(t)return e(t);this.update({errorUnauthed:!0,loading:!1}),e(null)})).catch((()=>{this.update({errorUnknown:!0,loading:!1}),e(null)}))}))},async fetchData(){this.update({loading:!0,gotData:!1});const e=await this.fetchCurrentChannel();e&&Promise.all([this.getYoutubeAnalytics(e.channel_id),this.getCompetitionData(e.channel_id),this.getCompetitorData(e.id),this.getExportedData()]).then((()=>{this.update({loading:!1,gotData:!0})}))},changeNumDays(e){iD.reset(),this.update({numDays:e}),this.fetchData()},toggleLimitOption(){const e=iD.getData().limitToRange;this.update({limitToRange:!e})},getVideosInTimeframe(e){if(!e||!e.length)return[];const t=iD.getData(),n=wt()(t.startDate,"YYYYMMDD").valueOf();return e.filter((e=>{let t=e.date_published_at;return"string"==typeof t&&(t=wt()(t,"YYYY-MM-DD").valueOf()),t>=n}))},async getYoutubeAnalytics(e){const t=iD.getData().numDays,n=await eg.fetchChannelAuditData(t,e);n&&this.update(n)},async getCompetitionData(e){if(e)try{const t=(await tD.fetchTrendingVideos({channelIds:[e],range:"all",sort:"date_published_at"})).filter((e=>e.true_engagement<1&&e.true_engagement>0)),n=iD.getData().numDays,i=wt()().locale("en").subtract(n,"day").valueOf()/1e3;t.splice(t.findIndex((e=>wt()(e.date_published_at).valueOf()/1e3<i)));const r=fc(t,"true_engagement",!0),a=JSON.parse(JSON.stringify(r)).reverse();this.update({topEngagement:r,lowestEngagement:a})}catch(e){(0,ke.Z)("(vidiq) Error in ChannelAuditActions > getCompetitionData:",e),Me.Z.warning("ChannelAuditActions: getCompetitionData failed",{error:e.toString()})}},async getCompetitorData(e){try{if(!e)return;const{competitors:t}=await tD.fetchCompetitors(e);if(!t||!t.length)return;const n=t.map((e=>e.yt_channel_id)),i=await tD.fetchTrendingVideos({channelIds:n,range:"all",sort:"date_published_at"});if(!i||!i.length)return;const r=iD.getData().numDays,a=wt()().locale("en").subtract(r,"day").valueOf()/1e3;i.splice(i.findIndex((e=>wt()(e.date_published_at).valueOf()/1e3<a)));const o=fc(i,"views_per_hour",!0);this.update({topCompetitorVideos:o})}catch(e){(0,ke.Z)("(vidiq) Error in ChannelAuditActions > getCompetitorData:",e),Me.Z.warning("ChannelAuditActions: getCompetitorData failed",{error:e.toString()})}},async getExportedData(){try{const e=iD.getData().numDays,t=wt()().locale("en").subtract(e,"day").valueOf()/1e3,{videos:n}=await rg.fetchToDate({minDate:t,onlyPublic:!0}),i=n.length,r=this.getPostingScheduleFromAnalytics(i),a=await this.buildExportList(n),o=this.processExportData(a);let s={postingSchedule:r};o&&(s=Object.assign(s,o)),this.update(s)}catch(e){(0,ke.Z)("(vidiq) Error in ChannelAuditActions > getExportedData:",e),Me.Z.warning("ChannelAuditActions: getExportedData failed",{error:e.toString()})}},async buildExportList(e){let t=[],n=0;for(let i=30;n<=e.length-1;i+=30){const r=await this.batchExport(e.slice(n,i));r&&(t=t.concat(r)),n=i}return t},batchExport(e){return new Promise((t=>{const n=[],i=[];e.forEach((e=>{n.push(gS.custom(e,this.customExportKeys).then((e=>i.push(e))).catch((()=>{})))})),Promise.all(n).then((()=>{t(i)}))}))},processExportData(e){if(!e||!e.length)return null;const t={},n={};return["title","desc","keywords","added_to_playlist","actionable_seo_score"].forEach((n=>{const i=e.map((e=>"keywords"===n?e.keywords.join(""):e[n]));t[n]=function(e){return e&&e.length?e.reduce(((e,t)=>("string"==typeof t&&(t=t.length),e+t)),0)/e.length:null}(i)})),e.forEach((e=>{["cards","endscreens","highres_thumbnail","added_to_playlist"].forEach((t=>{n[t]||(n[t]=[]),e[t]||n[t].push(e.id)}))})),{videos:e,averageMetrics:t,missingMetrics:n}},getPostingScheduleFromAnalytics(e){try{if(void 0===e)return{};const t=e/iD.getData().numDays;return{avgPerDay:t,avgPerWeek:7*t}}catch(e){}}},aD=rD,oD=({numDays:e,limitToRange:t,loading:n,errorUnauthed:i,errorUnknown:r})=>{const a=e=>({text:(0,ai.Z)("lastDays",[e.toString()]),value:e}),o=(0,ve.h)().featurePermitted("channelAuditTimeframe"),s={text:ai.Z.html("upgradeToBoost"),code:"ChannelAuditTimeframeSelector",plan:"boost"},l=[{text:(0,ai.Z)("lastDays",["30"]),value:30},{text:(0,ai.Z)("lastDays",["60"]),value:60,...!o&&{upsell:s}},{text:(0,ai.Z)("lastDays",["90"]),value:90,...!o&&{upsell:s}}],c={text:(0,ai.Z)("limitToRangeOptionText"),value:t};return h.createElement(My,{options:l,initSelected:a(e),getSelectedOption:a,onChangeSelected:e=>{aD.changeNumDays(e)},disabled:n||i||r,checkboxOption:c,onChangeCheckbox:()=>{aD.toggleLimitOption()}})},sD=ug(h.memo(oD),iD),lD=h.memo(sD),cD=(e,t,n)=>{ht("clicked on channel audit item",{"item name":e,"item detail":t,"view more":n})};function uD(){return uD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uD.apply(this,arguments)}function dD(e){return h.createElement("svg",uD({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8 14.667A6.667 6.667 0 108 1.334a6.667 6.667 0 000 13.333zm0-3.333h.007"}),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.06 6a2 2 0 013.887.667c0 1.333-2 2-2 2"}))}const hD=e=>{const t=n[e];if(!t)throw'Could not find component "'+e+'"';return t};const pD=Oo()({displayName:"ChannelAuditInfoPopover",render(){return this.props.title&&this.props.info?h.createElement("div",{className:"channel-audit-info-popover"},h.createElement("h3",{className:"title"},this.props.title),h.createElement("p",{className:"info"},this.props.info)):null}}),fD=Qn("div",{target:"e12bw1sr0"})({name:"1q3aopu",styles:"svg{color:var(--text-primary);}"}),mD=e=>{const t="ChannelAuditInfoPopover";return hD(t)?h.createElement(fD,{"data-react-popover":t,"data-react-popover-props":JSON.stringify(e),"data-react-popover-config":JSON.stringify({align:"left"})},h.createElement(dD,null)):null};const gD=Qn("div",{target:"e1l3kolt2"})({name:"1wf3vf3",styles:"display:flex;flex-flow:column;border:1px solid var(--border-primary);border-radius:12px;box-sizing:border-box;margin-bottom:16px"}),vD=Qn(au,{target:"e1l3kolt1"})(uu," padding:16px 8px 16px 16px;width:100%;box-sizing:border-box;"),yD=Qn("div",{target:"e1l3kolt0"})(ou," justify-content:space-around;align-items:stretch;position:relative;border-width:1px 0 0;border-color:var(--border-primary);border-style:solid;"),bD=Qn("div",{target:"e1e7jv7d3"})(du," flex:1;width:0;&:not(:last-child){border-right:1px solid var(--border-primary);}"),_D=Qn(nu,{target:"e1e7jv7d2"})(uu," padding:8px;font-weight:600;background:var(--background-tinted);"),wD=Qn("div",{target:"e1e7jv7d1"})(du," flex:1;",(e=>!e.hasIndividualLink&&"\n    &:hover {\n      background: var(--background-tinted);\n      cursor: pointer;\n    }\n  "),";"),kD=Qn(nu,{target:"e1e7jv7d0"})(lu," padding:8px;border-top:1px solid var(--border-primary);cursor:pointer;color:var(--text-secondary);&:hover{background:var(--background-tinted);}"),xD=({type:e,label:t,items:n,hasIndividualLink:i,openLink:r,onClickViewMore:a})=>h.createElement(bD,null,h.createElement(_D,null,t,h.createElement(mD,{title:t,info:(0,ai.Z)(`${e}ChannelAuditInfo`)})),h.createElement(wD,{onClick:r,hasIndividualLink:i},n),void 0!==a&&h.createElement(kD,{onClick:a},(0,ai.Z)("viewMoreLabel")));const ED=Qn("div",{target:"e1ayvdbq4"})(hu," height:150px;"),CD=Qn(ED,{target:"e1ayvdbq3"})({name:"32vj9b",styles:"cursor:pointer;&:hover{background:var(--background-tinted);}"}),SD=Qn("div",{target:"e1ayvdbq2"})("font-size:",(e=>e.smallText?"20px":"34px"),";line-height:",(e=>e.smallText?"24px":"41px"),";font-weight:900;text-align:center;color:",(e=>!0===e.status?"var(--light-green)":"okay"===e.status?"var(--yellow)":"var(--light-red)"),";"),TD=Qn("div",{target:"e1ayvdbq1"})({name:"16u5l0n",styles:"font-size:28px;line-height:35px;font-weight:600;color:var(--text-secondary);margin-left:8px"}),DD=Qn(nu,{target:"e1ayvdbq0"})({name:"ewwbqt",styles:"color:var(--text-secondary);padding:4px 8px;text-align:center"}),FD=({type:e,title:t,info:n,value:i,subtext:r,status:a,onClick:o})=>h.createElement(bD,null,h.createElement(_D,null,t,h.createElement(mD,{title:t,info:n})),h.createElement(CD,{onClick:()=>o(e)},h.createElement(cu,null,h.createElement(SD,{status:a,smallText:"posting-schedule"===e},i),"actionable_seo_score"===e&&h.createElement(TD,null," / 50")),h.createElement(DD,null,r))),MD=Oo()({displayName:"ChannelAuditAverages",labels:{title:(0,ai.Z)("titleLengthChannelAuditTitle"),desc:(0,ai.Z)("descLengthChannelAuditTitle"),keywords:(0,ai.Z)("tagsLengthChannelAuditTitle"),added_to_playlist:(0,ai.Z)("playlistsTitle"),actionable_seo_score:(0,ai.Z)("actionableSeoScore")},info:{title:(0,ai.Z)("checklistTitleRangeTooltip"),desc:(0,ai.Z)("checklistDescRangeTooltip"),keywords:(0,ai.Z)("checklistTagsRangeTooltip"),added_to_playlist:(0,ai.Z)("addedToPlaylistChannelAuditInfo"),actionable_seo_score:(0,ai.Z)("seoScoreChannelAuditInfo")},getWithinRange(e,t){switch(t){case"title":return e<20?"short":!(e>60)||"long";case"desc":return e>=300;case"keywords":return e>=200;case"actionable_seo_score":return e>=40;case"added_to_playlist":return!(e<1)&&(!(e>=1&&e<2)||"okay")}},section(e,t){const n=this.getWithinRange(e,t);let i;const r=we.Z.camelCase(t);i="title"===t&&!0!==n?(0,ai.Z)("titleAverageSubtextBad",[(0,ai.Z)(n+"Label")]):"okay"===n?(0,ai.Z)(r+"AverageSubtextOkay"):n?(0,ai.Z)(r+"AverageSubtextGood"):(0,ai.Z)(r+"AverageSubtextBad");const a="added_to_playlist"===t?ge()(e).format("0.0"):ge()(e).format("0,0");return h.createElement(FD,{key:t,type:t,title:this.labels[t],info:this.info[t],value:a,subtext:i,status:n,onClick:e=>{const n={title:"title",desc:"description",keywords:"keywords",added_to_playlist:"added to playlist",actionable_seo_score:"actionable seo score"}[t];n&&cD("average metrics",n),this.props.toggleEditView(e)}})},getColumns(){const e=this.props.averageMetrics,t=!Object.keys(e).length;return t&&this.props.loading?this.props.spinner():t&&!this.props.loading?this.props.errorMessage("averages"):Object.keys(e).map((t=>this.section(e[t],t)))},render(){const e={title:(0,ai.Z)("channelAuditAverageMetricsHeader",[this.props.numDays]),info:(0,ai.Z)("channelAuditAverageMetricsInfo",[this.props.numDays])};return h.createElement(gD,null,h.createElement(vD,null,(0,ai.Z)("channelAuditAverageMetricsHeader",[this.props.numDays]),h.createElement(mD,e)),h.createElement(yD,null,this.getColumns()))}}),AD=MD,ID=({upsellCode:e})=>h.createElement(Qy,{code:e,header:(0,ai.Z)("channelAuditStatsUpsellMessageAlt"),foggyWindow:!0,height:"157px",width:"100%",bottom:"33px"});const OD=Qn("div",{target:"e1s0iken4"})("display:flex;flex-flow:column;align-items:flex-start;justify-content:flex-start;padding:8px;height:78px;box-sizing:border-box;",(e=>e.hasLink&&"\n    &:hover {\n      background: var(--background-tinted);\n      cursor: pointer;\n    }\n  ")," ",(e=>e.partOfUpsell&&"filter: blur(8px);"),";"),ND=Qn("img",{target:"e1s0iken3"})({name:"1rqk3hz",styles:"height:45px;min-width:80px;object-fit:cover;margin-right:8px"}),PD=Qn("div",{target:"e1s0iken2"})(du," align-items:flex-start;justify-content:space-between;height:45px;"),RD=Qn("div",{target:"e1s0iken1"})(eu," font-weight:bold;color:var(--text-primary);overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;"),jD=Qn("div",{target:"e1s0iken0"})(eu," color:var(--text-secondary);font-weight:500;margin-top:4px;"),LD=({type:e,thumbSrc:t,title:n,value:i,extra:r,hasVphStat:a,link:o,onClick:s,partOfUpsell:l})=>h.createElement(OD,{onClick:()=>{o&&(s&&s(),window.open(o,"_blank"))},hasLink:void 0!==o,partOfUpsell:l},h.createElement(cu,null,"topPlaylists"!==e&&h.createElement(ND,{src:t}),h.createElement(PD,null,h.createElement(RD,null,$v.htmlDecode(n)),h.createElement(ru,{color:a?"var(--light-orange)":"var(--purple)",fontWeight:"bold"},i))),h.createElement(jD,null,r)),qD=(e,t)=>{const n=(e=>({lowestAvgViewTime:"lowest avg. watch time",lowestLikeRatio:"lowest like ratio",lowestRetention:"lowest retention",lowestViews:"lowest views",lowestSubscribers:"videos losing subs"}[e]))(e);n&&cD("content that could use work",n,t)},ZD=Oo()({displayName:"ChannelAuditContentNotWorking",labels:{lowestAvgViewTime:(0,ai.Z)("lowestAvgViewTime"),lowestLikeRatio:(0,ai.Z)("lowestLikeRatio"),lowestRetention:(0,ai.Z)("lowestRetention"),lowestViews:(0,ai.Z)("lowestViews"),lowestSubscribers:(0,ai.Z)("lowestSubscribers")},noStats(){return Object.values(this.props.data).every((e=>!e||!e.length))},getValue:(e,t)=>"lowestAvgViewTime"===e?t.avgViewDuration:"lowestLikeRatio"===e?ge()(t.likeRatio).format("0%"):"lowestRetention"===e?ge()(t.retention).format("0.00%"):"lowestViews"===e?ge()(t.views).format("0,0"):"lowestSubscribers"===e?ge()(t.subscribers).format("0,0"):null,getThumbSrc:e=>`https://i.ytimg.com/vi/${e}/mqdefault.jpg`,getLink(e,t,n){if(!this.props.permitted&&n>=3)return null;const i={lowestViews:"VIEWS",lowestAvgViewTime:"AVERAGE_WATCH_TIME",lowestSubscribers:"SUBSCRIBERS_NET_CHANGE",lowestRetention:"AVERAGE_WATCH_PERCENTAGE",lowestLikeRatio:"LIKES_PER_LIKES_PLUS_DISLIKES_PERCENT"},r=this.props.dates;return Object.keys(i).indexOf(e)>=0?km.getVideoLink(i[e],t,r):null},getExtra:(e,t)=>"lowestAvgViewTime"===e||"lowestRetention"===e?1===t.views?(0,ai.Z)("onNumViewSingular"):ai.Z.html("onNumViews",[ge()(t.views).format("0a")]):"lowestSubscribers"===e&&t.avgPerViews?ai.Z.html("subsPer1kViews",[Math.round(t.avgPerViews).toString()]):null,columnContents(e,t){return t.slice(0,5).map(((t,n)=>h.createElement(LD,{key:we.Z.prettyRandomId(),type:e,title:t.title,value:this.getValue(e,t),extra:this.getExtra(e,t),thumbSrc:this.getThumbSrc(t.videoId),link:this.getLink(e,t.videoId,n),onClick:()=>qD(e),partOfUpsell:!this.props.permitted&&n>=3})))},column(e){let t=this.props.data[e];if(this.props.limitToRange&&(t=aD.getVideosInTimeframe(t)),!t||!t.length)return null;return h.createElement(xD,{key:e,type:e,label:this.labels[e],items:this.columnContents(e,t),hasIndividualLink:!0,onClickViewMore:()=>{qD(e,!0),this.props.toggleShowMoreView(e)}})},columns(){return this.noStats()&&this.props.loading?this.props.spinner():this.noStats()&&!this.props.loading?this.props.errorMessage("doubleDown"):Object.keys(this.labels).map((e=>this.column(e)))},notEnoughStats(){return Object.keys(this.labels).every((e=>{let t=this.props.data[e];return this.props.limitToRange&&(t=aD.getVideosInTimeframe(t)),(t||[]).length<5}))},upsell(){return this.props.permitted||this.noStats()||this.notEnoughStats()?null:h.createElement(ID,{upsellCode:"ChannelAuditContentNeedsWork"})},render(){const e={title:(0,ai.Z)("channelAuditContentNotWorking"),info:(0,ai.Z)("channelAuditContentNotWorkingInfo",[this.props.numDays])};return h.createElement(gD,null,h.createElement(vD,null,(0,ai.Z)("channelAuditContentNotWorking"),h.createElement(mD,e)),h.createElement(yD,null,this.columns(),this.upsell()))}}),BD=ZD,VD=Qn("div",{target:"ebkbefp0"})(uu," flex:1;padding:8px;",(e=>e.hasLink&&"\n    &:hover {\n      background: var(--background-tinted);\n      cursor: pointer;\n    }\n  "),";"),zD=({text:e,value:t,link:n})=>h.createElement(VD,{onClick:()=>{n&&window.open(n,"_blank")},hasLink:void 0!==n},h.createElement(nu,null,e),h.createElement(ru,{color:"var(--purple)",fontWeight:"bold"},t)),UD=Oo()({displayName:"ChannelAuditDoubleDown",statics:{labels:{topVph:(0,ai.Z)("researchVph"),topEngagement:(0,ai.Z)("engagementRateTitle"),topViews:(0,ai.Z)("viewsTitle"),topSubscribers:(0,ai.Z)("subscribersGainedTitle"),topCompetitorVideos:(0,ai.Z)("topCompetitorVideos"),topSearchTerms:(0,ai.Z)("topSearchTermsTitle"),topWatchTime:(0,ai.Z)("totalWatchTimeTitle"),topAvgViewTime:(0,ai.Z)("topAvgWatchtimeNonLive"),topPlaylists:(0,ai.Z)("topPlaylists"),topSuggested:(0,ai.Z)("topSuggested"),topRetention:(0,ai.Z)("topRetention"),endscreens:(0,ai.Z)("endscreenClickRates"),cards:(0,ai.Z)("cardClickRates")}},groups:[["topVph","topEngagement","topViews","topSubscribers","topCompetitorVideos"],["topWatchTime","topAvgViewTime","topRetention","topPlaylists","topSuggested"],["topSearchTerms","endscreens","cards"]],getIndividualLink(e,t){return"topEngagement"===e?km.getEngagementLink(t,this.props.dates):"topSuggested"===e||"topCompetitorVideos"===e?`https://www.youtube.com/watch?v=${t}`:null},getExtra:(e,t)=>"topAvgViewTime"===e||"topRetention"===e?1===t.views?(0,ai.Z)("onNumViewSingular"):ai.Z.html("onNumViews",[ge()(t.views).format("0a")]):"topSubscribers"===e&&t.avgPerViews?ai.Z.html("subsPer1kViews",["+"+Math.round(t.avgPerViews).toString()]):"topCompetitorVideos"===e?(0,ai.Z)("by")+" "+(t.channel_title||t.channelName):null,getSearchTerms:e=>e&&e.length?e.slice(0,6).map((e=>{const t=e.views>=1e3?ge()(e.views).format("0.0a"):e.views;return h.createElement(zD,{key:e.searchTerm,text:e.searchTerm,value:t,link:e.link})})):null,getEndscreensCards(e,t){return t&&t.length?t.map((t=>{const n=km.getClickRatesLink(e,this.props.channelId,this.props.dates);return h.createElement(zD,{key:t.type,text:t.type,value:ge()(t.clickRate).format("0.00%"),link:n})})):null},getLink(e){const t=this.props.channelId,n=this.props.dates;if("topVph"===e)return km.getVphLink(t);if("topPlaylists"===e)return km.getPlaylistsLink(t,n);const i={topViews:"VIEWS",topWatchTime:"WATCH_TIME",topSubscribers:"SUBSCRIBERS_NET_CHANGE",topAvgViewTime:"AVERAGE_WATCH_TIME",topRetention:"AVERAGE_WATCH_PERCENTAGE"};return Object.keys(i).indexOf(e)>=0?km.getSectionLink(i[e],t,n):null},getValue:(e,t)=>"topVph"===e||"topCompetitorVideos"===e?ge()(Math.round(t.views_per_hour)).format("0,0")+" "+(0,ai.Z)("vph"):"topEngagement"===e?ge()(t.true_engagement).format("0%"):"topSubscribers"===e?"+"+ge()(t.subscribers).format("0,0"):"topSuggested"===e?"+"+ge()(t.views).format("0,0"):"topAvgViewTime"===e?t.avgViewDuration:"topViews"===e?ge()(t.views).format("0,0"):"topRetention"===e?ge()(t.retention).format("0.00%"):ge()(t.watchTime).format("0,0"),onClickVideo(e,t){"topCompetitorVideos"===e&&Xo({location:"Channel Audit",channelId:t.channel_id,vph:t.views_per_hour})},columnContents(e,t){return"topSearchTerms"===e?this.getSearchTerms(t):"endscreens"===e||"cards"===e?this.getEndscreensCards(e,t):t.slice(0,5).map(((t,n)=>{const i=t.videoId||t.video_id,r=!this.props.permitted&&n>=3;return h.createElement(LD,{key:we.Z.prettyRandomId(),type:e,title:t.title,value:this.getValue(e,t),extra:this.getExtra(e,t),link:this.getIndividualLink(e,i),thumbSrc:t.thumbnail||this.props.getThumbnail(i),onClick:()=>this.onClickVideo(e,t),hasVphStat:"topVph"===e||"topCompetitorVideos"===e,partOfUpsell:r})}))},column(e){let t=this.props.data[e];if(this.props.limitToRange&&["topPlaylists","topSearchTerms","cards","endscreens"].indexOf(e)<0&&(t=aD.getVideosInTimeframe(t)),!t||!t.length)return null;const n=["topEngagement","topSuggested","topCompetitorVideos","cards","endscreens","topSearchTerms"].indexOf(e)>=0,i=this.getLink(e),r={topVph:"top vph",topEngagement:"engagement rate",topViews:"views",topSubscribers:"subscribers gained",topWatchTime:"total watch time",topAvgViewTime:"avg. watch time",topRetention:"top retention",topPlaylists:"top playlists",topSuggested:"top suggested",topSearchTerms:"top search terms",endscreens:"endscreen click rates",cards:"card click rates"}[e],a=e=>{r&&cD("content to double down on",r,e)};return h.createElement(xD,{key:e,type:e,label:UD.labels[e],items:this.columnContents(e,t),hasIndividualLink:n,openLink:()=>{a(),i&&window.open(i,"_blank")},onClickViewMore:"endscreens"===e||"cards"===e?void 0:()=>{a(!0),this.props.toggleShowMoreView(e)}})},columns(e){return 0===e&&this.noStats()&&this.props.loading?this.props.spinner():0===e&&this.noStats()&&!this.props.loading?this.props.errorMessage("doubleDown"):this.groups[e].map((e=>this.column(e)))},noStats(){return Object.values(this.props.data).every((e=>!e||!e.length))},notEnoughStats(e){return this.groups[e].every((e=>{let t=this.props.data[e];return this.props.limitToRange&&(t=aD.getVideosInTimeframe(t)),(t||[]).length<5}))},upsell(e){return this.props.permitted||this.noStats()||this.notEnoughStats(e)?null:h.createElement(ID,{upsellCode:`ChannelAuditDoubleDown${e+1}`})},render(){const e={title:(0,ai.Z)("channelAuditDoubleDownHeader"),info:(0,ai.Z)("channelAuditDoubleDownInfo",[this.props.numDays])};return h.createElement(gD,null,h.createElement(vD,null,(0,ai.Z)("channelAuditDoubleDownHeader"),h.createElement(mD,e)),h.createElement(yD,null,this.columns(0),this.upsell(0)),h.createElement(yD,null,this.columns(1),this.upsell(1)),h.createElement(yD,null,this.columns(2)))}}),WD=UD,HD={topVph:(0,ai.Z)("researchVph"),topEngagement:(0,ai.Z)("engagementRateTitle"),topViews:(0,ai.Z)("viewsTitle"),topSubscribers:(0,ai.Z)("subscribersGainedTitle"),topCompetitorVideos:(0,ai.Z)("topCompetitorVideos"),topSearchTerms:(0,ai.Z)("topSearchTermsTitle"),topWatchTime:(0,ai.Z)("totalWatchTimeTitle"),topAvgViewTime:(0,ai.Z)("topAvgWatchtimeNonLive"),topPlaylists:(0,ai.Z)("topPlaylists"),topSuggested:(0,ai.Z)("topSuggested"),topRetention:(0,ai.Z)("topRetention"),endscreens:(0,ai.Z)("endscreenClickRates"),cards:(0,ai.Z)("cardClickRates")},YD={topVph:(0,ai.Z)("vphStatLabel"),topEngagement:(0,ai.Z)("modalVideoEngagementRate"),topCompetitorVideos:(0,ai.Z)("vphStatLabel"),topViews:(0,ai.Z)("viewsTitle"),topSubscribers:(0,ai.Z)("subscribersGainedTitle"),topWatchTime:(0,ai.Z)("minutesWatchedLower"),topAvgViewTime:(0,ai.Z)("avgViewTimeStatLabel"),topSuggested:(0,ai.Z)("viewsTitle"),topPlaylists:(0,ai.Z)("minutesWatchedLower"),lowestAvgViewTime:(0,ai.Z)("avgViewTimeStatLabel"),lowestLikeRatio:(0,ai.Z)("likeToDislikeRatio"),lowestRetention:(0,ai.Z)("avgPercentViewedStatLabel"),lowestViews:(0,ai.Z)("viewsTitle"),lowestSubscribers:(0,ai.Z)("channelSubscribersStatLabel")},$D=Qn("div",{target:"e8djq4d0"})(lu," ",iu," position:absolute;color:var(--text-primary);font-weight:600;cursor:pointer;left:0;"),KD=({onClick:e})=>h.createElement($D,{onClick:e},h.createElement(fy,null),(0,ai.Z)("backTitle"));const GD=Qn(oi,{target:"e15sv4gq4"})((e=>e.partOfUpsell&&"filter: blur(8px);"),";"),XD=Qn("div",{target:"e15sv4gq3"})({name:"sfmwhm",styles:"display:flex;flex-flow:column;align-items:flex-start;justify-content:space-between;height:79px;width:320px"}),QD=Qn("div",{target:"e15sv4gq2"})(tu," font-weight:600;background:var(--text-blue-purple-gradient);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;"),JD=Qn("div",{target:"e15sv4gq1"})({name:"14bq742",styles:"background:var(--background-tinted);padding:4px 8px;border-radius:100px;margin-left:8px"}),eF=({type:e,ranks:t})=>t?h.createElement(h.Fragment,null,Object.keys(t).map((n=>n!==e&&t[n]?h.createElement(JD,{key:n},h.createElement(QD,null,"#",t[n]," ",(0,ai.Z)(`${n}ChannelAuditRank`))):null))):null,tF=({views:e,date:t})=>h.createElement(oi,{margin:"4px 0 0"},h.createElement(tc,{fontWeight:"600"},ge()(e).format("0,0")," ",(0,ai.Z)("viewsStatLabel")),h.createElement(tc,{color:"var(--text-secondary)",margin:"0 8px"},"·"),h.createElement(tc,{fontWeight:"600"},wt()(t).fromNow())),nF=Qn(tc,{target:"e15sv4gq0"})((({background:e})=>({background:e,padding:"4px 8px","margin-right":"8px","border-radius":"100px"})),""),iF=({video:e})=>{if(!e.status)return null;const{good:t,text:n,message:i}=e.status,r=!0===t?"var(--light-green)":"okay"===t?"var(--yellow)":"var(--light-red)",a=!0===t?"👍":"okay"===t?"":"👎";return h.createElement(oi,null,h.createElement(nF,{background:r,size:"s",color:"#fff",fontWeight:"600"},n," ",a),h.createElement(tc,{size:"s",fontWeight:"600"},i))},rF=e=>{const t=(({type:e,video:t})=>{if("topCompetitorVideos"===e)return t.channel_title;if("topAvgViewTime"===e||"lowestAvgViewTime"===e||"topRetention"===e||"lowestRetention"===e)return 1===t.views?(0,ai.Z)("onNumViewSingular"):ai.Z.html("onNumViews",[ge()(t.views).format("0a")]);if(t.avgPerViews&&("topSubscribers"===e||"lowestSubscribers"===e)){const n="topSubscribers"===e?"+":"";return ai.Z.html("subsPer1kViews",[`${n}${Math.round(t.avgPerViews).toString()}`])}return null})(e);if(!t)return null;if("topCompetitorVideos"===e.type){const n=t=>{t.stopPropagation(),window.open(`https://www.youtube.com/channel/${e.video.channel_id}`,"_blank")};return h.createElement(tc,{size:"s",color:"var(--blue)",onClick:n,cursor:"pointer",margin:"0 8px 0 0"},t)}return h.createElement(tc,{size:"s",margin:"0 8px 0 0"},t)},aF=({type:e,video:t,growth:n,listNumber:i,label:r,ranks:a,editVideo:o,partOfUpsell:s})=>{const l=t.videoId||t.video_id||t.id,c=()=>{Xo({location:"Channel Audit",channelId:t.channel_id,vph:t.vph}),window.open(`https://www.youtube.com/watch?v=${l}`,"_blank")},u=(({type:e,video:t,growth:n})=>{let i=null;if("topViews"===e?i="views":"topSubscribers"===e?i="subscribers":"topWatchTime"===e&&(i="watchTime"),!i)return null;const r=("topWatchTime"===e?60*t[i]*1e3:t[i])/n[i].thisPeriod*100;return r<5?null:ge()(r).format("0.0")})({type:e,video:t,growth:n});return h.createElement(GD,{margin:"0 0 20px 0",partOfUpsell:s},void 0!==i&&h.createElement(tc,{size:"xl",color:"var(--text-list-number)",margin:"0 16px 0 0"},"#",i),h.createElement(yu,{src:t.thumbnail||`https://i.ytimg.com/vi/${l}/mqdefault.jpg`,onClick:c}),h.createElement(XD,{onClick:c},h.createElement(oi,{flow:"column",align:"flex-start"},h.createElement(tc,{size:"m",fontWeight:"bold",lineClamp:o?"1":void 0},$v.htmlDecode(t.title)),o&&h.createElement(tF,{views:t.views,date:t.timestamp_date})),!o&&h.createElement(oi,null,h.createElement(oi,{flow:"column",align:"flex-start"},h.createElement(tc,{size:"s"},((e,t)=>"topVph"===e||"topCompetitorVideos"===e?Math.round(t.views_per_hour).toString():"topEngagement"===e?ge()(t.true_engagement).format("0%"):"topSubscribers"===e?"+"+ge()(t.subscribers).format("0,0"):"lowestSubscribers"===e?ge()(t.subscribers).format("0,0"):"topSuggested"===e?"+"+ge()(t.views).format("0,0"):"topWatchTime"===e||"topPlaylists"===e?ge()(t.watchTime).format("0,0"):"topAvgViewTime"===e||"lowestAvgViewTime"===e?t.avgViewDuration:"topViews"===e||"lowestViews"===e?ge()(t.views).format("0,0"):"topRetention"===e||"lowestRetention"===e?ge()(t.retention).format("0.00%"):"lowestLikeRatio"===e?ge()(t.likeRatio).format("0%"):void 0)(e,t)," ",r),h.createElement(oi,null,h.createElement(rF,{type:e,video:t}),!!u&&h.createElement(tc,{size:"s"},ai.Z.html("percentageOfTotalForPeriod",[u])))),h.createElement(eF,{type:e,ranks:a})),o&&h.createElement(iF,{video:t})),o&&h.createElement($c,{variant:"hollow",onClick:()=>window.open(`https://studio.youtube.com/video/${t.id}/edit`,"_blank")},(0,ai.Z)("edit")),("topVph"===e||"topCompetitorVideos"===e)&&h.createElement(Dv,{vph:t.views_per_hour,margin:"0 0 0 16px"}))},oF=Qn(oi,{target:"ejmqj4v0"})((e=>e.partOfUpsell&&"filter: blur(8px);"),";"),sF=()=>h.createElement(tc,{size:"s",color:"var(--text-secondary)",margin:"0 4px"},"•"),lF=({title:e,link:t,views:n,watchTime:i,listNumber:r,partOfUpsell:a})=>h.createElement(oF,{margin:"0 0 20px 0",justify:"flex-start",width:"60%",partOfUpsell:a},h.createElement(tc,{size:"xl",margin:"0 16px 0 0"},"#",r),h.createElement(oi,{flow:"column",align:"flex-start",justify:"space-between"},h.createElement(tc,{size:"2xl",color:"var(--blue)",cursor:"pointer",onClick:()=>{window.open(t,"_blank")}},e),h.createElement(oi,null,void 0!==n&&h.createElement(tc,null,ge()(n||0).format("0,0")," ",(0,ai.Z)("viewsStatLabel")),h.createElement(sF,null),void 0!==i&&h.createElement(tc,null,ge()(i||0).format("0,0")," ",(0,ai.Z)("minutesWatchedLower")))));function cF(){return cF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cF.apply(this,arguments)}const uF=Qn("div",{target:"e1wi3i124"})({name:"1bsarny",styles:"margin:16px 18px;padding:16px 8px;border:1px solid var(--border-primary);border-radius:12px;box-sizing:border-box"}),dF=Qn("div",{target:"e1wi3i123"})(lu," position:relative;margin-bottom:24px;"),hF=Qn("div",{target:"e1wi3i122"})({name:"1ke8cn1",styles:"font-size:16px;line-height:20px;font-weight:bold;color:var(--text-primary)"}),pF=({type:e,numDays:t,goBack:n})=>{const i=e.indexOf("top")>=0?(0,ai.Z)("topStatLabel"):(0,ai.Z)("worstStatLabel"),r=(e=>"lowestAvgViewTime"===e?(0,ai.Z)("avgViewTimeStatLabel"):"lowestLikeRatio"===e?(0,ai.Z)("likeToDislikeRatio"):"lowestRetention"===e?(0,ai.Z)("retentionStatLabel"):"lowestViews"===e?(0,ai.Z)("viewsTitle"):"lowestSubscribers"===e?(0,ai.Z)("channelSubscribersStatLabel"):HD[e])(e);return h.createElement(dF,null,h.createElement(KD,{onClick:n}),h.createElement(hF,null,"topSearchTerms"===e?(0,ai.Z)("channelAuditShowMoreHeaderSearchTerms",[t.toString()]):(0,ai.Z)("channelAuditShowMoreHeader",[i,r,t.toString()])))},fF=Qn("div",{target:"e1wi3i121"})(du," align-items:center;"),mF=({type:e,data:t,growth:n,topViews:i,topWatchTime:r,permitted:a,loading:o,upsell:s=!1})=>{if(o)return s?null:h.createElement(os,{size:"big"});const l=s?t.slice(3):t.slice(0,a?20:3);return h.createElement(fF,null,l.map(((t,a)=>{if("topSearchTerms"===e){const e=t;return h.createElement(lF,{key:a,title:e.searchTerm,link:e.link,views:e.views,watchTime:e.watchTime,listNumber:a+1,partOfUpsell:s})}if("topPlaylists"===e){const e=t,n=`https://www.youtube.com/playlist?list=${[e.playlistId]}`;return h.createElement(lF,{key:a,title:e.title,link:n,views:e.views,watchTime:e.watchTime,listNumber:a+1,partOfUpsell:s})}const o=t,l=(({videoId:e,topViews:t,topWatchTime:n})=>{const i=t.findIndex((t=>t.videoId===e))+1,r=n.findIndex((t=>t.videoId===e))+1;return{topViews:i>0&&i<=5?i:null,topWatchTime:r>0&&r<=5?r:null}})({videoId:o.videoId||o.video_id,topViews:i,topWatchTime:r});return h.createElement(aF,{key:a,type:e,growth:n,video:o,listNumber:a+1,label:YD[e],ranks:l,partOfUpsell:s})})))},gF=Qn("div",{target:"e1wi3i120"})({name:"myleza",styles:"position:relative;height:400px;overflow:hidden"}),vF=e=>e.permitted||e.loading?null:h.createElement(gF,null,h.createElement(mF,cF({},e,{upsell:!0})),h.createElement(Qy,{code:"ChannelAuditShowMore",header:(0,ai.Z)("channelAuditStatsUpsellMessageAlt"),foggyWindow:!0,height:"100%",width:"100%",bottom:"0px"})),yF=e=>{const{goBack:t,type:n,numDays:i}=e;return h.createElement(uF,null,h.createElement(pF,{goBack:t,type:n,numDays:i}),h.createElement(mF,e),h.createElement(vF,e))},bF=Oo()({displayName:"ChannelAuditEditView",message:{title:(0,ai.Z)("checklistTitleRangeTooltip"),desc:(0,ai.Z)("checklistDescRangeTooltip"),keywords:(0,ai.Z)("checklistTagsRangeTooltip"),added_to_playlist:(0,ai.Z)("addedToPlaylistMissingSubtextBad"),endscreens:(0,ai.Z)("endscreensMissingSubtextBad"),cards:(0,ai.Z)("cardsMissingSubtextBad"),highres_thumbnail:(0,ai.Z)("highresThumbnailMissingSubtextBad"),actionable_seo_score:(0,ai.Z)("actionableSeoScoreEditTitle")},getTitleStatus(e){const t=ai.Z.html("numCharacters",[(0,ai.Z)("titleLengthChannelAuditTitle"),e.title.length]);if(e.title.length>=20&&e.title.length<=60)return{good:!0,sortId:2,message:t};return{good:!1,sortId:0,text:e.title.length<20?(0,ai.Z)("tooShort"):(0,ai.Z)("tooLong"),message:t}},getDescStatus(e){const t=ai.Z.html("numCharacters",[(0,ai.Z)("descLengthChannelAuditTitle"),e.desc.length]);return e.desc.length>=300?{good:!0,sortId:2,message:t}:{good:!1,sortId:0,text:(0,ai.Z)("tooShort"),message:t}},getTagsStatus(e){const t=ai.Z.html("numCharacters",[(0,ai.Z)("tagsLengthChannelAuditTitle"),e.keywords.join("").length]);return e.keywords.join("").length>=200?{good:!0,sortId:2,message:t}:{good:!1,sortId:0,text:(0,ai.Z)("tooShort"),message:t}},getSeoScoreStatus(e){const t=(0,ai.Z)("actionableSeoScore")+": "+e.actionable_seo_score.toFixed(1);return e.actionable_seo_score>=40?{good:!0,sortId:2,message:t}:{good:!1,sortId:0,text:(0,ai.Z)("tooLow"),message:t}},getOtherStatus(e,t){if(!e[t])return{good:!1,sortId:0,text:(0,ai.Z)(we.Z.camelCase(t)+"ChannelAuditMissing"),message:(0,ai.Z)(we.Z.camelCase(t)+"ChannelAuditMissingMessage")};let n=ai.Z.html(we.Z.camelCase(t)+"ChannelAuditHas",[e[t]]);return"highres_thumbnail"===t&&(n=(0,ai.Z)("highresThumbnailChannelAuditHas")),"added_to_playlist"===t&&e[t]<2?{good:"okay",sortId:1,message:n}:{good:!0,sortId:2,message:n}},getVideoStatus(e){let t;switch(this.props.type){case"title":t=this.getTitleStatus(e);break;case"desc":t=this.getDescStatus(e);break;case"keywords":t=this.getTagsStatus(e);break;case"actionable_seo_score":t=this.getSeoScoreStatus(e);break;default:t=this.getOtherStatus(e,this.props.type)}return t.good&&(t.text="okay"===t.good?(0,ai.Z)("videoStatusOkay"):(0,ai.Z)("videoStatusGreat")),t},videoItems(e){if(this.props.loading)return h.createElement("div",{className:"channel-audit-edit-view-spinner"},h.createElement(os,{size:"big"}));let t=[];return this.props.allVideos.forEach((e=>{const n=this.getVideoStatus(e);t.push(L().extend(e,{status:n}))})),t=L().sortBy(t,(e=>e.status.sortId)),this.props.permitted||(t=e?t.slice(2):t.slice(0,2)),t.map((t=>h.createElement(aF,{key:t.id,video:t,type:this.props.type,editVideo:!0,partOfUpsell:e&&!this.props.permitted})))},upsell(){return this.props.permitted||this.props.loading?null:h.createElement(gF,null,this.videoItems(!0),h.createElement(Qy,{code:"ChannelAuditEditView",header:(0,ai.Z)("channelAuditStatsUpsellMessageAlt"),foggyWindow:!0,height:"100%",width:"100%",bottom:"0px"}))},render(){const e=this.props.toggleEditView.bind(null,!1);return h.createElement(uF,null,h.createElement(dF,null,h.createElement(KD,{onClick:e}),h.createElement(tc,{size:"l"},this.message[this.props.type])),h.createElement(oi,{flow:"column",align:"center"},this.videoItems()),this.upsell())}}),_F=e=>{const t=(e=>({cards:"videos without cards",endscreens:"videos without endscreens",highres_thumbnail:"videos without high-res thumbnails",added_to_playlist:"videos not added to playlist",postingSchedule:"posting schedule"}[e]))(e);t&&cD("items to improve upon",t)},wF=Oo()({displayName:"ChannelAuditImprovements",postingScheduleSection(){const e=this.props.postingSchedule;if(!e||!Object.keys(e).length)return null;let t,n;e.avgPerWeek<1?t=(0,ai.Z)("inconsistent"):e.avgPerDay>=1?(n=1===e.avgPerDay?(0,ai.Z)("videoSingular"):(0,ai.Z)("videoPlural"),t=ai.Z.html("postingScheduleText",[ge()(e.avgPerDay).format("0"),n,(0,ai.Z)("day")])):(n=1===e.avgPerWeek?(0,ai.Z)("videoSingular"):(0,ai.Z)("videoPlural"),t=ai.Z.html("postingScheduleText",[ge()(e.avgPerWeek).format("0"),n,(0,ai.Z)("week")]));const i=e.avgPerWeek>=1?(0,ai.Z)("postingScheduleSubtextGood"):(0,ai.Z)("postingScheduleSubtextBad");return h.createElement(FD,{key:"posting-schedule",type:"posting-schedule",title:(0,ai.Z)("postingScheduleTitle"),info:(0,ai.Z)("postingScheduleInfo"),value:t,subtext:i,status:e.avgPerWeek>=1,onClick:()=>{const e=this.props.channelId;e&&e.length&&(_F("postingSchedule"),window.open(`https://studio.youtube.com/channel/${e}/videos`))}})},section(e,t){if("postingSchedule"===t)return this.postingScheduleSection();const n=we.Z.camelCase(t),i=0===e,r=i?(0,ai.Z)(n+"MissingSubtextGood"):(0,ai.Z)(n+"MissingSubtextBad");return h.createElement(FD,{key:t,type:t,title:(0,ai.Z)(n+"MissingTitle"),info:(0,ai.Z)(n+"MissingInfo"),value:e,subtext:r,status:i,onClick:e=>{_F(t),this.props.toggleEditView(e)}})},getColumns(){const e=!Object.keys(this.props.missingMetrics).length&&!Object.keys(this.props.postingSchedule).length;if(e&&this.props.loading)return this.props.spinner();if(e&&!this.props.loading)return this.props.errorMessage("improvements");const t=Object.keys(this.props.missingMetrics).map((e=>this.section(this.props.missingMetrics[e].length,e)));return t.push(this.postingScheduleSection()),t},render(){const e={title:(0,ai.Z)("channelAuditItemsToImproveHeader"),info:(0,ai.Z)("channelAuditItemsToImproveInfo")};return h.createElement(gD,null,h.createElement(vD,null,(0,ai.Z)("channelAuditItemsToImproveHeader"),h.createElement(mD,e)),h.createElement(yD,null,this.getColumns()))}}),kF=wF;const xF={views:(0,ai.Z)("viewsStatLabel"),subscribers:(0,ai.Z)("channelSubscribersStatLabel"),watchTime:(0,ai.Z)("minutesWatchedLower")},EF={views:"views",subscribers:"subscribers gained",watchTime:"watch time"},CF=Qn(oi,{target:"e1efwrl51"})({name:"10ofuae",styles:"background:var(--background-secondary);border:1px solid var(--border-primary);border-radius:12px;box-sizing:border-box;padding:18px 0 16px;cursor:pointer;flex:1;height:110px;&:not(:last-child){margin-right:16px;}&:hover{border-color:var(--text-primary);}"}),SF=Qn("div",{target:"e1efwrl50"})("font-size:34px;line-height:41px;font-weight:900;color:",(e=>e.valueColor),";"),TF=({type:e,value:t,periodLabel:n})=>{const i="subscribers"===e&&t>=0?"+":"",r=ge()("watchTime"===e?t/1e3/60:t).format("0,0");return h.createElement(oi,null,h.createElement(tc,{fontWeight:"bold",margin:"0 4px 0 0"},i,r," ",xF[e]),h.createElement(tc,null,n))},DF=({type:e,growth:t,numDays:n})=>{const[i,r]=(0,h.useState)(!1),{link:a,percentage:o,thisPeriod:s,lastPeriod:l}=t,c=Math.abs(o)<10?o.toPrecision(2).toString():Math.round(o).toString(),u=0===o?"±":o>0?"+":"",d=0===o?"var(--text-primary)":o>0?"var(--light-green)":"var(--light-red)";return h.createElement(CF,{onClick:()=>{const t=EF[e];t&&cD("percentage growth",t),window.open(a,"_blank")},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),flow:"column",justify:"space-between"},h.createElement(oi,{margin:"0 0 12px 0"},h.createElement(tc,{size:"xl",fontWeight:"bold"},xF[e]),h.createElement(tc,{size:"l",fontWeight:"bold",margin:"0 0 0 4px",color:"var(--text-secondary)"},(e=>e>30?(0,ai.Z)("lastDays",[e.toString()]):(0,ai.Z)("monthOverMonthAbbreviation"))(n))),!i&&h.createElement(SF,{valueColor:d},u,c,"%"),i&&h.createElement(h.Fragment,null,h.createElement(TF,{type:e,value:s,periodLabel:n>30?(0,ai.Z)("thisPeriod"):(0,ai.Z)("thisMonth")}),h.createElement(TF,{type:e,value:l,periodLabel:n>30?(0,ai.Z)("lastPeriod"):(0,ai.Z)("lastMonth")})))},FF=Qn("div",{target:"e11t4pr20"})(lu," margin:16px 0;"),MF=({growth:e,loading:t,errorMessage:n,numDays:i})=>Object.keys(e).length?h.createElement(FF,null,Object.keys(e).map((t=>h.createElement(DF,{key:t,type:t,growth:e[t],numDays:i})))):h.createElement(FF,null,t?h.createElement(os,{size:"big"}):n("growth")),AF=Oo()({displayName:"ChannelAuditView_Inner",getInitialState:()=>({editView:!1,showMoreView:!1,mainScrollPos:null}),componentDidMount(){dt("Opened Channel Audit"),this.props.gotData||aD.fetchData()},getThumbnail:e=>`https://i.ytimg.com/vi/${e}/mqdefault.jpg`,spinner:()=>h.createElement("div",{className:"channel-audit-spinner"},h.createElement(os,{size:"big"})),errorMessage(e){return this.props.gotData?h.createElement(ED,null,h.createElement(SD,{smallText:!0},(0,ai.Z)("channelAuditError")),h.createElement(DD,null,ai.Z.html(e+"ChannelAuditError"))):null},infoPopover(e,t){const n="ChannelAuditInfoPopover";if(!hD(n))return null;return e=Fo()("channel-audit-info-icon",e),h.createElement("div",{className:e,"data-react-popover":n,"data-react-popover-props":JSON.stringify(t),"data-react-popover-config":JSON.stringify({align:"left"})},h.createElement("i",{className:"material-icons"},"info_outline"))},onChangeNumDays(e){aD.changeNumDays(e)},onChangeLimitOption(){aD.toggleLimitOption()},scrollTo(e){const t=document.querySelector("#vidiq-nav-menu-content");t&&t.scrollTo({behavior:"smooth",left:0,top:e})},setMainScrollPos(){const e=document.querySelector("#vidiq-nav-menu-content");e&&this.setState({mainScrollPos:e.scrollTop})},toggleEditView(e){e&&(dt("Opened Channel Audit Edit View"),this.setMainScrollPos(),this.scrollTo(0)),this.setState({editView:e||!1},(()=>{e||this.scrollTo(this.state.mainScrollPos||0)}))},toggleShowMoreView(e){e&&(dt("Opened Show More View",{key:e}),this.setMainScrollPos(),this.scrollTo(0)),this.setState({showMoreView:e||!1},(()=>{e||this.scrollTo(this.state.mainScrollPos||0)}))},channelAuditEditView(){return h.createElement(bF,{type:this.state.editView,allVideos:this.props.videos,toggleEditView:this.toggleEditView,permitted:(0,ve.h)().featurePermitted("channelAudit"),loading:this.props.loading})},channelAuditShowMoreView(){const e=this.state.showMoreView;let t=this.props[e];return this.props.limitToRange&&["topSearchTerms","cards","endscreens"].indexOf(e)<0&&(t=aD.getVideosInTimeframe(t)),h.createElement(yF,{type:e,data:t,topViews:this.props.topViews,topWatchTime:this.props.topWatchTime,growth:this.props.growth,numDays:this.props.numDays,permitted:(0,ve.h)().featurePermitted("channelAudit"),loading:this.props.loading,goBack:()=>this.toggleShowMoreView(!1)})},channelAuditMain(){const e={topVph:this.props.topVph,topWatchTime:this.props.topWatchTime,topSubscribers:this.props.topSubscribers,topEngagement:this.props.topEngagement,topSuggested:this.props.topSuggested,topPlaylists:this.props.topPlaylists,topAvgViewTime:this.props.topAvgViewTime,topCompetitorVideos:this.props.topCompetitorVideos,topViews:this.props.topViews,topRetention:this.props.topRetention,topSearchTerms:this.props.topSearchTerms,endscreens:this.props.endscreens,cards:this.props.cards},t={lowestAvgViewTime:this.props.lowestAvgViewTime,lowestLikeRatio:this.props.lowestLikeRatio,lowestRetention:this.props.lowestRetention,lowestViews:this.props.lowestViews,lowestSubscribers:this.props.lowestSubscribers},n={start:this.props.startDate,end:this.props.endDate};return h.createElement(pu,{padding:"0 20px"},h.createElement(MF,{growth:this.props.growth,loading:this.props.loading,errorMessage:this.errorMessage,numDays:this.props.numDays}),h.createElement(WD,{data:e,loading:this.props.loading,spinner:this.spinner,toggleShowMoreView:this.toggleShowMoreView,infoPopover:this.infoPopover,errorMessage:this.errorMessage,getThumbnail:this.getThumbnail,numDays:this.props.numDays,limitToRange:this.props.limitToRange,permitted:(0,ve.h)().featurePermitted("channelAudit"),dates:n,channelId:this.props.channelId}),h.createElement(BD,{data:t,loading:this.props.loading,spinner:this.spinner,toggleShowMoreView:this.toggleShowMoreView,numDays:this.props.numDays,limitToRange:this.props.limitToRange,dates:n,infoPopover:this.infoPopover,errorMessage:this.errorMessage,permitted:(0,ve.h)().featurePermitted("channelAudit")}),h.createElement(AD,{averageMetrics:this.props.averageMetrics,loading:this.props.loading,spinner:this.spinner,toggleEditView:this.toggleEditView,infoPopover:this.infoPopover,errorMessage:this.errorMessage,numDays:this.props.numDays}),h.createElement(kF,{missingMetrics:this.props.missingMetrics,postingSchedule:this.props.postingSchedule,loading:this.props.loading,spinner:this.spinner,toggleEditView:this.toggleEditView,infoPopover:this.infoPopover,errorMessage:this.errorMessage,channelId:this.props.channelId}))},content(){return this.props.errorUnauthed?h.createElement(pm,null):this.props.errorUnknown?h.createElement(fm,null):this.state.editView?this.channelAuditEditView():this.state.showMoreView?this.channelAuditShowMoreView():this.channelAuditMain()},render(){return h.createElement(Hc,{featureInfoEmoji:"👀",featureInfoText:(0,ai.Z)("channelAuditFeatureInfo")},this.content())}}),IF=ug(AF,iD),OF={fetchThumbnails(e){const t="string"==typeof e,n=t?[e]:e;return new Promise((e=>{(0,P.Z)("vidiq.youtubeChannelThumbnails",{channelIds:n}).then((i=>{if(t)return e(i[n[0]]);e(i)}))}))}},NF=new ds.Z("PlaylistTopKeywordsStore",{_data:{keywords:[],loading:!1,fetched:!1,progress:0,numVideos:100}});NF.dispatchToken=ko.Z.register((e=>{const t=NF,n=Ss;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const PF=NF,RF=(e,t)=>{dt("Error while managing competitors",{error:e});const n=e instanceof Error?e.message:e;if(n===bS.ERROR_UNKNOWN&&Me.Z.error("Competition: Unknown error",{status:t&&t.status,statusText:t&&t.statusText}),-1!==n.indexOf("WARNING_"))return ko.Z.dispatch({action:bS.RECEIVE_WARNING,warning:n});ko.Z.dispatch({action:bS.RECEIVE_ERROR,error:n})},jF={updateParams(e,t){if("range"===e){let e=t.replace(/_/g," ");"bidiurnally"===e&&(e="past 48 hours"),ht("toggled time filters on competitors",{via:lt(),filter:e}),Go({location:"Competitors",type:"Date"})}"sort"===e&&(ht("toggled metrics on competitors",{via:lt(),filter:t.replace(/_/g," ")}),Go({location:"Competitors",type:"Sort"})),ko.Z.dispatch({action:bS.UPDATE_PARAMS,paramName:e,paramValue:t})},fetchCurrentChannelId:()=>(ko.Z.dispatch({action:bS.REQUEST_CHANNEL_ID}),tD.fetchCurrentChannelId().then((e=>(ko.Z.dispatch({action:bS.RECEIVE_CHANNEL_ID,channelId:e}),e))).catch(RF)),fetchCompetitors:e=>(ko.Z.dispatch({action:bS.REQUEST_COMPETITORS}),tD.fetchCompetitors(e).then((e=>(ko.Z.dispatch({action:bS.RECEIVE_COMPETITORS,competitors:e.competitors,basis:e.basis}),jF.fetchCompetitorThumbnails(e.competitors),e))).catch(RF)),fetchTrendingVideos(e){PF.reset();const t={channelIds:L().pluck(e.competitors,"yt_channel_id"),range:e.range,sort:e.sort};return dt("Fetching competitors's trending videos",t),ko.Z.dispatch({action:bS.REQUEST_TRENDING_VIDEOS}),tD.fetchTrendingVideos(t).then((e=>{ko.Z.dispatch({action:bS.RECEIVE_TRENDING_VIDEOS,videos:e})})).catch(RF)},addCompetitor(e,t,n){dt("Adding competitor channel",{channelId:e,competitorYtChannelId:t}),ko.Z.dispatch({action:bS.REQUEST_COMPETITOR_CHANGE});return(async(e,t,n)=>{const i=await tD.addCompetitor(e,t);let r=wS.getData();r.fetched||(await LF.fetchCompetitors(e),r=wS.getData());try{ht("added competitor",{_identify:{set:{"number of added competitors":r.competitors.length}},"competitor channel name":i.competitors[0].name,"competitor channel id":i.competitors[0].yt_channel_id,"user channel name":i.basis.name,"user channel id":i.basis.yt_channel_id,via:lt(),location:n})}catch(e){Me.Z.error("Could not send event: added competitor",e)}return i})(e,t,n&&"string"==typeof n?n:"modal").then(this.fetchCompetitors.bind(null,e)).catch(RF)},removeCompetitor(e,t,n){dt("Removing competitor channel",{channelId:e,competitorChannelId:t}),ko.Z.dispatch({action:bS.REQUEST_COMPETITOR_CHANGE});return(async(e,t,n)=>{let i=wS.getData();i.fetched||(await LF.fetchCompetitors(e),i=wS.getData());const r=i.competitors.find((e=>e.id===t));await tD.removeCompetitor(e,t);try{ht("removed competitor",{_identify:{set:{"number of added competitors":i.competitors.length-1}},"competitor channel name":r.name,"competitor channel id":r.yt_channel_id,"user channel name":i.basis.name,"user channel id":i.basis.yt_channel_id,via:lt(),location:n})}catch(e){Me.Z.error("Could not send event: removed competitor",e)}})(e,t,n&&"string"==typeof n?n:"modal").then(this.fetchCompetitors.bind(null,e)).catch(RF)},fetchCompetitorThumbnails(e){const t=e.map((e=>e.yt_channel_id));OF.fetchThumbnails(t).then((e=>(ko.Z.dispatch({action:bS.RECEIVE_CHANNEL_THUMBS,channelThumbnails:e}),e)))}},LF=jF;function qF(e){const t=(0,ve.h)().getUserType(),n=(0,ve.h)().getFeatureLimit("addCompetitor");return"enterprise"!==t&&e>=n}const ZF=({warning:e})=>{const t=e===bS.WARNING_COMPETITOR_DOES_NOT_EXIST?(0,ai.Z)("competitorsErrorNoChannelId"):e===bS.WARNING_UNABLE_TO_REMOVE_COMPETITOR?(0,ai.Z)("competitorsErrorUnableToRemove"):void 0;return t?h.createElement("p",{className:"modal-alert"},t):null},BF=({videos:e})=>h.createElement("div",null,e.map(((e,t)=>h.createElement(iy,{video:e,key:t,location:"Competitors"})))),VF=({error:e,loadingTrendingVideos:t,numCompetitors:n,videos:i})=>t?h.createElement(os,{size:"big"}):e===bS.ERROR_UNAUTHENTICATED?h.createElement(pm,{width:"100%"}):e===bS.ERROR_NO_TRENDING_VIDEOS?h.createElement(Cu,{emoji:"❌",text:(0,ai.Z)("noTrending"),subText:(0,ai.Z)("competitorsErrorNoTrendingVideosMessage"),width:"100%"}):e===bS.ERROR_UNKNOWN?h.createElement(fm,{width:"100%"}):0===n?h.createElement(Cu,{emoji:"❌",text:(0,ai.Z)("competitorsErrorNoCompetitorsFound"),subText:(0,ai.Z)("competitorsErrorNoCompetitors"),width:"100%"}):h.createElement(BF,{videos:i}),zF=()=>{const e=(0,ve.h)().getUserType(),t=we.Z.capitalize(e.split("_")[0]),n=(0,ve.h)().getFeatureLimit("addCompetitor");return h.createElement(Qy,{code:"Competitors",plan:"Basic"===t?"pro":"boost",header:(0,ai.Z)("upgradeToPlan",["Boost"]),text:ai.Z.html("competitorsUpsellMessage",[t,n])})};const UF=Qn("div",{target:"e15rhv4g3"})("padding-top:20px;border-top:1px solid var(--border-primary);",du," align-items:flex-start;justify-content:center;width:100%;"),WF=Qn("div",{target:"e15rhv4g2"})({name:"e5c9a3",styles:"color:var(--text-primary);font-size:16px;line-height:20px;font-weight:700;margin-bottom:6px"}),HF=Qn("form",{target:"e15rhv4g1"})(lu," margin-top:16px;width:100%;button{flex-grow:1;}"),YF=Qn("p",{target:"e15rhv4g0"})({name:"ql9o86",styles:"font-size:10px;background:var(--background-secondary);border:1px var(--border-primary) solid;border-radius:4px;margin-top:10px;margin-bottom:0;padding:2px 4px;color:var(--text-primary);em{color:#fff;font-style:normal;background-color:var(--blue);}"}),$F=({channelId:e})=>{const t=(0,h.useRef)(null);return h.createElement(UF,null,h.createElement(WF,null,"🤓 ",(0,ai.Z)("followMoreChannels")),h.createElement(ru,{color:"var(--text-secondary)"},(0,ai.Z)("addMoreChannelsToCompare")),h.createElement(HF,{onSubmit:n=>{var i;if(n.preventDefault(),!t||!t.current)return;const r=null===(i=t.current.value)||void 0===i?void 0:i.trim();r&&LF.addCompetitor(e,r).then((()=>{t&&t.current&&(t.current.value="")}))}},h.createElement(gu,{type:"text",ref:t,placeholder:(0,ai.Z)("youtubeChannelId"),margin:"0 16px 0 0"}),h.createElement($c,{type:"submit",padding:"14px 16px"},(0,ai.Z)("competitorsAdd"))),h.createElement(YF,null,"https://www.youtube.com/channel/",h.createElement("em",null,"UCZLFu8bHbwtn...")))};function KF(){return KF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},KF.apply(this,arguments)}function GF(e){return h.createElement("svg",KF({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",width:"20",height:"20"},e),h.createElement("path",{fill:"currentColor",d:"M10 5.833A1.667 1.667 0 1010 2.5a1.667 1.667 0 000 3.333zm0 8.334a1.666 1.666 0 100 3.332 1.666 1.666 0 000-3.332zm0-5.834a1.667 1.667 0 100 3.334 1.667 1.667 0 000-3.334z"}))}const XF=Oo()({displayName:"ButtonLogo",render(){const e=Fo()("vidiq-button-logo",{"vidiq-button-logo-small":"small"===this.props.size,"vidiq-button-basic":this.props.basic});return h.createElement(ts,{size:"small"===this.props.size?"18px":"22px",classes:e})}});const QF=Qn("div",{target:"ex64sex3"})({name:"1qxm5ay",styles:"background:var(--white);box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14),0 1px 5px 0 rgba(0, 0, 0, 0.12),0 3px 1px -2px rgba(0, 0, 0, 0.2);border-radius:4px;padding:8px 0;font-family:Roboto,Noto,sans-serif;font-size:15px;color:var(--black)"}),JF=Qn("button",{target:"ex64sex2"})("background:",(e=>e.alternate?"transparent":"white"),";border:",(e=>e.alternate?"0 none":"1px #ccc solid"),";border-radius:4px;padding:",(e=>e.alternate?"0":"4px 8px"),";display:flex;justify-content:center;align-items:center;cursor:pointer;",(e=>e.redesign&&"color: var(--text-primary);")," &:focus,&:active{outline:none;}&:hover{border-color:#aaa;color:var(--blue);}"),eM=Qn("div",{target:"ex64sex1"})({name:"jm44b2",styles:"display:flex;flex-direction:column;margin-left:6px"}),tM=Qn("div",{target:"ex64sex0"})({name:"1zx9gc",styles:"background-color:rgb(120, 120, 120);width:3px;height:3px;border-radius:50%;margin:1px 0"});QF.propTypes={children:PE().node.isRequired};class nM extends h.Component{constructor(e){var t,n,i;super(e),i=()=>{setTimeout((()=>{this._clicked?this._clicked=!1:this._unmounted||this.close()}))},(n="onBodyClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={open:!1}}componentDidMount(){document.body.addEventListener("click",this.onBodyClick),r()(window).on("dropdown:close",this.close.bind(this))}componentWillUnmount(){this.close(),this._unmounted=!0,document.body.removeEventListener("click",this.onBodyClick),r()(window).off("dropdown:close",this.close.bind(this))}toggle(e){return this._clicked=!0,this.state.open?this.close():this.open(e)}open(e){if(this.state.open)return;this.setState({open:!0},(()=>{"function"==typeof this.props.onOpen&&this.props.onOpen()}));const t=document.createElement("div");document.body.append(t);const n=e.currentTarget.getBoundingClientRect(),i=window.scrollY+n.bottom,r=window.innerWidth-(window.scrollX+n.right),a=n.left;t.style.position="absolute",t.style.zIndex="2147483648",t.style.top=i+"px","right"===this.props.alignment?t.style.right=r+"px":t.style.left=a+"px";const o=h.createElement(QF,{"data-testid":"dropdown-menu"},this.props.children);Yo.render(o,t),t.offsetHeight+i>window.innerHeight+window.scrollY&&(t.style.top=window.scrollY+n.top-t.offsetHeight+"px"),this._menu=t}close(){this.state.open&&(this._menu&&(this._menu.remove(),this._menu=void 0),this.setState({open:!1},(()=>{"function"==typeof this.props.onClose&&this.props.onClose()})))}render(){const e="small"===this.props.size?"small":void 0,t=Fo()("vidiq-dropdown-button",this.props.className,{"vidiq-dropdown-button-open":this.state.open,"vidiq-dropdown-button-closed":!this.state.open});return this.props.alternate?h.createElement(JF,{ref:this.props.nodeRef,onClick:this.toggle.bind(this),className:t,alternate:!0,redesign:this.props.redesign},h.createElement(GF,null)):h.createElement(JF,{ref:this.props.nodeRef,onClick:this.toggle.bind(this),className:t,redesign:this.props.redesign},"function"==typeof this.props.customRenderer?this.props.customRenderer():h.createElement(h.Fragment,null,h.createElement(XF,{size:e,basic:!0}),h.createElement(eM,{className:"dots"},h.createElement(tM,null),h.createElement(tM,null),h.createElement(tM,null))))}}const iM=nM;const rM=Qn("div",{target:"e4zp3190"})({name:"4ebkc2",styles:"padding:0 24px;min-height:32px;line-height:24px;cursor:pointer;display:flex;align-items:center;&:hover{background-color:var(--extra-light-grey);color:var(--black);}"}),aM=({children:e,id:t,onClick:n,data:i})=>h.createElement(rM,{onClick:()=>{n(t,i)}},e);const oM=Qn("div",{target:"e1m1p7cz2"})(uu," margin-bottom:16px;width:100%;"),sM=Qn("img",{target:"e1m1p7cz1"})({name:"1rnnq6y",styles:"width:32px;height:32px;border-radius:100px;margin-right:8px"}),lM=Qn("div",{target:"e1m1p7cz0"})(du," align-items:flex-start;justify-content:centerl;"),cM=({competitor:e,competitorThumbnail:t,channelId:n})=>{var i;const r=null===(i=e.current)||void 0===i?void 0:i.subscribers;return h.createElement(oM,{key:e.yt_channel_id},h.createElement(cu,null,void 0!==t&&h.createElement(sM,{src:t}),h.createElement(lM,null,h.createElement(nu,null,e.display_name),void 0!==r&&h.createElement(nu,{color:"var(--text-secondary)"},ge()(r).format("3[.]0a").toUpperCase()," ",(0,ai.Z)("subs")))),h.createElement(iM,{alignment:"right",alternate:!0,redesign:!0},h.createElement(aM,{id:"View channel on YouTube",onClick:()=>{return t=e.yt_channel_id,void window.open(`https://www.youtube.com/channel/${t}`,"_blank");var t}},(0,ai.Z)("viewInYouTube")),h.createElement(aM,{id:"Remove competitor",onClick:()=>LF.removeCompetitor(n,e.id)},(0,ai.Z)("competitorsRemoveCompetitor"))))},uM=Qn("div",{target:"e1nkfxbz0"})(hu," width:100%;margin:",(e=>e.margin||"16px 0 0"),";"),dM=({competitors:e,loadingCompetitors:t,loadingCompetitorChange:n,loadingChannelId:i,channelId:r,channelThumbnails:a,error:o})=>!t&&!i||n?e.length&&o!==bS.ERROR_UNAUTHENTICATED&&o!==bS.ERROR_UNKNOWN?h.createElement(uM,null,e.map((e=>h.createElement(cM,{key:e.id,competitor:e,competitorThumbnail:a&&a[e.yt_channel_id],channelId:r})))):h.createElement(uM,{margin:"24px 0"},h.createElement(ru,null,(0,ai.Z)("competitorsErrorNoCompetitorsFound"))):h.createElement(os,{size:"big"}),hM=e=>{const{competitors:t,error:n,sort:i,range:r,loadingCompetitors:a,loadingTrendingVideos:s,loadingCompetitorChange:l,loadingChannelId:c,channelId:u,channelThumbnails:d,videos:p,warning:f}=e,m=qF(t.length),g=[bS.ERROR_UNAUTHENTICATED,bS.ERROR_UNKNOWN].includes(n)||0===t.length,{sorts:v,ranges:y}=o.ZP.competition;return h.createElement(Hc,{featureInfoEmoji:"👀",featureInfoText:(0,ai.Z)("competitorsFeatureInfo")},h.createElement(fu,null,h.createElement(mu,null,h.createElement(Iy,null,h.createElement(My,{options:v,initSelected:v.find((e=>e.value===i))||v[0],onChangeSelected:e=>LF.updateParams("sort",e),disabled:g,extraBoxText:`${(0,ai.Z)("sortBy")}:`,alignModal:"left"}),h.createElement(My,{options:y,initSelected:y.find((e=>e.value===r))||y[0],onChangeSelected:e=>LF.updateParams("range",e),disabled:g,extraBoxText:`${(0,ai.Z)("dateRange")}:`,alignModal:"left"})),h.createElement(VF,{error:n,loadingTrendingVideos:s,numCompetitors:t.length,videos:p})),h.createElement(qy,{width:"340px",minWidth:"340px",alignItems:"flex-start"},h.createElement(au,null,(0,ai.Z)("competitorsCompetitorChannels")),h.createElement(dM,{loadingCompetitors:a,loadingCompetitorChange:l,loadingChannelId:c,channelId:u,competitors:t,channelThumbnails:d,error:n}),m&&!a&&h.createElement(zF,null),!m&&!a&&n!==bS.ERROR_UNKNOWN&&n!==bS.ERROR_UNAUTHENTICATED&&h.createElement($F,{channelId:u}),h.createElement(ZF,{warning:f}))))},pM=Oo()({displayName:"CompetitionView",getInitialState:()=>Vs(wS.getData()),componentDidMount(){wS.addChangeListener(this.onStoreChange),LF.fetchCurrentChannelId().then((e=>{e&&LF.fetchCompetitors(e)}))},componentWillUnmount(){wS.removeChangeListener(this.onStoreChange)},onStoreChange(){const e=wS.getData(),t=e.competitors.length>0,n=e.competitors.length!==this.state.competitors.length||e.range!==this.state.range||e.sort!==this.state.sort,i=!e.trendingVideosRequested&&e.loadingTrendingVideos;t&&(n||i)&&LF.fetchTrendingVideos(e),this.setState(e)},render(){return h.createElement(hM,this.state)}}),fM={getCurrentTags(){const e=window.location.pathname;if(/\/video\/[^/]+\/edit/.test(e)||/\/channel\/[^/]+\/videos\/upload/.test(e)){const e=document.querySelectorAll(".ytcp-chip-bar.chip");return Array.from(e).map((e=>e.getAttribute("vidiq-keyword")))||[]}if(/\/edit/.test(e)||/\/upload/.test(e)){const e=document.querySelectorAll(".video-settings-tag-chips-container .yt-chip");return Array.from(e).map((e=>e.getAttribute("data-keyword-inspector")))||[]}return[]},filterDefaults:{estimated_monthly_search:[0,6],competition:{veryLow:{label:(0,ai.Z)("veryLowScore"),checked:!0},low:{label:(0,ai.Z)("lowScore"),checked:!0},medium:{label:(0,ai.Z)("mediumScore"),checked:!0},high:{label:(0,ai.Z)("highScore"),checked:!0},veryHigh:{label:(0,ai.Z)("veryHighScore"),checked:!0}},overall:[0,100]},filterLabels:{estimated_monthly_search:"searchVolumePastMonth",competition:"competitionLabel",overall:"overallScore"},getInitialFiltersState(){const e={};return Object.keys(this.filterDefaults).forEach((t=>{if(e[t]={type:"competition"===t?"checks":"range",statKey:t,label:(0,ai.Z)(this.filterLabels[t]),options:this.filterDefaults[t],selected:this.filterDefaults[t],default:this.filterDefaults[t]},"estimated_monthly_search"===t){const n=["0","10K","50K","100K","250K","500K","1M+"];e[t].valueMap=n}})),e},filterBySearchVolume(e,t){const n=t[e.statKey],i=1e6,r=e.valueMap.map((e=>{let t=ge()().unformat(e.toLowerCase().replace("+",""));return t===i&&(t=1/0),t})),a=r[e.selected[0]],o=r[e.selected[1]];return a===1/0?n>=i:n>=a&&n<=o},getFilteredKeywords(e,t){return e.filter((e=>Object.values(t).every((t=>{if("estimated_monthly_search"===t.statKey)return this.filterBySearchVolume(t,e);if("range"===t.type){const n=e[t.statKey];return n>=t.selected[0]&&n<=t.selected[1]}const n=["veryLow","low","medium","high","veryHigh"],i=e[t.statKey],r=n[Math.min(Math.floor(i/(100/n.length)),n.length-1)];return t.selected[r].checked}))))},async mount(){DO({selected:"keywordinspector",launchSource:"keyword"})},async setupKeywordClickWatcher(){r()("body").on("click.kwins","[data-keyword-inspector], .open-kwins",(e=>{e.preventDefault(),e.stopPropagation();const t=r()(e.currentTarget),n=t.data("keyword-inspector"),i=t.data("keyword-addable"),a=t.data("keyword-namespace");xM.update({keywords:n?[n]:[],addable:i,namespace:a,userTags:fM.getCurrentTags()}),n&&xM.fetchKeywordAndVideos(n),fM.mount()}))},sendClickedFilterEvent(e,t){try{const n=Object.keys(t).filter((n=>JSON.stringify(e[n].selected)!==JSON.stringify(t[n]))),i={estimated_monthly_search:"Search Volume",competition:"Competition",overall:"Overall Score"};Go({location:"Keyword Inspector",type:n.map((e=>i[e])).join(", ")})}catch(e){}}},mM=fM,gM=e=>{const{section:t,input:n}=e;ht("added recommended keyword",{section:t,input:n,location:(0,be.Z)()})},vM=()=>{const e=window.location.href;return[e.match(/video\/([^/?]+)/),e.match(/(?:v|video_id)=([0-9a-zA-Z_-]+)/),e.match(/udvid=([0-9a-zA-Z_-]+)/)].reduce(((e,t)=>e||(t?t[1]:null)),null)},yM=e=>{e=e||vM(),ht("refreshed recommended tags",{location:(0,be.Z)(),"video id":e})},bM=(e,t,n)=>{e&&(t=t||vM(),ht("added recommended tag",{via:X.via(),location:(0,be.Z)(),"video id":t,tag:e,_identify:{add:{"recommended tags added count":1}}}),gM({section:n,input:"recommended tags"}))},_M=(e,t,n)=>{e&&(t=t||vM(),ht("applied recommended tag",{via:X.via(),location:(0,be.Z)(),"video id":t,tag:e,_identify:{add:{"recommended tags added count":1,"recommended tags saved count":1}}}),gM({section:n,input:"recommended tags"}))},wM=(e,t)=>{e&&0!==e.length&&(t=t||vM(),ht("saved recommended tags",{via:X.via(),location:(0,be.Z)(),"video id":t,tags:e,_identify:{add:{"recommended tags saved count":e.length}}}))},kM={async fetchKeywordAndVideos(e){const t=[this.fetchRelatedKeywords(e)];(0,ve.h)().featurePermitted("kwins")&&t.push(this.fetchTrendingVideos(e)),await Promise.all(t)},async fetchRelatedKeywords(e){if(!e||!e.length)return;this.update({loadingRelatedKeywords:!0});const{json:t,response:n}=await P.Z.expanded("vidiq.hottersearch",{query:e,src:"/results"===window.location.pathname?"search":null});t&&n.ok?this.update({relatedKeywords:t.keywords,loadingRelatedKeywords:!1,errorRelatedKeywords:null,keywordStats:t.search_stats.compvol,numOmitted:t.omitted}):this.update({loadingRelatedKeywords:!1,errorRelatedKeywords:n.statusText||(0,ai.Z)("unknownError")})},async fetchTrendingVideos(e){this.update({loadingTrendingVideos:!0});const{json:t,response:n}=await P.Z.expanded("vidiq.trendy",{query:e});t&&n.ok?this.update({trendingVideos:t.videos.slice(0,10),loadingTrendingVideos:!1}):this.update({loadingTrendingVideos:!1,errorTrendingVideos:n.statusText||(0,ai.Z)("unknownError")})},setKeyword(e){kM.setKeywords([e])},setKeywords(e){"string"==typeof e&&(e=[e]),this.update({keywords:e}),this.fetchKeywordAndVideos(e)},addSearchKeyword(e){let t=[...Zc.getData().stagedKeywords];t.indexOf(e)>=0||(t=t.concat(e),this.update({keywords:t}),this.fetchKeywordAndVideos(t))},displayWithKnownData({keyword:e,sort:t,hotSearchData:n,feature:i}){this.update({keywords:[e],sort:t,keywordStats:n.search_stats.compvol,relatedKeywords:n.keywords,feature:i,loadingRelatedKeywords:!1}),this.fetchTrendingVideos([e]),mM.mount()},update(e){ko.Z.dispatch({payload:e,action:jc.UPDATE})},addTag(e){ko.Z.dispatch({tag:e,action:jc.ADD_TAG}),((e,t)=>{e&&(t=t||vM(),ht("added tag with keyword inspector",{tag:e,"video id":t,via:X.via(),location:(0,be.Z)(),_identify:{add:{"keyword inspector tags added count":1}}}))})(e)}},xM=kM;class EM extends h.Component{render(){return this.props.error?h.createElement("div",{className:"vidiq-keyword-inspector-error"},h.createElement("div",{className:"vidiq-keyword-inspector-error-note"},(0,ai.Z)("kwinsErrorOops")),h.createElement("div",{className:"vidiq-keyword-inspector-error-message"},this.props.error),h.createElement("div",{className:"vidiq-keyword-inspector-error-try-again"},(0,ai.Z)("kwinsErrorContact"))):null}}const CM=EM;function SM(e){return e.map((e=>ES(e.keyword)))}const TM=Qn("div",{target:"e15mrkxg5"})("position:absolute;background:var(--background-primary);z-index:999999;box-shadow:0px 4px 8px rgba(0, 0, 0, 0.24);border-radius:4px;width:343px;margin:8px 16px;",(e=>e.upsell&&"\n    > div {\n      opacity: 0.5;\n    }\n  "),";"),DM=Qn("div",{target:"e15mrkxg4"})({name:"1xm5hao",styles:"font-size:14px;font-weight:500;padding:16px 0 8px 0;margin:0 16px;border-bottom:1px solid var(--border-primary);color:var(--text-primary)"}),FM=Qn("div",{target:"e15mrkxg3"})({name:"1wt0kl1",styles:"margin:8px 16px 16px"}),MM=Qn("div",{target:"e15mrkxg2"})({name:"1kv71mh",styles:"position:absolute;width:100%;height:100%;top:0;display:flex;justify-content:center;align-items:center"}),AM=Qn("div",{target:"e15mrkxg1"})({name:"otdtjx",styles:"height:48px;background:var(--background-secondary);border-top:1px solid var(--border-primary);border-radius:0 0 2px 2px;display:flex;align-items:center;justify-content:flex-end"}),IM=Qn("div",{target:"e15mrkxg0"})({name:"1l05c7e",styles:"font-size:14px;line-height:18px;font-weight:600;color:var(--text-secondary);padding:8px 16px;cursor:pointer"}),OM=({filters:e,expanded:t,upsell:n,showUpsell:i,applyDisabled:r,onChangeFilter:a,onApplyFilters:o,onCancelFilters:s,children:l})=>t?h.createElement(TM,null,h.createElement(DM,null,(0,ai.Z)("addFilters")),h.createElement(FM,null,h.Children.map(l,(t=>{var n;const r=null==t||null===(n=t.props)||void 0===n?void 0:n.statKey;return h.cloneElement(t,{onChange:e=>{a(r,e)},selected:e[r],disabled:i})}))),i&&h.createElement(MM,null,h.createElement(Qy,{code:n||"FilterSelector",plan:"boost",text:(0,ai.Z)("refineSearchWithFilters"),margin:"0 16px"})),h.createElement(AM,null,h.createElement(IM,{onClick:s},(0,ai.Z)("cancel")),h.createElement($c,{onClick:o,disabled:r,margin:"0 8px 0 0"},(0,ai.Z)("apply")))):null;function NM(){return NM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},NM.apply(this,arguments)}function PM(e){return h.createElement("svg",NM({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"16",height:"16"},e),h.createElement("path",{fill:"currentColor",d:"M12 11.2H4a.8.8 0 100 1.6h8a.8.8 0 100-1.6zM.8 4.8h14.4a.8.8 0 100-1.6H.8a.8.8 0 000 1.6zm12.8 2.4H2.4a.8.8 0 000 1.6h11.2a.8.8 0 100-1.6z"}))}const RM=Qn(tc,{target:"e17ezyqz0"})({name:"19pbwp2",styles:"cursor:pointer;svg{margin-left:4px;}"}),jM=({onClick:e})=>h.createElement(RM,{size:"m",flexRowCenter:!0,color:"var(--blue)",onClick:e},(0,ai.Z)("filterResults"),h.createElement(PM,null));const LM=Qn("div",{target:"e13t49eu0"})({name:"bjn8wh",styles:"position:relative"}),qM=({children:e,onUpdate:t,onClick:n,upsell:i})=>{const r=()=>{const t={};return h.Children.forEach(e,(e=>{const n=e.props.statKey;let i=e.props.selected;i||"selector"!==e.props.type||(i="_choose"),t[n]=i})),t},[a,o]=(0,h.useState)(r()),[s,l]=(0,h.useState)(!1),c=()=>{l(!s),n&&n(s)};return h.createElement(LM,null,h.createElement(jM,{onClick:c}),h.createElement(OM,{filters:a,expanded:s,upsell:i,showUpsell:!(0,ve.h)().featurePermitted("kwinsFilter"),applyDisabled:(()=>{const e=r();return Object.entries(a).every((([t,n])=>JSON.stringify(n)===JSON.stringify(e[t])))})(),onChangeFilter:(e,t)=>{const n=Vs(a);n[e]=t,o(n)},onApplyFilters:()=>{t(a),c()},onCancelFilters:()=>{o(r()),c()}},e))};class ZM extends h.Component{constructor(e){super(e)}onClick(e){e&&ht("opened keyword inspector filters",{location:(0,be.Z)()})}render(){const e=this.props.filters.map((e=>h.createElement(Fx,{key:e.statKey,type:e.type,statKey:e.statKey,label:e.label,options:e.options,selected:e.selected,default:e.default,valueMap:e.valueMap,redesign:!0})));return h.createElement(qM,{onUpdate:this.props.onFiltersUpdate,onClick:this.onClick,upsell:"KeywordInspectorFilters"},e)}}const BM=ZM;const VM=Qn("div",{target:"e8jsa3p0"})({name:"vr6l3r",styles:"display:flex;flex-flow:row;align-items:center;justify-content:space-between;margin-bottom:16px"}),zM=({filters:e,onFiltersUpdate:t,error:n})=>h.createElement(VM,null,h.createElement(tc,{size:"xl"},(0,ai.Z)("keywordsRelatedToSearch")),!n&&h.createElement(BM,{filters:Object.values(e),onFiltersUpdate:t}));const UM=Qn("thead",{target:"elj6dh12"})({name:"2t1762",styles:"background:var(--background-tinted)"}),WM=Qn("tr",{target:"elj6dh11"})({name:"zwe5g6",styles:"height:34px"}),HM=Qn("th",{target:"elj6dh10"})("color:",(e=>e.selected?"var(--text-primary)":"var(--text-secondary)"),";padding:0 8px;border:0;position:relative;&:first-child{border-radius:8px 0 0 8px;}&:last-child{border-radius:0 8px 8px 0;}",(e=>!e.isRelatedKeyword&&"cursor: pointer;"),";"),YM=({sort:e,onChangeSort:t,getCheckbox:n,addable:i})=>{const r={related_score:(0,ai.Z)("relatedScore"),estimated_monthly_search:(0,ai.Z)("searchVolume"),competition:(0,ai.Z)("competitionLabel"),overall:(0,ai.Z)("overallScore")};return h.createElement(UM,null,h.createElement(WM,null,h.createElement(HM,{selected:!1,isRelatedKeyword:!0},!i&&n(!0),h.createElement("span",null,(0,ai.Z)("relatedKeywords"))),Object.entries(r).map((([n,i])=>h.createElement(HM,{key:n,selected:n===e},"related_score"===n?h.createElement(tA,{type:"span",text:(0,ai.Z)("relatedScoreTip"),onClick:()=>t(n),fixedPos:!0},i):h.createElement("span",{onClick:()=>t(n)},i))))))};function $M({keyword:e,display:t,canAddToSearch:n,close:i}){const r=(0,h.useRef)(null),a=(0,h.useCallback)((e=>{r.current&&!r.current.contains(e.target)&&i()}),[i]);(0,h.useEffect)((()=>{t?document.addEventListener("click",a,!1):document.removeEventListener("click",a,!1)}),[t,a]);const o=(0,h.useCallback)((()=>{xM.setKeyword(e),i()}),[e,i]),s=(0,h.useCallback)((()=>{xM.addSearchKeyword(e),i()}),[e,i]);return t?h.createElement("div",{className:"vidiq-kwins-keyword-table-keyword-menu",ref:r},h.createElement("div",{className:"vidiq-kwins-keyword-menu-option",onClick:o},(0,ai.Z)("searchThisTerm")),n&&h.createElement("div",{className:"vidiq-kwins-keyword-menu-option",onClick:s},(0,ai.Z)("addToThisSearch"))):null}class KM extends h.Component{constructor(...e){var t,n,i;super(...e),i=()=>{r()(window).trigger("kwins:add",[this.props.keyword,this.props.namespace]),xM.addTag(this.props.keyword)},(n="addKeyword")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const e=chrome.runtime.getURL("images/x-plus-btn.svg"),t=chrome.runtime.getURL("images/checkmark-icon.png");return h.createElement("img",{className:"vidiq-trending-video-tag-add",src:this.props.hasAddedTag?t:e,onClick:this.props.hasAddedTag?()=>{}:this.addKeyword,alt:""})}}const GM=KM;function XM(){return XM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},XM.apply(this,arguments)}function QM(e){return h.createElement("svg",XM({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 15 11",width:"21",height:"15"},e),h.createElement("path",{fill:"currentColor",d:"M5.945.924a2 2 0 013.11 0l4.905 6.069c1.058 1.308.127 3.257-1.555 3.257h-9.81C.913 10.25-.018 8.3 1.04 6.993L5.945.924z"}))}function JM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eA extends h.Component{constructor(...e){super(...e),JM(this,"state",{display:!1}),JM(this,"showTooltip",(()=>{this.props.disabled||this.setState({display:!0})})),JM(this,"hideTooltip",(()=>{this.props.disabled||this.setState({display:!1})}))}componentDidUpdate(e){e.activate||!0!==this.props.activate?e.activate&&!1===this.props.activate&&this.hideTooltip():this.showTooltip()}tooltipMessage(){const e=Fo()("vidiq-simple-tooltip-text-container",{"vidiq-simple-tooltip-text-container-show":this.state.display,"vidiq-simple-tooltip-text-container-fade":this.props.fadeOut}),t=Fo()("vidiq-simple-tooltip-text",{"vidiq-simple-tooltip-text-no-wrap":this.props.noWrap,"vidiq-simple-tooltip-text-with-triangle":this.props.triangle});return h.createElement("div",{className:e},h.createElement("div",{className:t},this.props.text,this.props.triangle&&h.createElement(QM,null)))}render(){const{fixedPos:e,type:t,activate:n,onClick:i,testId:r,children:a}=this.props,o=Fo()("vidiq-simple-tooltip",this.props.classes,{"vidiq-simple-tooltip-fixed":e}),s=t?`${t}`:"div",l=void 0!==n;return h.createElement(s,{onMouseEnter:l?null:this.showTooltip,onMouseLeave:l?null:this.hideTooltip,onClick:i||null,className:o},this.tooltipMessage(),a)}}const tA=h.memo(eA),nA=e=>e>=75?"#9EEC60":e>=50?"#FFC71C":"#FF9B3F",iA=Qn("div",{target:"e19rdzd41"})(lu,";"),rA=Qn("div",{target:"e19rdzd40"})("background:",(e=>e.background),";color:#fff;font-weight:bold;font-size:14px;line-height:18px;padding:4px 12px;border-radius:32px;"),aA=({overall:e})=>h.createElement(iA,null,h.createElement(rA,{background:nA(e)},Math.round(e)));const oA=Qn("div",{target:"ekrzpce4"})({name:"17ngp0g",styles:"display:flex;flex-flow:column;position:relative;overflow:hidden;border-radius:4px;margin-bottom:16px"}),sA=Qn("table",{target:"ekrzpce3"})({name:"amf7a1",styles:"width:100%;border-collapse:collapse;z-index:1;th{font-weight:600;}td{font-weight:500;}th,td{font-size:14px;text-align:center;color:var(--text-primary);}th:first-child,td:first-child{text-align:left;padding-left:12px;width:40%;border-left:0;}th:last-child,td:last-child{border-right:0;}"}),lA=Qn("thead",{target:"ekrzpce2"})({name:"1w4kcjp",styles:"tr{height:42px;border-bottom:1px solid var(--border-primary);}th{border:0;position:relative;top:4px;}"}),cA=Qn("tbody",{target:"ekrzpce1"})({name:"1tr2d3k",styles:"tr{height:50px;border-bottom:1px solid var(--border-secondary);}"}),uA=Qn("label",{target:"ekrzpce0"})({name:"saob4o",styles:"position:absolute;top:-8px;left:-16px;height:40px;width:36px"});const dA=Qn(oi,{target:"e9j4usm2"})({name:"bjn8wh",styles:"position:relative"}),hA=Qn(tc,{target:"e9j4usm1"})({name:"tadcwa",styles:"&:hover{text-decoration:underline;}"}),pA=({data:e,onClickKeyword:t,getCheckbox:n,namespace:i,userTags:r,addable:a,canAddToSearch:o})=>{const[s,l]=(0,h.useState)(!1);return h.createElement("tr",null,h.createElement("td",null,h.createElement(dA,{justify:"flex-start"},a?h.createElement(GM,{keyword:e.keyword,namespace:i,hasAddedTag:r&&r.indexOf(e.keyword)>=0}):n(!1,e),h.createElement(hA,{onClick:()=>{(0,ve.h)().featurePermitted("kwinsMultiKeywords")?s||l(!0):t(e.keyword)},padding:"0 0 0 4px",cursor:"pointer"},e.keyword),h.createElement($M,{keyword:e.keyword,display:s,canAddToSearch:o,close:()=>{l(!1)}}))),h.createElement("td",null,void 0===e.related_score?"∞":ge()(e.related_score).format("0[.][0]")),h.createElement("td",null,ge()(e.estimated_monthly_search||0).format("0,0")),((e,t)=>{const n=["veryLow","low","medium","high","veryHigh"][Math.min(Math.floor(e/20),4)];return h.createElement(tA,{key:t,type:"td",text:Math.round(e)},(0,ai.Z)(`${n}Score`))})(e.competition,e.keyword),h.createElement("td",null,h.createElement(aA,{overall:e.overall})))},fA=Qn("tr",{target:"e9j4usm0"})({name:"130muux",styles:"filter:blur(5px)"}),mA=({data:e})=>{const t=["veryLow","low","medium","high","veryHigh"][Math.min(Math.floor(e.competition/20),4)];return h.createElement(fA,null,h.createElement("td",null,h.createElement(dA,{justify:"flex-start"},h.createElement("input",{type:"checkbox",checked:!1}),h.createElement(uA,null),h.createElement(tc,{padding:"0 0 0 4px"},e.keyword))),h.createElement("td",null,void 0===e.related_score?"∞":ge()(e.related_score).format("0[.][0]")),h.createElement("td",null,ge()(e.estimated_monthly_search||0).format("0,0")),h.createElement("td",null,(0,ai.Z)(`${t}Score`)),h.createElement("td",null,h.createElement(aA,{overall:e.overall})))},gA=Oo()({displayName:"LoadingPane",statics:{show:(e,t)=>e?h.createElement(gA,{spinner:t}):null},render(){const e=this.props.spinner?h.createElement(os,null):null;return h.createElement("div",{className:"react-loading-pane"},h.createElement("div",{className:"pane-container"},e))}}),vA=gA,yA=[{keyword:"gaming",estimated_monthly_search:1e5,competition:100,overall:99,volume:900},{keyword:"youtube",estimated_monthly_search:1e5,competition:100,overall:90,volume:900},{keyword:"video games",estimated_monthly_search:1e5,competition:100,overall:80,volume:900},{keyword:"how to",estimated_monthly_search:1e5,competition:100,overall:70,volume:900},{keyword:"world news",estimated_monthly_search:1e5,competition:100,overall:60,volume:900},{keyword:"talk show",estimated_monthly_search:1e5,competition:100,overall:50,volume:900},{keyword:"movies",estimated_monthly_search:1e5,competition:100,overall:40,volume:900}],bA=({numOmitted:e})=>h.createElement(h.Fragment,null,h.createElement(Qy,{code:"KeywordInspectorKeywords",plan:"pro",variant:"inline",text:`👀 ${(0,ai.Z)("getAccessToMoreRelatedKeywordsAlt",[(null==e?void 0:e.toString())||""])}`,margin:"16px 0"}),h.createElement(sA,null,h.createElement(cA,null,yA.map(((e,t)=>h.createElement(mA,{key:t,data:e})))))),_A=vA,wA=({providedKeywords:e,relatedKeywords:t,sort:n,onChangeSort:i,onClickCheck:r,onClickSelectAll:a,namespace:o,loading:s,error:l,addable:c,userTags:u,numOmitted:d,selected:p,allSelected:f})=>{const m=e=>{xM.setKeyword(e)},g=(e,t)=>{const n=SM(p),i=e?f:n.indexOf(null==t?void 0:t.keyword)>=0,o=e?a:r.bind(null,t),s=`vidiq-kwins-related-keywords-checkbox-${e?"vidiqSelectAll":null==t?void 0:t.keyword}`;return[h.createElement("input",{key:"checkbox",id:s,type:"checkbox",checked:i,onChange:o}),h.createElement(uA,{key:"label",htmlFor:s})]},v=e=>h.createElement(lA,null,h.createElement("tr",null,h.createElement("th",null,e),h.createElement("th",null),h.createElement("th",null),h.createElement("th",null))),y=t=>{const n=(0,ve.h)().featurePermitted("kwinsMultiKeywords");return h.createElement(pA,{key:t.keyword,data:t,onClickKeyword:m,getCheckbox:g,namespace:o,userTags:u,addable:c,canAddToSearch:n&&(null==e?void 0:e.length)<5})};return l?null:null!=t&&t.length||!s?h.createElement(h.Fragment,null,h.createElement(oA,null,h.createElement(sA,null,h.createElement(YM,{sort:n,onChangeSort:i,getCheckbox:g,addable:c}),v((0,ai.Z)("keywordProvided")),h.createElement(cA,null,e.map((e=>y(e)))),v((0,ai.Z)("relatedKeywords")),null!=t&&t.length?h.createElement(cA,null,null==t?void 0:t.map((e=>y(e)))):h.createElement("tbody",null,h.createElement("tr",null,h.createElement("td",null,h.createElement(tc,{size:"l",padding:"16px 0 8px 0"},(0,ai.Z)("noRelatedKeywords")),h.createElement(tc,{size:"m",padding:"0 0 16px 0"},(0,ai.Z)("tryRemovingFilters")))))),_A.show(s,!0),!(0,ve.h)().featurePermitted("kwins")&&(null==t?void 0:t.length)&&h.createElement(bA,{numOmitted:d}))):h.createElement(os,{size:"big",container:!0})};function kA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xA extends h.Component{constructor(e){super(e),kA(this,"onChangeSort",(e=>{this.setState({sort:e,descendingSortOrder:e!==this.state.sort||!this.state.descendingSortOrder}),function(e){ht("sorted keyword inspector results",{"sorted by":{related_score:"related score",estimated_monthly_search:"search volume",competition:"competition",overall:"overall"}[e],location:(0,be.Z)()})}(e)})),kA(this,"onFiltersUpdate",(e=>{const t=Vs(this.state.filters);Object.entries(e).forEach((([e,n])=>{t[e].selected=n}));let n=this.state.selected,i=this.providedKeywordsStats().concat(this.getAdjustedRelatedKeywords(t));i=SM(i),n=n.filter((e=>i.indexOf(ES(e.keyword))>=0)),mM.sendClickedFilterEvent(Vs(this.state.filters),e),this.setState({filters:t,selected:n}),function(e){const t={estimated_monthly_search:"search volume",competition:"competition",overall:"overall"},n=Object.keys(e).reduce(((n,i)=>{const r=i,a=t[r],o=e[r].selected;if(o instanceof Array){const[t,i]=o;if("estimated_monthly_search"===r){const o=e[r].valueMap;return n[a]=`${o[t]} – ${o[i]}`,n}return n[a]=`${t} – ${i}`,n}return n[a]=Object.keys(o).map((e=>{if(o[e].checked)return e})).filter(Boolean).join(", "),n}),{});ht("applied keyword inspector filters",{location:(0,be.Z)(),...n})}(t)})),kA(this,"onClickCheck",(e=>{const t=ES(e.keyword),n=SM(this.state.selected).indexOf(t),i=this.state.selected;n<0?i.push(e):i.splice(n,1),this.setState({selected:i})})),kA(this,"onClickSelectAll",(()=>{this.areAllSelected()?this.setState({selected:[]}):this.setState({selected:this.providedKeywordsStats().concat(this.getAdjustedRelatedKeywords())})})),this.state={selected:[],sort:e.sort,descendingSortOrder:!0,filters:mM.getInitialFiltersState()}}componentDidUpdate(e){e.keywords.join(",")!==this.props.keywords.join(",")&&this.setState({selected:[]})}providedKeywordsStats(){return Object.entries(this.props.keywordStats).map((([e,t])=>({...t,keyword:e})))}areAllSelected(){const e=SM(this.state.selected);return this.getAdjustedRelatedKeywords().concat(this.providedKeywordsStats()).every((t=>{const n=ES(t.keyword);return e.indexOf(n)>=0}))}getAdjustedRelatedKeywords(e){let t=this.props.relatedKeywords;return t?(t=fc(t,this.state.sort,this.state.descendingSortOrder),t=mM.getFilteredKeywords(t,e||this.state.filters),t):null}render(){return this.props.keywords&&this.props.keywords.length?h.createElement(h.Fragment,null,h.createElement("div",{className:"vidiq-keyword-inspector-related-keywords"},h.createElement(zM,{filters:this.state.filters,onFiltersUpdate:this.onFiltersUpdate,error:this.props.error}),h.createElement(wA,{providedKeywords:this.providedKeywordsStats(),relatedKeywords:this.getAdjustedRelatedKeywords(),sort:this.state.sort,onChangeSort:this.onChangeSort,onClickCheck:this.onClickCheck,onClickSelectAll:this.onClickSelectAll,namespace:this.props.namespace,loading:this.props.loading,error:this.props.error,addable:this.props.addable,userTags:this.props.userTags,numOmitted:this.props.numOmitted,selected:this.state.selected,allSelected:this.areAllSelected()}),h.createElement(CM,{error:this.props.error})),!this.props.loading&&this.state.selected.length>0&&h.createElement(AS,{selected:this.state.selected,searchTerm:this.props.keywords[0],sort:this.state.sort,descendingSortOrder:this.state.descendingSortOrder,mode:"kwins",forcedTopKeyword:this.props.keywords[0],redesign:!0,sticky:!0})):null}}const EA=xA;var CA=__webpack_require__(2569),SA=__webpack_require__.n(CA);function TA({keywords:e,providedKeywordsStats:t,updateKeywords:n,updateStagedKeywords:i,placeholder:r,disabled:a,onlyAllowSingleKeyword:o}){const[s,l]=(0,h.useState)(e.filter(Boolean)),[c,u]=(0,h.useState)(!0),d=(0,h.useRef)(null);(0,h.useEffect)((()=>(uv(!0),()=>{uv(!1)})),[]),(0,h.useEffect)((()=>{const t=e.filter(Boolean);l(t),i&&i(t)}),[e,i]);const p=(0,h.useCallback)((()=>{if(s.length>5||o&&s.length>=1)return;const e=d.current?d.current.value:"";if(e&&e.length&&c?u(!1):c||e&&e.length||u(!0),e.indexOf(",")<0)return;let t=e.split(",").map((e=>e.trim())).filter(Boolean).filter((e=>s.indexOf(e)<0));t&&t.length&&(t=s.concat(t),o&&(t=t.slice(0,1)),t.length>5&&(t=t.slice(0,5)),l(t),i&&i(t)),u(!0),d.current&&(d.current.value="")}),[s,c,o,i]),f=(0,h.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),s.length>5||o&&s.length>1)return;let t=s;const r=d.current&&d.current.value.trim();r&&r.length&&t.indexOf(r)<0&&(t=t.concat([r]),l(t),i&&i(t)),n(t),u(!0),d.current&&(d.current.value="")}),[s,n,o,i]),m=(0,h.useCallback)(((e,t)=>{e.stopPropagation();let n=[...s];n=n.filter((e=>e!==t)),l(n),i&&i(n)}),[s,i]);let g=r;g||(g=s.length?(0,ai.Z)("addAnotherKeyword"):(0,ai.Z)("searchUpToNKeywords",["5"]));const v=(0,h.useCallback)((()=>a||(!s.length||s.join(",")===e.join(","))&&c),[a,s,e,c]),y=(0,h.useCallback)((()=>{d.current&&(d.current.value=""),l([]),i&&i([])}),[i]),b=(0,h.useCallback)((e=>{const t=d.current&&d.current.value;let n=SA()(s,e);t&&(n=n.concat(t)),l(n),i&&i(n),d.current&&(d.current.value=e,d.current.focus(),u(!1))}),[s,i]);return h.createElement(ev,{testId:"search-multiple-keywords-input",redesign:!0,disabled:a},h.createElement(dv,{redesign:!0},h.createElement(iv,{redesign:!0}),h.createElement("div",{className:"vidiq-search-keywords-input-keyword-chips"},s.map((e=>h.createElement(cv,{key:e,keyword:e,overallScore:t[e.toLowerCase()]&&t[e.toLowerCase()].overall,onClickRemove:t=>m(t,e),onClickChip:()=>b(e),multiple:!0,redesign:!0})))),h.createElement("form",{className:"vidiq-search-keywords-input-form",onSubmit:f},h.createElement(fv,{testId:"search-multiple-input-element",ref:d,placeholder:g,onChange:p,disabled:a,hidden:s.length>=5||o&&s.length>=1,redesign:!0}),o&&s.length>0&&h.createElement(mv,null,(0,ai.Z)("addAnotherKeyword")," ",h.createElement("div",{className:"vidiq-boost-tag"},"Boost")),s.length>=5&&h.createElement(mv,null),h.createElement("div",{className:"vidiq-search-input-buttons"},s&&s.length>0&&h.createElement("div",{className:"vidiq-search-input-clear-button",onClick:y},(0,ai.Z)("clearTitle")),h.createElement(Qg,{redesign:!0,disabled:v()})))))}const DA=()=>h.createElement(Qy,{code:"KeywordInspectorMultiSearchUpsell",plan:"boost",variant:"inline",text:(0,ai.Z)("searchUpTo5InSingleSearch"),actionText:(0,ai.Z)("upgradeToGetThemNow"),dismissKey:"keyword-inspector-search-upsell-dismissed",newBadge:!0,margin:"16px"});function FA({keywords:e,providedKeywordsStats:t,updateKeywords:n}){const i=(0,h.useCallback)((e=>{xM.update({stagedKeywords:e})}),[]),r=(0,ve.h)().featurePermitted("kwinsMultiKeywords");return h.createElement(h.Fragment,null,r||h.createElement(DA,null),h.createElement(TA,{keywords:e,providedKeywordsStats:t,updateKeywords:n,updateStagedKeywords:i,onlyAllowSingleKeyword:!r}))}const MA=Qn(oi,{target:"e12xs0010"})({name:"188mj8y",styles:"border-radius:2px;width:100%;height:34px;background:var(--border-secondary);color:var(--text-secondary);font-weight:500;font-size:14px;margin-top:16px"});class AA extends h.Component{render(){if(this.props.redesign)return h.createElement(MA,null,this.props.text);const e=chrome.runtime.getURL("images/important-icon.svg");return h.createElement("div",{className:"vidiq-search-error"},h.createElement("img",{src:e,className:"vidiq-search-error-icon",alt:""}),h.createElement("div",{className:"vidiq-search-error-text"},this.props.text))}}const IA=AA,OA={af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano",ny:"Chichewa","zh-CN":"Chinese","zh-TW":"Chinese (Taiwan)","zh-HK":"Chinese (Hong Kong)",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch","en-GB":"English (United Kingdom)",en:"English",eo:"Esperanto",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French","fr-CA":"French (Canada)",fy:"Western Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",ht:"Haitian Creole",haw:"Hawaiian",ha:"Hausa",iw:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jw:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",ko:"Korean",ku:"Kurdish",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)",pa:"Punjabi",ro:"Romanian",ru:"Russian",gd:"Scottish Gaelic",sm:"Samoan",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish","es-419":"Spanish (Latin America)",su:"Sudanese",sw:"Swahili",sv:"Swedish",tg:"Tajik",ta:"Tamil",te:"Telugu",th:"Thai",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"},NA=e=>{const t=ye.Z.getItem("trending_vids_filter_out_mine")||!1;ht("clicked on trending video",{"video id":e,location:(0,be.Z)(),"filter out my videos on":t})},PA=(e,t)=>{const n=("country"===e?tl:OA)[t];ht(`changed ${e} selection on trending videos`,{location:(0,be.Z)(),"changed to":n})};const RA=Qn("div",{target:"e1w92j0z3"})({name:"uol68",styles:"display:flex;align-items:center;flex-wrap:wrap;margin-top:8px"}),jA=Qn("div",{target:"e1w92j0z2"})({name:"oo6jn7",styles:"display:flex;align-items:center;justify-content:center;position:relative;border-radius:20px;box-sizing:border-box;cursor:pointer;background:var(--background-primary);border:1px solid var(--border-primary);font-size:12px;line-height:16px;font-weight:500;margin:0 6px 6px 0;padding:4px 10px;color:var(--text-primary)"}),LA=Qn("div",{target:"e1w92j0z1"})({name:"1p5bks2",styles:"color:var(--blue);cursor:pointer;font-size:12px;line-height:16px;font-weight:600;margin:0 0 2px 8px"}),qA=Qn("img",{target:"e1w92j0z0"})({name:"14dsik8",styles:"width:16px;height:16px;margin-right:4px;cursor:pointer"}),ZA=({tags:e,namespace:t,addable:n,userTags:i,canAddToSearch:a})=>{const[o,s]=(0,h.useState)(!1),[l,c]=(0,h.useState)(null),u=chrome.runtime.getURL("images/x-plus-btn.svg"),d=chrome.runtime.getURL("images/checkmark-icon.png"),p=o?e:e.slice(0,3),f=o?(0,ai.Z)("showFewerTitle"):`${(0,ai.Z)("showAllTitle")} (${e.length})`;return h.createElement(RA,null,p.map(((e,o)=>h.createElement(jA,{key:o},n&&h.createElement(qA,{src:i.indexOf(e)>=0?d:u,onClick:()=>(e=>{r()(window).trigger("kwins:add",[e,t]),xM.addTag(e)})(e)}),h.createElement("div",{onClick:()=>(e=>{(0,ve.h)().featurePermitted("kwinsMultiKeywords")?l||c(e):xM.setKeyword(e)})(e)},e),h.createElement($M,{keyword:e,display:l===e,canAddToSearch:a,close:()=>c(null)})))),e.length>3&&h.createElement(LA,{onClick:()=>s(!o)},f))};const BA=Qn("div",{target:"e1p90xwc7"})("padding:16px 0;border-bottom:1px solid var(--border-primary);",(e=>e.forUpsell&&"\n    filter: blur(5px);\n    height: 190px;\n  "),";"),VA=Qn("div",{target:"e1p90xwc6"})({name:"iva6rk",styles:"display:flex;flex-flow:row;.vidiq-dropdown-button{position:absolute;right:0;}"}),zA=Qn("div",{target:"e1p90xwc5"})((e=>!e.forUpsell&&"cursor: pointer;")," font-size:12px;line-height:16px;max-width:160px;"),UA=Qn("div",{target:"e1p90xwc4"})({name:"buivyl",styles:"font-weight:600;color:var(--text-primary);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;text-overflow:ellipsis;overflow:hidden"}),WA=Qn("div",{target:"e1p90xwc3"})({name:"1f5h06l",styles:"max-width:220px;color:var(--text-secondary);font-weight:500;margin-top:2px"}),HA=Qn("div",{target:"e1p90xwc2"})({name:"fz07xg",styles:"display:flex;flex-flow:row;font-weight:500;font-size:14px;line-height:18px;margin-top:8px;color:var(--text-primary)"}),YA=Qn("div",{target:"e1p90xwc1"})({name:"5gq4rb",styles:"color:var(--border-primary);padding:0 6px"}),$A=Qn("div",{target:"e1p90xwc0"})({name:"bjn8wh",styles:"position:relative"}),KA=({video:e,namespace:t,addable:n,userTags:i,canAddToSearch:r,forUpsell:a=!1})=>{const o=()=>{a||(NA(e.id),Xo({location:"Keyword Inspector",channelId:e.channel_id,vph:e.vph}),window.open(`https://youtu.be/${e.id}`,"_blank"))},s=wt()(e.published_at).fromNow(),l=ge()(e.statistics.viewCount).format("0,0"),c=ge()(e.vph).format("0.0a").toUpperCase();return h.createElement(BA,{forUpsell:a},h.createElement(VA,null,h.createElement(yu,{src:e.thumbnail,alt:e.title,height:"63px",minWidth:"110px",onClick:o,disabled:a}),h.createElement(zA,{onClick:o},h.createElement(UA,null,e.title),h.createElement(WA,null,e.channel_title," · ",s)),h.createElement(iM,{alignment:"right",alternate:!0},h.createElement(aM,{id:"View on YouTube",onClick:o,data:e},(0,ai.Z)("viewOnYouTube")))),h.createElement(HA,null,h.createElement("div",null,l," ",ai.Z.lower("viewsTitle")),h.createElement(YA,null,"·"),h.createElement($A,null,c," ",(0,ai.Z)("vph"))),h.createElement(ZA,{tags:e.tags,namespace:t,addable:n,userTags:i,canAddToSearch:r}))},GA={id:"5ojWKfCADRM",title:"This is a sample trending video!",tags:[],views_count:1234567,vph:1000.234,statistics:{viewCount:"1234567",likeCount:"200",dislikeCount:"0",favoriteCount:"0",commentCount:"0"},published_at:"2021-11-07T03:57:05Z",thumbnail:"https://i.ytimg.com/vi/5ojWKfCADRM/default.jpg",url:"https://www.youtube.com/watch?v=5ojWKfCADRM",matched_tags:[],related_to:[],seen_from:[],unmatched_tags:[],channel_id:"",channel_title:"vidIQ"};const XA=vA,QA=Qn("div",{target:"elif5v43"})({name:"x43g4a",styles:"font-family:@fontFamily;{}max-width:375px;width:100%;height:100%"}),JA=Qn("div",{target:"elif5v42"})({name:"2qxzup",styles:"position:relative;min-height:200px"}),eI=Qn(oi,{target:"elif5v41"})({name:"1b3dxw",styles:"font-size:18px;line-height:22px;font-weight:bold;color:var(--text-primary)"}),tI=Qn("div",{target:"elif5v40"})({name:"10b2k8",styles:"margin:0 16px;cursor:pointer;color:var(--blue);font-size:14px;text-align:center;padding:20px 0;font-weight:600;line-height:18px"}),nI=()=>h.createElement("div",null,h.createElement(KA,{video:GA,userTags:[],canAddToSearch:!1,forUpsell:!0}),h.createElement(Qy,{code:"KeywordInspectorVideos",plan:"pro",header:(0,ai.Z)("upgradeToPlan",["Pro"]),text:(0,ai.Z)("getAccessToTrendingVideosAlt"),absolute:!0,width:"90%",left:"5%",top:"30px"})),iI=({data:e,addable:t,userTags:n,canAddToSearch:i})=>{const[r,a]=(0,h.useState)(!1),o=(0,ve.h)().featurePermitted("search"),s=e.videos||[],l=s.slice(0,r?10:5),c=o&&s.length>0,u=o&&!!s&&s.length>5,d=r?(0,ai.Z)("showFewerTitle"):(0,ai.Z)("showAllNumVideos",[Math.min(s.length,10).toString()]);return h.createElement(qy,{padding:"20px 16px 0"},h.createElement(QA,null,h.createElement(JA,null,h.createElement(eI,{justify:"space-between"},(0,ai.Z)("topTenTrendingVideos")),c&&h.createElement("div",null,l.map((r=>h.createElement(KA,{key:r.id,video:r,namespace:e.namespace,addable:t,userTags:n,canAddToSearch:i}))),u&&h.createElement(tI,{onClick:()=>a(!r)},d)),XA.show(e.loading,!0),!o&&h.createElement(nI,null),o&&!e.loading&&s.length<=0&&h.createElement(IA,{text:(0,ai.Z)("noTrending"),redesign:!0}))))};function rI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class aI extends h.Component{constructor(){super(),rI(this,"onStoreChange",(()=>{this.setState({store:Zc.getData()})})),rI(this,"updateKeywords",(e=>{xM.setKeywords(e)})),this.state={store:Zc.getData()}}componentDidMount(){const{keywords:e,feature:t}=this.state.store;!function(e,t){ht("opened keyword inspector",{url:(0,be.Z)(),keyword:e,...t&&{feature:t}})}(e&&e.join(","),t),Zc.addChangeListener(this.onStoreChange)}componentWillUnmount(){this.props.forNavMenu||Zc.reset(),Zc.removeChangeListener(this.onStoreChange)}render(){const{store:e}=this.state,t=e.keywords,n={country:e.country,language:e.language,loading:e.loadingTrendingVideos,videos:e.trendingVideos,namespace:e.namespace},i=(0,ve.h)().featurePermitted("kwinsMultiKeywords"),r=h.createElement(FA,{keywords:t,providedKeywordsStats:e.keywordStats,updateKeywords:this.updateKeywords}),a=h.createElement(EA,{keywords:t,keywordStats:e.keywordStats,relatedKeywords:e.relatedKeywords,namespace:e.namespace,loading:e.loadingRelatedKeywords,error:e.errorRelatedKeywords,addable:e.addable,userTags:e.userTags,numOmitted:e.numOmitted,sort:e.sort}),o=h.createElement(iI,{data:n,addable:e.addable,userTags:e.userTags,canAddToSearch:i&&e.keywords.length<5});return h.createElement(Hc,{featureInfoText:(0,ai.Z)("keywordInspectorFeatureInfo"),minHeight:"400px",width:"100%"},h.createElement(Gg,{top:r,left:a,right:o,hideBody:!t||!t.length}))}}const oI=aI,sI=we.Z.keyMirror(["REQUEST_LIVE_PREVIEW","REQUEST_ALERTS","SELECT_ALERT","EDIT_ALERT","NEW_ALERT_WITH_INITIAL_KEYWORD","SAVE_ALERT","DELETE_ALERT","RECEIVE_CHANNEL_ID","RECEIVE_COMPETITORS","RECEIVE_LIVE_PREVIEW","RECEIVE_ALERTS","RECEIVE_SAVED_ALERT_ID","RECEIVE_ALERT_PREVIEW","RECEIVE_WARNING","RECEIVE_ERROR","WARNING_UNABLE_TO_CREATE_ALERT","WARNING_UNABLE_TO_UPDATE_ALERT","WARNING_UNABLE_TO_DELETE_ALERT","ERROR_UNAUTHENTICATED","ERROR_UNKNOWN","NEW_ALERT_ID"],"TREND_ALERTS"),lI={getCurrentChannelId(){const e=new(r().Deferred);return(0,ve.h)().getCurrentChannel().then((t=>t?e.resolve(t.id):e.reject(sI.ERROR_UNAUTHENTICATED))).catch(e.reject.bind(null,sI.ERROR_UNKNOWN)),e.promise()},getCompetitors(e){const t=new(r().Deferred);return(0,P.Z)("vidiq.showCompetitors",{cid:e}).then((e=>t.resolve(e.competitors||[]))),t.promise()},getLivePreview(e){const t=new(r().Deferred),n={name:o.ZP.trendAlerts.defaultName,search_terms:this._tokenizeString(e.searchTerms),category:e.category,channel_ids:e.channelIds,vph_threshold:e.vphThreshold,email_frequency:e.emailFrequency,language:e.language,save:!1};return(0,P.Z)("vidiq.createTrendAlert",{body:n}).then((e=>{t.resolve(e||[])})),t.promise()},getAlert(e){const t=new(r().Deferred);return P.Z.expanded("vidiq.getTrendAlert",{id:e}).then((({json:e,response:n})=>n.ok&&0!==Object.keys(e).length?t.resolve(e):t.reject(sI.ERROR_UNKNOWN))),t.promise()},getAlerts(){const e=new(r().Deferred);return P.Z.expanded("vidiq.getTrendAlerts").then((({json:t,response:n})=>{if(!n.ok)return e.reject(sI.ERROR_UNKNOWN);e.resolve(t)})),e.promise()},createAlert(e){const t=new(r().Deferred),n={name:e.name.trim()||o.ZP.trendAlerts.defaultName,search_terms:this._tokenizeString(e.searchTerms),category:e.category,channel_ids:e.channelIds,vph_threshold:e.vphThreshold,email_frequency:e.emailFrequency,language:e.language};return P.Z.expanded("vidiq.createTrendAlert",{body:n}).then((({response:e,json:n})=>{if(!e.ok)return t.reject(sI.WARNING_UNABLE_TO_CREATE_ALERT);t.resolve(n)})),t.promise()},updateAlert(e,t){const n=new(r().Deferred),i={trend_alert_id:e,name:t.name.trim()||o.ZP.trendAlerts.defaultName,search_terms:this._tokenizeString(t.searchTerms),category:t.category,channel_ids:t.channelIds,vph_threshold:t.vphThreshold,email_frequency:t.emailFrequency,language:t.language};return P.Z.expanded("vidiq.updateTrendAlert",{body:i}).then((({response:e,json:t})=>{if(!e.ok)return n.reject(sI.WARNING_UNABLE_TO_UPDATE_ALERT);n.resolve(t)})),n.promise()},deleteAlert(e){const t=new(r().Deferred);return P.Z.expanded("vidiq.deleteTrendAlert",{id:e}).then((({response:e})=>{if(!e.ok)return t.reject(sI.WARNING_UNABLE_TO_DELETE_ALERT);t.resolve()})),t.promise()},_tokenizeString(e){if(!e.trim())return[];const t=e.replace(/(^\s*,)|(,\s*$)/g,"").split(",").map((e=>e.trim()));return L().compact(t)}},cI=lI,uI=(e,t)=>{const n=t?t.status+" "+t.statusText+": "+t.responseText:null;if(dt("Error while managing trend alerts",{error:e}),e===sI.ERROR_UNKNOWN&&Me.Z.error("Trend Alerts: Unknown error",{status:t&&t.status,statusText:t&&t.statusText}),-1!==e.indexOf("WARNING_"))return ko.Z.dispatch({action:sI.RECEIVE_WARNING,warning:e,message:n});ko.Z.dispatch({action:sI.RECEIVE_ERROR,error:e})},dI={getCurrentChannelId:()=>cI.getCurrentChannelId().done((e=>{ko.Z.dispatch({action:sI.RECEIVE_CHANNEL_ID,channelId:e})})).fail(uI),getCompetitors:e=>cI.getCompetitors(e).done((e=>{ko.Z.dispatch({action:sI.RECEIVE_COMPETITORS,competitors:e})})).fail(uI),getLivePreview:e=>(ko.Z.dispatch({action:sI.REQUEST_LIVE_PREVIEW}),cI.getLivePreview(e).done((e=>{ko.Z.dispatch({action:sI.RECEIVE_LIVE_PREVIEW,results:e.results||[]})})).fail(uI)),getAlert:e=>cI.getAlert(e).done((e=>{ko.Z.dispatch({action:sI.RECEIVE_ALERT_PREVIEW,alert:e})})).fail(uI),getAlerts:()=>(ko.Z.dispatch({action:sI.REQUEST_ALERTS}),cI.getAlerts().done((e=>{ko.Z.dispatch({action:sI.RECEIVE_ALERTS,alerts:e})})).fail(uI)),selectAlert(e){ko.Z.dispatch({action:sI.SELECT_ALERT,id:e})},editAlert(e){ko.Z.dispatch({action:sI.EDIT_ALERT,id:e})},newAlertWithInitialKeyword(e,t){ko.Z.dispatch({action:sI.NEW_ALERT_WITH_INITIAL_KEYWORD,id:e,initialKeyword:t})},createAlert(e){return dt("Creating trend alert",{name:e.name.trim()||o.ZP.trendAlerts.defaultName}),ko.Z.dispatch({action:sI.SAVE_ALERT}),cI.createAlert(e).done((e=>{ko.Z.dispatch({action:sI.RECEIVE_SAVED_ALERT_ID,id:e.trend_alert_id}),this.getAlerts()})).fail(uI)},updateAlert(e,t){return dt("Updating trend alert",{id:e}),ko.Z.dispatch({action:sI.SAVE_ALERT}),cI.updateAlert(e,t).done((e=>{ko.Z.dispatch({action:sI.RECEIVE_SAVED_ALERT_ID,id:e.trend_alert_id}),this.getAlerts()})).fail(uI)},deleteAlert(e){return dt("Deleting trend alert",{id:e}),ko.Z.dispatch({action:sI.DELETE_ALERT}),cI.deleteAlert(e).done((()=>{this.getAlerts()})).fail(uI)}},hI=dI,pI=Oo()({displayName:"TrendAlertsUpsell",render(){const e=we.Z.titleCase(this.props.userType.replace("_"," "));return h.createElement(Qy,{code:"TrendAlerts",plan:"Basic"===e?"pro":"boost",header:(0,ai.Z)("upgradeToPlan",["Boost"]),text:ai.Z.html("trendAlertsUpsellMessage",[e,this.props.limit])})}}),fI=({numAlerts:e})=>{const t=(0,ve.h)().getUserType(),n=(0,ve.h)().getFeatureLimit("createTrendAlert");return e>=n?h.createElement(pI,{userType:t,limit:n}):h.createElement($c,{onClick:()=>{hI.editAlert(sI.NEW_ALERT_ID)},width:"100%"},(0,ai.Z)("trendAlertsCreateNewAlert"))},mI=Oo()({displayName:"TrendAlertsAlertsWarning",getMessage(){if(this.props.warning===sI.WARNING_UNABLE_TO_DELETE_ALERT)return(0,ai.Z)("trendAlertsUnableToDeleteAlert")},render(){const e=this.getMessage();return e?h.createElement("p",{className:"modal-alert"},e):h.createElement("span",null)}}),gI=({children:e})=>{const t={text:(0,ai.Z)("learnMore"),link:"https://www.youtube.com/watch?v=8QPmaFFqyPA"};return h.createElement(Hc,{featureInfoEmoji:"🎥",featureInfoText:(0,ai.Z)("trendAlertsMostViewedFeatureInfo"),featureInfoLink:t},e)};function vI(){return vI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vI.apply(this,arguments)}function yI(e){return h.createElement("svg",vI({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},e),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M7.333 2.667H2.667A1.333 1.333 0 001.333 4v9.333a1.333 1.333 0 001.334 1.334H12a1.333 1.333 0 001.333-1.334V8.667"}),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12.333 1.667a1.414 1.414 0 112 2L8 10l-2.667.667L6 8l6.333-6.333z"}))}const bI=Qn("div",{target:"e96r8bz2"})(uu," margin-bottom:16px;width:100%;border:1px solid var(--border-primary);border-radius:100px;padding:8px 12px;cursor:pointer;box-sizing:border-box;",(e=>e.isSelected&&"background: var(--background-tinted);")," &:hover{background:var(--background-tinted);}"),_I=Qn("div",{target:"e96r8bz1"})({name:"1igs5az",styles:"width:1px;height:16px;background:var(--border-primary);margin:0 8px"}),wI=Qn("div",{target:"e96r8bz0"})("cursor:pointer;svg{color:",(e=>e.color),";width:16px;height:16px;}"),kI=({alert:e,isSelected:t,mainData:n})=>h.createElement(bI,{isSelected:t,onClick:()=>t?null:hI.selectAlert(e.trend_alert_id)},h.createElement(ru,null,e.name),h.createElement(cu,null,h.createElement(tA,{text:(0,ai.Z)("trendAlertsEditTrendAlert"),type:"div",noWrap:!0},h.createElement(wI,{onClick:t=>{t.stopPropagation();const{name:i,id:r}=dc(n);ht("edited alert",{location:(0,be.Z)(),_identify:{set:{"user id":n.user&&n.user.id,"plan name":i,"plan id":r}}}),hI.editAlert(e.trend_alert_id)},color:"var(--blue)"},h.createElement(yI,null))),h.createElement(_I,null),h.createElement(tA,{text:(0,ai.Z)("trendAlertsDeleteTrendAlert"),type:"div",noWrap:!0},h.createElement(wI,{onClick:t=>{t.stopPropagation();const{name:i,id:r}=dc(n),a=(0,ai.Z)("trendAlertsDeleteMsg",[e.name]);window.confirm(a)&&(ht("deleted alert",{location:(0,be.Z)(),_identify:{set:{"user id":n.user&&n.user.id,"plan name":i,"plan id":r}}}),hI.deleteAlert(e.trend_alert_id))},color:"#FF0000"},h.createElement(IC,null))))),xI=({children:e,margin:t})=>h.createElement(oi,{flow:"column",align:"flex-start",margin:t||"16px 0 0",width:"100%"},e),EI=({alerts:e,selectedAlertId:t,error:n,loading:i})=>{const[r,a]=(0,h.useState)(J.Z.getData()),o=()=>{a(J.Z.getData())};return(0,h.useEffect)((()=>(J.Z.addChangeListener(o),()=>{J.Z.removeChangeListener(o)}))),i&&!e.length?null:e.length&&n!==sI.ERROR_UNAUTHENTICATED&&n!==sI.ERROR_UNKNOWN?h.createElement(xI,null,e.map(((e,n)=>h.createElement(kI,{key:n,alert:e,isSelected:e.trend_alert_id===t,mainData:r})))):h.createElement(xI,{margin:"24px 0"},h.createElement(tc,{size:"m"},(0,ai.Z)("trendAlertsNoTrendAlertsFound")))},CI=Oo()({displayName:"ModalError",renderButton(){if(this.props.buttonText)return this.props.buttonHref?h.createElement("a",{href:this.props.buttonHref,className:"modal-button modal-button-large",target:"_blank",rel:"noopener noreferrer"},this.props.buttonText):h.createElement("button",{className:"modal-button modal-button-large btn",onClick:cs.destroy.bind(this)},this.props.buttonText)},render(){const e=Fo()("modal-notice",this.props.classes);return h.createElement("div",{className:e},h.createElement("p",{className:"modal-notice-message"},this.props.message),this.renderButton(),this.props.hint?h.createElement("p",{className:"modal-notice-hint"},this.props.hint):null)}});function SI(){return SI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},SI.apply(this,arguments)}function TI(e){return h.createElement("svg",SI({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none"},e),h.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M12.5 8.667v4A1.334 1.334 0 0111.167 14H3.833a1.334 1.334 0 01-.942-.39 1.333 1.333 0 01-.391-.943V5.333c0-.353.14-.692.39-.942A1.333 1.333 0 013.834 4h4M10.5 2h4v4M7.167 9.333L14.5 2"}))}const DI=Oo()({displayName:"TrendAlertsFormWarning",getMessage(){return this.props.warning===sI.WARNING_UNABLE_TO_CREATE_ALERT?(0,ai.Z)("trendAlertsUnableToCreateAlert"):this.props.warning===sI.WARNING_UNABLE_TO_UPDATE_ALERT?(0,ai.Z)("trendAlertsUnableToUpdateAlert"):void 0},render(){const e=this.getMessage();return e?h.createElement("p",{className:"modal-alert"},e," (",this.props.warningMessage,")"):h.createElement("span",null)}}),FI=yo()(hI.getLivePreview,500),MI=Oo()({displayName:"TrendAlertsLivePreview",componentDidMount(){FI(this.props)},UNSAFE_componentWillReceiveProps(e){e.searchTerms===this.props.searchTerms&&e.category===this.props.category&&e.channelIds.length===this.props.channelIds.length&&e.vphThreshold===this.props.vphThreshold&&e.emailFrequency===this.props.emailFrequency&&e.language===this.props.language||FI(e)},renderHeader(){const e=this.props.results.length,t=Math.min(o.ZP.trendAlerts.previewLength,e);return 0===e?h.createElement(ru,null,(0,ai.Z)("trendAlertsLivePreviewNoResults")):h.createElement(ru,{margin:"0 0 20px 0"},(0,ai.Z)("trendAlertsLivePreviewResults",[t]))},renderResults(){const e=this.props.results.slice(0,o.ZP.trendAlerts.previewLength);if(0!==e.length)return e.map(((e,t)=>h.createElement(iy,{key:t,video:e,location:"Trend Alerts",includeVphGraphic:!0})))},render(){return this.props.loading?h.createElement(os,{size:"big"}):h.createElement("div",null,this.renderHeader(),this.renderResults())}}),AI=()=>{const e=(0,ai.Z)("trendAlertsFormUpsellMessage",[""]),[t,n,i]=e.split(/<[^>]+>/);return h.createElement(h.Fragment,null,t,h.createElement(xs,{TrendAlertsForm:!0,targetPlan:"pro",anchor:!0,resetClassName:!0,text:n}),i)};const II=Qn("button",{target:"e1gewkxs0"})({name:"y42s5v",styles:"display:flex;justify-content:center;align-items:center;box-shadow:0px 1px 2px rgb(0 0 0 / 4%);border:1px solid var(--border-primary);border-radius:12px;margin-top:24px;margin-bottom:24px;padding:12px 0;background-color:transparent;width:100%;cursor:pointer;svg{margin-left:5px;}html[dark='true'] &{color:var(--text-primary);}"}),OI=({showAll:e,onToggle:t})=>h.createElement(II,{type:"button",onClick:()=>t(!e)},e?h.createElement(h.Fragment,null,(0,ai.Z)("trendAlertsHideOptions"),h.createElement(py,null)):h.createElement(h.Fragment,null,(0,ai.Z)("trendAlertsShowOptions"),h.createElement(hy,null)));const NI=Qn("h1",{target:"evsl2p113"})({name:"12x1k2l",styles:"font-family:Inter,sans-serif;font-weight:700;font-size:18px;line-height:22px;color:var(--text-primary);margin-bottom:8px"}),PI=Qn("p",{target:"evsl2p112"})({name:"1jqekwj",styles:"font-family:Inter,sans-serif;font-weight:500;font-size:14px;line-height:18px;color:var(--text-secondary);a{text-decoration:none;color:var(--blue);}"}),RI=Qn("form",{target:"evsl2p111"})({name:"1fgdcyd",styles:"margin-bottom:24px"}),jI=Qn("div",{target:"evsl2p110"})({name:"1ec5k6b",styles:"box-shadow:0px 1px 2px rgba(0, 0, 0, 0.04);border:1px solid var(--border-primary);border-radius:12px;margin-top:24px;margin-bottom:24px;padding:18px 16px"}),LI=Qn("div",{target:"evsl2p19"})({name:"1eoy87d",styles:"display:flex;justify-content:space-between"}),qI=Qn("label",{target:"evsl2p18"})({name:"5gb1ob",styles:"font-family:Inter,sans-serif;font-weight:500;font-size:14px;line-height:18px;color:var(--text-primary);margin-bottom:10px"}),ZI=Qn("input",{target:"evsl2p17"})({name:"11himrl",styles:"font-family:Inter,sans-serif;font-weight:700;font-size:18px;line-height:22px;color:var(--text-primary);caret-color:var(--blue);border:none;width:100%;padding:3px 0;&::placeholder{color:var(--icon-grey);}&:active,&:focus{outline:none;}html[dark=''] &,html[dark='true'] &{background-color:transparent;}"}),BI=Qn("input",{target:"evsl2p16"})({name:"1hmpbeg",styles:"font-family:Inter,sans-serif;font-size:14px;font-weight:500;line-height:22px;color:var(--text-primary);caret-color:var(--blue);border:1px solid var(--border-primary);border-radius:100px;width:calc(100% - 30px);padding:9px 15px;&::placeholder{color:var(--icon-grey);}&:active,&:focus{outline:none;}html[dark=''] &,html[dark='true'] &{background-color:transparent;&:active,&:focus{border-color:var(--blue);}}"}),VI=Qn("input",{target:"evsl2p15"})({name:"noxnfu",styles:"border:1px solid var(--border-primary);border-radius:100px;width:16px;height:16px;margin-right:8px;cursor:pointer;html[dark=''] &,html[dark='true'] &{appearance:none;background-clip:content-box;padding:3px;&:checked{background-color:var(--dark-grey);}}"}),zI=Qn(qI,{target:"evsl2p14"})({name:"1fuh56o",styles:"margin-right:14px;margin-bottom:0;cursor:pointer"}),UI=Qn("input",{target:"evsl2p13"})({name:"aocby8",styles:"border:1px solid var(--border-primary);border-radius:100px;width:16px;height:16px;margin-right:8px;cursor:pointer"}),WI=Qn("button",{target:"evsl2p12"})({name:"m52a9u",styles:"font-family:Inter,sans-serif;font-weight:500;font-size:14px;line-height:18px;color:var(--text-secondary);background-color:transparent;border:none;margin-right:32px;padding:8px 0;cursor:pointer"}),HI=Qn("button",{target:"evsl2p11"})({name:"iqm293",styles:"font-family:Inter,sans-serif;font-weight:500;font-size:14px;line-height:18px;color:#fff;background-color:var(--blue);border:none;border-radius:100px;padding:8px 16px;cursor:pointer"}),YI=Qn("div",{target:"evsl2p10"})({name:"1fmklxm",styles:"background-color:transparent;height:24px;width:100%"}),$I=()=>h.createElement(dD,{color:$o()?"#fff":void 0}),KI=({initialState:e,initialKeyword:t,competitors:n,loadingLivePreview:i,livePreviewResults:r,warning:a,warningMessage:s,numAlerts:c,formAction:u,onSubmit:d,onCancel:p})=>{const f=()=>{const e=Eo(),t=Object.keys(o.ZP.trendAlerts.languagesObject);return e&&t.includes(e)?e:"any"},[m,g]=(0,h.useState)(""),[v,y]=(0,h.useState)(""),[b,_]=(0,h.useState)("weekly"),[w,k]=(0,h.useState)(100),[x,E]=(0,h.useState)([]),[C,S]=(0,h.useState)("any"),[T,D]=(0,h.useState)(f()),[F,M]=(0,h.useState)(!1),[A,I]=(0,h.useState)(!1),[O,N]=(0,h.useState)(!1),P=()=>{g(""),y(""),_("weekly"),k(100),E([]),S("any"),D(f())},R=async()=>{const e=await l.get("trend_alert_total_initialized"),t={set:{"live alert count":c+1,"last alert created":(new Date).toISOString()}};e?t.add={"total alert count":1}:(l.set({trend_alert_total_initialized:!0}),t.set["total alert count"]=c+1),ht("created trend alert",{"alert name":m,"keywords used":v.split(/, ?/),category:C,competitors:x,"competitor count":x.length,"vph threshold":w,"email frequency":b,language:T,_identify:t})};return(0,h.useEffect)((()=>{t&&(P(),y(t))}),[t]),(0,h.useEffect)((()=>{if(!e)return;const{name:t,search_terms:n,email_frequency:i,vph_threshold:r,channel_ids:a,category:o,language:s}=e;g(t),y(n.join(", ")),_(i),k(r),E(a),S(o),D(s)}),[e]),(0,h.useEffect)((()=>{const e=(0,ve.h)().featurePermitted("fullTrendAlerts");I(!e)}),[]),(0,h.useEffect)((()=>{const e=(0,ve.h)().getFeatureLimit("createTrendAlert");N("create"===u&&c>=e)}),[u,c]),h.createElement(h.Fragment,null,h.createElement(NI,null,"create"===u?(0,ai.Z)("trendAlertsCreateANewTrendAlert"):(0,ai.Z)("trendAlertsEditYourTrendAlert")),h.createElement(PI,null,(0,ai.Z)("trendAlertsGetEmailAlerts")),h.createElement(RI,{onSubmit:e=>{if(e.preventDefault(),O)return;d({name:m,searchTerms:v,emailFrequency:b,vphThreshold:w,channelIds:x,category:C,language:T}),R()}},h.createElement(jI,null,h.createElement(LI,null,h.createElement(qI,{htmlFor:"trend-alert-name"},(0,ai.Z)("trendAlertsAlertNameLabel")),h.createElement(tA,{text:(0,ai.Z)("trendAlertsAlertNameTooltip"),noWrap:!0},h.createElement($I,null))),h.createElement(ZI,{id:"trend-alert-name",type:"text",value:m,placeholder:(0,ai.Z)("trendAlertsAlertNamePlaceholder"),onChange:e=>g(e.target.value),autoFocus:!0})),h.createElement(jI,null,h.createElement(LI,null,h.createElement(qI,{htmlFor:"trend-alert-search-term"},(0,ai.Z)("trendAlertsSearchTermLabel")),h.createElement(tA,{text:(0,ai.Z)("trendAlertsSearchTermTooltip"),noWrap:!0},h.createElement($I,null))),h.createElement(BI,{id:"trend-alert-search-term",type:"text",value:v,placeholder:(0,ai.Z)("trendAlertsSearchTermPlaceholder"),onChange:e=>y(e.target.value)})),h.createElement(jI,null,h.createElement(LI,null,h.createElement(qI,{as:"p"},(0,ai.Z)("trendAlertsEmailFrequencyLabel")),h.createElement(tA,{text:(0,ai.Z)("trendAlertsEmailFrequencyTooltip"),noWrap:!0},h.createElement($I,null))),h.createElement(LI,{style:{justifyContent:"flex-start",alignItems:"center"}},o.ZP.trendAlerts.emailFrequencies.map((({key:e,label:t},n)=>h.createElement(h.Fragment,{key:n},h.createElement(VI,{type:"radio",id:`trend-alert-frequency-${e}`,name:"trend-alert-frequency",value:e,checked:b===e,disabled:A,onChange:e=>_(e.target.value)}),h.createElement(zI,{htmlFor:`trend-alert-frequency-${e}`,style:{color:b===e?"var(--text-primary)":"var(--text-secondary)"}},t))))),A&&h.createElement(PI,{style:{marginTop:"10px"}},h.createElement(AI,null))),F&&h.createElement(h.Fragment,null,h.createElement(jI,null,h.createElement(LI,null,h.createElement(qI,{as:"p"},(0,ai.Z)("trendAlertsVphThresholdLabel")),h.createElement(tA,{text:(0,ai.Z)("trendAlertsVphThresholdTooltip"),noWrap:!0},h.createElement($I,null))),h.createElement(LI,{style:{justifyContent:"flex-start",alignItems:"center"}},o.ZP.trendAlerts.vphThresholds.map((({key:e,label:t},n)=>h.createElement(h.Fragment,{key:n},h.createElement(VI,{type:"radio",id:`trend-alert-vph-${e}`,name:"trend-alert-vph",value:e,checked:w===e,disabled:A,onChange:e=>k(parseInt(e.target.value,10))}),h.createElement(zI,{htmlFor:`trend-alert-vph-${e}`,style:{color:w===e?"var(--text-primary)":"var(--text-secondary)"}},t))))),A&&h.createElement(PI,{style:{marginTop:"10px"}},h.createElement(AI,null))),h.createElement(jI,null,h.createElement(LI,null,h.createElement(qI,{as:"p"},(0,ai.Z)("trendAlertsCompetitorsLabel")),h.createElement(tA,{text:(0,ai.Z)("trendAlertsCompetitorsTooltip"),noWrap:!0},h.createElement($I,null))),n.length?h.createElement(h.Fragment,null,h.createElement(LI,{style:{justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",marginBottom:"6px"}},n.map(((e,t)=>h.createElement(Df,{key:t,style:{display:"flex",alignItems:"center",marginBottom:"4px"}},h.createElement(UI,{type:"checkbox",id:`trend-alert-competitors-${e.yt_channel_id}`,name:"trend-alert-competitors",value:e.yt_channel_id,checked:x.includes(e.yt_channel_id),onChange:e=>{const t=e.target.checked?[...x,e.target.value]:x.filter((t=>t!==e.target.value));E(t)}}),h.createElement(zI,{htmlFor:`trend-alert-competitors-${e.yt_channel_id}`,style:{color:x.includes(e.yt_channel_id)?"var(--text-primary)":"var(--text-secondary)"}},e.display_name))))),h.createElement(PI,null,h.createElement("a",{href:Su("https://app.vidiq.com/competition"),target:"_blank",rel:"noopener noreferrer"},(0,ai.Z)("trendAlertsCompetitorsLink")," ",h.createElement(TI,null)))):h.createElement(PI,null,(0,ai.Z)("trendAlertsCompetitorsEmptyMessage")," ",h.createElement("a",{href:Su("https://app.vidiq.com/competition"),target:"blank",rel:"noopener noreferrer"},(0,ai.Z)("trendAlertsCompetitorsEmptyMessageLink")," ",h.createElement(TI,null)))),h.createElement(jI,null,h.createElement(LI,null,h.createElement(qI,{htmlFor:"trend-alert-category"},(0,ai.Z)("trendAlertsCategoryLabel")),h.createElement(tA,{text:(0,ai.Z)("trendAlertsCategoryTooltip"),noWrap:!0},h.createElement($I,null))),h.createElement(ux,{id:"trend-alert-category",options:o.ZP.categoriesObject,selected:C,onChange:e=>S(e)})),h.createElement(jI,null,h.createElement(LI,null,h.createElement(qI,{htmlFor:"trend-alert-language"},(0,ai.Z)("trendAlertsLanguageLabel")),h.createElement(tA,{text:(0,ai.Z)("trendAlertsLanguageTooltip"),noWrap:!0},h.createElement($I,null))),h.createElement(ux,{id:"trend-alert-language",options:o.ZP.trendAlerts.languagesObject,selected:T,onChange:e=>D(e)}))),h.createElement(OI,{showAll:F,onToggle:M}),O?h.createElement(Qy,{variant:"button",code:"TrendAlertsForm"}):h.createElement(LI,{style:{justifyContent:"flex-end"}},h.createElement(WI,{type:"button",onClick:()=>"function"==typeof p?p():P()},(0,ai.Z)("trendAlertsCancel")),h.createElement(HI,{type:"submit"},(0,ai.Z)("trendAlertsSubmitLabel")))),a?h.createElement(h.Fragment,null,h.createElement(DI,{warning:a,warningMessage:s}),h.createElement(YI,null)):null,h.createElement(MI,{loading:i,searchTerms:v,emailFrequency:b,vphThreshold:w,channelIds:x,category:C,language:T,results:r}))};var GI=__webpack_require__(3311),XI=__webpack_require__.n(GI);const QI=Qn("div",{target:"e1nlb64u2"})(lu," border-radius:12px;background:var(--background-tinted);padding:16px 16px 0;margin:16px 0;"),JI=Qn("div",{target:"e1nlb64u1"})(du," align-items:flex-start;justify-content:center;width:50%;"),eO=Qn("div",{target:"e1nlb64u0"})(hu," align-items:flex-start;padding-bottom:16px;&:first-child{margin-bottom:4px;}"),tO=({alert:e,competitors:t})=>{const n=(e,t,n)=>{const i="categories"===e?o.ZP.categories:o.ZP.trendAlerts[e],r=XI()(i,{key:t});return r&&r.label?r.label:n||"-"},i=(()=>{const n=e.channel_ids||[];return 0===n.length?null:n.map((e=>{const n=XI()(t,{yt_channel_id:e});return n?n.display_name:e}))})(),r=i?i.join(", "):"-",a=e.search_terms?e.search_terms.join(", "):"-";return h.createElement(QI,null,h.createElement(JI,null,h.createElement(eO,null,h.createElement(ru,{fontWeight:"bold"},(0,ai.Z)("trendAlertsFormKeywordsLabel")),h.createElement(ru,null,a||"-")),h.createElement(eO,null,h.createElement(ru,{fontWeight:"bold"},(0,ai.Z)("trendAlertsFormCategoryLabel")),h.createElement(ru,null,n("categories",e.category))),h.createElement(eO,null,h.createElement(ru,{fontWeight:"bold"},(0,ai.Z)("trendAlertsFormCompetitorsLabel")),h.createElement(ru,null,r))),h.createElement(JI,null,h.createElement(eO,null,h.createElement(ru,{fontWeight:"bold"},(0,ai.Z)("trendAlertsFormVphThresholdLabel")),h.createElement(ru,null,n("vphThresholds",e.vph_threshold||0))),h.createElement(eO,null,h.createElement(ru,{fontWeight:"bold"},(0,ai.Z)("trendAlertsFormEmailFrequencyLabel")),h.createElement(ru,null,n("emailFrequencies",e.email_frequency))),h.createElement(eO,null,h.createElement(ru,{fontWeight:"bold"},(0,ai.Z)("trendAlertsFormLanguageLabel")),h.createElement(ru,null,n("languages",e.language)))))},nO=Oo()({displayName:"TrendAlertsPreview",componentDidMount(){hI.getAlert(this.props.alertId)},UNSAFE_componentWillReceiveProps(e){if(e.alertId!==this.props.alertId)return hI.getAlert(e.alertId)},getLabel(e,t,n){const i="categories"===e?o.ZP[e]:o.ZP.trendAlerts[e],r=L().findWhere(i,{key:t});return r&&r.label?r.label:n||"-"},getCompetitorNames(){const e=this.props.alert.trend_alert.channel_ids;if(0===e.length)return["-"];return e.map((e=>{const t=L().findWhere(this.props.competitors,{yt_channel_id:e});return t?t.display_name:e}))},renderResults(){const e=this.props.alert.results.slice(0,o.ZP.trendAlerts.previewLength);return 0===e.length?h.createElement(ru,null,(0,ai.Z)("trendAlertsPreviewNoResults")):e.map(((e,t)=>h.createElement(iy,{key:t,video:e,location:"Trend Alerts",includeVphGraphic:!0})))},renderFooter(){const e=this.getLabel("emailFrequencies",this.props.alert.trend_alert.email_frequency,"soon"),t=this.props.alert.results.length;return 0===t?h.createElement(ru,null,ai.Z.html("trendAlertsPreviewFooterNoResults",[e])):t<=o.ZP.trendAlerts.previewLength?h.createElement(ru,null,ai.Z.html("trendAlertsPreviewFooterFewResults",[t,e])):h.createElement(ru,null,ai.Z.html("trendAlertsPreviewFooterManyResults",[o.ZP.trendAlerts.previewLength,e]))},render(){return this.props.alert?h.createElement("div",null,h.createElement(au,null,(0,ai.Z)("trendAlertsPreviewTitle",[this.props.alert.trend_alert.name])),h.createElement(tO,{alert:this.props.alert.trend_alert,competitors:this.props.competitors}),this.renderResults(),this.renderFooter()):h.createElement(os,{size:"big"})}}),iO=Oo()({displayName:"TrendAlertsResultsContainer",renderNewForm(){const e=this.props.alerts.length>0?()=>hI.selectAlert(this.props.alerts[0].trend_alert_id):void 0;return h.createElement(KI,{initialKeyword:this.props.initialKeyword,competitors:this.props.competitors,loadingLivePreview:this.props.loadingLivePreview,livePreviewResults:this.props.livePreviewResults,warning:this.props.warning,warningMessage:this.props.warningMessage,numAlerts:this.props.alerts.length,formAction:"create",onSubmit:e=>{hI.createAlert(e)},onCancel:e})},renderEditForm(){const e=L().findWhere(this.props.alerts,{trend_alert_id:this.props.selectedAlertId});return h.createElement(KI,{initialState:e,competitors:this.props.competitors,loadingLivePreview:this.props.loadingLivePreview,livePreviewResults:this.props.livePreviewResults,warning:this.props.warning,warningMessage:this.props.warningMessage,numAlerts:this.props.alerts.length,formAction:"update",onSubmit:t=>{hI.updateAlert(e.trend_alert_id,t)},onCancel:()=>hI.selectAlert(e.trend_alert_id)})},render(){return this.props.error===sI.ERROR_UNAUTHENTICATED?h.createElement(CI,{message:(0,ai.Z)("modalErrorUnauthenticatedMessage"),buttonText:(0,ai.Z)("modalErrorUnauthenticatedButton"),buttonHref:Su("https://app.vidiq.com/welcome"),hint:(0,ai.Z)("modalErrorUnauthenticatedHint")}):this.props.error===sI.ERROR_UNKNOWN?h.createElement(CI,{message:(0,ai.Z)("modalErrorUnknownMessage"),buttonText:(0,ai.Z)("modalErrorUnknownButton")}):this.props.editingAlert?this.props.selectedAlertId===sI.NEW_ALERT_ID?this.renderNewForm():this.renderEditForm():h.createElement(nO,{alertId:this.props.selectedAlertId,alert:this.props.alertPreview,competitors:this.props.competitors})}}),rO=iO,aO=({error:e,warning:t,warningMessage:n,loadingAlerts:i,editingAlert:r,savingAlert:a,deletingAlert:o,loadingLivePreview:s,selectedAlertId:l,initialKeyword:c,competitors:u,alerts:d,alertPreview:p,livePreviewResults:f})=>{if(!l)return null;const m=i&&!a&&!o;return e===sI.ERROR_UNAUTHENTICATED?h.createElement(gI,null,h.createElement(pm,null)):e===sI.ERROR_UNKNOWN?h.createElement(gI,null,h.createElement(fm,null)):h.createElement(gI,null,h.createElement(fu,null,h.createElement(mu,null,h.createElement(rO,{warning:t,warningMessage:n,error:e,editingAlert:r,loadingLivePreview:s,selectedAlertId:l,initialKeyword:c,competitors:u,alerts:d,alertPreview:p,livePreviewResults:f})),h.createElement(qy,{width:"340px",minWidth:"340px",alignItems:"flex-start"},h.createElement(vu,{loading:m||o},(0,ai.Z)("trendAlerts")),h.createElement(EI,{alerts:d,selectedAlertId:l,error:e,loading:i}),r?null:h.createElement(fI,{numAlerts:d.length}),h.createElement(mI,{warning:t}))))},oO=new ds.Z("TrendAlertsStore",{_data:{loadingAlerts:!0,editingAlert:!0,savingAlert:!1,deletingAlert:!1,loadingLivePreview:!0,channelId:null,competitors:[],selectedAlertId:sI.NEW_ALERT_ID,initialKeyword:"",alerts:[],alertPreview:null,livePreviewResults:[],warning:null,warningMessage:null,error:null},requestLivePreview(){this.setData({loadingLivePreview:!0})},requestAlerts(){this.setData({loadingAlerts:!0})},selectAlert(e){this.setData({editingAlert:!1,selectedAlertId:e,alertPreview:null,warning:null,warningMessage:null})},editAlert(e){this.setData({editingAlert:!0,selectedAlertId:e,initialKeyword:"",warning:null,warningMessage:null})},newAlertWithInitialKeyword(e,t){this.setData({editingAlert:!0,selectedAlertId:e,initialKeyword:t,warning:null,warningMessage:null})},saveAlert(){this.setData({savingAlert:!0})},deleteAlert(){this.setData({deletingAlert:!0})},receiveChannelId(e){this.setData({channelId:e})},receiveCompetitors(e){this.setData({competitors:e})},receiveLivePreview(e){this.setData({loadingLivePreview:!1,livePreviewResults:e})},receiveAlerts(e){const t=this.data.selectedAlertId,n=t===sI.NEW_ALERT_ID||L().findWhere(e,{trend_alert_id:t});this.setData({loadingAlerts:!1,savingAlert:!1,deletingAlert:!1,selectedAlertId:n?t:sI.NEW_ALERT_ID,...!n&&{editingAlert:!0},alerts:L().sortBy(e,"name"),warning:null})},receiveSavedAlertId(e){this.setData({editingAlert:!1,selectedAlertId:e,alertPreview:null})},receiveAlertPreview(e){this.setData({alertPreview:e})},receiveWarning(e,t){this.setData({savingAlert:!1,deletingAlert:!1,warning:e,warningMessage:t})},receiveError(e){this.setData({loadingAlerts:!1,savingAlert:!1,deletingAlert:!1,error:e})}});oO.dispatchToken=ko.Z.register((e=>{const t=oO,n=sI;switch(e.action){case n.REQUEST_LIVE_PREVIEW:t.requestLivePreview();break;case n.REQUEST_ALERTS:t.requestAlerts();break;case n.SELECT_ALERT:t.selectAlert(e.id);break;case n.EDIT_ALERT:t.editAlert(e.id);break;case n.NEW_ALERT_WITH_INITIAL_KEYWORD:t.newAlertWithInitialKeyword(e.id,e.initialKeyword);break;case n.SAVE_ALERT:t.saveAlert();break;case n.DELETE_ALERT:t.deleteAlert();break;case n.RECEIVE_CHANNEL_ID:t.receiveChannelId(e.channelId);break;case n.RECEIVE_COMPETITORS:t.receiveCompetitors(e.competitors);break;case n.RECEIVE_LIVE_PREVIEW:t.receiveLivePreview(e.results);break;case n.RECEIVE_ALERTS:t.receiveAlerts(e.alerts);break;case n.RECEIVE_SAVED_ALERT_ID:t.receiveSavedAlertId(e.id);break;case n.RECEIVE_ALERT_PREVIEW:t.receiveAlertPreview(e.alert);break;case n.RECEIVE_WARNING:t.receiveWarning(e.warning,e.message);break;case n.RECEIVE_ERROR:t.receiveError(e.error);break;default:return!0}}));const sO=oO,lO=Oo()({displayName:"TrendAlertsView",getInitialState:()=>sO.getData(),componentDidMount(){sO.addChangeListener(this.onStoreChange),this.maybeShowNewAlertForm(),this.state.channelId||hI.getCurrentChannelId().done((e=>{hI.getAlerts(),hI.getCompetitors(e)}))},componentWillUnmount(){sO.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState(sO.getData())},maybeShowNewAlertForm(){var e;const t=null===(e=this.context.passthroughProps)||void 0===e?void 0:e.initialKeyword;t&&hI.newAlertWithInitialKeyword(sI.NEW_ALERT_ID,t)},render(){return h.createElement(aO,this.state)}});lO.contextType=Wl;const cO=lO,uO={vidiqdashboard:{label:(0,ai.Z)("vidiqDashboard"),link:Su("https://app.vidiq.com"),key:"vidiqdashboard",trackingLabel:"vidIQ Dashboard"},channelaudit:{label:(0,ai.Z)("channelAuditTitle"),header:`📊 ${(0,ai.Z)("channelAuditTitle")}`,key:"channelaudit",component:IF,trackingLabel:"Channel Audit",headerExtra:lD},keywordinspector:{label:(0,ai.Z)("keywordInspectorTitle"),header:`🤓 ${(0,ai.Z)("keywordInspectorTitle")}`,key:"keywordinspector",component:oI,trackingLabel:"Keyword Inspector"},videoideas:{label:(0,ai.Z)("dailyIdeasTitle"),header:`💡 ${(0,ai.Z)("dailyIdeasTitle")}`,key:"videoideas",component:XT,trackingLabel:"Daily Ideas",headerExtra:()=>h.createElement(h.Fragment,null,h.createElement(lS,null),h.createElement(QT,null))},mostviewed:{label:(0,ai.Z)("researchMostViewedTitle"),header:`🤓 ${(0,ai.Z)("researchMostViewedTitle")}`,key:"mostviewed",component:$x,trackingLabel:"Most Viewed"},competitors:{label:(0,ai.Z)("competitors"),header:`👀 ${(0,ai.Z)("competitors")}`,key:"competitors",component:pM,trackingLabel:"Competitors"},trendalerts:{label:(0,ai.Z)("trendAlerts"),header:`📈 ${(0,ai.Z)("trendAlerts")}`,key:"trendalerts",component:cO,trackingLabel:"Trend Alerts"},subsanalysis:{label:(0,ai.Z)("subscriberAnalysis"),link:Su("https://app.vidiq.com/subscribers"),key:"subsanalysis",trackingLabel:"Subscriber Analysis"},bulkseo:{label:(0,ai.Z)("bulkSeo"),link:Su("https://app.vidiq.com/bulk-seo"),key:"bulkseo",trackingLabel:"Bulk SEO"},achievements:{label:(0,ai.Z)("achievementsTitle"),header:`🚀 ${(0,ai.Z)("achievementsTitle")}`,key:"achievements",component:Ug,trackingLabel:"Achievements"},accountsettings:{label:(0,ai.Z)("accountSettings"),key:"accountsettings",link:Su("https://app.vidiq.com/account-settings"),trackingLabel:"Account Settings"},academy:{label:(0,ai.Z)("vidiqAcademy"),key:"academy",link:Su("https://app.vidiq.com/academy"),trackingLabel:"vidIQ Academy"},help:{label:(0,ai.Z)("helpCenter"),key:"help",link:"https://support.vidiq.com",trackingLabel:"Help Center"}},dO=[{key:"uncategorized",items:["vidiqdashboard"]},{key:"research",label:(0,ai.Z)("research"),items:["videoideas","keywordinspector","mostviewed","competitors","trendalerts","subsanalysis","academy"]},{key:"optimize",label:(0,ai.Z)("optimize"),items:["bulkseo"]},{key:"performance",label:(0,ai.Z)("measurePerformance"),items:["channelaudit","achievements"]},{key:"account",label:(0,ai.Z)("account"),items:["accountsettings","help"]}];const hO=Qn("div",{target:"e8sw66a0"})({name:"1683rqb",styles:"position:relative;width:1045px;display:flex;flex-flow:column;overflow:hidden;background:var(--background-primary)"}),pO=Qn("div",{target:"e81cdnh0"})("width:100%;font-size:14px;overflow-y:",(e=>"videoideas"===e.type?"hidden":"auto"),";flex:1;.modal-sidebar-items ul{list-style:none;}button.modal-sidebar-item-icon{border:0 none;outline:none;background:transparent;padding:0;}",(e=>("videoideas"===e.key||"keywordinspector"===e.type||"mostviewed"===e.type)&&"\n    display: flex;\n    flex-flow: row;\n    min-height: 0;\n    flex-grow: 1;\n  "),";"),fO=({selectedItem:e})=>{if(!e.component)return null;const t=e.component;return h.createElement(pO,{id:"vidiq-nav-menu-content",type:e.key},t&&h.createElement(t,{forNavMenu:!0,redesign:!0}))},mO=({selected:e,onUpdate:t})=>{const n=(e=>{const[t,n]=(0,h.useState)({width:window.innerWidth,height:window.innerHeight}),i=(0,h.useRef)(yo()((()=>n({width:window.innerWidth,height:window.innerHeight})),e.debounce||300));return(0,h.useEffect)((()=>{n({width:window.innerWidth,height:window.innerHeight})}),[]),(0,h.useEffect)((()=>{const e=i.current;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),t})({debounce:300}),[i,r]=(0,h.useState)(n.width<=1300),[a,o]=(0,h.useState)(!1),s=(0,h.useRef)(null);(0,h.useEffect)((()=>{"function"==typeof t&&t(i)}),[i,t]);const l=(0,h.useCallback)((()=>{const t=n.width<=1300,a=uO[e].trackingLabel;!i&&t?(r(!0),Qo({location:a,expanded:!1})):i&&!t&&(r(!1),Qo({location:a,expanded:!0}))}),[i,e,n]);(0,h.useEffect)((()=>{l()}),[n,l]);const c=(0,h.useCallback)((e=>{s.current&&s.current.contains(e.target)||o(!1)}),[s,o]);(0,h.useEffect)((()=>(i?window.addEventListener("click",c):window.removeEventListener("click",c),()=>{window.removeEventListener("click",c)})),[i,c]);const u=(0,h.useCallback)((()=>{if(!i)return;o(!a)}),[i,a,o]);return{useDropdown:i,dropdownExpanded:a,setDropdownExpanded:o,onClickDropdown:u,sidebarRef:s}},gO=Qn(tc,{target:"e19in5a20"})((()=>({display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"space-between",cursor:"pointer",paddingLeft:"8px",width:"100%",boxSizing:"border-box"})),""),vO=({isSelected:e,noMargin:t,children:n,onClick:i})=>h.createElement(gO,{size:"m",color:e?"var(--blue)":"var(--text-secondary)",margin:t?void 0:"16px 0 0",onClick:i},n),yO=({item:e,selected:t,setSelected:n})=>{const i=(0,h.useMemo)((()=>e.key===t),[e,t]),r=(0,h.useMemo)((()=>"videoideas"===e.key),[e]),a=["vidiqdashboard","subsanalysis","bulkseo","academy"].indexOf(e.key)>=0,o=(0,h.useCallback)((()=>{i||(e.link?window.open(e.link,"_blank"):e.component&&n(e.key))}),[i,e,n]);return h.createElement(vO,{isSelected:i,noMargin:"vidiqdashboard"===e.key,onClick:o},h.createElement("span",null,e.label),r&&h.createElement($l,null),a&&h.createElement(TI,null))},bO=Qn("div",{target:"e1l6wosj0"})("padding:20px 16px 0;display:flex;flex-flow:column;align-items:flex-start;",(e=>"account"===e.type&&"\n  margin-top: 20px;\n  border-width: 1px 0;\n  border-color: var(--border-primary);\n  border-style: solid;\n  padding: 20px 16px;\n"),";"),_O=({type:e,label:t,feedbackLabel:n,trackingLabel:i,itemKeys:r,selected:a,setSelected:o,email:s})=>{const l=!(0,ve.h)().featurePermitted("navMenuSidebar");return h.createElement(bO,{type:e},t&&h.createElement(tc,{size:"m",fontWeight:"600"},t),"account"===e&&h.createElement(h.Fragment,null,s&&h.createElement(tc,{size:"s",margin:"4px 0 0",textOverflow:"ellipsis"},s),l&&h.createElement(vO,null,h.createElement(Qy,{code:"NavMenuSidebar",variant:"link",actionText:(0,mT.Z)("upgrade")}))),r.map((e=>{const t=uO[e];return h.createElement(yO,{key:t.key,item:t,selected:a,setSelected:o})})),"account"===e&&h.createElement(vO,null,h.createElement(oS,{selectorForImage:"#vidiq-nav-menu",feedbackMessageExtra:`Sent from ${i} Feedback`,featureName:n,featureEventName:i})))};function wO(){return wO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wO.apply(this,arguments)}const kO=Qn("div",{target:"ejv58so2"})("font-size:12px;width:210px;background:var(--background-secondary);z-index:999999;display:flex;flex-flow:column;padding:",(e=>e.isDropdown?"0 0 0 12px":"24px 0"),";box-sizing:border-box;overflow-y:auto;",(e=>(!e.isDropdown||e.isDropdownExpanded)&&"border-right: 1px solid var(--border-primary);")," ",(e=>e.isDropdown&&"\n    position: absolute;\n    overflow: hidden;\n  ")," ",(e=>e.isDropdown&&e.isDropdownExpanded&&"\n    overflow-y: auto;\n    border-right: 1px solid var(--border-primary);\n  ")," ",(e=>e.isDropdown&&!e.isDropdownExpanded&&"\n    box-shadow: none;\n    height: 40px;\n  "),";"),xO=Qn("div",{target:"ejv58so1"})("display:flex;align-items:center;font-weight:500;margin:0 16px;",(e=>e.isDropdown&&"\n  position: relative;\n  left: -8px;\n  padding-left: 12px;\n  cursor: pointer;\n  margin-top: 8px;\n  "),";"),EO=Qn("div",{target:"ejv58so0"})((e=>e.isDropdown&&!e.isDropdownExpanded&&"\n  visibility: hidden;\n  height: 0;\n  overflow: hidden;\n  "),";"),CO=({selected:e,setSelected:t,email:n,label:i,trackingLabel:r,onUseDropdownUpdate:a})=>{const{useDropdown:o,dropdownExpanded:s,sidebarRef:l,onClickDropdown:c}=mO({selected:e,onUpdate:a}),u={isDropdown:o,isDropdownExpanded:o&&s};return h.createElement(kO,wO({onClick:c,ref:l},u),h.createElement(xO,u,h.createElement(wu,{margin:"0 8px 0 0"}),h.createElement(tc,{size:"m"},(0,ai.Z)("viewTools")),o&&h.createElement("i",{className:"material-icons"},s?"expand_less":"expand_more")),h.createElement(EO,u,dO.map((a=>h.createElement(_O,{key:a.key,type:a.key,label:a.label,feedbackLabel:i,trackingLabel:r,itemKeys:a.items,setSelected:t,selected:e,email:n})))))},SO=()=>{const{state:e,setSelected:t}=(0,h.useContext)(Wl),{selected:n}=e,[i,r]=(0,h.useState)(!1),a=(0,h.useMemo)((()=>{var e;const t=J.Z.getData();return null==t||null===(e=t.user)||void 0===e?void 0:e.email}),[]),o=(0,h.useCallback)((()=>{const e=document.querySelector(".vidiq-nav-menu-root");if(!e||!e.parentNode)return;const t=n&&uO[n].trackingLabel;Jo({location:t}),Yo.unmountComponentAtNode(e),e.parentNode.removeChild(e),Zc.reset()}),[n]),s=(0,h.useCallback)((e=>{"vidiq-nav-menu-wrapper"===e.target.id&&o()}),[o]);if((0,h.useEffect)((()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="visible"})),[]),!n)return null;const l=uO[n];return h.createElement(Rc,null,h.createElement("div",{id:"vidiq-nav-menu-wrapper",onMouseDown:s},h.createElement("div",{id:"vidiq-nav-menu"},h.createElement(CO,{selected:n,setSelected:t,label:l.label,trackingLabel:l.trackingLabel,email:a,onUseDropdownUpdate:e=>{r(e)}}),h.createElement(hO,null,h.createElement(ac,{type:n,label:l.header,onClose:o,headerExtra:l.headerExtra,headerProps:l.headerProps,usingDropdown:i}),h.createElement(fO,{selectedItem:l})))))},TO=({newSelected:e,passthroughProps:t})=>{const[n,i]=(0,h.useReducer)(Ul,zl),r=(0,h.useCallback)((e=>{i({type:"set_selected",selected:e})}),[]);(0,h.useEffect)((()=>{e&&r(e)}),[e,r]);const a={state:n,setSelected:r,passthroughProps:t};return h.createElement(Wl.Provider,{value:a},h.createElement(SO,null))},DO=({selected:e,launchSource:t,passthroughProps:n})=>{var i;(({feature:e,launchSource:t})=>{ht("rendered navigation modal",{location:(0,be.Z)(),feature:e,"launch source":t,_identify:Ko()})})({feature:null===(i=uO[e])||void 0===i?void 0:i.trackingLabel,launchSource:t}),we.Z.mountComponent({component:TO,selector:"body",rootClass:"vidiq-nav-menu-root",props:{newSelected:e,passthroughProps:n}})};function FO(){const e=document.querySelector("#channel-header-container .ytd-channel-name#text-container");return e?e.innerText.trim():null}async function MO(e,t){const n=t?`https://www.youtube.com/${t}/${e}`:`https://www.youtube.com/${e}`,i=await fetch(n);return await async function(e){if(!e.ok)throw new Error(e.statusText);const t=await e.text();if(!t)throw new Error("HTML not found");const n=t.replace(/\\/g,"").match(/"urlCanonical":"https:\/\/www.youtube.com\/channel\/([^"]+)"/);if(!n||!n[1])throw new Error("Could not find ID in HTML");return n[1]}(i)}async function AO(e,t){if(!e)return null;let n=await async function(e,t){try{return await MO(e,t)}catch(e){return(0,ke.Z)("fetchChannelIdFromUsername > getChannelIdFromChannelPage error:",e),null}}(e,t);return n||(n=await async function(e){try{const{json:t,response:n}=await P.Z.expanded("vidiq.youtubeDataProxy",{type:"channels",params:{part:"id",forUsername:e}});if(!n.ok)throw new Error(n.statusText);const i=t.items[0].id;if(!i)throw new Error("No channel ID found in JSON");return i}catch(e){return(0,ke.Z)("fetchChannelIdFromUsername > getChannelIdFromProxy error:",e),null}}(e),n)}async function IO(){let e;if((0,Ee.Z)())return e=await async function(){const e=window.location.pathname.split("/");return"channel"===e[1]?e[2]:["user","c"].includes(e[1])?await AO(e[2],e[1]):await AO(e[1])}(),e;const t=document.querySelector(".yt-uix-subscription-button");return e=t?t.getAttribute("data-channel-external-id"):null,e}const OO=cs;function NO(){const[e,t]=(0,h.useState)(null),[n,i]=(0,h.useState)(null),[r,a]=(0,h.useState)(null),[o,s]=(0,h.useState)(!1),[l,c]=(0,h.useState)(wS.getData().competitors),u=(0,h.useMemo)((()=>l.find((t=>t.yt_channel_id===e))||null),[l,e]),d=Boolean(u),p=u?u.id:null,f=(0,h.useRef)(window.location.pathname),m=(0,h.useCallback)((()=>{const e=wS.getData();c(e.competitors)}),[]),g=(0,h.useCallback)((async()=>{const e=FO(),n=await IO();i(e),t(n)}),[]);(e=>{const t=(0,h.useContext)(Bl);(0,h.useEffect)((()=>(t.addPathChangeListener(e),()=>t.removePathChangeListener(e))),[t,e])})((e=>{f.current!==e&&/\/(user|channel|c)\/[0-9a-zA-Z-_]+/.test(e)&&(f.current=e,i(null),t(null),g())})),(0,h.useEffect)((()=>{wS.addChangeListener(m),g(),tD.fetchCurrentChannelId().then((e=>{a(e);wS.getData().fetched||LF.fetchCompetitors(e)})).catch((e=>{Me.Z.error("Channel Buttons: fetchCurrentChannelId error",{error:e.toString()})}));const e=document.querySelector("#edit-buttons"),t=new MutationObserver((()=>{s(!!e&&e.children.length>0)}));return e&&(s(!!e&&e.children.length>0),t.observe(e,{childList:!0,subtree:!0})),()=>{wS.removeChangeListener(m),t&&t.disconnect()}}),[m,g]);const v=(0,h.useCallback)((()=>{DO({selected:"competitors",launchSource:"channel competitor buttons"})}),[]),y=(0,h.useCallback)((async()=>{try{if(v(),!r||qF(l.length))return;await LF.addCompetitor(r,e,"channel page")}catch(e){Me.Z.error("Channel Buttons: addCompetitor error",{error:e.toString()})}}),[e,r,l,v]),b=(0,h.useCallback)((async()=>{try{if(v(),!r)return;await LF.removeCompetitor(r,p,"channel page")}catch(e){Me.Z.error("Channel Buttons: removeCompetitor error",{error:e.toString()})}}),[r,p,v]),_=(0,h.useCallback)((()=>{d?b():y()}),[d,b,y]),w=(0,h.useCallback)((()=>{dt("Opened Mass CSV Export modal on channel page"),OO.create({title:`${(0,ai.Z)("csvExportTitle")} (${n})`,innerComponent:hD("MassExport"),innerProps:{channel:{id:e,name:n}}})}),[e,n]);return h.createElement("div",null,e&&n&&h.createElement("button",{className:"vidiq-channel-button",onClick:w,"data-tip-message":(0,ai.Z)("poweredByVidIQ")},h.createElement("span",null,(0,ai.Z)("csvExportTitle")),h.createElement(XF,{size:"small"})),!o&&h.createElement("button",{className:"vidiq-channel-button",onClick:_,"data-tip-message":(0,ai.Z)("poweredByVidIQ")},h.createElement("span",null,d?(0,ai.Z)("dropdownRemoveCompetitor"):(0,ai.Z)("dropdownAddCompetitor")),h.createElement(XF,{size:"small"})))}const PO={fetchChannelRankings(e){const t=new(r().Deferred);return P.Z.expanded("vidiq.rankings",{cid:e}).then((({json:e,response:n})=>{if(!n.ok)return(0,Y.Z)("fetchChannelRankings error >>>",n.status),t.reject();(0,Y.Z)("fetchChannelRankings response >>>",n),t.resolve(e)})),t.promise()},getKeywords(e){const t=new(r().Deferred);return r().get(e).done((e=>{let n,i;if(e=we.Z.unleakString(e.replace(/&quot;/g,'"')),!(0,Ee.Z)())return i=we.Z.unleakStrings(e.match(/"og:video:tag" content="([^"]+)"/g)),t.resolve(L().map(i,(e=>we.Z.convertEntities(e.split('"')[3]))));i=e.match(/\\"keywords\\":\\"([^,]*)\\"/),i&&i[1]||(i=e.match(/"keywords":"([^,]*)"/)),i&&i[1]&&(n=function(e){const t=e.replace(/\\/g,"").replace(/""/g,'"');let n=[];n=[...t.replace(/"[^"]+"/g,"").trim().split(" ")];const i=(t.match(/"([^"]*)"/g)||[]).map((e=>e.trim().replace(/['"]+/g,"")));return n=[...n,...i],n.filter((e=>e.trim().length))}(i[1])),t.resolve(L().map(n,(e=>e.replace(/"/g,""))))})).fail(t.reject),t.promise()},getVideoId(){const e=new(r().Deferred),t=window.location.pathname.split("/").slice(0,3).join("/");return r().get("https://www.youtube.com"+t+"/videos").done((t=>{if((0,Ee.Z)(t)){const n=(t.match(/ytimg\.com\/vi(_webp)?\/([^/]+)/)||[])[2];n?e.resolve(n):e.reject()}else{const n=r()(t).find(".yt-lockup-title a").first().attr("href");if(!n)return e.reject();e.resolve(n.split("=")[1])}})).fail(e.reject),e.promise()},mountTopKeywordsButton(){const e=(0,Ee.Z)()?"#primary-items":".branded-page-v2-subnav-container";go.Z.watch(e).enter((e=>{"videos"===window.location.pathname.split("/")[3]&&we.Z.mountComponent({component:gL,element:e,inline:!0,props:{page:"channel"}})})).leave((()=>{PF.reset()}))},mountAllNew(){go.Z.watch("#channel-header-container:visible").enter((()=>{r()(".channel-keyword-list").remove()}))},mountAllOld(){let e;go.Z.watch(".qualified-channel-title-text a:first").enter((()=>{const t=new RegExp("^/(user|channel)");window.location.pathname.toLowerCase().match(t)&&(e=we.Z.mountComponent({component:NO,selector:".primary-header-actions",rootClass:"vidiq-react vidiq-channel-button-container-old-layout"}),PO.mountTopKeywordsButton())})).leave((()=>{we.Z.unmountComponent(e)}))},resetChannelTabs(){ps.reset(),r()("ytd-two-column-browse-results-renderer.ytd-browse:not(.vidiq-tab-view-container)").show(),r()("#selectionBar").show(),r()(".vidiq-tab-view-container").remove()},watchPage(){const e=new RegExp(/\/(user|channel)\/[0-9a-zA-z]+/);we.Z.onPageChange(e,"pathname",(()=>this.resetChannelTabs()))}};r()(window).one("vidiq:ready",(()=>{(0,Ee.Z)()?PO.mountAllNew():PO.mountAllOld(),PO.watchPage()}));const RO=PO,jO={returns:["channel_keywords"],requires:["channel_username_url"],timeout:!1,fn(e,t){RO.getKeywords("https://www.youtube.com"+this.channel_username_url).done((t=>{const n=t.map((e=>({keyword:e})));e(n)})).fail(t)}},LO={returns:["channel_name"],requires:["watch_page_html","$h","is_new_layout"],fn(){if(this.is_new_layout){return xe(this.watch_page_html).contents.twoColumnWatchNextResults.results.results.contents.find((e=>e.videoSecondaryInfoRenderer)).videoSecondaryInfoRenderer.owner.videoOwnerRenderer.title.runs[0].text}return this.$h.find("#watch-header .yt-user-info a").text()}},qO={returns:["channel_rankings"],requires:["channel_id"],fn(e){RO.fetchChannelRankings(this.channel_id).done((t=>{e(t)})).fail((()=>{e(null)}))}},ZO={strict:!1,returns:["channel_subscribers"],requires:["local_channel_subscribers","channel_growth_stats"],fn(){const e=this.local_channel_subscribers,t=this.channel_growth_stats||{current:{}};return e||t.current.subscribers||null}},BO={returns:["channel","owned","could_own"],requires:["channel_id","is_creator"],fn(e){(0,P.Z)("vidiq.channels").then((t=>{const n=L().filter(t.channels,(e=>[e.user_id,e.channel_id].indexOf(this.channel_id)>=0)),i=(0,ve.h)().getFeatureLimit("addChannel"),r=this.is_creator&&(!L().isNumber(i)||t.channels.length<i);e({channel:n[0],owned:!!n[0],could_own:r})}))}},VO=BO,zO={returns:["channel_url"],requires:["$h"],fn(){const e=this.$h.find(".yt-user-info a");return e.length?"https://www.youtube.com"+e.attr("href"):null}},UO={returns:["channel_username_url"],requires:["channel_id","$h","watch_page_html","is_new_layout"],fn(){return this.is_new_layout?"/channel/"+this.channel_id:this.$h.find(".yt-user-photo").attr("href")}},WO={returns:["channel_views"],requires:["channel_username_url"],fn(e,t){r().get("https://www.youtube.com"+this.channel_username_url+"/about").done((n=>{if((0,Ee.Z)()){const t=n.match(/"viewCountText":[^\]]+"simpleText":"([0-9,]+)/);if(t&&t[1])return e(parseInt(t[1].replace(/[^0-9]+/g,""),10))}else{const t=r()(n).find('.about-stat:contains("views")').text().replace(/[^0-9]+/g,""),i=parseInt(t,10);if(t&&isFinite(i))return e(parseInt(t,10))}return t()})).fail(t)}},HO=WO,YO={strict:!1,returns:["charts"],requires:["pie_chart","views_chart","engagement_rate_chart","vph_chart","engagements_chart"],fn(){return this}},$O={returns:["comments_token"],requires:["watch_page_html","is_new_layout"],fn(){let e=null;if(this.is_new_layout){const t=new RegExp(/itemSectionRenderer":{"continuations":\[{"nextContinuationData":{"continuation":"([^"]+)"/);e=we.Z.unleakStrings(this.watch_page_html.match(t))}else e=we.Z.unleakStrings(this.watch_page_html.match(/COMMENTS_TOKEN[^"]+"([^"]+)/));const t=e?e[1]:null;return t?t.trim():void 0}},KO=$O,GO={returns:["creator_suggested"],requires:["watch_page_html","$h","channel_name","is_new_layout"],fn(){if(this.is_new_layout){const e=xe(this.watch_page_html,!0).match(/longBylineText":{"runs":\[{"text":"([^"]+)"/g);if(!e||L().isEmpty(e))return null;return{value:L().chain(e.slice(1)).map((e=>e.match(/longBylineText":{"runs":\[{"text":"([^"]+)"/)[1])).filter((e=>e===this.channel_name)).value().length,outOf:e.length}}const e=this.channel_name;return{value:this.$h.find("#watch-related span.stat.attribution > span:contains("+e+")").length||0,outOf:this.$h.find("#watch-related li.video-list-item").length}}},XO={returns:["date_published"],requires:["watch_page_html","$h"],fn(){let e=null;const t=this.watch_page_html.match(/publishDate":"([^"]+)/);if(t&&t[1]&&(e=t[1].trim()),!e){const t=this.watch_page_html.replace(/\\/g,"").match(/Published on ([^"]+)"/);t&&t[1]&&(e=t[1].trim())}if(e||(e=this.$h.find('[itemprop="datePublished"]').attr("content")),!e)return null;const n=wt()(e),i=Eo();let r=Intl.DateTimeFormat().format(n);try{r=Intl.DateTimeFormat(i).format(n)}catch(e){}return{raw:n,formatted:r}}},QO={returns:["desc_link_count"],requires:["desc"],fn(){return(this.desc.match(/http(s?):\/\/[\S]+/g)||[]).length}},JO={returns:["desc_word_count"],requires:["desc"],fn(){let e=this.desc.replace(/<[^>]+>/g," ").replace(/ +/g," ").replace(/[\n\r]/g," ").split(" ");return e=L().without(e,""),e.length}};async function eN({watch_page_html:e,video_id:t,is_my_videos:n}){const i=Tl(e);try{var r;if(null!=i&&null!==(r=i.videoDetails)&&void 0!==r&&r.shortDescription)return i.videoDetails.shortDescription;const a=xe(e);if(a&&a.contents)return function(e){const t=e.contents.twoColumnWatchNextResults.results.results.contents,n=t[L().findIndex(t,(e=>e.videoSecondaryInfoRenderer))].videoSecondaryInfoRenderer.description;if(!n)return"";const i=n.simpleText||n.runs;return Array.isArray(i)?L().chain(i).map((e=>{if(e.navigationEndpoint){const t=we.Z.safely((()=>e.navigationEndpoint.commandMetadata.webCommandMetadata.url));if(!t)return"";if(t.includes("/redirect?")){const e=t.match(/\/redirect\?.*q=([^&]+).*/),n=e&&e[1]?e[1]:"";return decodeURIComponent(n)}return`https://www.youtube.com${t}`}return e.text})).value().join(""):i}(a);if(n){const e=await async function(e){const t=`https://www.youtube.com/edit?ar=${(new Date).getTime()}&video_referrer=watch&video_id=${e}`,n=await fetch(t);if(!n||!n.ok)return null;const i=await n.text();if(!i||!i.length)return null;const r=document.createElement("html");r.innerHTML=(0,ns.N)(i);const a=r.querySelector("textarea.video-settings-description");return a?a.value:""}(t);return e}return""}catch(e){return Me.Z.error(new Error("(vidiq) Failed to parse description for scorecard-pipeline"),{error:e,videoId:t}),""}}const tN={returns:["desc"],requires:["watch_page_html","video_id","is_my_videos"],fn(e){eN(this).then((t=>{e(function(e){return e.replace(/href=/g,"___HREF___").replace(/( ?[^ ]+)="[^"]+"/g,"").replace(/___HREF___/g,"href=")}(t))})).catch((t=>{(0,ke.Z)("(vidiq) Failed to parse description for scorecard-pipeline",t),e("")}))}};function nN(e,t,n){let i=[];for(const r in e)e.hasOwnProperty(r)&&("object"==typeof e[r]?i=i.concat(nN(e[r],t,n)):(r==t&&e[r]==n||r==t&&""==n||e[r]==n&&""==t&&-1==i.lastIndexOf(e))&&i.push(e));return i}const iN="defaultText.accessibility.accessibilityData.label",rN={likes:0,dislikes:0};function aN(e){if(null==e)return 0;const t=we.Z.extractNumbers(e);return t.length>0?t[0]:0}function oN(){if(!(this instanceof oN))return oN.prototype.sharedInstance||(oN.prototype.sharedInstance=new oN),oN.prototype.sharedInstance}oN.prototype.cache={},oN.prototype.str2int=(e,t)=>{const n=parseInt((e||"").replace(/[^0-9]/g,""),10);if(isFinite(n))return n;(0,ke.Z)("vidIQ: Could not get "+t+" ("+e+")")},oN.prototype.getLocalLikesDislikes=function(e){let t,n,i,a;e||(e=r()("body"));if(!L().isString(e))return t=e.find(".like-button-renderer-like-button:not(.hid)"),n=e.find(".like-button-renderer-dislike-button:not(.hid)"),i=t.find(".yt-uix-button-content").text(),a=n.find(".yt-uix-button-content").text(),{likes:this.str2int(i,"likes"),dislikes:this.str2int(a,"dislikes")};try{return function(e){const t="string"==typeof e?JSON.parse(e):e;try{const e=nN(t,"targetId","watch-like"),n=nN(t,"targetId","watch-dislike");if(0===e.length&&0===n.length)return rN;let i=null,r=null;for(let t=0;t<e.length;t++)i&&r||(i=ro()(e[t],iN),r=ro()(n[t],iN));return{likes:aN(i),dislikes:aN(r)}}catch(e){return rN}}(xe(e.toString()))}catch(e){Me.Z.error("ytApi: Unable to scrape like data",e)}return{likes:0,dislikes:0}},oN.prototype.getCurrentVideoHtml=function(){const e=new(r().Deferred),t=this,n=this.currentVideoID();return this.html||(this.html={}),this.html[n]?L().defer((()=>{e.resolve(t.html[n])})):r().get(window.location.href,(i=>{t.html[n]=i,e.resolve(i)})),e.promise()},oN.prototype.currentVideoID=()=>{const e=window.location.href.match(/(v|video_id)=([^&#]+)/),t=e?e[2]:null,n=(r()(".watch-page-link a").attr("href")||"").split("/")[3];return t||n},oN.prototype.countViews=(e,t)=>{let n=0;const i=[];let a=null;t?L().each(t,(e=>{isNaN(e)||(n+=e,i.push(e))})):(0,Ee.Z)()?(a=r()("#container.ytd-search a#video-title"),a.each((function(){const e=r()(this).attr("aria-label").match(/([0-9,]+) views/),t=e&&e[1]?parseInt(e[1].replace(/,/g,""),10):0;isNaN(t)||(n+=t,i.push(t))}))):(a=r()(".yt-lockup-meta-info li:nth-child(2)"),a.each((function(){const e=parseInt(this.innerHTML.split(" ")[0].replace(/,/g,""),10);isNaN(e)||(n+=e,i.push(e))})));const o="average"===e?Math.round(n/(a?a.length:L().keys(t).length)):L().max(i);return isFinite(o)?o:0},oN.prototype.newVideos=()=>(0,Ee.Z)()?r()('span.ytd-badge-supported-renderer:contains("New")').length+"/20":r()('.yt-badge:contains("New")').length+"/20",String.prototype.startsWith=function(e){return this.substr(0,e.length)===e},oN.prototype.averageAge=()=>{let e=0,t=0;const n=(0,Ee.Z)()?"span.ytd-video-meta-block":".yt-lockup-meta-info li";if(r()(n+':contains("ago")').each((function(){let n=this.innerHTML.match(/([0-9]+) (.+?) ago/),i=1;if(n)n[2].startsWith("year")?i=525949:n[2].startsWith("month")?i=43829.1:n[2].startsWith("week")?i=10080:n[2].startsWith("day")?i=1440:n[2].startsWith("hour")&&(i=60);else{if(n=[],i=(Date.now()-new Date(this.innerHTML,1,1,1,1,1,1).getTime())/6e4,!i)return;n[1]=1}e+=parseInt(n[1],10)*i,t+=1})),e/=t,!L().isFinite(e))return"N/A";let i;return i=e>525949?[Math.round(e/525949),"YEAR"]:e>43829.1?[Math.round(e/43829.1),"MONTH"]:e>10080?[Math.round(e/10080),"WEEK"]:e>1440?[Math.round(e/1440),"DAY"]:e>60?[Math.round(e/60),"HOUR"]:[Math.round(e),"MINUTE"],i[0]>1?i[0]+" "+i[1]+"S":i[0]+" "+i[1]},oN.prototype.timesInTitles=e=>{let t=0;e=(e||"").toLowerCase().replace(/\+/," ");const n=(0,Ee.Z)()?"a#video-title":".yt-lockup-title > [class]";return r()(n).each((function(){t+=this.innerHTML.toLowerCase().indexOf(e)>-1?1:0})),t+"/20"},oN.prototype.timesInSearch=e=>{let t=0;e=(e||"").toLowerCase().replace(/\+/," ");const n=(0,Ee.Z)()?"yt-formatted-string#description-text":".yt-lockup-description";return r()(n).each((function(){t+=this.innerHTML.toLowerCase().indexOf(e)>-1?1:0})),t+"/20"},oN.prototype.cc=()=>(0,Ee.Z)()?r()("span.ytd-badge-supported-renderer:contains('CC')").length+"/20":r()('.yt-badge:contains("CC")').length+"/20";const sN={returns:["duration","duration_sec"],requires:["watch_page_html","$h","is_new_layout","studio_video_object"],fn(){let e=null;if(this.is_new_layout){let t=this.watch_page_html.match(/\\"approxDurationMs\\":\\"([^\\]+)\\"/);if(t&&t[1]){const n=parseInt(t[1],10);e=Math.floor(n/1e3)}if(e||(t=this.watch_page_html.match(/"lengthSeconds":"([^"]+)"/),e=t&&t[1]?parseInt(t[1],10):null),!e){const t=ro()(this,"studio_video_object.videos[0]",null);t&&t.lengthSeconds&&(e=parseInt(t.lengthSeconds,10))}}else{const t=this.$h.find('meta[itemprop="duration"]').attr("content");if(t){const n=t.replace(/(PT|S)/g,"").replace(/M|H/,",").split(",");e=60*oN().str2int(n[0],"duration minutes")+oN().str2int(n[1],"duration seconds")}}return null==e||isNaN(e)?null:{duration:we.Z.sec2time(e),duration_sec:e}}},lN=sN;var cN=__webpack_require__(129),uN=__webpack_require__.n(cN);const dN=e=>{const t=(e.match(/<h3 class="r"><a href="(.*?)"/g)||[]).map((e=>{let t=e.substring('<h3 class="r"><a href="'.length,e.length-1);return"/url"===t.substr(0,4)&&(t=decodeURIComponent(t.substr(t.indexOf("http")))),$v.htmlDecode(t)})),n=(e.match(/<h3[^>]*><a[^>]*rwt\([^>]*event\)[^>]*>(?!Cached|Trans)(.*?)<\/a>/g)||[]).map((e=>(e=>(e||"").replace(/<br( \/)?>/g,"\n").replace(/<[^>]+>/g,""))(e.replace(/<h3[^>]*><a[^>]*>/,"").replace(/<\/a>/,""))));let i;try{i=e.match(/About [0-9,]+ result/).pop().match(/\d/g).join("")}catch(e){}const r=t.map(((e,t)=>({title:n[t],url:e}))),a=parseInt(i,10);return{results:r,resultCount:isFinite(a)?a:0}},hN={returns:["embedded_locations"],requires:["video_id"],fn(e){(0,P.Z)("google.search",{vid:this.video_id,embed:!0}).then((t=>e(dN(t))))}},pN={returns:["embedded_views"],requires:["insight_playback_location"],fn(){return(L().findWhere(this.insight_playback_location,{insightPlaybackLocationType:"EMBEDDED"})||{}).views||null}};var fN=__webpack_require__(6968),mN=__webpack_require__.n(fN);function gN(e,t){const n=JSON.stringify(e);return Object.entries(t).reduce(((e,[t,n])=>e.replace(new RegExp(t,"g"),n)),n)}const vN=async e=>{const t=await Ks.getDataForRequest(),n=`https://studio.youtube.com/youtubei/v1/creator/get_creator_endscreens?alt=json&key=${t.apiKey}`,i=function(e,t){const n=J.Z.getData().ytcfg;if(!n||"youtube"===(null==n?void 0:n.CSI_SERVICE_NAME))throw new Error("Failed to load config, please try again after refreshing the page");return gN({context:{client:Vs(As),request:Vs(Is),user:{delegationContext:n.DELEGATION_CONTEXT,onBehalfOfUser:n.DELEGATED_SESSION_ID,serializedDelegationContext:n.INNERTUBE_CONTEXT_SERIALIZED_DELEGATION_CONTEXT},clientScreenNonce:n["client-screen-nonce"]},encryptedVideoIds:[t]},e)}(t.payloadKeys,e);return Ks.makeRequest(`getEndscreens${e}`,[n,t.authHeader,t.authUser,i])},yN=async(e,t,n)=>{const i=await Ks.getDataForRequest(),r=`https://studio.youtube.com/youtubei/v1/video_editor/edit_video?alt=json&key=${i.apiKey}`,a=function(e,t,n,i){const r=J.Z.getData().ytcfg;if(!r||"youtube"===(null==r?void 0:r.CSI_SERVICE_NAME))throw new Error("Failed to load config, please try again after refreshing the page");return gN({context:{client:Vs(As),request:Vs(Is),user:{delegationContext:r.DELEGATION_CONTEXT,onBehalfOfUser:r.DELEGATED_SESSION_ID,serializedDelegationContext:r.INNERTUBE_CONTEXT_SERIALIZED_DELEGATION_CONTEXT},clientScreenNonce:r["client-screen-nonce"]},externalVideoId:t,endscreenEdit:{endscreen:{startMs:n,elements:i,encryptedVideoIds:t,responseStatus:{statusCode:"CREATOR_ENTITY_STATUS_OK"}}}},e)}(i.payloadKeys,e,t,n);if("EDIT_EXECUTION_STATUS_DONE"!==(await Ks.makeRequest("saveEndscreens",[r,i.authHeader,i.authUser,a])).executionStatus)throw new Error("Failed to submit endscreens")},bN={returns:["endscreens"],requires:["watch_page_html","studio_video_object"],fn(e){try{const n=ro()(this,"studio_video_object.videos[0]",null);if(n&&"VIDEO_PRIVACY_PRIVATE"===n.privacy)vN(n.videoId).then((t=>{const n=ro()(t,"endscreens[0].elements",[]).length;return e(n)})).catch((()=>{e(0)}));else{const n=this.watch_page_html.match(/"endscreenElementRenderer"/g);if(Array.isArray(n))return e(n.length);{var t;const n=Tl(this.watch_page_html),i=(null===(t=ro()(n,"endscreen.endscreenRenderer.elements"))||void 0===t?void 0:t.length)||0;e(i)}e(0)}}catch(t){e(0)}}},_N={returns:["engagement_rate","engagement_rate_percent","engagement_rate_literal"],requires:["engagements","views"],fn(){const e=this.views||0,t=this.engagements/e;let n=Math.min(t,.15);isFinite(n)||(n=0);const i=[.01,.02,.05,.1,.15],r=i.reduce(((e,t,i)=>void 0!==e?e:n<=t?i:void 0),void 0),a=i[r-1]||0,o=i[r];return{engagement_rate:r,engagement_rate_percent:(r+(n-a)/(o-a))/i.length,engagement_rate_literal:t}},enum:"bad average good great incredible".split(" ")},wN=Oo()({displayName:"EngagementRateContents",render(){const e={backgroundPositionY:20*-(4-this.props.value)};return h.createElement("div",{className:"vidiq-engagement-rate-contents",style:e,title:_N.enum[this.props.value]})}}),kN=wN,xN=we.Z.keyMirror(["UPDATE","ADD_KEYWORD","REQUEST_DATA","REQUEST_LIMITED_DATA","RERUN_TASKS"],"VIDEO_COMPANION");class EN extends ds.Z{constructor(){var e,t,n;super("VideoCompanionStore",{_data:{activeTab:ye.Z.getItem("vc_active_tab")||"stats",collapsed:ye.Z.getItem("vc_collapsed")||!1,videoId:void 0,data:{endscreens:0,owned:!1}}}),n=void 0,(t="vsm")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}createVsm(){(0,Y.Z)("VideoCompanionStore -- creating new VSM");const e={video_id:this.data.videoId};this.vsm=lL({getData:()=>e,mergeData:t=>{if(e.video_id!==this.data.videoId)return;L().extend(e,this.data.data,t);const n=this.data.videoId;setTimeout((()=>{FN.update({data:e},n)}),0)}})}}const CN=new EN;CN.dispatchToken=ko.Z.register((e=>{const t=CN,n=xN;switch(e.action){case n.UPDATE:{if(e.forVideo&&e.forVideo!==t.data.videoId)return void(0,Y.Z)('VideoCompanionStore -- rejecting old video id "'+e.forVideo+'; current id is "'+t.data.videoId+'"');let n=!1;e.payload.videoId&&t.data.videoId!==e.payload.videoId&&(n=!0,t.data.data={endscreens:0,owned:!1}),L().extend(t.data,e.payload),n&&(t.vsm&&((0,Y.Z)("VideoCompanionStore -- stopping old VSM"),t.vsm.stop()),t.createVsm()),ye.Z.setItem("vc_active_tab",t.data.activeTab),ye.Z.setItem("vc_collapsed",t.data.collapsed),t.emitChange(),c3.dispatch((i=t.data.data,{type:_a,payload:i}));break}case n.REQUEST_DATA:{if(!t.vsm)break;const e=VN,n=BN;(0,Y.Z)("VideoCompanionStore -- Request data"),t.vsm.requestMany(L().pluck(e,"key").concat(n));break}case n.REQUEST_LIMITED_DATA:if(!t.vsm)break;(0,Y.Z)("VideoCompanionStore -- Request limited data"),t.vsm.requestMany(["title","channel_id","channel_name"]);break;case n.ADD_KEYWORD:{const n=e.payload,i=(t.data.data.keyword_data||[]).concat([n]),r=(t.data.data.keywords||[]).concat([n.keyword]);t.data.data.keyword_data=i,t.data.data.keywords=r,t.emitChange();break}case n.RERUN_TASKS:t.vsm&&t.vsm.rerun(e.payload)}var i}));const SN=CN,TN=(e,t)=>{const n=SN.getData();ht(e,Object.assign({"video id":n.videoId,"video name":n.data.title,"channel id":n.data.channel_id},t||{}))},DN={update(e,t){ko.Z.dispatch({payload:e,action:xN.UPDATE,forVideo:t})},requestData(){ko.Z.dispatch({action:xN.REQUEST_DATA})},requestLimitedData(){ko.Z.dispatch({action:xN.REQUEST_LIMITED_DATA})},ignoreAuthPrompt(){ye.Z.setItem("video_page_auth_prompt",!1),this.rerunTasks(["show_dummy"])},ignorePrivateStatsPrompt(){ye.Z.setItem("video_page_private_stats_prompt",!1),this.rerunTasks(["show_dummy"])},rerunTasks(e){ko.Z.dispatch({payload:e,action:xN.RERUN_TASKS})},toggleCollapsed(){const e=!SN.getData().collapsed;this.update({collapsed:e}),TN(e?"minimized scorecard":"expanded scorecard",{_identify:{set:{"scorecard minimized":e}}})},addKeyword(e,t){const n=SN.getData();if(!e||!e.keyword)return;if(!n.videoId||!n.data.channel_id)return;const i=(0,ve.h)().getChannelToken(n.data.channel_id);(0,P.Z)("vidiq.addTag",{vid:n.videoId,token:i,tags:{[n.videoId]:[e.keyword]}}).then((()=>{"REC"===t&&_M(e.keyword,n.videoId),ko.Z.dispatch({payload:e,action:xN.ADD_KEYWORD})}))}};L().bindAll(DN,"toggleCollapsed","addKeyword","requestData","update");const FN=DN;class MN extends h.Component{loadingSpinner(){return h.createElement(os,{classes:"vidiq-popup-spinner",size:"small"})}render(){const e=Fo()("button","facebook-auth-button",this.props.classes),t=this.props.text||(0,ai.Z)("facebookAuthTitle");return h.createElement("a",{href:Su("https://app.vidiq.com/account/settings/facebook"),target:"_blank",rel:"noopener noreferrer",disabled:this.props.isPolling,className:e,onClick:this.props.onClick},this.props.isPolling?this.loadingSpinner():t)}}const AN=MN,IN=new ds.Z("FacebookIntegrationStore",{_data:{integration:null,targetPage:null,loading:!1,loaded:!1,error:!1,authed:null},isAuthed(){return this.data.authed&&this.data.loaded&&!this.data.error},fetchIntegration(){(0,Y.Z)("FacebookIntegrationStore#fetchIntegration > START"),this.setData({loading:!0,error:!1}),(0,ve.h)().getIntegration("facebook").then((e=>{(0,ve.h)().getCurrentChannel(!0).then((t=>{(0,Y.Z)("FacebookIntegrationStore#fetchIntegration SUCCESS >",e);const n=e&&t?L().findWhere(e.pages,{id:t.facebook_page_id}):null;let i;e&&e.access_token_expires_at&&(i=new Date(e.access_token_expires_at));const r=i&&new Date>i,a=!(!e||!e.valid_oauth_scopes||r);this.setData({integration:e,targetPage:n,loading:!1,loaded:!0,error:!1,authed:a})}))})).catch((e=>{(0,Y.Z)("FacebookIntegrationStore#getIntegration FAIL >",e),this.setData({loading:!1,error:!0})}))},ensureFetched(){return this.data.loaded||this.data.loading?!this.data.loading:((0,Y.Z)("FacebookIntegrationStore#ensureFetched > START"),this.fetchIntegration(),!1)},ensureFetchedPromise(){const e=new(r().Deferred);if(this.ensureFetched())e.resolve(this.data);else{const t=n=>{null!==n.authed&&(e.resolve(n),this.removeChangeListener(t))};this.addChangeListener(t)}return e.promise()},markUnauthed(){this.setData({authed:!1})}});function ON(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class NN extends h.Component{constructor(e){super(e),ON(this,"pollingInterval",null),ON(this,"onClick",(()=>{this.setState({isPolling:!0}),ht("clicked on authenticate with facebook ",{via:"extension"}),this.pollingInterval=setInterval((()=>{IN.fetchIntegration()}),2e3)})),this.state={isPolling:!1}}componentWillUnmount(){this.pollingInterval&&clearInterval(this.pollingInterval)}componentDidUpdate(e){!e.authed&&this.props.authed&&(FN.rerunTasks(["fb_reactions","fb_comments","fb_shares"]),this.setState({isPolling:!1},(()=>{this.pollingInterval&&clearInterval(this.pollingInterval)})))}render(){return IN.isAuthed()?this.props.children:h.createElement("div",null,this.props.children,h.createElement("div",{className:"fb-stat-box-auth"},h.createElement("p",null,ai.Z.html("facebookGetMoreStats"),h.createElement("b",{"data-tip-message":(0,ai.Z)("facebookApiChanges")},"?")),h.createElement(AN,{isPolling:this.state.isPolling,classes:"vidiq-button",onClick:this.onClick,text:(0,ai.Z)("authFacebookTitle")})))}}const PN=ug(NN,IN);function RN(e,t,n){if(n&&n.change)return(0,ai.Z)("channelGrowthTooltip",[ge()(n._comparison).format("0,0")])}const jN="YYYY-MM-DD",LN=[{keys:["vidiq_score"]},{keys:["vph"]},{keys:["views"]},{keys:["subs_driven","percent_sub_views"]},{keys:["organic_views"],inline:!0},{keys:["avg_view_time","duration"]}],qN=[{key:"title",label:(0,ai.Z)("title")},{key:"keywords",label:(0,ai.Z)("tags")},{key:"desc",label:(0,ai.Z)("description")},{key:"cards",label:(0,ai.Z)("cardsStatLabel")},{key:"endscreens",label:(0,ai.Z)("endScreens")},{key:"highres_thumbnail",label:(0,ai.Z)("highresThumbnail")},{key:"seo_checklist_closed_captions",label:(0,ai.Z)("checklistCC")},{key:"seo_checklist_replied_comment",label:(0,ai.Z)("checklistComment")},{key:"seo_checklist_shared_facebook",label:(0,ai.Z)("sharedOnFacebook")},{key:"monetization",label:(0,ai.Z)("checklistMoney")},{key:"added_to_playlist",label:(0,ai.Z)("checklistPlaylist")},{key:"status",label:(0,ai.Z)("public")}],ZN=[{keys:["engagement_rate"],popover:"VC_EngagementRatePopover",popoverConfig:{align:"left"}},{keys:["yt_likes","yt_comments"],multi:!0},{keys:["fb_likes","fb_reactions","fb_comments","fb_shares"],hook:e=>h.createElement(PN,{},e),multi:!0},{keys:["reddit_likes","reddit_comments","reddit_posts"]},{keys:["twitter_followers"]},{keys:["instagram_followers"]},{keys:["facebook_followers"]}],BN=["insight_traffic_ext","insight_top_embeds","insight_traffic_yt_search","insight_traffic_yt_suggested","suggested_video_referrer_details","top_countries","top_devices","tweet_list","charts","historical_csv","channel_keywords","topics","channel_name","channel_id"],VN=[{key:"thumbnail"},{key:"views_after_publish"},{key:"views_after_publish_done"},{key:"topics"},{key:"channel_icon"},{key:"views"},{key:"duration"},{key:"desc_word_count",tooltip:(0,ai.Z)("descWordCountTooltip")+" "+(0,ai.Z)("vidiqGeneratedMetric")},{key:"desc_link_count"},{key:"words_per_minute"},{key:"yt_likes"},{key:"yt_comments"},{key:"keyword_recs"},{key:"engagement_dist"},{key:"channel_views",label:"total views"},{key:"avg_daily_subs",tooltip:(0,ai.Z)("basedOnLast30Days")},{key:"avg_daily_views",tooltip:(0,ai.Z)("basedOnLast30Days")},{key:"channel_country",size:"smaller"},{key:"subscriber_rank"},{key:"view_rank"},{key:"twitter_followers"},{key:"instagram_followers"},{key:"facebook_followers"},{key:"fb_likes",approx:!0,tooltip(e,t){const n=t.views;if(!(n<1e3))return e/n>=.01?(0,ai.Z)("fbLikesTooltipPopular"):(0,ai.Z)("fbLikesTooltipUnpopular")}},{key:"fb_reactions"},{key:"fb_comments"},{key:"fb_shares"},{key:"creator_suggested",labelImage:"stat-creator-suggested.png",channelIcon:!0,tooltip:(0,ai.Z)("creatorSuggestedTooltip")+" "+(0,ai.Z)("vidiqGeneratedMetric")},{key:"endscreens",tooltip:(0,ai.Z)("endScreens")},{key:"reddit_comments",url:"reddit_url"},{key:"reddit_posts",url:"reddit_url"},{key:"reddit_likes",label:"reddit upvotes",url:"reddit_url"},{key:"channel_subscribers",label:"subscribers"},{key:"engagement_rate",body:({value:e})=>h.createElement(kN,{value:e})},{key:"num_google_traffic_sources",labelImage:"stat-referrers.png",channelIcon:!0,tooltip:(0,ai.Z)("referrersTooltip")+" "+(0,ai.Z)("vidiqGeneratedMetric")},{key:"vidiq_score",label:(0,ai.Z)("vidiqScoreStatLabel"),score:!0,outOf:100,tooltip:(0,ai.Z)("vidiqScoreTooltip")},{key:"seo_score",label:(0,ai.Z)("seoScoreStatLabel"),outOf:100,score:!0,size:"bigger"},{key:"vph",label:"views per hour",include:"VC_SpeedometerWrapper",hideZero:!0,tooltip(e,t){const n=t.average_vph,i=we.Z.numbro(n,{thousands:!0}),r=we.Z.numbro(e,{thousands:!0}),a=e-n,o=we.Z.numbro(Math.abs(a),{thousands:!0});let s=!1;return 0!==a&&"0"!==o||(s=!0),"average"===t.vph_method||s?(0,ai.Z)("vphTooltipSimple",[r]):a>0?(0,ai.Z)("vphTooltipDetailedBigger",[r,o,i]):(0,ai.Z)("vphTooltipDetailedSmaller",[r,o,i])}},{key:"subs_driven",private:!0},{key:"percent_sub_views",label:"sub views",private:!0,percent:!0,tooltip:(0,ai.Z)("subViewsTooltip")},{key:"organic_views",labelImage:"stat-organic-views.png",private:!0,percent:!0,tooltip:(0,ai.Z)("organicViewsTooltip")},{key:"avg_view_time",private:!0,percent:!0,tooltip:e=>e<.3?(0,ai.Z)("watchTimeLow"):e<.7?(0,ai.Z)("watchTimeAverage"):e<.85?(0,ai.Z)("watchTimeGood"):(0,ai.Z)("watchTimeIncredible")},{key:"referred_views",private:!0},{key:"embedded_views",label:"embed views",private:!0},{key:"yt_search_views",private:!0},{key:"suggested_views",private:!0},{key:"recent_channel_views",labelFn:e=>(0,ai.Z)("recentChannelViewsStatLabel",[e.period]),tooltip:RN},{key:"recent_channel_subs",labelFn:e=>(0,ai.Z)("recentChannelSubsStatLabel",[e.period]),tooltip:RN},{key:"status"},{key:"seo_checklist_closed_captions"},{key:"highres_thumbnail"},{key:"seo_checklist_replied_comment"},{key:"seo_checklist_shared_facebook"},{key:"monetization"},{key:"added_to_playlist"}],zN=["yt_likes","yt_comments","fb_likes","fb_reactions","fb_comments","fb_shares","tweets","reddit_likes"],UN=["comments","likes","dislikes","shares","facebook_likes","facebook_shares","facebook_comments","tweets","reddit_count","reddit_posts","reddit_comments"],WN=[{label:(0,ai.Z)("ytCommentsStatTitle"),color:"#cf2000"},{label:(0,ai.Z)("ytLikesStatTitle"),color:"#cf2000"},{label:(0,ai.Z)("ytDislikesStatTitle"),color:"#cf2000"},{label:(0,ai.Z)("ytSharesStatTitle"),color:"#cf2000"},{label:(0,ai.Z)("fbLikesStatTitle"),color:"#09509c"},{label:(0,ai.Z)("fbSharesStatTitle"),color:"#09509c"},{label:(0,ai.Z)("fbCommentsStatTitle"),color:"#09509c"},{label:(0,ai.Z)("tweets"),color:"#399ac5"},{label:(0,ai.Z)("redditUpvotesStatTitle"),color:"#fc5100"},{label:(0,ai.Z)("redditPostsStatTitle"),color:"#fc5100"},{label:(0,ai.Z)("redditCommentsStatTitle"),color:"#fc5100"},{label:(0,ai.Z)("googlePlusStatTitle"),color:"#6f6f6f"}],HN=zN,YN={strict:!1,returns:["engagement_dist"],requires:["engagements"].concat(HN),fn(){return L().chain(HN).reduce((function(e,t){const n=t.split("_")[0];e[n]||(e[n]=0);let i=this[t];return i&&isFinite(i)||(i=0),e[n]+=i,e}),{},this).map((function(e,t){let n=this.engagements||0;isFinite(n)||(n=0);let i=e/n;return isFinite(i)||(i=0),[t,i]}),this).object().value()}},$N=YN,KN={returns:["engagement_rate_chart"],requires:["historical"],fn(){const e=rL(this.historical,"true_engagement");return L().isEmpty(e)?[]:[{values:e,area:!0,key:(0,ai.Z)("engagementRateTitle")}]}},GN=KN,XN=UN,QN=WN,JN={returns:["engagements_chart"],requires:["historical"],fn(){const e=this.historical;let t=0;const n=L().map(XN,((n,i)=>{const r=QN[i];let a=0;return{values:L().map(e,(e=>{let i=e[n];return i?(t+=i,a=i):i=a,[new Date(e.created_at).getTime(),i]})),key:r.label,color:r.color}}));return t>0?n:[]}},eP=JN,tP=zN,nP={strict:!1,returns:["engagements"],requires:tP,fn(){const e=L().reduce(tP,(function(e,t){let n=this[t]||0;return L().isNumber(n)||(n=parseInt(n,10)),isFinite(n)||(n=0),e+n}),0,this);return e}},iP=nP;const rP=function(e){return e/1e3*1.5},aP={returns:["estimated_monthly_revenue"],requires:["recent_channel_views"],fn(){const e=this.recent_channel_views.value;if(!(e<0))return rP(e)}},oP={returns:["facebook_followers"],requires:["social_media_links"],fn(e,t){const n=this.social_media_links.facebook;n?(0,P.Z)("facebook.any",{path:n}).then((i=>{const r=i.match(/<div class="_4bl9"><div>([^<]+)<\/div><\/div>/g);let a=r?r[1]:null;a?(a=a.replace(/<\/?div[^>]*>/g,""),a=parseInt(a.replace(/,/g,""),10),!a||L().isNaN(a)?t():e({value:a,name:n,link:"https://facebook.com/"+n})):t()})):t()}},sP=oP,lP={getEngagementStats(e){const t=`https://www.youtube.com/watch?v=${e=e.split("&")[0]}`;return(0,P.Z)("vidiq.facebookUrlStats",{url:t}).then((e=>("facebook_oauth_error"===e.error&&IN.markUnauthed(),e)))},getLikes(e){const t="www.youtube.com",n=`https://${t}/watch?v=${e=e.split("&")[0]}`;return(0,P.Z)("facebook.likes",{domain:t,href:n}).then((e=>{try{const t=e.match(/>[^><0-9]+([0-9]+[A-Z]?).*like this/);if(!t)return 0;const n=t[1],i=n.slice(-1).toLowerCase(),r="k m b".split(" ");let a=parseFloat(n.replace(/[^0-9.]/g,""),10);return a*=Math.max(Math.pow(10,3*(r.indexOf(i)+1)),1),a}catch(e){return 0}}))}},cP={returns:["fb_reactions","fb_comments","fb_shares"],requires:["video_id"],timeout:1e4,fn(e,t){IN.ensureFetchedPromise().then((()=>{if(!IN.isAuthed())return t();lP.getEngagementStats(this.video_id).then((n=>n.error?t():e({fb_reactions:n.reaction_count||0,fb_comments:n.comment_count||0,fb_shares:n.share_count||0})))}))}},uP={returns:["fb_likes"],requires:["video_id"],fn(e){lP.getLikes(this.video_id).then((t=>e(t||0)))}},dP={returns:["google_embed_sources"],requires:["video_id"],fn(e){(0,P.Z)("google.search",{vid:this.video_id,embed:!0}).then((t=>e(dN(t))))}},hP={returns:["google_traffic_sources"],requires:["video_id"],fn(e){(0,P.Z)("google.search",{vid:this.video_id}).then((t=>{e(dN(t))}))}},pP={returns:["highres_thumbnail"],requires:["video_id"],fn(e){const t=new Image;t.src=`https://i.ytimg.com/vi/${this.video_id}/maxresdefault.jpg`,t.onload=()=>{e(t.naturalHeight>=720&&t.naturalWidth>=1280)}}},fP={returns:["historical_csv"],requires:["historical"],fn(){const e=L().map(this.historical,(e=>L().omit(e,"recorded_at","record_id")));let t=L().keys(e[0]);t=["created_at"].concat(L().without(t,"created_at"));const n=gS.csv(e,t);return gS.csv2url(n)}};const mP={returns:["historical"],requires:["video_id"],fn(e){(0,P.Z)("vidiq.youtubeVideoScores",{vid:this.video_id}).then((t=>{if(0===Object.keys(t).length)return e([]);e(function(e){let t=null;const n=L().map(e.values,(t=>L().object(L().map(t,((t,n)=>[e.keys[n],t])))));return L().compact(n.map(((e,i)=>{if(null===e.views)return null;if(n[i+1]&&n[i+1].views<e.views)return null;if(e.views<t)return null;t=e.views;const r=["_id","chan_id","recorded_at"];return L().extend(L().object(L().map(e,((e,t)=>{if(r.indexOf(t)<0&&null!==e){const t=parseFloat(e,10);e=isFinite(t)?t:null}return[t,e]}))),{created_at:new Date(1e3*e.recorded_at).toString()})})))}(t))}))}},gP=mP,vP=async e=>{const t=`https://www.youtube.com/watch?v=${e}&ucbcb=1`,n=await fetch(t,{credentials:"omit"});if(!n.ok)throw new Error;return await n.text()},yP=async e=>(0,P.Z)("youtube.watch",{videoId:e}),bP={returns:["watch_page_html","$h","is_new_layout"],requires:["video_id"],timeout:!1,fn(e,t){const n="www.youtube.com"===window.location.host?vP:yP;let i;const a=async a=>{let o;try{o=await n(this.video_id)}catch(e){i(a)}if((0,Ee.Z)(o)){const t=document.createElement("template");void 0===o&&(o=""),t.innerHTML=(0,ns.N)(o.trim());const n=t.content.childNodes;e({watch_page_html:o,$h:r()(n),is_new_layout:!0})}else{const n=r()(o);if(n.find("#player-unavailable:not(.hid)").length>0)return t();if(0===n.find("#content").length)return i(a);e({watch_page_html:o,$h:n,is_new_layout:!1})}};i=e=>{if(e&&e>=5)return t();setTimeout((()=>{a((e||0)+1)}),1e3)},a()}},_P=bP,wP=jN,kP={returns:["insight_playback_location"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("insight_playback_location",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views",dimensions:"insightPlaybackLocationType",filters:"video=="+this.video_id,startDate:wt()(this.start_date).format(wP),endDate:wt()(this.end_date).format(wP)}}).then(e).catch(t))}},xP=kP,EP=jN,CP={returns:["insight_top_embeds"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("insight_top_embeds",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views,estimatedMinutesWatched",sort:"-views",dimensions:"insightPlaybackLocationDetail",filters:"insightPlaybackLocationType==EMBEDDED;video=="+this.video_id,startDate:wt()(this.start_date).format(EP),endDate:wt()(this.end_date).format(EP),maxResults:25}}).then(e).catch(t))}},SP=CP,TP=jN,DP={returns:["insight_traffic_ext"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("insight_traffic_ext",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views,estimatedMinutesWatched",sort:"-views",dimensions:"insightTrafficSourceDetail",filters:"insightTrafficSourceType==EXT_URL;video=="+this.video_id,startDate:wt()(this.start_date).format(TP),endDate:wt()(this.end_date).format(TP),maxResults:25}}).then(e).catch(t))}},FP=DP,MP=jN,AP={returns:["insight_traffic"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("insight_traffic",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views",sort:"-views",dimensions:"insightTrafficSourceType",filters:"video=="+this.video_id,startDate:wt()(this.start_date).format(MP),endDate:wt()(this.end_date).format(MP)}}).then(e).catch(t))}},IP=AP,OP=jN,NP={returns:["insight_traffic_yt_search"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("insight_traffic_yt_search",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views,estimatedMinutesWatched",sort:"-views",dimensions:"insightTrafficSourceDetail",filters:"insightTrafficSourceType==YT_SEARCH;video=="+this.video_id,startDate:wt()(this.start_date).format(OP),endDate:wt()(this.end_date).format(OP),maxResults:25}}).then(e).catch(t))}},PP=NP,RP=jN,jP={returns:["insight_traffic_yt_suggested"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("insight_traffic_yt_suggested",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views,estimatedMinutesWatched",sort:"-views",dimensions:"insightTrafficSourceDetail",filters:"insightTrafficSourceType==RELATED_VIDEO;video=="+this.video_id,startDate:wt()(this.start_date).format(RP),endDate:wt()(this.end_date).format(RP),maxResults:25}}).then(e).catch(t))}},LP=jP,qP={returns:["instagram_followers"],requires:["social_media_links"],fn(e,t){const n=this.social_media_links.instagram;n?(0,P.Z)("instagram.any",{path:n}).then((i=>{const r="https://instagram.com/"+n,a=i.match(/window._sharedData = ([^\n]+);/),o=a&&a[1]?JSON.parse(a[1]):null;if(!o)return t();const s=we.Z.safely((()=>o.entry_data.ProfilePage[0].graphql.user.edge_followed_by.count));!s||L().isNaN(s)?t():e({value:s,name:n,link:r})})):t()}},ZP=qP,BP={returns:["is_creator"],requires:["$h","watch_page_html","video_id"],fn(){const e=`a[href="https://studio.youtube.com/video/${this.video_id}/edit"]`;if(window.document.querySelector(e))return!0;const t=`a[href="/edit?video_id=${this.video_id}&video_referrer=watch"]`;return!!window.document.querySelector(t)||(!!this.watch_page_html.match(/Edit video/)||this.$h.find("#watch7-creator-bar").length>0)}},VP=BP,zP={returns:["is_my_videos"],requires:[],fn:()=>"/my_videos"===window.location.pathname},UP={strict:!1,returns:["keyword_data"],requires:["keywords","keyword_ranks"],timeout:!1,fn(e){if(L().isEmpty(this.keywords))return e([]);const t=this.keyword_ranks||{},n=L().map(this.keywords,(e=>({text:e,search_rank:t[e]})),this);(0,ve.h)().featurePermitted("fullHotSearch")||e(n);const i=/ +\([^)]+\)$/,r=L().map(this.keywords,(e=>e.replace(i,"")));setTimeout((()=>{e(n)}),5e3),(0,P.Z)("vidiq.hottersearch",{skipRecs:!0,query:r}).then((r=>{try{const a=r.search_stats.compvol;if(!a)return e(n);e(L().map(this.keywords,(e=>{const n=e.toLowerCase().replace(i,""),r=a[n]||{};return{text:e,search_rank:t[e]||null,competition:r.competition||0,volume:r.volume||0,overall:r.overall||0}})))}catch(t){e(n)}}))}},WP=UP,HP={timeout:!1,returns:["keyword_ranks"],requires:["keywords","video_id"],fn(e){if(L().isEmpty(this.keywords))return{};let t=0;const n={},i=()=>{t+=1,t===this.keywords.length&&e(n)},r=(e,t,r)=>{if(!e)return i();try{const i=we.Z.unleakStrings(e.match(/watch\?v=[^"&<]+/g));L().map(L().uniq(i),(function(e,i){L().isNumber(n[r])||e.slice(8,19)===t&&(n[r]=i+1)}),this)}catch(e){}i()};L().map(this.keywords,((e,t)=>{setTimeout((()=>((e,t)=>{const n=t.trim().replace(/ \(.+\)$/,"");if("www.youtube.com"!==window.location.host)return void(0,P.Z)("youtube.search",{query:n}).then((n=>{r(n,e,t)}));const i=`https://www.youtube.com/results?search_query=${encodeURI(n)}&ucbcb=1`,a=new Request(i,{credentials:"omit"});a.headers.append("X-Client-Data",""),fetch(a).then((e=>{if(e.ok)return e.text()})).then((n=>{r(n,e,t)}))})(this.video_id,e)),50*t)}),this)}},YP=HP,$P={returns:["keyword_recs_allowed"],requires:["video_id"],fn(e,t){const n=(0,ve.h)().getPlans(),i=(0,ve.h)().getUserType();return!!(n.indexOf(i)>=n.indexOf("boost_lite"))&&(i.indexOf("boost")<0||void(0,P.Z)("vidiq.getVideoOptimStatus",{vid:this.video_id}).then((t=>{e(t[this.video_id])})).catch(t))}},KP=$P,GP={returns:["keyword_recs"],requires:["owned","show_dummy","keywords","keyword_recs_allowed"],timeout:!1,fn(e,t){const n=oL("keyword_recs",this);if(void 0!==n)return n;this.keyword_recs_allowed&&P.Z.ok("vidiq.hottersearch",{query:this.keywords}).then((({json:t})=>{e(t)})).catch(t)}},XP=GP;const QP=/\\(?!\\)/g;function JP(e){if(!e||0===e.length)return[];const t=function(e){return e.match(/"keywords\\?":\[([^\]]+)\]/)}(e);if(!t||!t[1])return[];const n=t[1].replace(QP,""),i=function(e){const t=/^"(.*)"$/;return e.map((e=>e.replace(t,"$1")))}(we.Z.unleakString(n).split(","));return i}const eR={returns:["keywords"],requires:["watch_page_html"],fn(){return JP(this.watch_page_html)}},tR={returns:["license"],requires:["$h"],fn(){return"/t/creative_commons"===this.$h.find(".watch-extras-section").children().eq(1).find("li").first().children("a").attr("href")?"creative_commons":"youtube_standard"}},nR={returns:["like_ratio"],requires:["yt_likes","yt_dislikes"],fn(){return this.yt_likes/(this.yt_likes+this.yt_dislikes)}},iR={returns:["local_channel_subscribers"],requires:["channel_id"],fn(e,t){Te(this.channel_id).then((t=>e(t&&t.subCount))).catch(t)}},rR={returns:["mcn"],requires:["watch_page_html","channel_id"],fn(e){let t=this.watch_page_html.match(/ptk":"([^"]+)"/);const n=(0,ai.Z)("none");if("youtube_none"===t[1].trim()&&(t=null),!t)return e(n);let i=unescape(t[1]).replace(/_affiliate$/,"").replace(/_/g," ");let a=i||"",o=this.channel_id;if(a.indexOf(" ")>-1&&(a=a.split(" ")[1]),o.indexOf("_")>-1&&(o=o.split("_")[1]),o.indexOf(a)>-1||null===i)return e(n);i.match(/\+user$/)&&(i=i.replace(/\+user$/,""));["YouPartnerVSP","TopBeautyBlog","VSP_Entertainment","VSP-Group","SiriusStarNetwork","Wargaming_VSP_Managed"].indexOf(i)>-1&&(i="Yoola"),22===i.length?r().get("/channel/UC"+i).always((function(t){e(404===t.status?i:n)})):e(i)}},aR=rR,oR={returns:["monetization"],requires:["owned","studio_video_object"],fn(){if(!this.owned)return;const e=ro()(this.studio_video_object,"videos[0].monetizedStatus",null);return null!==e&&"MONETIZED_STATUS_INACTIVE"!==e}},sR={returns:["num_google_embed_sources"],requires:["google_embed_sources"],fn(){const e=(this.google_embed_sources||{}).resultCount;return L().isNumber(e)?e:parseInt(e,10)}},lR={returns:["num_google_traffic_sources"],requires:["google_traffic_sources"],fn(){const e=(this.google_traffic_sources||{}).resultCount||0;return L().isNumber(e)?e:parseInt(e,10)}},cR={returns:["organic_views"],requires:["views","insight_traffic"],fn(){const e=L().findWhere(this.insight_traffic,{insightTrafficSourceType:"ADVERTISING"});return e?1-e.views/this.views:null}},uR={returns:["percent_sub_views"],requires:["sub_views","views"],fn(){return null===this.sub_views?{value:0,hideZero:!0}:this.sub_views/this.views}},dR=UN,hR=WN,pR={returns:["pie_chart"],requires:["historical"],fn(){let e=0;const t=L().map(dR,(function(t,n){const i=hR[n].label,r=aL(t,this.historical);return e+=r,{label:i,value:r}}),this);return e>0?t:[]}},fR=pR,mR={returns:["public_api_stats"],requires:["video_id"],fn(e){P.Z.expanded("vidiq.youtubeDataProxy",{type:"videos",params:{part:"statistics",id:this.video_id}}).then((({json:t})=>{try{const n=t.items[0].statistics;e({views:parseInt(n.viewCount,10),likes:parseInt(n.likeCount,10),dislikes:parseInt(n.dislikeCount,10),comments:parseInt(n.commentCount,10)})}catch(t){e({})}}))}},gR={returns:["public_avg_view_time"],requires:["public_stats","duration_sec"],fn(){return we.Z.time2sec(this.public_stats.average_view_duration)/this.duration_sec}};function vR(e){if(!e||!e.length)return null;return(new DOMParser).parseFromString(e,"text/html")||null}function yR(e){const t=e.querySelectorAll(".stats-bragbar, .stats-menu-metric");if(!t)return[];const n=[...t].map((e=>{let t=function(e){let t=e.getAttribute("data-uix-tabs-target-id");return t?(t=t.toLowerCase().replace(/stats-chart-tab-/,"").replace(/-/g,"_"),t):""}(e),n=e.querySelector(".bragbar-metric")||e.querySelector(".bragbar-metric-large"),i=n?n.textContent:null;if(i&&"watch_time"===t)return function(e){const t=e.replace(/<.*?>/g,"").split(" "),n=t[0].replace(/,/g,"");let i=parseInt(n,10);const r=t[1];return"years"===r?i*=525600:"days"===r?i*=1440:"hours"===r&&(i*=60),["minutes_watched",i]}(i);i||(n=e.querySelector(".menu-metric-value"),i=n?n.textContent:null,t="average_view_duration");return[t,i.match(":")?i:parseInt(i.replace(/[^0-9]/g,""),10)]})),i=e.querySelector("h1 .stats-sub-header"),r=i?i.textContent.replace(/Through /,"").split("\n")[0]:null,a=new Date(r);return"Invalid Date"!==a.toString()&&n.push(["date",a]),n}async function bR(e,t){const n=`https://www.youtube.com/insight_ajax?action_get_statistics_and_data=1&v=${e}`,i=function(e){const t=new FormData;return t.append("session_token",e),{method:"POST",body:t,credentials:"include",cors:"true"}}(t),r=await fetch(n,i);if(!r.ok)return Promise.reject(r.status);const a=function(e){let t=vR(e).querySelector("html_content").innerHTML;return t?(t=t.replace(/^<!--\[CDATA\[|]]&gt;$/g,""),vR(t)):null}(await r.text());if(!a)return Promise.reject("HTML Not Found");const o=yR(a);return o.length?Promise.resolve(function(e){return e.reduce(((e,[t,n])=>Object.assign(e,{[t]:n})),{})}(o)):Promise.reject("No Stats Found")}const _R={returns:["public_stats"],requires:["session_token","video_id"],fn(e,t){bR(this.video_id,this.session_token).then(e).catch(t)}},wR={returns:["start_date","end_date"],requires:["timestamp_date"],fn(){const e=wt()().subtract(1,"day");return{start_date:!this.timestamp_date||this.timestamp_date>=e?wt()().subtract(2,"day"):this.timestamp_date,end_date:e}}},kR={returns:["recent_channel_subs"],requires:["channel_growth_stats"],fn(){const e=iL("subscribers",this.channel_growth_stats);return e&&e.value>=0?e:void 0}},xR={returns:["recent_channel_views"],requires:["channel_growth_stats"],fn(){const e=iL("upload_views",this.channel_growth_stats);return e&&e.value>=0?e:void 0}},ER=e=>{const t={q:`url:${e}`,restrict_sr:"off",sort:"relevance",t:"all"};return`https://www.reddit.com/search.json?${uN().stringify(t)}`},CR={returns:["reddit_likes","reddit_posts","reddit_comments","reddit_url"],requires:["video_id"],fn(e,t){(0,P.Z)("reddit.search",{vid:this.video_id}).then((n=>{if(n.error)return t();const i=((e,t)=>e.data.children.reduce(((e,t)=>Object.assign(e,{posts:e.posts+1,comments:e.comments+t.data.num_comments,votes:e.votes+t.data.ups-t.data.downs})),{url:ER(t).replace(".json",""),votes:0,posts:0,comments:0}))(n,this.video_id);e({reddit_url:i.url,reddit_likes:i.votes,reddit_posts:i.posts,reddit_comments:i.comments})}))}},SR={returns:["referred_views"],requires:["insight_traffic"],fn(){return(L().findWhere(this.insight_traffic,{insightTrafficSourceType:"EXT_URL"})||{}).views||null}};var TR=__webpack_require__(4908),DR=__webpack_require__.n(TR);const FR="#child-input ytcp-chip-bar#chip-bar .chip-and-bar.ytcp-chip-bar",MR=".ytcp-uploads-mini-indicator ul#progress-list",AR=e=>`.cards.ytcd-channel-dashboard ytcd-card-column:nth-child(${e})`,IR={channelTopKeywordsMount:"ytd-channel-sub-menu-renderer #primary-items",videoCommentFilter:"ytd-comments-header-renderer #title",videoSearchKeywords:".ytd-video-renderer.text-wrapper",videoSearchSocial:"ytd-video-renderer:not([use-prominent-thumbs]) div#dismissable.ytd-video-renderer",videoSearchSocialAlternate:"ytd-video-renderer:not([bigger-thumbs-style]) div#dismissible.ytd-video-renderer",videoSearchSocialProminent:"ytd-video-renderer[use-prominent-thumbs] ytd-thumbnail.ytd-video-renderer",videoSearchSocialProminentAlternate:"ytd-video-renderer[bigger-thumbs-style] ytd-thumbnail.ytd-video-renderer",videoSearchUpsell:"ytd-video-renderer",uploadVideoTagsContainer:"#dialog.ytcp-uploads-dialog #tags-container",studioCommentTemplates:".ytcp-comment#comment-actions",communityCommentTemplates:"#toolbar.ytd-comment-action-buttons-renderer",videoCommentTemplates:"#toolbar.ytd-comment-action-buttons-renderer",discussionCommentTemplates:"#toolbar.ytd-comment-action-buttons-renderer",userAndChannelTabs:'ytd-browse[page-subtype="channels"] #tabsContent',userAndChannelButtons:"#channel-header-container",mfaModal:"body",videoRelatedTopicChips:"yt-chip-cloud-renderer yt-chip-cloud-chip-renderer",studioVideoEditLeftPane:"#container #left",studioVideoEditLeftPaneV2:".left-col.style-scope.ytcp-video-metadata-editor",studioVideoEditTagsContainer:".input-container.tags",studioVideoEditTagsContainerV2:".left-col.style-scope.ytcp-video-metadata-editor ytcp-form-input-container#tags-container",studioVideoTagsBar:FR,studioVideoTagsBarInput:`${FR} #text-input`,studioVideoTags:"ytcp-chip-bar ytcp-chip #chip-text",studioEditTitleInput:".input-container.title #textbox",studioUploadTitleInput:".ytcp-uploads-dialog .title #textbox",studioUploadDialog:"#dialog.ytcp-uploads-dialog",studioUploadDetailsStep:'ytcp-uploads-dialog[workflow-step="DETAILS"] ytcp-video-metadata-editor-advanced',studioMultiUploadModal:MR,studioMultiUploadModalVideoItems:`${MR} li.ytcp-multi-progress-monitor`,videoActionButtons:'div[data-e2e="browse-video-desc"]',channelPostedVideosDetails:'div[data-e2e="user-post-item"]:not([class*=-StyledDivContainerV2]) [class*=-DivCardFooter]',channelPostedVideosDetailsV2:"[data-e2e='user-post-item-list'] [class*=-DivItemContainerV2] [class*=-DivTagCardDesc]",searchPageVideosDetails:'[data-e2e="search-card-desc"] [class*=-DivCardBottomInfo]',tagPageVideoDetails:'[data-e2e="challenge-item"] ~ [class*=-DivTagCardDesc]',musicPageVideoDetails:"[data-e2e='music-item']:not([class*=-StyledDivContainerV2]) [class*=-DivPlayerContainer]",musicPageVideoDetailsV2:"[data-e2e='music-item-list'] [class*=-DivItemContainerV2] [class*=-DivTagCardDesc]",sigiScript:"script#sigi-persisted-data",mainVideoActions:"[class*=-DivActionItemContainer]",videoPageActions:"[class*=-DivBrowserModeContainer] [class*=-DivMainContent] > *:last-child",altVideoPageActions:"[class*=-DivVideoDetailContainer] [class*=-DivActionItemContainer]",tagPageViewsCount:'h2[data-e2e="challenge-vvcount"]',body:"body",abDebugger:"body",channelPageCounts:'div[data-e2e="user-page"] [class*=-H2CountInfos]',studioDashboardFirstColumn:AR(1),studioDashboardSecondColumn:AR(2),studioDashboardThirdColumn:AR(3),musicTitle:'h1[data-e2e="music-title"]',optimizationChecklist:"#iq-optimization-checklist",descriptionRecommendations:"#vidiq-description-recommendations",titleRecommendations:"#vidiq-title-recommendations"},OR={returns:["related_videos_topics"],requires:[],fn(e){const t="#related",n="relatedVideosTopicsWatcher";go.Z.watch(t,n).enter((()=>{try{const t=document.querySelectorAll(IR.videoRelatedTopicChips),n=Array.from(t).map((e=>{const t=e.querySelector("yt-formatted-string");return null==t?void 0:t.textContent}));e(DR()(n))}catch(t){e([])}go.Z.clear(t,n)}))}},NR=OR,PR={returns:["seo_checklist_added_to_playlist"],requires:["video_id"],fn(e,t){Gs.getPlaylistsWithVideos([this.video_id]).then((t=>{const n=t.playlistMemberships.some((e=>"CONTAINS_REQUESTED_VIDEOS_ALL"===e.containsRequestedVideos));e(n)})).catch(t)}},RR={returns:["seo_checklist_cards"],requires:["cards"],fn(){return this.cards>0}},jR={returns:["seo_checklist_closed_captions"],requires:["owned","video_id","watch_page_html"],fn(e,t){if(!this.owned&&"/watch"===window.location.pathname)return t();const n=Tl(this.watch_page_html);e(Boolean(null==n?void 0:n.captions))}},LR={returns:["seo_checklist_end_screens"],requires:["endscreens"],fn(){return this.endscreens>0}},qR={returns:["seo_checklist_made_public"],requires:["video_id","studio_video_object"],fn(){const e="studio"===window.location.host.split(".")[0],t=window.location.pathname,n=t.match(/\/video\/[^/]+\/edit/),i=t.match(/\/channel\/[^/]+\/videos\/upload/);if(e&&n){const e=document.querySelector("#privacy-icon").querySelector("path").getAttribute("d").match(/M12 4.5C7/g);return e&&e[0]}if(e&&i){return"VIDEO_PRIVACY_PUBLIC"===we.Z.safely((()=>this.studio_video_object.videos[0].status))}return"public"===document.querySelector(".metadata-privacy-input").value}},ZR=qR,BR={returns:["seo_checklist_monetization"],requires:["video_id","studio_video_object"],fn(){if("studio"===window.location.host.split(".")[0]){if(!this.studio_video_object)return null;return"MONETIZED_STATUS_ACTIVE"===we.Z.safely((()=>this.studio_video_object.videos[0].monetizedStatus))}{const e=".monetize-with-ads.monetize-options-box.uses-ad-breaks-editor",t=document.querySelector(e);return t&&t.className.split(" ").indexOf("hid")<0}}},VR=BR,zR={commentsFilter:{},commentsFilterForHeldForReviewTab:{},commentsFilterForSpamTab:{},context:{},maxReplies:10,moderationState:"PUBLISHED",searchQuery:"",sortOrder:"NEWEST",videoId:""},UR=async e=>{const t=window.location.origin,n=await Ks.getDataForRequest(),i=(({videoId:e,params:t})=>{const n=Vs(zR);return n.videoId=e,n.context.client=Vs(As),n.context.request=Vs(Is),t.DELEGATED_SESSION_ID&&t.DELEGATED_SESSION_ID.length&&(n.context.user=Vs(Os)),Us.stringify(n,t)})({videoId:e,params:n.payloadKeys}),r=[`${t}/youtubei/v1/comment/get_comments?alt=json&key=${n.apiKey}`,n.authHeader,n.authUser,i];return Ks.makeRequest("getCommentsForVideo",r)},WR={returns:["seo_checklist_replied_comment"],requires:["owned","video_id"],fn(e,t){if(!this.owned&&"/watch"===window.location.pathname)return t();(async e=>{try{return(await UR(e)).contents.itemSectionRenderer.contents.some((e=>{var t,n,i;const r=null==e||null===(t=e.commentThreadRenderer)||void 0===t||null===(n=t.replies)||void 0===n||null===(i=n.commentRepliesRenderer)||void 0===i?void 0:i.contents;return!!r&&r.some((e=>{var t;return null==e||null===(t=e.commentRenderer)||void 0===t?void 0:t.authorIsChannelOwner}))}))}catch(e){return Me.Z.error("getRepliedToRecentComment failure (chrome extension)",{error:e.message}),null}})(this.video_id).then(e).catch(t)}},HR={returns:["seo_checklist_shared_facebook"],requires:["fb_likes"],fn(){return(this.fb_likes||0)>0}},YR={returns:["seo_checklist_shared_twitter"],requires:["tweets"],fn(){return L().isNumber(this.tweets)&&this.tweets>0}},$R={strict:!1,returns:["seo_checklist"],requires:["seo_checklist_cards","seo_checklist_end_screens","seo_checklist_closed_captions","seo_checklist_monetization","seo_checklist_added_to_playlist","seo_checklist_made_public","seo_checklist_shared_twitter","seo_checklist_shared_facebook","seo_checklist_replied_comment"],fn(){const e=L().reduce(this,((e,t)=>t?e+1:e),0);return{score:e,outOf:L().keys(this).length,list:this}}},KR=$R,GR={strict:!1,returns:["seo_score","seo_score_data"],requires:["title","desc","keyword_data"],fn(e,t){const n={title:this.title,description:this.desc,tags:this.keyword_data,client:(0,ve.h)().clientIdentity.split("/")[1],country:o.ZP.hottersearch.country,language:o.ZP.hottersearch.language};P.Z.ok("vidiq.youtubeSeoScore",{body:n}).then((t=>e({seo_score_data:t.json,seo_score:t.json.overall}))).catch(t)}},XR={returns:["session_token"],requires:["watch_page_html"],fn(e,t){const n=new RegExp('XSRF_TOKEN[\'"]: ?"([^"]+)'),i=we.Z.unleakStrings(this.watch_page_html.match(n));i&&i[1]?e(i[1]):t()}},QR={returns:["show_dummy"],requires:["could_own","owned"],fn(){if(!(0,ve.h)().featurePermitted("privateStats")&&this.owned)return!0;if(this.owned)return!1;const e=ye.Z.getItem("video_page_auth_prompt");return this.could_own&&!1!==e}},JR={returns:["snippet","snippet_error"],requires:["video_id"],fn(e){P.Z.expanded("vidiq.youtubeSnippet",{videoIds:this.video_id}).then((({json:t,response:n})=>{if(!(n&&n.ok&&t&&t[this.video_id]))throw new Error((null==t?void 0:t.message)||(null==n?void 0:n.status));e({snippet:t[this.video_id],snippet_error:""})})).catch((t=>{(0,ke.Z)("(vidiq) SnippetTask error",t.message),e({snippet:{},snippet_error:t.message||"Unknown error"})}))}};function ej(e,t){const n=e.find((e=>e.includes(t)));if(!n)return null;const i=n.match('.*.com/(.*?)(&|/|")');return i&&i[1]?i[1]:null}const tj={returns:["social_media_links"],requires:["channel_id"],fn(e,t){r().get(`https://www.youtube.com/channel/${this.channel_id}/about?disable_polymer=true`).done((t=>{const n=function(e){return e.match(/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1/g).map((e=>decodeURIComponent(e)))}(t);e({twitter:ej(n,"twitter"),instagram:ej(n,"instagram"),facebook:ej(n,"facebook")})})).fail(t)}};function nj(e){if(!e)return"unknown";const t=e.match(/"privacyStatus":([^"]+)/);if(t&&t[1])return t[1].toLowerCase();const n=e.match(/"isPrivate":([a-z]+)/),i=n?n[1]:void 0,r=e.match(/"isUnlisted":([a-z]+)/),a=r?r[1]:void 0;return void 0===i&&void 0===a?"unknown":"true"===i?"private":"true"===a?"unlisted":"public"}const ij={returns:["status"],requires:["$h","watch_page_html","is_new_layout"],timeout:!1,fn(){if(this.is_new_layout)return nj(this.watch_page_html);const e=this.$h.find("#watch-privacy-icon");return e.length?e.is(".unlisted")?"unlisted":"private":"public"}},rj={returns:["studio_video_info"],requires:["studio_video_object"],fn(){const e=this.studio_video_object&&this.studio_video_object.videos&&this.studio_video_object.videos[0];if(!e)return{};const t=e.tags||[];return{title:e.title,description:e.description,tags:t.map((e=>e.value))}}},aj={returns:["studio_video_object"],requires:["video_id"],fn(e,t){rg.get([this.video_id]).then(e).catch(t)}},oj={returns:["sub_views"],requires:["insight_traffic"],fn(){const e=this.insight_traffic;return(L().findWhere(e,{insightTrafficSourceType:"SUBSCRIBER"})||{}).views||null}},sj={strict:!1,returns:["subs_driven"],requires:["subscribers_gained"],fn(){if(this.subscribers_gained){const e=this.subscribers_gained[0];if(e)return e.subscribersGained||null}return null}},lj={returns:["subscriber_rank"],requires:["channel_subscribers","channel_rankings"],fn(){return this.channel_subscribers?ge()(this.channel_rankings.subscriber_rank).format("0,0o"):null}},cj=jN,uj={returns:["subscribers_gained"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("subscribers_gained",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"subscribersGained",filters:"video=="+this.video_id,startDate:wt()(this.start_date).format(cj),endDate:wt()(this.end_date).format(cj)}}).then(e).catch(t))}},dj=uj,hj={returns:["suggested_video_referrer_details"],requires:["insight_traffic_yt_suggested"],fn(e){const t={},n=this.insight_traffic_yt_suggested;L().map(n,(i=>{const r=i.insightTrafficSourceDetail;"unknown"===r?(t[r]={title:"",channel_name:"",channel_url:""},L().values(t).length===n.length&&e(t)):cL(r,["title","channel_name","channel_url"]).done((i=>{t[r]=i,L().values(t).length===n.length&&e(t)}))}))}},pj=hj,fj={returns:["suggested_views"],requires:["insight_traffic"],fn(){return(L().findWhere(this.insight_traffic,{insightTrafficSourceType:"RELATED_VIDEO"})||{}).views||null}},mj={returns:["thumb"],requires:["video_id","studio_video_object"],fn(){const e=ro()(this,"studio_video_object.videos[0].thumbnailDetails.thumbnails[0].url",null);return e||`https://i.ytimg.com/vi/${this.video_id}/default.jpg`}},gj={returns:["thumbnail"],requires:["video_id","snippet","snippet_error"],fn(e,t){(async(e,t,n)=>{if(!e){const e="(getVideoThumbnail) No video ID provided";throw(0,ke.Z)(e),Me.Z.error("[THUMBNAIL_ERROR] no video ID proided",{errMessage:e}),new Error(e)}try{if(n&&n.length)throw new Error(n);const e=["maxres","high","standard","medium","default"];if(!t||(0,je.isEmpty)(t))throw new Error("No response data");const i=ro()(t,"snippet.thumbnails");if(!i)throw new Error("No thumbnails in response data");for(const t of e){const e=i[t];if(e&&e.url)return e.url}}catch(e){const t=e.message;(0,ke.Z)(`(getVideoThumbnail) Failed to get thumbnail from endpoint: ${t}`),Me.Z.error("[THUMBNAIL_ERROR] Failed to get thumbnail from vidIQ endpoint",{error:e,errorMessage:t})}const i=["maxresdefault","hqdefault","sddefault","mqdefault"];for(const t of i){const n=`https://i.ytimg.com/vi/${e}/${t}.jpg`;try{const e=await fetch(n);if(e&&e.ok)return n;(0,ke.Z)(`(getVideoThumbnail) Failed to get thumbnail (${t})`)}catch(e){}}throw(0,ke.Z)("(getVideoThumbnail) Failed all tries to get thumbnail"),Me.Z.error("[THUMBNAIL_ERROR] Unable to get thumbnail"),new Error("(getVideoThumbnail) Unable to get thumbnail")})(this.video_id,this.snippet,this.snippet_error).then((t=>{e(t)})).catch((e=>{t(e)}))}},vj={returns:["timestamp","timestamp_date"],requires:["studio_video_object","date_published"],fn(){const e=ro()(this.studio_video_object,"videos[0].timePublishedSeconds",null);if(e){const t=new Date(0);return t.setUTCSeconds(e),{timestamp:e,timestamp_date:t}}if(!this.date_published)return null;const t=new Date(this.date_published.raw);return{timestamp:t.getTime()/1e3,timestamp_date:t}}},yj={strict:!1,returns:["title"],requires:["watch_page_html","owned","studio_video_object"],fn(){const e=ro()(this.studio_video_object,"videos[0].title",null);if(this.owned&&e)return e;const t=this.watch_page_html.match(/<meta name="title" content="(.*?)"/);return t&&t[1]?t[1]:""}},bj={returns:["top_countries"],requires:["views_by_country","views"],fn(){return L().object(L().map(this.views_by_country,(function(e){const t=e.views/this.views;return[e.country,{views:e.views,percent:t}]}),this).slice(0,10))}},_j={returns:["top_devices"],requires:["views_by_device","views"],fn(){const e=this.views_by_device;return L().object(L().compact(L().map(e,(function(e){const t=e.deviceType.toLowerCase().replace(/_/g," ");if("unknown platform"===t)return;const n=e.views/this.views;return[t,{views:e.views,percent:n}]}),this)))}},wj={returns:["topics"],requires:["snippet"],fn(e){try{const{topics:t}=this.snippet;e(t||[])}catch(t){(0,ke.Z)("(vidiq) TopicsTask error",t),e([])}}},kj={returns:["tweet_list","tweets"],requires:["video_id"],fn(e){e({tweet_list:[],tweets:0})}},xj={returns:["twitter_followers"],requires:["social_media_links"],fn(e,t){let n=this.social_media_links.twitter;n=n.replace("#!/",""),n?P.Z.expanded("twitter.any",{path:n,followers:!0}).then((({response:i,text:r})=>{if(!i.ok)throw new Error(i.status);let a=vR(r).querySelector(".count .alternate-context");!a||L().isNaN(a)?t():(a=parseInt(a.textContent.replace(/,/g,""),10),e({value:a,name:n,link:"https://twitter.com/"+n}))})):t()}},Ej={strict:!1,returns:["upload_seo_checklist"],requires:["seo_checklist_cards","seo_checklist_end_screens","seo_checklist_closed_captions","seo_checklist_monetization","seo_checklist_added_to_playlist","seo_checklist_made_public"],fn(){const e=Object.values(this).reduce(((e,t)=>t?e+1:e),0);return{score:e,outOf:Object.keys(this).length,list:this}}},Cj=Ej,Sj={strict:!1,returns:["vidiq_score_client"],requires:["video_id","views","fb_likes","fb_reactions","fb_comments","fb_shares","tweets"],fn(){const e={twitter:{tweets:this.tweets},facebook:{likes:this.fb_likes,reactions:this.fb_reactions,comments:this.fb_comments,shares:this.fb_shares},youtube:{id:this.video_id,views:this.views}};return(0,ve.h)().clientIqScore(e)}},Tj={strict:!1,returns:["vidiq_score"],requires:["video_id","channel_name","views","channel_subscribers","channel_growth_stats","yt_likes","yt_dislikes","yt_comments","desc_link_count","desc_word_count","words_per_minute","keywords","creator_suggested","engagement_rate_literal","vph","endscreens","channel_id","title","desc","status","fb_likes","fb_reactions","fb_comments","fb_shares","tweets","reddit_likes","reddit_comments","reddit_posts","date_published","seo_score","seo_score_data","duration_sec","license","public_avg_view_time","public_stats","related_videos_topics","channel_views","avg_daily_subs","avg_daily_views","estimated_monthly_revenue","yt_shares","cards","recent_channel_views","recent_channel_subs","category","channel_country","instagram_followers","twitter_followers","facebook_followers"],fn(){let e=null;this.date_published&&(e=wt()(this.date_published.raw).format("YYYY-MM-DD"));const t=(this.public_stats||{}).subscribers,n=(this.public_stats||{}).minutes_watched,i=this.public_avg_view_time,r=Eo(),a=ge()().unformat((this.channel_subscribers||"").toString().toLowerCase()),o=r.match(/^en$/)||r.match(/^en-GB$/)?a:ro()(this,"channel_growth_stats.current.subscribers"),s={reddit:{count:this.reddit_likes,comments:this.reddit_comments,posts:this.reddit_posts},twitter:{tweets:this.tweets},facebook:{likes:this.fb_likes,reactions:this.fb_reactions,comments:this.fb_comments,shares:this.fb_shares},youtube:{id:this.video_id,views:this.views,channel_subscribers:o,likes:this.yt_likes,dislikes:this.yt_dislikes,comments:this.yt_comments,description_link_count:this.desc_link_count,description_word_count:this.desc_word_count,words_per_minute:this.words_per_minute,tags:this.keywords,creator_suggested:this.creator_suggested?this.creator_suggested.value:null,true_engagement:this.engagement_rate_literal,velocity:this.vph,endscreens:this.endscreens,channel_id:this.channel_id,mcn:this.mcn,title:this.title,description:this.desc,privacy:this.status,license:this.license,duration:this.duration_sec,seo_score:this.seo_score,subs_driven:t,average_view_percentage:i,minutes_watched:n,channel_name:this.channel_name,date_published_at:e,related_videos_topics:this.related_videos_topics,channel_views:this.channel_views,avg_daily_subs:this.avg_daily_subs,avg_daily_views:this.avg_daily_views,estimated_monthly_revenue:this.estimated_monthly_revenue,yt_shares:this.yt_shares,cards:this.cards,recent_channel_views:this.recent_channel_views,recent_channel_subs:this.recent_channel_subs,category:this.category,country:this.channel_country?this.channel_country.code:null,instagram_followers:this.instagram_followers,twitter_followers:this.twitter_followers,facebook_followers:this.facebook_followers}},l={high_volume_ranked_tags:"hv_ranked_tags",keywords_in_title:"title_keywords",keywords_in_description:"description_keywords"};return L().each(this.seo_score_data,((e,t)=>{t="actionable"===t?"ssa":"ssn",L().isObject(e)&&L().each(e,((e,n)=>{n=l[n]?l[n]:n,s.youtube[t+"_"+n]=e}))})),(0,P.Z)("vidiq.vidiqScore",{payload:s}),(0,ve.h)().clientIqScore(s)}},Dj=Tj,Fj={returns:["view_rank"],requires:["channel_rankings"],fn(){return ge()(this.channel_rankings.view_rank).format("0,0o")}};const Mj={returns:["views_after_publish","views_after_publish_done"],requires:["video_id","date_published","views"],fn(e){const t={views_after_publish:{data:{},currentViews:this.views,datePublished:this.date_published,videoId:this.video_id},views_after_publish_done:!0};if(this.date_published){const n=new Date(this.date_published.raw).getTime();if((Date.now()-n)/1e3/60/60/24<1)return t.views_after_publish.data={day0:0,"day0.5":this.views,day1:null,day2:null,day3:null,day7:null,day28:null},e(t)}(function(e){const t={day0:0,"day0.5":null,day1:null,day2:null,day3:null,day7:null,day28:null};return P.Z.expanded("vidiq.viewsAfterPublish",{videoId:e}).then((({response:e,json:n})=>{if(n=n?n[0]:null,!e.ok||!n)throw new Error(e.status);return Object.keys(t).forEach((e=>{const i=e.replace("day","");if("0"===i||"0.5"===i)return;const r=(n&&n.data?n.data:{})[`day${i}`]||null;t[e]=r})),t})).catch((()=>t))})(this.video_id).then((n=>{if(!n)return e(t);t.views_after_publish.data=n,e(t)}))}},Aj=jN,Ij={returns:["views_by_country"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("views_by_country",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views",sort:"-views",dimensions:"country",filters:"video=="+this.video_id,startDate:wt()(this.start_date).format(Aj),endDate:wt()(this.end_date).format(Aj)}}).then((t=>{if(t.error)throw new Error(t.error);e(t)})).catch(t))}},Oj=Ij,Nj=jN,Pj={returns:["views_by_device"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("views_by_device",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views",sort:"-views",dimensions:"deviceType",filters:"video=="+this.video_id,startDate:wt()(this.start_date).format(Nj),endDate:wt()(this.end_date).format(Nj)}}).then((t=>{if(t.error)throw new Error(t.error);e(t)})).catch(t))}},Rj=Pj,jj={returns:["views_chart"],requires:["historical"],fn(){const e=rL(this.historical,"views");return L().isEmpty(e)?[]:[{values:e,area:!0,key:(0,ai.Z)("viewsTitle")}]}},Lj=jj,qj=jN,Zj={returns:["views_data"],requires:["video_id","channel","owned","show_dummy","start_date","end_date"],fn(e,t){const n=oL("views_data",this);return n||(null===n?t():void(0,P.Z)("vidiq.youtubeProxy",{cid:this.channel.channel_id,params:{metrics:"views,averageViewPercentage",filters:"video=="+this.video_id,startDate:wt()(this.start_date).format(qj),endDate:wt()(this.end_date).format(qj)}}).then(e).catch(t))}},Bj=Zj,Vj={returns:["views"],requires:["$h","watch_page_html","video_id","is_new_layout"],fn(){let e=null,t=null;try{const n=xe(this.watch_page_html).contents.twoColumnWatchNextResults.results.results.contents,i=n.find((e=>void 0!==e.videoPrimaryInfoRenderer)).videoPrimaryInfoRenderer.viewCount.videoViewCountRenderer.viewCount;if(t=i.simpleText,i&&!t&&(t=i.runs[0].text),t=t.replace(/[^0-9]/g,""),e=t&&t.length?parseInt(t,10):null,isFinite(e))return e}catch(e){(0,ke.Z)("(vidiq) Failed to get views from ytInitialData (method #1):",e),Me.Z.warning("ViewsTask: Failed to get views from ytInitialData",{error:e.toString(),video_id:this.video_id,watch_page_html:this.watch_page_html})}try{if(t=Tl(this.watch_page_html).videoDetails.viewCount,e=t&&t.length?parseInt(t,10):null,isFinite(e))return e}catch(e){(0,ke.Z)("(vidiq) Failed to get views from ytInitialPlayerResponse (method #2):",e),Me.Z.warning("ViewsTask: Failed to get views from ytInitialPlayerResponse",{error:e.toString(),video_id:this.video_id,watch_page_html:this.watch_page_html})}try{const t=this.watch_page_html.replace(/\\/g,"").match(/"viewCount":{"simpleText":"([^"]+)"}/)[1].replace(/[^0-9]/g,"");if(e=parseInt(t,10),isFinite(e))return e}catch(e){(0,ke.Z)("(vidiq) Failed to get views from scraping (method #3):",e),Me.Z.warning("ViewsTask: Failed to get views from scraping",{error:e.toString(),video_id:this.video_id,watch_page_html:this.watch_page_html})}try{const t=this.$h.find(".watch-view-count");if(0===t.length&&function(e,t){if(sL[t])return;sL[t]=!0,(0,ke.Z)("Malformed HTML detected")}(this.watch_page_html,this.video_id),e=parseInt(t.text().replace(/[^0-9]/g,""),10),isFinite(e))return e}catch(e){(0,ke.Z)("(vidiq) Failed to get views from element (method #4):",e),Me.Z.warning("ViewsTask: Failed to get views from element",{error:e.toString(),video_id:this.video_id,watch_page_html:this.watch_page_html})}return(0,ke.Z)("(vidiq) All methods failed to get views"),Me.Z.error("ViewsTask: All methods failed to get view count",{video_id:this.video_id,watch_page_html:this.watch_page_html}),null}},zj=Vj,Uj={likes:0};function Wj(e){const t="string"==typeof e?JSON.parse(e):e;try{const e=nN(t,"targetId","watch-like");if(0===e.length)return Uj;let n=null;for(let t=0;t<e.length;t++)n||(n=ro()(e[t],"defaultText.accessibility.accessibilityData.label"));return{likes:function(e){if(null==e)return 0;const t=we.Z.extractNumbers(e);return t.length>0?t[0]:0}(n)}}catch(e){return Uj}}const Hj={returns:["yt_likes","yt_dislikes"],requires:["watch_page_html","$h","is_new_layout"],fn(){const e=xe(this.watch_page_html.toString()),{likes:t}=Wj(e);return{yt_likes:t,yt_dislikes:0}}},Yj={returns:["vph_chart"],requires:["historical"],fn(){const e=rL(this.historical,"views_per_hour");return L().isEmpty(e)?[]:[{values:e,area:!0,key:"Views Per Hour"}]}},$j=Yj;async function Kj({date_published:e,views:t,historical:n,video_id:i}){var r;const a=await R.getExperimentValue(tt.VPH),o=Boolean(a&&"variant"===(null===(r=a.variant)||void 0===r?void 0:r.key));let s,l;const c=(Date.now()-e.raw.valueOf())/60/60/1e3,u=t/c;if(o)try{if(s=await(async(e,t)=>{if(!e)return null;try{const{views:n,date_published:i,is_live:r}=t||await cL(e,["views","date_published","is_live"]);if(r)return null;const{json:a,response:o}=await P.Z.expanded("vidiq.vph",{videoId:e,views:n,datePublished:new Date(i.raw)});if(!o.ok)throw new Error(o.statusText);if(!a||!a.length)throw new Error("No response data");return a[0].vph}catch(e){const t=e instanceof Error?e.message:"Unknown error";Me.Z.warning("getVPHFromApi error",{error:t})}})(i,{views:t,date_published:e}),isFinite(s))return{vph:s,average_vph:u,vph_method:"public"}}catch(e){}const d=function(e){return e&&e.length?fc(e,"recorded_at",!0).find((e=>{const t=(new Date-1e3*e.recorded_at)/1e3/60/60;return t>=12&&t<=168})):null}(n);if(n&&d){const e=Math.abs(t-d.views)/((new Date-1e3*d.recorded_at)/1e3/60/60);isFinite(e)&&(s=e,l="public"),s>t&&(s=void 0)}void 0===s&&c<168&&(s=u,l="average");return{vph_method:l,average_vph:u,vph:s}}const Gj={returns:["vph","average_vph","vph_method"],requires:["date_published","views","historical","video_id","is_live"],strict:!1,fn(e,t){if(!this.views||!this.date_published||this.is_live)return t();Kj(this).then((t=>{e(t)}))}},Xj={returns:["words_per_minute"],requires:["duration_sec","captions_url"],fn(e,t){if(!this.captions_url)return t();r().get(this.captions_url).done((t=>{let n=[];r()(t).find("text").each((function(){const e=we.Z.stripHtml(r()(this).text()).split("\n"),t=e.length>1?e[1]:e[0];t&&(n=L().compact(n.concat(t.split(" "))))}));const i=n.length/(this.duration_sec/60);e(i)})).fail(t)}},Qj={returns:["yt_comments"],requires:["video_id","credential_tokens"],fn(e,t){const{sessionToken:n,continuation:i,clickTrackingParams:r}=this.credential_tokens;(0,P.Z)("youtube.commentsJson",{videoId:this.video_id,sessionToken:n,continuation:i,clickTrackingParams:r}).then((n=>{const i=ro()(n,"response.continuationContents.itemSectionContinuation.header.commentsHeaderRenderer.countText.runs[0].text");if(!i)return t();const r=we.Z.extractNumbers(i);return r.length>0?e(r[0]):e(0)})).catch(t)}},Jj={returns:["credential_tokens"],requires:["watch_page_html"],fn(e,t){(0,P.Z)("youtube.home").then((n=>{try{const t=n.match(/"XSRF_TOKEN":"([^"]+)"/)[1],i=xe(this.watch_page_html),r=ro()(i,"contents.twoColumnWatchNextResults.results.results.contents",[]).find((({itemSectionRenderer:e})=>Boolean(e)));let a={};r&&(a=ro()(r,"itemSectionRenderer.continuations.0.nextContinuationData",{}));const{continuation:o,clickTrackingParams:s}=a;return e({sessionToken:t,continuation:o,clickTrackingParams:s})}catch(e){t()}})).catch(t)}},eL={returns:["yt_search_views"],requires:["insight_traffic"],fn(){return(L().findWhere(this.insight_traffic,{insightTrafficSourceType:"YT_SEARCH"})||{}).views||null}},tL={returns:["yt_shares"],requires:["public_stats"],fn(){return this.public_stats.shares}},nL={returns:["is_live"],requires:["watch_page_html"],fn(){try{const e=xe(this.watch_page_html).contents.twoColumnWatchNextResults.results.results.contents,t=e.find((e=>void 0!==e.videoPrimaryInfoRenderer)).videoPrimaryInfoRenderer.viewCount.videoViewCountRenderer.isLive;return Boolean(t)}catch(e){return!1}}};function iL(e,t){if(!t.month_growth||!t.two_months_growth)return null;let n=30;const i=t.month_growth[e],r=t.week_growth[e],a=(t.two_months_growth||{})[e];if(i||(n=7),!r)return;const o=a?a-i:null;let s=i/o-1;return isFinite(s)||(s=null),{value:i||r,change:s,_comparison:o,period:n}}function rL(e,t){let n=0;const i=L().compact(L().map(e,(e=>e[t]?(n+=e[t],{x:new Date(e.created_at).getTime(),y:e[t]}):null)));return n>0?i:[]}function aL(e,t){if(0===t.length)return 0;const n=t.slice(-1)[0];return void 0!==n[e]&&null!==n[e]?n[e]:aL(e,t.slice(0,-2))}function oL(e,t){const n=ye.Z.getItem("video_page_private_stats_prompt");return t.owned&&t.show_dummy&&!1===n?null:t.show_dummy?nl(e):t.owned?void 0:null}const sL={};function lL(t){const n=new el(t);return n.registerMany(e),n}const cL=(e,t,n)=>{if("unknown"===e||!e)return;const i=new(r().Deferred),a=L().isObject(e)?e:{video_id:e};let o=setTimeout((()=>{i.reject()}),7e3);return lL({getData:()=>a,mergeData(e){L().extend(a,e)},onProgressChange(e){clearTimeout(o),n&&n(a,e);const r=[a].concat(t);e>=1?i.resolve(L().pick(...r)):o=setTimeout((()=>{i.reject()}),7e3)}}).requestMany(t),i.promise()},uL={update(e){ko.Z.dispatch({action:Ss.UPDATE,data:e})},getKeywordData(){const e=L().pluck(this.keywords,"keyword");(0,P.Z)("vidiq.hottersearch",{skipRecs:!0,query:e}).then((e=>{if(0===Object.keys(e).length)return;const t=e.search_stats.compvol;t&&(L().each(this.keywords,(function(e,n){this.keywords[n]=L().extend(e,t[e.keyword.toLowerCase()])}),this),this.update({keywords:this.keywords}))}))},getVideoKeywords(e,t){return cL(e,["keywords"]).done((e=>{if(L().each(e.keywords,(function(e){this.keywords[e]?this.keywords[e]+=1:this.keywords[e]=1}),this),this.count+=1,this.update({progress:this.count}),this.count===t){this.keywords=L().first(L().sortBy(L().map(this.keywords,((e,t)=>({keyword:t,occurrences:e}))),"occurrences").reverse(),100);(0,ve.h)().featurePermitted("topKeywords")||(this.keywords=L().first(this.keywords,3)),this.update({keywords:this.keywords,loading:!1,fetched:!0}),this.getKeywordData()}}))},channelTrendingVideos(e){const t=r()(".velocity-video"),n=t.length;r().each(t,((t,i)=>{const a=r()(i).attr("href").split("=")[1];e(a,n)}))},competitorVideos(e,t){const n=t.length;r().each(t,((t,i)=>{const r=i.video_id;e(r,n)}))},channelVideos(e){const t=(0,Ee.Z)()?"a#thumbnail[href]":".yt-lockup",n=r()(t),i=n.length;r().each(n,((t,n)=>{let a;if((0,Ee.Z)()){a=r()(n).attr("href").split("=")[1]}else a=r()(n).attr("data-context-item-id");e(a,i)}))},fetch(e,t){let n;switch(this.keywords={},this.count=0,this.update({loading:!0}),e){case"playlist":n=Qs.localVideoIds;break;case"channel":n=this.channelVideos;break;case"channel-trending":n=this.channelTrendingVideos;break;case"competitors":n=this.competitorVideos}n(((e,t)=>{this.update({numVideos:t}),Ds.push((()=>this.getVideoKeywords(e,t)),"PlaylistTopKeywords")}),t)}},dL=uL,hL=Oo()({displayName:"Keyword",statics:{weightClassName:(e,t)=>L().isNumber(t)&&L().isNumber(e)?Math.abs(e-t)<=5?"weight-class-middlin":e<t?"weight-class-bad":"weight-class-good":null,weightClassDesc(e){switch(e.split("-").reverse()[0]){case"good":return(0,ai.Z)("weightClassGood");case"middlin":return(0,ai.Z)("weightClassMiddlin");case"bad":return(0,ai.Z)("weightClassBad")}},tooltip(e,t){let n=["overall","volume","competition"];e.occurrences&&n.push("occurrences"),n=L().compact(L().map(n,(t=>{const n=t.toLowerCase();let i=e[n];if(L().isNumber(i)&&isFinite(i))return i=ge()(i).format("0.0"),"overall"===t&&(i="<span class='score'>"+i+"</span>"),[(0,ai.Z)(t),i].join(": ")})));const i=L().chain(e.query_shares).map(((e,t)=>({value:e,input:t,text:t}))).sortBy((e=>-e.value)).pluck("text").value(),r="<div>"+(0,ai.Z)("relatedTo")+"<br />"+i.join("<br>")+"</div>";let a=n.join("<br>");if(L().isNumber(t)&&a){const n=hL.weightClassName(t,e.competition);if(null===n)return;const i=hL.weightClassDesc(n);a+="<br>"+(0,ai.Z)("yourWeightClass")+": "+ge()(t).format("0,0"),a+='<span class="wc-dot '+n+'"></span><br>',a+="—"+i}if(i.length>1&&a.length&&(a+="<br><br>"),i.length>1&&(a+=r),a.length)return a}},getInitialState(){return{added:!!this.props.initialAdded||!1}},render(){const e=this.content(),t=hL.weightClassName(this.props.weightClass,this.keywordObject().competition),n=Fo()("keyword-item",t);return this.props.li?h.createElement("li",{className:n},e):e},keywordObject(){const e=this.props.kwObject;return e||{keyword:this.props.keyword}},getRankValue(){const e=this.kwObject||{};return this.props.rank||e.rank||e.search_rank},content(){const e=this.keywordObject(),t=hL.weightClassName(this.props.weightClass,e.competition),n=Fo()("keyword react-keyword",t,{"with-search-rank":!!this.getRankValue(),tag:this.props.tag}),i=void 0===this.props.kwins||!0===this.props.kwins?ES(e.keyword):null;let r=this.props.customTooltip;r||(r=hL.tooltip(e,this.props.weightClass));const a=this.props.keywordAsButton?"button":"span";return h.createElement(a,{className:n,"data-keyword":ES(e.keyword),"data-tip-message":r,"data-adjust-y":"30","data-follow":"true"},this.getAddButton(),h.createElement("span",{className:"keyword-text","data-keyword-addable":this.props.addable,"data-keyword-inspector":i,"data-keyword-namespace":this.props.namespace,"data-keyword-sources":e.sources},h.createElement("span",{className:"keyword-inner"},ES(e.keyword)),this.getScore()),this.getRank(),this.getDeleteButton())},getAddButton(){const e=this.keywordObject();if(!this.props.addable)return;const t=Fo()("plus-button",{"react-keyword":this.props.tag,added:this.state.added});return h.createElement("button",{className:t,title:(0,ai.Z)("addKeyword"),"data-event-value":e.keyword,onClick:t=>{if(!this.state.added&&(t.preventDefault(),t.stopPropagation(),this.setState({added:!0}),this.props.onKeywordAdded(e.keyword,this.props.namespace,e),this.props.rec)){(this.props.apply?_M:bM)(e.keyword,this.props.videoId)}}},this.state.added?"✔":"+")},getDeleteButton(){if(!this.props.deletable)return null;const e=this.keywordObject();return h.createElement("button",{className:"delete-button",title:(0,ai.Z)("deleteTitle"),onClick:t=>{t.preventDefault(),t.stopPropagation(),this.props.deleteKeyword(e.keyword)}},"✖")},getScore(){const e=this.keywordObject();if(e.score||e.overall){const t=e.score||e.overall;return h.createElement("b",{className:"score"},ge()(t).format("0.0"))}return null},getRank(){const e=this.keywordObject(),t=this.getRankValue();return t?h.createElement("span",{className:"search-rank","data-tip-message":(0,ai.Z)("keywordRankTooltip"),"data-follow":"true","data-keyword-addable":this.props.addable,"data-keyword-inspector":e.keyword,"data-keyword-namespace":this.props.namespace,"data-keyword-sources":e.sources},h.createElement("span",{className:"number-symbol"},"#"),t):null}}),pL=hL,fL=Oo()({displayName:"PlaylistTopKeywordsList",getInitialState:()=>({store:PF.getData(),permitted:(0,ve.h)().featurePermitted("topKeywords")}),UNSAFE_componentWillMount(){const e=this.state.store;(!e.keywords||L().isEmpty(e.keywords))&&!e.fetched&&dL.fetch(this.props.page,this.props.videos),PF.addChangeListener(this.onStoreChange)},componentWillUnmount(){PF.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:PF.getData()})},copyTags(){const e=L().pluck(this.state.store.keywords,"keyword");SS(e)},openCsvModal(){dt("Opened CSV Export top tags"),vS(`${this.props.page} tags`);const e=this.state.store.keywords;cs.create({title:(0,ai.Z)("csvExportTitle")+" ("+(0,ai.Z)("topKeywords")+")",innerComponent:xS,innerProps:{tags:e,mode:this.props.page}})},getKeywords(){return this.state.store.keywords.map(((e,t)=>h.createElement(pL,{key:t,li:!0,kwObject:e})))},getCsvExportTags(){const e=this.state.store.keywords;if(!L().isEmpty(e))return h.createElement("i",{className:"material-icons csv-export-tags",onClick:this.openCsvModal,"data-tip-message":(0,ai.Z)("csvExportTitle")},"file_download")},getCopyTagsButton(){const e=this.state.store.keywords;return!e||L().isEmpty(e)?null:h.createElement("button",{onClick:this.copyTags,className:"copy-tags",title:(0,ai.Z)("copyTags")})},upsell(){return this.state.permitted?null:h.createElement("div",{className:"vidiq-upsell"},h.createElement("p",{className:"pitch"},(0,ai.Z)("topKeywordsUpsell")),h.createElement(xs,{TopKeywords:!0,targetPlan:"pro",text:(0,ai.Z)("upgradeNowTitle")}))},loadingPart(){const e=this.state.store,t={width:(e.progress/e.numVideos*100).toString()+"%"};return h.createElement("div",{className:"loading-part"},h.createElement(os,{size:"big"}),h.createElement("div",{className:"progress-bar"},h.createElement("div",{className:"completed",style:t})))},tagContent(){return h.createElement("div",{className:"playlist-top-keywords"},this.getCsvExportTags(),this.getCopyTagsButton(),h.createElement("ul",{className:"tags"},this.getKeywords()),this.upsell())},render(){return this.state.store.loading?this.loadingPart():h.createElement("div",{className:"playlist-top-keywords-container"},this.tagContent())}}),mL=fL,gL=Oo()({displayName:"PlaylistTopKeywordsButton",mountKeywordsModal(){cs.create({title:(0,ai.Z)("topKeywords"),innerComponent:mL,innerProps:this.props})},render(){const e=Fo()("playlist-top-keywords-button",this.props.classes);return h.createElement(is,{testId:"channel-top-keywords-button",classes:e,text:(0,ai.Z)("topKeywords"),onClick:this.mountKeywordsModal})}}),vL=Oo()({displayName:"ChannelTrendingView",UNSAFE_componentWillMount(){L().isEmpty(this.props.videos)&&_L.fetchTrendingVideos()},alternateMessage(){const e=this.props.error?(0,ai.Z)("unexpectedError"):(0,ai.Z)("noVideosFound");return h.createElement("h1",{className:"vidiq-velocity-no-videos"},e)},videos(e){if(!this.props.videos||L().isEmpty(this.props.videos)||this.props.error)return this.alternateMessage();let t=e?this.props.videos:L().first(this.props.videos,6);return t=L().sortBy(t,"views_per_hour").reverse(),L().map(t,((e,t)=>h.createElement(Cs,{key:t,video:e})))},render(){const e=(0,ve.h)().featurePermitted("vphSort");return h.createElement("div",{className:"vidiq-velocity-view"},h.createElement("h1",{className:"vidiq-velocity-view-title"},(0,ai.Z)("velocityViewHeading")),h.createElement(gL,{page:"channel-trending",classes:"channel-trending"}),h.createElement("div",{className:"vidiq-velocity-videos-container"},this.props.loadingVideos?h.createElement(os,{size:"big"}):this.videos(e)),h.createElement(Es,{loading:this.props.loadingVideos,permitted:e}))}}),yL={activate(){yL.deselectYouTubeTab(),yL.mountView(),yL.pauseUpsellVideo(),gs.update({selected:!0})},pauseUpsellVideo(){const e=r()(".html5-video-player");if(e.length&&e.hasClass("playing-mode")){const t=e.find(".ytp-play-button");r()(t).click()}},verifyVideo(e){const t=new(r().Deferred);return fetch(we.Z.getVideoUrl(e),{credentials:"omit"}).then((e=>{if(e.ok)return e.text();t.reject()})).then((e=>{let n=!1;if((0,Ee.Z)(e)){n="unlisted"===nj(e)}else{const t=r()(e).find('meta[itemprop="unlisted"]'),i=!e.match(/'IS_UNAVAILABLE_PAGE': false/);n="True"===r()(t).attr("content")||i}return t.resolve(!n)})).catch(t.reject),t.promise()},verifyVideos(e){const t=new(r().Deferred),n=[],i=[];for(let t=0;t<e.length;t+=1)n.push(this.verifyVideo(e[t]));return r().when(...n).done((function(...n){for(let t=0;t<n.length;t+=1)n[t]&&i.push(e[t]);return t.resolve(i)})),t.promise()},fetchTrendingVideos(){const e=new(r().Deferred);return IO().then((t=>{const n={channel_ids:[t],email_frequency:"all",sort:"views_per_hour",min_recorded_at:3};P.Z.expanded("vidiq.competitorTrendAlert",{body:n}).then((({response:t,json:n})=>{if(!t.ok)return e.reject(t.status+" "+t.statusText);e.resolve(n)}))})),e.promise()},thumbnail:e=>"https://i.ytimg.com/vi/"+e+"/hqdefault.jpg?custom=true&w=196&h=110",mountView(){const e=(0,Ee.Z)()?"ytd-two-column-browse-results-renderer.ytd-browse:not(.vidiq-velocity-view-container)":".branded-page-v2-col-container-inner";r()(e).hide(),we.Z.mountComponent({component:vL,selector:e,insertFn:"after",rootEl:(0,Ee.Z)()?"<ytd-two-column-browse-results-renderer/>":"",rootClass:"vidiq-velocity-view-container ytd-browse"})},deselectYouTubeTab(){if((0,Ee.Z)())this.newLayoutTabs();else{const e=[".appbar-nav-menu","#channel-navigation-menu"];L().each(e,(function(e){const t=r()(e+' [aria-selected="true"]'),n=t.text().trim(),i=this._getDeselectedYouTubeTabMarkup(n);t.replaceWith(i)}),this)}},_getDeselectedYouTubeTabMarkup:e=>'<a onclick="window.location.reload()" class="'+Fo()("yt-uix-button","spf-link","yt-uix-sessionlink","yt-uix-button-epic-nav-item","yt-uix-button-size-default")+'" aria-selected="false"><span class="yt-uix-button-content">'+e+"</span></a>",newLayoutTabs(){r()("tp-yt-paper-tab.iron-selected").blur(),r()("tp-yt-paper-tab.iron-selected").removeClass("iron-selected"),r()("#selectionBar").hide(),r()(".tab-content").click((()=>{(0,Y.Z)("clicked"),r()("#selectionBar").css("display","block"),r()("ytd-two-column-browse-results-renderer.ytd-browse").show(),r()(".vidiq-velocity-view-container").remove(),gs.update({selected:!1})}))}},bL=yL,_L={update(e){ko.Z.dispatch({data:e,action:us.UPDATE})},activate(e){ko.Z.dispatch({data:e,action:us.ACTIVATE})},updateStatsTabLoading(){this.update({loadingKeywords:!0,loadingInfo:!0,loadingStats:!0})},fetchGraphData(){IO().then((e=>{yt.Z.getChannelStatistics(e).then((e=>{const t=(0,fs.Rl)(e),n=(0,fs._R)(t),i=(0,fs.NP)(n),r=this.getChannelStatsObject(i,t);this.update({graphData:t,channelStats:r,range:i,loadingStats:!1,minDate:n.startDate,maxDate:n.endDate})})).catch((()=>{this.update({error:!0,loadingStats:!1})}))}))},fetchChannelKeywords(){const e=new(r().Deferred);return RO.getKeywords(window.location.href).done((t=>{this.update({keywords:t,loadingKeywords:!1}),e.resolve()})),e.promise()},fetchChannelInfo(){const e=new(r().Deferred),t=["subscriber_rank","view_rank","category","channel_country","instagram_followers","twitter_followers","facebook_followers"];return RO.getVideoId().done((e=>{cL(e,t).done((e=>{this.update({info:e,loadingInfo:!1})}))})).always(e.resolve),e.promise()},fetchChannelRankings(){const e=new(r().Deferred);return IO().then((t=>{RO.fetchChannelRankings(t).done((t=>{e.resolve(t)})).fail(e.reject)})),e.promise()},getChannelStatsObject(e,t,n){if(!t||!t.values||L().isEmpty(t.values))return{};const i={range:e,data:t,interval:n};return{views:(0,fs.dD)("views",i),subscribers:(0,fs.dD)("subscribers",i),videos:(0,fs.dD)("videos",i)}},setChannelStats(e,t,n){this.update({channelStats:this.getChannelStatsObject(e,t,n),range:e})},fetchTrendingVideos(){this.update({loadingVideos:!0}),bL.fetchTrendingVideos().done(this._verifyVideos.bind(this)).fail(this.update.bind(this,{error:!0,loadingVideos:!1}))},_verifyVideos(e){const t=L().pluck(e,"video_id");bL.verifyVideos(t).done((t=>{const n=e.filter((e=>L().contains(t,e.video_id)));this.update({videos:n,loadingVideos:!1})}))}};const wL=function({data:e,overview:t}){const{percentChange:n,prevDates:i,prevRangeTotal:r}=e;if(!n||isNaN(n))return null;const a=n>=0?"arrow_drop_up":"arrow_drop_down",o=(100*Math.abs(n)).toFixed(0)+"%",s=Fo()("stat-value-change",{positive:n>=0,negative:n<0}),l=(0,ai.Z)("percentChangeTooltip",[(n>0?"+":"")+(100*n).toFixed(2),`${i[0]} - ${i[i.length-1]}`]);return h.createElement("div",{className:s,"data-tip-message":l},h.createElement("span",{className:"change-caret"},h.createElement("i",{className:"material-icons"},a)),h.createElement("span",{className:"change-percent"},o),t&&h.createElement("div",{className:"change-comparison"},(0,ai.Z)("comparisonLabel").replace("$1",ge()(r).format("0,0"))))};var kL=__webpack_require__(1681);const xL=Oo()({displayName:"ChannelStatsRangeSelector",getInitialState:()=>({show:!1}),componentDidMount(){document.addEventListener("mousedown",this.handleClick,!1)},componentWillUnmount(){document.removeEventListener("mousedown",this.handleClick,!1)},handleClick(e){this.node.contains(e.target)||this.setState({show:!1})},componentDidUpdate(e){e.interval!==this.props.interval&&_L.setChannelStats(this.props.range,this.props.graphData,this.props.interval)},onChange(e){const t=wt()(e.startDate,fs.zT).format(fs.zT),n=wt()(e.endDate,fs.zT).format(fs.zT);t!==n&&(_L.setChannelStats({startDate:t,endDate:n},this.props.graphData,this.props.interval),ht("changed channel stats date range",{"changed to":(0,fs.t0)(t,n,this.props.maxDate),"start date":t,"end date":n,overview:this.props.overview||!1,graph:"videos"===this.props.id?"videos published":this.props.id}))},onInit(){},theme:()=>({DaySelected:{background:"#549dd2"},PredefinedRangesItemActive:{color:"#549dd2"}}),toggleBody(){const e=!this.state.show;this.setState({show:e}),e&&ht("clicked on channel stats range selector",{overview:this.props.overview||!1})},head(){if(!this.props.range)return null;const e=Fo()("vidiq-range-selector-head",{selected:this.state.show});return h.createElement("div",{className:e,onClick:this.toggleBody},this.props.range.startDate,h.createElement("i",{className:"material-icons arrow"},"arrow_forward"),this.props.range.endDate,h.createElement("i",{className:"material-icons menu"},"menu"))},body(){if(!this.state.show||!this.props.range)return null;const{startDate:e,endDate:t}=this.props.range,{minDate:n,maxDate:i}=this.props;return h.createElement("div",{className:"vidiq-range-selector-body"},h.createElement(kL.DateRange,{onChange:this.onChange,onInit:this.onInit,ranges:(0,fs.ir)(n,i),theme:this.theme(),format:fs.zT,minDate:n,maxDate:i,startDate:e,endDate:t}))},render(){return this.props.channelStats?h.createElement("div",{className:"vidiq-range-selector",ref:e=>this.node=e},this.head(),this.body()):null}}),EL=xL,CL="0,0",SL=Oo()({displayName:"ChannelStatsOverview_Inner",getInitialState(){const{interval:e,channelStats:t,id:n}=this.props,i=t[n];return{interval:e||(i.dates.length>=60?7:1)}},average(e){let t=this.props.id;e=ge()(e).format(CL),"subscribers"===t&&(t="subs");let n="Day";7===this.state.interval?n="Week":30===this.state.interval&&(n="Month");let i="avg"+we.Z.capitalize(t)+"Per"+n;return 1!==this.state.interval||"views"!==t&&"subs"!==t||(i="avgDaily"+we.Z.capitalize(t)+"StatLabel"),h.createElement("div",{className:"channel-stat-overview-avg"},h.createElement("div",{className:"channel-stat-overview-avg-value"},e),h.createElement("div",{className:"channel-stat-overview-avg-label"},(0,ai.Z)(i)))},totalName(){let e;switch(this.props.id){case"views":e="channelViewsStatLabel";break;case"subscribers":e="channelSubscribersStatLabel";break;case"videos":e="videoPlural"}return(0,ai.Z)(e)},onIntervalChange(e){const t=parseInt(e.target.value,10);this.setState({interval:t}),_L.update({interval:t}),function({type:e,interval:t,overview:n}){let i="days";7===t&&(i="weeks"),30===t&&(i="months"),ht("changed channel stats graph interval",{graph:"videos"===e?"videos published":e,"changed to":i,overview:n||!1})}({type:this.props.id,interval:t,overview:!0})},selectors(){const e={interval:this.state.interval,overview:!0,...this.props};return h.createElement("div",{className:"range-selectors"},h.createElement("select",{value:this.state.interval,onChange:this.onIntervalChange},h.createElement("option",{value:1},(0,ai.Z)("daysIntervalOption")),h.createElement("option",{value:7},(0,ai.Z)("weeksIntervalOption")),h.createElement("option",{value:30},(0,ai.Z)("monthsIntervalOption"))),h.createElement(EL,e))},render(){const e=this.props.channelStats[this.props.id],t=ge()(e.rangeTotal).format(CL),n=ge()(e.values[e.values.length-1]).format(CL);return h.createElement("div",{className:"channel-stat-overview-container"},this.selectors(),h.createElement("div",{className:"channel-stat-overview-numbers"},h.createElement("div",{className:"channel-stat-overview-value"},t,h.createElement("div",{className:"channel-overview-value-label"},this.props.statLabel)),h.createElement("div",{className:"channel-stat-overview-avg"},this.average(e.average)),h.createElement(wL,{data:e,overview:!0})),h.createElement(Uo,{statKey:this.props.id,dataKey:"overview",values:e.growth,dates:e.intervalDates.slice(1),overview:!0}),h.createElement("div",{className:"channel-stat-overview-numbers"},h.createElement("div",{className:"channel-stat-overview-value"},n,h.createElement("div",{className:"channel-overview-value-label"},this.totalName()))),h.createElement(Uo,{statKey:this.props.id,dataKey:"overview-total",values:e.intervalTotals,dates:e.intervalDates,overview:!0}))}}),TL=ug(SL,ps),DL=cs;const FL=function({dataKey:e,data:t,label:n}){return!t||Ho()(t)?null:h.createElement("div",{key:e,id:e,className:"channel-tab-stat",onClick:()=>{DL.create({title:(0,ai.Z)("statsOverview"),innerComponent:TL,size:"large",classes:"vidiq-channel-stats-overview-modal",innerProps:{id:e,statLabel:n}}),ht("opened channel stats overview modal",{graph:"videos"===e?"videos published":e})}},h.createElement("div",{className:"channel-tab-stat-value"},ge()(t.rangeTotal).format("0,0")),h.createElement(wL,{data:t}),h.createElement(Uo,{statKey:e,dataKey:e,values:t.growth,dates:t.intervalDates.slice(1)}),h.createElement("div",{className:"channel-tab-stat-title"},n))};const ML=function({channelStats:e}){if(!e)return null;const t={subscribers:(0,ai.Z)("channelSubscribersStatLabel"),views:(0,ai.Z)("viewsStatLabel"),videos:(0,ai.Z)("videosPublished")},n=Object.keys(e).map((n=>{const i=e[n];return h.createElement(FL,{key:n,dataKey:n,data:i,label:t[n]})}));return h.createElement("div",{className:"channel-tab-stats"},n)};const AL=function({infoKey:e,data:t}){let n,i=(0,je.isObject)(t)?t.value:t;if(!(0,je.isNumber)(i)||"view_rank"!==e&&"subscriber_rank"!==e?(0,je.isNumber)(i)&&(i=ge()(i).format("0,0")):i=ge()(i).format("0,0o"),!i)return null;switch(e){case"channel_country":n=(0,ai.Z)("channelCountryStatLabel");break;case"category":n=(0,ai.Z)("categoryTitle");break;case"instagram_followers":case"twitter_followers":case"facebook_followers":n=(0,ai.Z)(we.Z.camelCase(e)+"StatLabel");break;default:n=(0,ai.Z)(we.Z.camelCase(e))}let r=Math.ceil(200/i.length);r<16&&(r=16),r>45&&(r=45);const a=h.createElement("div",{className:"channel-info-box",key:e},h.createElement("div",{className:"channel-info-label"},n.toLowerCase()),h.createElement("div",{className:"channel-info-value",style:{fontSize:`${r.toString()}px`}},i));return"instagram_followers"===e||"twitter_followers"===e||"facebook_followers"===e?h.createElement("a",{className:"channel-info-box-link",key:e,href:t.link,target:"_blank",rel:"noopener noreferrer"},a):a};const IL=function({info:e}){if(!e||Ho()(e))return null;const t=Object.keys(e).map((t=>{const n=t;return h.createElement(AL,{key:n,infoKey:n,data:e[n]})}));return h.createElement("div",{className:"channel-info"},t)},OL=we.Z.keyMirror(["UPDATE"],"KEYWORD_DATA"),NL=new ds.Z("KeywordDataStore",{_data:{}});NL.dispatchToken=ko.Z.register((e=>{const t=NL,n=OL;if(t&&e.action===n.UPDATE)L().extend(t.data,e.payload),t.emitChange()}));const PL=NL,RL={fetchKeywordData(e){const t=L().keys(PL.getData()),n=L().difference(e,t);t.length&&L().isEmpty(n)||(0,P.Z)("vidiq.hottersearch",{skipRecs:!0,query:n}).then(this.fromResponse)},fromResponse(e){if(0===Object.keys(e).length)return;const t=L().extend({},e.search_stats.compvol||{}),n=L().keys(t);L().each(n,(e=>{t[e]?L().extend(t[e],{keyword:e}):t[e]={keyword:e}})),this.update(t)},update(e){ko.Z.dispatch({payload:e,action:OL.UPDATE})}},jL=RL,LL=Oo()({displayName:"ToggleLimit",getInitialState:()=>({expanded:!1}),onClick(){this.setState({expanded:!this.state.expanded})},exceedsLimit(){return this.props.children.length>this.props.limit},render(){let e=this.props.children;if(!e||L().isEmpty(e))return null;if(!L().isArray(e))return e;const t=this.exceedsLimit();return!this.state.expanded&&t&&(e=e.slice(0,this.props.limit)),h.createElement("div",null,this.props.container?this.props.container(e):e,t?this.button():null)},button(){const e=Fo()("toggle-extra",{"show-more":!this.state.expanded}),t=this.state.expanded?null:h.createElement("div",{className:"text"},(0,ai.Z)("showMoreTitle",[this.props.children.length-this.props.limit]));return h.createElement("button",{className:e,onClick:this.onClick},t,h.createElement("div",{className:"background-image"}))}}),qL=Oo()({displayName:"KeywordList",getInitialState(){return this.store=PL,{store:this.store.getData()}},UNSAFE_componentWillReceiveProps(e){this.props.getData&&jL.fetchKeywordData(e.keywords)},UNSAFE_componentWillMount(){this.props.getData&&jL.fetchKeywordData(this.props.keywords),this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},getKeywords(){return L().map(this.props.keywords,((e,t)=>{let n;return L().isObject(e)?(n=e,e=n.keyword||n.text,n=L().extend({},n,{keyword:e})):n=this.state.store[e]||{keyword:e},h.createElement("li",{key:e+"-"+t},h.createElement(pL,{kwObject:n,rank:n.search_rank,addable:this.props.addable,namespace:this.props.namespace,kwins:this.props.kwins,onKeywordAdded:this.props.onKeywordAdded}))}))},render(){if(this.props.channel){const e=L().map(this.props.keywords,((e,t)=>h.createElement(pL,{keyword:e,key:t})));return h.createElement("div",{className:"keyword-list"},e)}const e=e=>h.createElement("ul",{className:this.props.classes},e);return this.props.limit?h.createElement(LL,{limit:this.props.limit,name:"keyword-list",container:e,children:this.getKeywords()}):h.createElement("ul",{className:this.props.classes},this.getKeywords())}}),ZL=qL,BL=Oo()({displayName:"ChannelStatsView",UNSAFE_componentWillMount(){(Ho()(this.props.keywords)||Ho()(this.props.info)||Ho()(this.props.graphData))&&(_L.updateStatsTabLoading(),_L.fetchChannelKeywords(),_L.fetchChannelInfo(),_L.fetchGraphData())},keywords(){if(Ho()(this.props.keywords))return null;return h.createElement("div",{className:"channel-keyword-list"},h.createElement(ZL,{channel:!0,keywords:this.props.keywords}),h.createElement("button",{onClick:()=>{SS(this.props.keywords)},className:"copy-tags",title:(0,ai.Z)("copyTags")}))},isLoading(){const e=this.props;return e.loadingKeywords||e.loadingInfo||e.loadingStats},spinner(){return this.isLoading()?h.createElement("div",{className:"channel-stats-spinner"},h.createElement(os,{size:"big"})):null},render(){return h.createElement("div",{className:"vidiq-react"},this.spinner(),h.createElement(IL,{info:this.props.info}),h.createElement(EL,this.props),h.createElement(ML,{channelStats:this.props.channelStats}),this.keywords())}}),VL=we.Z.keyMirror(["UPDATE"],"THUMBNAIL_EDITOR");var zL=__webpack_require__(3857),UL=__webpack_require__.n(zL);const WL=new ds.Z("StudioBetaStore",{_data:{videoId:null,channelName:null,channelId:null,tagRecsAdded:[],keywords:[],keywordScore:[],title:"",description:"",hotSearch:{},fetchingHotSearch:!1,hotSearchError:!1,refetchHotKeywords:!1,weightClass:null,trendy:{},fetchingTrendy:!1,trendyError:!1,seoScoreData:{},fetchingSeoScoreData:!1,seoScoreError:!1,seoChecklist:{},fetchingSeoChecklist:!1,seoChecklistError:!1,bestTimeToPost:{},fetchingBestTimeToPost:!1,bestTimeToPostError:null,timePublished:null,keywordRanks:{},permitted:!1,optimized:!1,translationSource:"auto",translationTarget:"choose",translatedKeywords:[],fetchingTranslations:!1,translateError:void 0,autocomplete:[],autocompleteScores:{},tagInputText:"",privacy:null,persisted:{title:null,description:null,keywords:[],privacy:null},settings:ye.Z.getItem("upload_settings")||{},highlightControversialKeywords:!1,controversialKeywordsList:{},controversialKeywordsCount:{},controversialKeywordsPopover:{x:0,y:0,visible:!1,keyword:"",nature:""},seoScoreReportExpanded:!1,keySearchTerm:"",keySearchTermHotSearch:{},keySearchTermHotSearchLoading:!1,keySearchTermHotSearchError:null}});WL.dispatchToken=ko.Z.register((e=>{const t=WL,n=To;switch(e.action){case n.UPDATE:L().extend(t.data,e.data),!e.data.tagRecsAdded&&e.data.keywords&&(t.data.tagRecsAdded=t.data.tagRecsAdded.filter((t=>e.data.keywords.indexOf(t)>=0))),t.emitChange(),c3.dispatch((i=t.data,{type:va,payload:i}));break;case n.TRACK_TAG_REC:t.data.tagRecsAdded.push(e.keyword);break;case n.UPDATE_SEO_CHECKLIST:UL()(t.data.seoChecklist,e.data),t.emitChange(),c3.dispatch(function(e){return{type:ya,payload:e}}(t.data.seoChecklist))}var i}));const HL=WL,YL=new ds.Z("ThumbnailEditorStore",{_data:{videoId:null,color:"#549dd2",defaultColor:"#fff",defaultBorderColor:"#000",defaultBorderWidth:0,defaultOpacity:1,defaultTextAttributes:{font:"Helvetica",weight:"normal",decoration:"none",size:"48"},uploadedImage:null,backgroundImageUri:null,thumbnailUri:null,currentThumbnail:null,fabricJson:null,activeTabs:{},canvases:{},saved:!1,error:null,loading:!1,buffered:!1}});YL.dispatchToken=ko.Z.register((e=>{const t=YL,n=VL;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const $L=YL;class KL extends h.Component{getAppropriateMessage(){return(0,ve.h)().featurePermitted("uploadAndEdit")?this.props.suggestions.length?(0,ai.Z)(`recommendedKeywordsFor${this.props.type}`):(0,ai.Z)(`addMoreTagsFor${this.props.type}Recs`):(0,ai.Z)(`upgradeToBoostFor${this.props.type}Recs`)}render(){return h.createElement("div",{className:"vidiq-upload-modal-input-suggestions-message-container"},h.createElement("div",null,h.createElement(ts,{size:"16px"}),h.createElement("span",{className:"vidiq-upload-modal-input-suggestions-message"},this.getAppropriateMessage())),!(0,ve.h)().featurePermitted("uploadAndEdit")&&h.createElement(xs,{upsell:"Rec"+this.props.type,className:"vidiq-upload-demonetization-keyword-highlight-upsell-button",targetPlan:"boost",text:(0,ai.Z)("boostUpgradeTitle")}))}}function GL(e){return function(e,t){const n=(0,h.useRef)(t),[i,r]=(0,h.useState)(t(e.getData())===e.getData()?Object.assign({},e.getData()):t(e.getData()));return(0,h.useEffect)((()=>{const t=()=>{const t=n.current(e.getData());r(t===e.getData()?Object.assign({},t):t)};return e.addChangeListener(t),()=>{e.removeChangeListener(t)}}),[e]),i}(HL,e)}const XL=Oo()({displayName:"StudioBetaKeywordScore",render(){if(!this.props.compvol||!this.props.compvol.overall)return null;const e=Fo()("vidiq-studio-beta-keyword-score",this.props.classes),t=this.props.compvol.overall.toFixed(1);if(!this.props.showTooltip)return h.createElement("div",{className:e},t);const n=pL.tooltip(this.props.compvol,this.props.weightClass);return h.createElement("div",{className:e,"data-tip-message":n},t)}}),QL=Oo()({displayName:"StudioBetaKeyword_Inner",getInitialState:()=>({added:!1}),addKeyword(){if(this.props.rec){C2.trackTagRec(this.props.keywordObject.keyword);(this.props.apply?_M:bM)(this.props.keywordObject.keyword,this.props.videoId)}else this.props.trend&&(e=this.props.keywordObject.keyword,t=this.props.videoId,e&&(t=t||vM(),ht("added tag from videos to gain views from",{"video id":t,tag:e,_identify:{add:{"trending videos tags added count":1}}})));var e,t;this.props.addKeyword?this.props.addKeyword(this.props.keywordObject.keyword):D2.addKeyword(this.props.keywordObject.keyword),this.setState({added:!0})},removeKeyword(){this.props.removeKeyword(this.props.keywordObject.keyword)},hasKeyword(){return this.props.inputSuggestion?this.state.added:this.state.added||this.props.keywords.indexOf(this.props.keywordObject.keyword)>=0},checkmarkIcon:()=>h.createElement("div",{className:"vidiq-studio-beta-keyword-check"},"✓"),addKeywordButton(){return this.props.noAddButton?null:this.hasKeyword()?this.checkmarkIcon():h.createElement("div",{className:"vidiq-studio-beta-keyword-add",keyword:this.props.keywordObject.keyword,onClick:this.addKeyword},"+")},removeButton(){return this.props.removeKeyword?h.createElement("div",{className:"vidiq-studio-beta-keyword-remove",onClick:this.removeKeyword},"✖"):null},render(){const e=Fo()("vidiq-studio-beta-keyword",this.props.classes,pL.weightClassName(this.props.weightClass,this.props.keywordObject.competition),{"vidiq-title-desc-suggestion":this.props.inputSuggestion}),t=this.props.namespace||"studio-beta-edit";return h.createElement("div",{className:e,"data-tip-message":pL.tooltip(this.props.keywordObject,this.props.weightClass),"data-adjust-y":"30","data-follow":"true"},this.addKeywordButton(),h.createElement("div",{className:"vidiq-studio-kwins-wrapper","data-keyword-inspector":this.props.keywordObject.keyword,"data-keyword-addable":!0,"data-keyword-namespace":t},h.createElement("div",{className:"vidiq-studio-beta-keyword-text"},this.props.keywordObject.keyword),h.createElement(XL,{compvol:this.props.keywordObject,weightClass:this.props.weightClass,showTooltip:!1})),this.removeButton())}}),JL=ug(QL,HL);function eq(e,t,n){if(Ho()(t)&&Ho()(e))return[];let i;if(Ho()(t)&&e.search_stats){const t=e.search_stats.compvol;i=function(e){return Object.keys(e)}(t).map((e=>Object.assign({keyword:e},t[e])))}else{if(void 0===t.keywords)throw new Error("No keyword stats found.");i=t.keywords}n=(n||"").toLowerCase();let r=fc(i,"overall",!0).slice(0,5);return r=r.filter((e=>!n.includes(e.keyword))),r}function tq(e,t,n={bubbles:!0,cancelable:!1}){const i=document.createEvent("HTMLEvents");i.initEvent(t,n.bubbles,n.cancelable),e.dispatchEvent(i)}let nq;!function(e){e.Title="title",e.Description="description"}(nq||(nq={}));const iq=({type:e,textbox:t})=>{const[n,i]=(0,h.useState)(!0),{title:r,description:a,fetchingHotSearch:o,hotSearch:s,keySearchTermHotSearch:l}=GL((e=>e));if((0,h.useEffect)((()=>{if(e===nq.Title)i(!1);else{const e=NY.getChannelId(),t=D2.getTagElements(),n=Array.from(t).map((e=>e.textContent));0===n.length?i(!1):C2.fetchHotSearch(n,e)}}),[e]),(0,h.useEffect)((()=>{o&&i(!1)}),[o]),n||o)return null;const c=n=>{t.textContent+=` ${n}`;const i=document.querySelector(IR.studioUploadDialog)?"upload video":"edit video";gM({section:i,input:e}),tq(t,"input")},u=eq(s,l,e===nq.Title?r:a),d=(0,ve.h)().featurePermitted("uploadAndEdit")&&u.length>0,p=u.map((e=>h.createElement(JL,{key:e.keyword,keywordObject:e,addKeyword:c,inputSuggestion:!0})));return h.createElement("div",{className:"vidiq-upload-modal-input-suggestions"},e===nq.Title?h.createElement("div",{id:"vidiq-title-recommendations"}):h.createElement(h.Fragment,null,h.createElement(I,{name:tt.DESCRIPTION_RECOMMENDATIONS,abClient:R},h.createElement(N,{name:"control"},h.createElement(KL,{type:e,suggestions:u}),d&&h.createElement("div",{className:"vidiq-upload-modal-input-suggestions-list"},p)),h.createElement(N,{name:"variant"},h.createElement("div",{id:"vidiq-description-recommendations"})))))};var rq=h.createContext(null);var aq=function(e){e()},oq=function(){return aq};var sq={notify:function(){},get:function(){return[]}};function lq(e,t){var n,i=sq;function r(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(r):e.subscribe(r),i=function(){var e=oq(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var i=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){i&&null!==t&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}var o={addNestedSub:function(e){return a(),i.subscribe(e)},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,i.clear(),i=sq)},getListeners:function(){return i}};return o}var cq="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?h.useLayoutEffect:h.useEffect;const uq=function(e){var t=e.store,n=e.context,i=e.children,r=(0,h.useMemo)((function(){var e=lq(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=(0,h.useMemo)((function(){return t.getState()}),[t]);cq((function(){var e=r.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,a]);var o=n||rq;return h.createElement(o.Provider,{value:r},i)};var dq=__webpack_require__(2973),hq=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],pq=["reactReduxForwardedRef"],fq=[],mq=[null,null];function gq(e,t){var n=e[1];return[t.payload,n+1]}function vq(e,t,n){cq((function(){return e.apply(void 0,t)}),n)}function yq(e,t,n,i,r,a,o){e.current=i,t.current=r,n.current=!1,a.current&&(a.current=null,o())}function bq(e,t,n,i,r,a,o,s,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=i(h,r.current)}catch(e){n=e,d=e}n||(d=null),e===a.current?o.current||l():(a.current=e,s.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var _q=function(){return[null,0]};function wq(e,t){void 0===t&&(t={});var n=t,i=n.getDisplayName,r=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=n.methodName,o=void 0===a?"connectAdvanced":a,s=n.renderCountProp,l=void 0===s?void 0:s,c=n.shouldHandleStateChanges,u=void 0===c||c,d=n.storeKey,p=void 0===d?"store":d,f=(n.withRef,n.forwardRef),m=void 0!==f&&f,g=n.context,v=void 0===g?rq:g,y=Pi(n,hq),b=v;return function(t){var n=t.displayName||t.name||"Component",i=r(n),a=(0,kt.Z)({},y,{getDisplayName:r,methodName:o,renderCountProp:l,shouldHandleStateChanges:u,storeKey:p,displayName:i,wrappedComponentName:n,WrappedComponent:t}),s=y.pure;var c=s?h.useMemo:function(e){return e()};function d(n){var i=(0,h.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Pi(n,pq);return[n.context,e,t]}),[n]),r=i[0],o=i[1],s=i[2],l=(0,h.useMemo)((function(){return r&&r.Consumer&&(0,dq.isContextConsumer)(h.createElement(r.Consumer,null))?r:b}),[r,b]),d=(0,h.useContext)(l),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(d)&&Boolean(d.store);var f=p?n.store:d.store,m=(0,h.useMemo)((function(){return function(t){return e(t.dispatch,a)}(f)}),[f]),g=(0,h.useMemo)((function(){if(!u)return mq;var e=lq(f,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,p,d]),v=g[0],y=g[1],_=(0,h.useMemo)((function(){return p?d:(0,kt.Z)({},d,{subscription:v})}),[p,d,v]),w=(0,h.useReducer)(gq,fq,_q),k=w[0][0],x=w[1];if(k&&k.error)throw k.error;var E=(0,h.useRef)(),C=(0,h.useRef)(s),S=(0,h.useRef)(),T=(0,h.useRef)(!1),D=c((function(){return S.current&&s===C.current?S.current:m(f.getState(),s)}),[f,k,s]);vq(yq,[C,E,T,s,D,S,y]),vq(bq,[u,f,v,m,C,E,T,S,y,x],[f,v,m]);var F=(0,h.useMemo)((function(){return h.createElement(t,(0,kt.Z)({},D,{ref:o}))}),[o,t,D]);return(0,h.useMemo)((function(){return u?h.createElement(l.Provider,{value:_},F):F}),[l,F,_])}var f=s?h.memo(d):d;if(f.WrappedComponent=t,f.displayName=d.displayName=i,m){var g=h.forwardRef((function(e,t){return h.createElement(f,(0,kt.Z)({},e,{reactReduxForwardedRef:t}))}));return g.displayName=i,g.WrappedComponent=t,Gc()(g,t)}return Gc()(f,t)}}function kq(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function xq(e,t){if(kq(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!kq(e[n[r]],t[n[r]]))return!1;return!0}function Eq(e){return function(t,n){var i=e(t,n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function Cq(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Sq(e,t){return function(t,n){n.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=Cq(e);var r=i(t,n);return"function"==typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=Cq(r),r=i(t,n)),r},i}}const Tq=[function(e){return"function"==typeof e?Sq(e):void 0},function(e){return e?void 0:Eq((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Eq((function(t){return function(e,t){var n={},i=function(i){var r=e[i];"function"==typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var r in e)i(r);return n}(e,t)})):void 0}];const Dq=[function(e){return"function"==typeof e?Sq(e):void 0},function(e){return e?void 0:Eq((function(){return{}}))}];function Fq(e,t,n){return(0,kt.Z)({},n,e,t)}const Mq=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var i,r=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var l=e(t,n,s);return o?r&&a(l,i)||(i=l):(o=!0,i=l),i}}}(e):void 0},function(e){return e?void 0:function(){return Fq}}];var Aq=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Iq(e,t,n,i){return function(r,a){return n(e(r,a),t(i,a),a)}}function Oq(e,t,n,i,r){var a,o,s,l,c,u=r.areStatesEqual,d=r.areOwnPropsEqual,h=r.areStatePropsEqual,p=!1;function f(r,p){var f,m,g=!d(p,o),v=!u(r,a);return a=r,o=p,g&&v?(s=e(a,o),t.dependsOnOwnProps&&(l=t(i,o)),c=n(s,l,o)):g?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(l=t(i,o)),c=n(s,l,o)):v?(f=e(a,o),m=!h(f,s),s=f,m&&(c=n(s,l,o)),c):c}return function(r,u){return p?f(r,u):(s=e(a=r,o=u),l=t(i,o),c=n(s,l,o),p=!0,c)}}function Nq(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,r=t.initMergeProps,a=Pi(t,Aq),o=n(e,a),s=i(e,a),l=r(e,a);return(a.pure?Oq:Iq)(o,s,l,e,a)}var Pq=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Rq(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function jq(e,t){return e===t}function Lq(e){var t=void 0===e?{}:e,n=t.connectHOC,i=void 0===n?wq:n,r=t.mapStateToPropsFactories,a=void 0===r?Dq:r,o=t.mapDispatchToPropsFactories,s=void 0===o?Tq:o,l=t.mergePropsFactories,c=void 0===l?Mq:l,u=t.selectorFactory,d=void 0===u?Nq:u;return function(e,t,n,r){void 0===r&&(r={});var o=r,l=o.pure,u=void 0===l||l,h=o.areStatesEqual,p=void 0===h?jq:h,f=o.areOwnPropsEqual,m=void 0===f?xq:f,g=o.areStatePropsEqual,v=void 0===g?xq:g,y=o.areMergedPropsEqual,b=void 0===y?xq:y,_=Pi(o,Pq),w=Rq(e,a,"mapStateToProps"),k=Rq(t,s,"mapDispatchToProps"),x=Rq(n,c,"mergeProps");return i(d,(0,kt.Z)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:k,initMergeProps:x,pure:u,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:v,areMergedPropsEqual:b},_))}}const qq=Lq();function Zq(){return(0,h.useContext)(rq)}function Bq(e){void 0===e&&(e=rq);var t=e===rq?Zq:function(){return(0,h.useContext)(e)};return function(){return t().store}}var Vq=Bq();function zq(e){void 0===e&&(e=rq);var t=e===rq?Vq:Bq(e);return function(){return t().dispatch}}var Uq=zq(),Wq=function(e,t){return e===t};function Hq(e){void 0===e&&(e=rq);var t=e===rq?Zq:function(){return(0,h.useContext)(e)};return function(e,n){void 0===n&&(n=Wq);var i=t(),r=function(e,t,n,i){var r,a=(0,h.useReducer)((function(e){return e+1}),0)[1],o=(0,h.useMemo)((function(){return lq(n,i)}),[n,i]),s=(0,h.useRef)(),l=(0,h.useRef)(),c=(0,h.useRef)(),u=(0,h.useRef)(),d=n.getState();try{if(e!==l.current||d!==c.current||s.current){var p=e(d);r=void 0!==u.current&&t(p,u.current)?u.current:p}else r=u.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return cq((function(){l.current=e,c.current=d,u.current=r,s.current=void 0})),cq((function(){function e(){try{var e=n.getState();if(e===c.current)return;var i=l.current(e);if(t(i,u.current))return;u.current=i,c.current=e}catch(e){s.current=e}a()}return o.onStateChange=e,o.trySubscribe(),e(),function(){return o.tryUnsubscribe()}}),[n,o]),r}(e,n,i.store,i.subscription);return(0,h.useDebugValue)(r),r}}var Yq,$q=Hq();Yq=Yo.unstable_batchedUpdates,aq=Yq;class Kq extends h.Component{render(){const e=Fo()("vidiq-general-upsell",this.props.classes);return h.createElement("div",{className:e},h.createElement("div",{className:"vidiq-general-upsell-text"},this.props.text),h.createElement(xs,{upsell:this.props.upsell,text:this.props.buttonText,targetPlan:this.props.targetPlan,className:"vidiq-general-upsell-button",resetClassName:!0,onClick:this.props.onClick}))}}const Gq=Kq;function Xq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Qq extends h.Component{constructor(e){super(e),Xq(this,"onStoreChange",(()=>{const{preview:e,previewThumbSection:t}=HL.getData().settings,n=this.props.forThumbnailSection?t:e;n!==this.state.display&&this.setState({display:n})})),Xq(this,"onClick",(()=>{const{videoId:e,forThumbnailSection:t}=this.props;ht("clicked on preview button",{location:(0,be.Z)(),"video id":e,"cta button":t?"thumbnail preview":"general preview"}),this.props.toggleWindow()}));const{preview:t,previewThumbSection:n}=HL.getData().settings;this.state={display:e.forThumbnailSection?n:t}}componentDidMount(){this.props.fetchAuthStatus(),this.props.fetchChannelData(),this.props.permitted||this.props.freePreviewUsed||this.props.fetchNumCharges(),HL.addChangeListener(this.onStoreChange)}componentWillUnmount(){HL.removeChangeListener(this.onStoreChange)}render(){return!this.props.permitted&&null===this.props.freePreviewsLeft||!this.state.display&&void 0!==this.state.display?null:!this.props.permitted&&this.props.freePreviewsLeft<=0?h.createElement("div",{className:"vidiq-video-preview-upsell-container"},h.createElement(Gq,{upsell:"VideoPreviewButton",classes:"vidiq-video-preview-upsell",text:(0,ai.Z)("unlimitedPreviewsUpsell"),buttonText:(0,ai.Z)("boostUpgradeTitle"),targetPlan:"boost"})):h.createElement("button",{className:"vidiq-video-preview-button",disabled:!this.props.title||!this.props.gotAuthStatus,onClick:this.onClick},h.createElement(ts,{size:"16px",classes:"vidiq-video-preview-button-logo"}),h.createElement("span",{className:"vidiq-video-preview-button-text"},this.props.forThumbnailSection?(0,ai.Z)("compareThumbInSearch"):(0,ai.Z)("previewInSearch")))}}const Jq=qq((e=>{const{videoPreview:t}=e;return{title:t.title.onVideo,videoId:t.videoId,permitted:t.permitted,freePreviewsLeft:t.freePreviewsLeft,freePreviewsError:t.freePreviewsError,freePreviewUsed:t.freePreviewUsed,gotAuthStatus:t.gotAuthStatus}}),{toggleWindow:Ja,fetchChannelData:()=>({type:Ra}),fetchNumCharges:()=>({type:Va}),fetchAuthStatus:()=>({type:Ka})})(Qq);class eZ extends h.Component{render(){return h.createElement(uq,{store:c3},h.createElement(Jq,{forThumbnailSection:this.props.forThumbnailSection}))}}const tZ=eZ;const nZ=function(){const e=ye.Z.getItem("preview_new_alert_closed"),[t,n]=(0,h.useState)(!e),{previewThumbSection:i}=HL.getData().settings,[r,a]=(0,h.useState)(i),o=()=>{const{previewThumbSection:e}=HL.getData().settings;a(e)};if((0,h.useEffect)((()=>(HL.addChangeListener(o),()=>{HL.removeChangeListener(o)})),[]),!r&&void 0!==r)return null;if(!t)return h.createElement(tZ,{forThumbnailSection:!0});const s=chrome.runtime.getURL("images/close-x.svg");return h.createElement("div",{className:"vidiq-video-preview-new-feature-alert"},h.createElement("div",{className:"vidiq-video-preview-new-feature-header"},"✨ ",(0,ai.Z)("newVidiqFeature")," ✨"),h.createElement("div",{className:"vidiq-video-preview-new-feature-message"},ai.Z.html("videoPreviewNewFeatureMessage")),h.createElement(tZ,{forThumbnailSection:!0}),h.createElement("img",{className:"vidiq-video-preview-new-feature-close",src:s,onClick:()=>{n(!1),ye.Z.setItem("preview_new_alert_closed",!0)},alt:""}))},iZ=(e,t,n)=>{ht(e,{location:(0,be.Z)(),"video id":t,"changed title":n.title||!1,"changed description":n.description||!1,"changed thumbnail":n.thumbnail||!1})};function rZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class aZ extends h.Component{constructor(...e){super(...e),rZ(this,"state",{showChangesNotification:!1}),rZ(this,"onPreviewChanges",(()=>{const{title:e,description:t,thumbnail:n,videoId:i,updateVideoProperty:r}=this.props,a=e.onEdit!==e.onPreview,o=t.onEdit!==t.onPreview,s=n.onEdit!==n.onPreview;iZ("previewed changes on preview",i,{title:a,description:o,thumbnail:s}),a&&r("title",e.onEdit,"onPreview"),o&&r("description",t.onEdit,"onPreview"),s&&r("thumbnail",n.onEdit,"onPreview")})),rZ(this,"onAddChanges",(()=>{const{title:e,description:t,thumbnail:n,thumbnailOptions:i,videoId:r,updateVideoProperty:a}=this.props;this.setState({showChangesNotification:!0});const o=e.onEdit!==e.onVideo,s=t.onEdit!==t.onVideo,l=n.onEdit!==n.onVideo;if(iZ("saved preview changes",r,{title:o,description:s,thumbnail:l}),o&&(a("title",e.onEdit),D2.updateTextarea("title",e.onEdit)),s&&(a("description",t.onEdit),D2.updateTextarea("description",t.onEdit)),l){const e=i.find((e=>e.selected));e?e.button.click():D2.updateThumbnails(),a("thumbnail",n.onEdit)}setTimeout((()=>{this.setState({showChangesNotification:!1})}),1500)}))}render(){const{title:e,description:t,thumbnail:n}=this.props,i=Fo()("vidiq-video-preview-changes-notification",{"vidiq-video-preview-changes-notification-displayed":this.state.showChangesNotification});return h.createElement("div",{className:"vidiq-video-preview-details-actions"},h.createElement("div",{className:i},(0,ai.Z)("videoUpdated")),h.createElement("button",{className:"vidiq-search-results-button-secondary",disabled:e.onEdit===e.onPreview&&t.onEdit===t.onPreview&&n.onEdit===n.onPreview,onClick:this.onPreviewChanges},(0,ai.Z)("previewChanges")),h.createElement("button",{className:"vidiq-search-results-button-primary",disabled:e.onEdit===e.onVideo&&t.onEdit===t.onVideo&&n.onEdit===n.onVideo,onClick:this.onAddChanges},(0,ai.Z)("addChangesToVideo")))}}const oZ=qq(null,{updateVideoProperty:Qa})(aZ);function sZ(e){const{type:t,value:n,videoId:i,onChange:r}=e,[a,o]=(0,h.useState)(n);const s=`vidiq-video-preview-details-${t}`,l=sZ.maxLengths[t];return h.createElement("div",{className:"vidiq-video-preview-details-section"},h.createElement("div",{className:"vidiq-video-preview-details-header"},(0,ai.Z)(t)),h.createElement("textarea",{id:s,className:"vidiq-video-preview-details-textarea",value:n,maxLength:l,onChange:r,onBlur:function(){n!==a&&(iZ("edited a section on preview",i,{[t]:!0}),o(n))}}),h.createElement("div",{className:"vidiq-video-preview-character-counter"},n.length," / ",l))}sZ.maxLengths={title:100,description:5e3};const lZ=sZ;const cZ=function({thumbnailOptions:e,onClickThumbOption:t}){if(!e)return null;try{return e.map((e=>{const n=Fo()("vidiq-video-preview-thumbnail-option",{"vidiq-video-preview-thumbnail-option-selected":e.selected});return h.createElement("img",{key:e.thumbnail,className:n,src:e.thumbnail,onClick:t(e),alt:""})}))}catch(e){return null}};class uZ extends h.Component{render(){return h.createElement("svg",{width:"30",height:"28",viewBox:"0 0 30 28",fill:"none"},h.createElement("rect",{width:"30",height:"28",fill:"url(#pattern0)"}),h.createElement("defs",null,h.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},h.createElement("use",{xlinkHref:"#image0",transform:"scale(0.0166667 0.0178571)"})),h.createElement("image",{id:"image0",width:"60",height:"56",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA4CAYAAAChbZtkAAACGElEQVRoBe2ZMbKCMBCG45tXaCmlraWUcg5LuILWHsMZz2EpB7K01BI73vzM5I1GA1mSYEKyMwwmLGH/fJsFYVLXdc0Csp+AtDZSo+CxE4+EI+GRzUBM6ZEBfZMTHOHftylwrGO/379EdDgcXtrURnCEo2BqivjmHwn7Rowa76TP/+Hb7cbKsmTX65Xht47xqitWY+qYfJyu88i3JQg8Ho+sqqqusZ08Tl7D5/PZW7EgQBZ8uVycJKcaFDmlbaWybA2Ka1vmpyqYTFh1YFf9yIRNCxEJ8vF1SfJxxH1whKNgMQXG1v76Gu6aUNNrObiUdpawreodHOEouKuI+H48EvadYFf8XyW8Xq8ZtiHta7elxWLBNpsNm81mzasivC4awqwQBrXVaiWNfzqdsqIoGrFw2m63DH1DmHHBnBwEyUSALPy4gfJut+NNq3ujgp/JQQREiwb6WZaJ3c0E5Hn+1m+6w6hgkVyapi+pzenLRGAibBcxY4Jl5HhqP9OXCUY//J/Tvc23zzEjgtvI8dQW6bcFa7OIaQtWIYfU/rRuZaJtFjFtwRRyMoGf+pE1NooY+cEDRB+Px3+Mp9OJYRvC5vO59mXIhJfLpfZF+w5gopiRBSOFQXlowzVxbV3r/bkUH9Xw/Hu/33VjaD0faczvAkmStPqqHOwlWGVgV33IKe2qENW4omDVmfLVLxL2lZxq3JGw6kz56vcHRmCAvRz7jaUAAAAASUVORK5CYII="})))}}const dZ=uZ;const hZ=function({thumbnail:e,thumbnailOptions:t,onClickThumbUpload:n}){const[i,r]=(0,h.useState)(!1);if(!t)return null;if(!t.every((e=>!e.selected)))return h.createElement("div",{className:"vidiq-video-preview-details-thumbnail-upload",onClick:n},h.createElement(dZ,null),h.createElement("span",null,(0,ai.Z)("uploadThumbnail")));const a=Fo()("vidiq-video-preview-details-uploaded-change",{"vidiq-video-preview-details-uploaded-change-visible":i});return h.createElement("div",{className:"vidiq-video-preview-details-uploaded",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},h.createElement("img",{className:"vidiq-video-preview-thumbnail-option vidiq-video-preview-thumbnail-option-selected",src:e,alt:""}),h.createElement("div",{onClick:n,className:a},(0,ai.Z)("change")))};function pZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fZ extends h.Component{constructor(...e){super(...e),pZ(this,"onUploadThumbnail",(e=>{const t=e.target.files[0],n=new FileReader;n.onload=e=>{const{thumbnailOptions:t,onChange:n}=this.props,i=t.findIndex((e=>e.selected));i>=0&&(t[i].selected=!1),this.editedThumbnailEvent(),n({thumbnail:e.target.result,thumbnailOptions:t})},n.readAsDataURL(t)})),pZ(this,"onClickThumbOption",(e=>()=>{const{thumbnailOptions:t,onChange:n}=this.props,i=t.findIndex((t=>t.thumbnail===e.thumbnail)),r=t.findIndex((e=>e.selected));t[i].selected=!0,r>=0&&(t[r].selected=!1),this.editedThumbnailEvent();n({thumbnail:t[i].thumbnail,thumbnailOptions:t})})),pZ(this,"onClickThumbUpload",(()=>{this.thumbInput.click()}))}editedThumbnailEvent(){iZ("edited a section on preview",this.props.videoId,{thumbnail:!0})}render(){const{thumbnail:e,thumbnailOptions:t}=this.props;return h.createElement("div",{className:"vidiq-video-preview-details-section"},h.createElement("div",{className:"vidiq-video-preview-details-header"},(0,ai.Z)("thumbnail")),!e&&h.createElement("div",{className:"vidiq-video-preview-thumbnails-processing"},(0,ai.Z)("pleaseWaitThumbnail")),e&&h.createElement(h.Fragment,null,h.createElement("img",{className:"vidiq-video-preview-details-thumbnail",src:e,alt:""}),h.createElement("div",{className:"vidiq-video-preview-details-thumbnail-options"},h.createElement(hZ,{thumbnail:e,thumbnailOptions:t,onClickThumbUpload:this.onClickThumbUpload}),h.createElement("input",{type:"file",accept:"image/jpeg,image/png",ref:e=>this.thumbInput=e,id:"vidiq-video-preview-thumbnail-input",onChange:this.onUploadThumbnail}),h.createElement(cZ,{thumbnailOptions:t,onClickThumbOption:this.onClickThumbOption}))))}}const mZ=fZ;const gZ=qq((e=>{const{title:t,description:n,thumbnail:i,thumbnailOptions:r,videoId:a}=e.videoPreview;return{title:t,description:n,thumbnail:i,thumbnailOptions:r,videoId:a}}))((function(e){const[t,n]=(0,h.useState)(e.title.onVideo),[i,r]=(0,h.useState)(e.description.onVideo),[a,o]=(0,h.useState)(e.thumbnail.onVideo),[s,l]=(0,h.useState)(e.thumbnailOptions);(0,h.useEffect)((()=>{o(e.thumbnail.onVideo)}),[e.thumbnail.onVideo]);const{videoId:c}=e;return h.createElement("div",{className:"vidiq-video-preview-details"},h.createElement("div",{className:"vidiq-video-preview-header"},(0,ai.Z)("yourVideoDetails")),h.createElement("div",{className:"vidiq-video-preview-details-content"},h.createElement(lZ,{type:"title",value:t||"",videoId:c,onChange:function(e){n(e.target.value)}}),h.createElement(lZ,{type:"description",value:i||"",videoId:c,onChange:function(e){r(e.target.value)}}),h.createElement(mZ,{thumbnail:a,thumbnailOptions:s,videoId:c,onChange:function(e){o(e.thumbnail),l(e.thumbnailOptions)}})),h.createElement(oZ,{title:{onEdit:t,...e.title},description:{onEdit:i,...e.description},thumbnail:{onEdit:a,...e.thumbnail},thumbnailOptions:s,videoId:c}))}));class vZ extends h.Component{render(){const e=Fo()("vidiq-toggle-switch",{"vidiq-toggle-switch-enabled":this.props.enabled});return h.createElement("label",{className:e},h.createElement("span",{className:"vidiq-toggle-switch-slider"}))}}const yZ=vZ;const bZ=qq((e=>{const{competitorsToggled:t,competitorVideos:n,homeResults:i,videoId:r}=e.videoPreview;return{enabled:t,competitorVideos:n,homeResults:i,videoId:r}}),{toggleCompetitors:()=>({type:Aa}),fetchCompetitorVideos:to,fetchHome:eo})((function(e){const{enabled:t,competitorVideos:n,homeResults:i,videoId:r,toggleCompetitors:a,fetchCompetitorVideos:o,fetchHome:s}=e;return(0,h.useEffect)((()=>{ht("toggled competitors filter on preview",{location:(0,be.Z)(),"video id":r,"competitor filter is turned on":t});const e=t?n:i,a=t?o:s;e&&e.length||a()}),[t,n,o,s,i,r]),h.createElement("div",{onClick:a,className:"vidiq-video-preview-competitors-toggle"},h.createElement("span",{className:"vidiq-video-preview-competitors-toggle-text"},(0,ai.Z)("compareCompetitors")),h.createElement(yZ,{enabled:t}))}));class _Z extends h.Component{render(){const e=Fo()("vidiq-device-icon","vidiq-desktop-device-icon",{"vidiq-active-device-icon":this.props.active});return h.createElement("svg",{className:e,onClick:this.props.onClick,width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#000"},h.createElement("path",{d:"M4 2H20C20.5304 2 21.0391 2.21071 21.4142 2.58579C21.7893 2.96086 22 3.46957 22 4V16C22 16.5304 21.7893 17.0391 21.4142 17.4142C21.0391 17.7893 20.5304 18 20 18H4C3.46957 18 2.96086 17.7893 2.58579 17.4142C2.21071 17.0391 2 16.5304 2 16V4C2 2.9 2.9 2 4 2ZM4 4V16H20V4H4ZM8 20C8 19.7348 8.10536 19.4804 8.29289 19.2929C8.48043 19.1054 8.73478 19 9 19H15C15.2652 19 15.5196 19.1054 15.7071 19.2929C15.8946 19.4804 16 19.7348 16 20V20.59L16.7 21.29C16.8404 21.4293 16.9364 21.6071 16.9758 21.8009C17.0152 21.9947 16.9962 22.1958 16.9213 22.3789C16.8463 22.5619 16.7188 22.7186 16.5548 22.8292C16.3909 22.9397 16.1978 22.9992 16 23H8C7.80427 22.9972 7.61366 22.9371 7.45178 22.8271C7.28991 22.717 7.1639 22.5618 7.08937 22.3808C7.01484 22.1998 6.99507 22.001 7.03251 21.8088C7.06995 21.6167 7.16296 21.4398 7.3 21.3L8 20.59V20Z"}),h.createElement("path",{d:"M2 16H22C22 16.5304 21.7893 17.0391 21.4142 17.4142C21.0391 17.7893 20.5304 18 20 18H4C3.46957 18 2.96086 17.7893 2.58579 17.4142C2.21071 17.0391 2 16.5304 2 16Z"}))}}const wZ=_Z;class kZ extends h.Component{render(){const e=Fo()("vidiq-device-icon","vidiq-mobile-device-icon",{"vidiq-active-device-icon":this.props.active});return h.createElement("svg",{className:e,onClick:this.props.onClick,width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M8 2H16C16.5304 2 17.0391 2.21071 17.4142 2.58579C17.7893 2.96086 18 3.46957 18 4V20C18 20.5304 17.7893 21.0391 17.4142 21.4142C17.0391 21.7893 16.5304 22 16 22H8C7.46957 22 6.96086 21.7893 6.58579 21.4142C6.21071 21.0391 6 20.5304 6 20V4C6 2.9 6.9 2 8 2Z",fill:"transparent",stroke:"#000"}),h.createElement("path",{d:"M8.66667 3H15.3333C15.7754 3 16.1993 3.18964 16.5118 3.52721C16.8244 3.86477 17 4.32261 17 4.8V19.2C17 19.6774 16.8244 20.1352 16.5118 20.4728C16.1993 20.8104 15.7754 21 15.3333 21H8.66667C8.22464 21 7.80072 20.8104 7.48816 20.4728C7.17559 20.1352 7 19.6774 7 19.2V4.8C7 3.81 7.75 3 8.66667 3Z",fill:"transparent"}),h.createElement("path",{d:"M12 20C12.3978 20 12.7794 19.842 13.0607 19.5607C13.342 19.2794 13.5 18.8978 13.5 18.5C13.5 18.1022 13.342 17.7206 13.0607 17.4393C12.7794 17.158 12.3978 17 12 17C11.6022 17 11.2206 17.158 10.9393 17.4393C10.658 17.7206 10.5 18.1022 10.5 18.5C10.5 18.8978 10.658 19.2794 10.9393 19.5607C11.2206 19.842 11.6022 20 12 20Z"}))}}const xZ=kZ;class EZ extends h.Component{render(){const e=Fo()("vidiq-device-icon","vidiq-tablet-device-icon",{"vidiq-active-device-icon":this.props.active});return h.createElement("svg",{className:e,onClick:this.props.onClick,width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#000"},h.createElement("path",{d:"M6 2.5H18C18.3978 2.5 18.7794 2.65804 19.0607 2.93934C19.342 3.22064 19.5 3.60218 19.5 4V20C19.5 20.3978 19.342 20.7794 19.0607 21.0607C18.7794 21.342 18.3978 21.5 18 21.5H6C5.60218 21.5 5.22064 21.342 4.93934 21.0607C4.65804 20.7794 4.5 20.3978 4.5 20V4C4.5 3.17614 5.17614 2.5 6 2.5Z",fill:"transparent",stroke:"#000"}),h.createElement("path",{d:"M12 20C12.3978 20 12.7794 19.842 13.0607 19.5607C13.342 19.2794 13.5 18.8978 13.5 18.5C13.5 18.1022 13.342 17.7206 13.0607 17.4393C12.7794 17.158 12.3978 17 12 17C11.6022 17 11.2206 17.158 10.9393 17.4393C10.658 17.7206 10.5 18.1022 10.5 18.5C10.5 18.8978 10.658 19.2794 10.9393 19.5607C11.2206 19.842 11.6022 20 12 20Z"}))}}const CZ=EZ;class SZ extends h.Component{constructor(...e){var t,n,i;super(...e),i=e=>()=>{this.props.device!==e&&(ht("changed preview device",{location:(0,be.Z)(),"video id":this.props.videoId,"changed to":e}),this.props.updateDevice(e))},(n="onClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){return h.createElement("div",{className:"video-preview-devices"},h.createElement(wZ,{active:this.props.device===ao,onClick:this.onClick(ao)}),h.createElement(CZ,{active:this.props.device===oo,onClick:this.onClick(oo)}),h.createElement(xZ,{active:this.props.device===so,onClick:this.onClick(so)}))}}const TZ=qq((e=>{const{videoPreview:t}=e;return{device:t.device,videoId:t.videoId}}),{updateDevice:e=>({type:Sa,payload:{device:e}})})(SZ);const DZ=qq((e=>({enabled:e.videoPreview.highlightToggled})),{toggleHighlight:()=>({type:Ia})})((function({enabled:e,toggleHighlight:t}){return h.createElement("div",{onClick:t,className:"vidiq-video-preview-highlight-toggle"},h.createElement("span",{className:"vidiq-video-preview-highlight-toggle-text"},(0,ai.Z)("highlightSearchTerm")),h.createElement(yZ,{enabled:e}))}));const FZ=function({videoBadges:e}){if(!e||!e.length)return null;const t=e.map((e=>{const t=e.metadataBadgeRenderer.label;return h.createElement("div",{key:we.Z.prettyRandomId(),className:"vidiq-video-preview-video-badge"},t)}));return h.createElement("div",{className:"vidiq-video-preview-video-badges"},t)};class MZ extends h.Component{render(){return h.createElement("svg",{className:"vidiq-verified-tick-icon",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false"},h.createElement("g",null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10 S17.52,2,12,2z M9.92,17.93l-4.95-4.95l2.05-2.05l2.9,2.9l7.35-7.35l2.05,2.05L9.92,17.93z"})))}}const AZ=MZ;const IZ=function({badgeType:e}){return e?h.createElement(AZ,null):null};const OZ=function({channelName:e}){return h.createElement("div",{className:"vidiq-video-preview-video-channel-name"},e)};const NZ=function({channelThumb:e}){return h.createElement("img",{src:e,className:"vidiq-video-preview-video-channel-thumb",alt:""})};function PZ({descriptionArray:e}){if(!e)return null;const t=e.map((({bold:e,text:t},n)=>e?h.createElement("b",{key:t+n},t):h.createElement("span",{key:t+n},t)));return h.createElement("div",{className:"vidiq-video-preview-video-description"},t)}const RZ=h.memo(PZ);const jZ=function(){return h.createElement("div",{className:"vidiq-video-preview-video-info-separator"},"•")};const LZ=function({publishedText:e}){return e?h.createElement(h.Fragment,null,h.createElement(jZ,null),h.createElement("div",{className:"vidiq-video-preview-video-published"},e)):null};class qZ extends h.Component{getVideoSecondaryInfo(){if(this.props.device===oo&&this.props.tab===lo)return h.createElement(h.Fragment,null,h.createElement("div",{className:"vidiq-video-preview-video-view-count"},this.props.video.shortViewCountText),h.createElement(LZ,{publishedText:this.props.video.publishedText}));const e=function(e){try{const t=e[0].metadataBadgeRenderer.icon.iconType;return"CHECK_CIRCLE_THICK"===t?t:null}catch(e){return null}}(this.props.video.channelBadges);return h.createElement(h.Fragment,null,h.createElement(OZ,{channelName:this.props.video.channelName}),this.props.device===ao&&h.createElement(IZ,{badgeType:e}),this.props.tab===co&&h.createElement("div",{className:"vidiq-flex-row-break"}),!e&&this.props.tab===lo&&this.props.device!==so&&this.props.video.shortViewCountText&&h.createElement(jZ,null),h.createElement("div",{className:"vidiq-video-preview-video-view-count"},this.props.video.shortViewCountText),h.createElement(LZ,{publishedText:this.props.video.publishedText}))}getHighlightedTitle(){const{video:e,searchTerm:t}=this.props,n=function(e,t){const n=new RegExp(`(${t})`,"gi"),i=new RegExp(`!(${t})!`,"gi");return e.replace(n,"!$1!").split(i)}(e.title,t);return 1===n.length?e.title:n.map(((e,n)=>{if(!e)return null;const i=Fo()({"vidiq-highlighted-title-part":e.toLowerCase()===t.toLowerCase()});return h.createElement("span",{key:n+e,className:i},e)}))}render(){const e=Fo()("vidiq-video-preview-video-info",{"vidiq-video-preview-video-info-search":this.props.tab===lo,"vidiq-video-preview-video-info-home":this.props.tab===co});return h.createElement("div",{className:e},this.props.tab===co&&h.createElement(NZ,{channelThumb:this.props.video.channelThumbnail}),h.createElement("div",{className:"vidiq-video-preview-video-meta"},h.createElement("div",{className:"vidiq-video-preview-video-title"},this.props.tab===lo&&this.props.highlightToggled?this.getHighlightedTitle():this.props.video.title),h.createElement("div",{className:"vidiq-video-preview-video-secondary"},this.getVideoSecondaryInfo()),this.props.device===oo&&this.props.tab!==co&&h.createElement("div",{className:"vidiq-video-preview-video-channel-wrapper"},h.createElement(NZ,{channelThumb:this.props.video.channelThumbnail}),h.createElement(OZ,{channelName:this.props.video.channelName})),this.props.device===ao&&this.props.tab===lo&&h.createElement(RZ,{descriptionArray:this.props.video.descriptionArray}),this.props.device===ao&&h.createElement(FZ,{videoBadges:this.props.video.videoBadges})))}}const ZZ=qq((e=>{const{videoPreview:t}=e;return{tab:t.tab,device:t.device,searchTerm:t.searchTerm,highlightToggled:t.highlightToggled}}))(qZ);const BZ=function({thumbnail:e,duration:t}){return h.createElement("div",{className:"vidiq-video-preview-video-thumb-wrapper"},h.createElement("img",{className:"vidiq-video-preview-video-thumb",src:e,alt:""}),t&&h.createElement("div",{className:"vidiq-video-preview-video-duration"},t))};const VZ=qq((e=>{const{videoPreview:t}=e;return{device:t.device,tab:t.tab,isCompetitorVideo:t.competitorsToggled&&t.tab===co}}))((function({video:e,device:t,tab:n,isCompetitorVideo:i}){const r=Fo()("vidiq-video-preview-video",{"vidiq-video-preview-video-owned":e.owned,"vidiq-video-preview-video-desktop":t===ao,"vidiq-video-preview-video-tablet":t===oo,"vidiq-video-preview-video-mobile":t===so,"vidiq-video-preview-video-home":n===co,"vidiq-video-preview-video-search":n===lo,"vidiq-video-preview-video-competitor":i&&!e.owned});return h.createElement("div",{key:e.videoId,className:r},h.createElement(BZ,{thumbnail:e.thumbnail,duration:e.durationText}),h.createElement(ZZ,{video:e}))}));const zZ=qq((e=>{const{videoPreview:t}=e;return{tab:t.tab}}))((function({videos:e,tab:t}){if(!e)return null;const n=Fo()("vidiq-video-preview-desktop-view",{"vidiq-video-preview-desktop-search-view":t===lo,"vidiq-video-preview-desktop-home-view":t===co});return h.createElement("div",{className:n},e.map((e=>h.createElement(VZ,{key:e.videoId,type:ao,video:e}))))}));const UZ=function({error:e,searchTerm:t}){const{text:n,subtext:i}=((e,t)=>e===ho?{text:(0,ai.Z)("competitorsErrorNoCompetitorsFound"),subtext:(0,ai.Z)("youHaveNoCompetitors")}:e===po?{text:(0,ai.Z)("noSearchResultsFound",[t]),subtext:(0,ai.Z)("tryAnotherSearch")}:{text:(0,ai.Z)("unknownErrorOccurred"),subtext:(0,ai.Z)("somethingWentWrong")})(e,t);return h.createElement("div",{className:"vidiq-video-preview-error"},h.createElement("div",{className:"vidiq-video-preview-error-text"},h.createElement("i",{className:"material-icons"},"warning"),n),h.createElement("div",{className:"vidiq-video-preview-error-subtext"},i))};class WZ extends h.Component{render(){return h.createElement("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false"},h.createElement("g",{className:"style-scope yt-icon"},h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),h.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"})))}}const HZ=WZ;const YZ=qq((e=>{const{videoPreview:t}=e;return{searchTerm:t.searchTerm}}))((function({searchTerm:e,type:t}){const n=Fo()("vidiq-video-preview-device-search-bar",{"vidiq-video-preview-device-search-bar-mobile":t===so});return h.createElement("div",{className:n},h.createElement("div",{className:"vidiq-video-preview-device-search-bar-left"},h.createElement("i",{className:"material-icons"},"arrow_back"),h.createElement("span",{className:"vidiq-video-preview-device-search-bar-text"},e)),h.createElement("div",{className:"vidiq-video-preview-device-search-bar-right"},h.createElement("i",{className:"material-icons"},"close"),h.createElement("i",{className:"material-icons"},"cast"),h.createElement(HZ,null)))}));const $Z=qq((e=>{const{videoPreview:t}=e;return{tab:t.tab}}))((function({videos:e,tab:t}){return e?h.createElement("div",{className:"vidiq-video-preview-mobile-container"},h.createElement("div",{className:"vidiq-video-preview-mobile-top-shapes"},h.createElement("div",{className:"vidiq-video-preview-mobile-top-camera"}),h.createElement("div",{className:"vidiq-video-preview-mobile-top-speaker"})),h.createElement("div",{className:"vidiq-video-preview-mobile-window"},t===lo&&h.createElement(YZ,{type:so}),e.map((e=>h.createElement(VZ,{key:e.videoId,type:so,video:e})))),h.createElement("div",{className:"vidiq-video-preview-mobile-circle-wrapper"},h.createElement("div",{className:"vidiq-video-preview-mobile-circle"}))):null}));const KZ=qq((e=>{const{videoPreview:t}=e;return{tab:t.tab}}))((function({videos:e,tab:t}){return e?h.createElement("div",{className:"vidiq-video-preview-tablet-container"},h.createElement("div",{className:"vidiq-video-preview-tablet-window"},t===lo&&h.createElement(YZ,null),e.map((e=>h.createElement(VZ,{key:e.videoId,type:oo,video:e})))),h.createElement("div",{className:"vidiq-video-preview-tablet-circle-wrapper"},h.createElement("div",{className:"vidiq-video-preview-tablet-circle"}))):null}));class GZ extends h.Component{constructor(...e){var t,n,i;super(...e),i=()=>({title:this.props.title,descriptionArray:M2(this.props.description,this.props.searchTerm),thumbnail:this.props.thumbnail,channelName:this.props.channelName,channelThumbnail:this.props.channelThumbnail,durationText:this.props.duration,videoId:this.props.videoId||"my-video",owned:!0}),(n="getMyVideoData")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const e=Fo()("vidiq-video-preview-results-view",{"vidiq-video-preview-search-results-view":this.props.tab===lo,"vidiq-video-preview-home-results-view":this.props.tab===co});if(this.props.error)return h.createElement("div",{className:e},h.createElement(UZ,{error:this.props.error,searchTerm:this.props.searchTerm}));let t=this.props.results&&[...this.props.results.slice(0,1),this.getMyVideoData(),...this.props.results.slice(1,5)];return this.props.tab===co&&this.props.device===oo&&this.props.results&&(t=t.concat(this.props.results.slice(5,8))),h.createElement("div",{className:e},this.props.loading&&h.createElement(os,{size:"big",container:!0}),this.props.device===ao&&h.createElement(zZ,{videos:t}),this.props.device===oo&&h.createElement(KZ,{videos:t}),this.props.device===so&&h.createElement($Z,{videos:t}))}}const XZ=qq((e=>{const{videoPreview:t}=e,{tab:n,competitorsToggled:i}=t;let r=t.searchResults,a=t.searchResultsLoading,o=t.searchResultsError;return n===co&&(r=i?t.competitorVideos:t.homeResults,a=i?t.competitorVideosLoading:t.homeResultsLoading,o=i?t.competitorVideosError:t.homeResultsError),{searchTerm:t.searchTerm,results:r,loading:a,error:o,title:t.title.onPreview||"",description:t.description.onPreview||"",thumbnail:t.thumbnail.onPreview,duration:t.duration,channelName:t.channelName,channelThumbnail:t.channelThumbnail,videoId:t.videoId,device:t.device,tab:n}}))(GZ);const QZ=function({text:e,selected:t,onClick:n}){const i=Fo()("vidiq-video-preview-tab",{"vidiq-video-preview-tab-selected":t});return h.createElement("div",{onClick:n,className:i},e)};const JZ=qq((e=>{const{tab:t,competitorVideos:n,homeResults:i,competitorsToggled:r,videoId:a}=e.videoPreview;return{tab:t,competitorVideos:n,homeResults:i,competitorsToggled:r,videoId:a}}),{updateTab:e=>({type:Fa,payload:{tab:e}}),fetchHome:eo,fetchCompetitorVideos:to})((function(e){const{tab:t,competitorVideos:n,homeResults:i,competitorsToggled:r,videoId:a,updateTab:o,fetchHome:s,fetchCompetitorVideos:l}=e,c=e=>()=>{e!==t&&(!function(e){o(e),e!==lo&&(r&&!n||!n.length?l():i&&i.length||s())}(e),ht("changed youtube page preview",{location:(0,be.Z)(),"video id":a,"changed to":e===co?"home screen":"search screen"}))};return h.createElement("div",{className:"vidiq-video-preview-tabs"},h.createElement(QZ,{text:(0,ai.Z)("searchScreen"),selected:t===lo,onClick:c(lo)}),h.createElement(QZ,{text:(0,ai.Z)("homeScreen"),selected:t===co,onClick:c(co)}))}));class eB extends h.Component{render(){return h.createElement("div",{className:"vidiq-video-preview-results-container"},h.createElement("div",{className:"vidiq-video-preview-header"},h.createElement("div",null,(0,ai.Z)("preview")),this.props.tab===co&&h.createElement(bZ,null),this.props.permitted&&this.props.tab===lo&&h.createElement(DZ,null),!this.props.permitted&&this.props.tab===lo&&h.createElement("div",{className:"vidiq-video-preview-modal-upsell"},h.createElement("div",{className:"vidiq-video-preview-modal-upsell-text"},(0,ai.Z)("freePreviewsUsed",[this.props.freePreviewsUsed,3])),"-",h.createElement(xs,{VideoPreviewWindow:!0,text:(0,ai.Z)("upgradeForPreviews"),className:"vidiq-video-preview-modal-upsell-link",anchor:!0,targetPlan:"boost"}))),h.createElement("div",{className:"vidiq-video-preview-options"},h.createElement(JZ,null),h.createElement(TZ,null)),h.createElement(XZ,null))}}const tB=qq((e=>{const{videoPreview:t}=e,n=t.freePreviewsLeft;return{tab:t.tab,freePreviewsUsed:3-n+1,permitted:t.permitted}}))(eB);function nB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class iB extends h.Component{constructor(...e){super(...e),nB(this,"onClose",(()=>{this.props.close?this.props.close():(this.props.forNavMenu||Jo({location:this.props.trackingLabel}),iB.destroy())})),nB(this,"onClickOverlay",(e=>{e.target.classList.contains("vidiq-modular-window-wrapper")&&this.onClose()}))}bodyTop(){return this.props.top?h.createElement("div",{className:"vidiq-modular-window-top"},this.props.top):null}bodyMain(){let e;return e=this.props.body?this.props.body:h.createElement(h.Fragment,null,this.bodyLeft(),this.bodyRight()),h.createElement("div",{className:"vidiq-modular-window-body-main"},e)}bodyLeft(){return this.props.left?h.createElement("div",{className:"vidiq-modular-window-left"},this.props.left):null}bodyRight(){return this.props.right?h.createElement("div",{className:"vidiq-modular-window-right"},this.props.right):null}render(){const e=chrome.runtime.getURL("images/vidiq_dark.svg"),t=chrome.runtime.getURL("images/close-x.svg"),n=Fo()(this.props.classes,{"vidiq-modular-window-wrapper":!this.props.forNavMenu,"vidiq-modular-window-wrapper-for-nav":this.props.forNavMenu}),i=Fo()({"vidiq-modular-window":!this.props.forNavMenu,"vidiq-modular-window-for-nav":this.props.forNavMenu});return h.createElement("div",{className:n,onMouseDown:this.onClickOverlay},h.createElement("div",{className:i},!this.props.forNavMenu&&h.createElement("div",{className:"vidiq-modular-window-header"},this.props.feedbackButton,!this.props.alternateHeaderText&&h.createElement("img",{src:e,alt:"vidIQ",className:"vidiq-modular-window-header-logo vidiq-logo"}),this.props.alternateHeaderText&&h.createElement("div",{className:"vidiq-modular-window-header-text"},this.props.alternateHeaderText),h.createElement("div",{className:"vidiq-modular-window-header-close",onClick:this.onClose},(0,ai.Z)("close"),h.createElement("img",{src:t,alt:"Close icon",className:"vidiq-modular-window-header-close-icon"}))),h.createElement("div",{className:"vidiq-modular-window-body"},this.bodyTop(),this.bodyMain())))}}iB.ROOT_CLASS="vidiq-modular-window-root",iB.mount=(e,t)=>{we.Z.mountComponent({component:e,selector:"body",rootClass:iB.ROOT_CLASS,props:t})},iB.destroy=()=>{const e=document.querySelector(`.${iB.ROOT_CLASS}`);e&&(Yo.unmountComponentAtNode(e),e.parentNode.removeChild(e))};const rB=iB;class aB extends h.Component{render(){return h.createElement(rB,{testId:this.props.testId,top:h.createElement("div",{className:"vidiq-modular-window-teaser"},h.createElement("img",{className:"vidiq-modular-window-teaser-img",src:this.props.teaserImg,alt:""}),h.createElement("div",{className:"vidiq-modular-window-teaser-content"},h.createElement("div",{className:"vidiq-modular-window-teaser-text"},this.props.teaserText),h.createElement("button",{onClick:this.props.onClickButton,className:"vidiq-modular-window-teaser-button"},this.props.teaserButtonText))),close:this.props.close})}}const oB=aB,sB={async get(e){const{json:t,response:n}=await P.Z.expanded("vidiq.keySearchTerm.get",{videoId:e});if(!(t&&t.value&&n&&n.ok))throw new Error(t.message);return t.value},async set(e,t){if(e)return await(0,P.Z)("vidiq.keySearchTerm.set",{videoId:e,searchTerm:t})}};function lB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class cB extends h.Component{constructor(e){super(e),lB(this,"onStudioBetaStoreChange",(()=>{const e=HL.getData();this.state.storeSearchTerm!==e.keySearchTerm&&(this.setState({storeSearchTerm:e.keySearchTerm}),this.updateKeyword(e.keySearchTerm))})),lB(this,"onClose",(()=>{this.props.toggleWindow()})),lB(this,"updateKeyword",(e=>{this.setState({storeSearchTerm:e}),sB.set(this.props.videoId,e),C2.update({keySearchTerm:e}),this.props.updateSearchTerm(e),this.props.display&&(this.props.fetchResults(e),this.trackSearch(e),this.props.permitted||this.props.freePreviewUsed||this.props.incrementCharges())}));const t=HL.getData();this.state={storeSearchTerm:t?t.keySearchTerm:""}}componentDidMount(){HL.addChangeListener(this.onStudioBetaStoreChange)}componentWillUnmount(){HL.removeChangeListener(this.onStudioBetaStoreChange)}componentDidUpdate(e){!e.display&&this.props.display&&this.state.storeSearchTerm&&this.props.authed&&this.updateKeyword(this.state.storeSearchTerm)}trackSearch(e){ht("searched a term on preview",{location:(0,be.Z)(),"video id":this.props.videoId,"search term":e})}onClickAuthButton(){window.open(Su("https://app.vidiq.com/welcome"),"_blank")}render(){if(!this.props.display)return null;if(!this.props.authed)return h.createElement(oB,{teaserImg:chrome.runtime.getURL("images/video-preview-teaser.png"),teaserText:(0,ai.Z)("modalErrorUnauthenticatedMessage"),teaserButtonText:(0,ai.Z)("modalErrorUnauthenticatedButton"),teaserButtonHref:Su("https://app.vidiq.com/welcome"),onClickButton:this.onClickAuthButton,close:this.onClose,testId:"modular-window-teaser"});const e=Fo()("vidiq-video-preview-window",{"vidiq-video-preview-window-has-keyword":this.props.searchTerm&&this.props.searchTerm.length,"vidiq-video-preview-window-no-keyword":!this.props.searchTerm||!this.props.searchTerm.length});return h.createElement(rB,{testId:"modular-window",classes:e,top:h.createElement(yv,{keyword:this.props.searchTerm,updateKeyword:this.updateKeyword,header:(0,ai.Z)("whatSearchTermRank"),placeholder:(0,ai.Z)("enterSearchTermRank")}),left:this.props.searchTerm?h.createElement(tB,null):null,right:this.props.searchTerm?h.createElement(gZ,null):null,close:this.onClose})}}const uB=qq((e=>{const{videoPreview:t}=e;return{display:t.display,videoId:t.videoId,searchTerm:t.searchTerm,freePreviewUsed:t.freePreviewUsed,permitted:t.permitted,authed:t.authed}}),{toggleWindow:Ja,fetchResults:e=>({type:Oa,payload:{searchTerm:e}}),updateSearchTerm:e=>({type:xa,payload:{searchTerm:e}}),incrementCharges:()=>({type:Wa})})(cB);class dB extends h.Component{render(){return h.createElement(uq,{store:c3},h.createElement(uB,null))}}const hB=dB,pB=["4r5e","5h1t","5hit","a55","anal","anilingus","anus","ar5e","arrse","arse","arsehole","ass","ass","asses","assfucker","assfukka","asshole","assholes","assmucus","assmunch","asswhole","b00bs","b17ch","b1tch","ballbag","ballsack","bangbros","bareback","bastard","beastial","beastiality","bellend","bestial","bestiality","biatch","bimbos","birdlock","bitch","bitcher","bitchers","bitches","bitchin","bitching","blowjob","blowjobs","blumpkin","boiola","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","busty","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpetmuncher","cawk","chink","choade","cipa","cl1t","clit","clitoris","clits","clusterfuck","cnut","cock","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cock-sucker","cocksucking","cocksucks","cocksuka","cocksukka","coon","cornhole","cox","cum","cumdump","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntbag","cuntlick","cuntlicker","cuntlicking","cunts","cuntsicle","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","dick","dickhead","dildo","dildos","dlck","doggiestyle","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","erotic","f4nny","facial","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felch","felcher","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckme","fuckmeat","fucks","fucktoy","fuckwhit","fuckwit","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","gangbang","gang-bang","gangbanged","gangbangs","gaylord","gaysex","goatse","hardcoresex","hoar","hoare","hoer","homo","homoerotic","hore","horniest","horny","hotsex","jackoff","jap","jerk","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","kwif","l3itch","labia","lmao","lmfao","lmfao","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","mafugly","masochist","masterb8","masterbat3","masterbate","masterbation","masterbations","masturbate","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","queaf","queer","rectum","retard","rimjaw","rimming","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh1t","shag","shagger","shaggin","shagging","shemale","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","spac","spunk","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","wang","wank","wanker","wanky","whoar","whore","willies","willy","wtf","xrated","xxx"],fB=new ds.Z("CommentsStore",{_data:{allThreads:[],filter:"all",multiFilters:[],searchTerms:[],blacklist:[],videoIds:[],subCounts:{},username:null,minSubscribers:null,showCount:null,filtering:!1,pending:!1,pendingThreads:0,pinnedComments:{}},getData(){return L().extend({},this.data,{loading:this.data.filtering||this.data.pending})}});fB.dispatchToken=ko.Z.register((e=>{const t=fB,n=wo;switch(e.action){case n.UPDATE:L().extend(t.data,e.payload),t.emitChange();break;case n.CLEAR:t.data={allThreads:[],filter:"all",multiFilters:[],searchTerms:[],blacklist:[],videoIds:[],subCounts:{},username:null,minSubscribers:null,showCount:null,filtering:!1,pending:!1,pendingThreads:0,pinnedComments:{}},t.emitChange();break;case n.REGISTER_THREAD:t.data.pending=!0,t.data.pendingThreads+=1,1===t.data.pending&&t.emitChange();break;case n.ADD_THREAD:{t.data.pendingThreads>0&&(t.data.pendingThreads-=1,0===t.data.pendingThreads&&(t.data.pending=!1));const n=L().findWhere(t.data.allThreads,{id:e.thread.id});if(n)return void(n.element=e.thread.element);t.data.allThreads.push(e.thread),e.increaseShowCount&&"all"!==t.data.filter&&(null===t.data.showCount&&(t.data.showCount=0),t.data.showCount+=1),t.data.allThreads.length%20==0&&t.data.showCount<ye.Z.getItem("comments_filter_show_more")&&"all"!==t.data.filter&&vB.showMore(),t.data.filtering=!1,t.emitChange();break}case n.SET_PINNED_COMMENT:t.data.pinnedComments[e.videoId]=e.commentId,t.emitChange()}}));const mB=fB,gB={isVideoPage:()=>"/watch"===window.location.pathname,showMore(){if((0,Ee.Z)()&&this.isVideoPage())return;let e=this.isVideoPage()?".comment-section-renderer-paginator:not(hid)":".paginator.load-comments:not(.hid)";"studio.youtube.com"===window.location.host&&(e="#continuation paper-button.yt-next-continuation"),r()(e).length&&r()(e).click()},commentTextSelector(){let e=".comment-text-content";return this.isVideoPage()?e=(0,Ee.Z)()?"#content-text":".comment-renderer-text-content":"studio.youtube.com"===window.location.host&&(e="#content-text"),e},getCommentId(e){if(!this.isVideoPage())return r()(e).children().last().attr("id");if((0,Ee.Z)()){const t=r()(e).find(".published-time-text")[0],n=r()(t).find("a.yt-formatted-string")[0];return r()(n).attr("href")}return r()(e).attr("data-visibility-tracking")},passesFilter(e,t,n){const i=mB.getData();return e.every((e=>{switch(e){case"all":return!0;case"search":return this.filterByWords(n,t[e]);case"blacklist":return this.filterByWords(n,t[e],!0);case"videoIds":return this.filterOutVideos(n,t[e]);case"commentsBy":return this.filterByUser(n,i.username);case"minSubscribers":return this.filterMinSubs(n,i.minSubscribers);case"profanity":return this.highlightMatches(n,e),document.querySelectorAll(`.vidiq-${e}-match`).forEach((e=>{e.classList.add("vidiq-highlight-on")})),n[e].flat().length>0}return n[e]}))},getLists(){const e=mB.getData();return{search:e.searchTerms,blacklist:e.blacklist,videoIds:e.videoIds,profanity:pB}},async addThreadSimple(e){if(e.hasAttribute("vidiq-comment-id"))return;const t=this.getCommentId(e);e.setAttribute("vidiq-comment-id",t);const n=mB.getData().filter;"all"===n&&e.classList.remove("vidiq-hidden-thread");const i={element:e,id:t},r=e.querySelector("#replies").hasAttribute("hidden"),a=this.getVideoId(e);i.hasReplies=!r,i.noReplies=r,i.videoId=a,i.profanity=[],i.highestSubCount=0;const o=e.querySelector("#content-text").innerText;i.question=(o.match(/\?+/)||[]).length>0,i.profanity.push(this.wordMatch(e));const s=this.getChannelPath(e),l=await this.getSubCount(s);!e.classList.contains("channel-owner")&&this.stringToInt(l)>this.stringToInt(i.highestSubCount)&&(i.highestSubCount=l);const c=mB.getData(),u=this.getLists();let d=!1;const h="multiple"===n?c.multiFilters:[n];return this.passesFilter(h,u,i)?(d=!0,e.classList.remove("vidiq-hidden-thread")):e.classList.add("vidiq-hidden-thread"),xo.addThread(i,d),i},addThread(e){const t=r()(e);if(t.attr("vidiq-comment-id"))return;const n=this.getCommentId(e);t.attr("vidiq-comment-id",n);const i=mB.getData().filter;"all"===i&&t.removeClass("vidiq-hidden-thread");const a={element:e,id:n},o=this.hasReplies(e),s=this.hasOwnerReplies(e),l=this.getVideoId(e);return a.hasReplies=o,a.noReplies=!o,a.hasOwnerReplies=s,a.noOwnerReplies=!s,a.videoId=l,a.profanity=[],a.highestSubCount=0,this.eachThreadComment(e,((e,t)=>{const n=new(r().Deferred);this.hasQuestions(e)&&(a.question=!0),a.profanity[t]=this.wordMatch(e,"profanity");const i=this.getChannelPath(e);return this.getSubCount(i).done((t=>{!r()(e).hasClass("channel-owner")&&this.stringToInt(t)>this.stringToInt(a.highestSubCount)&&(a.highestSubCount=t),n.resolve()})),n.promise()})).done((()=>{const e=mB.getData(),t=this.getLists();let n=!1;const o="multiple"===i?e.multiFilters:[i];this.passesFilter(o,t,a)?(n=!0,r()(a.element).removeClass("vidiq-hidden-thread")):r()(a.element).addClass("vidiq-hidden-thread"),xo.addThread(a,n)}))},eachThreadComment(e,t){const n=new(r().Deferred);let i=".comment-item";this.isVideoPage()&&(i=(0,Ee.Z)()?"#body.ytd-comment-renderer":".comment-renderer");const a=r()(e).find(i);let o=0;return a.each(((e,i)=>{t(i,e).done((()=>{o+=1,o===a.length&&n.resolve()}))})),n.promise()},hasReplies(e){const t=this.getReplies(e);return r().trim(t.html()).length>0},hasOwnerReplies(e){const t=this.getReplies(e);if(this.isVideoPage()){const e=(0,Ee.Z)()?"#create #img":".comment-simplebox-renderer img",n=r()(e).attr("alt"),i=(0,Ee.Z)()?"#author-text span":".comment-author-text",a=t.find(i+':contains("'+n+'")');return r()(a).length>0}return t.find(".channel-owner").length>0},getVideoId:e=>r()(e).find(".comment-item").attr("data-vid"),getReplies(e){if(this.isVideoPage()){const t=(0,Ee.Z)()?"#replies":".comment-replies-renderer",n=r()(e).find(t)[0];return r()(n).children()}return r()(e).find(".comment-item").siblings(":not('.comment-replies-header')")},hasQuestions(e){return!!r()(e).find(this.commentTextSelector()).first().text().match(/\?+/)},applyFilters(){const e=mB.getData();if(this.removeHighlights(),"all"===e.filter)return this.clearFilters(),void xo.update({showCount:null,filtering:!1});const t=this.getLists();let n=0,i=0;const a="multiple"===e.filter?e.multiFilters:[e.filter];L().each(e.allThreads,(function(o){setTimeout((()=>{this.passesFilter(a,t,o)?(n+=1,r()(o.element).removeClass("vidiq-hidden-thread")):r()(o.element).addClass("vidiq-hidden-thread"),i+=1,i===e.allThreads.length&&(n<(ye.Z.getItem("comments_filter_show_more")||10)&&this.showMore(),xo.update({showCount:n,filtering:!1}))}))}),this)},filterByUser(e,t){if(!t)return!0;let n=(0,Ee.Z)()?"div.ytd-comment-renderer":".comment-item";"studio.youtube.com"===window.location.host&&(n=".ytcp-comment#content");const i=r()(e.element).find(n);let a=!1;return i.each(((e,n)=>{let i;if("studio.youtube.com"===window.location.host){const e=r()(n).find(".author-text")[0];i=r()(e).text()}else if((0,Ee.Z)()){const e=r()(n).find("#author-text span")[0];i=r()(e).text()}else i=r()(n).attr("data-name");const o=new RegExp(t,"gi");a=a||!L().isEmpty(i.match(o))})),a},clearFilters(){let e=".comment-entry";this.isVideoPage()?e=(0,Ee.Z)()?"ytd-comment-thread-renderer":".comment-thread-renderer":"studio.youtube.com"===window.location.host&&(e=".ytcp-comment-thread-0"),r()(e).removeClass("vidiq-hidden-thread"),this.removeHighlights()},highlightMatches(e,t){const n=e[t],i=r()(e.element).find(this.commentTextSelector()),a="vidiq-"+t+"-match";L().each(n,((e,t)=>{L().each(e,(e=>{this.addHighlights(i[t],e,a)}))}))},removeHighlights(){r()(".vidiq-highlight").each(((e,t)=>{const n=r()(t).text();r()(t).replaceWith(n)}))},addHighlights(e,t,n){if(""===t)return;const i='<span class="vidiq-highlight '+n+'">'+t+"</span>",a=new RegExp("\\b"+t+"\\b","gi");r()(e).html(((e,t)=>(0,ns.N)(we.Z.unleakString(t.replace(a,i)))))},filterByWords(e,t,n){let i=!1;const a=r()(e.element).find(this.commentTextSelector());return!(!L().isEmpty(t)&&t[0].length)||(a.each(((e,n)=>{i=i||this.searchMatch(t,n)})),n?!i:i)},wordMatch(e){const t=pB,n=[],i=r()(e).find(this.commentTextSelector()).first().text().split(" ");return L().each(t,(e=>{i.indexOf(e)>-1&&n.push(e)})),n},searchMatch(e,t){return L().some(e,(e=>{const n=new RegExp("\\b"+[e]+"\\b","gi"),i=r()(t).text().match(n);if(!L().isEmpty(i))return L().each(i,(e=>{this.addHighlights(t,e,"vidiq-search-match")})),r()(".vidiq-search-match").addClass("vidiq-highlight-on"),!0}))},filterOutVideos:(e,t)=>!L().some(t,(t=>e.videoId===t)),getChannelPath(e){let t=".user-name";this.isVideoPage()&&(t=(0,Ee.Z)()?"#author-text":".comment-author-text");return r()(e).find(t).first().attr("href")},getSubCount(e){const t=new(r().Deferred),n=mB.getData();return n.subCounts[e]?t.resolve(n.subCounts[e]):this.fetchSubCount(e).done((i=>{const r={};r[e]=i,xo.update({subCounts:L().extend(n.subCounts,r)}),t.resolve(i)})),t.promise()},registeredSubCounts:[],fetchSubCount(e){const t=new(r().Deferred),n=mB.getData();if(this.registeredSubCounts.indexOf(e)>-1){const i=setInterval((()=>{n.subCounts[e]&&(clearInterval(i),t.resolve(n.subCounts[e]))}),200)}else{this.registeredSubCounts.push(e);const n=e.split("/")[1],i=e.split("/")[2];(0,P.Z)("youtube.channel",{type:n,id:i}).then((n=>{let i;if((0,Ee.Z)(n))try{const e=xe(n).header.c4TabbedHeaderRenderer;let t=e.subscriberCountText.simpleText;t||(t=e.subscriberCountText.runs[0].text),i=t.split(" ")[0]}catch(t){(0,ke.Z)("(vidiq) CommentsDOM > fetchSubCount PARSE FAILED",e,t),i="-1"}else{const e=new RegExp(/<span class="yt-subscription-button-subscriber-count-branded-horizontal [^>]+>(\S+)<\/span>/),t=we.Z.unleakStrings(n.match(e));i=t?t[1]:"-1"}t.resolve(i)}))}return t.promise()},stringToInt:e=>L().isString(e)?parseInt(e.trim().replace(",",""),10):e,filterMinSubs(e,t){return!t||""===t.trim()||(!!isNaN(this.stringToInt(t))||this.stringToInt(e.highestSubCount)>=this.stringToInt(t))}},vB=gB,yB=Oo()({displayName:"CommentsFilterChoose",filterChange(e){r()(window).trigger("engage-comment-scan"),xo.update({filter:e,filtering:!0,showCount:null}),setTimeout(vB.applyFilters.bind(vB))},render(){return h.createElement("div",{className:"vidiq-comment-filter-select"},h.createElement("div",{className:"vidiq-comment-filter-select-message"},(0,ai.Z)("poweredByVidIQ")),h.createElement(XF,{size:"small"}),h.createElement(sx,{onChange:this.filterChange,defaultValue:"choose",values:this.props.filters}))}}),bB=Oo()({displayName:"CommentsFilterCount",render(){return this.props.loading?h.createElement("span",{className:"vidiq-spinner"},h.createElement(os,{size:"small"})):null===this.props.count||void 0===this.props.count?null:h.createElement("span",{className:"vidiq-comment-thread-count"},(0,ai.Z)("showingCommentThreads",[this.props.count,this.props.total]))}}),_B=Oo()({displayName:"CommentsFilterInput",inputDebounced:yo()(((e,t)=>{switch(e){case"search":xo.update({searchTerms:t,loading:!0});break;case"blacklist":xo.update({blacklist:t,loading:!0});break;case"videoIds":xo.update({videoIds:t,loading:!0});break;case"commentsBy":xo.update({username:t,loading:!0});break;case"minSubscribers":xo.update({minSubscribers:t,loading:!0})}setTimeout(vB.applyFilters.bind(vB))}),500),wordSearchChange(e){const t=L().map(r()(e.target).val().split(","),(e=>e.trim()));this.inputDebounced("search",t)},blacklistChange(e){let t=L().map(r()(e.target).val().split(","),(e=>e.trim()));t=L().filter(t,(e=>""!==e)),this.inputDebounced("blacklist",t)},videoIdsChange(e){const t=L().map(r()(e.target).val().split(","),(e=>e.trim()));this.inputDebounced("videoIds",t)},userSearchChange(e){const t=r()(e.target).val();this.inputDebounced("commentsBy",t)},minSubsChange(e){const t=r()(e.target).val();this.inputDebounced("minSubscribers",t)},render(){return this.props.wordSearchEnabled||this.props.userSearchEnabled||this.props.blacklistEnabled||this.props.ignoreVidsEnabled||this.props.minSubsEnabled?h.createElement("div",{className:"vidiq-comment-filter-input"},this.wordSearch(),this.blacklistSearch(),this.videoIdList(),this.userSearch(),this.minSubs()):null},wordSearch(){return this.props.wordSearchEnabled?h.createElement("input",{className:"vidiq-input vidiq-comment-search",onChange:this.wordSearchChange,defaultValue:this.props.searchTerms.join(", "),placeholder:(0,ai.Z)("searchByList")}):null},blacklistSearch(){return this.props.blacklistEnabled?h.createElement("input",{className:"vidiq-input vidiq-comment-blacklist",onChange:this.blacklistChange,defaultValue:this.props.blacklist.join(", "),placeholder:(0,ai.Z)("filterByList")}):null},videoIdList(){return this.props.ignoreVidsEnabled?h.createElement("input",{className:"vidiq-input vidiq-comment-ignore-videos",onChange:this.videoIdsChange,defaultValue:this.props.videoIds.join(", "),placeholder:(0,ai.Z)("ignoreByList")}):null},userSearch(){return this.props.userSearchEnabled?h.createElement("input",{className:"vidiq-input vidiq-comment-made-by",onChange:this.userSearchChange,defaultValue:this.props.username,placeholder:(0,ai.Z)("searchByUsername")}):null},minSubs(){return this.props.minSubsEnabled?h.createElement("input",{className:"vidiq-input vidiq-comment-min-subs",onChange:this.minSubsChange,defaultValue:this.props.minSubscribers,placeholder:(0,ai.Z)("filterBySubscribers")}):null}}),wB=Oo()({displayName:"CommentsFilterSettings",getInitialState:()=>({showSettingsWindow:!1,selected:ye.Z.getItem("comments_filter_show_more")||10}),componentDidMount(){document.addEventListener("mousedown",this.handleClick,!1)},componentWillUnmount(){document.removeEventListener("mousedown",this.handleClick,!1)},handleClick(e){this.node&&!this.node.contains(e.target)&&this.state.showSettingsWindow&&this.toggleSettingsWindow()},toggleSettingsWindow(){this.setState({showSettingsWindow:!this.state.showSettingsWindow})},setSelected(e){const t=parseInt(e.target.value,10);"all"!==this.props.filter&&this.props.showCount<t&&vB.showMore(),ye.Z.setItem("comments_filter_show_more",t),this.setState({selected:t})},option(e){const t=e<0?"vidiq-comments-filter-settings-option-disabled":`vidiq-comments-filter-settings-option-${e}`,n=e<0?(0,ai.Z)("doNotLoadMoreComments"):(0,ai.Z)("numResultsAreShown",[e]),i=Fo()("vidiq-comments-filter-settings-option",{"vidiq-selected":this.state.selected===e});return h.createElement("div",{className:i},h.createElement("input",{type:"radio",id:t,value:e,checked:this.state.selected===e,onChange:this.setSelected}),h.createElement("label",{htmlFor:t},n))},settingsWindow(){return this.state.showSettingsWindow?h.createElement("div",{className:"vidiq-comments-filter-settings-window"},h.createElement("div",{className:"vidiq-comments-filter-settings-window-header"},(0,ai.Z)("automaticallyLoadMoreComments")),h.createElement("div",{className:"vidiq-comments-filter-settings-window-options"},this.option(5),this.option(10),this.option(20),this.option(50),this.option(100),this.option(-1))):null},render(){if(this.props.videoPage&&(0,Ee.Z)())return null;const e=Fo()("material-icons",{"vidiq-expanded":this.state.showSettingsWindow});return h.createElement("div",{className:"vidiq-comments-filter-settings-container",ref:e=>this.node=e},h.createElement("i",{className:e,onClick:this.toggleSettingsWindow},"settings"),this.settingsWindow())}}),kB=wB;var xB=__webpack_require__(8400),EB=__webpack_require__.n(xB),CB=__webpack_require__(6566),SB=__webpack_require__.n(CB);function TB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class DB extends h.Component{constructor(...e){super(...e),TB(this,"multiFilterChange",(e=>{const t=e.target.name;let n=[...this.props.multiFilters];const i=n.indexOf(t);n=i<0?[...n,t]:n.filter((e=>e!==t)),xo.update({multiFilters:n,loading:!0}),setTimeout(vB.applyFilters.bind(vB))})),TB(this,"multiFilterGroup",(e=>e.map((e=>{const t=this.props.filters[e];return h.createElement("li",{key:e},h.createElement("input",{type:"checkbox",name:e,id:e,onChange:this.multiFilterChange,checked:this.props.multiFilters.indexOf(e)>=0}),h.createElement("label",{htmlFor:e},t))}))))}shouldComponentUpdate(e){return e.enabled!==this.props.enabled||(t=e.multiFilters,n=this.props.multiFilters,!(t.length===n.length&&0===SB()(t,n).length));var t,n}render(){const e={maxHeight:this.props.enabled?"150px":"0px",margin:this.props.enabled?"5px 0px 0px 0px":"0px"},t=Object.keys(EE()(this.props.filters,["all","multiple"])),n=EB()(t,4),i=Object.values(n).map(((e,t)=>h.createElement("ul",{key:t},this.multiFilterGroup(e))));return h.createElement("div",{style:e,className:"vidiq-multiple-filter"},i)}}const FB=DB,MB=Oo()({displayName:"CommentsFilter",filters:{all:(0,ai.Z)("allCommentThreads"),hasReplies:(0,ai.Z)("hasReplies"),noReplies:(0,ai.Z)("noReplies"),hasOwnerReplies:(0,ai.Z)("iveRepliedTo"),noOwnerReplies:(0,ai.Z)("iveNotRepliedTo"),question:(0,ai.Z)("containQuestions"),profanity:(0,ai.Z)("containProfanity"),commentsBy:(0,ai.Z)("commentsMadeBy"),search:(0,ai.Z)("searchByPhrases"),blacklist:(0,ai.Z)("filterOutPhrases"),videoIds:(0,ai.Z)("filterOutVideos"),minSubscribers:(0,ai.Z)("minimumSubs"),multiple:(0,ai.Z)("multipleFilters")},getInitialState(){return this.store=mB,{store:this.store.getData()}},getFilters(){let e=this.filters;return this.props.videoPage&&(e=L().omit(e,"videoIds")),(0,Ee.Z)()&&(e=L().omit(e,["hasOwnerReplies","noOwnerReplies"])),e},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},filterEnabled(e){const t=this.state.store;return t.filter===e||"multiple"===t.filter&&t.multiFilters.indexOf(e)>-1},render(){const e=this.getFilters();return h.createElement("div",{className:"vidiq-comment-filter"},h.createElement(kB,{videoPage:this.props.videoPage,filter:this.state.store.filter,showCount:this.state.store.showCount}),h.createElement(yB,{filters:e,loading:this.state.store.loading}),h.createElement(bB,{loading:this.state.store.loading,count:this.state.store.showCount,total:this.state.store.allThreads.length}),h.createElement(_B,{wordSearchEnabled:this.filterEnabled("search"),blacklistEnabled:this.filterEnabled("blacklist"),ignoreVidsEnabled:this.filterEnabled("videoIds"),userSearchEnabled:this.filterEnabled("commentsBy"),minSubsEnabled:this.filterEnabled("minSubscribers"),searchTerms:this.state.store.searchTerms,blacklist:this.state.store.blacklist,videoIds:this.state.store.videoIds,username:this.state.store.username,minSubscribers:this.state.store.minSubscribers}),h.createElement(FB,{enabled:this.filterEnabled("multiple"),filters:e,multiFilters:this.state.store.multiFilters}))}}),AB=MB,IB=Oo()({displayName:"LegacyDropdownMenu",render(){const e=Fo()("dropdown-button","yt-uix-button","yt-uix-button-default","yt-uix-button-size-small","yt-uix-button-empty","start","end",{"dropdown-button-small":"small"===this.props.size});let t="vidiq-dropdown-menu yt-uix-button-group";this.props.className&&(t+=" "+this.props.className);let n=h.createElement(XF,{size:"small"===this.props.size?"small":null});return!1===this.props.logo&&(n=null),h.createElement("span",{className:t,ref:this.props.nodeRef},h.createElement("button",{type:"button","aria-haspopup":"true","aria-expanded":"false",className:e},n,h.createElement("span",{className:"dropdown-button-caret yt-uix-button-arrow yt-sprite"}),h.createElement("ul",{role:"menu","aria-haspopup":"true",className:"vidiq-dropdown-menu yt-uix-button-menu yt-uix-button-menu-default",style:{display:"none"}},this.props.children)))}}),OB=IB,NB={},PB={},RB=Oo()({displayName:"LegacyDropdownMenuItem",getInitialState:()=>({key:"vidiq-"+we.Z.prettyRandomId()}),UNSAFE_componentWillMount(){NB[this.state.key]=this.onClick,PB[this.state.key]=this.props.data},onClick(e,t){this.props.onClick(e,PB[t])},render(){const e={className:Fo()("yt-uix-button-menu-item",this.props.classes)};return h.createElement("li",{role:"menuitem",className:this.state.key},h.createElement("span",e,this.props.children))}});r()(window).one("vidiq:ready",(()=>{document.body.addEventListener("click",(e=>{const t=r()(e.target),n=t.parents(".vidiq-dropdown-menu").length>0,i=t.parents("li[class^='vidiq-']").length>0;if(n&&i){const e=t.parents("li").first().attr("class"),n=t.text();(0,NB[e])(n,e)}}))}));const jB=RB,LB=(e,t)=>{const n=t.component,i=t.trackingLabel;dt(`Clicked ${i} dropdown menu item`),t.legacy?cs.create({title:e,innerComponent:hD(n)}):cs.mount(hD(n))},qB=({v2:e,alignment:t})=>{const n=e?iM:OB,i=e?aM:jB;return h.createElement(n,{alignment:t},h.createElement(i,{id:(0,ai.Z)("csvExportTitle"),onClick:LB,data:{legacy:!0,component:"MassExport",trackingLabel:"Mass CSV Export"}},(0,ai.Z)("csvExportTitle")),h.createElement(i,{id:(0,ai.Z)("massEditVideosTitle"),onClick:LB,data:{component:"MassEditVideos",trackingLabel:"Mass Edit Videos"}},(0,ai.Z)("massEditVideosTitle")),h.createElement(i,{id:(0,ai.Z)("massEditCardsAndEnds"),onClick:LB,data:{legacy:!0,component:"MassEditVideoResources",trackingLabel:"Mass Edit Cards & Endscreens"}},(0,ai.Z)("massEditCardsAndEnds")))},ZB=Oo()({displayName:"LegacyNewLayoutDropdownMenu",getInitialState:()=>({showList:!1}),onClick(){this.setState({showList:!this.state.showList})},render(){if(!(0,Ee.Z)())return null;const e=this.state.showList?{display:"block"}:{display:"none"},t=Fo()("vidiq-new-dropdown-button",{expanded:this.state.showList});let n="vidiq-new-dropdown-menu";this.props.className&&(n+=" "+this.props.className);const i=!1!==this.props.logo?h.createElement(XF,{size:"small"}):null;return h.createElement("span",{className:n,ref:this.props.nodeRef},h.createElement("button",{type:"button",className:t,onClick:this.onClick},i," ",h.createElement("span",{className:"vidiq-caret"},"▾"),h.createElement("ul",{role:"menu",className:"vidiq-dropdown-menu vidiq-new-dropdown-list",style:e},this.props.children)))}}),BB=ZB;function VB(e){const t=r()(e).closest(".vm-video-item"),n=t.find(".vm-video-privacy-link span:not(.hid)").attr("aria-label");return{id:t.data("video-id"),title:t.find(".vm-video-title-content").text(),thumbnail:t.find(".yt-thumb-clip img").attr("src"),duration:t.find(".video-time").text(),status:n?n.toLowerCase():""}}function zB(e){const t=e.closest("#row-container"),n=t.querySelector("#thumbnail-anchor"),i=we.Z.safely((()=>n.getAttribute("href").split("/")[2]),"unknown"),r=t.querySelector("#img-with-fallback"),a=we.Z.safely((()=>r.getAttribute("src")),"https://i9.ytimg.com/");return{id:i,title:we.Z.safely((()=>t.querySelector("#video-title").textContent),"no title detected"),thumbnail:a,duration:we.Z.safely((()=>t.querySelector(".timestamp > .label").textContent),"0:00"),status:we.Z.safely((()=>{const e=t.querySelector(".tablecell-visibility span.label-span");return e&&e.textContent}),"unknown")}}const UB=Oo()({displayName:"VideoActionsDropdownMenu",features:[{id:"copy-cards",component:"CopyVideoResources",title:(0,ai.Z)("copyCardsTitle"),onClick:"openLegacyModal",arg:"card"},{id:"copy-endscreens",component:"CopyVideoResources",title:(0,ai.Z)("copyEndScreenTitle"),onClick:"openLegacyModal",arg:"endscreen"},{id:"advanced-embed",component:"AdvancedEmbedBase",title:(0,ai.Z)("advancedEmbedTitle"),onClick:"openLegacyModal"},{id:"mass-like",component:"MassLikeBase",title:(0,ai.Z)("massLikeTitle"),onClick:"openLegacyModal",permitted:"massLike"},{id:"thumbnail-editor",component:"ThumbnailEditor",title:(0,ai.Z)("thumbnailEditorTitle"),onClick:"openLegacyModal",size:"large"},{id:"add-competitor",component:"CompetitionView",title:(0,ai.Z)("dropdownAddCompetitor"),onClick:"addCompetitor",page:"watch-page",test:e=>!e.userOwnsChannel&&!e.channelIsCompetitor,arg:e=>({channelId:e.myChannelId,competitorYtChannelId:e.ytChannelId})},{id:"remove-competitor",component:"CompetitionView",title:(0,ai.Z)("dropdownRemoveCompetitor"),onClick:"removeCompetitor",page:"watch-page",test:e=>!e.userOwnsChannel&&e.channelIsCompetitor,arg:e=>({channelId:e.myChannelId,competitorVidiqChannelId:e.vidiqChannelId})}],_waitingForVideoData:[],getInitialState:()=>({authed:J.Z.getData().authed,currentPage:oN().currentVideoID()?"watch-page":"my-videos-page",channelIsCompetitor:!1,ytChannelId:null,vidiqChannelId:null,userOwnsChannel:!1,numCompetitors:0,requestedFeatures:[],videoData:{}}),componentDidMount(){J.Z.addChangeListener(this.onStoreChange),"watch-page"===this.state.currentPage?SN.addChangeListener(this.onVideoStoreChange):this.getMyVideosVideoData(),this.getRequestedFeatures(),this.getCompetitorCount(),this.checkIfCompetitor(),we.Z.onPageChange(/\/watch\?v=[0-9a-zA-z]+/,"href",(()=>{this._gotVideoData=!1,"my-videos-page"===this.state.currentPage&&this.getMyVideosVideoData(),this.getRequestedFeatures(),this.getCompetitorCount(),this.checkIfCompetitor()}))},componentWillUnmount(){J.Z.removeChangeListener(this.onStoreChange)},onVideoData(){return new Promise((e=>{if(this._gotVideoData)return e(this.state.videoData);this._waitingForVideoData.push(e)}))},onStoreChange(){const e=J.Z.getData().authed;!this.state.authed&&e&&(this.getCompetitorCount(),this.checkIfCompetitor()),this.setState({authed:e})},onVideoStoreChange(){const e=SN.getData();let t;try{t=e.data.watch_page_html}catch(e){}if(t&&!this._gotVideoData){const e=function(e){const t=oN().currentVideoID(),n=document.createElement("template");n.innerHTML=(0,ns.N)(e.trim());const i=n.content.childNodes,a={video_id:t,watch_page_html:e,$h:r()(i),is_new_layout:(0,Ee.Z)()};return{id:t,title:yj.fn.apply(a),thumbnail:mj.fn.apply(a),duration:(lN.fn.apply(a)||{}).duration,status:ij.fn.apply(a),channel_id:jl.fn.apply(a)}}(t);this.setState({videoData:e},(()=>{this._gotVideoData=!0,this._waitingForVideoData.forEach((t=>t(e))),this._waitingForVideoData=[]}))}},getMyVideosVideoData(){const e=(this.props.v2?zB:VB)(this.node);return this.setState({videoData:e}),e},async getRequestedFeatures(){if("my-videos-page"===this.state.currentPage)return this.setState({requestedFeatures:["all"]});const e=await this.onVideoData(),t=(0,ve.h)().getChannel(e.channel_id),n=t?["all"]:["advanced-embed","mass-like","add-competitor","remove-competitor"];this.setState({ytChannelId:e.channel_id,userOwnsChannel:t,requestedFeatures:n})},getCompetitorCount(){tD.fetchCurrentChannelId().then(tD.fetchCompetitors).then((e=>this.setState({numCompetitors:e.length})))},async checkIfCompetitor(){const e=await this.onVideoData(),{isCompetitor:t,channelId:n,myChannelId:i}=await tD.isCompetitor(e.channel_id);this.setState({channelIsCompetitor:t,vidiqChannelId:n,myChannelId:i})},addCompetitor(e,t){const n=hD(t.componentName);if(!this.state.myChannelId)return cs.mount(n);if(qF(this.state.numCompetitors))return cs.mount(n);const{channelId:i,competitorYtChannelId:r}=t.arg(this.state);cs.mount(n),LF.addCompetitor(i,r,"watch page").then(this.checkIfCompetitor)},removeCompetitor(e,t){const n=hD(t.componentName);if(!this.state.myChannelId)return cs.mount(n);const{channelId:i,competitorVidiqChannelId:r}=t.arg(this.state);cs.mount(n),LF.removeCompetitor(i,r,"watch page").then(this.checkIfCompetitor)},openLegacyModal(e,t){const n={video:"watch-page"===this.state.currentPage?this.state.videoData:this.getMyVideosVideoData()};return t.arg&&(n.type=t.arg),cs.create({title:e,size:t.size||null,innerComponent:hD(t.componentName),innerProps:n})},renderDropdownItems(){const e=this.state.requestedFeatures,t="all"===e[0];return this.features.map(((n,i)=>{if(!e.includes(n.id)&&!t)return;if(!(!n.permitted||(0,ve.h)().featurePermitted(n.permitted)))return;if(!(!n.page||this.state.currentPage===n.page))return;if(!(!n.test||n.test(this.state)))return;const r={arg:n.arg,componentName:n.component,size:n.size},a=this.props.v2?aM:jB;return h.createElement(a,{key:i,id:n.title,onClick:this[n.onClick],data:r},n.title)}))},render(){if(!this.state.authed)return null;const e=this.props.v2&&iM||(0,Ee.Z)()&&BB||OB;return h.createElement(e,{alignment:this.props.alignment,size:this.props.size,nodeRef:e=>this.node=e},this.renderDropdownItems())}}),WB=UB,HB=JSON.parse('{"compressed":true,"categories":[{"id":"people","name":"Smileys & People","emojis":["grinning","grin","joy","smiley","smile","sweat_smile","laughing","wink","blush","yum","sunglasses","heart_eyes","kissing_heart","kissing","kissing_smiling_eyes","kissing_closed_eyes","relaxed","slightly_smiling_face","neutral_face","expressionless","no_mouth","smirk","persevere","disappointed_relieved","open_mouth","hushed","sleepy","tired_face","sleeping","relieved","stuck_out_tongue","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","unamused","sweat","pensive","confused","astonished","confounded","disappointed","worried","triumph","cry","sob","frowning","anguished","fearful","weary","grimacing","cold_sweat","scream","flushed","dizzy_face","rage","angry","mask","innocent","smiling_imp","imp","japanese_ogre","japanese_goblin","skull","ghost","alien","space_invader","hankey","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","see_no_evil","hear_no_evil","speak_no_evil","baby","boy","girl","man","woman","older_man","older_woman","cop","guardsman","construction_worker","princess","man_with_turban","man_with_gua_pi_mao","person_with_blond_hair","bride_with_veil","angel","santa","person_frowning","person_with_pouting_face","no_good","ok_woman","information_desk_person","raising_hand","bow","massage","haircut","walking","runner","dancer","dancers","bath","bust_in_silhouette","busts_in_silhouette","horse_racing","snowboarder","surfer","rowboat","swimmer","bicyclist","mountain_bicyclist","couple","two_men_holding_hands","two_women_holding_hands","couplekiss","man-kiss-man","woman-kiss-woman","couple_with_heart","man-heart-man","woman-heart-woman","family","man-woman-boy","man-woman-girl","man-woman-girl-boy","man-woman-boy-boy","man-woman-girl-girl","man-man-boy","man-man-girl","man-man-girl-boy","man-man-boy-boy","man-man-girl-girl","woman-woman-boy","woman-woman-girl","woman-woman-girl-boy","woman-woman-boy-boy","woman-woman-girl-girl","muscle","point_left","point_right","point_up","point_up_2","point_down","v","hand","ok_hand","+1","-1","fist","facepunch","wave","clap","open_hands","raised_hands","pray","nail_care","ear","nose","footprints","eyes","tongue","lips","kiss","cupid","heart","heartbeat","broken_heart","two_hearts","sparkling_heart","heartpulse","blue_heart","green_heart","yellow_heart","purple_heart","gift_heart","revolving_hearts","heart_decoration","love_letter","zzz","anger","bomb","boom","sweat_drops","dash","dizzy","speech_balloon","thought_balloon","eyeglasses","necktie","shirt","jeans","dress","kimono","bikini","womans_clothes","purse","handbag","pouch","school_satchel","mans_shoe","athletic_shoe","high_heel","sandal","boot","crown","womans_hat","tophat","mortar_board","lipstick","ring","gem"]},{"id":"nature","name":"Animals & Nature","emojis":["monkey_face","monkey","dog","dog2","poodle","wolf","cat","cat2","tiger","tiger2","leopard","horse","racehorse","cow","ox","water_buffalo","cow2","pig","pig2","boar","pig_nose","ram","sheep","goat","dromedary_camel","camel","elephant","mouse","mouse2","rat","hamster","rabbit","rabbit2","bear","koala","panda_face","feet","chicken","rooster","hatching_chick","baby_chick","hatched_chick","bird","penguin","frog","crocodile","turtle","snake","dragon_face","dragon","whale","whale2","dolphin","fish","tropical_fish","blowfish","octopus","shell","snail","bug","ant","bee","beetle","bouquet","cherry_blossom","white_flower","rose","hibiscus","sunflower","blossom","tulip","seedling","evergreen_tree","deciduous_tree","palm_tree","cactus","ear_of_rice","herb","four_leaf_clover","maple_leaf","fallen_leaf","leaves"]},{"id":"foods","name":"Food & Drink","emojis":["grapes","melon","watermelon","tangerine","lemon","banana","pineapple","apple","green_apple","pear","peach","cherries","strawberry","tomato","eggplant","corn","mushroom","chestnut","bread","meat_on_bone","poultry_leg","hamburger","fries","pizza","fried_egg","stew","bento","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","sweet_potato","oden","sushi","fried_shrimp","fish_cake","dango","icecream","shaved_ice","ice_cream","doughnut","cookie","birthday","cake","chocolate_bar","candy","lollipop","custard","honey_pot","baby_bottle","coffee","tea","sake","wine_glass","cocktail","tropical_drink","beer","beers","fork_and_knife","hocho"]},{"id":"activity","name":"Activities","emojis":["jack_o_lantern","christmas_tree","fireworks","sparkler","sparkles","balloon","tada","confetti_ball","tanabata_tree","bamboo","dolls","flags","wind_chime","rice_scene","ribbon","gift","ticket","trophy","soccer","baseball","basketball","football","rugby_football","tennis","8ball","bowling","dart","golf","fishing_pole_and_fish","running_shirt_with_sash","ski","video_game","game_die","spades","hearts","diamonds","clubs","black_joker","mahjong","flower_playing_cards"]},{"id":"places","name":"Travel & Places","emojis":["earth_africa","earth_americas","earth_asia","globe_with_meridians","japan","volcano","mount_fuji","house","house_with_garden","office","post_office","european_post_office","hospital","bank","hotel","love_hotel","convenience_store","school","department_store","factory","japanese_castle","european_castle","wedding","tokyo_tower","statue_of_liberty","church","fountain","tent","foggy","night_with_stars","sunrise_over_mountains","sunrise","city_sunset","city_sunrise","bridge_at_night","hotsprings","milky_way","carousel_horse","ferris_wheel","roller_coaster","barber","circus_tent","performing_arts","art","slot_machine","steam_locomotive","railway_car","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","monorail","mountain_railway","train","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","taxi","oncoming_taxi","car","oncoming_automobile","blue_car","truck","articulated_lorry","tractor","bike","busstop","fuelpump","rotating_light","traffic_light","vertical_traffic_light","construction","anchor","boat","speedboat","ship","airplane","seat","helicopter","suspension_railway","mountain_cableway","aerial_tramway","rocket","door","toilet","shower","bathtub","hourglass","hourglass_flowing_sand","watch","alarm_clock","clock12","clock1230","clock1","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","clock10","clock1030","clock11","clock1130","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","crescent_moon","new_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","sunny","full_moon_with_face","sun_with_face","star","star2","stars","cloud","partly_sunny","cyclone","rainbow","closed_umbrella","umbrella_with_rain_drops","zap","snowflake","snowman_without_snow","fire","droplet","ocean"]},{"id":"objects","name":"Objects","emojis":["mute","speaker","sound","loud_sound","loudspeaker","mega","postal_horn","bell","no_bell","musical_score","musical_note","notes","microphone","headphones","radio","saxophone","guitar","musical_keyboard","trumpet","violin","iphone","calling","phone","telephone_receiver","pager","fax","battery","electric_plug","computer","minidisc","floppy_disk","cd","dvd","movie_camera","clapper","tv","camera","video_camera","vhs","mag","mag_right","microscope","telescope","satellite_antenna","bulb","flashlight","izakaya_lantern","notebook_with_decorative_cover","closed_book","book","green_book","blue_book","orange_book","books","notebook","ledger","page_with_curl","scroll","page_facing_up","newspaper","bookmark_tabs","bookmark","moneybag","yen","dollar","euro","pound","money_with_wings","credit_card","chart","currency_exchange","heavy_dollar_sign","email","e-mail","incoming_envelope","envelope_with_arrow","outbox_tray","inbox_tray","package","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","postbox","pencil2","black_nib","memo","briefcase","file_folder","open_file_folder","date","calendar","card_index","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","clipboard","pushpin","round_pushpin","paperclip","straight_ruler","triangular_ruler","scissors","lock","unlock","lock_with_ink_pen","closed_lock_with_key","key","hammer","gun","wrench","nut_and_bolt","link","syringe","pill","smoking","moyai","crystal_ball"]},{"id":"symbols","name":"Symbols","emojis":["atm","put_litter_in_its_place","potable_water","wheelchair","mens","womens","restroom","baby_symbol","wc","passport_control","customs","baggage_claim","left_luggage","warning","children_crossing","no_entry","no_entry_sign","no_bicycles","no_smoking","do_not_litter","non-potable_water","no_pedestrians","no_mobile_phones","underage","arrow_up","arrow_upper_right","arrow_right","arrow_lower_right","arrow_down","arrow_lower_left","arrow_left","arrow_upper_left","arrow_up_down","left_right_arrow","leftwards_arrow_with_hook","arrow_right_hook","arrow_heading_up","arrow_heading_down","arrows_clockwise","arrows_counterclockwise","back","end","on","soon","top","six_pointed_star","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","twisted_rightwards_arrows","repeat","repeat_one","arrow_forward","fast_forward","arrow_backward","rewind","arrow_up_small","arrow_double_up","arrow_down_small","arrow_double_down","cinema","low_brightness","high_brightness","signal_strength","vibration_mode","mobile_phone_off","recycle","trident","name_badge","beginner","o","white_check_mark","ballot_box_with_check","heavy_check_mark","heavy_multiplication_x","x","negative_squared_cross_mark","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","curly_loop","loop","part_alternation_mark","eight_spoked_asterisk","eight_pointed_black_star","sparkle","bangbang","interrobang","question","grey_question","grey_exclamation","exclamation","wavy_dash","tm","keycap_ten","100","capital_abcd","abcd","1234","symbols","abc","a","ab","b","cl","cool","free","information_source","id","m","new","ng","o2","ok","parking","sos","up","vs","koko","sa","u6708","u6709","u6307","ideograph_advantage","u5272","u7121","u7981","accept","u7533","u5408","u7a7a","congratulations","secret","u55b6","u6e80","black_small_square","white_small_square","white_medium_square","black_medium_square","white_medium_small_square","black_medium_small_square","black_large_square","white_large_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","small_red_triangle","small_red_triangle_down","diamond_shape_with_a_dot_inside","radio_button","black_square_button","white_square_button","white_circle","black_circle","red_circle","large_blue_circle"]},{"id":"flags","name":"Flags","emojis":["checkered_flag","cn","crossed_flags","de","es","flag-ac","flag-ad","flag-ae","flag-af","flag-ag","flag-ai","flag-al","flag-am","flag-ao","flag-aq","flag-ar","flag-as","flag-at","flag-au","flag-aw","flag-ax","flag-az","flag-bb","flag-bd","flag-be","flag-bf","flag-bg","flag-bh","flag-bi","flag-bj","flag-bl","flag-bm","flag-bo","flag-bq","flag-br","flag-bs","flag-bt","flag-bv","flag-bw","flag-by","flag-bz","flag-ca","flag-cc","flag-cd","flag-cf","flag-cg","flag-ch","flag-ci","flag-ck","flag-cl","flag-cm","flag-co","flag-cr","flag-cu","flag-cv","flag-cw","flag-cx","flag-cy","flag-cz","flag-dg","flag-dj","flag-dk","flag-dm","flag-do","flag-dz","flag-ea","flag-ec","flag-ee","flag-eg","flag-eh","flag-er","flag-et","flag-eu","flag-fi","flag-fj","flag-fk","flag-fm","flag-fo","flag-ga","flag-gd","flag-ge","flag-gf","flag-gg","flag-gh","flag-gi","flag-gl","flag-gm","flag-gn","flag-gp","flag-gq","flag-gr","flag-gs","flag-gt","flag-gu","flag-gw","flag-gy","flag-hk","flag-hm","flag-hn","flag-hr","flag-ht","flag-hu","flag-ic","flag-id","flag-ie","flag-il","flag-im","flag-in","flag-io","flag-iq","flag-ir","flag-is","flag-je","flag-jm","flag-jo","flag-ke","flag-kg","flag-kh","flag-ki","flag-km","flag-kn","flag-kp","flag-kw","flag-ky","flag-kz","flag-la","flag-lb","flag-lc","flag-li","flag-lk","flag-lr","flag-ls","flag-lt","flag-lu","flag-lv","flag-ly","flag-ma","flag-mc","flag-md","flag-me","flag-mf","flag-mg","flag-mh","flag-mk","flag-ml","flag-mm","flag-mn","flag-mo","flag-mp","flag-mq","flag-mr","flag-ms","flag-mt","flag-mu","flag-mv","flag-mw","flag-mx","flag-my","flag-mz","flag-na","flag-nc","flag-ne","flag-nf","flag-ng","flag-ni","flag-nl","flag-no","flag-np","flag-nr","flag-nu","flag-nz","flag-om","flag-pa","flag-pe","flag-pf","flag-pg","flag-ph","flag-pk","flag-pl","flag-pm","flag-pn","flag-pr","flag-ps","flag-pt","flag-pw","flag-py","flag-qa","flag-re","flag-ro","flag-rs","flag-rw","flag-sa","flag-sb","flag-sc","flag-sd","flag-se","flag-sg","flag-sh","flag-si","flag-sj","flag-sk","flag-sl","flag-sm","flag-sn","flag-so","flag-sr","flag-ss","flag-st","flag-sv","flag-sx","flag-sy","flag-sz","flag-ta","flag-tc","flag-td","flag-tf","flag-tg","flag-th","flag-tj","flag-tk","flag-tl","flag-tm","flag-tn","flag-to","flag-tr","flag-tt","flag-tv","flag-tw","flag-tz","flag-ua","flag-ug","flag-um","flag-uy","flag-uz","flag-va","flag-vc","flag-ve","flag-vg","flag-vi","flag-vn","flag-vu","flag-wf","flag-ws","flag-xk","flag-ye","flag-yt","flag-za","flag-zm","flag-zw","fr","gb","it","jp","kr","rainbow-flag","ru","triangular_flag_on_post","us"]}],"emojis":{"100":{"a":"Hundred Points Symbol","b":"1F4AF","j":["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],"k":[25,26]},"1234":{"a":"Input Symbol for Numbers","b":"1F522","j":["numbers","blue-square"],"k":[27,36]},"monkey_face":{"a":"Monkey Face","b":"1F435","j":["animal","nature","circus"],"k":[13,31],"l":[":o)"]},"grinning":{"a":"Grinning Face","b":"1F600","j":["face","smile","happy","joy",":D","grin"],"k":[30,24],"m":":D"},"earth_africa":{"a":"Earth Globe Europe-Africa","b":"1F30D","j":["globe","world","international"],"k":[6,5]},"checkered_flag":{"a":"Chequered Flag","b":"1F3C1","j":["contest","finishline","race","gokart"],"k":[9,27]},"mute":{"a":"Speaker with Cancellation Stroke","b":"1F507","j":["sound","volume","silence","quiet"],"k":[27,9]},"jack_o_lantern":{"a":"Jack-O-Lantern","b":"1F383","j":["halloween","light","pumpkin","creepy","fall"],"k":[8,17]},"atm":{"a":"Automated Teller Machine","b":"1F3E7","j":["money","sales","cash","blue-square","payment","bank"],"k":[12,4]},"grapes":{"a":"Grapes","b":"1F347","j":["fruit","food","wine"],"k":[7,9]},"earth_americas":{"a":"Earth Globe Americas","b":"1F30E","j":["globe","world","USA","international"],"k":[6,6]},"grin":{"a":"Grinning Face with Smiling Eyes","b":"1F601","j":["face","happy","smile","joy","kawaii"],"k":[30,25]},"melon":{"a":"Melon","b":"1F348","j":["fruit","nature","food"],"k":[7,10]},"triangular_flag_on_post":{"a":"Triangular Flag on Post","b":"1F6A9","j":["mark","milestone","place"],"k":[35,14]},"monkey":{"a":"Monkey","b":"1F412","j":["animal","nature","banana","circus"],"k":[12,48]},"christmas_tree":{"a":"Christmas Tree","b":"1F384","j":["festival","vacation","december","xmas","celebration"],"k":[8,18]},"put_litter_in_its_place":{"a":"Put Litter in Its Place Symbol","b":"1F6AE","j":["blue-square","sign","human","info"],"k":[35,19]},"speaker":{"a":"Speaker","b":"1F508","j":["sound","volume","silence","broadcast"],"k":[27,10]},"earth_asia":{"a":"Earth Globe Asia-Australia","b":"1F30F","j":["globe","world","east","international"],"k":[6,7]},"crossed_flags":{"a":"Crossed Flags","b":"1F38C","j":["japanese","nation","country","border"],"k":[8,31]},"joy":{"a":"Face with Tears of Joy","b":"1F602","j":["face","cry","tears","weep","happy","happytears","haha"],"k":[30,26]},"sound":{"a":"Speaker with One Sound Wave","b":"1F509","j":["volume","speaker","broadcast"],"k":[27,11]},"watermelon":{"a":"Watermelon","b":"1F349","j":["fruit","food","picnic","summer"],"k":[7,11]},"fireworks":{"a":"Fireworks","b":"1F386","j":["photo","festival","carnival","congratulations"],"k":[8,25]},"potable_water":{"a":"Potable Water Symbol","b":"1F6B0","j":["blue-square","liquid","restroom","cleaning","faucet"],"k":[35,21]},"wheelchair":{"a":"Wheelchair Symbol","b":"267F","j":["blue-square","disabled","a11y","accessibility"],"k":[48,10],"o":4},"loud_sound":{"a":"Speaker with Three Sound Waves","b":"1F50A","j":["volume","noise","noisy","speaker","broadcast"],"k":[27,12]},"tangerine":{"a":"Tangerine","b":"1F34A","j":["food","fruit","nature","orange"],"k":[7,12]},"dog":{"a":"Dog Face","b":"1F436","j":["animal","friend","nature","woof","puppy","pet","faithful"],"k":[13,32]},"sparkler":{"a":"Firework Sparkler","b":"1F387","j":["stars","night","shine"],"k":[8,26]},"globe_with_meridians":{"a":"Globe with Meridians","b":"1F310","j":["earth","international","world","internet","interweb","i18n"],"k":[6,8]},"smiley":{"a":"Smiling Face with Open Mouth","b":"1F603","j":["face","happy","joy","haha",":D",":)","smile","funny"],"k":[30,27],"l":["=)","=-)"],"m":":)"},"loudspeaker":{"a":"Public Address Loudspeaker","b":"1F4E2","j":["volume","sound"],"k":[26,25]},"sparkles":{"a":"Sparkles","b":"2728","j":["stars","shine","shiny","cool","awesome","good","magic"],"k":[49,48]},"dog2":{"a":"Dog","b":"1F415","j":["animal","nature","friend","doge","pet","faithful"],"k":[12,51]},"lemon":{"a":"Lemon","b":"1F34B","j":["fruit","nature"],"k":[7,13]},"mens":{"a":"Mens Symbol","b":"1F6B9","j":["toilet","restroom","wc","blue-square","gender","male"],"k":[36,29]},"womens":{"a":"Womens Symbol","b":"1F6BA","j":["purple-square","woman","female","toilet","loo","restroom","gender"],"k":[36,30]},"rainbow-flag":{"a":"Rainbow Flag","b":"1F3F3-FE0F-200D-1F308","c":"1F3F3-200D-1F308","k":[12,14],"o":7},"smile":{"a":"Smiling Face with Open Mouth and Smiling Eyes","b":"1F604","j":["face","happy","joy","funny","haha","laugh","like",":D",":)"],"k":[30,28],"l":["C:","c:",":D",":-D"],"m":":)"},"banana":{"a":"Banana","b":"1F34C","j":["fruit","food","monkey"],"k":[7,14]},"mega":{"a":"Cheering Megaphone","b":"1F4E3","j":["sound","speaker","volume"],"k":[26,26]},"japan":{"a":"Silhouette of Japan","b":"1F5FE","j":["nation","country","japanese","asia"],"k":[30,22]},"poodle":{"a":"Poodle","b":"1F429","j":["dog","animal","101","nature","pet"],"k":[13,19]},"balloon":{"a":"Balloon","b":"1F388","j":["party","celebration","birthday","circus"],"k":[8,27]},"flag-ac":{"a":"Ascension Island Flag","b":"1F1E6-1F1E8","k":[0,31]},"sweat_smile":{"a":"Smiling Face with Open Mouth and Cold Sweat","b":"1F605","j":["face","hot","happy","laugh","sweat","smile","relief"],"k":[30,29]},"pineapple":{"a":"Pineapple","b":"1F34D","j":["fruit","nature","food"],"k":[7,15]},"restroom":{"a":"Restroom","b":"1F6BB","j":["blue-square","toilet","refresh","wc","gender"],"k":[36,31]},"postal_horn":{"a":"Postal Horn","b":"1F4EF","j":["instrument","music"],"k":[26,38]},"wolf":{"a":"Wolf Face","b":"1F43A","j":["animal","nature","wild"],"k":[13,36]},"tada":{"a":"Party Popper","b":"1F389","j":["party","congratulations","birthday","magic","circus","celebration"],"k":[8,28]},"laughing":{"a":"Smiling Face with Open Mouth and Tightly-Closed Eyes","b":"1F606","j":["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],"k":[30,30],"l":[":>",":->"],"n":["satisfied"]},"apple":{"a":"Red Apple","b":"1F34E","j":["fruit","mac","school"],"k":[7,16]},"flag-ad":{"a":"Andorra Flag","b":"1F1E6-1F1E9","k":[0,32]},"confetti_ball":{"a":"Confetti Ball","b":"1F38A","j":["festival","party","birthday","circus"],"k":[8,29]},"bell":{"a":"Bell","b":"1F514","j":["sound","notification","christmas","xmas","chime"],"k":[27,22]},"baby_symbol":{"a":"Baby Symbol","b":"1F6BC","j":["orange-square","child"],"k":[36,32]},"wc":{"a":"Water Closet","b":"1F6BE","j":["toilet","restroom","blue-square"],"k":[36,34]},"wink":{"a":"Winking Face","b":"1F609","j":["face","happy","mischievous","secret",";)","smile","eye"],"k":[30,33],"l":[";)",";-)"],"m":";)"},"no_bell":{"a":"Bell with Cancellation Stroke","b":"1F515","j":["sound","volume","mute","quiet","silent"],"k":[27,23]},"green_apple":{"a":"Green Apple","b":"1F34F","j":["fruit","nature"],"k":[7,17]},"tanabata_tree":{"a":"Tanabata Tree","b":"1F38B","j":["plant","nature","branch","summer"],"k":[8,30]},"flag-ae":{"a":"United Arab Emirates Flag","b":"1F1E6-1F1EA","k":[0,33]},"volcano":{"a":"Volcano","b":"1F30B","j":["photo","nature","disaster"],"k":[6,3]},"cat":{"a":"Cat Face","b":"1F431","j":["animal","meow","nature","pet","kitten"],"k":[13,27]},"flag-af":{"a":"Afghanistan Flag","b":"1F1E6-1F1EB","k":[0,34]},"musical_score":{"a":"Musical Score","b":"1F3BC","j":["treble","clef","compose"],"k":[9,22]},"blush":{"a":"Smiling Face with Smiling Eyes","b":"1F60A","j":["face","smile","happy","flushed","crush","embarrassed","shy","joy"],"k":[30,34],"m":":)"},"pear":{"a":"Pear","b":"1F350","j":["fruit","nature","food"],"k":[7,18]},"bamboo":{"a":"Pine Decoration","b":"1F38D","j":["plant","nature","vegetable","panda","pine_decoration"],"k":[8,32]},"passport_control":{"a":"Passport Control","b":"1F6C2","j":["custom","blue-square"],"k":[36,43]},"mount_fuji":{"a":"Mount Fuji","b":"1F5FB","j":["photo","mountain","nature","japanese"],"k":[30,19]},"cat2":{"a":"Cat","b":"1F408","j":["animal","meow","pet","cats"],"k":[12,38]},"musical_note":{"a":"Musical Note","b":"1F3B5","j":["score","tone","sound"],"k":[9,15]},"dolls":{"a":"Japanese Dolls","b":"1F38E","j":["japanese","toy","kimono"],"k":[8,33]},"flag-ag":{"a":"Antigua & Barbuda Flag","b":"1F1E6-1F1EC","k":[0,35]},"customs":{"a":"Customs","b":"1F6C3","j":["passport","border","blue-square"],"k":[36,44]},"yum":{"a":"Face Savouring Delicious Food","b":"1F60B","j":["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],"k":[30,35]},"peach":{"a":"Peach","b":"1F351","j":["fruit","nature","food"],"k":[7,19]},"tiger":{"a":"Tiger Face","b":"1F42F","j":["animal","cat","danger","wild","nature","roar"],"k":[13,25]},"notes":{"a":"Multiple Musical Notes","b":"1F3B6","j":["music","score"],"k":[9,16]},"flags":{"a":"Carp Streamer","b":"1F38F","j":["fish","japanese","koinobori","carp","banner"],"k":[8,34]},"cherries":{"a":"Cherries","b":"1F352","j":["food","fruit"],"k":[7,20]},"flag-ai":{"a":"Anguilla Flag","b":"1F1E6-1F1EE","k":[0,36]},"baggage_claim":{"a":"Baggage Claim","b":"1F6C4","j":["blue-square","airport","transport"],"k":[36,45]},"sunglasses":{"a":"Smiling Face with Sunglasses","b":"1F60E","j":["face","cool","smile","summer","beach","sunglass"],"k":[30,38],"l":["8)"]},"left_luggage":{"a":"Left Luggage","b":"1F6C5","j":["blue-square","travel"],"k":[36,46]},"wind_chime":{"a":"Wind Chime","b":"1F390","j":["nature","ding","spring","bell"],"k":[8,35]},"strawberry":{"a":"Strawberry","b":"1F353","j":["fruit","food","nature"],"k":[7,21]},"flag-al":{"a":"Albania Flag","b":"1F1E6-1F1F1","k":[0,37]},"tiger2":{"a":"Tiger","b":"1F405","j":["animal","nature","roar"],"k":[12,35]},"heart_eyes":{"a":"Smiling Face with Heart-Shaped Eyes","b":"1F60D","j":["face","love","like","affection","valentines","infatuation","crush","heart"],"k":[30,37]},"rice_scene":{"a":"Moon Viewing Ceremony","b":"1F391","j":["photo","japan","asia","tsukimi"],"k":[8,36]},"kissing_heart":{"a":"Face Throwing a Kiss","b":"1F618","j":["face","love","like","affection","valentines","infatuation","kiss"],"k":[30,48],"l":[":*",":-*"]},"warning":{"a":"Warning Sign","b":"26A0-FE0F","c":"26A0","j":["exclamation","wip","alert","error","problem","issue"],"k":[48,20],"o":4},"flag-am":{"a":"Armenia Flag","b":"1F1E6-1F1F2","k":[0,38]},"leopard":{"a":"Leopard","b":"1F406","j":["animal","nature"],"k":[12,36]},"horse":{"a":"Horse Face","b":"1F434","j":["animal","brown","nature"],"k":[13,30]},"children_crossing":{"a":"Children Crossing","b":"1F6B8","j":["school","warning","danger","sign","driving","yellow-diamond"],"k":[36,28]},"ribbon":{"a":"Ribbon","b":"1F380","j":["decoration","pink","girl","bowtie"],"k":[8,14]},"kissing":{"a":"Kissing Face","b":"1F617","j":["love","like","face","3","valentines","infatuation","kiss"],"k":[30,47]},"tomato":{"a":"Tomato","b":"1F345","j":["fruit","vegetable","nature","food"],"k":[7,7]},"flag-ao":{"a":"Angola Flag","b":"1F1E6-1F1F4","k":[0,39]},"flag-aq":{"a":"Antarctica Flag","b":"1F1E6-1F1F6","k":[0,40]},"gift":{"a":"Wrapped Present","b":"1F381","j":["present","birthday","christmas","xmas"],"k":[8,15]},"no_entry":{"a":"No Entry","b":"26D4","j":["limit","security","privacy","bad","denied","stop","circle"],"k":[48,35],"o":5},"kissing_smiling_eyes":{"a":"Kissing Face with Smiling Eyes","b":"1F619","j":["face","affection","valentines","infatuation","kiss"],"k":[30,49]},"racehorse":{"a":"Horse","b":"1F40E","j":["animal","gamble","luck"],"k":[12,44]},"microphone":{"a":"Microphone","b":"1F3A4","j":["sound","music","PA","sing","talkshow"],"k":[8,50]},"no_entry_sign":{"a":"No Entry Sign","b":"1F6AB","j":["forbid","stop","limit","denied","disallow","circle"],"k":[35,16]},"kissing_closed_eyes":{"a":"Kissing Face with Closed Eyes","b":"1F61A","j":["face","love","like","affection","valentines","infatuation","kiss"],"k":[30,50]},"flag-ar":{"a":"Argentina Flag","b":"1F1E6-1F1F7","k":[0,41]},"headphones":{"a":"Headphone","b":"1F3A7","j":["music","score","gadgets"],"k":[9,1]},"relaxed":{"a":"White Smiling Face","b":"263A-FE0F","c":"263A","j":["face","blush","massage","happiness"],"k":[47,41],"o":1},"eggplant":{"a":"Aubergine","b":"1F346","j":["vegetable","nature","food","aubergine"],"k":[7,8]},"radio":{"a":"Radio","b":"1F4FB","j":["communication","music","podcast","program"],"k":[26,50]},"flag-as":{"a":"American Samoa Flag","b":"1F1E6-1F1F8","k":[0,42]},"no_bicycles":{"a":"No Bicycles","b":"1F6B3","j":["cyclist","prohibited","circle"],"k":[35,24]},"no_smoking":{"a":"No Smoking Symbol","b":"1F6AD","j":["cigarette","blue-square","smell","smoke"],"k":[35,18]},"slightly_smiling_face":{"a":"Slightly Smiling Face","b":"1F642","j":["face","smile"],"k":[31,38],"l":[":)","(:",":-)"],"o":7},"flag-at":{"a":"Austria Flag","b":"1F1E6-1F1F9","k":[0,43]},"ticket":{"a":"Ticket","b":"1F3AB","j":["event","concert","pass"],"k":[9,5]},"saxophone":{"a":"Saxophone","b":"1F3B7","j":["music","instrument","jazz","blues"],"k":[9,17]},"guitar":{"a":"Guitar","b":"1F3B8","j":["music","instrument"],"k":[9,18]},"flag-au":{"a":"Australia Flag","b":"1F1E6-1F1FA","k":[0,44]},"do_not_litter":{"a":"Do Not Litter Symbol","b":"1F6AF","j":["trash","bin","garbage","circle"],"k":[35,20]},"cow":{"a":"Cow Face","b":"1F42E","j":["beef","ox","animal","nature","moo","milk"],"k":[13,24]},"musical_keyboard":{"a":"Musical Keyboard","b":"1F3B9","j":["piano","instrument","compose"],"k":[9,19]},"corn":{"a":"Ear of Maize","b":"1F33D","j":["food","vegetable","plant"],"k":[6,51]},"non-potable_water":{"a":"Non-Potable Water Symbol","b":"1F6B1","j":["drink","faucet","tap","circle"],"k":[35,22]},"trophy":{"a":"Trophy","b":"1F3C6","j":["win","award","contest","place","ftw","ceremony"],"k":[10,19]},"flag-aw":{"a":"Aruba Flag","b":"1F1E6-1F1FC","k":[0,45]},"ox":{"a":"Ox","b":"1F402","j":["animal","cow","beef"],"k":[12,32]},"trumpet":{"a":"Trumpet","b":"1F3BA","j":["music","brass"],"k":[9,20]},"flag-ax":{"a":"Åland Islands Flag","b":"1F1E6-1F1FD","k":[0,46]},"water_buffalo":{"a":"Water Buffalo","b":"1F403","j":["animal","nature","ox","cow"],"k":[12,33]},"no_pedestrians":{"a":"No Pedestrians","b":"1F6B7","j":["rules","crossing","walking","circle"],"k":[36,27]},"house":{"a":"House Building","b":"1F3E0","j":["building","home"],"k":[11,49]},"no_mobile_phones":{"a":"No Mobile Phones","b":"1F4F5","j":["iphone","mute","circle"],"k":[26,44]},"flag-az":{"a":"Azerbaijan Flag","b":"1F1E6-1F1FF","k":[0,47]},"house_with_garden":{"a":"House with Garden","b":"1F3E1","j":["home","plant","nature"],"k":[11,50]},"violin":{"a":"Violin","b":"1F3BB","j":["music","instrument","orchestra","symphony"],"k":[9,21]},"cow2":{"a":"Cow","b":"1F404","j":["beef","ox","animal","nature","moo","milk"],"k":[12,34]},"pig":{"a":"Pig Face","b":"1F437","j":["animal","oink","nature"],"k":[13,33]},"underage":{"a":"No One Under Eighteen Symbol","b":"1F51E","j":["18","drink","pub","night","minor","circle"],"k":[27,32]},"office":{"a":"Office Building","b":"1F3E2","j":["building","bureau","work"],"k":[11,51]},"neutral_face":{"a":"Neutral Face","b":"1F610","j":["indifference","meh",":|","neutral"],"k":[30,40],"l":[":|",":-|"]},"mushroom":{"a":"Mushroom","b":"1F344","j":["plant","vegetable"],"k":[7,6]},"flag-bb":{"a":"Barbados Flag","b":"1F1E7-1F1E7","k":[0,49]},"pig2":{"a":"Pig","b":"1F416","j":["animal","nature"],"k":[13,0]},"expressionless":{"a":"Expressionless Face","b":"1F611","j":["face","indifferent","-_-","meh","deadpan"],"k":[30,41]},"iphone":{"a":"Mobile Phone","b":"1F4F1","j":["technology","apple","gadgets","dial"],"k":[26,40]},"post_office":{"a":"Japanese Post Office","b":"1F3E3","j":["building","envelope","communication"],"k":[12,0]},"european_post_office":{"a":"European Post Office","b":"1F3E4","j":["building","email"],"k":[12,1]},"soccer":{"a":"Soccer Ball","b":"26BD","j":["sports","football"],"k":[48,26],"o":5},"boar":{"a":"Boar","b":"1F417","j":["animal","nature"],"k":[13,1]},"calling":{"a":"Mobile Phone with Rightwards Arrow at Left","b":"1F4F2","j":["iphone","incoming"],"k":[26,41]},"flag-bd":{"a":"Bangladesh Flag","b":"1F1E7-1F1E9","k":[0,50]},"no_mouth":{"a":"Face Without Mouth","b":"1F636","j":["face","hellokitty"],"k":[31,26]},"phone":{"a":"Black Telephone","b":"260E-FE0F","c":"260E","j":["technology","communication","dial","telephone"],"k":[47,21],"n":["telephone"],"o":1},"pig_nose":{"a":"Pig Nose","b":"1F43D","j":["animal","oink"],"k":[13,39]},"chestnut":{"a":"Chestnut","b":"1F330","j":["food","squirrel"],"k":[6,38]},"arrow_up":{"a":"Upwards Black Arrow","b":"2B06-FE0F","c":"2B06","j":["blue-square","continue","top","direction"],"k":[50,18],"o":4},"hospital":{"a":"Hospital","b":"1F3E5","j":["building","health","surgery","doctor"],"k":[12,2]},"flag-be":{"a":"Belgium Flag","b":"1F1E7-1F1EA","k":[0,51]},"baseball":{"a":"Baseball","b":"26BE","j":["sports","balls"],"k":[48,27],"o":5},"smirk":{"a":"Smirking Face","b":"1F60F","j":["face","smile","mean","prank","smug","sarcasm"],"k":[30,39]},"arrow_upper_right":{"a":"North East Arrow","b":"2197-FE0F","c":"2197","j":["blue-square","point","direction","diagonal","northeast"],"k":[46,36],"o":1},"flag-bf":{"a":"Burkina Faso Flag","b":"1F1E7-1F1EB","k":[1,0]},"basketball":{"a":"Basketball and Hoop","b":"1F3C0","j":["sports","balls","NBA"],"k":[9,26]},"ram":{"a":"Ram","b":"1F40F","j":["animal","sheep","nature"],"k":[12,45]},"bank":{"a":"Bank","b":"1F3E6","j":["building","money","sales","cash","business","enterprise"],"k":[12,3]},"bread":{"a":"Bread","b":"1F35E","j":["food","wheat","breakfast","toast"],"k":[7,32]},"telephone_receiver":{"a":"Telephone Receiver","b":"1F4DE","j":["technology","communication","dial"],"k":[26,21]},"pager":{"a":"Pager","b":"1F4DF","j":["bbcall","oldschool","90s"],"k":[26,22]},"sheep":{"a":"Sheep","b":"1F411","j":["animal","nature","wool","shipit"],"k":[12,47]},"arrow_right":{"a":"Black Rightwards Arrow","b":"27A1-FE0F","c":"27A1","j":["blue-square","next"],"k":[50,12],"o":1},"persevere":{"a":"Persevering Face","b":"1F623","j":["face","sick","no","upset","oops"],"k":[31,7]},"flag-bg":{"a":"Bulgaria Flag","b":"1F1E7-1F1EC","k":[1,1]},"hotel":{"a":"Hotel","b":"1F3E8","j":["building","accomodation","checkin"],"k":[12,5]},"arrow_lower_right":{"a":"South East Arrow","b":"2198-FE0F","c":"2198","j":["blue-square","direction","diagonal","southeast"],"k":[46,37],"o":1},"goat":{"a":"Goat","b":"1F410","j":["animal","nature"],"k":[12,46]},"flag-bh":{"a":"Bahrain Flag","b":"1F1E7-1F1ED","k":[1,2]},"love_hotel":{"a":"Love Hotel","b":"1F3E9","j":["like","affection","dating"],"k":[12,6]},"disappointed_relieved":{"a":"Disappointed but Relieved Face","b":"1F625","j":["face","phew","sweat","nervous"],"k":[31,9]},"football":{"a":"American Football","b":"1F3C8","j":["sports","balls","NFL"],"k":[10,26]},"fax":{"a":"Fax Machine","b":"1F4E0","j":["communication","technology"],"k":[26,23]},"convenience_store":{"a":"Convenience Store","b":"1F3EA","j":["building","shopping","groceries"],"k":[12,7]},"dromedary_camel":{"a":"Dromedary Camel","b":"1F42A","j":["animal","hot","desert","hump"],"k":[13,20]},"arrow_down":{"a":"Downwards Black Arrow","b":"2B07-FE0F","c":"2B07","j":["blue-square","direction","bottom"],"k":[50,19],"o":4},"battery":{"a":"Battery","b":"1F50B","j":["power","energy","sustain"],"k":[27,13]},"rugby_football":{"a":"Rugby Football","b":"1F3C9","j":["sports","team"],"k":[10,27]},"open_mouth":{"a":"Face with Open Mouth","b":"1F62E","j":["face","surprise","impressed","wow","whoa",":O"],"k":[31,18],"l":[":o",":-o",":O",":-O"]},"flag-bi":{"a":"Burundi Flag","b":"1F1E7-1F1EE","k":[1,3]},"flag-bj":{"a":"Benin Flag","b":"1F1E7-1F1EF","k":[1,4]},"school":{"a":"School","b":"1F3EB","j":["building","student","education","learn","teach"],"k":[12,8]},"tennis":{"a":"Tennis Racquet and Ball","b":"1F3BE","j":["sports","balls","green"],"k":[9,24]},"camel":{"a":"Bactrian Camel","b":"1F42B","j":["animal","nature","hot","desert","hump"],"k":[13,21]},"arrow_lower_left":{"a":"South West Arrow","b":"2199-FE0F","c":"2199","j":["blue-square","direction","diagonal","southwest"],"k":[46,38],"o":1},"electric_plug":{"a":"Electric Plug","b":"1F50C","j":["charger","power"],"k":[27,14]},"hushed":{"a":"Hushed Face","b":"1F62F","j":["face","woo","shh"],"k":[31,19]},"computer":{"a":"Personal Computer","b":"1F4BB","j":["technology","laptop","screen","display","monitor"],"k":[25,38]},"8ball":{"a":"Billiards","b":"1F3B1","j":["pool","hobby","game","luck","magic"],"k":[9,11]},"flag-bl":{"a":"St. Barthélemy Flag","b":"1F1E7-1F1F1","k":[1,5]},"arrow_left":{"a":"Leftwards Black Arrow","b":"2B05-FE0F","c":"2B05","j":["blue-square","previous","back"],"k":[50,17],"o":4},"department_store":{"a":"Department Store","b":"1F3EC","j":["building","shopping","mall"],"k":[12,9]},"meat_on_bone":{"a":"Meat on Bone","b":"1F356","j":["good","food","drumstick"],"k":[7,24]},"arrow_upper_left":{"a":"North West Arrow","b":"2196-FE0F","c":"2196","j":["blue-square","point","direction","diagonal","northwest"],"k":[46,35],"o":1},"flag-bm":{"a":"Bermuda Flag","b":"1F1E7-1F1F2","k":[1,6]},"sleepy":{"a":"Sleepy Face","b":"1F62A","j":["face","tired","rest","nap"],"k":[31,14]},"bowling":{"a":"Bowling","b":"1F3B3","j":["sports","fun","play"],"k":[9,13]},"factory":{"a":"Factory","b":"1F3ED","j":["building","industry","pollution","smoke"],"k":[12,10]},"elephant":{"a":"Elephant","b":"1F418","j":["animal","nature","nose","th","circus"],"k":[13,2]},"arrow_up_down":{"a":"Up Down Arrow","b":"2195-FE0F","c":"2195","j":["blue-square","direction","way","vertical"],"k":[46,34],"o":1},"poultry_leg":{"a":"Poultry Leg","b":"1F357","j":["food","meat","drumstick","bird","chicken","turkey"],"k":[7,25]},"tired_face":{"a":"Tired Face","b":"1F62B","j":["sick","whine","upset","frustrated"],"k":[31,15]},"japanese_castle":{"a":"Japanese Castle","b":"1F3EF","j":["photo","building"],"k":[12,12]},"sleeping":{"a":"Sleeping Face","b":"1F634","j":["face","tired","sleepy","night","zzz"],"k":[31,24]},"left_right_arrow":{"a":"Left Right Arrow","b":"2194-FE0F","c":"2194","j":["shape","direction","horizontal","sideways"],"k":[46,33],"o":1},"european_castle":{"a":"European Castle","b":"1F3F0","j":["building","royalty","history"],"k":[12,13]},"mouse":{"a":"Mouse Face","b":"1F42D","j":["animal","nature","cheese_wedge","rodent"],"k":[13,23]},"flag-bo":{"a":"Bolivia Flag","b":"1F1E7-1F1F4","k":[1,8]},"mouse2":{"a":"Mouse","b":"1F401","j":["animal","nature","rodent"],"k":[12,31]},"leftwards_arrow_with_hook":{"a":"Leftwards Arrow with Hook","b":"21A9-FE0F","c":"21A9","j":["back","return","blue-square","undo","enter"],"k":[46,39],"o":1},"relieved":{"a":"Relieved Face","b":"1F60C","j":["face","relaxed","phew","massage","happiness"],"k":[30,36]},"flag-bq":{"a":"Caribbean Netherlands Flag","b":"1F1E7-1F1F6","k":[1,9]},"wedding":{"a":"Wedding","b":"1F492","j":["love","like","affection","couple","marriage","bride","groom"],"k":[24,44]},"tokyo_tower":{"a":"Tokyo Tower","b":"1F5FC","j":["photo","japanese"],"k":[30,20]},"arrow_right_hook":{"a":"Rightwards Arrow with Hook","b":"21AA-FE0F","c":"21AA","j":["blue-square","return","rotate","direction"],"k":[46,40],"o":1},"hamburger":{"a":"Hamburger","b":"1F354","j":["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],"k":[7,22]},"stuck_out_tongue":{"a":"Face with Stuck-out Tongue","b":"1F61B","j":["face","prank","childish","playful","mischievous","smile","tongue"],"k":[30,51],"l":[":p",":-p",":P",":-P",":b",":-b"],"m":":p"},"flag-br":{"a":"Brazil Flag","b":"1F1E7-1F1F7","k":[1,10]},"rat":{"a":"Rat","b":"1F400","j":["animal","mouse","rodent"],"k":[12,30]},"minidisc":{"a":"Minidisc","b":"1F4BD","j":["technology","record","data","disk","90s"],"k":[25,40]},"stuck_out_tongue_winking_eye":{"a":"Face with Stuck-out Tongue and Winking Eye","b":"1F61C","j":["face","prank","childish","playful","mischievous","smile","wink","tongue"],"k":[31,0],"l":[";p",";-p",";b",";-b",";P",";-P"],"m":";p"},"fries":{"a":"French Fries","b":"1F35F","j":["chips","snack","fast food"],"k":[7,33]},"statue_of_liberty":{"a":"Statue of Liberty","b":"1F5FD","j":["american","newyork"],"k":[30,21]},"flag-bs":{"a":"Bahamas Flag","b":"1F1E7-1F1F8","k":[1,11]},"arrow_heading_up":{"a":"Arrow Pointing Rightwards Then Curving Upwards","b":"2934-FE0F","c":"2934","j":["blue-square","direction","top"],"k":[50,15],"o":3},"hamster":{"a":"Hamster Face","b":"1F439","j":["animal","nature"],"k":[13,35]},"stuck_out_tongue_closed_eyes":{"a":"Face with Stuck-out Tongue and Tightly-Closed Eyes","b":"1F61D","j":["face","prank","playful","mischievous","smile","tongue"],"k":[31,1]},"pizza":{"a":"Slice of Pizza","b":"1F355","j":["food","party"],"k":[7,23]},"floppy_disk":{"a":"Floppy Disk","b":"1F4BE","j":["oldschool","technology","save","90s","80s"],"k":[25,41]},"arrow_heading_down":{"a":"Arrow Pointing Rightwards Then Curving Downwards","b":"2935-FE0F","c":"2935","j":["blue-square","direction","bottom"],"k":[50,16],"o":3},"flag-bt":{"a":"Bhutan Flag","b":"1F1E7-1F1F9","k":[1,12]},"rabbit":{"a":"Rabbit Face","b":"1F430","j":["animal","nature","pet","spring","magic","bunny"],"k":[13,26]},"church":{"a":"Church","b":"26EA","j":["building","religion","christ"],"k":[48,37],"o":5},"flag-bv":{"a":"Bouvet Island Flag","b":"1F1E7-1F1FB","k":[1,13]},"rabbit2":{"a":"Rabbit","b":"1F407","j":["animal","nature","pet","magic","spring"],"k":[12,37]},"arrows_clockwise":{"a":"Clockwise Downwards and Upwards Open Circle Arrows","b":"1F503","j":["sync","cycle","round","repeat"],"k":[27,5]},"cd":{"a":"Optical Disc","b":"1F4BF","j":["technology","dvd","disk","disc","90s"],"k":[25,42]},"arrows_counterclockwise":{"a":"Anticlockwise Downwards and Upwards Open Circle Arrows","b":"1F504","j":["blue-square","sync","cycle"],"k":[27,6]},"unamused":{"a":"Unamused Face","b":"1F612","j":["indifference","bored","straight face","serious","sarcasm"],"k":[30,42],"m":":("},"flag-bw":{"a":"Botswana Flag","b":"1F1E7-1F1FC","k":[1,14]},"dvd":{"a":"Dvd","b":"1F4C0","j":["cd","disk","disc"],"k":[25,43]},"dart":{"a":"Direct Hit","b":"1F3AF","j":["game","play","bar"],"k":[9,9]},"back":{"a":"Back with Leftwards Arrow Above","b":"1F519","j":["arrow","words","return"],"k":[27,27]},"flag-by":{"a":"Belarus Flag","b":"1F1E7-1F1FE","k":[1,15]},"movie_camera":{"a":"Movie Camera","b":"1F3A5","j":["film","record"],"k":[8,51]},"sweat":{"a":"Face with Cold Sweat","b":"1F613","j":["face","hot","sad","tired","exercise"],"k":[30,43]},"flag-bz":{"a":"Belize Flag","b":"1F1E7-1F1FF","k":[1,16]},"pensive":{"a":"Pensive Face","b":"1F614","j":["face","sad","depressed","upset"],"k":[30,44]},"golf":{"a":"Flag in Hole","b":"26F3","j":["sports","business","flag","hole","summer"],"k":[48,41],"o":5},"end":{"a":"End with Leftwards Arrow Above","b":"1F51A","j":["words","arrow"],"k":[27,28]},"bear":{"a":"Bear Face","b":"1F43B","j":["animal","nature","wild"],"k":[13,37]},"fountain":{"a":"Fountain","b":"26F2","j":["photo","summer","water","fresh"],"k":[48,40],"o":5},"confused":{"a":"Confused Face","b":"1F615","j":["face","indifference","huh","weird","hmmm",":/"],"k":[30,45],"l":[":\\\\",":-\\\\",":/",":-/"]},"flag-ca":{"a":"Canada Flag","b":"1F1E8-1F1E6","k":[1,17]},"on":{"a":"On with Exclamation Mark with Left Right Arrow Above","b":"1F51B","j":["arrow","words"],"k":[27,29]},"soon":{"a":"Soon with Rightwards Arrow Above","b":"1F51C","j":["arrow","words"],"k":[27,30]},"fishing_pole_and_fish":{"a":"Fishing Pole and Fish","b":"1F3A3","j":["food","hobby","summer"],"k":[8,49]},"tent":{"a":"Tent","b":"26FA","j":["photo","camping","outdoors"],"k":[49,12],"o":5},"clapper":{"a":"Clapper Board","b":"1F3AC","j":["movie","film","record"],"k":[9,6]},"flag-cc":{"a":"Cocos (keeling) Islands Flag","b":"1F1E8-1F1E8","k":[1,18]},"koala":{"a":"Koala","b":"1F428","j":["animal","nature"],"k":[13,18]},"foggy":{"a":"Foggy","b":"1F301","j":["photo","mountain"],"k":[5,45]},"tv":{"a":"Television","b":"1F4FA","j":["technology","program","oldschool","show","television"],"k":[26,49]},"panda_face":{"a":"Panda Face","b":"1F43C","j":["animal","nature","panda"],"k":[13,38]},"fried_egg":{"a":"Cooking","b":"1F373","j":["food","breakfast","kitchen","egg"],"k":[8,1],"n":["cooking"]},"top":{"a":"Top with Upwards Arrow Above","b":"1F51D","j":["words","blue-square"],"k":[27,31]},"flag-cd":{"a":"Congo - Kinshasa Flag","b":"1F1E8-1F1E9","k":[1,19]},"running_shirt_with_sash":{"a":"Running Shirt with Sash","b":"1F3BD","j":["play","pageant"],"k":[9,23]},"astonished":{"a":"Astonished Face","b":"1F632","j":["face","xox","surprised","poisoned"],"k":[31,22]},"feet":{"a":"Paw Prints","b":"1F43E","k":[13,40],"n":["paw_prints"]},"camera":{"a":"Camera","b":"1F4F7","j":["gadgets","photography"],"k":[26,46]},"flag-cf":{"a":"Central African Republic Flag","b":"1F1E8-1F1EB","k":[1,20]},"night_with_stars":{"a":"Night with Stars","b":"1F303","j":["evening","city","downtown"],"k":[5,47]},"ski":{"a":"Ski and Ski Boot","b":"1F3BF","j":["sports","winter","cold","snow"],"k":[9,25]},"sunrise_over_mountains":{"a":"Sunrise over Mountains","b":"1F304","j":["view","vacation","photo"],"k":[5,48]},"flag-cg":{"a":"Congo - Brazzaville Flag","b":"1F1E8-1F1EC","k":[1,21]},"stew":{"a":"Pot of Food","b":"1F372","j":["food","meat","soup"],"k":[8,0]},"sunrise":{"a":"Sunrise","b":"1F305","j":["morning","view","vacation","photo"],"k":[5,49]},"chicken":{"a":"Chicken","b":"1F414","j":["animal","cluck","nature","bird"],"k":[12,50]},"flag-ch":{"a":"Switzerland Flag","b":"1F1E8-1F1ED","k":[1,22]},"video_camera":{"a":"Video Camera","b":"1F4F9","j":["film","record"],"k":[26,48]},"video_game":{"a":"Video Game","b":"1F3AE","j":["play","console","PS4","controller"],"k":[9,8]},"rooster":{"a":"Rooster","b":"1F413","j":["animal","nature","chicken"],"k":[12,49]},"vhs":{"a":"Videocassette","b":"1F4FC","j":["record","video","oldschool","90s","80s"],"k":[26,51]},"city_sunset":{"a":"Cityscape at Dusk","b":"1F306","j":["photo","evening","sky","buildings"],"k":[5,50]},"confounded":{"a":"Confounded Face","b":"1F616","j":["face","confused","sick","unwell","oops",":S"],"k":[30,46]},"flag-ci":{"a":"Côte D’ivoire Flag","b":"1F1E8-1F1EE","k":[1,23]},"city_sunrise":{"a":"Sunset over Buildings","b":"1F307","j":["photo","good morning","dawn"],"k":[5,51]},"disappointed":{"a":"Disappointed Face","b":"1F61E","j":["face","sad","upset","depressed",":("],"k":[31,2],"l":["):",":(",":-("],"m":":("},"mag":{"a":"Left-Pointing Magnifying Glass","b":"1F50D","j":["search","zoom","find","detective"],"k":[27,15]},"hatching_chick":{"a":"Hatching Chick","b":"1F423","j":["animal","chicken","egg","born","baby","bird"],"k":[13,13]},"flag-ck":{"a":"Cook Islands Flag","b":"1F1E8-1F1F0","k":[1,24]},"worried":{"a":"Worried Face","b":"1F61F","j":["face","concern","nervous",":("],"k":[31,3]},"baby_chick":{"a":"Baby Chick","b":"1F424","j":["animal","chicken","bird"],"k":[13,14]},"flag-cl":{"a":"Chile Flag","b":"1F1E8-1F1F1","k":[1,25]},"game_die":{"a":"Game Die","b":"1F3B2","j":["dice","random","tabletop","play","luck"],"k":[9,12]},"mag_right":{"a":"Right-Pointing Magnifying Glass","b":"1F50E","j":["search","zoom","find","detective"],"k":[27,16]},"bridge_at_night":{"a":"Bridge at Night","b":"1F309","j":["photo","sanfrancisco"],"k":[6,1]},"spades":{"a":"Black Spade Suit","b":"2660-FE0F","c":"2660","j":["poker","cards","suits","magic"],"k":[48,4],"o":1},"hatched_chick":{"a":"Front-Facing Baby Chick","b":"1F425","j":["animal","chicken","baby","bird"],"k":[13,15]},"flag-cm":{"a":"Cameroon Flag","b":"1F1E8-1F1F2","k":[1,26]},"triumph":{"a":"Face with Look of Triumph","b":"1F624","j":["face","gas","phew","proud","pride"],"k":[31,8]},"hotsprings":{"a":"Hot Springs","b":"2668-FE0F","c":"2668","j":["bath","warm","relax"],"k":[48,8],"o":1},"bento":{"a":"Bento Box","b":"1F371","j":["food","japanese","box"],"k":[7,51]},"microscope":{"a":"Microscope","b":"1F52C","j":["laboratory","experiment","zoomin","science","study"],"k":[27,46]},"cry":{"a":"Crying Face","b":"1F622","j":["face","tears","sad","depressed","upset",":\'("],"k":[31,6],"l":[":\'("],"m":":\'("},"bird":{"a":"Bird","b":"1F426","j":["animal","nature","fly","tweet","spring"],"k":[13,16]},"cn":{"a":"China Flag","b":"1F1E8-1F1F3","j":["china","chinese","prc","flag","country","nation","banner"],"k":[1,27],"n":["flag-cn"]},"telescope":{"a":"Telescope","b":"1F52D","j":["stars","space","zoom","science","astronomy"],"k":[27,47]},"rice_cracker":{"a":"Rice Cracker","b":"1F358","j":["food","japanese"],"k":[7,26]},"hearts":{"a":"Black Heart Suit","b":"2665-FE0F","c":"2665","j":["poker","cards","magic","suits"],"k":[48,6],"o":1},"milky_way":{"a":"Milky Way","b":"1F30C","j":["photo","space","stars"],"k":[6,4]},"rice_ball":{"a":"Rice Ball","b":"1F359","j":["food","japanese"],"k":[7,27]},"satellite_antenna":{"a":"Satellite Antenna","b":"1F4E1","k":[26,24]},"flag-co":{"a":"Colombia Flag","b":"1F1E8-1F1F4","k":[1,28]},"carousel_horse":{"a":"Carousel Horse","b":"1F3A0","j":["photo","carnival"],"k":[8,46]},"sob":{"a":"Loudly Crying Face","b":"1F62D","j":["face","cry","tears","sad","upset","depressed"],"k":[31,17],"m":":\'("},"diamonds":{"a":"Black Diamond Suit","b":"2666-FE0F","c":"2666","j":["poker","cards","magic","suits"],"k":[48,7],"o":1},"penguin":{"a":"Penguin","b":"1F427","j":["animal","nature"],"k":[13,17]},"ferris_wheel":{"a":"Ferris Wheel","b":"1F3A1","j":["photo","carnival","londoneye"],"k":[8,47]},"clubs":{"a":"Black Club Suit","b":"2663-FE0F","c":"2663","j":["poker","cards","magic","suits"],"k":[48,5],"o":1},"frowning":{"a":"Frowning Face with Open Mouth","b":"1F626","j":["face","aw","what"],"k":[31,10]},"rice":{"a":"Cooked Rice","b":"1F35A","j":["food","china","asian"],"k":[7,28]},"flag-cr":{"a":"Costa Rica Flag","b":"1F1E8-1F1F7","k":[1,30]},"roller_coaster":{"a":"Roller Coaster","b":"1F3A2","j":["carnival","playground","photo","fun"],"k":[8,48]},"black_joker":{"a":"Playing Card Black Joker","b":"1F0CF","j":["poker","cards","game","play","magic"],"k":[0,15]},"curry":{"a":"Curry and Rice","b":"1F35B","j":["food","spicy","hot","indian"],"k":[7,29]},"bulb":{"a":"Electric Light Bulb","b":"1F4A1","j":["light","electricity","idea"],"k":[25,7]},"anguished":{"a":"Anguished Face","b":"1F627","j":["face","stunned","nervous"],"k":[31,11],"l":["D:"]},"flag-cu":{"a":"Cuba Flag","b":"1F1E8-1F1FA","k":[1,31]},"barber":{"a":"Barber Pole","b":"1F488","j":["hair","salon","style"],"k":[24,34]},"six_pointed_star":{"a":"Six Pointed Star with Middle Dot","b":"1F52F","j":["purple-square","religion","jewish","hexagram"],"k":[27,49]},"ramen":{"a":"Steaming Bowl","b":"1F35C","j":["food","japanese","noodle","chopsticks"],"k":[7,30]},"flashlight":{"a":"Electric Torch","b":"1F526","j":["dark","camping","sight","night"],"k":[27,40]},"mahjong":{"a":"Mahjong Tile Red Dragon","b":"1F004","j":["game","play","chinese","kanji"],"k":[0,14],"o":5},"fearful":{"a":"Fearful Face","b":"1F628","j":["face","scared","terrified","nervous","oops","huh"],"k":[31,12]},"aries":{"a":"Aries","b":"2648","j":["sign","purple-square","zodiac","astrology"],"k":[47,44],"o":1},"spaghetti":{"a":"Spaghetti","b":"1F35D","j":["food","italian","noodle"],"k":[7,31]},"circus_tent":{"a":"Circus Tent","b":"1F3AA","j":["festival","carnival","party"],"k":[9,4]},"izakaya_lantern":{"a":"Izakaya Lantern","b":"1F3EE","j":["light","paper","halloween","spooky"],"k":[12,11],"n":["lantern"]},"flag-cv":{"a":"Cape Verde Flag","b":"1F1E8-1F1FB","k":[1,32]},"weary":{"a":"Weary Face","b":"1F629","j":["face","tired","sleepy","sad","frustrated","upset"],"k":[31,13]},"flower_playing_cards":{"a":"Flower Playing Cards","b":"1F3B4","j":["game","sunset","red"],"k":[9,14]},"performing_arts":{"a":"Performing Arts","b":"1F3AD","j":["acting","theater","drama"],"k":[9,7]},"frog":{"a":"Frog Face","b":"1F438","j":["animal","nature","croak","toad"],"k":[13,34]},"flag-cw":{"a":"Curaçao Flag","b":"1F1E8-1F1FC","k":[1,33]},"notebook_with_decorative_cover":{"a":"Notebook with Decorative Cover","b":"1F4D4","j":["classroom","notes","record","paper","study"],"k":[26,11]},"taurus":{"a":"Taurus","b":"2649","j":["purple-square","sign","zodiac","astrology"],"k":[47,45],"o":1},"sweet_potato":{"a":"Roasted Sweet Potato","b":"1F360","j":["food","nature"],"k":[7,34]},"closed_book":{"a":"Closed Book","b":"1F4D5","j":["read","library","knowledge","textbook","learn"],"k":[26,12]},"gemini":{"a":"Gemini","b":"264A","j":["sign","zodiac","purple-square","astrology"],"k":[47,46],"o":1},"flag-cx":{"a":"Christmas Island Flag","b":"1F1E8-1F1FD","k":[1,34]},"grimacing":{"a":"Grimacing Face","b":"1F62C","j":["face","grimace","teeth"],"k":[31,16]},"crocodile":{"a":"Crocodile","b":"1F40A","j":["animal","nature","reptile","lizard","alligator"],"k":[12,40]},"oden":{"a":"Oden","b":"1F362","j":["food","japanese"],"k":[7,36]},"flag-cy":{"a":"Cyprus Flag","b":"1F1E8-1F1FE","k":[1,35]},"book":{"a":"Open Book","b":"1F4D6","k":[26,13],"n":["open_book"]},"turtle":{"a":"Turtle","b":"1F422","j":["animal","slow","nature","tortoise"],"k":[13,12]},"art":{"a":"Artist Palette","b":"1F3A8","j":["design","paint","draw","colors"],"k":[9,2]},"sushi":{"a":"Sushi","b":"1F363","j":["food","fish","japanese","rice"],"k":[7,37]},"cold_sweat":{"a":"Face with Open Mouth and Cold Sweat","b":"1F630","j":["face","nervous","sweat"],"k":[31,20]},"cancer":{"a":"Cancer","b":"264B","j":["sign","zodiac","purple-square","astrology"],"k":[47,47],"o":1},"fried_shrimp":{"a":"Fried Shrimp","b":"1F364","j":["food","animal","appetizer","summer"],"k":[7,38]},"slot_machine":{"a":"Slot Machine","b":"1F3B0","j":["bet","gamble","vegas","fruit machine","luck","casino"],"k":[9,10]},"scream":{"a":"Face Screaming in Fear","b":"1F631","j":["face","munch","scared","omg"],"k":[31,21]},"green_book":{"a":"Green Book","b":"1F4D7","j":["read","library","knowledge","study"],"k":[26,14]},"leo":{"a":"Leo","b":"264C","j":["sign","purple-square","zodiac","astrology"],"k":[47,48],"o":1},"flag-cz":{"a":"Czechia Flag","b":"1F1E8-1F1FF","k":[1,36]},"virgo":{"a":"Virgo","b":"264D","j":["sign","zodiac","purple-square","astrology"],"k":[47,49],"o":1},"steam_locomotive":{"a":"Steam Locomotive","b":"1F682","j":["transportation","vehicle","train"],"k":[34,10]},"de":{"a":"Germany Flag","b":"1F1E9-1F1EA","j":["german","nation","flag","country","banner"],"k":[1,37],"n":["flag-de"]},"flushed":{"a":"Flushed Face","b":"1F633","j":["face","blush","shy","flattered"],"k":[31,23]},"blue_book":{"a":"Blue Book","b":"1F4D8","j":["read","library","knowledge","learn","study"],"k":[26,15]},"snake":{"a":"Snake","b":"1F40D","j":["animal","evil","nature","hiss","python"],"k":[12,43]},"fish_cake":{"a":"Fish Cake with Swirl Design","b":"1F365","j":["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],"k":[7,39]},"railway_car":{"a":"Railway Car","b":"1F683","j":["transportation","vehicle"],"k":[34,11]},"dango":{"a":"Dango","b":"1F361","j":["food","dessert","sweet","japanese","barbecue","meat"],"k":[7,35]},"orange_book":{"a":"Orange Book","b":"1F4D9","j":["read","library","knowledge","textbook","study"],"k":[26,16]},"libra":{"a":"Libra","b":"264E","j":["sign","purple-square","zodiac","astrology"],"k":[47,50],"o":1},"dragon_face":{"a":"Dragon Face","b":"1F432","j":["animal","myth","nature","chinese","green"],"k":[13,28]},"flag-dg":{"a":"Diego Garcia Flag","b":"1F1E9-1F1EC","k":[1,38]},"books":{"a":"Books","b":"1F4DA","j":["literature","library","study"],"k":[26,17]},"dragon":{"a":"Dragon","b":"1F409","j":["animal","myth","nature","chinese","green"],"k":[12,39]},"flag-dj":{"a":"Djibouti Flag","b":"1F1E9-1F1EF","k":[1,39]},"dizzy_face":{"a":"Dizzy Face","b":"1F635","j":["spent","unconscious","xox","dizzy"],"k":[31,25]},"scorpius":{"a":"Scorpius","b":"264F","j":["sign","zodiac","purple-square","astrology","scorpio"],"k":[47,51],"o":1},"bullettrain_side":{"a":"High-Speed Train","b":"1F684","j":["transportation","vehicle"],"k":[34,12]},"bullettrain_front":{"a":"High-Speed Train with Bullet Nose","b":"1F685","j":["transportation","vehicle","speed","fast","public","travel"],"k":[34,13]},"notebook":{"a":"Notebook","b":"1F4D3","j":["stationery","record","notes","paper","study"],"k":[26,10]},"sagittarius":{"a":"Sagittarius","b":"2650","j":["sign","zodiac","purple-square","astrology"],"k":[48,0],"o":1},"flag-dk":{"a":"Denmark Flag","b":"1F1E9-1F1F0","k":[1,40]},"rage":{"a":"Pouting Face","b":"1F621","j":["angry","mad","hate","despise"],"k":[31,5]},"ledger":{"a":"Ledger","b":"1F4D2","j":["notes","paper"],"k":[26,9]},"angry":{"a":"Angry Face","b":"1F620","j":["mad","face","annoyed","frustrated"],"k":[31,4],"l":[">:(",">:-("]},"capricorn":{"a":"Capricorn","b":"2651","j":["sign","zodiac","purple-square","astrology"],"k":[48,1],"o":1},"flag-dm":{"a":"Dominica Flag","b":"1F1E9-1F1F2","k":[1,41]},"train2":{"a":"Train","b":"1F686","j":["transportation","vehicle"],"k":[34,14]},"page_with_curl":{"a":"Page with Curl","b":"1F4C3","j":["documents","office","paper"],"k":[25,46]},"whale":{"a":"Spouting Whale","b":"1F433","j":["animal","nature","sea","ocean"],"k":[13,29]},"flag-do":{"a":"Dominican Republic Flag","b":"1F1E9-1F1F4","k":[1,42]},"metro":{"a":"Metro","b":"1F687","j":["transportation","blue-square","mrt","underground","tube"],"k":[34,15]},"icecream":{"a":"Soft Ice Cream","b":"1F366","j":["food","hot","dessert","summer"],"k":[7,40]},"aquarius":{"a":"Aquarius","b":"2652","j":["sign","purple-square","zodiac","astrology"],"k":[48,2],"o":1},"flag-dz":{"a":"Algeria Flag","b":"1F1E9-1F1FF","k":[1,43]},"whale2":{"a":"Whale","b":"1F40B","j":["animal","nature","sea","ocean"],"k":[12,41]},"mask":{"a":"Face with Medical Mask","b":"1F637","j":["face","sick","ill","disease"],"k":[31,27]},"scroll":{"a":"Scroll","b":"1F4DC","j":["documents","ancient","history","paper"],"k":[26,19]},"shaved_ice":{"a":"Shaved Ice","b":"1F367","j":["hot","dessert","summer"],"k":[7,41]},"pisces":{"a":"Pisces","b":"2653","j":["purple-square","sign","zodiac","astrology"],"k":[48,3],"o":1},"light_rail":{"a":"Light Rail","b":"1F688","j":["transportation","vehicle"],"k":[34,16]},"dolphin":{"a":"Dolphin","b":"1F42C","j":["animal","nature","fish","sea","ocean","flipper","fins","beach"],"k":[13,22],"n":["flipper"]},"flag-ea":{"a":"Ceuta & Melilla Flag","b":"1F1EA-1F1E6","k":[1,44]},"ophiuchus":{"a":"Ophiuchus","b":"26CE","j":["sign","purple-square","constellation","astrology"],"k":[48,31]},"station":{"a":"Station","b":"1F689","j":["transportation","vehicle","public"],"k":[34,17]},"ice_cream":{"a":"Ice Cream","b":"1F368","j":["food","hot","dessert"],"k":[7,42]},"page_facing_up":{"a":"Page Facing Up","b":"1F4C4","j":["documents","office","paper","information"],"k":[25,47]},"doughnut":{"a":"Doughnut","b":"1F369","j":["food","dessert","snack","sweet","donut"],"k":[7,43]},"fish":{"a":"Fish","b":"1F41F","j":["animal","food","nature"],"k":[13,9]},"newspaper":{"a":"Newspaper","b":"1F4F0","j":["press","headline"],"k":[26,39]},"tram":{"a":"Tram","b":"1F68A","j":["transportation","vehicle"],"k":[34,18]},"flag-ec":{"a":"Ecuador Flag","b":"1F1EA-1F1E8","k":[1,45]},"twisted_rightwards_arrows":{"a":"Twisted Rightwards Arrows","b":"1F500","j":["blue-square","shuffle","music","random"],"k":[27,2]},"flag-ee":{"a":"Estonia Flag","b":"1F1EA-1F1EA","k":[1,46]},"cookie":{"a":"Cookie","b":"1F36A","j":["food","snack","oreo","chocolate","sweet","dessert"],"k":[7,44]},"monorail":{"a":"Monorail","b":"1F69D","j":["transportation","vehicle"],"k":[34,37]},"tropical_fish":{"a":"Tropical Fish","b":"1F420","j":["animal","swim","ocean","beach","nemo"],"k":[13,10]},"repeat":{"a":"Clockwise Rightwards and Leftwards Open Circle Arrows","b":"1F501","j":["loop","record"],"k":[27,3]},"bookmark_tabs":{"a":"Bookmark Tabs","b":"1F4D1","j":["favorite","save","order","tidy"],"k":[26,8]},"repeat_one":{"a":"Clockwise Rightwards and Leftwards Open Circle Arrows with Circled One Overlay","b":"1F502","j":["blue-square","loop"],"k":[27,4]},"flag-eg":{"a":"Egypt Flag","b":"1F1EA-1F1EC","k":[1,47]},"mountain_railway":{"a":"Mountain Railway","b":"1F69E","j":["transportation","vehicle"],"k":[34,38]},"birthday":{"a":"Birthday Cake","b":"1F382","j":["food","dessert","cake"],"k":[8,16]},"blowfish":{"a":"Blowfish","b":"1F421","j":["animal","nature","food","sea","ocean"],"k":[13,11]},"arrow_forward":{"a":"Black Right-Pointing Triangle","b":"25B6-FE0F","c":"25B6","j":["blue-square","right","direction","play"],"k":[47,10],"o":1},"bookmark":{"a":"Bookmark","b":"1F516","j":["favorite","label","save"],"k":[27,24]},"flag-eh":{"a":"Western Sahara Flag","b":"1F1EA-1F1ED","k":[1,48]},"train":{"a":"Tram Car","b":"1F68B","j":["transportation","vehicle","carriage","public","travel"],"k":[34,19]},"cake":{"a":"Shortcake","b":"1F370","j":["food","dessert"],"k":[7,50]},"bus":{"a":"Bus","b":"1F68C","j":["car","vehicle","transportation"],"k":[34,20]},"innocent":{"a":"Smiling Face with Halo","b":"1F607","j":["face","angel","heaven","halo"],"k":[30,31]},"fast_forward":{"a":"Black Right-Pointing Double Triangle","b":"23E9","j":["blue-square","play","speed","continue"],"k":[46,45]},"octopus":{"a":"Octopus","b":"1F419","j":["animal","creature","ocean","sea","nature","beach"],"k":[13,3]},"flag-er":{"a":"Eritrea Flag","b":"1F1EA-1F1F7","k":[1,49]},"chocolate_bar":{"a":"Chocolate Bar","b":"1F36B","j":["food","snack","dessert","sweet"],"k":[7,45]},"oncoming_bus":{"a":"Oncoming Bus","b":"1F68D","j":["vehicle","transportation"],"k":[34,21]},"shell":{"a":"Spiral Shell","b":"1F41A","j":["nature","sea","beach"],"k":[13,4]},"moneybag":{"a":"Money Bag","b":"1F4B0","j":["dollar","payment","coins","sale"],"k":[25,27]},"es":{"a":"Spain Flag","b":"1F1EA-1F1F8","j":["spain","flag","nation","country","banner"],"k":[1,50],"n":["flag-es"]},"yen":{"a":"Banknote with Yen Sign","b":"1F4B4","j":["money","sales","japanese","dollar","currency"],"k":[25,31]},"flag-et":{"a":"Ethiopia Flag","b":"1F1EA-1F1F9","k":[1,51]},"trolleybus":{"a":"Trolleybus","b":"1F68E","j":["bart","transportation","vehicle"],"k":[34,22]},"candy":{"a":"Candy","b":"1F36C","j":["snack","dessert","sweet","lolly"],"k":[7,46]},"arrow_backward":{"a":"Black Left-Pointing Triangle","b":"25C0-FE0F","c":"25C0","j":["blue-square","left","direction"],"k":[47,11],"o":1},"dollar":{"a":"Banknote with Dollar Sign","b":"1F4B5","j":["money","sales","bill","currency"],"k":[25,32]},"minibus":{"a":"Minibus","b":"1F690","j":["vehicle","car","transportation"],"k":[34,24]},"flag-eu":{"a":"European Union Flag","b":"1F1EA-1F1FA","k":[2,0]},"lollipop":{"a":"Lollipop","b":"1F36D","j":["food","snack","candy","sweet"],"k":[7,47]},"euro":{"a":"Banknote with Euro Sign","b":"1F4B6","j":["money","sales","dollar","currency"],"k":[25,33]},"flag-fi":{"a":"Finland Flag","b":"1F1EB-1F1EE","k":[2,1]},"ambulance":{"a":"Ambulance","b":"1F691","j":["health","911","hospital"],"k":[34,25]},"custard":{"a":"Custard","b":"1F36E","j":["dessert","food"],"k":[7,48]},"rewind":{"a":"Black Left-Pointing Double Triangle","b":"23EA","j":["play","blue-square"],"k":[46,46]},"flag-fj":{"a":"Fiji Flag","b":"1F1EB-1F1EF","k":[2,2]},"honey_pot":{"a":"Honey Pot","b":"1F36F","j":["bees","sweet","kitchen"],"k":[7,49]},"snail":{"a":"Snail","b":"1F40C","j":["slow","animal","shell"],"k":[12,42]},"pound":{"a":"Banknote with Pound Sign","b":"1F4B7","j":["british","sterling","money","sales","bills","uk","england","currency"],"k":[25,34]},"fire_engine":{"a":"Fire Engine","b":"1F692","j":["transportation","cars","vehicle"],"k":[34,26]},"baby_bottle":{"a":"Baby Bottle","b":"1F37C","j":["food","container","milk"],"k":[8,10]},"flag-fk":{"a":"Falkland Islands Flag","b":"1F1EB-1F1F0","k":[2,3]},"money_with_wings":{"a":"Money with Wings","b":"1F4B8","j":["dollar","bills","payment","sale"],"k":[25,35]},"police_car":{"a":"Police Car","b":"1F693","j":["vehicle","cars","transportation","law","legal","enforcement"],"k":[34,27]},"arrow_up_small":{"a":"Up-Pointing Small Red Triangle","b":"1F53C","j":["blue-square","triangle","direction","point","forward","top"],"k":[28,10]},"flag-fm":{"a":"Micronesia Flag","b":"1F1EB-1F1F2","k":[2,4]},"credit_card":{"a":"Credit Card","b":"1F4B3","j":["money","sales","dollar","bill","payment","shopping"],"k":[25,30]},"oncoming_police_car":{"a":"Oncoming Police Car","b":"1F694","j":["vehicle","law","legal","enforcement","911"],"k":[34,28]},"bug":{"a":"Bug","b":"1F41B","j":["animal","insect","nature","worm"],"k":[13,5]},"arrow_double_up":{"a":"Black Up-Pointing Double Triangle","b":"23EB","j":["blue-square","direction","top"],"k":[46,47]},"chart":{"a":"Chart with Upwards Trend and Yen Sign","b":"1F4B9","j":["green-square","graph","presentation","stats"],"k":[25,36]},"flag-fo":{"a":"Faroe Islands Flag","b":"1F1EB-1F1F4","k":[2,5]},"ant":{"a":"Ant","b":"1F41C","j":["animal","insect","nature","bug"],"k":[13,6]},"arrow_down_small":{"a":"Down-Pointing Small Red Triangle","b":"1F53D","j":["blue-square","direction","bottom"],"k":[28,11]},"smiling_imp":{"a":"Smiling Face with Horns","b":"1F608","j":["devil","horns"],"k":[30,32]},"taxi":{"a":"Taxi","b":"1F695","j":["uber","vehicle","cars","transportation"],"k":[34,29]},"coffee":{"a":"Hot Beverage","b":"2615","j":["beverage","caffeine","latte","espresso"],"k":[47,24],"o":4},"fr":{"a":"France Flag","b":"1F1EB-1F1F7","j":["banner","flag","nation","france","french","country"],"k":[2,6],"n":["flag-fr"]},"oncoming_taxi":{"a":"Oncoming Taxi","b":"1F696","j":["vehicle","cars","uber"],"k":[34,30]},"arrow_double_down":{"a":"Black Down-Pointing Double Triangle","b":"23EC","j":["blue-square","direction","bottom"],"k":[46,48]},"imp":{"a":"Imp","b":"1F47F","j":["devil","angry","horns"],"k":[22,51]},"currency_exchange":{"a":"Currency Exchange","b":"1F4B1","j":["money","sales","dollar","travel"],"k":[25,28]},"tea":{"a":"Teacup Without Handle","b":"1F375","j":["drink","bowl","breakfast","green","british"],"k":[8,3]},"bee":{"a":"Honeybee","b":"1F41D","k":[13,7],"n":["honeybee"]},"heavy_dollar_sign":{"a":"Heavy Dollar Sign","b":"1F4B2","j":["money","sales","payment","currency","buck"],"k":[25,29]},"car":{"a":"Automobile","b":"1F697","k":[34,31],"n":["red_car"]},"sake":{"a":"Sake Bottle and Cup","b":"1F376","j":["wine","drink","drunk","beverage","japanese","alcohol","booze"],"k":[8,4]},"flag-ga":{"a":"Gabon Flag","b":"1F1EC-1F1E6","k":[2,7]},"beetle":{"a":"Lady Beetle","b":"1F41E","j":["animal","insect","nature","ladybug"],"k":[13,8]},"japanese_ogre":{"a":"Japanese Ogre","b":"1F479","j":["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],"k":[22,40]},"japanese_goblin":{"a":"Japanese Goblin","b":"1F47A","j":["red","evil","mask","monster","scary","creepy","japanese","goblin"],"k":[22,41]},"oncoming_automobile":{"a":"Oncoming Automobile","b":"1F698","j":["car","vehicle","transportation"],"k":[34,32]},"email":{"a":"Envelope","b":"2709-FE0F","c":"2709","j":["letter","postal","inbox","communication"],"k":[49,17],"n":["envelope"],"o":1},"gb":{"a":"United Kingdom Flag","b":"1F1EC-1F1E7","k":[2,8],"n":["uk","flag-gb"]},"flag-gd":{"a":"Grenada Flag","b":"1F1EC-1F1E9","k":[2,9]},"blue_car":{"a":"Recreational Vehicle","b":"1F699","j":["transportation","vehicle"],"k":[34,33]},"skull":{"a":"Skull","b":"1F480","j":["dead","skeleton","creepy","death"],"k":[23,0]},"e-mail":{"a":"E-Mail Symbol","b":"1F4E7","j":["communication","inbox"],"k":[26,30]},"wine_glass":{"a":"Wine Glass","b":"1F377","j":["drink","beverage","drunk","alcohol","booze"],"k":[8,5]},"cocktail":{"a":"Cocktail Glass","b":"1F378","j":["drink","drunk","alcohol","beverage","booze","mojito"],"k":[8,6]},"flag-ge":{"a":"Georgia Flag","b":"1F1EC-1F1EA","k":[2,10]},"truck":{"a":"Delivery Truck","b":"1F69A","j":["cars","transportation"],"k":[34,34]},"incoming_envelope":{"a":"Incoming Envelope","b":"1F4E8","j":["email","inbox"],"k":[26,31]},"tropical_drink":{"a":"Tropical Drink","b":"1F379","j":["beverage","cocktail","summer","beach","alcohol","booze","mojito"],"k":[8,7]},"cinema":{"a":"Cinema","b":"1F3A6","j":["blue-square","record","film","movie","curtain","stage","theater"],"k":[9,0]},"articulated_lorry":{"a":"Articulated Lorry","b":"1F69B","j":["vehicle","cars","transportation","express"],"k":[34,35]},"envelope_with_arrow":{"a":"Envelope with Downwards Arrow Above","b":"1F4E9","j":["email","communication"],"k":[26,32]},"ghost":{"a":"Ghost","b":"1F47B","j":["halloween","spooky","scary"],"k":[22,42]},"flag-gf":{"a":"French Guiana Flag","b":"1F1EC-1F1EB","k":[2,11]},"bouquet":{"a":"Bouquet","b":"1F490","j":["flowers","nature","spring"],"k":[24,42]},"tractor":{"a":"Tractor","b":"1F69C","j":["vehicle","car","farming","agriculture"],"k":[34,36]},"beer":{"a":"Beer Mug","b":"1F37A","j":["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"k":[8,8]},"outbox_tray":{"a":"Outbox Tray","b":"1F4E4","j":["inbox","email"],"k":[26,27]},"low_brightness":{"a":"Low Brightness Symbol","b":"1F505","j":["sun","afternoon","warm","summer"],"k":[27,7]},"alien":{"a":"Extraterrestrial Alien","b":"1F47D","j":["UFO","paul","weird","outer_space"],"k":[22,49]},"flag-gg":{"a":"Guernsey Flag","b":"1F1EC-1F1EC","k":[2,12]},"cherry_blossom":{"a":"Cherry Blossom","b":"1F338","j":["nature","plant","spring","flower"],"k":[6,46]},"inbox_tray":{"a":"Inbox Tray","b":"1F4E5","j":["email","documents"],"k":[26,28]},"flag-gh":{"a":"Ghana Flag","b":"1F1EC-1F1ED","k":[2,13]},"bike":{"a":"Bicycle","b":"1F6B2","j":["sports","bicycle","exercise","hipster"],"k":[35,23]},"space_invader":{"a":"Alien Monster","b":"1F47E","j":["game","arcade","play"],"k":[22,50]},"beers":{"a":"Clinking Beer Mugs","b":"1F37B","j":["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"k":[8,9]},"high_brightness":{"a":"High Brightness Symbol","b":"1F506","j":["sun","light"],"k":[27,8]},"package":{"a":"Package","b":"1F4E6","j":["mail","gift","cardboard","box","moving"],"k":[26,29]},"white_flower":{"a":"White Flower","b":"1F4AE","j":["japanese","spring"],"k":[25,25]},"signal_strength":{"a":"Antenna with Bars","b":"1F4F6","j":["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],"k":[26,45]},"flag-gi":{"a":"Gibraltar Flag","b":"1F1EC-1F1EE","k":[2,14]},"flag-gl":{"a":"Greenland Flag","b":"1F1EC-1F1F1","k":[2,15]},"mailbox":{"a":"Closed Mailbox with Raised Flag","b":"1F4EB","j":["email","inbox","communication"],"k":[26,34]},"vibration_mode":{"a":"Vibration Mode","b":"1F4F3","j":["orange-square","phone"],"k":[26,42]},"hankey":{"a":"Pile of Poo","b":"1F4A9","k":[25,15],"n":["poop","shit"]},"flag-gm":{"a":"Gambia Flag","b":"1F1EC-1F1F2","k":[2,16]},"mailbox_closed":{"a":"Closed Mailbox with Lowered Flag","b":"1F4EA","j":["email","communication","inbox"],"k":[26,33]},"mobile_phone_off":{"a":"Mobile Phone off","b":"1F4F4","j":["mute","orange-square","silence","quiet"],"k":[26,43]},"busstop":{"a":"Bus Stop","b":"1F68F","j":["transportation","wait"],"k":[34,23]},"smiley_cat":{"a":"Smiling Cat Face with Open Mouth","b":"1F63A","j":["animal","cats","happy","smile"],"k":[31,30]},"rose":{"a":"Rose","b":"1F339","j":["flowers","valentines","love","spring"],"k":[6,47]},"smile_cat":{"a":"Grinning Cat Face with Smiling Eyes","b":"1F638","j":["animal","cats","smile"],"k":[31,28]},"flag-gn":{"a":"Guinea Flag","b":"1F1EC-1F1F3","k":[2,17]},"mailbox_with_mail":{"a":"Open Mailbox with Raised Flag","b":"1F4EC","j":["email","inbox","communication"],"k":[26,35]},"mailbox_with_no_mail":{"a":"Open Mailbox with Lowered Flag","b":"1F4ED","j":["email","inbox"],"k":[26,36]},"hibiscus":{"a":"Hibiscus","b":"1F33A","j":["plant","vegetable","flowers","beach"],"k":[6,48]},"flag-gp":{"a":"Guadeloupe Flag","b":"1F1EC-1F1F5","k":[2,18]},"joy_cat":{"a":"Cat Face with Tears of Joy","b":"1F639","j":["animal","cats","haha","happy","tears"],"k":[31,29]},"fuelpump":{"a":"Fuel Pump","b":"26FD","j":["gas station","petroleum"],"k":[49,13],"o":5},"sunflower":{"a":"Sunflower","b":"1F33B","j":["nature","plant","fall"],"k":[6,49]},"postbox":{"a":"Postbox","b":"1F4EE","j":["email","letter","envelope"],"k":[26,37]},"flag-gq":{"a":"Equatorial Guinea Flag","b":"1F1EC-1F1F6","k":[2,19]},"heart_eyes_cat":{"a":"Smiling Cat Face with Heart-Shaped Eyes","b":"1F63B","j":["animal","love","like","affection","cats","valentines","heart"],"k":[31,31]},"fork_and_knife":{"a":"Fork and Knife","b":"1F374","j":["cutlery","kitchen"],"k":[8,2]},"recycle":{"a":"Black Universal Recycling Symbol","b":"267B-FE0F","c":"267B","j":["arrow","environment","garbage","trash"],"k":[48,9],"o":3},"blossom":{"a":"Blossom","b":"1F33C","j":["nature","flowers","yellow"],"k":[6,50]},"rotating_light":{"a":"Police Cars Revolving Light","b":"1F6A8","j":["police","ambulance","911","emergency","alert","error","pinged","law","legal"],"k":[35,13]},"smirk_cat":{"a":"Cat Face with Wry Smile","b":"1F63C","j":["animal","cats","smirk"],"k":[31,32]},"flag-gr":{"a":"Greece Flag","b":"1F1EC-1F1F7","k":[2,20]},"kissing_cat":{"a":"Kissing Cat Face with Closed Eyes","b":"1F63D","j":["animal","cats","kiss"],"k":[31,33]},"pencil2":{"a":"Pencil","b":"270F-FE0F","c":"270F","j":["stationery","write","paper","writing","school","study"],"k":[49,42],"o":1},"traffic_light":{"a":"Horizontal Traffic Light","b":"1F6A5","j":["transportation","signal"],"k":[35,10]},"tulip":{"a":"Tulip","b":"1F337","j":["flowers","plant","nature","summer","spring"],"k":[6,45]},"hocho":{"a":"Hocho","b":"1F52A","j":["knife","blade","cutlery","kitchen","weapon"],"k":[27,44],"n":["knife"]},"flag-gs":{"a":"South Georgia & South Sandwich Islands Flag","b":"1F1EC-1F1F8","k":[2,21]},"seedling":{"a":"Seedling","b":"1F331","j":["plant","nature","grass","lawn","spring"],"k":[6,39]},"scream_cat":{"a":"Weary Cat Face","b":"1F640","j":["animal","cats","munch","scared","scream"],"k":[31,36]},"vertical_traffic_light":{"a":"Vertical Traffic Light","b":"1F6A6","j":["transportation","driving"],"k":[35,11]},"black_nib":{"a":"Black Nib","b":"2712-FE0F","c":"2712","j":["pen","stationery","writing","write"],"k":[49,43],"o":1},"flag-gt":{"a":"Guatemala Flag","b":"1F1EC-1F1F9","k":[2,22]},"trident":{"a":"Trident Emblem","b":"1F531","j":["weapon","spear"],"k":[27,51]},"flag-gu":{"a":"Guam Flag","b":"1F1EC-1F1FA","k":[2,23]},"name_badge":{"a":"Name Badge","b":"1F4DB","j":["fire","forbid"],"k":[26,18]},"construction":{"a":"Construction Sign","b":"1F6A7","j":["wip","progress","caution","warning"],"k":[35,12]},"evergreen_tree":{"a":"Evergreen Tree","b":"1F332","j":["plant","nature"],"k":[6,40]},"crying_cat_face":{"a":"Crying Cat Face","b":"1F63F","j":["animal","tears","weep","sad","cats","upset","cry"],"k":[31,35]},"flag-gw":{"a":"Guinea-Bissau Flag","b":"1F1EC-1F1FC","k":[2,24]},"pouting_cat":{"a":"Pouting Cat Face","b":"1F63E","j":["animal","cats"],"k":[31,34]},"deciduous_tree":{"a":"Deciduous Tree","b":"1F333","j":["plant","nature"],"k":[6,41]},"beginner":{"a":"Japanese Symbol for Beginner","b":"1F530","j":["badge","shield"],"k":[27,50]},"flag-gy":{"a":"Guyana Flag","b":"1F1EC-1F1FE","k":[2,25]},"o":{"a":"Heavy Large Circle","b":"2B55","j":["circle","round"],"k":[50,23],"o":5},"palm_tree":{"a":"Palm Tree","b":"1F334","j":["plant","vegetable","nature","summer","beach","mojito","tropical"],"k":[6,42]},"anchor":{"a":"Anchor","b":"2693","j":["ship","ferry","sea","boat"],"k":[48,12],"o":4},"see_no_evil":{"a":"See-No-Evil Monkey","b":"1F648","j":["monkey","animal","nature","haha"],"k":[32,43]},"boat":{"a":"Sailboat","b":"26F5","k":[48,43],"n":["sailboat"],"o":5},"white_check_mark":{"a":"White Heavy Check Mark","b":"2705","j":["green-square","ok","agree","vote","election","answer","tick"],"k":[49,15]},"flag-hk":{"a":"Hong Kong Sar China Flag","b":"1F1ED-1F1F0","k":[2,26]},"hear_no_evil":{"a":"Hear-No-Evil Monkey","b":"1F649","j":["animal","monkey","nature"],"k":[32,44]},"cactus":{"a":"Cactus","b":"1F335","j":["vegetable","plant","nature"],"k":[6,43]},"ear_of_rice":{"a":"Ear of Rice","b":"1F33E","j":["nature","plant"],"k":[7,0]},"speak_no_evil":{"a":"Speak-No-Evil Monkey","b":"1F64A","j":["monkey","animal","nature","omg"],"k":[32,45]},"flag-hm":{"a":"Heard & Mcdonald Islands Flag","b":"1F1ED-1F1F2","k":[2,27]},"ballot_box_with_check":{"a":"Ballot Box with Check","b":"2611-FE0F","c":"2611","j":["ok","agree","confirm","black-square","vote","election","yes","tick"],"k":[47,22],"o":1},"memo":{"a":"Memo","b":"1F4DD","j":["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],"k":[26,20],"n":["pencil"]},"herb":{"a":"Herb","b":"1F33F","j":["vegetable","plant","medicine","weed","grass","lawn"],"k":[7,1]},"flag-hn":{"a":"Honduras Flag","b":"1F1ED-1F1F3","k":[2,28]},"heavy_check_mark":{"a":"Heavy Check Mark","b":"2714-FE0F","c":"2714","j":["ok","nike","answer","yes","tick"],"k":[49,44],"o":1},"briefcase":{"a":"Briefcase","b":"1F4BC","j":["business","documents","work","law","legal","job","career"],"k":[25,39]},"speedboat":{"a":"Speedboat","b":"1F6A4","j":["ship","transportation","vehicle","summer"],"k":[35,9]},"baby":{"skin_variations":{"1F3FB":{"unified":"1F476-1F3FB","non_qualified":null,"image":"1f476-1f3fb.png","sheet_x":22,"sheet_y":11,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F476-1F3FC","non_qualified":null,"image":"1f476-1f3fc.png","sheet_x":22,"sheet_y":12,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F476-1F3FD","non_qualified":null,"image":"1f476-1f3fd.png","sheet_x":22,"sheet_y":13,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F476-1F3FE","non_qualified":null,"image":"1f476-1f3fe.png","sheet_x":22,"sheet_y":14,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F476-1F3FF","non_qualified":null,"image":"1f476-1f3ff.png","sheet_x":22,"sheet_y":15,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Baby","b":"1F476","j":["child","boy","girl","toddler"],"k":[22,10]},"heavy_multiplication_x":{"a":"Heavy Multiplication X","b":"2716-FE0F","c":"2716","j":["math","calculation"],"k":[49,45],"o":1},"flag-hr":{"a":"Croatia Flag","b":"1F1ED-1F1F7","k":[2,29]},"file_folder":{"a":"File Folder","b":"1F4C1","j":["documents","business","office"],"k":[25,44]},"x":{"a":"Cross Mark","b":"274C","j":["no","delete","remove","cancel"],"k":[50,1]},"four_leaf_clover":{"a":"Four Leaf Clover","b":"1F340","j":["vegetable","plant","nature","lucky","irish"],"k":[7,2]},"open_file_folder":{"a":"Open File Folder","b":"1F4C2","j":["documents","load"],"k":[25,45]},"boy":{"skin_variations":{"1F3FB":{"unified":"1F466-1F3FB","non_qualified":null,"image":"1f466-1f3fb.png","sheet_x":15,"sheet_y":43,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F466-1F3FC","non_qualified":null,"image":"1f466-1f3fc.png","sheet_x":15,"sheet_y":44,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F466-1F3FD","non_qualified":null,"image":"1f466-1f3fd.png","sheet_x":15,"sheet_y":45,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F466-1F3FE","non_qualified":null,"image":"1f466-1f3fe.png","sheet_x":15,"sheet_y":46,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F466-1F3FF","non_qualified":null,"image":"1f466-1f3ff.png","sheet_x":15,"sheet_y":47,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Boy","b":"1F466","j":["man","male","guy","teenager"],"k":[15,42]},"flag-ht":{"a":"Haiti Flag","b":"1F1ED-1F1F9","k":[2,30]},"girl":{"skin_variations":{"1F3FB":{"unified":"1F467-1F3FB","non_qualified":null,"image":"1f467-1f3fb.png","sheet_x":15,"sheet_y":49,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F467-1F3FC","non_qualified":null,"image":"1f467-1f3fc.png","sheet_x":15,"sheet_y":50,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F467-1F3FD","non_qualified":null,"image":"1f467-1f3fd.png","sheet_x":15,"sheet_y":51,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F467-1F3FE","non_qualified":null,"image":"1f467-1f3fe.png","sheet_x":16,"sheet_y":0,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F467-1F3FF","non_qualified":null,"image":"1f467-1f3ff.png","sheet_x":16,"sheet_y":1,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Girl","b":"1F467","j":["female","woman","teenager"],"k":[15,48]},"negative_squared_cross_mark":{"a":"Negative Squared Cross Mark","b":"274E","j":["x","green-square","no","deny"],"k":[50,2]},"flag-hu":{"a":"Hungary Flag","b":"1F1ED-1F1FA","k":[2,31]},"maple_leaf":{"a":"Maple Leaf","b":"1F341","j":["nature","plant","vegetable","ca","fall"],"k":[7,3]},"flag-ic":{"a":"Canary Islands Flag","b":"1F1EE-1F1E8","k":[2,32]},"fallen_leaf":{"a":"Fallen Leaf","b":"1F342","j":["nature","plant","vegetable","leaves"],"k":[7,4]},"ship":{"a":"Ship","b":"1F6A2","j":["transportation","titanic","deploy"],"k":[34,42]},"heavy_plus_sign":{"a":"Heavy Plus Sign","b":"2795","j":["math","calculation","addition","more","increase"],"k":[50,9]},"date":{"a":"Calendar","b":"1F4C5","j":["calendar","schedule"],"k":[25,48]},"man":{"skin_variations":{"1F3FB":{"unified":"1F468-1F3FB","non_qualified":null,"image":"1f468-1f3fb.png","sheet_x":18,"sheet_y":12,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F468-1F3FC","non_qualified":null,"image":"1f468-1f3fc.png","sheet_x":18,"sheet_y":13,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F468-1F3FD","non_qualified":null,"image":"1f468-1f3fd.png","sheet_x":18,"sheet_y":14,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F468-1F3FE","non_qualified":null,"image":"1f468-1f3fe.png","sheet_x":18,"sheet_y":15,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F468-1F3FF","non_qualified":null,"image":"1f468-1f3ff.png","sheet_x":18,"sheet_y":16,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Man","b":"1F468","j":["mustache","father","dad","guy","classy","sir","moustache"],"k":[18,11]},"flag-id":{"a":"Indonesia Flag","b":"1F1EE-1F1E9","k":[2,33]},"leaves":{"a":"Leaf Fluttering in Wind","b":"1F343","j":["nature","plant","tree","vegetable","grass","lawn","spring"],"k":[7,5]},"heavy_minus_sign":{"a":"Heavy Minus Sign","b":"2796","j":["math","calculation","subtract","less"],"k":[50,10]},"calendar":{"a":"Tear-off Calendar","b":"1F4C6","j":["schedule","date","planning"],"k":[25,49]},"airplane":{"a":"Airplane","b":"2708-FE0F","c":"2708","j":["vehicle","transportation","flight","fly"],"k":[49,16],"o":1},"heavy_division_sign":{"a":"Heavy Division Sign","b":"2797","j":["divide","math","calculation"],"k":[50,11]},"woman":{"skin_variations":{"1F3FB":{"unified":"1F469-1F3FB","non_qualified":null,"image":"1f469-1f3fb.png","sheet_x":20,"sheet_y":24,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F469-1F3FC","non_qualified":null,"image":"1f469-1f3fc.png","sheet_x":20,"sheet_y":25,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F469-1F3FD","non_qualified":null,"image":"1f469-1f3fd.png","sheet_x":20,"sheet_y":26,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F469-1F3FE","non_qualified":null,"image":"1f469-1f3fe.png","sheet_x":20,"sheet_y":27,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F469-1F3FF","non_qualified":null,"image":"1f469-1f3ff.png","sheet_x":20,"sheet_y":28,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Woman","b":"1F469","j":["female","girls","lady"],"k":[20,23]},"flag-ie":{"a":"Ireland Flag","b":"1F1EE-1F1EA","k":[2,34]},"curly_loop":{"a":"Curly Loop","b":"27B0","j":["scribble","draw","shape","squiggle"],"k":[50,13]},"flag-il":{"a":"Israel Flag","b":"1F1EE-1F1F1","k":[2,35]},"card_index":{"a":"Card Index","b":"1F4C7","j":["business","stationery"],"k":[25,50]},"loop":{"a":"Double Curly Loop","b":"27BF","j":["tape","cassette"],"k":[50,14]},"older_man":{"skin_variations":{"1F3FB":{"unified":"1F474-1F3FB","non_qualified":null,"image":"1f474-1f3fb.png","sheet_x":21,"sheet_y":51,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F474-1F3FC","non_qualified":null,"image":"1f474-1f3fc.png","sheet_x":22,"sheet_y":0,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F474-1F3FD","non_qualified":null,"image":"1f474-1f3fd.png","sheet_x":22,"sheet_y":1,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F474-1F3FE","non_qualified":null,"image":"1f474-1f3fe.png","sheet_x":22,"sheet_y":2,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F474-1F3FF","non_qualified":null,"image":"1f474-1f3ff.png","sheet_x":22,"sheet_y":3,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Older Man","b":"1F474","j":["human","male","men","old","elder","senior"],"k":[21,50]},"flag-im":{"a":"Isle of Man Flag","b":"1F1EE-1F1F2","k":[2,36]},"flag-in":{"a":"India Flag","b":"1F1EE-1F1F3","k":[2,37]},"chart_with_upwards_trend":{"a":"Chart with Upwards Trend","b":"1F4C8","j":["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],"k":[25,51]},"part_alternation_mark":{"a":"Part Alternation Mark","b":"303D-FE0F","c":"303D","j":["graph","presentation","stats","business","economics","bad"],"k":[50,25],"o":3},"seat":{"a":"Seat","b":"1F4BA","j":["sit","airplane","transport","bus","flight","fly"],"k":[25,37]},"older_woman":{"skin_variations":{"1F3FB":{"unified":"1F475-1F3FB","non_qualified":null,"image":"1f475-1f3fb.png","sheet_x":22,"sheet_y":5,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F475-1F3FC","non_qualified":null,"image":"1f475-1f3fc.png","sheet_x":22,"sheet_y":6,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F475-1F3FD","non_qualified":null,"image":"1f475-1f3fd.png","sheet_x":22,"sheet_y":7,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F475-1F3FE","non_qualified":null,"image":"1f475-1f3fe.png","sheet_x":22,"sheet_y":8,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F475-1F3FF","non_qualified":null,"image":"1f475-1f3ff.png","sheet_x":22,"sheet_y":9,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Older Woman","b":"1F475","j":["human","female","women","lady","old","elder","senior"],"k":[22,4]},"eight_spoked_asterisk":{"a":"Eight Spoked Asterisk","b":"2733-FE0F","c":"2733","j":["star","sparkle","green-square"],"k":[49,49],"o":1},"chart_with_downwards_trend":{"a":"Chart with Downwards Trend","b":"1F4C9","j":["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],"k":[26,0]},"flag-io":{"a":"British Indian Ocean Territory Flag","b":"1F1EE-1F1F4","k":[2,38]},"helicopter":{"a":"Helicopter","b":"1F681","j":["transportation","vehicle","fly"],"k":[34,9]},"suspension_railway":{"a":"Suspension Railway","b":"1F69F","j":["vehicle","transportation"],"k":[34,39]},"bar_chart":{"a":"Bar Chart","b":"1F4CA","j":["graph","presentation","stats"],"k":[26,1]},"flag-iq":{"a":"Iraq Flag","b":"1F1EE-1F1F6","k":[2,39]},"eight_pointed_black_star":{"a":"Eight Pointed Black Star","b":"2734-FE0F","c":"2734","j":["orange-square","shape","polygon"],"k":[49,50],"o":1},"mountain_cableway":{"a":"Mountain Cableway","b":"1F6A0","j":["transportation","vehicle","ski"],"k":[34,40]},"clipboard":{"a":"Clipboard","b":"1F4CB","j":["stationery","documents"],"k":[26,2]},"flag-ir":{"a":"Iran Flag","b":"1F1EE-1F1F7","k":[2,40]},"sparkle":{"a":"Sparkle","b":"2747-FE0F","c":"2747","j":["stars","green-square","awesome","good","fireworks"],"k":[50,0],"o":1},"pushpin":{"a":"Pushpin","b":"1F4CC","j":["stationery","mark","here"],"k":[26,3]},"aerial_tramway":{"a":"Aerial Tramway","b":"1F6A1","j":["transportation","vehicle","ski"],"k":[34,41]},"flag-is":{"a":"Iceland Flag","b":"1F1EE-1F1F8","k":[2,41]},"bangbang":{"a":"Double Exclamation Mark","b":"203C-FE0F","c":"203C","j":["exclamation","surprise"],"k":[46,29],"o":1},"interrobang":{"a":"Exclamation Question Mark","b":"2049-FE0F","c":"2049","j":["wat","punctuation","surprise"],"k":[46,30],"o":3},"it":{"a":"Italy Flag","b":"1F1EE-1F1F9","j":["italy","flag","nation","country","banner"],"k":[2,42],"n":["flag-it"]},"round_pushpin":{"a":"Round Pushpin","b":"1F4CD","j":["stationery","location","map","here"],"k":[26,4]},"flag-je":{"a":"Jersey Flag","b":"1F1EF-1F1EA","k":[2,43]},"question":{"a":"Black Question Mark Ornament","b":"2753","j":["doubt","confused"],"k":[50,3]},"rocket":{"a":"Rocket","b":"1F680","j":["launch","ship","staffmode","NASA","outer space","outer_space","fly"],"k":[34,8]},"paperclip":{"a":"Paperclip","b":"1F4CE","j":["documents","stationery"],"k":[26,5]},"grey_question":{"a":"White Question Mark Ornament","b":"2754","j":["doubts","gray","huh","confused"],"k":[50,4]},"flag-jm":{"a":"Jamaica Flag","b":"1F1EF-1F1F2","k":[2,44]},"straight_ruler":{"a":"Straight Ruler","b":"1F4CF","j":["stationery","calculate","length","math","school","drawing","architect","sketch"],"k":[26,6]},"flag-jo":{"a":"Jordan Flag","b":"1F1EF-1F1F4","k":[2,45]},"grey_exclamation":{"a":"White Exclamation Mark Ornament","b":"2755","j":["surprise","punctuation","gray","wow","warning"],"k":[50,5]},"door":{"a":"Door","b":"1F6AA","j":["house","entry","exit"],"k":[35,15]},"jp":{"a":"Japan Flag","b":"1F1EF-1F1F5","j":["japanese","nation","flag","country","banner"],"k":[2,46],"n":["flag-jp"]},"triangular_ruler":{"a":"Triangular Ruler","b":"1F4D0","j":["stationery","math","architect","sketch"],"k":[26,7]},"exclamation":{"a":"Heavy Exclamation Mark Symbol","b":"2757","j":["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],"k":[50,6],"n":["heavy_exclamation_mark"],"o":5},"scissors":{"a":"Black Scissors","b":"2702-FE0F","c":"2702","j":["stationery","cut"],"k":[49,14],"o":1},"wavy_dash":{"a":"Wavy Dash","b":"3030-FE0F","c":"3030","j":["draw","line","moustache","mustache","squiggle","scribble"],"k":[50,24],"o":1},"flag-ke":{"a":"Kenya Flag","b":"1F1F0-1F1EA","k":[2,47]},"flag-kg":{"a":"Kyrgyzstan Flag","b":"1F1F0-1F1EC","k":[2,48]},"flag-kh":{"a":"Cambodia Flag","b":"1F1F0-1F1ED","k":[2,49]},"toilet":{"a":"Toilet","b":"1F6BD","j":["restroom","wc","washroom","bathroom","potty"],"k":[36,33]},"flag-ki":{"a":"Kiribati Flag","b":"1F1F0-1F1EE","k":[2,50]},"shower":{"a":"Shower","b":"1F6BF","j":["clean","water","bathroom"],"k":[36,35]},"tm":{"a":"Trade Mark Sign","b":"2122-FE0F","c":"2122","j":["trademark","brand","law","legal"],"k":[46,31],"o":1},"flag-km":{"a":"Comoros Flag","b":"1F1F0-1F1F2","k":[2,51]},"bathtub":{"a":"Bathtub","b":"1F6C1","j":["clean","shower","bathroom"],"k":[36,42]},"lock":{"a":"Lock","b":"1F512","j":["security","password","padlock"],"k":[27,20]},"flag-kn":{"a":"St. Kitts & Nevis Flag","b":"1F1F0-1F1F3","k":[3,0]},"hourglass":{"a":"Hourglass","b":"231B","j":["time","clock","oldschool","limit","exam","quiz","test"],"k":[46,42],"o":1},"unlock":{"a":"Open Lock","b":"1F513","j":["privacy","security"],"k":[27,21]},"flag-kp":{"a":"North Korea Flag","b":"1F1F0-1F1F5","k":[3,1]},"lock_with_ink_pen":{"a":"Lock with Ink Pen","b":"1F50F","j":["security","secret"],"k":[27,17]},"hourglass_flowing_sand":{"a":"Hourglass with Flowing Sand","b":"23F3","j":["oldschool","time","countdown"],"k":[47,3]},"kr":{"a":"South Korea Flag","b":"1F1F0-1F1F7","j":["south","korea","nation","flag","country","banner"],"k":[3,2],"n":["flag-kr"]},"watch":{"a":"Watch","b":"231A","j":["time","accessories"],"k":[46,41],"o":1},"closed_lock_with_key":{"a":"Closed Lock with Key","b":"1F510","j":["security","privacy"],"k":[27,18]},"alarm_clock":{"a":"Alarm Clock","b":"23F0","j":["time","wake"],"k":[47,0]},"key":{"a":"Key","b":"1F511","j":["lock","door","password"],"k":[27,19]},"flag-kw":{"a":"Kuwait Flag","b":"1F1F0-1F1FC","k":[3,3]},"flag-ky":{"a":"Cayman Islands Flag","b":"1F1F0-1F1FE","k":[3,4]},"flag-kz":{"a":"Kazakhstan Flag","b":"1F1F0-1F1FF","k":[3,5]},"hammer":{"a":"Hammer","b":"1F528","j":["tools","build","create"],"k":[27,42]},"flag-la":{"a":"Laos Flag","b":"1F1F1-1F1E6","k":[3,6]},"flag-lb":{"a":"Lebanon Flag","b":"1F1F1-1F1E7","k":[3,7]},"clock12":{"a":"Clock Face Twelve Oclock","b":"1F55B","j":["time","noon","midnight","midday","late","early","schedule"],"k":[28,29]},"flag-lc":{"a":"St. Lucia Flag","b":"1F1F1-1F1E8","k":[3,8]},"clock1230":{"a":"Clock Face Twelve-Thirty","b":"1F567","j":["time","late","early","schedule"],"k":[28,41]},"flag-li":{"a":"Liechtenstein Flag","b":"1F1F1-1F1EE","k":[3,9]},"clock1":{"a":"Clock Face One Oclock","b":"1F550","j":["time","late","early","schedule"],"k":[28,18]},"flag-lk":{"a":"Sri Lanka Flag","b":"1F1F1-1F1F0","k":[3,10]},"clock130":{"a":"Clock Face One-Thirty","b":"1F55C","j":["time","late","early","schedule"],"k":[28,30]},"clock2":{"a":"Clock Face Two Oclock","b":"1F551","j":["time","late","early","schedule"],"k":[28,19]},"gun":{"a":"Pistol","b":"1F52B","j":["violence","weapon","pistol","revolver"],"k":[27,45]},"keycap_ten":{"a":"Keycap Ten","b":"1F51F","j":["numbers","10","blue-square"],"k":[27,33]},"flag-lr":{"a":"Liberia Flag","b":"1F1F1-1F1F7","k":[3,11]},"clock230":{"a":"Clock Face Two-Thirty","b":"1F55D","j":["time","late","early","schedule"],"k":[28,31]},"flag-ls":{"a":"Lesotho Flag","b":"1F1F1-1F1F8","k":[3,12]},"flag-lt":{"a":"Lithuania Flag","b":"1F1F1-1F1F9","k":[3,13]},"capital_abcd":{"a":"Input Symbol for Latin Capital Letters","b":"1F520","j":["alphabet","words","blue-square"],"k":[27,34]},"clock3":{"a":"Clock Face Three Oclock","b":"1F552","j":["time","late","early","schedule"],"k":[28,20]},"abcd":{"a":"Input Symbol for Latin Small Letters","b":"1F521","j":["blue-square","alphabet"],"k":[27,35]},"clock330":{"a":"Clock Face Three-Thirty","b":"1F55E","j":["time","late","early","schedule"],"k":[28,32]},"flag-lu":{"a":"Luxembourg Flag","b":"1F1F1-1F1FA","k":[3,14]},"wrench":{"a":"Wrench","b":"1F527","j":["tools","diy","ikea","fix","maintainer"],"k":[27,41]},"nut_and_bolt":{"a":"Nut and Bolt","b":"1F529","j":["handy","tools","fix"],"k":[27,43]},"clock4":{"a":"Clock Face Four Oclock","b":"1F553","j":["time","late","early","schedule"],"k":[28,21]},"flag-lv":{"a":"Latvia Flag","b":"1F1F1-1F1FB","k":[3,15]},"flag-ly":{"a":"Libya Flag","b":"1F1F1-1F1FE","k":[3,16]},"symbols":{"a":"Input Symbol for Symbols","b":"1F523","j":["blue-square","music","note","ampersand","percent","glyphs","characters"],"k":[27,37]},"clock430":{"a":"Clock Face Four-Thirty","b":"1F55F","j":["time","late","early","schedule"],"k":[28,33]},"flag-ma":{"a":"Morocco Flag","b":"1F1F2-1F1E6","k":[3,17]},"abc":{"a":"Input Symbol for Latin Letters","b":"1F524","j":["blue-square","alphabet"],"k":[27,38]},"clock5":{"a":"Clock Face Five Oclock","b":"1F554","j":["time","late","early","schedule"],"k":[28,22]},"clock530":{"a":"Clock Face Five-Thirty","b":"1F560","j":["time","late","early","schedule"],"k":[28,34]},"a":{"a":"Negative Squared Latin Capital Letter a","b":"1F170-FE0F","c":"1F170","j":["red-square","alphabet","letter"],"k":[0,16]},"flag-mc":{"a":"Monaco Flag","b":"1F1F2-1F1E8","k":[3,18]},"cop":{"skin_variations":{"1F3FB":{"unified":"1F46E-1F3FB","non_qualified":null,"image":"1f46e-1f3fb.png","sheet_x":20,"sheet_y":46,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F46E-1F3FC","non_qualified":null,"image":"1f46e-1f3fc.png","sheet_x":20,"sheet_y":47,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F46E-1F3FD","non_qualified":null,"image":"1f46e-1f3fd.png","sheet_x":20,"sheet_y":48,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F46E-1F3FE","non_qualified":null,"image":"1f46e-1f3fe.png","sheet_x":20,"sheet_y":49,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F46E-1F3FF","non_qualified":null,"image":"1f46e-1f3ff.png","sheet_x":20,"sheet_y":50,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F46E-200D-2642-FE0F","a":"Police Officer","b":"1F46E","k":[20,45]},"clock6":{"a":"Clock Face Six Oclock","b":"1F555","j":["time","late","early","schedule","dawn","dusk"],"k":[28,23]},"flag-md":{"a":"Moldova Flag","b":"1F1F2-1F1E9","k":[3,19]},"ab":{"a":"Negative Squared Ab","b":"1F18E","j":["red-square","alphabet"],"k":[0,20]},"link":{"a":"Link Symbol","b":"1F517","j":["rings","url"],"k":[27,25]},"flag-me":{"a":"Montenegro Flag","b":"1F1F2-1F1EA","k":[3,20]},"clock630":{"a":"Clock Face Six-Thirty","b":"1F561","j":["time","late","early","schedule"],"k":[28,35]},"b":{"a":"Negative Squared Latin Capital Letter B","b":"1F171-FE0F","c":"1F171","j":["red-square","alphabet","letter"],"k":[0,17]},"clock7":{"a":"Clock Face Seven Oclock","b":"1F556","j":["time","late","early","schedule"],"k":[28,24]},"cl":{"a":"Squared Cl","b":"1F191","j":["alphabet","words","red-square"],"k":[0,21]},"flag-mf":{"a":"St. Martin Flag","b":"1F1F2-1F1EB","k":[3,21]},"syringe":{"a":"Syringe","b":"1F489","j":["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],"k":[24,35]},"cool":{"a":"Squared Cool","b":"1F192","j":["words","blue-square"],"k":[0,22]},"clock730":{"a":"Clock Face Seven-Thirty","b":"1F562","j":["time","late","early","schedule"],"k":[28,36]},"flag-mg":{"a":"Madagascar Flag","b":"1F1F2-1F1EC","k":[3,22]},"free":{"a":"Squared Free","b":"1F193","j":["blue-square","words"],"k":[0,23]},"flag-mh":{"a":"Marshall Islands Flag","b":"1F1F2-1F1ED","k":[3,23]},"clock8":{"a":"Clock Face Eight Oclock","b":"1F557","j":["time","late","early","schedule"],"k":[28,25]},"pill":{"a":"Pill","b":"1F48A","j":["health","medicine","doctor","pharmacy","drug"],"k":[24,36]},"clock830":{"a":"Clock Face Eight-Thirty","b":"1F563","j":["time","late","early","schedule"],"k":[28,37]},"guardsman":{"skin_variations":{"1F3FB":{"unified":"1F482-1F3FB","non_qualified":null,"image":"1f482-1f3fb.png","sheet_x":23,"sheet_y":32,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F482-1F3FC","non_qualified":null,"image":"1f482-1f3fc.png","sheet_x":23,"sheet_y":33,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F482-1F3FD","non_qualified":null,"image":"1f482-1f3fd.png","sheet_x":23,"sheet_y":34,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F482-1F3FE","non_qualified":null,"image":"1f482-1f3fe.png","sheet_x":23,"sheet_y":35,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F482-1F3FF","non_qualified":null,"image":"1f482-1f3ff.png","sheet_x":23,"sheet_y":36,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F482-200D-2642-FE0F","a":"Guardsman","b":"1F482","j":["uk","gb","british","male","guy","royal"],"k":[23,31]},"information_source":{"a":"Information Source","b":"2139-FE0F","c":"2139","j":["blue-square","alphabet","letter"],"k":[46,32],"o":3},"flag-mk":{"a":"Macedonia Flag","b":"1F1F2-1F1F0","k":[3,24]},"smoking":{"a":"Smoking Symbol","b":"1F6AC","j":["kills","tobacco","cigarette","joint","smoke"],"k":[35,17]},"id":{"a":"Squared Id","b":"1F194","j":["purple-square","words"],"k":[0,24]},"clock9":{"a":"Clock Face Nine Oclock","b":"1F558","j":["time","late","early","schedule"],"k":[28,26]},"flag-ml":{"a":"Mali Flag","b":"1F1F2-1F1F1","k":[3,25]},"m":{"a":"Circled Latin Capital Letter M","b":"24C2-FE0F","c":"24C2","j":["alphabet","blue-circle","letter"],"k":[47,7],"o":1},"flag-mm":{"a":"Myanmar (burma) Flag","b":"1F1F2-1F1F2","k":[3,26]},"clock930":{"a":"Clock Face Nine-Thirty","b":"1F564","j":["time","late","early","schedule"],"k":[28,38]},"moyai":{"a":"Moyai","b":"1F5FF","j":["rock","easter island","moai"],"k":[30,23]},"new":{"a":"Squared New","b":"1F195","j":["blue-square","words","start"],"k":[0,25]},"flag-mn":{"a":"Mongolia Flag","b":"1F1F2-1F1F3","k":[3,27]},"construction_worker":{"skin_variations":{"1F3FB":{"unified":"1F477-1F3FB","non_qualified":null,"image":"1f477-1f3fb.png","sheet_x":22,"sheet_y":29,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F477-1F3FC","non_qualified":null,"image":"1f477-1f3fc.png","sheet_x":22,"sheet_y":30,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F477-1F3FD","non_qualified":null,"image":"1f477-1f3fd.png","sheet_x":22,"sheet_y":31,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F477-1F3FE","non_qualified":null,"image":"1f477-1f3fe.png","sheet_x":22,"sheet_y":32,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F477-1F3FF","non_qualified":null,"image":"1f477-1f3ff.png","sheet_x":22,"sheet_y":33,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F477-200D-2642-FE0F","a":"Construction Worker","b":"1F477","k":[22,28]},"clock10":{"a":"Clock Face Ten Oclock","b":"1F559","j":["time","late","early","schedule"],"k":[28,27]},"clock1030":{"a":"Clock Face Ten-Thirty","b":"1F565","j":["time","late","early","schedule"],"k":[28,39]},"ng":{"a":"Squared Ng","b":"1F196","j":["blue-square","words","shape","icon"],"k":[0,26]},"flag-mo":{"a":"Macau Sar China Flag","b":"1F1F2-1F1F4","k":[3,28]},"o2":{"a":"Negative Squared Latin Capital Letter O","b":"1F17E-FE0F","c":"1F17E","j":["alphabet","red-square","letter"],"k":[0,18]},"clock11":{"a":"Clock Face Eleven Oclock","b":"1F55A","j":["time","late","early","schedule"],"k":[28,28]},"crystal_ball":{"a":"Crystal Ball","b":"1F52E","j":["disco","party","magic","circus","fortune_teller"],"k":[27,48]},"flag-mp":{"a":"Northern Mariana Islands Flag","b":"1F1F2-1F1F5","k":[3,29]},"flag-mq":{"a":"Martinique Flag","b":"1F1F2-1F1F6","k":[3,30]},"ok":{"a":"Squared Ok","b":"1F197","j":["good","agree","yes","blue-square"],"k":[0,27]},"clock1130":{"a":"Clock Face Eleven-Thirty","b":"1F566","j":["time","late","early","schedule"],"k":[28,40]},"flag-mr":{"a":"Mauritania Flag","b":"1F1F2-1F1F7","k":[3,31]},"princess":{"skin_variations":{"1F3FB":{"unified":"1F478-1F3FB","non_qualified":null,"image":"1f478-1f3fb.png","sheet_x":22,"sheet_y":35,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F478-1F3FC","non_qualified":null,"image":"1f478-1f3fc.png","sheet_x":22,"sheet_y":36,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F478-1F3FD","non_qualified":null,"image":"1f478-1f3fd.png","sheet_x":22,"sheet_y":37,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F478-1F3FE","non_qualified":null,"image":"1f478-1f3fe.png","sheet_x":22,"sheet_y":38,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F478-1F3FF","non_qualified":null,"image":"1f478-1f3ff.png","sheet_x":22,"sheet_y":39,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Princess","b":"1F478","j":["girl","woman","female","blond","crown","royal","queen"],"k":[22,34]},"new_moon":{"a":"New Moon Symbol","b":"1F311","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,9]},"parking":{"a":"Negative Squared Latin Capital Letter P","b":"1F17F-FE0F","c":"1F17F","j":["cars","blue-square","alphabet","letter"],"k":[0,19],"o":5},"sos":{"a":"Squared Sos","b":"1F198","j":["help","red-square","words","emergency","911"],"k":[0,28]},"man_with_turban":{"skin_variations":{"1F3FB":{"unified":"1F473-1F3FB","non_qualified":null,"image":"1f473-1f3fb.png","sheet_x":21,"sheet_y":45,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F473-1F3FC","non_qualified":null,"image":"1f473-1f3fc.png","sheet_x":21,"sheet_y":46,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F473-1F3FD","non_qualified":null,"image":"1f473-1f3fd.png","sheet_x":21,"sheet_y":47,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F473-1F3FE","non_qualified":null,"image":"1f473-1f3fe.png","sheet_x":21,"sheet_y":48,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F473-1F3FF","non_qualified":null,"image":"1f473-1f3ff.png","sheet_x":21,"sheet_y":49,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F473-200D-2642-FE0F","a":"Man with Turban","b":"1F473","j":["male","indian","hinduism","arabs"],"k":[21,44]},"flag-ms":{"a":"Montserrat Flag","b":"1F1F2-1F1F8","k":[3,32]},"waxing_crescent_moon":{"a":"Waxing Crescent Moon Symbol","b":"1F312","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,10]},"up":{"a":"Squared Up with Exclamation Mark","b":"1F199","j":["blue-square","above","high"],"k":[0,29]},"first_quarter_moon":{"a":"First Quarter Moon Symbol","b":"1F313","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,11]},"flag-mt":{"a":"Malta Flag","b":"1F1F2-1F1F9","k":[3,33]},"moon":{"a":"Waxing Gibbous Moon Symbol","b":"1F314","k":[6,12],"n":["waxing_gibbous_moon"]},"vs":{"a":"Squared Vs","b":"1F19A","j":["words","orange-square"],"k":[0,30]},"flag-mu":{"a":"Mauritius Flag","b":"1F1F2-1F1FA","k":[3,34]},"man_with_gua_pi_mao":{"skin_variations":{"1F3FB":{"unified":"1F472-1F3FB","non_qualified":null,"image":"1f472-1f3fb.png","sheet_x":21,"sheet_y":27,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F472-1F3FC","non_qualified":null,"image":"1f472-1f3fc.png","sheet_x":21,"sheet_y":28,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F472-1F3FD","non_qualified":null,"image":"1f472-1f3fd.png","sheet_x":21,"sheet_y":29,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F472-1F3FE","non_qualified":null,"image":"1f472-1f3fe.png","sheet_x":21,"sheet_y":30,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F472-1F3FF","non_qualified":null,"image":"1f472-1f3ff.png","sheet_x":21,"sheet_y":31,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Man with Gua Pi Mao","b":"1F472","j":["male","boy","chinese"],"k":[21,26]},"koko":{"a":"Squared Katakana Koko","b":"1F201","j":["blue-square","here","katakana","japanese","destination"],"k":[5,29]},"full_moon":{"a":"Full Moon Symbol","b":"1F315","j":["nature","yellow","twilight","planet","space","night","evening","sleep"],"k":[6,13]},"flag-mv":{"a":"Maldives Flag","b":"1F1F2-1F1FB","k":[3,35]},"waning_gibbous_moon":{"a":"Waning Gibbous Moon Symbol","b":"1F316","j":["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],"k":[6,14]},"sa":{"a":"Squared Katakana Sa","b":"1F202-FE0F","c":"1F202","j":["japanese","blue-square","katakana"],"k":[5,30]},"flag-mw":{"a":"Malawi Flag","b":"1F1F2-1F1FC","k":[3,36]},"last_quarter_moon":{"a":"Last Quarter Moon Symbol","b":"1F317","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,15]},"u6708":{"a":"Squared Cjk Unified Ideograph-6708","b":"1F237-FE0F","c":"1F237","j":["chinese","month","moon","japanese","orange-square","kanji"],"k":[5,38]},"flag-mx":{"a":"Mexico Flag","b":"1F1F2-1F1FD","k":[3,37]},"u6709":{"a":"Squared Cjk Unified Ideograph-6709","b":"1F236","j":["orange-square","chinese","have","kanji"],"k":[5,37]},"person_with_blond_hair":{"skin_variations":{"1F3FB":{"unified":"1F471-1F3FB","non_qualified":null,"image":"1f471-1f3fb.png","sheet_x":21,"sheet_y":21,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F471-1F3FC","non_qualified":null,"image":"1f471-1f3fc.png","sheet_x":21,"sheet_y":22,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F471-1F3FD","non_qualified":null,"image":"1f471-1f3fd.png","sheet_x":21,"sheet_y":23,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F471-1F3FE","non_qualified":null,"image":"1f471-1f3fe.png","sheet_x":21,"sheet_y":24,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F471-1F3FF","non_qualified":null,"image":"1f471-1f3ff.png","sheet_x":21,"sheet_y":25,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F471-200D-2642-FE0F","a":"Person with Blond Hair","b":"1F471","k":[21,20]},"waning_crescent_moon":{"a":"Waning Crescent Moon Symbol","b":"1F318","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,16]},"flag-my":{"a":"Malaysia Flag","b":"1F1F2-1F1FE","k":[3,38]},"u6307":{"a":"Squared Cjk Unified Ideograph-6307","b":"1F22F","j":["chinese","point","green-square","kanji"],"k":[5,32],"o":5},"crescent_moon":{"a":"Crescent Moon","b":"1F319","j":["night","sleep","sky","evening","magic"],"k":[6,17]},"flag-mz":{"a":"Mozambique Flag","b":"1F1F2-1F1FF","k":[3,39]},"new_moon_with_face":{"a":"New Moon with Face","b":"1F31A","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,18]},"flag-na":{"a":"Namibia Flag","b":"1F1F3-1F1E6","k":[3,40]},"ideograph_advantage":{"a":"Circled Ideograph Advantage","b":"1F250","j":["chinese","kanji","obtain","get","circle"],"k":[5,42]},"first_quarter_moon_with_face":{"a":"First Quarter Moon with Face","b":"1F31B","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,19]},"flag-nc":{"a":"New Caledonia Flag","b":"1F1F3-1F1E8","k":[3,41]},"u5272":{"a":"Squared Cjk Unified Ideograph-5272","b":"1F239","j":["cut","divide","chinese","kanji","pink-square"],"k":[5,40]},"flag-ne":{"a":"Niger Flag","b":"1F1F3-1F1EA","k":[3,42]},"last_quarter_moon_with_face":{"a":"Last Quarter Moon with Face","b":"1F31C","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,20]},"u7121":{"a":"Squared Cjk Unified Ideograph-7121","b":"1F21A","j":["nothing","chinese","kanji","japanese","orange-square"],"k":[5,31],"o":5},"bride_with_veil":{"skin_variations":{"1F3FB":{"unified":"1F470-1F3FB","non_qualified":null,"image":"1f470-1f3fb.png","sheet_x":21,"sheet_y":3,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F470-1F3FC","non_qualified":null,"image":"1f470-1f3fc.png","sheet_x":21,"sheet_y":4,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F470-1F3FD","non_qualified":null,"image":"1f470-1f3fd.png","sheet_x":21,"sheet_y":5,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F470-1F3FE","non_qualified":null,"image":"1f470-1f3fe.png","sheet_x":21,"sheet_y":6,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F470-1F3FF","non_qualified":null,"image":"1f470-1f3ff.png","sheet_x":21,"sheet_y":7,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Bride with Veil","b":"1F470","j":["couple","marriage","wedding","woman","bride"],"k":[21,2]},"u7981":{"a":"Squared Cjk Unified Ideograph-7981","b":"1F232","j":["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],"k":[5,33]},"flag-nf":{"a":"Norfolk Island Flag","b":"1F1F3-1F1EB","k":[3,43]},"sunny":{"a":"Black Sun with Rays","b":"2600-FE0F","c":"2600","j":["weather","nature","brightness","summer","beach","spring"],"k":[47,16],"o":1},"accept":{"a":"Circled Ideograph Accept","b":"1F251","j":["ok","good","chinese","kanji","agree","yes","orange-circle"],"k":[5,43]},"flag-ng":{"a":"Nigeria Flag","b":"1F1F3-1F1EC","k":[3,44]},"full_moon_with_face":{"a":"Full Moon with Face","b":"1F31D","j":["nature","twilight","planet","space","night","evening","sleep"],"k":[6,21]},"flag-ni":{"a":"Nicaragua Flag","b":"1F1F3-1F1EE","k":[3,45]},"u7533":{"a":"Squared Cjk Unified Ideograph-7533","b":"1F238","j":["chinese","japanese","kanji","orange-square"],"k":[5,39]},"angel":{"skin_variations":{"1F3FB":{"unified":"1F47C-1F3FB","non_qualified":null,"image":"1f47c-1f3fb.png","sheet_x":22,"sheet_y":44,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F47C-1F3FC","non_qualified":null,"image":"1f47c-1f3fc.png","sheet_x":22,"sheet_y":45,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F47C-1F3FD","non_qualified":null,"image":"1f47c-1f3fd.png","sheet_x":22,"sheet_y":46,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F47C-1F3FE","non_qualified":null,"image":"1f47c-1f3fe.png","sheet_x":22,"sheet_y":47,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F47C-1F3FF","non_qualified":null,"image":"1f47c-1f3ff.png","sheet_x":22,"sheet_y":48,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Baby Angel","b":"1F47C","j":["heaven","wings","halo"],"k":[22,43]},"sun_with_face":{"a":"Sun with Face","b":"1F31E","j":["nature","morning","sky"],"k":[6,22]},"santa":{"skin_variations":{"1F3FB":{"unified":"1F385-1F3FB","non_qualified":null,"image":"1f385-1f3fb.png","sheet_x":8,"sheet_y":20,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F385-1F3FC","non_qualified":null,"image":"1f385-1f3fc.png","sheet_x":8,"sheet_y":21,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F385-1F3FD","non_qualified":null,"image":"1f385-1f3fd.png","sheet_x":8,"sheet_y":22,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F385-1F3FE","non_qualified":null,"image":"1f385-1f3fe.png","sheet_x":8,"sheet_y":23,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F385-1F3FF","non_qualified":null,"image":"1f385-1f3ff.png","sheet_x":8,"sheet_y":24,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Father Christmas","b":"1F385","j":["festival","man","male","xmas","father christmas"],"k":[8,19]},"u5408":{"a":"Squared Cjk Unified Ideograph-5408","b":"1F234","j":["japanese","chinese","join","kanji","red-square"],"k":[5,35]},"flag-nl":{"a":"Netherlands Flag","b":"1F1F3-1F1F1","k":[3,46]},"u7a7a":{"a":"Squared Cjk Unified Ideograph-7a7a","b":"1F233","j":["kanji","japanese","chinese","empty","sky","blue-square"],"k":[5,34]},"star":{"a":"White Medium Star","b":"2B50","j":["night","yellow"],"k":[50,22],"o":5},"flag-no":{"a":"Norway Flag","b":"1F1F3-1F1F4","k":[3,47]},"star2":{"a":"Glowing Star","b":"1F31F","j":["night","sparkle","awesome","good","magic"],"k":[6,23]},"flag-np":{"a":"Nepal Flag","b":"1F1F3-1F1F5","k":[3,48]},"congratulations":{"a":"Circled Ideograph Congratulation","b":"3297-FE0F","c":"3297","j":["chinese","kanji","japanese","red-circle"],"k":[50,26],"o":1},"flag-nr":{"a":"Nauru Flag","b":"1F1F3-1F1F7","k":[3,49]},"stars":{"a":"Shooting Star","b":"1F320","j":["night","photo"],"k":[6,24]},"secret":{"a":"Circled Ideograph Secret","b":"3299-FE0F","c":"3299","j":["privacy","chinese","sshh","kanji","red-circle"],"k":[50,27],"o":1},"flag-nu":{"a":"Niue Flag","b":"1F1F3-1F1FA","k":[3,50]},"u55b6":{"a":"Squared Cjk Unified Ideograph-55b6","b":"1F23A","j":["japanese","opening hours","orange-square"],"k":[5,41]},"cloud":{"a":"Cloud","b":"2601-FE0F","c":"2601","j":["weather","sky"],"k":[47,17],"o":1},"flag-nz":{"a":"New Zealand Flag","b":"1F1F3-1F1FF","k":[3,51]},"partly_sunny":{"a":"Sun Behind Cloud","b":"26C5","j":["weather","nature","cloudy","morning","fall","spring"],"k":[48,29],"o":5},"u6e80":{"a":"Squared Cjk Unified Ideograph-6e80","b":"1F235","j":["full","chinese","japanese","red-square","kanji"],"k":[5,36]},"black_small_square":{"a":"Black Small Square","b":"25AA-FE0F","c":"25AA","j":["shape","icon"],"k":[47,8],"o":1},"flag-om":{"a":"Oman Flag","b":"1F1F4-1F1F2","k":[4,0]},"white_small_square":{"a":"White Small Square","b":"25AB-FE0F","c":"25AB","j":["shape","icon"],"k":[47,9],"o":1},"flag-pa":{"a":"Panama Flag","b":"1F1F5-1F1E6","k":[4,1]},"white_medium_square":{"a":"White Medium Square","b":"25FB-FE0F","c":"25FB","j":["shape","stone","icon"],"k":[47,12],"o":3},"flag-pe":{"a":"Peru Flag","b":"1F1F5-1F1EA","k":[4,2]},"flag-pf":{"a":"French Polynesia Flag","b":"1F1F5-1F1EB","k":[4,3]},"black_medium_square":{"a":"Black Medium Square","b":"25FC-FE0F","c":"25FC","j":["shape","button","icon"],"k":[47,13],"o":3},"white_medium_small_square":{"a":"White Medium Small Square","b":"25FD","j":["shape","stone","icon","button"],"k":[47,14],"o":3},"flag-pg":{"a":"Papua New Guinea Flag","b":"1F1F5-1F1EC","k":[4,4]},"flag-ph":{"a":"Philippines Flag","b":"1F1F5-1F1ED","k":[4,5]},"black_medium_small_square":{"a":"Black Medium Small Square","b":"25FE","j":["icon","shape","button"],"k":[47,15],"o":3},"black_large_square":{"a":"Black Large Square","b":"2B1B","j":["shape","icon","button"],"k":[50,20],"o":5},"flag-pk":{"a":"Pakistan Flag","b":"1F1F5-1F1F0","k":[4,6]},"white_large_square":{"a":"White Large Square","b":"2B1C","j":["shape","icon","stone","button"],"k":[50,21],"o":5},"flag-pl":{"a":"Poland Flag","b":"1F1F5-1F1F1","k":[4,7]},"large_orange_diamond":{"a":"Large Orange Diamond","b":"1F536","j":["shape","jewel","gem"],"k":[28,4]},"flag-pm":{"a":"St. Pierre & Miquelon Flag","b":"1F1F5-1F1F2","k":[4,8]},"flag-pn":{"a":"Pitcairn Islands Flag","b":"1F1F5-1F1F3","k":[4,9]},"large_blue_diamond":{"a":"Large Blue Diamond","b":"1F537","j":["shape","jewel","gem"],"k":[28,5]},"small_orange_diamond":{"a":"Small Orange Diamond","b":"1F538","j":["shape","jewel","gem"],"k":[28,6]},"flag-pr":{"a":"Puerto Rico Flag","b":"1F1F5-1F1F7","k":[4,10]},"cyclone":{"a":"Cyclone","b":"1F300","j":["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],"k":[5,44]},"rainbow":{"a":"Rainbow","b":"1F308","j":["nature","happy","unicorn_face","photo","sky","spring"],"k":[6,0]},"small_blue_diamond":{"a":"Small Blue Diamond","b":"1F539","j":["shape","jewel","gem"],"k":[28,7]},"flag-ps":{"a":"Palestinian Territories Flag","b":"1F1F5-1F1F8","k":[4,11]},"small_red_triangle":{"a":"Up-Pointing Red Triangle","b":"1F53A","j":["shape","direction","up","top"],"k":[28,8]},"closed_umbrella":{"a":"Closed Umbrella","b":"1F302","j":["weather","rain","drizzle"],"k":[5,46]},"flag-pt":{"a":"Portugal Flag","b":"1F1F5-1F1F9","k":[4,12]},"flag-pw":{"a":"Palau Flag","b":"1F1F5-1F1FC","k":[4,13]},"small_red_triangle_down":{"a":"Down-Pointing Red Triangle","b":"1F53B","j":["shape","direction","bottom"],"k":[28,9]},"flag-py":{"a":"Paraguay Flag","b":"1F1F5-1F1FE","k":[4,14]},"diamond_shape_with_a_dot_inside":{"a":"Diamond Shape with a Dot Inside","b":"1F4A0","j":["jewel","blue","gem","crystal","fancy"],"k":[25,6]},"umbrella_with_rain_drops":{"a":"Umbrella with Rain Drops","b":"2614","k":[47,23],"o":4},"radio_button":{"a":"Radio Button","b":"1F518","j":["input","old","music","circle"],"k":[27,26]},"flag-qa":{"a":"Qatar Flag","b":"1F1F6-1F1E6","k":[4,15]},"black_square_button":{"a":"Black Square Button","b":"1F532","j":["shape","input","frame"],"k":[28,0]},"zap":{"a":"High Voltage Sign","b":"26A1","j":["thunder","weather","lightning bolt","fast"],"k":[48,21],"o":4},"flag-re":{"a":"Réunion Flag","b":"1F1F7-1F1EA","k":[4,16]},"flag-ro":{"a":"Romania Flag","b":"1F1F7-1F1F4","k":[4,17]},"snowflake":{"a":"Snowflake","b":"2744-FE0F","c":"2744","j":["winter","season","cold","weather","christmas","xmas"],"k":[49,51],"o":1},"white_square_button":{"a":"White Square Button","b":"1F533","j":["shape","input"],"k":[28,1]},"person_frowning":{"skin_variations":{"1F3FB":{"unified":"1F64D-1F3FB","non_qualified":null,"image":"1f64d-1f3fb.png","sheet_x":33,"sheet_y":31,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F64D-1F3FC","non_qualified":null,"image":"1f64d-1f3fc.png","sheet_x":33,"sheet_y":32,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F64D-1F3FD","non_qualified":null,"image":"1f64d-1f3fd.png","sheet_x":33,"sheet_y":33,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F64D-1F3FE","non_qualified":null,"image":"1f64d-1f3fe.png","sheet_x":33,"sheet_y":34,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F64D-1F3FF","non_qualified":null,"image":"1f64d-1f3ff.png","sheet_x":33,"sheet_y":35,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F64D-200D-2640-FE0F","a":"Person Frowning","b":"1F64D","k":[33,30]},"flag-rs":{"a":"Serbia Flag","b":"1F1F7-1F1F8","k":[4,18]},"white_circle":{"a":"Medium White Circle","b":"26AA","j":["shape","round"],"k":[48,22],"o":4},"snowman_without_snow":{"a":"Snowman Without Snow","b":"26C4","k":[48,28],"o":5},"ru":{"a":"Russia Flag","b":"1F1F7-1F1FA","j":["russian","federation","flag","nation","country","banner"],"k":[4,19],"n":["flag-ru"]},"black_circle":{"a":"Medium Black Circle","b":"26AB","j":["shape","button","round"],"k":[48,23],"o":4},"flag-rw":{"a":"Rwanda Flag","b":"1F1F7-1F1FC","k":[4,20]},"person_with_pouting_face":{"skin_variations":{"1F3FB":{"unified":"1F64E-1F3FB","non_qualified":null,"image":"1f64e-1f3fb.png","sheet_x":33,"sheet_y":49,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F64E-1F3FC","non_qualified":null,"image":"1f64e-1f3fc.png","sheet_x":33,"sheet_y":50,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F64E-1F3FD","non_qualified":null,"image":"1f64e-1f3fd.png","sheet_x":33,"sheet_y":51,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F64E-1F3FE","non_qualified":null,"image":"1f64e-1f3fe.png","sheet_x":34,"sheet_y":0,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F64E-1F3FF","non_qualified":null,"image":"1f64e-1f3ff.png","sheet_x":34,"sheet_y":1,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F64E-200D-2640-FE0F","a":"Person with Pouting Face","b":"1F64E","k":[33,48]},"red_circle":{"a":"Large Red Circle","b":"1F534","j":["shape","error","danger"],"k":[28,2]},"large_blue_circle":{"a":"Large Blue Circle","b":"1F535","j":["shape","icon","button"],"k":[28,3]},"flag-sa":{"a":"Saudi Arabia Flag","b":"1F1F8-1F1E6","k":[4,21]},"fire":{"a":"Fire","b":"1F525","j":["hot","cook","flame"],"k":[27,39]},"flag-sb":{"a":"Solomon Islands Flag","b":"1F1F8-1F1E7","k":[4,22]},"droplet":{"a":"Droplet","b":"1F4A7","j":["water","drip","faucet","spring"],"k":[25,13]},"no_good":{"skin_variations":{"1F3FB":{"unified":"1F645-1F3FB","non_qualified":null,"image":"1f645-1f3fb.png","sheet_x":32,"sheet_y":2,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F645-1F3FC","non_qualified":null,"image":"1f645-1f3fc.png","sheet_x":32,"sheet_y":3,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F645-1F3FD","non_qualified":null,"image":"1f645-1f3fd.png","sheet_x":32,"sheet_y":4,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F645-1F3FE","non_qualified":null,"image":"1f645-1f3fe.png","sheet_x":32,"sheet_y":5,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F645-1F3FF","non_qualified":null,"image":"1f645-1f3ff.png","sheet_x":32,"sheet_y":6,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F645-200D-2640-FE0F","a":"Face with No Good Gesture","b":"1F645","k":[32,1]},"flag-sc":{"a":"Seychelles Flag","b":"1F1F8-1F1E8","k":[4,23]},"ocean":{"a":"Water Wave","b":"1F30A","j":["sea","water","wave","nature","tsunami","disaster"],"k":[6,2]},"flag-sd":{"a":"Sudan Flag","b":"1F1F8-1F1E9","k":[4,24]},"flag-se":{"a":"Sweden Flag","b":"1F1F8-1F1EA","k":[4,25]},"flag-sg":{"a":"Singapore Flag","b":"1F1F8-1F1EC","k":[4,26]},"ok_woman":{"skin_variations":{"1F3FB":{"unified":"1F646-1F3FB","non_qualified":null,"image":"1f646-1f3fb.png","sheet_x":32,"sheet_y":20,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F646-1F3FC","non_qualified":null,"image":"1f646-1f3fc.png","sheet_x":32,"sheet_y":21,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F646-1F3FD","non_qualified":null,"image":"1f646-1f3fd.png","sheet_x":32,"sheet_y":22,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F646-1F3FE","non_qualified":null,"image":"1f646-1f3fe.png","sheet_x":32,"sheet_y":23,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F646-1F3FF","non_qualified":null,"image":"1f646-1f3ff.png","sheet_x":32,"sheet_y":24,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F646-200D-2640-FE0F","a":"Face with Ok Gesture","b":"1F646","j":["women","girl","female","pink","human","woman"],"k":[32,19]},"flag-sh":{"a":"St. Helena Flag","b":"1F1F8-1F1ED","k":[4,27]},"flag-si":{"a":"Slovenia Flag","b":"1F1F8-1F1EE","k":[4,28]},"information_desk_person":{"skin_variations":{"1F3FB":{"unified":"1F481-1F3FB","non_qualified":null,"image":"1f481-1f3fb.png","sheet_x":23,"sheet_y":14,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F481-1F3FC","non_qualified":null,"image":"1f481-1f3fc.png","sheet_x":23,"sheet_y":15,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F481-1F3FD","non_qualified":null,"image":"1f481-1f3fd.png","sheet_x":23,"sheet_y":16,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F481-1F3FE","non_qualified":null,"image":"1f481-1f3fe.png","sheet_x":23,"sheet_y":17,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F481-1F3FF","non_qualified":null,"image":"1f481-1f3ff.png","sheet_x":23,"sheet_y":18,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F481-200D-2640-FE0F","a":"Information Desk Person","b":"1F481","k":[23,13]},"flag-sj":{"a":"Svalbard & Jan Mayen Flag","b":"1F1F8-1F1EF","k":[4,29]},"flag-sk":{"a":"Slovakia Flag","b":"1F1F8-1F1F0","k":[4,30]},"flag-sl":{"a":"Sierra Leone Flag","b":"1F1F8-1F1F1","k":[4,31]},"flag-sm":{"a":"San Marino Flag","b":"1F1F8-1F1F2","k":[4,32]},"raising_hand":{"skin_variations":{"1F3FB":{"unified":"1F64B-1F3FB","non_qualified":null,"image":"1f64b-1f3fb.png","sheet_x":33,"sheet_y":7,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F64B-1F3FC","non_qualified":null,"image":"1f64b-1f3fc.png","sheet_x":33,"sheet_y":8,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F64B-1F3FD","non_qualified":null,"image":"1f64b-1f3fd.png","sheet_x":33,"sheet_y":9,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F64B-1F3FE","non_qualified":null,"image":"1f64b-1f3fe.png","sheet_x":33,"sheet_y":10,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F64B-1F3FF","non_qualified":null,"image":"1f64b-1f3ff.png","sheet_x":33,"sheet_y":11,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F64B-200D-2640-FE0F","a":"Happy Person Raising One Hand","b":"1F64B","k":[33,6]},"flag-sn":{"a":"Senegal Flag","b":"1F1F8-1F1F3","k":[4,33]},"flag-so":{"a":"Somalia Flag","b":"1F1F8-1F1F4","k":[4,34]},"flag-sr":{"a":"Suriname Flag","b":"1F1F8-1F1F7","k":[4,35]},"bow":{"skin_variations":{"1F3FB":{"unified":"1F647-1F3FB","non_qualified":null,"image":"1f647-1f3fb.png","sheet_x":32,"sheet_y":38,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F647-1F3FC","non_qualified":null,"image":"1f647-1f3fc.png","sheet_x":32,"sheet_y":39,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F647-1F3FD","non_qualified":null,"image":"1f647-1f3fd.png","sheet_x":32,"sheet_y":40,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F647-1F3FE","non_qualified":null,"image":"1f647-1f3fe.png","sheet_x":32,"sheet_y":41,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F647-1F3FF","non_qualified":null,"image":"1f647-1f3ff.png","sheet_x":32,"sheet_y":42,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F647-200D-2642-FE0F","a":"Person Bowing Deeply","b":"1F647","k":[32,37]},"flag-ss":{"a":"South Sudan Flag","b":"1F1F8-1F1F8","k":[4,36]},"flag-st":{"a":"São Tomé & Príncipe Flag","b":"1F1F8-1F1F9","k":[4,37]},"flag-sv":{"a":"El Salvador Flag","b":"1F1F8-1F1FB","k":[4,38]},"flag-sx":{"a":"Sint Maarten Flag","b":"1F1F8-1F1FD","k":[4,39]},"flag-sy":{"a":"Syria Flag","b":"1F1F8-1F1FE","k":[4,40]},"flag-sz":{"a":"Swaziland Flag","b":"1F1F8-1F1FF","k":[4,41]},"flag-ta":{"a":"Tristan Da Cunha Flag","b":"1F1F9-1F1E6","k":[4,42]},"flag-tc":{"a":"Turks & Caicos Islands Flag","b":"1F1F9-1F1E8","k":[4,43]},"massage":{"skin_variations":{"1F3FB":{"unified":"1F486-1F3FB","non_qualified":null,"image":"1f486-1f3fb.png","sheet_x":24,"sheet_y":11,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F486-1F3FC","non_qualified":null,"image":"1f486-1f3fc.png","sheet_x":24,"sheet_y":12,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F486-1F3FD","non_qualified":null,"image":"1f486-1f3fd.png","sheet_x":24,"sheet_y":13,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F486-1F3FE","non_qualified":null,"image":"1f486-1f3fe.png","sheet_x":24,"sheet_y":14,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F486-1F3FF","non_qualified":null,"image":"1f486-1f3ff.png","sheet_x":24,"sheet_y":15,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F486-200D-2640-FE0F","a":"Face Massage","b":"1F486","k":[24,10]},"flag-td":{"a":"Chad Flag","b":"1F1F9-1F1E9","k":[4,44]},"flag-tf":{"a":"French Southern Territories Flag","b":"1F1F9-1F1EB","k":[4,45]},"flag-tg":{"a":"Togo Flag","b":"1F1F9-1F1EC","k":[4,46]},"haircut":{"skin_variations":{"1F3FB":{"unified":"1F487-1F3FB","non_qualified":null,"image":"1f487-1f3fb.png","sheet_x":24,"sheet_y":29,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F487-1F3FC","non_qualified":null,"image":"1f487-1f3fc.png","sheet_x":24,"sheet_y":30,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F487-1F3FD","non_qualified":null,"image":"1f487-1f3fd.png","sheet_x":24,"sheet_y":31,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F487-1F3FE","non_qualified":null,"image":"1f487-1f3fe.png","sheet_x":24,"sheet_y":32,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F487-1F3FF","non_qualified":null,"image":"1f487-1f3ff.png","sheet_x":24,"sheet_y":33,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F487-200D-2640-FE0F","a":"Haircut","b":"1F487","k":[24,28]},"flag-th":{"a":"Thailand Flag","b":"1F1F9-1F1ED","k":[4,47]},"flag-tj":{"a":"Tajikistan Flag","b":"1F1F9-1F1EF","k":[4,48]},"flag-tk":{"a":"Tokelau Flag","b":"1F1F9-1F1F0","k":[4,49]},"walking":{"skin_variations":{"1F3FB":{"unified":"1F6B6-1F3FB","non_qualified":null,"image":"1f6b6-1f3fb.png","sheet_x":36,"sheet_y":22,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F6B6-1F3FC","non_qualified":null,"image":"1f6b6-1f3fc.png","sheet_x":36,"sheet_y":23,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F6B6-1F3FD","non_qualified":null,"image":"1f6b6-1f3fd.png","sheet_x":36,"sheet_y":24,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F6B6-1F3FE","non_qualified":null,"image":"1f6b6-1f3fe.png","sheet_x":36,"sheet_y":25,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F6B6-1F3FF","non_qualified":null,"image":"1f6b6-1f3ff.png","sheet_x":36,"sheet_y":26,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F6B6-200D-2642-FE0F","a":"Pedestrian","b":"1F6B6","k":[36,21]},"flag-tl":{"a":"Timor-Leste Flag","b":"1F1F9-1F1F1","k":[4,50]},"flag-tm":{"a":"Turkmenistan Flag","b":"1F1F9-1F1F2","k":[4,51]},"flag-tn":{"a":"Tunisia Flag","b":"1F1F9-1F1F3","k":[5,0]},"runner":{"skin_variations":{"1F3FB":{"unified":"1F3C3-1F3FB","non_qualified":null,"image":"1f3c3-1f3fb.png","sheet_x":9,"sheet_y":47,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F3C3-1F3FC","non_qualified":null,"image":"1f3c3-1f3fc.png","sheet_x":9,"sheet_y":48,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F3C3-1F3FD","non_qualified":null,"image":"1f3c3-1f3fd.png","sheet_x":9,"sheet_y":49,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F3C3-1F3FE","non_qualified":null,"image":"1f3c3-1f3fe.png","sheet_x":9,"sheet_y":50,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F3C3-1F3FF","non_qualified":null,"image":"1f3c3-1f3ff.png","sheet_x":9,"sheet_y":51,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F3C3-200D-2642-FE0F","a":"Runner","b":"1F3C3","k":[9,46],"n":["running"]},"flag-to":{"a":"Tonga Flag","b":"1F1F9-1F1F4","k":[5,1]},"flag-tr":{"a":"Turkey Flag","b":"1F1F9-1F1F7","k":[5,2]},"flag-tt":{"a":"Trinidad & Tobago Flag","b":"1F1F9-1F1F9","k":[5,3]},"flag-tv":{"a":"Tuvalu Flag","b":"1F1F9-1F1FB","k":[5,4]},"dancer":{"skin_variations":{"1F3FB":{"unified":"1F483-1F3FB","non_qualified":null,"image":"1f483-1f3fb.png","sheet_x":23,"sheet_y":38,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F483-1F3FC","non_qualified":null,"image":"1f483-1f3fc.png","sheet_x":23,"sheet_y":39,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F483-1F3FD","non_qualified":null,"image":"1f483-1f3fd.png","sheet_x":23,"sheet_y":40,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F483-1F3FE","non_qualified":null,"image":"1f483-1f3fe.png","sheet_x":23,"sheet_y":41,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F483-1F3FF","non_qualified":null,"image":"1f483-1f3ff.png","sheet_x":23,"sheet_y":42,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Dancer","b":"1F483","j":["female","girl","woman","fun"],"k":[23,37]},"flag-tw":{"a":"Taiwan Flag","b":"1F1F9-1F1FC","k":[5,5]},"dancers":{"obsoleted_by":"1F46F-200D-2640-FE0F","a":"Woman with Bunny Ears","b":"1F46F","k":[21,1]},"flag-tz":{"a":"Tanzania Flag","b":"1F1F9-1F1FF","k":[5,6]},"flag-ua":{"a":"Ukraine Flag","b":"1F1FA-1F1E6","k":[5,7]},"flag-ug":{"a":"Uganda Flag","b":"1F1FA-1F1EC","k":[5,8]},"flag-um":{"a":"U.s. Outlying Islands Flag","b":"1F1FA-1F1F2","k":[5,9]},"us":{"a":"United States Flag","b":"1F1FA-1F1F8","j":["united","states","america","flag","nation","country","banner"],"k":[5,11],"n":["flag-us"]},"flag-uy":{"a":"Uruguay Flag","b":"1F1FA-1F1FE","k":[5,12]},"flag-uz":{"a":"Uzbekistan Flag","b":"1F1FA-1F1FF","k":[5,13]},"flag-va":{"a":"Vatican City Flag","b":"1F1FB-1F1E6","k":[5,14]},"flag-vc":{"a":"St. Vincent & Grenadines Flag","b":"1F1FB-1F1E8","k":[5,15]},"flag-ve":{"a":"Venezuela Flag","b":"1F1FB-1F1EA","k":[5,16]},"flag-vg":{"a":"British Virgin Islands Flag","b":"1F1FB-1F1EC","k":[5,17]},"flag-vi":{"a":"U.s. Virgin Islands Flag","b":"1F1FB-1F1EE","k":[5,18]},"bath":{"skin_variations":{"1F3FB":{"unified":"1F6C0-1F3FB","non_qualified":null,"image":"1f6c0-1f3fb.png","sheet_x":36,"sheet_y":37,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F6C0-1F3FC","non_qualified":null,"image":"1f6c0-1f3fc.png","sheet_x":36,"sheet_y":38,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F6C0-1F3FD","non_qualified":null,"image":"1f6c0-1f3fd.png","sheet_x":36,"sheet_y":39,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F6C0-1F3FE","non_qualified":null,"image":"1f6c0-1f3fe.png","sheet_x":36,"sheet_y":40,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F6C0-1F3FF","non_qualified":null,"image":"1f6c0-1f3ff.png","sheet_x":36,"sheet_y":41,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Bath","b":"1F6C0","j":["clean","shower","bathroom"],"k":[36,36]},"flag-vn":{"a":"Vietnam Flag","b":"1F1FB-1F1F3","k":[5,19]},"flag-vu":{"a":"Vanuatu Flag","b":"1F1FB-1F1FA","k":[5,20]},"flag-wf":{"a":"Wallis & Futuna Flag","b":"1F1FC-1F1EB","k":[5,21]},"bust_in_silhouette":{"a":"Bust in Silhouette","b":"1F464","j":["user","person","human"],"k":[15,40]},"flag-ws":{"a":"Samoa Flag","b":"1F1FC-1F1F8","k":[5,22]},"busts_in_silhouette":{"a":"Busts in Silhouette","b":"1F465","j":["user","person","human","group","team"],"k":[15,41]},"flag-xk":{"a":"Kosovo Flag","b":"1F1FD-1F1F0","k":[5,23]},"flag-ye":{"a":"Yemen Flag","b":"1F1FE-1F1EA","k":[5,24]},"flag-yt":{"a":"Mayotte Flag","b":"1F1FE-1F1F9","k":[5,25]},"horse_racing":{"skin_variations":{"1F3FB":{"unified":"1F3C7-1F3FB","non_qualified":null,"image":"1f3c7-1f3fb.png","sheet_x":10,"sheet_y":21,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F3C7-1F3FC","non_qualified":null,"image":"1f3c7-1f3fc.png","sheet_x":10,"sheet_y":22,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F3C7-1F3FD","non_qualified":null,"image":"1f3c7-1f3fd.png","sheet_x":10,"sheet_y":23,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F3C7-1F3FE","non_qualified":null,"image":"1f3c7-1f3fe.png","sheet_x":10,"sheet_y":24,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F3C7-1F3FF","non_qualified":null,"image":"1f3c7-1f3ff.png","sheet_x":10,"sheet_y":25,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Horse Racing","b":"1F3C7","j":["animal","betting","competition","gambling","luck"],"k":[10,20]},"flag-za":{"a":"South Africa Flag","b":"1F1FF-1F1E6","k":[5,26]},"flag-zm":{"a":"Zambia Flag","b":"1F1FF-1F1F2","k":[5,27]},"snowboarder":{"skin_variations":{"1F3FB":{"unified":"1F3C2-1F3FB","non_qualified":null,"image":"1f3c2-1f3fb.png","sheet_x":9,"sheet_y":29,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F3C2-1F3FC","non_qualified":null,"image":"1f3c2-1f3fc.png","sheet_x":9,"sheet_y":30,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F3C2-1F3FD","non_qualified":null,"image":"1f3c2-1f3fd.png","sheet_x":9,"sheet_y":31,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F3C2-1F3FE","non_qualified":null,"image":"1f3c2-1f3fe.png","sheet_x":9,"sheet_y":32,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F3C2-1F3FF","non_qualified":null,"image":"1f3c2-1f3ff.png","sheet_x":9,"sheet_y":33,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Snowboarder","b":"1F3C2","j":["sports","winter"],"k":[9,28]},"flag-zw":{"a":"Zimbabwe Flag","b":"1F1FF-1F1FC","k":[5,28]},"surfer":{"skin_variations":{"1F3FB":{"unified":"1F3C4-1F3FB","non_qualified":null,"image":"1f3c4-1f3fb.png","sheet_x":10,"sheet_y":13,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F3C4-1F3FC","non_qualified":null,"image":"1f3c4-1f3fc.png","sheet_x":10,"sheet_y":14,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F3C4-1F3FD","non_qualified":null,"image":"1f3c4-1f3fd.png","sheet_x":10,"sheet_y":15,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F3C4-1F3FE","non_qualified":null,"image":"1f3c4-1f3fe.png","sheet_x":10,"sheet_y":16,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F3C4-1F3FF","non_qualified":null,"image":"1f3c4-1f3ff.png","sheet_x":10,"sheet_y":17,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F3C4-200D-2642-FE0F","a":"Surfer","b":"1F3C4","k":[10,12]},"rowboat":{"skin_variations":{"1F3FB":{"unified":"1F6A3-1F3FB","non_qualified":null,"image":"1f6a3-1f3fb.png","sheet_x":35,"sheet_y":4,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":false},"1F3FC":{"unified":"1F6A3-1F3FC","non_qualified":null,"image":"1f6a3-1f3fc.png","sheet_x":35,"sheet_y":5,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":false},"1F3FD":{"unified":"1F6A3-1F3FD","non_qualified":null,"image":"1f6a3-1f3fd.png","sheet_x":35,"sheet_y":6,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":false},"1F3FE":{"unified":"1F6A3-1F3FE","non_qualified":null,"image":"1f6a3-1f3fe.png","sheet_x":35,"sheet_y":7,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":false},"1F3FF":{"unified":"1F6A3-1F3FF","non_qualified":null,"image":"1f6a3-1f3ff.png","sheet_x":35,"sheet_y":8,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":false}},"obsoleted_by":"1F6A3-200D-2642-FE0F","a":"Rowboat","b":"1F6A3","k":[35,3]},"swimmer":{"skin_variations":{"1F3FB":{"unified":"1F3CA-1F3FB","non_qualified":null,"image":"1f3ca-1f3fb.png","sheet_x":10,"sheet_y":41,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F3CA-1F3FC","non_qualified":null,"image":"1f3ca-1f3fc.png","sheet_x":10,"sheet_y":42,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F3CA-1F3FD","non_qualified":null,"image":"1f3ca-1f3fd.png","sheet_x":10,"sheet_y":43,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F3CA-1F3FE","non_qualified":null,"image":"1f3ca-1f3fe.png","sheet_x":10,"sheet_y":44,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F3CA-1F3FF","non_qualified":null,"image":"1f3ca-1f3ff.png","sheet_x":10,"sheet_y":45,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F3CA-200D-2642-FE0F","a":"Swimmer","b":"1F3CA","k":[10,40]},"bicyclist":{"skin_variations":{"1F3FB":{"unified":"1F6B4-1F3FB","non_qualified":null,"image":"1f6b4-1f3fb.png","sheet_x":35,"sheet_y":38,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F6B4-1F3FC","non_qualified":null,"image":"1f6b4-1f3fc.png","sheet_x":35,"sheet_y":39,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F6B4-1F3FD","non_qualified":null,"image":"1f6b4-1f3fd.png","sheet_x":35,"sheet_y":40,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F6B4-1F3FE","non_qualified":null,"image":"1f6b4-1f3fe.png","sheet_x":35,"sheet_y":41,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F6B4-1F3FF","non_qualified":null,"image":"1f6b4-1f3ff.png","sheet_x":35,"sheet_y":42,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F6B4-200D-2642-FE0F","a":"Bicyclist","b":"1F6B4","k":[35,37]},"mountain_bicyclist":{"skin_variations":{"1F3FB":{"unified":"1F6B5-1F3FB","non_qualified":null,"image":"1f6b5-1f3fb.png","sheet_x":36,"sheet_y":4,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FC":{"unified":"1F6B5-1F3FC","non_qualified":null,"image":"1f6b5-1f3fc.png","sheet_x":36,"sheet_y":5,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FD":{"unified":"1F6B5-1F3FD","non_qualified":null,"image":"1f6b5-1f3fd.png","sheet_x":36,"sheet_y":6,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FE":{"unified":"1F6B5-1F3FE","non_qualified":null,"image":"1f6b5-1f3fe.png","sheet_x":36,"sheet_y":7,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true},"1F3FF":{"unified":"1F6B5-1F3FF","non_qualified":null,"image":"1f6b5-1f3ff.png","sheet_x":36,"sheet_y":8,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":false,"has_img_messenger":true}},"obsoleted_by":"1F6B5-200D-2642-FE0F","a":"Mountain Bicyclist","b":"1F6B5","k":[36,3]},"couple":{"a":"Man and Woman Holding Hands","b":"1F46B","j":["pair","people","human","love","date","dating","like","affection","valentines","marriage"],"k":[20,30],"n":["man_and_woman_holding_hands"]},"two_men_holding_hands":{"a":"Two Men Holding Hands","b":"1F46C","j":["pair","couple","love","like","bromance","friendship","people","human"],"k":[20,31]},"two_women_holding_hands":{"a":"Two Women Holding Hands","b":"1F46D","j":["pair","friendship","couple","love","like","female","people","human"],"k":[20,32]},"couplekiss":{"obsoleted_by":"1F469-200D-2764-FE0F-200D-1F48B-200D-1F468","a":"Kiss","b":"1F48F","k":[24,41]},"man-kiss-man":{"a":"Man Kiss Man","b":"1F468-200D-2764-FE0F-200D-1F48B-200D-1F468","c":"1F468-200D-2764-200D-1F48B-200D-1F468","k":[18,10]},"woman-kiss-woman":{"a":"Woman Kiss Woman","b":"1F469-200D-2764-FE0F-200D-1F48B-200D-1F469","c":"1F469-200D-2764-200D-1F48B-200D-1F469","k":[20,22]},"couple_with_heart":{"obsoleted_by":"1F469-200D-2764-FE0F-200D-1F468","a":"Couple with Heart","b":"1F491","k":[24,43]},"man-heart-man":{"a":"Man Heart Man","b":"1F468-200D-2764-FE0F-200D-1F468","c":"1F468-200D-2764-200D-1F468","k":[18,9]},"woman-heart-woman":{"a":"Woman Heart Woman","b":"1F469-200D-2764-FE0F-200D-1F469","c":"1F469-200D-2764-200D-1F469","k":[20,20]},"family":{"obsoleted_by":"1F468-200D-1F469-200D-1F466","a":"Family","b":"1F46A","k":[20,29],"n":["man-woman-boy"]},"man-woman-boy":{"obsoletes":"1F46A","a":"Man Woman Boy","b":"1F468-200D-1F469-200D-1F466","k":[17,2],"n":["family"]},"man-woman-girl":{"a":"Man Woman Girl","b":"1F468-200D-1F469-200D-1F467","k":[17,4]},"man-woman-girl-boy":{"a":"Man Woman Girl Boy","b":"1F468-200D-1F469-200D-1F467-200D-1F466","k":[17,5]},"man-woman-boy-boy":{"a":"Man Woman Boy Boy","b":"1F468-200D-1F469-200D-1F466-200D-1F466","k":[17,3]},"man-woman-girl-girl":{"a":"Man Woman Girl Girl","b":"1F468-200D-1F469-200D-1F467-200D-1F467","k":[17,6]},"man-man-boy":{"a":"Man Man Boy","b":"1F468-200D-1F468-200D-1F466","k":[16,49]},"man-man-girl":{"a":"Man Man Girl","b":"1F468-200D-1F468-200D-1F467","k":[16,51]},"man-man-girl-boy":{"a":"Man Man Girl Boy","b":"1F468-200D-1F468-200D-1F467-200D-1F466","k":[17,0]},"man-man-boy-boy":{"a":"Man Man Boy Boy","b":"1F468-200D-1F468-200D-1F466-200D-1F466","k":[16,50]},"man-man-girl-girl":{"a":"Man Man Girl Girl","b":"1F468-200D-1F468-200D-1F467-200D-1F467","k":[17,1]},"woman-woman-boy":{"a":"Woman Woman Boy","b":"1F469-200D-1F469-200D-1F466","k":[19,12]},"woman-woman-girl":{"a":"Woman Woman Girl","b":"1F469-200D-1F469-200D-1F467","k":[19,14]},"woman-woman-girl-boy":{"a":"Woman Woman Girl Boy","b":"1F469-200D-1F469-200D-1F467-200D-1F466","k":[19,15]},"woman-woman-boy-boy":{"a":"Woman Woman Boy Boy","b":"1F469-200D-1F469-200D-1F466-200D-1F466","k":[19,13]},"woman-woman-girl-girl":{"a":"Woman Woman Girl Girl","b":"1F469-200D-1F469-200D-1F467-200D-1F467","k":[19,16]},"muscle":{"skin_variations":{"1F3FB":{"unified":"1F4AA-1F3FB","non_qualified":null,"image":"1f4aa-1f3fb.png","sheet_x":25,"sheet_y":17,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F4AA-1F3FC","non_qualified":null,"image":"1f4aa-1f3fc.png","sheet_x":25,"sheet_y":18,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F4AA-1F3FD","non_qualified":null,"image":"1f4aa-1f3fd.png","sheet_x":25,"sheet_y":19,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F4AA-1F3FE","non_qualified":null,"image":"1f4aa-1f3fe.png","sheet_x":25,"sheet_y":20,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F4AA-1F3FF","non_qualified":null,"image":"1f4aa-1f3ff.png","sheet_x":25,"sheet_y":21,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Flexed Biceps","b":"1F4AA","j":["arm","flex","hand","summer","strong","biceps"],"k":[25,16]},"point_left":{"skin_variations":{"1F3FB":{"unified":"1F448-1F3FB","non_qualified":null,"image":"1f448-1f3fb.png","sheet_x":14,"sheet_y":20,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F448-1F3FC","non_qualified":null,"image":"1f448-1f3fc.png","sheet_x":14,"sheet_y":21,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F448-1F3FD","non_qualified":null,"image":"1f448-1f3fd.png","sheet_x":14,"sheet_y":22,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F448-1F3FE","non_qualified":null,"image":"1f448-1f3fe.png","sheet_x":14,"sheet_y":23,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F448-1F3FF","non_qualified":null,"image":"1f448-1f3ff.png","sheet_x":14,"sheet_y":24,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"White Left Pointing Backhand Index","b":"1F448","j":["direction","fingers","hand","left"],"k":[14,19]},"point_right":{"skin_variations":{"1F3FB":{"unified":"1F449-1F3FB","non_qualified":null,"image":"1f449-1f3fb.png","sheet_x":14,"sheet_y":26,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F449-1F3FC","non_qualified":null,"image":"1f449-1f3fc.png","sheet_x":14,"sheet_y":27,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F449-1F3FD","non_qualified":null,"image":"1f449-1f3fd.png","sheet_x":14,"sheet_y":28,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F449-1F3FE","non_qualified":null,"image":"1f449-1f3fe.png","sheet_x":14,"sheet_y":29,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F449-1F3FF","non_qualified":null,"image":"1f449-1f3ff.png","sheet_x":14,"sheet_y":30,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"White Right Pointing Backhand Index","b":"1F449","j":["fingers","hand","direction","right"],"k":[14,25]},"point_up":{"skin_variations":{"1F3FB":{"unified":"261D-1F3FB","non_qualified":null,"image":"261d-1f3fb.png","sheet_x":47,"sheet_y":27,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"261D-1F3FC","non_qualified":null,"image":"261d-1f3fc.png","sheet_x":47,"sheet_y":28,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"261D-1F3FD","non_qualified":null,"image":"261d-1f3fd.png","sheet_x":47,"sheet_y":29,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"261D-1F3FE","non_qualified":null,"image":"261d-1f3fe.png","sheet_x":47,"sheet_y":30,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"261D-1F3FF","non_qualified":null,"image":"261d-1f3ff.png","sheet_x":47,"sheet_y":31,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"White Up Pointing Index","b":"261D-FE0F","c":"261D","j":["hand","fingers","direction","up"],"k":[47,26],"o":1},"point_up_2":{"skin_variations":{"1F3FB":{"unified":"1F446-1F3FB","non_qualified":null,"image":"1f446-1f3fb.png","sheet_x":14,"sheet_y":8,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F446-1F3FC","non_qualified":null,"image":"1f446-1f3fc.png","sheet_x":14,"sheet_y":9,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F446-1F3FD","non_qualified":null,"image":"1f446-1f3fd.png","sheet_x":14,"sheet_y":10,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F446-1F3FE","non_qualified":null,"image":"1f446-1f3fe.png","sheet_x":14,"sheet_y":11,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F446-1F3FF","non_qualified":null,"image":"1f446-1f3ff.png","sheet_x":14,"sheet_y":12,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"White Up Pointing Backhand Index","b":"1F446","j":["fingers","hand","direction","up"],"k":[14,7]},"point_down":{"skin_variations":{"1F3FB":{"unified":"1F447-1F3FB","non_qualified":null,"image":"1f447-1f3fb.png","sheet_x":14,"sheet_y":14,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F447-1F3FC","non_qualified":null,"image":"1f447-1f3fc.png","sheet_x":14,"sheet_y":15,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F447-1F3FD","non_qualified":null,"image":"1f447-1f3fd.png","sheet_x":14,"sheet_y":16,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F447-1F3FE","non_qualified":null,"image":"1f447-1f3fe.png","sheet_x":14,"sheet_y":17,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F447-1F3FF","non_qualified":null,"image":"1f447-1f3ff.png","sheet_x":14,"sheet_y":18,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"White Down Pointing Backhand Index","b":"1F447","j":["fingers","hand","direction","down"],"k":[14,13]},"v":{"skin_variations":{"1F3FB":{"unified":"270C-1F3FB","non_qualified":null,"image":"270c-1f3fb.png","sheet_x":49,"sheet_y":31,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"270C-1F3FC","non_qualified":null,"image":"270c-1f3fc.png","sheet_x":49,"sheet_y":32,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"270C-1F3FD","non_qualified":null,"image":"270c-1f3fd.png","sheet_x":49,"sheet_y":33,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"270C-1F3FE","non_qualified":null,"image":"270c-1f3fe.png","sheet_x":49,"sheet_y":34,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"270C-1F3FF","non_qualified":null,"image":"270c-1f3ff.png","sheet_x":49,"sheet_y":35,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Victory Hand","b":"270C-FE0F","c":"270C","j":["fingers","ohyeah","hand","peace","victory","two"],"k":[49,30],"o":1},"hand":{"skin_variations":{"1F3FB":{"unified":"270B-1F3FB","non_qualified":null,"image":"270b-1f3fb.png","sheet_x":49,"sheet_y":25,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"270B-1F3FC","non_qualified":null,"image":"270b-1f3fc.png","sheet_x":49,"sheet_y":26,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"270B-1F3FD","non_qualified":null,"image":"270b-1f3fd.png","sheet_x":49,"sheet_y":27,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"270B-1F3FE","non_qualified":null,"image":"270b-1f3fe.png","sheet_x":49,"sheet_y":28,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"270B-1F3FF","non_qualified":null,"image":"270b-1f3ff.png","sheet_x":49,"sheet_y":29,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Raised Hand","b":"270B","k":[49,24],"n":["raised_hand"]},"ok_hand":{"skin_variations":{"1F3FB":{"unified":"1F44C-1F3FB","non_qualified":null,"image":"1f44c-1f3fb.png","sheet_x":14,"sheet_y":44,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F44C-1F3FC","non_qualified":null,"image":"1f44c-1f3fc.png","sheet_x":14,"sheet_y":45,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F44C-1F3FD","non_qualified":null,"image":"1f44c-1f3fd.png","sheet_x":14,"sheet_y":46,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F44C-1F3FE","non_qualified":null,"image":"1f44c-1f3fe.png","sheet_x":14,"sheet_y":47,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F44C-1F3FF","non_qualified":null,"image":"1f44c-1f3ff.png","sheet_x":14,"sheet_y":48,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Ok Hand Sign","b":"1F44C","j":["fingers","limbs","perfect","ok","okay"],"k":[14,43]},"+1":{"skin_variations":{"1F3FB":{"unified":"1F44D-1F3FB","non_qualified":null,"image":"1f44d-1f3fb.png","sheet_x":14,"sheet_y":50,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F44D-1F3FC","non_qualified":null,"image":"1f44d-1f3fc.png","sheet_x":14,"sheet_y":51,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F44D-1F3FD","non_qualified":null,"image":"1f44d-1f3fd.png","sheet_x":15,"sheet_y":0,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F44D-1F3FE","non_qualified":null,"image":"1f44d-1f3fe.png","sheet_x":15,"sheet_y":1,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F44D-1F3FF","non_qualified":null,"image":"1f44d-1f3ff.png","sheet_x":15,"sheet_y":2,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Thumbs Up Sign","b":"1F44D","j":["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],"k":[14,49],"n":["thumbsup"]},"-1":{"skin_variations":{"1F3FB":{"unified":"1F44E-1F3FB","non_qualified":null,"image":"1f44e-1f3fb.png","sheet_x":15,"sheet_y":4,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F44E-1F3FC","non_qualified":null,"image":"1f44e-1f3fc.png","sheet_x":15,"sheet_y":5,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F44E-1F3FD","non_qualified":null,"image":"1f44e-1f3fd.png","sheet_x":15,"sheet_y":6,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F44E-1F3FE","non_qualified":null,"image":"1f44e-1f3fe.png","sheet_x":15,"sheet_y":7,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F44E-1F3FF","non_qualified":null,"image":"1f44e-1f3ff.png","sheet_x":15,"sheet_y":8,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Thumbs Down Sign","b":"1F44E","j":["thumbsdown","no","dislike","hand"],"k":[15,3],"n":["thumbsdown"]},"fist":{"skin_variations":{"1F3FB":{"unified":"270A-1F3FB","non_qualified":null,"image":"270a-1f3fb.png","sheet_x":49,"sheet_y":19,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"270A-1F3FC","non_qualified":null,"image":"270a-1f3fc.png","sheet_x":49,"sheet_y":20,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"270A-1F3FD","non_qualified":null,"image":"270a-1f3fd.png","sheet_x":49,"sheet_y":21,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"270A-1F3FE","non_qualified":null,"image":"270a-1f3fe.png","sheet_x":49,"sheet_y":22,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"270A-1F3FF","non_qualified":null,"image":"270a-1f3ff.png","sheet_x":49,"sheet_y":23,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Raised Fist","b":"270A","j":["fingers","hand","grasp"],"k":[49,18]},"facepunch":{"skin_variations":{"1F3FB":{"unified":"1F44A-1F3FB","non_qualified":null,"image":"1f44a-1f3fb.png","sheet_x":14,"sheet_y":32,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F44A-1F3FC","non_qualified":null,"image":"1f44a-1f3fc.png","sheet_x":14,"sheet_y":33,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F44A-1F3FD","non_qualified":null,"image":"1f44a-1f3fd.png","sheet_x":14,"sheet_y":34,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F44A-1F3FE","non_qualified":null,"image":"1f44a-1f3fe.png","sheet_x":14,"sheet_y":35,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F44A-1F3FF","non_qualified":null,"image":"1f44a-1f3ff.png","sheet_x":14,"sheet_y":36,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Fisted Hand Sign","b":"1F44A","j":["angry","violence","fist","hit","attack","hand"],"k":[14,31],"n":["punch"]},"wave":{"skin_variations":{"1F3FB":{"unified":"1F44B-1F3FB","non_qualified":null,"image":"1f44b-1f3fb.png","sheet_x":14,"sheet_y":38,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F44B-1F3FC","non_qualified":null,"image":"1f44b-1f3fc.png","sheet_x":14,"sheet_y":39,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F44B-1F3FD","non_qualified":null,"image":"1f44b-1f3fd.png","sheet_x":14,"sheet_y":40,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F44B-1F3FE","non_qualified":null,"image":"1f44b-1f3fe.png","sheet_x":14,"sheet_y":41,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F44B-1F3FF","non_qualified":null,"image":"1f44b-1f3ff.png","sheet_x":14,"sheet_y":42,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Waving Hand Sign","b":"1F44B","j":["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],"k":[14,37]},"clap":{"skin_variations":{"1F3FB":{"unified":"1F44F-1F3FB","non_qualified":null,"image":"1f44f-1f3fb.png","sheet_x":15,"sheet_y":10,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F44F-1F3FC","non_qualified":null,"image":"1f44f-1f3fc.png","sheet_x":15,"sheet_y":11,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F44F-1F3FD","non_qualified":null,"image":"1f44f-1f3fd.png","sheet_x":15,"sheet_y":12,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F44F-1F3FE","non_qualified":null,"image":"1f44f-1f3fe.png","sheet_x":15,"sheet_y":13,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F44F-1F3FF","non_qualified":null,"image":"1f44f-1f3ff.png","sheet_x":15,"sheet_y":14,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Clapping Hands Sign","b":"1F44F","j":["hands","praise","applause","congrats","yay"],"k":[15,9]},"open_hands":{"skin_variations":{"1F3FB":{"unified":"1F450-1F3FB","non_qualified":null,"image":"1f450-1f3fb.png","sheet_x":15,"sheet_y":16,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F450-1F3FC","non_qualified":null,"image":"1f450-1f3fc.png","sheet_x":15,"sheet_y":17,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F450-1F3FD","non_qualified":null,"image":"1f450-1f3fd.png","sheet_x":15,"sheet_y":18,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F450-1F3FE","non_qualified":null,"image":"1f450-1f3fe.png","sheet_x":15,"sheet_y":19,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F450-1F3FF","non_qualified":null,"image":"1f450-1f3ff.png","sheet_x":15,"sheet_y":20,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Open Hands Sign","b":"1F450","j":["fingers","butterfly","hands","open"],"k":[15,15]},"raised_hands":{"skin_variations":{"1F3FB":{"unified":"1F64C-1F3FB","non_qualified":null,"image":"1f64c-1f3fb.png","sheet_x":33,"sheet_y":13,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F64C-1F3FC","non_qualified":null,"image":"1f64c-1f3fc.png","sheet_x":33,"sheet_y":14,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F64C-1F3FD","non_qualified":null,"image":"1f64c-1f3fd.png","sheet_x":33,"sheet_y":15,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F64C-1F3FE","non_qualified":null,"image":"1f64c-1f3fe.png","sheet_x":33,"sheet_y":16,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F64C-1F3FF","non_qualified":null,"image":"1f64c-1f3ff.png","sheet_x":33,"sheet_y":17,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Person Raising Both Hands in Celebration","b":"1F64C","j":["gesture","hooray","yea","celebration","hands"],"k":[33,12]},"pray":{"skin_variations":{"1F3FB":{"unified":"1F64F-1F3FB","non_qualified":null,"image":"1f64f-1f3fb.png","sheet_x":34,"sheet_y":3,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F64F-1F3FC","non_qualified":null,"image":"1f64f-1f3fc.png","sheet_x":34,"sheet_y":4,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F64F-1F3FD","non_qualified":null,"image":"1f64f-1f3fd.png","sheet_x":34,"sheet_y":5,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F64F-1F3FE","non_qualified":null,"image":"1f64f-1f3fe.png","sheet_x":34,"sheet_y":6,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F64F-1F3FF","non_qualified":null,"image":"1f64f-1f3ff.png","sheet_x":34,"sheet_y":7,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Person with Folded Hands","b":"1F64F","j":["please","hope","wish","namaste","highfive"],"k":[34,2]},"nail_care":{"skin_variations":{"1F3FB":{"unified":"1F485-1F3FB","non_qualified":null,"image":"1f485-1f3fb.png","sheet_x":23,"sheet_y":45,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F485-1F3FC","non_qualified":null,"image":"1f485-1f3fc.png","sheet_x":23,"sheet_y":46,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F485-1F3FD","non_qualified":null,"image":"1f485-1f3fd.png","sheet_x":23,"sheet_y":47,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F485-1F3FE","non_qualified":null,"image":"1f485-1f3fe.png","sheet_x":23,"sheet_y":48,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F485-1F3FF","non_qualified":null,"image":"1f485-1f3ff.png","sheet_x":23,"sheet_y":49,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Nail Polish","b":"1F485","j":["beauty","manicure","finger","fashion","nail"],"k":[23,44]},"ear":{"skin_variations":{"1F3FB":{"unified":"1F442-1F3FB","non_qualified":null,"image":"1f442-1f3fb.png","sheet_x":13,"sheet_y":46,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F442-1F3FC","non_qualified":null,"image":"1f442-1f3fc.png","sheet_x":13,"sheet_y":47,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F442-1F3FD","non_qualified":null,"image":"1f442-1f3fd.png","sheet_x":13,"sheet_y":48,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F442-1F3FE","non_qualified":null,"image":"1f442-1f3fe.png","sheet_x":13,"sheet_y":49,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F442-1F3FF","non_qualified":null,"image":"1f442-1f3ff.png","sheet_x":13,"sheet_y":50,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Ear","b":"1F442","j":["face","hear","sound","listen"],"k":[13,45]},"nose":{"skin_variations":{"1F3FB":{"unified":"1F443-1F3FB","non_qualified":null,"image":"1f443-1f3fb.png","sheet_x":14,"sheet_y":0,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FC":{"unified":"1F443-1F3FC","non_qualified":null,"image":"1f443-1f3fc.png","sheet_x":14,"sheet_y":1,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FD":{"unified":"1F443-1F3FD","non_qualified":null,"image":"1f443-1f3fd.png","sheet_x":14,"sheet_y":2,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FE":{"unified":"1F443-1F3FE","non_qualified":null,"image":"1f443-1f3fe.png","sheet_x":14,"sheet_y":3,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true},"1F3FF":{"unified":"1F443-1F3FF","non_qualified":null,"image":"1f443-1f3ff.png","sheet_x":14,"sheet_y":4,"added_in":"8.0","has_img_apple":true,"has_img_google":true,"has_img_twitter":true,"has_img_emojione":true,"has_img_facebook":true,"has_img_messenger":true}},"a":"Nose","b":"1F443","j":["smell","sniff"],"k":[13,51]},"footprints":{"a":"Footprints","b":"1F463","j":["feet","tracking","walking","beach"],"k":[15,39]},"eyes":{"a":"Eyes","b":"1F440","j":["look","watch","stalk","peek","see"],"k":[13,42]},"tongue":{"a":"Tongue","b":"1F445","j":["mouth","playful"],"k":[14,6]},"lips":{"a":"Mouth","b":"1F444","j":["mouth","kiss"],"k":[14,5]},"kiss":{"a":"Kiss Mark","b":"1F48B","j":["face","lips","love","like","affection","valentines"],"k":[24,37]},"cupid":{"a":"Heart with Arrow","b":"1F498","j":["love","like","heart","affection","valentines"],"k":[24,50]},"heart":{"a":"Heavy Black Heart","b":"2764-FE0F","c":"2764","j":["love","like","valentines"],"k":[50,8],"l":["<3"],"m":"<3","o":1},"heartbeat":{"a":"Beating Heart","b":"1F493","j":["love","like","affection","valentines","pink","heart"],"k":[24,45]},"broken_heart":{"a":"Broken Heart","b":"1F494","j":["sad","sorry","break","heart","heartbreak"],"k":[24,46],"l":["</3"],"m":"</3"},"two_hearts":{"a":"Two Hearts","b":"1F495","j":["love","like","affection","valentines","heart"],"k":[24,47]},"sparkling_heart":{"a":"Sparkling Heart","b":"1F496","j":["love","like","affection","valentines"],"k":[24,48]},"heartpulse":{"a":"Growing Heart","b":"1F497","j":["like","love","affection","valentines","pink"],"k":[24,49]},"blue_heart":{"a":"Blue Heart","b":"1F499","j":["love","like","affection","valentines"],"k":[24,51],"m":"<3"},"green_heart":{"a":"Green Heart","b":"1F49A","j":["love","like","affection","valentines"],"k":[25,0],"m":"<3"},"yellow_heart":{"a":"Yellow Heart","b":"1F49B","j":["love","like","affection","valentines"],"k":[25,1],"m":"<3"},"purple_heart":{"a":"Purple Heart","b":"1F49C","j":["love","like","affection","valentines"],"k":[25,2],"m":"<3"},"gift_heart":{"a":"Heart with Ribbon","b":"1F49D","j":["love","valentines"],"k":[25,3]},"revolving_hearts":{"a":"Revolving Hearts","b":"1F49E","j":["love","like","affection","valentines"],"k":[25,4]},"heart_decoration":{"a":"Heart Decoration","b":"1F49F","j":["purple-square","love","like"],"k":[25,5]},"love_letter":{"a":"Love Letter","b":"1F48C","j":["email","like","affection","envelope","valentines"],"k":[24,38]},"zzz":{"a":"Sleeping Symbol","b":"1F4A4","j":["sleepy","tired","dream"],"k":[25,10]},"anger":{"a":"Anger Symbol","b":"1F4A2","j":["angry","mad"],"k":[25,8]},"bomb":{"a":"Bomb","b":"1F4A3","j":["boom","explode","explosion","terrorism"],"k":[25,9]},"boom":{"a":"Collision Symbol","b":"1F4A5","j":["bomb","explode","explosion","collision","blown"],"k":[25,11],"n":["collision"]},"sweat_drops":{"a":"Splashing Sweat Symbol","b":"1F4A6","j":["water","drip","oops"],"k":[25,12]},"dash":{"a":"Dash Symbol","b":"1F4A8","j":["wind","air","fast","shoo","fart","smoke","puff"],"k":[25,14]},"dizzy":{"a":"Dizzy Symbol","b":"1F4AB","j":["star","sparkle","shoot","magic"],"k":[25,22]},"speech_balloon":{"a":"Speech Balloon","b":"1F4AC","j":["bubble","words","message","talk","chatting"],"k":[25,23]},"thought_balloon":{"a":"Thought Balloon","b":"1F4AD","j":["bubble","cloud","speech","thinking","dream"],"k":[25,24]},"eyeglasses":{"a":"Eyeglasses","b":"1F453","j":["fashion","accessories","eyesight","nerdy","dork","geek"],"k":[15,23]},"necktie":{"a":"Necktie","b":"1F454","j":["shirt","suitup","formal","fashion","cloth","business"],"k":[15,24]},"shirt":{"a":"T-Shirt","b":"1F455","k":[15,25],"n":["tshirt"]},"jeans":{"a":"Jeans","b":"1F456","j":["fashion","shopping"],"k":[15,26]},"dress":{"a":"Dress","b":"1F457","j":["clothes","fashion","shopping"],"k":[15,27]},"kimono":{"a":"Kimono","b":"1F458","j":["dress","fashion","women","female","japanese"],"k":[15,28]},"bikini":{"a":"Bikini","b":"1F459","j":["swimming","female","woman","girl","fashion","beach","summer"],"k":[15,29]},"womans_clothes":{"a":"Womans Clothes","b":"1F45A","j":["fashion","shopping_bags","female"],"k":[15,30]},"purse":{"a":"Purse","b":"1F45B","j":["fashion","accessories","money","sales","shopping"],"k":[15,31]},"handbag":{"a":"Handbag","b":"1F45C","j":["fashion","accessory","accessories","shopping"],"k":[15,32]},"pouch":{"a":"Pouch","b":"1F45D","j":["bag","accessories","shopping"],"k":[15,33]},"school_satchel":{"a":"School Satchel","b":"1F392","j":["student","education","bag","backpack"],"k":[8,37]},"mans_shoe":{"a":"Mans Shoe","b":"1F45E","j":["fashion","male"],"k":[15,34],"n":["shoe"]},"athletic_shoe":{"a":"Athletic Shoe","b":"1F45F","j":["shoes","sports","sneakers"],"k":[15,35]},"high_heel":{"a":"High-Heeled Shoe","b":"1F460","j":["fashion","shoes","female","pumps","stiletto"],"k":[15,36]},"sandal":{"a":"Womans Sandal","b":"1F461","j":["shoes","fashion","flip flops"],"k":[15,37]},"boot":{"a":"Womans Boots","b":"1F462","j":["shoes","fashion"],"k":[15,38]},"crown":{"a":"Crown","b":"1F451","j":["king","kod","leader","royalty","lord"],"k":[15,21]},"womans_hat":{"a":"Womans Hat","b":"1F452","j":["fashion","accessories","female","lady","spring"],"k":[15,22]},"tophat":{"a":"Top Hat","b":"1F3A9","j":["magic","gentleman","classy","circus"],"k":[9,3]},"mortar_board":{"a":"Graduation Cap","b":"1F393","j":["school","college","degree","university","graduation","cap","hat","legal","learn","education"],"k":[8,38]},"lipstick":{"a":"Lipstick","b":"1F484","j":["female","girl","fashion","woman"],"k":[23,43]},"ring":{"a":"Ring","b":"1F48D","j":["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],"k":[24,39]},"gem":{"a":"Gem Stone","b":"1F48E","j":["blue","ruby","diamond","jewelry"],"k":[24,40]}},"aliases":{"satisfied":"laughing","telephone":"phone","cooking":"fried_egg","paw_prints":"feet","flag-cn":"cn","lantern":"izakaya_lantern","open_book":"book","flag-de":"de","flipper":"dolphin","flag-es":"es","flag-fr":"fr","honeybee":"bee","red_car":"car","envelope":"email","uk":"gb","flag-gb":"gb","poop":"hankey","shit":"hankey","knife":"hocho","sailboat":"boat","pencil":"memo","flag-it":"it","flag-jp":"jp","heavy_exclamation_mark":"exclamation","flag-kr":"kr","waxing_gibbous_moon":"moon","flag-ru":"ru","running":"runner","flag-us":"us","man_and_woman_holding_hands":"couple","man-woman-boy":"family","family":"man-woman-boy","raised_hand":"hand","thumbsup":"+1","thumbsdown":"-1","punch":"facepunch","collision":"boom","tshirt":"shirt","shoe":"mans_shoe"}}');var YB=__webpack_require__(7670),$B=__webpack_require__.n(YB);const KB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};__webpack_require__(4389);const GB={activity:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})),custom:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("g",{transform:"translate(2.000000, 1.000000)"},h.createElement("rect",{id:"Rectangle",x:"8",y:"0",width:"3",height:"21",rx:"1.5"}),h.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"}),h.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"}))),flags:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})),foods:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})),nature:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),h.createElement("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})),objects:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),h.createElement("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})),people:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),h.createElement("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})),places:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),h.createElement("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})),recent:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),h.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})),symbols:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},h.createElement("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"}))},XB={search:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},h.createElement("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})),delete:()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},h.createElement("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"}))};var QB=__webpack_require__(3239),JB=__webpack_require__.n(QB),eV="emoji-mart",tV="undefined"!=typeof window&&"localStorage"in window;let nV,iV;function rV(e,t){if(iV)iV(e,t);else{if(!tV)return;try{window.localStorage[`${eV}.${e}`]=JB()(t)}catch(e){}}}const aV={update:function(e){for(let t in e){rV(t,e[t])}},set:rV,get:function(e){if(nV)return nV(e);if(tV)try{var t=window.localStorage[`${eV}.${e}`];if(t)return JSON.parse(t)}catch(e){return}},setNamespace:function(e){eV=e},setHandlers:function(e){e||(e={}),nV=e.getter,iV=e.setter}},oV=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"];let sV,lV,cV={};function uV(){lV=!0,sV=aV.get("frequently")}const dV={add:function(e){lV||uV();var{id:t}=e;sV||(sV=cV),sV[t]||(sV[t]=0),sV[t]+=1,aV.set("last",t),aV.set("frequently",sV)},get:function(e){if(lV||uV(),!sV){cV={};const t=[];for(let n=0;n<e;n++)cV[oV[n]]=e-n,t.push(oV[n]);return t}const t=4*e,n=[];for(let e in sV)sV.hasOwnProperty(e)&&n.push(e);const i=n.sort(((e,t)=>sV[e]-sV[t])).reverse(),r=i.slice(0,t),a=aV.get("last");return a&&-1==r.indexOf(a)&&(r.pop(),r.push(a)),r}};var hV=Object.prototype.hasOwnProperty,pV=!{toString:null}.propertyIsEnumerable("toString"),fV=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],mV=fV.length;const gV={name:"a",unified:"b",non_qualified:"c",has_img_apple:"d",has_img_google:"e",has_img_twitter:"f",has_img_emojione:"g",has_img_facebook:"h",has_img_messenger:"i",keywords:"j",sheet:"k",emoticons:"l",text:"m",short_names:"n",added_in:"o"},vV=e=>{const t=[];var n=(e,n)=>{e&&(Array.isArray(e)?e:[e]).forEach((e=>{(n?e.split(/[-|_|\s]+/):[e]).forEach((e=>{e=e.toLowerCase(),-1==t.indexOf(e)&&t.push(e)}))}))};return n(e.short_names,!0),n(e.name,!0),n(e.keywords,!1),n(e.emoticons,!1),t.join(",")},yV=e=>{e.compressed=!1;for(let t in e.emojis){let n=e.emojis[t];for(let e in gV)n[e]=n[gV[e]],delete n[gV[e]];n.short_names||(n.short_names=[]),n.short_names.unshift(t),n.sheet_x=n.sheet[0],n.sheet_y=n.sheet[1],delete n.sheet,n.text||(n.text=""),n.added_in||(n.added_in=6),n.added_in=n.added_in.toFixed(1),n.search=vV(n)}},bV=String.fromCodePoint||function(){var e,t,n=16384,i=[],r=-1,a=arguments.length;if(!a)return"";for(var o="";++r<a;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||s>1114111||Math.floor(s)!=s)throw RangeError("Invalid code point: "+s);s<=65535?i.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,i.push(e,t)),(r+1===a||i.length>n)&&(o+=String.fromCharCode.apply(null,i),i.length=0)}return o},_V=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/,wV=["1F3FA","1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"];function kV(e){var t=e.split("-").map((e=>`0x${e}`));return bV.apply(null,t)}function xV(e){var{name:t,short_names:n,skin_tone:i,skin_variations:r,emoticons:a,unified:o,custom:s,customCategory:l,imageUrl:c}=e,u=e.id||n[0],d=`:${u}:`;return s?{id:u,name:t,short_names:n,colons:d,emoticons:a,custom:s,customCategory:l,imageUrl:c}:(i&&(d+=`:skin-tone-${i}:`),{id:u,name:t,short_names:n,colons:d,emoticons:a,unified:o.toLowerCase(),skin:i||(r?1:null),native:kV(o)})}function EV(){return xV(CV(...arguments))}function CV(e,t,n,i){var r={};if("string"==typeof e){let n=e.match(_V);if(n&&(e=n[1],n[2]&&(t=parseInt(n[2],10))),i.aliases.hasOwnProperty(e)&&(e=i.aliases[e]),!i.emojis.hasOwnProperty(e))return null;r=i.emojis[e]}else e.id&&(i.aliases.hasOwnProperty(e.id)&&(e.id=i.aliases[e.id]),i.emojis.hasOwnProperty(e.id)&&(r=i.emojis[e.id],t||(t=e.skin)));if(function(e){if("function"!=typeof e&&("object"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,n,i=[];for(t in e)hV.call(e,t)&&i.push(t);if(pV)for(n=0;n<mV;n++)hV.call(e,fV[n])&&i.push(fV[n]);return i}(r).length||((r=e).custom=!0,r.search||(r.search=vV(e))),r.emoticons||(r.emoticons=[]),r.variations||(r.variations=[]),r.skin_variations&&t>1){r=JSON.parse(JB()(r));var a=wV[t-1],o=r.skin_variations[a];if(!o.variations&&r.variations&&delete r.variations,n&&(null==o[`has_img_${n}`]||o[`has_img_${n}`])||!n){r.skin_tone=t;for(let e in o){let t=o[e];r[e]=t}}}return r.variations&&r.variations.length&&((r=JSON.parse(JB()(r))).unified=r.variations.shift()),r}function SV(e){return e.reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),[])}function TV(e,t){const n=SV(e),i=SV(t);return n.filter((e=>i.indexOf(e)>=0))}function DV(e,t){var n={};for(let i in e){let r=e[i],a=r;t.hasOwnProperty(i)&&(a=t[i]),"object"==typeof a&&(a=DV(r,a)),n[i]=a}return n}const FV={data:PE().object.isRequired,onOver:PE().func,onLeave:PE().func,onClick:PE().func,fallback:PE().func,backgroundImageFn:PE().func,native:PE().bool,forceSize:PE().bool,tooltip:PE().bool,skin:PE().oneOf([1,2,3,4,5,6]),sheetSize:PE().oneOf([16,20,32,64]),sheetColumns:PE().number,sheetRows:PE().number,set:PE().oneOf(["apple","google","twitter","emojione","messenger","facebook"]),size:PE().number.isRequired,emoji:PE().oneOfType([PE().string,PE().object]).isRequired},MV={onClick:PE().func,onSelect:PE().func,onSkinChange:PE().func,perLine:PE().number,emojiSize:PE().number,i18n:PE().object,style:PE().object,title:PE().string,emoji:PE().string,color:PE().string,set:FV.set,skin:FV.skin,native:PE().bool,backgroundImageFn:FV.backgroundImageFn,sheetSize:FV.sheetSize,emojisToShowFilter:PE().func,showPreview:PE().bool,showSkinTones:PE().bool,emojiTooltip:FV.tooltip,include:PE().arrayOf(PE().string),exclude:PE().arrayOf(PE().string),recent:PE().arrayOf(PE().string),autoFocus:PE().bool,custom:PE().arrayOf(PE().shape({name:PE().string.isRequired,short_names:PE().arrayOf(PE().string).isRequired,emoticons:PE().arrayOf(PE().string),keywords:PE().arrayOf(PE().string),imageUrl:PE().string,spriteUrl:PE().string,sheet_x:PE().number,sheet_y:PE().number,size:PE().number,sheetColumns:PE().number,sheetRows:PE().number})),skinEmoji:PE().string,notFound:PE().func,notFoundEmoji:PE().string,icons:PE().object};class AV extends h.PureComponent{constructor(e){super(e);let t=e.categories.filter((e=>e.first))[0];this.state={selected:t.name},this.handleClick=this.handleClick.bind(this)}handleClick(e){var t=e.currentTarget.getAttribute("data-index"),{categories:n,onAnchorClick:i}=this.props;i(n[t],t)}render(){var{categories:e,color:t,i18n:n,icons:i}=this.props,{selected:r}=this.state;return h.createElement("nav",{className:"emoji-mart-anchors","aria-label":n.categorieslabel},e.map(((e,a)=>{var{id:o,name:s,anchor:l}=e,c=s==r;if(!1===l)return null;const u=o.startsWith("custom-")?"custom":o;return h.createElement("button",{key:o,"aria-label":n.categories[o],title:n.categories[o],"data-index":a,type:"button",onClick:this.handleClick,className:"emoji-mart-anchor "+(c?"emoji-mart-anchor-selected":""),style:{color:c?t:null}},h.createElement("div",{className:"emoji-mart-anchor-icon"},i.categories[u]()),h.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:t}}))})))}}AV.propTypes={categories:PE().array,onAnchorClick:PE().func,icons:PE().object},AV.defaultProps={categories:[],onAnchorClick:()=>{},icons:{}};const IV={skin:1,set:"apple",sheetSize:64,sheetColumns:52,sheetRows:52,native:!1,forceSize:!1,tooltip:!1,backgroundImageFn:(e,t)=>`https://unpkg.com/emoji-datasource-${e}@4.0.4/img/${e}/sheets-256/${t}.png`},OV={onClick:()=>{},onSelect:()=>{},onSkinChange:()=>{},emojiSize:24,perLine:9,i18n:{},style:{},title:"Emoji Mart™",emoji:"department_store",color:"#ae65c5",set:IV.set,skin:null,defaultSkin:IV.skin,native:IV.native,sheetSize:IV.sheetSize,backgroundImageFn:IV.backgroundImageFn,emojisToShowFilter:null,showPreview:!0,showSkinTones:!0,darkMode:!("function"!=typeof matchMedia||!matchMedia("(prefers-color-scheme: dark)").matches),emojiTooltip:IV.tooltip,autoFocus:!1,custom:[],skinEmoji:"",notFound:()=>{},notFoundEmoji:"sleuth_or_spy",icons:{}},NV=e=>{var{emoji:t,skin:n,set:i,data:r}=e;return CV(t,n,i,r)},PV=e=>{var{sheet_x:t,sheet_y:n}=NV(e);return`${100/(e.sheetColumns-1)*t}% ${100/(e.sheetRows-1)*n}%`},RV=e=>{var{emoji:t,skin:n,set:i,data:r}=e;return EV(t,n,i,r)},jV=e=>!isNaN(e-parseFloat(e)),LV=e=>{e.data.compressed&&yV(e.data);for(let t in LV.defaultProps)null==e[t]&&null!=LV.defaultProps[t]&&(e[t]=LV.defaultProps[t]);let t=NV(e);if(!t)return e.fallback?e.fallback(null,e):null;let{unified:n,custom:i,short_names:r,imageUrl:a}=t,o={},s=e.children,l="emoji-mart-emoji",c=n&&kV(n),u=[c].concat(r).filter(Boolean).join(", "),d=null;if(!n&&!i)return e.fallback?e.fallback(t,e):null;if(e.tooltip&&(d=r[0]),e.native&&n)l+=" emoji-mart-emoji-native",o={fontSize:e.size},s=c,e.forceSize&&(o.display="inline-block",o.width=e.size,o.height=e.size,o.wordBreak="keep-all");else if(i)l+=" emoji-mart-emoji-custom",o={width:e.size,height:e.size,display:"inline-block"},o=t.spriteUrl?KB({},o,{backgroundImage:`url(${t.spriteUrl})`,backgroundSize:`${100*e.sheetColumns}% ${100*e.sheetRows}%`,backgroundPosition:PV(e)}):KB({},o,{backgroundImage:`url(${a})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"});else{if(!(null==t[`has_img_${e.set}`]||t[`has_img_${e.set}`]))return e.fallback?e.fallback(t,e):null;o={width:e.size,height:e.size,display:"inline-block",backgroundImage:`url(${e.backgroundImageFn(e.set,e.sheetSize)})`,backgroundSize:`${100*e.sheetColumns}% ${100*e.sheetRows}%`,backgroundPosition:PV(e)}}var p={name:"span",props:{}};return e.onClick&&(p.name="button",p.props={type:"button"}),e.html?(o=(e=>{let t=document.createElement("div");for(let n in e){let i=e[n];jV(i)&&(i+="px"),t.style[n]=i}return t.getAttribute("style")})(o),`<${p.name} style='${o}' aria-label='${u}' ${d?`title='${d}'`:""} class='${l}'>${s||""}</${p.name}>`):h.createElement(p.name,KB({onClick:t=>((e,t)=>{if(t.onClick){var{onClick:n}=t;n(RV(t),e)}})(t,e),onMouseEnter:t=>((e,t)=>{if(t.onOver){var{onOver:n}=t;n(RV(t),e)}})(t,e),onMouseLeave:t=>((e,t)=>{if(t.onLeave){var{onLeave:n}=t;n(RV(t),e)}})(t,e),"aria-label":u,title:d,className:l},p.props),h.createElement("span",{style:o},s))};LV.propTypes=KB({},FV,{data:PE().object.isRequired}),LV.defaultProps=IV;const qV=LV;class ZV extends h.PureComponent{render(){const{data:e,emojiProps:t,i18n:n,notFound:i,notFoundEmoji:r}=this.props;return i&&i()||h.createElement("div",{className:"emoji-mart-no-results"},qV(KB({data:e},t,{size:38,emoji:r,onOver:null,onLeave:null,onClick:null})),h.createElement("div",{className:"emoji-mart-no-results-label"},n.notfound))}}ZV.propTypes={notFound:PE().func.isRequired,emojiProps:PE().object.isRequired};class BV extends h.Component{constructor(e){super(e),this.data=e.data,this.setContainerRef=this.setContainerRef.bind(this),this.setLabelRef=this.setLabelRef.bind(this)}componentDidMount(){this.margin=0,this.minMargin=0,this.memoizeSize()}shouldComponentUpdate(e,t){var{name:n,perLine:i,native:r,hasStickyPosition:a,emojis:o,emojiProps:s}=this.props,{skin:l,size:c,set:u}=s,{perLine:d,native:h,hasStickyPosition:p,emojis:f,emojiProps:m}=e,{skin:g,size:v,set:y}=m,b=!1;return"Recent"==n&&i!=d&&(b=!0),"Search"==n&&(b=!(o==f)),l==g&&c==v&&r==h&&u==y&&a==p||(b=!0),b}memoizeSize(){if(!this.container)return this.top=0,void(this.maxMargin=0);var e=this.container.parentElement,{top:t,height:n}=this.container.getBoundingClientRect(),{top:i}=e.getBoundingClientRect(),{height:r}=this.label.getBoundingClientRect();this.top=t-i+e.scrollTop,this.maxMargin=0==n?0:n-r}handleScroll(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin)return this.props.hasStickyPosition||(this.label.style.top=`${t}px`),this.margin=t,!0}getEmojis(){var{name:e,emojis:t,recent:n,perLine:i}=this.props;if("Recent"==e){let{custom:e}=this.props,r=n||dV.get(i);if(r.length&&(t=r.map((t=>{const n=e.filter((e=>e.id===t))[0];return n||t})).filter((e=>!!CV(e,null,null,this.data)))),0===t.length&&r.length>0)return null}return t&&(t=t.slice(0)),t}updateDisplay(e){this.getEmojis()&&this.container&&(this.container.style.display=e)}setContainerRef(e){this.container=e}setLabelRef(e){this.label=e}render(){var{id:e,name:t,hasStickyPosition:n,emojiProps:i,i18n:r,notFound:a,notFoundEmoji:o}=this.props,s=this.getEmojis(),l={},c={},u={};s||(u={display:"none"}),n||(l={height:28},c={position:"absolute"});const d=r.categories[e]||t;return h.createElement("section",{ref:this.setContainerRef,className:"emoji-mart-category","aria-label":d,style:u},h.createElement("div",{style:l,"data-name":t,className:"emoji-mart-category-label"},h.createElement("span",{style:c,ref:this.setLabelRef,"aria-hidden":!0},d)),h.createElement("ul",{className:"emoji-mart-category-list"},s&&s.map((e=>h.createElement("li",{key:e.short_names&&e.short_names.join("_")||e},qV(KB({emoji:e,data:this.data},i)))))),s&&!s.length&&h.createElement(ZV,{i18n:r,notFound:a,notFoundEmoji:o,data:this.data,emojiProps:i}))}}BV.propTypes={emojis:PE().array,hasStickyPosition:PE().bool,name:PE().string.isRequired,native:PE().bool.isRequired,perLine:PE().number.isRequired,emojiProps:PE().object.isRequired,recent:PE().arrayOf(PE().string),notFound:PE().func,notFoundEmoji:PE().string.isRequired},BV.defaultProps={emojis:[],hasStickyPosition:!0};class VV extends h.PureComponent{constructor(e){super(e),this.state={opened:!1}}handleClick(e){var t=parseInt(e.currentTarget.getAttribute("data-skin")),{onChange:n}=this.props;this.state.opened?(this.setState({opened:!1}),t!=this.props.skin&&n(t)):this.setState({opened:!0})}render(){return null}}VV.propTypes={onChange:PE().func,skin:PE().number.isRequired},VV.defaultProps={onChange:()=>{}};class zV extends VV{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}render(){const{skin:e,emojiProps:t,data:n,skinEmoji:i,i18n:r}=this.props,{opened:a}=this.state,o=[];for(let r=1;r<=6;r++){const a=r===e;o.push(h.createElement("span",{key:`skin-tone-${r}`,className:"emoji-mart-skin-swatch custom"+(a?" selected":"")},h.createElement("span",{onClick:this.handleClick,"data-skin":r,className:`emoji-mart-skin-tone-${r}`},qV({emoji:i,data:n,skin:r,backgroundImageFn:t.backgroundImageFn,native:t.native,set:t.set,sheetSize:t.sheetSize,size:23}))))}return h.createElement("div",{className:"emoji-mart-skin-swatches custom"+(a?" opened":"")},h.createElement("div",{className:"emoji-mart-skin-text"+(a?" opened":"")},r.skintext),o)}}zV.propTypes={onChange:PE().func,skin:PE().number.isRequired,emojiProps:PE().object.isRequired,skinTone:PE().number,skinEmoji:PE().string.isRequired,i18n:PE().object},zV.defaultProps={onChange:()=>{},skinTone:null};class UV extends VV{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){13!==e.keyCode&&32!==e.keyCode||this.handleClick(e)}render(){const{skin:e,i18n:t}=this.props,{opened:n}=this.state,i=[];for(let r=1;r<=6;r++){const a=r===e,o=n||a;i.push(h.createElement("span",KB({key:`skin-tone-${r}`,className:"emoji-mart-skin-swatch"+(a?" selected":""),"aria-label":t.skintones[r],"aria-hidden":!o},n?{role:"menuitem"}:{}),h.createElement("span",KB({onClick:this.handleClick,onKeyDown:this.handleKeyDown,role:"button"},a?{"aria-haspopup":!0,"aria-expanded":!!n}:{},n?{"aria-pressed":!!a}:{},{tabIndex:o?"0":"","aria-label":t.skintones[r],title:t.skintones[r],"data-skin":r,className:`emoji-mart-skin emoji-mart-skin-tone-${r}`}))))}return h.createElement("section",{className:"emoji-mart-skin-swatches"+(n?" opened":""),"aria-label":t.skintext},h.createElement("div",n?{role:"menubar"}:{},i))}}UV.propTypes={onChange:PE().func,skin:PE().number.isRequired,i18n:PE().object},UV.defaultProps={onChange:()=>{}};class WV extends h.PureComponent{constructor(e){super(e),this.data=e.data,this.state={emoji:null}}render(){var{emoji:e}=this.state,{emojiProps:t,skinsProps:n,showSkinTones:i,title:r,emoji:a,i18n:o,showPreview:s}=this.props;if(e&&s){var l=CV(e,null,null,this.data),{emoticons:c=[]}=l,u=[],d=[];return c.forEach((e=>{u.indexOf(e.toLowerCase())>=0||(u.push(e.toLowerCase()),d.push(e))})),h.createElement("div",{className:"emoji-mart-preview"},h.createElement("div",{className:"emoji-mart-preview-emoji","aria-hidden":"true"},qV(KB({key:e.id,emoji:e,data:this.data},t))),h.createElement("div",{className:"emoji-mart-preview-data","aria-hidden":"true"},h.createElement("div",{className:"emoji-mart-preview-name"},e.name),h.createElement("div",{className:"emoji-mart-preview-shortnames"},l.short_names.map((e=>h.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")))),h.createElement("div",{className:"emoji-mart-preview-emoticons"},d.map((e=>h.createElement("span",{key:e,className:"emoji-mart-preview-emoticon"},e))))))}return h.createElement("div",{className:"emoji-mart-preview"},h.createElement("div",{className:"emoji-mart-preview-emoji","aria-hidden":"true"},a&&a.length&&qV(KB({emoji:a,data:this.data},t))),h.createElement("div",{className:"emoji-mart-preview-data","aria-hidden":"true"},h.createElement("span",{className:"emoji-mart-title-label"},r)),i&&h.createElement("div",{className:"emoji-mart-preview-skins"+(n.skinEmoji?" custom":"")},n.skinEmoji?h.createElement(zV,{skin:n.skin,emojiProps:t,data:this.data,skinEmoji:n.skinEmoji,i18n:o,onChange:n.onChange}):h.createElement(UV,{skin:n.skin,i18n:o,onChange:n.onChange})))}}WV.propTypes={showSkinTones:PE().bool,title:PE().string.isRequired,emoji:PE().string.isRequired,emojiProps:PE().object.isRequired,skinsProps:PE().object.isRequired},WV.defaultProps={showSkinTones:!0,onChange:()=>{}};class HV{constructor(e,t){e.compressed&&yV(e),this.data=e||{},this.set=t||null,this.originalPool={},this.index={},this.emojis={},this.emoticons={},this.customEmojisList=[],this.buildIndex()}buildIndex(){for(let e in this.data.emojis){let t=this.data.emojis[e],{short_names:n,emoticons:i,skin_variations:r}=t,a=n[0];if(i&&i.forEach((e=>{this.emoticons[e]||(this.emoticons[e]=a)})),r){this.emojis[a]={};for(let e=1;e<=6;e++)this.emojis[a][e]=EV({id:a,skin:e},e,this.set,this.data)}else this.emojis[a]=EV(a,null,this.set,this.data);this.originalPool[a]=t}}clearCustomEmojis(e){this.customEmojisList.forEach((t=>{let n=t.id||t.short_names[0];delete e[n],delete this.emojis[n]}))}addCustomToPool(e,t){this.customEmojisList.length&&this.clearCustomEmojis(t),e.forEach((e=>{let n=e.id||e.short_names[0];n&&!t[n]&&(t[n]=CV(e,null,null,this.data),this.emojis[n]=EV(e,null,null,this.data))})),this.customEmojisList=e,this.index={}}search(e,{emojisToShowFilter:t,maxResults:n,include:i,exclude:r,custom:a=[]}={}){this.customEmojisList!=a&&this.addCustomToPool(a,this.originalPool);const o=aV.get("skin")||1;n||(n=75),i||(i=[]),r||(r=[]);var s=null,l=this.originalPool;if(e.length){if("-"==e||"-1"==e)return[this.emojis[-1][o]];var c,u=e.toLowerCase().split(/[\s|,|\-|_]+/);if(u.length>2&&(u=[u[0],u[1]]),(i.length||r.length)&&(l={},this.data.categories.forEach((e=>{let t=!i||!i.length||i.indexOf(e.id)>-1,n=!(!r||!r.length)&&r.indexOf(e.id)>-1;t&&!n&&e.emojis.forEach((e=>l[e]=this.data.emojis[e]))})),a.length)){let e=!i||!i.length||i.indexOf("custom")>-1,t=!(!r||!r.length)&&r.indexOf("custom")>-1;e&&!t&&this.addCustomToPool(a,l)}c=u.map((e=>{var t=l,n=this.index,i=0;for(let r=0;r<e.length;r++){const a=e[r];if(i++,n[a]||(n[a]={}),!(n=n[a]).results){let r={};n.results=[],n.pool={};for(let a in t){let s=t[a],{search:l}=s,c=e.substr(0,i),u=l.indexOf(c);if(-1!=u){let e=u+1;c==a&&(e=0),this.emojis[a]&&this.emojis[a][o]?n.results.push(this.emojis[a][o]):n.results.push(this.emojis[a]),n.pool[a]=s,r[a]=e}}n.results.sort(((e,t)=>{var n=r[e.id],i=r[t.id];return n==i?e.id.localeCompare(t.id):n-i}))}t=n.pool}return n.results})).filter((e=>e)),s=c.length>1?TV.apply(null,c):c.length?c[0]:[]}return s&&(t&&(s=s.filter((e=>t(l[e.id])))),s&&s.length>n&&(s=s.slice(0,n))),s}}let YV=0;class $V extends h.PureComponent{constructor(e){super(e),this.state={icon:XB.search,isSearching:!1,id:++YV},this.data=e.data,this.emojiIndex=new HV(this.data),this.setRef=this.setRef.bind(this),this.clear=this.clear.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleChange=function(e){const t="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;let n=!1;return function(){n||(n=!0,t((()=>{n=!1,e()})))}}(this.handleChange.bind(this))}componentDidMount(){this.input&&this.input.value&&this.search(this.input.value)}search(e){""==e?this.setState({icon:XB.search,isSearching:!1}):this.setState({icon:XB.delete,isSearching:!0}),this.props.onSearch(this.emojiIndex.search(e,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude,custom:this.props.custom}))}clear(){""!=this.input.value&&(this.input.value="",this.input.focus(),this.search(""))}handleChange(){this.search(this.input.value)}handleKeyUp(e){13===e.keyCode&&this.clear()}setRef(e){this.input=e}render(){const{i18n:e,autoFocus:t}=this.props,{icon:n,isSearching:i,id:r}=this.state,a=`emoji-mart-search-${r}`;return h.createElement("section",{className:"emoji-mart-search","aria-label":e.search},h.createElement("input",{id:a,ref:this.setRef,type:"search",onChange:this.handleChange,placeholder:e.search,autoFocus:t}),h.createElement("label",{className:"emoji-mart-sr-only",htmlFor:a},e.search),h.createElement("button",{className:"emoji-mart-search-icon",onClick:this.clear,onKeyUp:this.handleKeyUp,"aria-label":e.clear,disabled:!i},n()))}}$V.propTypes={onSearch:PE().func,maxResults:PE().number,emojisToShowFilter:PE().func,autoFocus:PE().bool},$V.defaultProps={onSearch:()=>{},maxResults:75,emojisToShowFilter:null,autoFocus:!1};const KV={search:"Search",clear:"Clear",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}};class GV extends h.PureComponent{constructor(e){super(e),this.CUSTOM=[],this.RECENT_CATEGORY={id:"recent",name:"Recent",emojis:null},this.SEARCH_CATEGORY={id:"search",name:"Search",emojis:null,anchor:!1},e.data.compressed&&yV(e.data),this.data=e.data,this.i18n=DV(KV,e.i18n),this.icons=DV(t,e.icons),this.state={skin:e.skin||aV.get("skin")||e.defaultSkin,firstRender:!0},this.categories=[];let n=[].concat(this.data.categories);if(e.custom.length>0){const t={};let i=0;e.custom.forEach((e=>{t[e.customCategory]||(t[e.customCategory]={id:e.customCategory?`custom-${e.customCategory}`:"custom",name:e.customCategory||"Custom",emojis:[],anchor:0===i},i++);const n=t[e.customCategory],r=KB({},e,{id:e.short_names[0],custom:!0});n.emojis.push(r),this.CUSTOM.push(r)})),n.push(...$B()(t))}this.hideRecent=!0,null!=e.include&&n.sort(((t,n)=>e.include.indexOf(t.id)>e.include.indexOf(n.id)?1:-1));for(let t=0;t<n.length;t++){const i=n[t];let r=!e.include||!e.include.length||e.include.indexOf(i.id)>-1,a=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(i.id)>-1;if(r&&!a)if(e.emojisToShowFilter){let t=[];const{emojis:n}=i;for(let i=0;i<n.length;i++){const r=n[i];e.emojisToShowFilter(this.data.emojis[r]||r)&&t.push(r)}if(t.length){let e={emojis:t,name:i.name,id:i.id};this.categories.push(e)}}else this.categories.push(i)}let i=!e.include||!e.include.length||e.include.indexOf(this.RECENT_CATEGORY.id)>-1,r=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(this.RECENT_CATEGORY.id)>-1;i&&!r&&(this.hideRecent=!1,this.categories.unshift(this.RECENT_CATEGORY)),this.categories[0]&&(this.categories[0].first=!0),this.categories.unshift(this.SEARCH_CATEGORY),this.setAnchorsRef=this.setAnchorsRef.bind(this),this.handleAnchorClick=this.handleAnchorClick.bind(this),this.setSearchRef=this.setSearchRef.bind(this),this.handleSearch=this.handleSearch.bind(this),this.setScrollRef=this.setScrollRef.bind(this),this.handleScroll=this.handleScroll.bind(this),this.handleScrollPaint=this.handleScrollPaint.bind(this),this.handleEmojiOver=this.handleEmojiOver.bind(this),this.handleEmojiLeave=this.handleEmojiLeave.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleEmojiSelect=this.handleEmojiSelect.bind(this),this.setPreviewRef=this.setPreviewRef.bind(this),this.handleSkinChange=this.handleSkinChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e,t){return e.skin?KB({},t,{skin:e.skin}):e.defaultSkin&&!aV.get("skin")?KB({},t,{skin:e.defaultSkin}):t}componentDidMount(){this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout((()=>{this.setState({firstRender:!1})}),60))}componentDidUpdate(){this.updateCategoriesSize(),this.handleScroll()}componentWillUnmount(){this.SEARCH_CATEGORY.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}testStickyPosition(){const e=document.createElement("div");["","-webkit-","-ms-","-moz-","-o-"].forEach((t=>e.style.position=`${t}sticky`)),this.hasStickyPosition=!!e.style.position.length}handleEmojiOver(e){var{preview:t}=this;if(!t)return;const n=this.CUSTOM.filter((t=>t.id===e.id))[0];for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);t.setState({emoji:e}),clearTimeout(this.leaveTimeout)}handleEmojiLeave(e){var{preview:t}=this;t&&(this.leaveTimeout=setTimeout((()=>{t.setState({emoji:null})}),16))}handleEmojiClick(e,t){this.props.onClick(e,t),this.handleEmojiSelect(e)}handleEmojiSelect(e){this.props.onSelect(e),this.hideRecent||this.props.recent||dV.add(e);var t=this.categoryRefs["category-1"];if(t){let e=t.maxMargin;t.forceUpdate(),window.requestAnimationFrame((()=>{this.scroll&&(t.memoizeSize(),e!=t.maxMargin&&(this.updateCategoriesSize(),this.handleScrollPaint(),this.SEARCH_CATEGORY.emojis&&t.updateDisplay("none")))}))}}handleScroll(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint))}handleScrollPaint(){if(this.waitingForPaint=!1,!this.scroll)return;let e=null;if(this.SEARCH_CATEGORY.emojis)e=this.SEARCH_CATEGORY;else{var t=this.scroll.scrollTop,n=t>(this.scrollTop||0),i=0;for(let r=0,a=this.categories.length;r<a;r++){let a=n?this.categories.length-1-r:r,o=this.categories[a],s=this.categoryRefs[`category-${a}`];if(s){let n=s.handleScroll(t);(!i||s.top<i)&&s.top>0&&(i=s.top),n&&!e&&(e=o)}}t<i?e=this.categories.filter((e=>!(!1===e.anchor)))[0]:t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){let{anchors:t}=this,{name:n}=e;t.state.selected!=n&&t.setState({selected:n})}this.scrollTop=t}handleSearch(e){this.SEARCH_CATEGORY.emojis=e;for(let t=0,n=this.categories.length;t<n;t++){let n=this.categoryRefs[`category-${t}`];if(n&&"Search"!=n.props.name){let t=e?"none":"inherit";n.updateDisplay(t)}}this.forceUpdate(),this.scroll&&(this.scroll.scrollTop=0),this.handleScroll()}handleAnchorClick(e,t){var n,i=this.categoryRefs[`category-${t}`],{scroll:r,anchors:a}=this;n=()=>{if(i){let{top:t}=i;e.first?t=0:t+=1,r.scrollTop=t}},this.SEARCH_CATEGORY.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(n)):n()}handleSkinChange(e){var t={skin:e},{onSkinChange:n}=this.props;this.setState(t),aV.update(t),n(e)}handleKeyDown(e){let t=!1;if(13===e.keyCode){let e;this.SEARCH_CATEGORY.emojis&&this.SEARCH_CATEGORY.emojis.length&&(e=EV(this.SEARCH_CATEGORY.emojis[0],this.state.skin,this.props.set,this.props.data))&&(this.handleEmojiSelect(e),t=!0)}t&&e.preventDefault()}updateCategoriesSize(){for(let e=0,t=this.categories.length;e<t;e++){let t=this.categoryRefs[`category-${e}`];t&&t.memoizeSize()}if(this.scroll){let e=this.scroll;this.scrollHeight=e.scrollHeight,this.clientHeight=e.clientHeight}}getCategories(){return this.state.firstRender?this.categories.slice(0,3):this.categories}setAnchorsRef(e){this.anchors=e}setSearchRef(e){this.search=e}setPreviewRef(e){this.preview=e}setScrollRef(e){this.scroll=e}setCategoryRef(e,t){this.categoryRefs||(this.categoryRefs={}),this.categoryRefs[e]=t}render(){var{perLine:e,emojiSize:t,set:n,sheetSize:i,sheetColumns:r,sheetRows:a,style:o,title:s,emoji:l,color:c,native:u,backgroundImageFn:d,emojisToShowFilter:p,showPreview:f,showSkinTones:m,emojiTooltip:g,include:v,exclude:y,recent:b,autoFocus:_,skinEmoji:w,notFound:k,notFoundEmoji:x,darkMode:E}=this.props,{skin:C}=this.state,S=e*(t+12)+12+2+function(){if("undefined"==typeof document)return 0;const e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();return h.createElement("section",{style:KB({width:S},o),className:"emoji-mart "+(E?"emoji-mart-dark":""),"aria-label":s,onKeyDown:this.handleKeyDown},h.createElement("div",{className:"emoji-mart-bar"},h.createElement(AV,{ref:this.setAnchorsRef,data:this.data,i18n:this.i18n,color:c,categories:this.categories,onAnchorClick:this.handleAnchorClick,icons:this.icons})),h.createElement($V,{ref:this.setSearchRef,onSearch:this.handleSearch,data:this.data,i18n:this.i18n,emojisToShowFilter:p,include:v,exclude:y,custom:this.CUSTOM,autoFocus:_}),h.createElement("div",{ref:this.setScrollRef,className:"emoji-mart-scroll",onScroll:this.handleScroll},this.getCategories().map(((o,s)=>h.createElement(BV,{ref:this.setCategoryRef.bind(this,`category-${s}`),key:o.name,id:o.id,name:o.name,emojis:o.emojis,perLine:e,native:u,hasStickyPosition:this.hasStickyPosition,data:this.data,i18n:this.i18n,recent:o.id==this.RECENT_CATEGORY.id?b:void 0,custom:o.id==this.RECENT_CATEGORY.id?this.CUSTOM:void 0,emojiProps:{native:u,skin:C,size:t,set:n,sheetSize:i,sheetColumns:r,sheetRows:a,forceSize:u,tooltip:g,backgroundImageFn:d,onOver:this.handleEmojiOver,onLeave:this.handleEmojiLeave,onClick:this.handleEmojiClick},notFound:k,notFoundEmoji:x})))),(f||m)&&h.createElement("div",{className:"emoji-mart-bar"},h.createElement(WV,{ref:this.setPreviewRef,data:this.data,title:s,emoji:l,showSkinTones:m,showPreview:f,emojiProps:{native:u,size:38,skin:C,set:n,sheetSize:i,sheetColumns:r,sheetRows:a,backgroundImageFn:d},skinsProps:{skin:C,onChange:this.handleSkinChange,skinEmoji:w},i18n:this.i18n})))}}GV.propTypes=KB({},MV,{data:PE().object.isRequired}),GV.defaultProps=KB({},OV);var XV=__webpack_require__(809),QV=__webpack_require__.n(XV);const JV=we.Z.keyMirror(["UPDATE","UPDATE_SETTING","ADD_KEYWORD_SEARCH_RANK","TRACK_TAG_REC"],"UPLOAD_COMPANION"),ez=()=>{ht("boosted video",{_identify:{location:(0,be.Z)(),add:{"boosted count":1},set:{"date last boosted":(new Date).toISOString()}}})},tz={stores:{},id(e){return this.stores[e]?this.stores[e]:this.create(e)},create(e){e||(e=we.Z.prettyRandomId());const t=new ds.Z("UploadCompanionStore["+e+"]",{_data:{tagRecsAdded:[],videoId:null,channelId:null,permitted:(0,ve.h)().featurePermitted("uploadAndEdit"),optimized:(0,ve.h)().userTypeIs("enterprise"),optimError:null,keywords:[],keywordRanks:{},desc:cW.getUserDesc(e),title:cW.getUserTitle(e),query:[],country:o.ZP.hottersearch.country,language:o.ZP.hottersearch.language,hotSearch:{},weightClass:null,topKeywords:[],recTitle:[],recDesc:[],loading:!1,origLang:cW.getOriginalLang(e),transLang:cW.getTranslationLang(e),settings:ye.Z.getItem("upload_settings")||{},seoScore:null,seoScoreData:null,autocomplete:null,autocompleteScores:null,autocompleteQuery:null,bestTimeToPost:{},fetchingBestTimeToPost:!1,bestTimeToPostError:null,timePublished:null,privacy:null,persisted:{privacy:null,title:null,desc:null,keywords:[]}},getTopKeywords:e=>e.hotSearch?L().chain(e.hotSearch.search_stats.compvol).each(((e,t)=>{L().extend(e,{keyword:t})})).sortBy((e=>-e.overall)).slice(0,5).value():[],getSuggested:(e,t)=>L().filter(e,(e=>{const n=e.keyword.split(" ");return L().some(n,(e=>t.toLowerCase().indexOf(e.toLowerCase())<0))}))}),n={charCount:!0,kwIns:!0,clearKws:!0,copyKws:!0,dragDrop:!0,translate:!0,companion:!0,emojiMenu:!0,seoScore:!0,templates:!0,autocomplete:!0,bestTimeToPost:!0},i=L().keys(n),r=L().keys(t.data.settings),a=L().difference(i,r);if(L().isEmpty(t.data.settings))ye.Z.setItem("upload_settings",n),t.data.settings=n;else if(a.length){const e=L().extend({},t.data.settings);L().each(a,(t=>{e[t]=n[t]})),ye.Z.setItem("upload_settings",e),t.data.settings=e}return this.stores[e]=t,this.stores[e]}};tz.dispatchToken=ko.Z.register((e=>{if(!e.id)return;const t=tz.stores[e.id],n=JV;if(t)switch(e.action){case n.UPDATE_SETTING:t.data.settings[e.key]=e.value,ye.Z.setItem("upload_settings",t.data.settings),"emojiMenu"===e.key&&r()(window).trigger("emoji-menu-toggle"),t.emitChange();break;case n.UPDATE:L().extend(t.data,e.payload),!e.payload.tagRecsAdded&&e.payload.keywords&&(t.data.tagRecsAdded=t.data.tagRecsAdded.filter((t=>e.payload.keywords.indexOf(t)>=0))),t.emitChange();break;case n.ADD_KEYWORD_SEARCH_RANK:t.data.keywordRanks[e.keyword]=e.rank,t.emitChange();break;case n.TRACK_TAG_REC:t.data.tagRecsAdded.push(e.keyword)}}));const nz=tz;async function iz(e){const{json:t,response:n}=await P.Z.expanded("vidiq.youtubeDataProxy",{type:"videos",params:{part:"snippet",id:e}});if(!n.ok)return(0,ke.Z)('(vidiq) Error in "fetchTimePublished":',n.status,n.statusText),null;try{const e=t.items[0].snippet.publishedAt;return new Date(e).getTime()}catch(e){return(0,ke.Z)('(vidiq) Error in "fetchTimePublished" while parsing json:',e),null}}async function rz(e){const t={data:{},error:null},n=(0,ve.h)().getChannelToken(e);if(!n)return t.error="unauthed",t;try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone,i=await function(e,t){return P.Z.expanded("vidiq.getHistograms",{token:e,timezone:t}).then((({json:e,response:t})=>{if(!t.ok||!e||!Object.keys(e).length)throw(0,ke.Z)("(vidiq) Error in fetchHistograms: unable to get JSON: ",t.status),new Error(t.status);return e}))}(n,e),r=function(e){const t=e.histograms.activity,n={overall:[]};return["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(((e,i)=>{const r=t[i];let a=0;for(let t=0;t<r.length;t+=3){const i=r[t]+r[t+1]+r[t+2];n.overall[a]||(n.overall[a]=0),n.overall[a]+=i,n[e]||(n[e]=[]),n[e].push(i),a+=1}})),n}(i);t.data=r}catch(e){t.error="unknown"}return t}const az={update(e,t){(t=this._getAdjustedPayload(e,t))&&ko.Z.dispatch({id:e,payload:t,action:JV.UPDATE})},updateSetting(e,t,n){ko.Z.dispatch({id:e,key:t,value:n,action:JV.UPDATE_SETTING})},addKeywordSearchRank(e,t,n){ko.Z.dispatch({id:e,keyword:t,rank:n,action:JV.ADD_KEYWORD_SEARCH_RANK})},fetchHotSearch(e,t){let n;return!!t.channelId&&(!!(t.permitted&&t.optimized||L().isEmpty(t.hotSearch))&&(t.permitted&&t.optimized?t.permitted&&t.optimized&&(n=t.keywords):n=t.keywords[0],!!n&&P.Z.ok("vidiq.hottersearch",{query:n,cid:t.channelId}).then((({json:t})=>{jL.fromResponse(t);let n=null;(0,ve.h)().featurePermitted("weightClass")&&(n=t.weight_class),this.update(e,{hotSearch:t,weightClass:n,loading:!1})}))))},fetchAutocompleteScores:yo()(((e,t)=>{P.Z.ok("vidiq.hottersearch",{skipRecs:!0,query:t}).then((({json:t})=>{az.update(e,{autocompleteScores:t.search_stats.compvol})}))}),300),fetchAutocompleteSuggestions(e,t){if(!t||!t.length)return;const n=Eo();(0,P.Z)("google.suggestQueries",{query:t,languageCode:n}).then((n=>{this.update(e,{autocomplete:n,autocompleteQuery:t});(0,ve.h)().featurePermitted("tagAutocomplete")&&this.fetchAutocompleteScores(e,n[1])}))},setInitOptimStatus(e){const t=nz.id(e);if(!t)return;const n=t.getData();n.videoId&&!n.optimized&&(this.update(e,{loading:!0}),(0,P.Z)("vidiq.getVideoOptimStatus",{vid:n.videoId}).then((t=>{this.update(e,{optimized:t[n.videoId]})})).finally((()=>{this.update(e,{loading:!1})})))},enableOptim(e){const t=nz.id(e);t&&(this.update(e,{loading:!0}),(0,ve.h)().enableVideoOptim(t.getData().videoId).then((t=>{const n={loading:!1,optimError:null};t&&t.ok?(n.optimized=!0,ez()):n.optimError=L().compact([t.status,t.statusText]).join(" "),this.update(e,n)})))},async fetchBestTimeToPost(e){az.update(e,{fetchingBestTimeToPost:!0});const t=await(0,_e.Z)(),n=nz.id(e).getData(),i=await rz(t),r=await iz(n.videoId);az.update(e,{fetchingBestTimeToPost:!1,bestTimeToPost:i.data,bestTimeToPostError:i.error,timePublished:r})},_getAdjustedPayload(e,t){t=L().extend({},t);const n=nz.id(e);if(!n)return;const i=n.getData(),r=L().extend({},i,t);t.query=So._getQuery(r);const a=i.optimized!==r.optimized,o=!L().isEqual(i.keywords,r.keywords),s=i.country!==r.country,l=i.language!==r.language,c=!L().isEqual(i.hotSearch,r.hotSearch),u=i.title!==r.title,d=i.desc!==r.desc,h=i.channelId!==r.channelId;if((a||o||s||l||h)&&this.fetchHotSearch(e,r)&&(t.loading=!0),c)t.topKeywords=n.getTopKeywords(r),t.recTitle=n.getSuggested(t.topKeywords,r.title),t.recDesc=n.getSuggested(t.topKeywords,r.desc);else{const e=r.topKeywords;u&&(t.recTitle=n.getSuggested(e,r.title)),d&&(t.recDesc=n.getSuggested(e,r.desc))}return t},trackTagRec(e,t){ko.Z.dispatch({id:e,keyword:t,action:JV.TRACK_TAG_REC})},clearAddedTagRecs(e){this.update(e,{tagRecsAdded:[]})}},oz=az,sz=Oo()({displayName:"KeywordScore",render(){const e=this.props.compvol,t=we.Z.precision(e.overall,1);if(!t)return null;const n=pL.tooltip(e,this.props.weightClass);return h.createElement("span",{className:"keyword-text","data-tip-message":n},h.createElement("b",{className:"score inserted","data-value":e.overall},t))}}),lz=(e,t)=>{ht("added vidiq auto-completed keyword",{"initial keyword":e,"completed keyword":t,via:lt()})},cz=Oo()({displayName:"UploadTagAutocomplete",getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},onClickSuggestion(e){lz(this.state.store.autocompleteQuery,e),cW.addKeyword(e,this.props.id)},suggestionScore(e){const t=this.state.store.autocompleteScores;if(!t)return null;const n=t[e];return n?h.createElement(sz,{compvol:n}):null},suggestionList(e,t){return e||(t=L().first(t,5)),L().map(t,(e=>h.createElement("li",{className:"vidiq-suggestion",key:e,onClick:()=>{this.onClickSuggestion(e)}},h.createElement("span",{className:"suggestion-text"},e),this.suggestionScore(e))))},upgrade(e,t){if(e)return null;t=L().last(t,5);const n=L().map(t,(e=>h.createElement("li",{className:"vidiq-suggestion",key:e},e))),i=h.createElement("ul",{className:"vidiq-suggestion-list-fuzzy"},n);return h.createElement("div",{className:"vidiq-upgrade"},i,h.createElement("div",{className:"upgrade-part"},h.createElement("div",{className:"call-to-action"},(0,ai.Z)("seeAllResults")),h.createElement(xs,{TagAutocomplete:!0,targetPlan:"pro",text:(0,ai.Z)("getVidiqPro")})))},footer(e){if(!e)return null;const t=chrome.runtime.getURL("images/vidiq_dark.svg"),n=h.createElement("div",null,(0,ai.Z)("poweredBy")," ",h.createElement("img",{src:t,alt:""}));return h.createElement("li",{className:"vidiq-suggestions-footer"},n)},render(){if(!this.state.store.settings.autocomplete)return null;const e=this.state.store.autocomplete,t=e?e[1]:null;if(!t||!t.length)return null;const n=(0,ve.h)().featurePermitted("tagAutocomplete"),i={left:this.props.position.left.toString()+"px"};return h.createElement("div",{className:"vidiq-suggestion-list-container",style:i},h.createElement("ul",{className:"vidiq-suggestion-list"},this.suggestionList(n,t),this.footer(n)),this.upgrade(n,t))}}),uz=cz;function dz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class hz{constructor(e={parent:"body"}){dz(this,"_defaultConfig",void 0),dz(this,"config",void 0),dz(this,"forceCloseTimeout",void 0),dz(this,"tf",void 0),dz(this,"timeout",void 0),dz(this,"tip",void 0),this._defaultConfig=e||{},this.config=L().extend({},e),this.bind(),this.timeout=null,this.tip=this.getTipEl(),this.tf=!1,this.forceCloseTimeout=null}bind(){const e=r()(this.config.parent),t=this.config.namespace||"vidiqtt",n=this;r()("body").off("."+t),e.off("."+t);const i=L().bind(this.tipHide,this);let a;e.on("mouseenter."+t,"[data-tip-message]",(function(t){n.tipShow(t,this.getAttribute("data-tip-message")),a=new MutationObserver((e=>{for(const t of e)t.removedNodes.forEach((e=>{e.contains(this)&&(a.disconnect(),i())}))})),a.observe(e.get()[0],{childList:!0,subtree:!0})})),e.on("mouseleave."+t,"[data-tip-message]",(function(){a.disconnect(),i()})),r()("body").on("mousemove."+t,(e=>{if("follow"!==this.config.position||!e.pageX||!e.pageY)return;this.tip.css({top:e.pageY-15+(this.config.adjustY||0),left:e.pageX+15})}))}tipHide(){if(!this.tip)return;const e=L().isNumber(this.config.delay)?this.config.delay:300;this.timeout=window.setTimeout((()=>{this.tip.fadeOut("fast",(()=>{this.timeout=null}))}),e)}getTipEl(){let e=r()(".judgement-tip");return e.length||(e=r()('<span class="judgement-tip"></span>'),e.hide(),r()("body").append(e)),e}tipShow(e,t){this.timeout&&clearTimeout(this.timeout),this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.forceCloseTimeout=window.setTimeout(L().bind(this.tipHide,this),2e4);const n=r()(e.currentTarget);let i=!1;if(n.parents().each((function(){const e=r()(this);(e.attr("hidden")||"none"===e.css("display")||"0"===e.css("opacity"))&&(i=!0)})),i)return;if(!t)return;this.config.className&&this.tip.removeClass(this.config.className),this.config=L().extend({},this._defaultConfig),!0===n.data("follow")?this.config.position="follow":!0===n.data("fixed")&&(this.config.position="fixed"),n.data("adjust-y")?this.config.adjustY=parseInt(n.data("adjust-y"),10):this.config.adjustY=0;const a=n.data("delay");if((L().isNumber(a)||a)&&(this.config.delay=L().isNumber(a)?a:parseInt(a,10)),n.data("center")&&(this.config.center=!0),n.data("class")&&(this.config.className=n.data("class"),this.config.className&&this.tip.addClass(this.config.className)),t!==this.tip.html()&&this.tip.html((0,ns.N)(t)),"follow"===this.config.position)this.tip.fadeIn("fast");else{const e=this.tip.outerWidth(),t=this.tip.outerHeight(),i=n.offset(),r=n.outerHeight(),a=n.outerWidth();if(!(e&&t&&i&&r&&a))return;let o;const s=8,l=0;o=t>50?i.top+r+l:i.top-(t+l),o+=this.config.adjustY||0;let c=i.left+s;this.config.center&&(c=i.left-(e-a)/2),this.tip.is(":animated")||this.timeout?this.tip.stop().css({display:"block"}).animate({top:o,left:c,opacity:1},300):(this.tf||(this.tip.hide(),this.tf=!0),this.tip.css({top:o,left:c}).fadeIn("fast"))}this.timeout=null}}const pz=we.Z.keyMirror(["UPDATE"],"ANNOTATION_TEMPLATES"),fz={fetchTemplates(e,t){return this.fetch(e+"_templates",t)},saveTemplate(e){return this.save(L().extend({},e,{type:e.type+"_templates"}))},deleteTemplate(e,t,n){return this.delete(e+"_templates",t,n)},fetch(e,t){const n=new(r().Deferred),i=t();return i?n.resolve(i):P.Z.expanded("vidiq.getUserSettings",{keys:e}).then((({json:t,response:i})=>{if(!i.ok)return n.reject(i.status+" "+i.statusText);n.resolve(t[e]||t)})),n.promise()},update(e){const t=new(r().Deferred);return P.Z.expanded("vidiq.updateUserSettings",{body:e}).then((({response:e})=>{if(!e.ok)return t.reject(e.status);t.resolve()})),t.promise()},save(e){const t=new(r().Deferred);return this.fetch(e.type,e.findCache).done((n=>{const i={};i[e.name]=e.data;const r=L().extend({},n||{},i),a={};a[e.type]=r,this.update(a).done((()=>{t.resolve(r)})).fail((e=>{t.reject(e)}))})).fail((e=>{t.reject(e)})),t.promise()},delete(e,t,n){const i=new(r().Deferred);return this.fetch(e,n).done((n=>{const r=L().omit(n,t),a={};a[e]=r,this.update(a).done((()=>{i.resolve(r)})).fail((e=>{i.reject(e)}))})).fail((e=>{i.reject(e)})),i.promise()}},mz=new ds.Z("AnnotationCardTemplatesStore",{_data:{templates:{},message:null,loading:!1,hasResources:{annotate:!1,card:!1}}});mz.dispatchToken=ko.Z.register((e=>{const t=mz,n=pz;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const gz=mz,vz={update(e){ko.Z.dispatch({action:pz.UPDATE,data:e})},findCache(){const e=gz.getData().templates;return!e||L().isEmpty(e)?null:e},fetch(e){this.update({loading:!0}),fz.fetchTemplates("annotation",this.findCache).done((t=>{t=L().object(L().compact(L().map(t,((t,n)=>t.videoId!==e&&[n,t])))),this.update({templates:t||{},loading:!1})})).fail((e=>{this.update({message:(0,ai.Z)("couldNotGetTemplates",[e.status]),loading:!1})}))},save(e,t){this.update({loading:!0});const n={type:"annotation",name:t,findCache:this.findCache,data:{videoId:e}};fz.saveTemplate(n).done((e=>{this.update({templates:e,message:(0,ai.Z)("templateSaved",[t]),loading:!1})})).fail((function(e){this.update({message:(0,ai.Z)("templateSaveProblem",[t,e.status]),loading:!1})}))},loadCards(e,t){xl.get(e).done((e=>{e&&e.length?xl.createMany(t,e).done((()=>{window.location.reload(),this.update({loading:!1})})).fail((e=>{this.update({message:(0,ai.Z)("failedToLoadCardsOther",[e.status]),loading:!1})})):this.update({message:(0,ai.Z)("failedToLoadCardsNoCards"),loading:!1})})).fail((e=>{this.update({message:400===e.status?(0,ai.Z)("failedToLoadCardsNoVideo"):(0,ai.Z)("failedToLoadCardsOther",[e.status]),loading:!1})}))},load(e,t){this.update({loading:!0}),this.loadCards(e,t)},delete(e){this.update({loading:!0}),fz.deleteTemplate("annotation",e,this.findCache).done((t=>{this.update({templates:t,message:(0,ai.Z)("templateDeleted",[e]),loading:!1})})).fail((function(t){this.update({message:(0,ai.Z)("templateDeleteProblem",[e,t.status]),loading:!1})}))},checkResources(e){const t=gz.getData().hasResources;setInterval((()=>{const n="annotate"===e?r()(".timeline-annotation"):r()(".annotator-list-item");n.length&&!t[e]?(t[e]=!0,this.update({hasResources:t})):!n.length&&t[e]&&(t[e]=!1,this.update({hasResources:t}))}),2e3)}},yz=Oo()({displayName:"Dialogue",extra(){return this.props.extra?h.createElement("div",{className:"vidiq-dialogue-extra"},this.props.extra()):null},render(){return h.createElement("div",{className:"vidiq-dialogue"},this.extra(),h.createElement(is,{classes:"vidiq-dialogue-no",onClick:this.props.onNo,secondary:!0,text:this.props.noText||(0,ai.Z)("no")}),h.createElement(is,{classes:"vidiq-dialogue-yes",onClick:this.props.onYes,text:this.props.yesText||(0,ai.Z)("yes")}))}}),bz=Oo()({displayName:"Tabs",getInitialState:()=>({active:0,last:0}),UNSAFE_componentWillReceiveProps(e){this.forceActiveTab(e.activeTab)},forceActiveTab(e){const t={};if(this.state.active>=0){if(!L().isNumber(e))return;if(e>=this.props.tabs.length)return}else e||(e=this.state.last);t.active=e,e<0&&this.state.active>=0&&(t.last=this.state.active),this.setState(t)},onClick(e){this.setState({active:e,last:this.state.active>=0?this.state.active:e},(function(){this.props.onChange&&this.props.onChange(e)}))},render(){let e=this.state.active,t=null,n=!1;const i=L().filter(L().map(this.props.tabs,((i,r)=>{if(void 0===i.hasContent||i.hasContent)return n&&(e=r,n=!1),t=r,r;r===e&&(L().isNumber(t)?e=t:n=!0)})),(e=>L().isNumber(e))),r=L().map(i,(function(t){const n=this.props.tabs[t],i=Fo()("tab-button",{"tab-button-small":"small"===this.props.size,"tab-button-active":e===t});return h.createElement("li",{key:t},h.createElement("button",{className:i,onClick:this.onClick.bind(null,t)},n.name))}),this);let a=h.createElement("ul",{className:"tabs-buttons"},r),o=h.createElement("div",{className:"tabs-body"},(this.props.tabs[e]||{}).content);return 1===r.length&&(a=null),(e<0||!L().isNumber(e))&&(o=null),h.createElement("div",{className:"tabs-container"},a,o)}}),_z=bz,wz=Oo()({displayName:"AnnotationCardTemplates",getInitialState:()=>({store:gz.getData(),templateName:r()("#creator-editor-title-link").attr("title"),tab:ye.Z.getItem("annotation_cards_menu_tab")||0,loadId:null,expanded:ye.Z.getItem("annotation_cards_menu_expanded")||!1}),UNSAFE_componentWillMount(){gz.addChangeListener(this.onStoreChange),vz.fetch(this.props.videoId)},componentDidMount(){vz.checkResources(this.props.mode)},componentWillUnmount(){gz.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:gz.getData()},(()=>{this.state.store.message&&setTimeout((()=>{vz.update({message:null})}),5e3)}))},save(){let e=this.state.templateName;e&&e.length&&(e=e.trim(),e&&e.length&&vz.save(this.props.videoId,e))},load(){this.state.loadId&&vz.load(this.state.loadId,this.props.videoId)},getLoadName(){return r()('option[value="'+this.state.loadId+'"]').text()},delete(){this.getLoadName()&&vz.delete(this.getLoadName())},showDialogue(){if(!this.state.loadId)return;const e=()=>{cs.destroy()},t=()=>{e(),this.delete()},n=this.getLoadName();n&&cs.create({title:(0,ai.Z)("deleteTheTemplate",[n]),innerComponent:yz,innerProps:{onYes:t,onNo:e},size:"small"})},onLoadNameChange(e){this.setState({loadId:r()(e.target).val()})},setTemplateName(e){let t=r()(e.target).val();t&&(t=t.slice(0,50)),this.setState({templateName:t})},render(){return h.createElement("div",{className:"vidiq-annotation-templates-wrapper"},this.header(),this.innerContent())},toggleMenu(){const e=!this.state.expanded;ye.Z.setItem("annotation_cards_menu_expanded",e),this.setState({expanded:e})},onTabChange(e){ye.Z.setItem("annotation_cards_menu_tab",e),this.setState({tab:e})},header(){const e=Fo()("vidiq-annotation-templates-header",{expanded:this.state.expanded}),t=chrome.runtime.getURL("images/vidiq-badge.png"),n=(0,ai.Z)("saveThisVideoTooltip");return h.createElement("div",{className:e,onClick:this.toggleMenu},h.createElement("div",{className:"vidiq-header-container"},h.createElement("img",{src:t,className:"vidiq-button-logo vidiq-button-logo-small",alt:""}),h.createElement("h3",null,(0,ai.Z)("cardTemplates")),this.spinner(),h.createElement("i",{className:"material-icons","data-tip-message":n},"info_outline")))},spinner(){return this.state.store.loading?h.createElement(os,{size:"small"}):null},innerContent(){if(!this.state.expanded)return null;const e=[{name:(0,ai.Z)("saveTitle"),content:this.savePart()},{name:(0,ai.Z)("loadTitle"),content:this.loadPart()}];return h.createElement("div",{className:"vidiq-annotation-templates"},h.createElement(_z,{tabs:e,activeTab:this.state.tab,onChange:this.onTabChange}),this.message())},savePart(){return this.state.store.hasResources[this.props.mode]||this.state.store.loading?h.createElement("div",{className:"vidiq-annotation-templates-save"},h.createElement("input",{className:"vidiq-save-input",type:"text",value:this.state.templateName,onChange:this.setTemplateName}),h.createElement("div",{className:"icon-container"},h.createElement("i",{className:"vidiq-save-icon material-icons",onClick:this.save,title:(0,ai.Z)("saveTemplateTitle"),disabled:!this.state.templateName||this.state.store.loading},"save"))):h.createElement("div",{className:"no-resources-save-message"},(0,ai.Z)("addCardsToSave"))},getLoadMenuOptions(){const e=this.state.store.templates;let t=0;const n=L().map(e,((e,n)=>(t+=1,h.createElement("option",{key:t,value:e.videoId},n))));return n.unshift(h.createElement("option",{key:"default",value:"",disabled:!0},(0,ai.Z)("chooseATemplate"))),n},loadPart(){const e=this.state.store.templates;return e&&!L().isEmpty(e)||this.state.store.loading?h.createElement("div",{className:"vidiq-annotation-templates-load"},h.createElement("select",{className:"vidiq-load-menu",onChange:this.onLoadNameChange,value:this.state.loadId||"",disabled:this.state.store.loading},this.getLoadMenuOptions()),this.loadButtons()):h.createElement("div",{className:"no-resources-load-message"},ai.Z.html("noTemplatesToLoad",(0,ai.Z)("cardsStatLabel")))},loadButtons(){return this.state.loadId?h.createElement("div",{className:"icon-container"},h.createElement("i",{className:"material-icons vidiq-load-icon",onClick:this.load,title:"Load Template",disabled:this.state.store.loading},"file_download"),h.createElement("i",{className:"material-icons vidiq-delete-icon",onClick:this.showDialogue,title:"Delete Template",disabled:this.state.store.loading},"delete_forever")):null},message(){return this.state.store.message?h.createElement("div",{className:"vidiq-message"},this.state.store.message):null}}),kz=wz,xz=Oo()({displayName:"CharacterCounter",getInitialState(){return this.store=nz.id(this.props.id),{chars:0,store:this.store.getData()}},componentDidMount(){this.$watched=cW.getElement(this.props.id,this.props.watchSelector),this.interval=setInterval(this.checkTagsLength,500)},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange),clearInterval(this.interval)},onStoreChange(){this.setState({store:this.store.getData()})},checkTagsLength(){this.setState({chars:this.$watched.val().length})},render(){if(!this.state.store.settings.charCount)return null;const e=Fo()("counter",{"counter--warning":this.state.chars>this.props.maxChars});return h.createElement("div",{className:"vidiq-character-counter"},h.createElement("p",{className:e},this.state.chars," / ",this.props.maxChars))}}),Ez=Oo()({displayName:"KeywordRank",render(){return h.createElement("span",{className:"search-rank","data-tip-message":(0,ai.Z)("keywordRankTooltip"),"data-follow":!0},h.createElement("span",{className:"number-symbol"},"#"),this.props.rank)}}),Cz=we.Z.keyMirror(["UPDATE"],"TAG_TEMPLATES"),Sz=new ds.Z("TagTemplatesStore",{_data:{templates:[]}});Sz.dispatchToken=ko.Z.register((e=>{const t=Sz,n=Cz;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const Tz=Sz,Dz={update(e){ko.Z.dispatch({data:e,action:Cz.UPDATE})},findCache(){const e=Tz.getData().templates;return!e||L().isEmpty(e)?null:e},fetchTemplates(){fz.fetchTemplates("tag",this.findCache).done((e=>{this.update({templates:e})}))},saveTemplates(e){fz.update(e)}},Fz=Oo()({displayName:"TagTemplates_Inner",node:h.createRef(),getInitialState:()=>({tagInputText:"",selectedTemplate:null,templates:null,saved:!0}),UNSAFE_componentWillMount(){Dz.fetchTemplates()},componentDidUpdate(e){if(this.props.templates!==e.templates&&!this.state.templates){const e=this.props.templates;this.setState({templates:L().isEmpty(e)?[]:e,selectedTemplate:e[0]?e[0][0]:null})}this.props.expanded?e.expanded||r()(window).on("click.Bst",this.detectClicks):r()(window).off("click.Bst",this.detectClicks)},detectClicks(e){this.node.current.contains(e.target)||r()(e.target).closest(".tag-templates-dropdown").length||r()(e.target).closest(".template-name").length||r()(e.target).closest(".modal-window").length||this.props.toggleDropdown()},currentTags(){const e=this.state.templates,t=this.state.selectedTemplate;if(!e||L().isEmpty(e)||null===t)return[];return L().find(e,(e=>e[0]===t))[1]},addTag(e){const t=this.state.templates,n=L().findIndex(t,(e=>e[0]===this.state.selectedTemplate)),i=this.state.tagInputText.split(",");i.length?t[n][1]=t[n][1].concat(i):t[n][1].push(this.state.tagInputText),this.setState({templates:t,tagInputText:"",saved:!1}),e.preventDefault()},removeTag(e){const t=this.state.templates,n=L().findIndex(t,(e=>e[0]===this.state.selectedTemplate)),i=t[n][1],r=i.indexOf(e);i.splice(r,1),t[n][1]=i,this.setState({templates:t,saved:!1})},insertTag(e){cW.addKeyword(e)},insertTags(){const e=this.currentTags();cW.addKeywords(null,e)},addTemplate(){const e=this.state.templates;e.push(["",[]]),this.setState({selectedTemplate:"",templates:e,saved:!1},(()=>{r()(".template-name > input:last-of-type").focus()}))},openDialogue(){cs.create({title:(0,ai.Z)("deleteTheTemplate",[this.state.selectedTemplate]),innerComponent:yz,innerProps:{onYes:this.deleteTemplate,onNo:()=>{cs.destroy()}},size:"small"})},deleteTemplate(){const e=this.state.templates,t=L().findIndex(e,(e=>e[0]===this.state.selectedTemplate));e.splice(t,1),this.setState({templates:e,selectedTemplate:e[0]?e[0][0]:null,saved:!1}),cs.destroy()},header(){const e=(0,ai.Z)("tagTemplatesTitle"),t=(0,ai.Z)("tagTemplatesNote");return h.createElement("div",{className:"tag-templates-header"},h.createElement("h3",{className:"tag-templates-header-title"},e),h.createElement("span",{className:"tag-templates-header-note"},t))},setSelected(e){let t=e.target.value;if(!t){const n=r()(e.target).find("input").get(0);t=n?n.value:""}t!==this.state.selectedTemplate&&this.setState({selectedTemplate:t})},changeName(e){const t=e.target.value,n=this.state.selectedTemplate,i=this.state.templates,a=L().findIndex(i,(e=>e[0]===n)),o=i[a][1];i[a]=[t,o];const s=e.target.selectionStart,l=e.target.selectionEnd;this.setState({templates:i,selectedTemplate:t,saved:!1},(()=>{const e=r()(".template-name.selected > input").get(0);r()(e).focus(),e.setSelectionRange(s,l)}))},templatesList(){const e=L().map(this.state.templates,(e=>{const t=e[0],n=Fo()("template-name",{selected:t===this.state.selectedTemplate}),i=we.Z.prettyRandomId();return h.createElement("li",{className:n,onClick:this.setSelected,key:i},h.createElement("input",{type:"text",className:"template-name-input",value:t,placeholder:(0,ai.Z)("exampleTemplateName"),onChange:this.changeName}))}));return h.createElement("ul",{className:"templates-list"},e,h.createElement("li",{className:"new-template-button",onClick:this.addTemplate},h.createElement("i",{className:"material-icons"},"add")," ",(0,ai.Z)("newTemplate")))},setTagInputText(e){this.setState({tagInputText:e.target.value})},tagInput(){return h.createElement("form",{className:"add-tag-form",onSubmit:this.addTag},h.createElement("input",{type:"text",className:"add-tag-text",placeholder:(0,ai.Z)("tagTemplatesInputPlaceholder"),value:this.state.tagInputText,onChange:this.setTagInputText}),h.createElement("input",{type:"submit",className:"submit-button",value:(0,ai.Z)("addTagTitle"),disabled:!this.state.tagInputText}))},tags(){const e=L().map(this.currentTags(),(e=>{const t=we.Z.prettyRandomId();return h.createElement(pL,{keyword:e,li:!0,key:t,addable:!0,deletable:!0,deleteKeyword:this.removeTag,onKeywordAdded:this.insertTag})}));return h.createElement("ul",{className:"template-tags"},e)},rightPart(){return!this.state.templates||L().isEmpty(this.state.templates)?h.createElement("div",{className:"right-part"},h.createElement("span",{className:"create-template-message"},(0,ai.Z)("tagTemplatesCreateMessage"))):h.createElement("div",{className:"right-part"},this.tagInput(),this.tags())},body(){return h.createElement("div",{className:"tag-templates-body"},h.createElement("div",{className:"left-part"},this.templatesList()),this.rightPart())},saveTemplates(){Dz.saveTemplates({tag_templates:this.state.templates}),this.setState({saved:!0})},footer(){const e=this.currentTags(),t=!e||L().isEmpty(e);return h.createElement("div",{className:"tag-templates-footer"},h.createElement(is,{classes:"save-templates-button",text:(0,ai.Z)("saveChangesTitle"),disabled:this.state.saved,onClick:this.saveTemplates}),h.createElement(is,{classes:"delete-template-button",text:(0,ai.Z)("deleteTitle"),secondary:!0,disabled:null===this.state.selectedTemplate,onClick:this.openDialogue}),h.createElement(is,{classes:"insert-tags-button",text:(0,ai.Z)("tagTemplatesInsert"),disabled:t,onClick:this.insertTags}))},render(){return this.props.expanded?h.createElement("div",{className:"tag-templates-container",ref:this.node},this.header(),this.body(),this.footer()):null}}),Mz=ug(Fz,Tz),Az=Oo()({displayName:"TagTemplatesDropdown",getInitialState(){return this.store=nz.id(this.props.id),{expanded:!1,store:this.store.getData()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},toggle(){this.setState({expanded:!this.state.expanded})},icon(){return this.state.expanded?h.createElement("i",{className:"material-icons"},"arrow_drop_up"):h.createElement("i",{className:"material-icons"},"arrow_drop_down")},buttonText(){return h.createElement("span",null,(0,ai.Z)("templatesTitle")," ",this.icon())},render(){return this.state.store.settings.templates?h.createElement("div",{className:"tag-templates-dropdown",key:this.props.id},h.createElement(is,{text:this.buttonText(),classes:"tag-templates-dropdown-button",onClick:this.toggle}),h.createElement(Mz,{expanded:this.state.expanded,toggleDropdown:this.toggle})):null}}),Iz=Oo()({displayName:"TitleDescSuggestions",getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},headerMessage(){let e;const t="title"===this.props.mode?this.state.store.recTitle:this.state.store.recDesc;return e=this.state.store.optimized?t&&t.length?(0,ai.Z)("considerIncluding"+we.Z.capitalize(this.props.mode))+":":(0,ai.Z)("addMoreTagsFor"+we.Z.capitalize(this.props.mode)+"Recs"):(0,ai.Z)("boostToGet"+we.Z.capitalize(this.props.mode)+"Recs"),h.createElement("h5",null,e)},getSuggestedTags(){const e="title"===this.props.mode?this.state.store.recTitle:this.state.store.recDesc;return e&&e.length?L().map(e,(function(e){return h.createElement(pL,{onKeywordAdded:this.props.addKeyword,tag:!0,key:e.keyword,kwObject:e,addable:!0,namespace:"suggest-"+this.props.mode})}),this):null},render(){if(!this.props.permitted)return null;const e=Fo()("rec","enableVidSuggestions",{title:"title"===this.props.mode,desc:"description"===this.props.mode});return h.createElement("div",{className:e},this.headerMessage(),this.getSuggestedTags())}});const Oz=function({targetPlan:e="pro"}){return h.createElement("div",{className:"translation-upsell"},h.createElement("p",{className:"translation-upsell-message"},(0,ai.Z)("pro"===e?"translationUpsell":"translationUpsellBoost")),h.createElement(xs,{Translate:!0,text:(0,ai.Z)("upgradeNowTitle"),targetPlan:e}))},Nz=Oo()({displayName:"TitleDescTranslation",getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},translate(){(0,ve.h)().featurePermitted("translate")?(x2.studioClassicTranslate(this.props.id,this.state.store.origLang,this.state.store.transLang),ht("clicked on translate button",{"video id":this.props.videoId,location:(0,be.Z)()})):cs.create({innerComponent:Oz,title:(0,ai.Z)("translateTitle")})},render(){if(!this.state.store.settings.translate)return null;const e=!this.state.store.origLang||!this.state.store.transLang;return h.createElement("div",{className:"vidiq-translation-tab"},h.createElement(is,{classes:"vidiq-translate-button",disabled:e,text:"🌎 "+(0,ai.Z)("translateTitle"),onClick:this.translate,key:we.Z.prettyRandomId()}))}}),Pz=Oo()({displayName:"BestTimeToPostGraph",statics:{groups:["12a","3a","6a","9a","12p","3p","6p","9p"]},getInitialState(){return this.getState()},componentDidUpdate(e){this.props.type!==e.type&&this.setState(this.getState())},getState(){return{best:Math.max(...this.props.data),timePublishedIndex:this.getTimePublishedPosition()}},publishedSpotIcon(e){if(!e)return null;const t=chrome.runtime.getURL("images/upload-spot-icon.svg");return h.createElement("img",{className:"vidiq-best-time-to-post-published-spot-icon",src:t,"data-react-popover":"BestTimeToPostPublishedSpotPopover","data-react-popover-config":"{align:'left'}",alt:""})},getTimePublishedPosition(){const e=this.props.timePublished;if(!e)return null;const t=wt()(e).format("dddd");if("overall"!==this.props.type&&this.props.type!==t.toLowerCase())return null;const n=wt()(e).format("H");return Math.floor(n/3)},barAndLabel(e,t){const n=Fo()("vidiq-best-time-to-post-bar-and-label",{"vidiq-best-time-to-post-published-in-frame":t===this.state.timePublishedIndex}),i=Math.max(Math.floor(e/this.state.best*100),5),r={height:`${i}%`,opacity:""+i/100};let a=Pz.groups[t];return this.props.uploadModal&&(a+="m"),h.createElement("div",{key:a,className:n},h.createElement("div",{className:"vidiq-best-time-to-post-bar",style:r},this.publishedSpotIcon(t===this.state.timePublishedIndex)),h.createElement("div",{className:"vidiq-best-time-to-post-bar-time"},a))},bars(){return this.props.data.map(((e,t)=>this.barAndLabel(e,t)))},render(){return h.createElement("div",{className:"vidiq-best-time-to-post-graph"},this.bars())}}),Rz=Pz,jz=Oo()({displayName:"BestTimeToPostMessage",statics:{groups:[[0,2],[3,5],[6,8],[9,11],[12,14],[15,17],[18,20],[21,23]]},uploadModalText:(e,t)=>h.createElement("div",{className:"vidiq-upload-best-time-message"},ai.Z.html("currentBestTimes",[e,t])),render(){const e=(0,ai.Z)(`${this.props.day}Plural`),t=this.props.bestTimeToPost[this.props.day],n=Math.max(...t),i=jz.groups[t.indexOf(n)],r=this.props.uploadModal?"ha":"h:mm",a=wt()((new Date).setHours(i[0],0,0,0)).format(r),o=this.props.uploadModal?"ha":"h:mm A",s=wt()((new Date).setHours(i[1],0,0,0)).format(o);if(this.props.uploadModal)return this.uploadModalText(a,s);const l=`${a} — ${s}`,c="overall"===this.props.day?ai.Z.html("peakTimeToPost",[l]):ai.Z.html("peakTimeToPostOnDay",[e,l]);return h.createElement("div",{className:"vidiq-best-time-to-post-message"},c,h.createElement("br",null),(0,ai.Z)("considerPostingBefore"))}}),Lz=jz;class qz extends h.Component{daySelector(){let e=(0,ai.Z)(`${this.props.day}Plural`);return"overall"===this.props.day&&(e=(0,ai.Z)("overall")),h.createElement("div",{className:"vidiq-day-selector"},h.createElement("div",{className:"vidiq-day-selector-left",onClick:this.props.changeDay.bind(null,"left")},h.createElement("i",{className:"material-icons"},"keyboard_arrow_left")),h.createElement("div",{className:"vidiq-day-selector-current"},e),h.createElement("div",{className:"vidiq-day-selector-right",onClick:this.props.changeDay.bind(null,"right")},h.createElement("i",{className:"material-icons"},"keyboard_arrow_right")))}render(){return h.createElement("div",{className:"vidiq-best-time-to-post-options"},this.daySelector())}}const Zz=qz,Bz=Oo()({displayName:"StudioBetaUpsell_Inner",upsellText(){if("best-time-to-post"===this.props.type)return ai.Z.html("studioBetaBestTimeToPostUpsell");if("trending-videos"===this.props.type)return ai.Z.html("studioBetaTrendingVidsUpsell2");const e=Object.keys(this.props.hotSearch).length?this.props.hotSearch.omitted||this.props.hotSearch.keywords.length-3:"";return ai.Z.html("studioBetaTagsUpsell",[e])},getIcon(){if(this.props.hideIcon)return null;const e=chrome.runtime.getURL("images/rocket-icon.svg");return h.createElement("img",{className:"vidiq-upgrade-icon",src:e,alt:"Rocket Icon"})},render(){if(this.props.permitted)return null;const[e,t]={"recommended-tags":["RecTags","boost"],"best-time-to-post":["BestTime","pro"],"trending-videos":["TrendingVideos","boost"]}[this.props.type],n=Fo()("vidiq-studio-beta-upsell",this.props.classes);return h.createElement("div",{className:n},this.getIcon(),h.createElement("div",{className:"vidiq-studio-beta-upsell-right"},h.createElement("div",{className:"vidiq-studio-beta-upsell-text"},this.upsellText()),h.createElement(xs,{upsell:e,targetPlan:t,className:"vidiq-studio-beta-upsell-button",resetClassName:!0,text:(0,ai.Z)("upgradeNow"),anchor:!0})))}}),Vz=ug(Bz,HL),zz=Oo()({displayName:"BestTimeToPostBase",statics:{barWidth:35},getInitialState:()=>({day:"overall"}),changeDay(e){let t=Object.keys(this.props.bestTimeToPost).indexOf(this.state.day);"left"===e?(t-=1,t<0&&(t=7)):"right"===e&&(t+=1,t>7&&(t=0));const n=Object.keys(this.props.bestTimeToPost)[t];this.setState({day:n})},getShortTimeZone:()=>new Intl.DateTimeFormat("en-US",{timeZoneName:"short"}).format(new Date).split(", ")[1],authNotice:()=>h.createElement("div",{className:"vidiq-best-time-to-post-auth"},h.createElement("div",{className:"vidiq-best-time-to-post-auth-header"},(0,ai.Z)("modalErrorUnauthenticatedMessage")),h.createElement(is,{classes:"vidiq-best-time-to-post-auth-button",href:Su("https://app.vidiq.com/welcome"),target:"_blank",text:(0,ai.Z)("modalErrorUnauthenticatedButton")}),h.createElement("div",{className:"vidiq-best-time-to-post-auth-note"},(0,ai.Z)("modalErrorUnauthenticatedHint"))),error(){return"unauthed"===this.props.bestTimeToPostError?this.authNotice():h.createElement("div",{className:"vidiq-best-time-to-post-error"},(0,ai.Z)("unknownErrorOccurred"))},upsell:()=>h.createElement(Vz,{type:"best-time-to-post",permitted:(0,ve.h)().featurePermitted("bestTimeToPost")}),content(){if(!(0,ve.h)().featurePermitted("bestTimeToPost"))return this.upsell();if(this.props.fetchingBestTimeToPost)return h.createElement(os,{size:"big",classes:"vidiq-best-time-to-post-spinner"});if(this.props.bestTimeToPostError)return this.error();const e=this.props.bestTimeToPost[this.state.day];return h.createElement("div",{className:"vidiq-best-time-to-post"},h.createElement(Zz,{changeDay:this.changeDay,day:this.state.day}),h.createElement(Rz,{type:this.state.day,data:e,timePublished:this.props.timePublished}),h.createElement(Lz,{day:this.state.day,bestTimeToPost:this.props.bestTimeToPost}))},render(){if(!(this.props.bestTimeToPost&&Object.keys(this.props.bestTimeToPost).length||this.props.fetchingBestTimeToPost||this.props.bestTimeToPostError))return null;const e=Fo()("vidiq-best-time-to-post-container",`vidiq-best-time-to-post-container-${this.props.page}`);return h.createElement("div",{className:e},h.createElement("div",{className:"vidiq-best-time-to-post-header"},(0,ai.Z)("bestTimeToPostHeader",[this.getShortTimeZone()])),this.content())}}),Uz=zz,Wz=Oo()({displayName:"UploadBestTimeToPost",getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData()}},componentDidMount(){oz.fetchBestTimeToPost(this.props.id),this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},render(){if(!this.state.store.settings.bestTimeToPost)return null;const e="/upload"===window.location.pathname?"upload":"classic";return h.createElement(Uz,{page:e,bestTimeToPost:this.state.store.bestTimeToPost,fetchingBestTimeToPost:this.state.store.fetchingBestTimeToPost,bestTimeToPostError:this.state.store.bestTimeToPostError,timePublished:this.state.store.timePublished})}}),Hz=Oo()({displayName:"UploadClearKeywords",getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},showDialogue(){if(!this.state.store.keywords.length)return;const e=()=>{cs.destroy()};cs.create({title:(0,ai.Z)("deleteAllKeywordsQ"),innerComponent:yz,innerProps:{onYes:()=>{e(),this.props.clear(this.props.id)},onNo:e},size:"small"})},render(){return this.state.store.settings.clearKws?h.createElement(is,{classes:"input-clear-button",text:"✖ "+(0,ai.Z)("clearTitle"),onClick:this.showDialogue,secondary:!0}):null}}),Yz=Oo()({displayName:"UploadHeader",render(){const e=chrome.runtime.getURL("images/vidiq_dark.svg"),t=(0,ve.h)().getLogoBadge(),n=(0,ve.h)().getUserType();return h.createElement("header",{className:"vision-header"},h.createElement("a",{href:Su("http://vidiq.com"),title:(0,ai.Z)("visitVidIQ")},h.createElement("img",{id:"vidiq-logo",src:e,alt:"vidIQ"})),h.createElement("img",{id:"vidiq-badge",src:t,alt:n}))}}),$z=Oo()({displayName:"UploadKeywords",getInitialState:()=>({sort:"related_score",sortedKeywords:[]}),UNSAFE_componentWillReceiveProps(e){const t=e.hotSearch.keywords,n="related_score"===this.state.sort;L().isEqual(this.state.sortedKeywords,t)||this.setState({sortedKeywords:n?t:this.sortKeywords(t)})},onSortChange(e){this.setState({sort:e,sortedKeywords:this.sortKeywords(this.props.hotSearch.keywords,e)})},sortKeywords(e,t){return t||(t=this.state.sort),L().sortBy(e,(e=>-e[t]))},render(){const e=this.getHsKeywords();return h.createElement("div",{className:"left"},h.createElement("div",{className:"rec-tags"},h.createElement("div",{className:"title rec-tags-title"},ai.Z.upper("recommendedTagsTitle"),this.loadingIcon()),h.createElement("div",{className:"tab-group","data-tab-group":"tagrecs"},h.createElement("div",{className:"vidiq-select-menus"},this.lockOverlay(),this.sortMenu()),h.createElement("div",{className:"tab-container","data-tab":"legacy"},h.createElement(LL,{limit:40,name:"upload-companion",container:e=>h.createElement("ul",{className:"reltags"},e),children:e})))))},lockOverlay(){return this.props.permitted&&this.props.optimEnabled?null:h.createElement("div",{className:"selectors-lock-icon","data-tip-message":(0,ai.Z)("unlockTooltip")},h.createElement("span",null,"🔒"))},sortMenu(){const e={related_score:(0,ai.Z)("relevancyTitle")};this.props.permitted&&this.props.optimEnabled&&L().extend(e,{overall:(0,ai.Z)("overall"),volume:(0,ai.Z)("volume"),competition:(0,ai.Z)("competition")});const t=Fo()("vidiq-sort-text",{"vidiq-sort-not-permitted":!this.props.permitted||!this.props.optimEnabled});return h.createElement("div",{className:"rec-tags-sort"},h.createElement("span",{className:t},(0,ai.Z)("sortBy")+" "),h.createElement(sx,{classes:"rec-tags-sort-menu",disabled:!this.props.permitted||!this.props.optimEnabled,onChange:this.onSortChange,defaultValue:"related_score",values:e}))},loadingIcon(){return this.props.loading?h.createElement("div",{className:"rec-tags-spinner"},h.createElement(os,{size:"medium"})):null},getHsKeywords(){const e=this.props.permitted&&this.props.optimEnabled?this.state.sortedKeywords:L().first(this.state.sortedKeywords,this.props.demoLimit);if(L().isEmpty(e))return this.props.loading?null:h.createElement("div",{className:"rec-tags-msg"},(0,ai.Z)("addTagsForRecs"));const t=(e,...t)=>{"upload"!==this.props.mode&&oz.trackTagRec(this.props.id,e),this.props.onKeywordAdded(e,...t)};return L().map(e,(function(e){return h.createElement(pL,{key:e.keyword,kwObject:e,li:!0,addable:!0,weightClass:this.props.weightClass,onKeywordAdded:t,rec:!0,apply:"upload"===this.props.mode,videoId:this.props.videoId,namespace:this.props.id})}),this)}}),Kz=$z,Gz=Oo()({displayName:"UploadOptimizeButton",getNumDaysLeft(){let e=30;if(L().isNumber(this.props.periodEnd)){const t=this.props.periodEnd,n=new Date/1e3;if(n<=t){const i=t-n;e=Math.ceil(i/60/60/24)}}return e},optimizationMessage(e){const t=this.getNumDaysLeft();if(e){let e=(0,ai.Z)("optimizeOneMoreVideo");1!==this.props.quota&&(e=(0,ai.Z)("optimizeNMoreVideos",[this.props.quota]));let n=(0,ai.Z)("newPeriodStartsTomorrow");return 1!==t&&(n=(0,ai.Z)("newPeriodStartsNDays",[t])),h.createElement("h2",null,e+" "+n)}const n=(0,ai.Z)("quotaLimitTooltip",[this.props.totalQuota]);let i=(0,ai.Z)("outOfOptimizationsTomorrow",["|","|"]);t>1&&(i=(0,ai.Z)("outOfOptimizationsNDays",["|","|",t]));const[r,a,o]=i.split("|");return h.createElement("h2",null,r,h.createElement(xs,{MoreBoost:!0,className:"optimization-upsell",resetClassName:!0,text:a,anchor:!0,targetPlan:"boost"}),o,h.createElement("i",{className:"icon icon-help","data-fixed":"true","data-tip-message":n}))},optimizationError(){if(this.props.optimError)return h.createElement("p",{style:{marginTop:"1em"}},this.props.optimError)},render(){return!this.props.permitted||this.props.optimEnabled?null:this.props.loadingOptim?h.createElement(os,{size:"big"}):h.createElement("div",{className:"vidiq-studio-beta-optimize vidiq-studio-upload-optimize"},h.createElement("button",{className:"btn enable-optim",onClick:this.props.onOptimEnable},(0,ai.Z)("boostVideoTitle")),this.optimizationError())}}),Xz=Oo()({displayName:"CountrySelector",onChange(e){this.props.onChange&&this.props.onChange(e,"country")},render(){let e=tl;return this.props.locked&&(e=L().pick(e,this.props.defaultValue)),h.createElement(sx,{onChange:this.onChange,disabled:this.props.disabled||this.props.locked,classes:this.props.classes,defaultValue:this.props.defaultValue,values:e})}}),Qz=Xz,Jz=Oo()({displayName:"Expandable",getInitialState:()=>({expanded:!1}),toggle(){this.setState({expanded:!this.state.expanded})},render(){let e=(0,ai.Z)("showAllTitle")+" ("+this.props.children.length+")",t=this.props.children;this.state.expanded?e=(0,ai.Z)("showFewerTitle"):t.length>this.props.limit&&(t=t.slice(0,this.props.limit));let n=h.createElement("button",{className:"toggle-expand",onClick:this.toggle},e);return this.props.children.length<=this.props.limit&&(n=null),h.createElement("div",{className:"expandable"},h.createElement("div",{className:"expandable-inner"},t),n)}});function eU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tU extends h.Component{constructor(e){super(e),eU(this,"onAddKeyword",((e,t)=>{const n=this.state.hidKeywords.concat([t]);this.setState({hidKeywords:n})})),eU(this,"onPlusClick",(()=>{r()(window).trigger("kwins:add",[this.props.keyword,this.props.namespace,this.props.trend])})),this.state={hidKeywords:e.hidKeywords||[]}}componentDidMount(){r()(window).on("kwins:add",this.onAddKeyword)}componentWillUnmount(){r()(window).off("kwins:add",this.onAddKeyword)}isHidden(){return!(this.props.bare||!this.props.addable)&&(this.state.hidKeywords||[]).indexOf(this.props.keyword)>=0}render(){const e=Fo()("keyword",{"keyword-hid":this.isHidden()}),t=this.isHidden()?h.createElement("span",{className:"keyword-check"},"✓"):h.createElement("button",{className:"keyword-add",title:`Add ${this.props.keyword}`,onClick:this.onPlusClick},"+");return h.createElement("span",{className:e},t,h.createElement("span",{className:"keyword-body",style:{cursor:"pointer"},"data-keyword-inspector":this.props.keyword,"data-keyword-addable":this.props.addable,"data-keyword-namespace":this.props.namespace},this.props.keyword))}}const nU=tU;function iU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rU extends h.Component{constructor(e){super(e),iU(this,"onShowAllClick",(()=>{this.setState({showAll:!0})})),iU(this,"onShowFewerClick",(()=>{this.setState({showAll:!1})})),this.state={showAll:e.showAll||!1}}getExtraEl(e,t,n){const i=n?"Hide extra":"Show all",r=Fo()("keyword",e);return h.createElement("li",{key:"extra"},h.createElement("span",{className:r,title:i},h.createElement("span",{className:"keyword-body",onClick:t},n)))}render(){let e=this.props.keywords.map(((e,t)=>h.createElement("li",{key:t},h.createElement(nU,{keyword:e,bare:!this.props.mayAddKeywords,addable:this.props.mayAddKeywords,namespace:this.props.namespace,hidKeywords:this.props.hidKeywords,trend:this.props.trend}))));const t=this.props.limit||5;return!this.state.showAll&&e.length>t&&(e=e.slice(0,t),e.push(this.getExtraEl("keyword-show-all",this.onShowAllClick,"⋯"))),this.state.showAll&&e.length>t&&e.push(this.getExtraEl("keyword-show-fewer",this.onShowFewerClick,"↑")),h.createElement("ul",{className:"keyword-list"},e)}}const aU=rU,oU=Oo()({displayName:"Speedometer",getInitialState(){const e=Math.log(10),t=Math.pow(10,6);let n=Math.log(this.props.vph)/e/(Math.log(t)/e);return window.location.href.match(/VIDIQ_LINEAR/)&&(n=this.props.vph/t),{_percent:Math.min(this.props.percent||n,1),percent:0}},componentDidMount(){this._timeout=setTimeout((()=>{this.setState({percent:this.state._percent});let e=-1;this._interval=setInterval((()=>{if(e<0)return;let t=.03;++e%2==0&&(t=-t),this.setState({percent:this.state.percent+t})}),600),setTimeout((()=>{e=0}),500*Math.random())}),500)},componentWillUnmount(){clearTimeout(this._timeout),clearInterval(this._interval)},render(){const e={transform:"rotate("+180*this.state.percent+"deg)"};return h.createElement("div",{className:"speedometer"},h.createElement("div",{className:"bar",style:e}))}}),sU=oU,lU=Oo()({displayName:"VideoListItem",getDefaultProps:()=>({speedometer:!0}),onClickTitle(){NA(this.props.data.id)},render(){const e=this.props.data.id,t=we.Z.getVideoUrl(e),n="https://i.ytimg.com/vi/"+e+"/default.jpg",i=wt()(this.props.data.published_at).fromNow(),r=ge()(this.props.data.statistics.viewCount).format("1a.0"),a=ge()(this.props.data.vph).format("0.0"),o=L().isNumber(this.props.index)?h.createElement("div",{className:"index-badge"},this.props.index):null,s=this.props.speedometer?h.createElement(sU,{vph:this.props.data.vph}):null,l=this.props.data.related_to.join(", "),c=l?h.createElement("span",{className:"matches-list"},(0,ai.Z)("matches"),": ",l):null;return h.createElement("div",{className:"vidiq-video-list-item"},h.createElement("div",{className:"thumb-container"},h.createElement("img",{src:n,className:"thumb",alt:""})),h.createElement("div",{className:"video-right"},h.createElement("h4",null,h.createElement("a",{href:t,target:"new",onClick:this.onClickTitle},this.props.data.title)),h.createElement("span",{className:"video-info"},h.createElement("span",{className:"video-info-item"},(0,ai.Z)("by")," ",h.createElement("b",null,this.props.data.channel_title)),h.createElement("span",{className:"video-info-item"},i),h.createElement("span",{className:"video-info-item"},h.createElement("b",null,r)," ",ai.Z.lower("viewsTitle")),h.createElement("span",{className:"video-info-item"},h.createElement("b",null,a)," ",(0,ai.Z)("vph"))),h.createElement("p",{className:"vidiq-item-description"},we.Z.truncate(this.props.data.description,100)),h.createElement(aU,{keywords:this.props.data.tags,mayAddKeywords:this.props.mayAddKeywords,namespace:this.props.namespace,hidKeywords:this.props.hidKeywords,trend:this.props.trend}),c),o,s)}}),cU=lU,uU=Oo()({displayName:"ExpandableVideoList",render(){const e=L().map(this.props.videos,(function(e,t){return h.createElement(cU,{data:e,key:t,index:this.props.indices?t+1:null,mayAddKeywords:this.props.mayAddKeywords,hidKeywords:this.props.hidKeywords,namespace:this.props.namespace,trend:this.props.trend})}),this);return h.createElement(Jz,{limit:this.props.limit||5,children:e})}}),dU=Oo()({displayName:"LanguageSelector",onChange(e){this.props.onChange&&this.props.onChange(e,"language")},render(){let e=OA;return this.props.locked&&(e=L().pick(e,this.props.defaultValue)),h.createElement(sx,{onChange:this.onChange,disabled:this.props.disabled||this.props.locked,classes:this.props.classes,defaultValue:this.props.defaultValue,values:e})}}),hU=dU,pU=Oo()({displayName:"TrendingVideosFilter",onChange(){ye.Z.setItem("trending_vids_filter_out_mine",!this.props.filter),this.props.onChange()},render(){const e=Fo()("vidiq-trending-vids-filter-container",this.props.classes);return h.createElement("div",{className:e},h.createElement("input",{id:"vidiq-trending-vids-filter-checkbox",type:"checkbox",checked:this.props.filter,onChange:this.onChange,disabled:this.props.disabled}),h.createElement("label",{htmlFor:"vidiq-trending-vids-filter-checkbox"},(0,ai.Z)("filterMyVideos")))}}),fU=pU,mU=new ds.Z("TrendingVideosStore",{_data:{query:null,country:ye.Z.getItem("search-scorecard-country"),language:ye.Z.getItem("search-scorecard-language"),error:null,loading:null,videos:null,sortValue:null},fetch(e,t,n){e||(e=this.data.query),t&&ye.Z.setItem("search-scorecard-country",t),n&&ye.Z.setItem("search-scorecard-language",n),L().isArray(e)||(e=[e.toString()]);const i=L().values(L().pick(this.data,"query","country","language"));L().isEqual(i,[e,t,n])||(this.setData({loading:!0,query:e,country:t,language:n}),yt.Z.trendy({vid:oN().currentVideoID(),country:t,language:n,query:e}).then((e=>{let t=(e||{}).videos;this.data.sortValue&&(t=this.sort(this.data.sortValue,t)),this.setData({loading:!1,videos:t||[]})})).catch((()=>{this.setData({loading:!1})})))},sort(e,t){return t||(t=this.data.videos),L().sortBy(t,(t=>{switch(e){case"matches":return-t.related_to.length;case"overall":return-t.vph*t.related_to.length;default:return-t[e]}}))}});mU.dispatchToken=ko.Z.register((e=>{const t=mU,n=Co;switch(e.action){case n.SORT:{const n=t.sort(e.sortValue);L().extend(t.data,{videos:n,sortValue:e.sortValue}),t.emitChange();break}case n.FETCH:t.fetch(e.query,e.country,e.language);break;default:return!0}}));const gU=mU,vU=Oo()({displayName:"TrendingVideos",getDefaultProps:()=>({selectors:!0}),getInitialState(){return Object.assign({filter:ye.Z.getItem("trending_vids_filter_out_mine")||!1},this.getStateFromStores())},componentDidMount(){this._id||(this._id=we.Z.prettyRandomId()),gU.addChangeListener(this.onStoreChange),r()(window).on("kwins:add",this.onKeywordAdded)},componentWillUnmount(){gU.removeChangeListener(this.onStoreChange),r()(window).off("kwins:add",this.onKeywordAdded)},onKeywordAdded(e,t,n){n===this.getNamespace()&&this.props.onKeywordAdded&&this.props.onKeywordAdded(t)},getNamespace(){return this.props.namespace||"trending-videos-"+this._id},getStateFromStores(){const e=gU.getData();return{country:e.country,language:e.language,videos:e.videos||[],loading:e.loading}},onStoreChange(){this.setState(this.getStateFromStores())},onChangeSelect(e,t){const n={};n[t]=e,So.fetch(n),PA(t,e)},updateFilter(){this.setState({filter:!this.state.filter})},getVideos(){if(!this.state.videos||!this.state.videos.length)return[];let e=this.state.videos;return this.state.filter&&this.props.channelId&&(e=e.filter((e=>e.channel_id!==this.props.channelId))),e.slice(0,10)},trendingVidsFilter(){return this.props.searchPage?null:h.createElement(fU,{filter:this.state.filter,onChange:this.updateFilter,classes:"vidiq-classic-edit-page-trending-vids-filter",disabled:!1})},render(){let e,t=this.props.selectors?h.createElement("div",{className:"country-language-selectors"},h.createElement(Qz,{defaultValue:this.state.country,onChange:this.onChangeSelect,disabled:this.state.loading}),h.createElement(hU,{defaultValue:this.state.language,onChange:this.onChangeSelect,disabled:this.state.loading})):null;const n=this.getVideos();if(n.length){const t=this.props.limit?L().first(n,this.props.limit):n;e=h.createElement(uU,{videos:t,mayAddKeywords:this.props.mayAddKeywords,hidKeywords:this.props.hidKeywords,namespace:this.getNamespace(),indices:!0,trend:!0})}else e=this.state.loading?h.createElement(os,{container:!0}):h.createElement("p",{className:"vidiq-absolute-middle"},h.createElement("b",null,(0,ai.Z)("noTrending")));return n.length||(t=null),h.createElement("div",{className:"vidiq-trending-videos"},this.trendingVidsFilter(),t,e,vA.show(this.state.loading,n.length>0))}}),yU=vU,bU=Oo()({displayName:"UploadTrendingVideos",getInitialState:()=>({searchKeyword:null}),UNSAFE_componentWillMount(){So.sort("matches")},componentDidUpdate(){this.props.permitted&&this.fetchTrendingVideos()},hasSearchKeyword(){return this.state.searchKeyword&&this.state.searchKeyword.length},fetchTrendingVideos(){(this.hasSearchKeyword()||this.props.query&&this.props.query.length)&&So.fetch({query:this.state.searchKeyword||this.props.query,country:this.props.country,language:this.props.language})},getSortValues:()=>({matches:(0,ai.Z)("matches"),overall:(0,ai.Z)("overall"),vph:(0,ai.Z)("viewsPerHourTitle"),views_count:(0,ai.Z)("numberOfViewsTitle")}),inputDebounced:yo()((function(e){this.setState({searchKeyword:e.trim()})}),500),setSearchKeyword(e){const t=e.target.value;this.inputDebounced(t)},onSortChange(e){So.sort(e)},content(){if(!this.props.permitted)return null;const e=this.props.permitted&&this.props.optimEnabled?null:this.props.demoLimit;return h.createElement(h.Fragment,null,h.createElement("div",{className:"trending-vids-options"},h.createElement("div",{className:"trending-vids-search"},h.createElement("input",{type:"search",placeholder:(0,ai.Z)("searchByKeyword"),onChange:this.setSearchKeyword,defaultValue:this.state.searchKeyword})),h.createElement("div",{className:"trending-vids-sort"},h.createElement("span",null,(0,ai.Z)("sortBy")+" "),h.createElement(sx,{classes:"trending-vids-sort-menu",disabled:!this.props.permitted||!this.props.optimEnabled,onChange:this.onSortChange,defaultValue:"matches",values:this.getSortValues()}))),h.createElement("div",{className:"vidiq-react"},h.createElement(yU,{channelId:this.props.channelId,hidKeywords:this.props.query,mayAddKeywords:!0,namespace:this.props.id,selectors:!1,limit:e})))},render(){return h.createElement("div",{className:"right"},h.createElement("div",{className:"title trending-vids-title"},ai.Z.upper("videosToGainViewsFromTitle")),h.createElement(Vz,{type:"trending-videos",permitted:this.props.permitted}),this.content())}}),_U=Oo()({displayName:"UploadCompanion",statics:{trendingVideosLimit:1,recommendedTagsLimit:3},getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData(),optimizeObj:(0,ve.h)().getOptim()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange),r()(window).on("kwins:add",this.kwinsAdd)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange),r()(window).off("kwins:add",this.kwinsAdd)},onStoreChange(){this.setState({store:this.store.getData()})},kwinsAdd(e,t,n){this.props.addKeyword(t,n)},enableVideoOptim(){oz.enableOptim(this.props.id)},render(){const e=Fo()("vidiq-upload",{"yt-card branded-page-box-padding":"upload"===this.props.mode,"accordion-expanded upload-item-finished":"upload"===this.props.mode,"is-visible":this.state.store.settings.companion,"is-hidden":!this.state.store.settings.companion});return h.createElement("div",{className:e},h.createElement("div",{className:"container"},h.createElement(Yz,null),h.createElement("div",{className:"content"},h.createElement(Kz,{id:this.props.id,permitted:this.state.store.permitted,loading:this.state.store.loading,hotSearch:this.state.store.hotSearch,demoLimit:_U.recommendedTagsLimit,keywords:this.state.store.keywords,onKeywordAdded:this.props.addKeyword,optimEnabled:this.state.store.optimized,weightClass:this.state.store.weightClass,videoId:this.state.store.videoId,mode:this.props.mode}),h.createElement(bU,{id:this.props.id,permitted:this.state.store.permitted,optimEnabled:this.state.store.optimized,channelId:this.state.store.channelId,demoLimit:_U.trendingVideosLimit,query:this.state.store.query,country:this.state.store.country,language:this.state.store.language}),h.createElement(Gz,{permitted:this.state.store.permitted,quota:this.state.optimizeObj.quota_left,totalQuota:this.state.optimizeObj.quota_left+this.state.optimizeObj.quota_used,periodEnd:this.state.optimizeObj.period_end,onOptimEnable:this.enableVideoOptim,optimEnabled:this.state.store.optimized,loadingOptim:this.state.store.loading,optimError:this.state.store.optimError})),this.upsell()))},upsell(){if(this.state.store.permitted)return null;const e=L().isEmpty(this.state.store.hotSearch)?null:this.state.store.hotSearch.omitted||this.state.store.hotSearch.keywords.length-_U.recommendedTagsLimit,[t,n,i]=(0,ai.Z)("upgradeBoostTagRecs",["|","|",e]).split("|");return h.createElement("div",{className:"boost-upsell-container"},h.createElement("div",{className:"boost-upsell-msg"},h.createElement("div",null,t,h.createElement(xs,{RecTags:!0,resetClassName:!0,text:n,targetPlan:"boost",anchor:!0}),i),h.createElement("div",{className:"boost-upsell-video"},ai.Z.html("boostLearnMore",['<a href="https://www.youtube.com/watch?v=kapUc1vcBUM" target="_blank" rel="noopener noreferrer">',"</a>"]))))}}),wU=_U,kU=Oo()({displayName:"UploadCopyKeywords",getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},copyKeywords(){SS(this.state.store.keywords)},render(){return this.state.store.settings.copyKws?h.createElement("button",{onClick:this.copyKeywords,className:"copy-tags upload-copy-tags",title:(0,ai.Z)("copyTags"),type:"button"}):null}});class xU extends h.Component{render(){const e=Fo()("open-kwins",this.props.classes),t=h.createElement("button",{className:e,"data-keyword-namespace":this.props.namespace,"data-keyword-addable":this.props.addable,type:"button"},(0,ai.Z)("keywordInspectorTitle"));return this.props.container&&"string"==typeof this.props.container?h.createElement("div",{className:this.props.container},t):t}}const EU=xU,CU=Oo()({displayName:"UploadKwinsButton",getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},render(){return this.state.store.settings.kwIns?h.createElement(EU,{namespace:this.props.id,addable:!0}):null}}),SU=Oo()({displayName:"SeoChecklist",statics:{labels:{cards:(0,ai.Z)("checklistCard"),end_screens:(0,ai.Z)("checklistEndScreen"),closed_captions:(0,ai.Z)("checklistCC"),monetization:(0,ai.Z)("checklistMoney"),added_to_playlist:(0,ai.Z)("checklistPlaylist"),made_public:(0,ai.Z)("checklistPublic"),shared_facebook:(0,ai.Z)("checklistFacebook"),replied_comment:(0,ai.Z)("checklistComment")},links:(e,t)=>({cards:`https://studio.youtube.com/video/${e}/edit`,end_screens:`https://studio.youtube.com/video/${e}/edit`,closed_captions:`https://studio.youtube.com/video/${e}/translations`,monetization:`https://studio.youtube.com/channel/${t}/monetization`,added_to_playlist:`https://studio.youtube.com/channel/${t}/playlists`,made_public:`https://studio.youtube.com/video/${e}/edit`,shared_facebook:"https://www.facebook.com",replied_comment:`https://studio.youtube.com/video/${e}/comments/inbox`})},order:["cards","end_screens","closed_captions","monetization","added_to_playlist","made_public","shared_facebook","replied_comment"],getLink(e){if(this.props.list["seo_checklist_"+e])return null;const t=SU.links(this.props.videoId,this.props.channelId);return h.createElement("a",{href:t[e],target:"_blank",rel:"noopener noreferrer",className:"checklist-arrow-link",onClick:()=>{ht("clicked on upload checklist",{"video id":this.props.videoId,"item name":e.replace(/_/g," "),location:(0,be.Z)()})}},h.createElement("i",{className:"material-icons"},"arrow_forward"))},render(){if(!this.props.list)return h.createElement(os,{container:!0});const e=L().map(this.order,(function(e){const t=this.props.list["seo_checklist_"+e],n=SU.labels[e];let i=t?"✓":"✗";i=h.createElement("span",{className:"icon"},i);const r=t?"checked":"unchecked";return h.createElement("li",{key:e,className:r},h.createElement("span",{className:"content"},i," ",h.createElement("span",null,n)),this.getLink(e))}),this);return h.createElement("ul",{className:"seo-checklist"},e)}}),TU=SU,DU=Oo()({displayName:"DemonetizationWordList",getInitialState:()=>({list:null,userAddedList:[],expanded:!1}),UNSAFE_componentWillMount(){this.props.permitted&&this.getWordList()},UNSAFE_componentWillReceiveProps(){this.scanInputs()},scanInputs(){const e=(this.props.title||"").toLowerCase(),t=(this.props.desc||"").toLowerCase(),n=(this.props.keywords||"").toString().toLowerCase(),i=this.state.list,r=[];L().each(i,((i,a)=>{const o=new RegExp("\\b"+a+"\\b","g"),s=e.match(o),l=t.match(o),c=n.match(o);if(s||l||c){const e=[s?(0,ai.Z)("title"):null,l?(0,ai.Z)("description"):null,c?(0,ai.Z)("tags"):null];r.push({keyword:a,nature:i,locations:L().compact(e)})}})),this.setState({userAddedList:r})},getWordList(){(0,P.Z)("vidiq.getDemonetizationWords").then((e=>{this.setState({list:e},(()=>{this.scanInputs()}))}))},nature:e=>L().map(e,(e=>(0,ai.Z)(e+"DemonetizationWord"))).join(", "),upsell:()=>h.createElement(xs,{ControversialKeywords:!0,className:"vidiq-upgrade-button",targetPlan:"pro",text:(0,ai.Z)("upgradeNowTitle")}),wordListTable(){if(!this.props.permitted)return this.upsell();if(L().isEmpty(this.state.userAddedList))return null;const e=L().map(this.state.userAddedList,(e=>{const t=this.nature(e.nature);return h.createElement("tr",{key:e.keyword},h.createElement("td",null,e.keyword),h.createElement("td",null,t),h.createElement("td",null,e.locations.join(", ")))}));return h.createElement("table",null,h.createElement("thead",null,h.createElement("tr",null,h.createElement("th",null,(0,ai.Z)("keyword")),h.createElement("th",null,(0,ai.Z)("nature")),h.createElement("th",null,(0,ai.Z)("locations")))),h.createElement("tbody",{className:"vidiq-demonetization-tbody"},e))},toggle(){this.setState({expanded:!this.state.expanded})},needExpand:()=>!(r()(".vidiq-demonetization-tbody").height()<150),expandIcon(){return this.state.expanded?"keyboard_arrow_up":"keyboard_arrow_down"},expandButton(){return this.props.permitted&&!L().isEmpty(this.state.userAddedList)&&this.needExpand()?h.createElement("div",{className:"expand-button",onClick:this.toggle},h.createElement("i",{className:"material-icons"},this.expandIcon())):null},note(){let e=L().isEmpty(this.state.userAddedList)?(0,ai.Z)("noControversialKeywords"):(0,ai.Z)("foundControversialKeywords");return this.props.permitted||(e=(0,ai.Z)("controversialKeywordsUpgrade")),h.createElement("div",{className:"demonetization-note"},e)},render(){if(this.props.permitted&&!this.state.list)return null;const e=Fo()("vidiq-demonetization-words",{expanded:this.state.expanded});return h.createElement("div",{className:e},h.createElement("h3",{className:"demonetization-header"},(0,ai.Z)("controversialKeywords")),this.note(),this.wordListTable(),this.expandButton())}}),FU=DU,MU=Oo()({displayName:"VC_PrivateIcon",render:()=>h.createElement("i",{className:"material-icons private-icon"},"lock_open")});function AU(){return AU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},AU.apply(this,arguments)}const IU=Oo()({displayName:"VC_StatValue",getValue(){let e=this.props.value;if(L().isNumber(e)){const t={separate:!0,thousands:!0};return this.props.percent&&(e*=100),this.props.currency&&L().extend(t,{format:"0.00a",thousands:"0,0.00",trim:!1}),we.Z.numbro(e,t)}return[e,null]},getValueInner(e){const t=e.split(".");return 1===t.length?e:h.createElement("span",null,h.createElement("span",{className:"main-part"},t[0],"."),h.createElement("span",{className:"decimal-part"},t[1]))},getUnit(e){if(e=e||(this.props.percent?"%":null))return h.createElement("span",{className:"unit"},e)},getOutOf(){if(this.props.outOf)return h.createElement("span",{className:"out-of"},"/",this.props.outOf)},getCurrency(){if(this.props.currency)return h.createElement("span",{className:"currency"},"$")},getPrivate(){if(this.props.private)return h.createElement(MU,null)},getApprox(){if(this.props.approx)return h.createElement("span",{className:"approx"},"≈")},getFlag(){if(!this.props.code)return;const e=Fo()("flag",this.props.code,"creator-country-flag");return h.createElement("span",{className:e})},getChange(){if(!L().isNumber(this.props.change)||!isFinite(this.props.change))return;const e=ge()(this.props.change).format("0%"),t=this.props.change>0,n=0===this.props.change;let i=t?"▲":"▼";n&&(i=null);const r=Fo()("change",{positive:t,negative:!t&&!n,zero:n});return h.createElement("span",{className:r},i,e)},getScoreClass(e){if(!this.props.score)return;const t=e/this.props.outOf;return isFinite(t)?t<.33?"score-poor":t<.66?"score-average":"score-good":void 0},getChild(){if(this.props.include)return h.createElement(hD(this.props.include),this.props)},render(){const e=this.getValue(),t=e[0],n=e[1],i=Fo()("stat-value","stat-value-"+this.props.slug,this.props.size,this.getScoreClass(t),{score:this.props.score,private:this.props.private,extended:t.toString().length>11,"with-body":this.props.body}),r="string"==typeof this.props.tooltip?{"data-tip-message":this.props.tooltip}:{};if(this.props.body)return h.createElement("div",AU({className:i},r),this.props.body(this.props));const a=h.createElement("span",AU({className:i},r),this.getPrivate(),this.getCurrency(),this.getApprox(),h.createElement("span",{className:"value-inner"},this.getValueInner(t)),this.getUnit(n),this.getOutOf(),this.getFlag(),this.getChange(),this.getChild());return this.props.link?h.createElement("a",{className:"stat-value-link",href:this.props.link,target:"_blank",rel:"noopener noreferrer"},a):a}}),OU=IU,NU=Oo()({displayName:"VC_StatBox",getSlug:e=>e?e.toLowerCase().replace(/_/g,"-").toLowerCase():"no-slug",getSlugKey(e){return this.getSlug(L().pluck(e,"key").join("-"))},getMulti(e){const t=L().map(this.props.values,(function(e,t){const n=e.url?this.props.allData[e.url]:null,i=this.getSlug(e.key),r=Fo()("stat-pair-"+i,{clickable:e.url});return e=L().extend({},e,{slug:i}),h.createElement("tr",{key:t,onClick:()=>{n&&window.open(n)},className:r},h.createElement("td",null,h.createElement(OU,e)),h.createElement("td",null,this.getLabel(e,18)))}),this);return e?t.map(((e,t)=>h.createElement("table",{className:"shouldbesplit",key:t},h.createElement("tbody",null,e)))):h.createElement("table",null,h.createElement("tbody",null,t))},getSingle(){let e=this.props.values[0];if(e)return e=L().extend({},e,{key:0,slug:this.getSlug(e.key)}),[h.createElement(OU,e),this.getLabel(e)]},getLabel({label:e,labelImage:t,channelIcon:n},i){const r=i||25,a=h.createElement("img",{key:"label",src:chrome.runtime.getURL("images/"+t),style:{height:r},alt:""});return t&&n?h.createElement("div",{key:"label-container"},h.createElement("img",{className:"vidiq-this-channel-icon",style:{width:r,height:r},src:this.props.allData.channel_icon,alt:"This Channel"}),a):t?a:h.createElement("label",{key:"label",title:e},e)},getPopover(){if(!this.props.popover)return;const e=hD(this.props.popover);return!e||e.canDisplay&&this.props.allData&&!e.canDisplay(this.props.allData)?void 0:h.createElement("i",{className:"material-icons popover-icon"},"remove_red_eye")},getClassName(){return`stat-box-${this.getSlugKey(this.props.values)}`},shouldShowMulti(){return this.props.values.length>1||this.props.multi},getMediaTestTag(){const e=this.getSlugKey(this.props.values);if(["instagram","twitter","facebook"].find((t=>e.includes(t))))return e},render(){const e=Fo()("stat-box",this.props.width,this.getClassName(),this.props.classes,{alt:this.props.alt,multi:this.props.values.length>1,inline:this.props.inline}),t=this.getPopover(),n={className:e};t&&(n["data-react-popover"]=this.props.popover,this.props.popoverConfig&&(n["data-react-popover-config"]=JSON.stringify(this.props.popoverConfig)));const i=this.getMediaTestTag();i&&(n["data-testid"]=i),"stat-box-tag-count"===this.getClassName()&&(n["data-tip-message"]=(0,ai.Z)("tagCountMessage")),this.props.onClick&&(n.onClick=this.props.onClick);const r=h.createElement("div",n,h.createElement("div",{className:"stat-box-inner"},t,this.shouldShowMulti()?this.getMulti(this.props.split):this.getSingle()));return this.props.renderHook?this.props.renderHook(r):r}}),PU=NU,RU=Oo()({displayName:"VC_StatSection",getStatBoxesProps(){return L().compact(L().map(this.props.boxes,(function(e){let t=!0;const n=L().compact(L().map(e.keys,(function(e){const n=L().findWhere(this.props.values,{key:e});if(!n)return;const i=this.props.data[e];let r=i;if(L().isObject(r)&&void 0!==r.value){const e=r;r=e.value,L().extend(n,L().omit(e,"value"))}const a=L().isNumber(r)&&!isFinite(r);if(null==r||a)return;if(0===r&&n.hideZero)return;t=!1;let o,s=(0,ai.Z)(we.Z.camelCase(e+"_stat_label"));return"endscreens"===e&&(s=(0,ai.Z)("endScreens")),"subscriber_rank"===e&&(s=(0,ai.Z)("subscriberRank")),"view_rank"===e&&(s=(0,ai.Z)("viewRank")),"yt_likes"!==e&&"yt_dislikes"!==e&&"yt_comments"!==e&&"yt_shares"!==e||(s=(0,ai.Z)(we.Z.camelCase(e+"_stat_title"))),"views"===e&&this.props.data.is_live&&(s=(0,ai.Z)("watchingNowStatLabel")),n.labelFn&&i&&(s=n.labelFn(i)),o="function"==typeof n.tooltip?n.tooltip(r,this.props.data):n.tooltip,L().extend({},n,{value:r,label:s,tooltip:o})}),this));if(!t||e.hook)return L().extend({},L().omit(e,"keys"),{values:n,allData:this.props.data,renderHook:e.hook,split:e.split,inline:e.inline})}),this))},getStatBoxes(){const e=this.getStatBoxesProps(),t=e.length,n=t%4==0,i=(t-1)%3==0;return L().map(e,(function(e,r){let a=!1,o=this.props.layout;if(!o&&(n||i&&t-5<=r)&&(o="quarter"),"half"===o)a=(r+1)%3==0||(r+2)%3==0;else if("quarter"===o&&n){a=(Math.floor(r/4)%2==0?r-1:r)%2==0}else a=(r+1)%2==0;const s=L().extend({},e,{width:o,key:r,alt:a});return h.createElement(PU,s)}),this)},render(){const e=Fo()("vc-stat-section",{"half-layout":"half"===this.props.layout,"third-layout":!this.props.layout});return h.createElement("section",{className:e},this.getStatBoxes(),this.props.children)}}),jU=RU,LU=Oo()({displayName:"VC_SeoScorePopover_Inner",getValues(e){return L().compact(L().map(this.props.seoScoreData[e],((e,t)=>{if("overall"!==t)return{key:t,outOf:5}})))},getBoxes(e){return L().map(this.getValues(e),(e=>({keys:[e.key]})))},getScore(e){return h.createElement(OU,{value:this.props.seoScoreData[e].overall,label:"score"+e,outOf:50,score:!0})},getUpgrade(){if(["basic","pro"].indexOf((0,ve.h)().getUserType())<0)return;if(!this.props.owned)return;return h.createElement("div",{className:"seo-score-popover-upgrade"},h.createElement("p",null,ai.Z.html("improvePerformanceWithBoost")),h.createElement("p",null,h.createElement("i",{className:"material-icons"},"video_library"),h.createElement("a",{target:"new",href:"https://www.youtube.com/watch?v=kapUc1vcBUM&list=PLTYbelo0OEJ5kafmU_1lpsVsoz8thBZRO"},ai.Z.html("learnMoreAboutBoost"))),h.createElement(xs,{SeoScoreBoost:!0,targetPlan:"boost",source:"SEO Score popover",text:(0,ai.Z)("boostUpgradeTitle")}))},render(){return h.createElement("div",{className:"seo-score-popover"},h.createElement("h1",null,(0,ai.Z)("actionableTitle")," ",this.getScore("actionable")),h.createElement(jU,{boxes:this.getBoxes("actionable"),values:this.getValues("actionable"),layout:"third",data:this.props.seoScoreData.actionable}),!1!==this.props.performance&&h.createElement("div",null,h.createElement("h1",null,(0,ai.Z)("performanceTitle")," ",this.getScore("nonactionable")),h.createElement(jU,{boxes:this.getBoxes("nonactionable"),values:this.getValues("nonactionable"),layout:"third",data:this.props.seoScoreData.nonactionable}),this.getUpgrade()))}}),qU=ug(LU,SN,(e=>({seoScoreData:e.data.seo_score_data||{},owned:e.data.owned})));qU.canDisplay=e=>!L().isEmpty(e.seo_score_data),qU.width=280;const ZU=qU,BU=Oo()({displayName:"UploadSeoScore_Inner",getInitialState:()=>({timedOut:!1}),UNSAFE_componentWillMount(){r()(window).on("vidiq:fetch-seo-checklist",this.resetChecklist),this._seoScoreTimeout=setTimeout((()=>{this.runOrPostpone("seo",this.fetchSeoScoreData,this.props)}),1e3)},componentWillUnmount(){r()(window).off("vidiq:fetch-seo-checklist",this.resetChecklist)},resetChecklist(){this.runOrPostpone("check",this.fetchSeoChecklist,this.props)},UNSAFE_componentWillUpdate(e){e.videoId&&this._postponed&&this.resume(e);let t=!1;L().forEach(["keywords","keywordRanks","title","desc"],(function(n){t||L().isEqual(this.props[n],e[n])||(t=!0)}),this),t&&this.runOrPostpone("seo",this.fetchSeoScoreData,e),e.seoChecklist||this.runOrPostpone("check",this.fetchSeoChecklist,e)},runOrPostpone(e,t,n){if("seo"===e&&clearTimeout(this._seoScoreTimeout),n.videoId)return t(n);this._postponed||(this._postponed={}),this._postponed[e]=t},resume(e){this._postponed&&(L().each(this._postponed,(t=>{t(e)})),this._postponed=null)},fetchSeoScoreData(e){if(e||(e=this.props),this._fetchingSeoScore)return;this._fetchingSeoScore=!0;const t=setTimeout((()=>{this.setState({timedOut:!0})}),1e4);cL({video_id:e.videoId,keywords:e.keywords,keyword_ranks:e.keywordRanks,title:e.title},["seo_score","seo_score_data"]).done((n=>{e.update({seoScoreData:n.seo_score_data,seoScore:n.seo_score}),L().isEmpty(n)&&this.setState({timedOut:!0}),clearTimeout(t)})).always((()=>{this._fetchingSeoScore=!1}))},fetchSeoChecklist(e){e||(e=this.props),this._fetchingSeoChecklist||(this._fetchingSeoChecklist=!0,cL(e.videoId,["seo_checklist"]).done((t=>{e.update({seoChecklist:t.seo_checklist})})).always((()=>{this._fetchingSeoChecklist=!1})))},loading(){if(L().isEmpty(this.props.seoScoreData)&&!this.state.timedOut)return h.createElement(os,{container:!0})},videoIsPublic(){let e=!1;return this.props.seoChecklist&&(e=this.props.seoChecklist.list.seo_checklist_made_public),e},body(){if(L().isEmpty(this.props.seoScoreData))return L().isEmpty(this.props.seoChecklist)?this.state.timedOut?h.createElement("p",null,(0,ai.Z)("cantLoadSeoScoreChecklist")):void 0:h.createElement("div",{className:"body just-checklist"},h.createElement(TU,{list:(this.props.seoChecklist||{}).list,videoId:this.props.videoId,channelId:this.props.channelId}));const e=this.videoIsPublic(),t=this.props.seoScoreData.actionable.overall,n=[{key:"seo-score",label:(0,ai.Z)("seoScoreStatLabel"),value:e?this.props.seoScore:t,outOf:this.videoIsPublic()?100:50,score:!0}];let i;if(this.props.seoChecklist){const e=[{key:"checklist",label:(0,ai.Z)("checklistTitle"),value:this.props.seoChecklist.score,outOf:this.props.seoChecklist.outOf,score:!0}];i=h.createElement(PU,{values:e})}return h.createElement("div",{className:"body"},h.createElement("div",{className:"left-column"},h.createElement("header",null,h.createElement(PU,{values:n}),i),h.createElement(ZU,{seoScoreData:this.props.seoScoreData,performance:e,owned:!0})),h.createElement("div",{className:"right-column"},h.createElement(TU,{list:(this.props.seoChecklist||{}).list,videoId:this.props.videoId})),h.createElement(FU,{permitted:(0,ve.h)().featurePermitted("controversialKeywords"),title:this.props.title,desc:this.props.desc,keywords:this.props.keywords}))},render(){if(this.props.settings&&!this.props.settings.seoScore)return null;const e=Fo()("upload-seo-score",this.props.className);return h.createElement("div",{style:this.props.style,className:e},this.loading(),this.body())}}),VU=Oo()({displayName:"UploadSeoScore",UNSAFE_componentWillMount(){this.wrappedComponent=ug(BU,nz.id(this.props.id),(function(e){return L().extend({},e,{keywordRanks:L().extend({},e.keywordRanks),update:e=>oz.update(this.props.id,e)})}))},render(){return h.createElement(this.wrappedComponent,this.props)}}),zU=Oo()({displayName:"UploadSeoScoreOuter",inner:h.createRef(),LEFT:458,UNSAFE_componentWillMount(){const e=document.querySelector(".basic-info-tab .metadata-column"),t=e?e.parentElement:null;e&&t&&(this.parent=t,this.stickTo=e,this.observer=new MutationObserver(this.onMutation),this.observer.observe(t,{subtree:!0,childList:!0,attributes:!0}))},componentWillUnmount(){this.observer&&this.observer.disconnect()},onStickToMutation(){setTimeout(this.forceUpdate.bind(this),10)},onMutation:_o()((function(){this.stickTo.style.marginBottom=this.getMarginBottom(),L().isEqual(this.lastStyle,this.getStyle())||this.forceUpdate()}),100),getMarginBottom(){if(!this.inner.current)return"inherit";return document.querySelector(".upload-seo-score").offsetHeight+20+"px"},getStyle(){if(!this.stickTo)return{};const e=this.stickTo.offsetTop+this.stickTo.offsetHeight;return{position:"absolute",left:this.LEFT+"px",width:this.getWidth()+"px",top:e+20+"px"}},getWidth(){return this.parent?this.parent.offsetWidth-this.LEFT-2:490},getClassName(){return this.getWidth()>=490?"wide-layout":""},render(){return this.lastStyle=this.getStyle(),h.createElement(VU,{style:this.lastStyle,id:this.props.id,ref:this.inner,className:this.getClassName()})}}),UU=(e,t)=>ht("failed to create a thumbnail",{"video id":e,"channel id":t,location:(0,be.Z)()}),WU=Oo()({displayName:"Wizard",getInitialState:()=>({step:0}),componentDidMount(){!1!==this.props.legacy&&cs.setButtons(this.getButtons()),this.callback("enterStep")},componentDidUpdate(){!1!==this.props.legacy&&cs.setButtons(this.getButtons())},getCurrentStep(){return this.getStep(this.state.step)},getStep(e){return this.props.steps[L().isNumber(e)?e:this.state.step]},meta(){let e=this.callback("canChangeStep");return void 0===e&&(e="all"),{isFirstStep:0===this.state.step,isLastStep:this.state.step===this.props.steps.length-1,canGoBack:["all","back"].indexOf(e)>=0,canGoForward:["all","forward"].indexOf(e)>=0}},callback(e,t,n){const i=this.getStep();let r=hD(i)[e];if(r&&"function"==typeof r||(r=this.props[e]),"function"!=typeof r)return;const a=r(i,t,n);return void 0!==a&&a},goBack(){this.changeStep(-1)},async goForward(){this.props.beforeGoNext&&this.props.beforeGoNext.step===this.getCurrentStep()&&await this.props.beforeGoNext.fn(),this.changeStep(1)},changeStep(e){const t=this.props.steps.length-1,n=Math.min(Math.max(this.state.step+e,0),t),i=this.state.step;this.state.step=n,this.callback("enterStep",n,i),this.setState({step:n})},getButtons(){const e=this.meta(),t={text:(0,ai.Z)("back"),onClick:this.goBack,classes:"secondary",disabled:!e.canGoBack},n={text:(0,ai.Z)("next"),onClick:this.goForward,position:"right",disabled:!e.canGoForward},i=this.callback("customButtons",t,n);return i||(e.isFirstStep?["cancel",n]:e.isLastStep?[t,"close"]:[t,n])},getFooter(){return h.createElement(ss,{buttons:this.getButtons(),locked:this.props.locked})},render(){const e=this.getStep(),t=this.props.childProps,n=(t?t(e):null)||{},i=L().compact(["wizard",this.props.classes]).join(" "),r=L().extend(n,{ref:"child",footer:this.getFooter});let a,o=h.createElement(hD(e),r);return this.callback("isLoading")&&(o=null,a=h.createElement(os,{classes:"modal-spinner",size:"big"})),h.createElement("div",{className:i},a,this.callback("beforePart"),o)}}),HU=WU,YU=Oo()({displayName:"ThumbnailEditor",steps:["ChooseBackground","EditThumbnail","PreviewThumbnail","SaveThumbnail"],getInitialState:()=>$L.getData(),UNSAFE_componentWillMount(){dt("Opened thumbnail editor"),(async e=>{const t=HL.getData().channelId||NY.getChannelId()||await(0,_e.Z)();ht("opened thumbnail editor",{"video id":e,"channel id":t,location:(0,be.Z)()})})(this.props.video.id),LY.update({videoId:this.props.video.id,saved:!1}),$L.addChangeListener(this.onStoreChange)},componentDidMount(){(0,ve.h)().getCurrentChannel().then((e=>{e&&e.id||(this.setState({unauthed:!0}),cs.setButtons([]))}))},componentWillUnmount(){$L.removeChangeListener(this.onStoreChange),$L.reset()},onStoreChange(){const e=this.state;this.setState($L.getData(),(function(){e&&this.state.loading!==e.loading&&cs[this.state.loading?"lock":"unlock"]()}))},requestImageFromIframe(){document.getElementById("thumbnail-video-iframe").contentWindow.postMessage({vidiqEvent:"getVideoStill"},"https://www.youtube.com")},awaitIframeResponse:()=>new Promise((e=>{window.addEventListener("message",(t=>{if(t.data.vidiqEvent&&"postVideoStill"===t.data.vidiqEvent){const n=t.data.image;if(!n)return(0,ke.Z)("(vidiq) awaitIframeResponse no image",t.data),e();LY.update({backgroundImageUri:n}),e()}}),!1)})),getVideoStill(){return this.requestImageFromIframe(),this.awaitIframeResponse()},render(){if(this.state.unauthed)return h.createElement(CI,{message:(0,ai.Z)("modalErrorUnauthenticatedMessage"),buttonText:(0,ai.Z)("modalErrorUnauthenticatedButton"),buttonHref:Su("https://app.vidiq.com/welcome"),hint:(0,ai.Z)("modalErrorUnauthenticatedHint")});let e;return this.state.activeTabs.ChooseBackground||(e={step:"ChooseBackground",fn:this.getVideoStill}),h.createElement(HU,{steps:this.steps,classes:"vidiq-thumbnail-editor",beforeGoNext:e})}}),$U=Oo()({displayName:"UploadThumbnailButton",onClick(){const e={video:{id:this.props.videoId}};cs.create({title:(0,ai.Z)("thumbnailEditorTitle"),size:"large",innerComponent:YU,innerProps:e})},render(){return h.createElement(is,{classes:"vidiq-thumbnail-button",text:(0,ai.Z)("createThumbnailTitle"),onClick:this.onClick})}}),KU=Oo()({displayName:"UploadTooltip",getInitialState:()=>({mouseOver:!1,isEditing:!1,shouldShow:!1}),componentDidMount(){r()(window).on("desc:edit",this.onDescEdit),this.store=nz.id(this.props.id),this.store.addChangeListener(this.onStoreChange),this.checkDescription()},componentWillUnmount(){r()(window).off("desc:edit",this.onDescEdit),this.store.removeChangeListener(this.onStoreChange)},onDescEdit(e,t){this.setState({isEditing:t})},onStoreChange(){this.checkDescription()},mouseOver(){this.setState({mouseOver:!0})},mouseLeave(){this.setState({mouseOver:!1})},checkDescription(){const e=this.store.getData(),t=e.keywords,n=e.desc.toLowerCase(),i=L().filter(t,(e=>n.indexOf(e.toLowerCase())>=0)),r=t.length&&!i.length;this.setState({shouldShow:r})},render(){if(!this.state.shouldShow)return null;const e=this.state.isEditing||this.state.mouseOver?h.createElement("div",{className:"description-hint"},(0,ai.Z)("noTagsDetected")):null;return h.createElement("div",{className:"desc-tooltip",onMouseEnter:this.mouseOver,onMouseLeave:this.mouseLeave},h.createElement("span",{className:"description-alert-icon"}),e)}}),GU=we.Z.keyMirror(["TRANSLATE","UPDATE_LANGUAGE","UPDATE"],"TRANSLATION"),XU={stores:{},id(e){return this.stores[e]?this.stores[e]:this.create(e)},create(e){const t=new ds.Z("TranslationStore["+e+"]",{_data:{source:ye.Z.getItem("default_source_language")||x2.defaults.source,target:ye.Z.getItem("default_target_language")||x2.defaults.target,keywords:[],translated:[],loading:!1,error:!1}});return this.stores[e]=t,this.stores[e]}};XU.dispatchToken=ko.Z.register((e=>{const t=XU.stores[e.id],n=GU;if(!e.id||!t)return;const i=nz.id(e.id);switch(e.action){case JV.UPDATE:{ko.Z.waitFor([nz.dispatchToken]);const e=i.getData();t.data.keywords=e.keywords,t.emitChange();break}case n.TRANSLATE:t.data.translated=e.translated,t.data.error=!1,t.data.loading=!1,t.emitChange();break;case n.UPDATE_LANGUAGE:t.data[e.key]=e.language,ye.Z.setItem("default_"+e.key+"_language",e.language),t.emitChange();break;case n.UPDATE:L().extend(t.data,e.payload),t.emitChange()}}));const QU=XU,JU={translate(e,t){const n=QU.id(e).getData(),i=(0,ve.h)().featurePermitted("translate")?null:3,r=i?L().first(t,i):t;if(n.source===n.target)return;let a={title:r.join("<br>"),description:"",source_language:n.source,target_language:n.target};"auto"===n.source&&(a=L().omit(a,"source_language")),x2.post(a).done((t=>{const n=t.title.replace(/&#39;/g,"'").split(/\s?<br>\s?/);ko.Z.dispatch({id:e,translated:n,action:GU.TRANSLATE})})).fail((t=>{ko.Z.dispatch({id:e,payload:{error:!0},action:GU.UPDATE}),(0,Y.Z)("There was a problem getting your translations...",t)}))},updateLanguage(e,t,n){ko.Z.dispatch({id:e,key:t,language:n,action:GU.UPDATE_LANGUAGE})},update(e,t){ko.Z.dispatch({id:e,payload:t,action:GU.UPDATE})}},eW=JU,tW=Oo()({displayName:"TranslationModal",limit:30,getInitialState(){return this.store=QU.id(this.props.id),{store:this.store.getData(),originalKeywords:this.store.getData().keywords,locked:!1}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentDidMount(){this.translate()},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},sourceChange(e){eW.updateLanguage(this.props.id,"source",e),this.translate()},targetChange(e){eW.updateLanguage(this.props.id,"target",e),this.translate()},addAllKeywords(){this.setState({locked:!0}),this.props.addAll(this.props.id,this.state.store.translated).done((()=>{cs.destroy()}))},translate(){"choose"!==this.state.store.target&&(eW.update(this.props.id,{loading:!0}),eW.translate(this.props.id,this.state.originalKeywords))},getButtons(){return["cancel",{text:(0,ai.Z)("addAllTitle"),onClick:this.addAllKeywords,position:"right"}]},getMessage(){const e=this.state.store;return"choose"===e.target?h.createElement("h3",{className:"alert"},(0,ai.Z)("chooseLanguage")):e.source===e.target?h.createElement("h3",{className:"alert"},(0,ai.Z)("chooseTwoLangs")):e.loading?h.createElement(os,{size:"medium"}):!e.loading&&e.error?h.createElement("h3",{className:"alert"},(0,ai.Z)("translationProblem")):null},render(){return h.createElement(cs,{title:(0,ai.Z)("translateKeywordsTitle"),buttons:this.getButtons(),locked:this.state.locked},h.createElement("div",{className:"translate-modal"},this.getMessage(),this.upsell(),this.languageSelect(),this.keywordLists(),this.applying()))},languageSelect(){if(this.state.locked)return null;const e=L().extend({auto:(0,ai.Z)("autoDetect")},OA),t=L().extend({choose:(0,ai.Z)("chooseLanguage2")},OA);return h.createElement("div",{className:"language-select"},h.createElement(sx,{onChange:this.sourceChange,classes:"language-select-source",defaultValue:this.state.store.source,values:e}),h.createElement("div",{className:"language-select-arrow"},"➡"),h.createElement(sx,{onChange:this.targetChange,classes:"language-select-target",defaultValue:this.state.store.target,values:t}))},keywordLists(){if(this.state.locked||!this.state.store.translated.length)return null;const e=this.getMessage()?[]:this.state.store.translated,t=(0,ve.h)().featurePermitted("translate")?this.state.store.keywords:L().first(this.state.store.keywords,3);return h.createElement("div",{className:"keyword-lists"},h.createElement(ZL,{keywords:t,classes:"original-keywords",kwins:!1,getData:!1}),h.createElement(ZL,{keywords:e,classes:"translated-keywords",addable:!0,namespace:this.props.id,kwins:!1,onKeywordAdded:this.props.addKeyword,getData:!0}))},applying(){if(!this.state.locked||this.state.store.error)return null;const e=L().filter(this.state.store.keywords,(e=>this.state.originalKeywords.indexOf(e)<0));return h.createElement("div",{className:"middle-applying"},h.createElement("div",{className:"header"},h.createElement("h2",null,(0,ai.Z)("addingTranslatedKeywords")),h.createElement(os,{size:"small"})),h.createElement("div",{className:"keyword-lists"},h.createElement(ZL,{keywords:e,kwins:!1,classes:"adding-keywords"})))},upsell(){if((0,ve.h)().featurePermitted("translate")||this.getMessage()||this.state.store.error)return null;const[e,t,n]=(0,ai.Z)("upgradeProTranslate",["|","|"]).split("|");return h.createElement("h3",null,e,h.createElement(xs,{Translate:!0,resetClassName:!0,text:t,targetPlan:"pro",anchor:!0}),n)}}),nW=tW,iW=Oo()({displayName:"UploadTranslations",getInitialState(){return this.store=nz.id(this.props.id),{store:this.store.getData()}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},showTranslationModal(){if(this.state.store.keywords.length)if((0,ve.h)().featurePermitted("translate")){const e={id:this.props.id,addKeyword:this.props.addKeyword,addAll:this.props.addAll};cs.mount(nW,e)}else cs.create({innerComponent:Oz,title:(0,ai.Z)("translateTitle")})},render(){return this.state.store.settings.translate?h.createElement(is,{classes:"vidiq-translate-button",text:"🌎 "+(0,ai.Z)("translateTitle"),onClick:this.showTranslationModal,key:we.Z.prettyRandomId()}):null}}),rW=(e,t,n)=>{ht("saved translations",{"video id":e,location:(0,be.Z)(),"translated title":t,"translated description":n})},aW=()=>{const e=document.querySelector(".yt-masthead-picker-name");if(e)return e.textContent},oW={mountTitleSuggestions(e){const t=cW.getElement(e,".video-settings-title");we.Z.mountComponent({component:Iz,element:t,insertFn:"after",props:{addKeyword(t){cW.addKeywordToTitle(e,t)},mode:"title",id:e,permitted:(0,ve.h)().featurePermitted("uploadAndEdit")}})},mountDescSuggestions(e){const t=cW.getElement(e,".video-settings-description");we.Z.mountComponent({component:Iz,element:t,insertFn:"after",props:{addKeyword(t){cW.addKeywordToDesc(e,t)},mode:"description",id:e,permitted:(0,ve.h)().featurePermitted("uploadAndEdit")}})},mountKwinsButton(e,t){const n=cW.getElement(e,t);we.Z.mountComponent({component:CU,element:n,props:{id:e}}),cW.setKwinsButtonData(e)},mountClearButton(e,t){const n=cW.getElement(e,t);we.Z.mountComponent({component:Hz,element:n,props:{id:e,clear:cW.clearKeywords}})},mountTemplatesButton(e,t){const n=cW.getElement(e,t);we.Z.mountComponent({component:Az,element:n,rootClass:"tag-templates-dropdown-container",props:{id:e}})},mountCopyButton(e,t){const n=cW.getElement(e,t);we.Z.mountComponent({component:kU,element:n,props:{id:e}})},mountCharacterCounter(e){const t=[[cW.getElement(e,".video-settings-title"),'input[name="title"]',100],[cW.getElement(e,".video-settings-description"),'textarea[name="description"]',5e3],[cW.getElement(e,"div.basic-info-form-input:not(.upload-item-tag-suggestions)"),'input[name="keywords"]',500]];L().each(t,(t=>{we.Z.mountComponent({component:xz,element:t[0],insertFn:'input[name="keywords"]'===t[1]?null:"after",props:{id:e,watchSelector:t[1],maxChars:t[2]}})}))},mountUploadTooltip(e){const t=cW.getElement(e,".video-settings-description");we.Z.mountComponent({component:KU,element:t,insertFn:"after",rootClass:"description-hint-parent",props:{id:e}})},mountTranslate(e,t,n){const i=cW.getElement(e,n),r=cW.getElement(e,".translation-editor-container");we.Z.mountComponent({component:iW,element:i,props:{id:e,addKeyword:cW.addKeyword,addAll:cW.addKeywords}}),cW.languageListener(e),we.Z.mountComponent({component:Nz,element:r,props:{id:e,videoId:t}})},mountKeywordRank(e,t){we.Z.mountComponent({component:Ez,element:e,insertFn:"before",inline:!0,rootClass:"keyword",props:{rank:t}})},mountKeywordScore(e,t,n){we.Z.mountComponent({component:sz,element:e,insertFn:"before",inline:!0,rootClass:"keyword",props:{compvol:t,weightClass:n}})},mountThumbnailButton(e,t,n){if("edit"!==n&&"live"!==n)return;const i="live"===n?".metadata-column":".subnav .tabs",r=cW.getElement(e,i);we.Z.mountComponent({component:$U,element:r,inline:!0,props:{videoId:t}})},mountUploadOrEditView(e,t){we.Z.mountComponent({component:wU,element:r()(t.el),insertFn:"after",props:{mode:t.mode,addKeyword:cW.addKeyword,id:e}})},mountAnnotationCardTemplates(e,t,n){we.Z.mountComponent({component:kz,selector:e,insertFn:"after",props:{videoId:t,mode:n}})},mountSeoScore(e){we.Z.mountComponent({component:zU,selector:".metadata-column",insertFn:"after",props:{id:e}})},mountBestTimeToPost(e){we.Z.mountComponent({component:Wz,selector:".metadata-privacy-field",insertFn:"after",props:{id:e}})},mount:yo()(((e,t)=>{const n=we.Z.prettyRandomId();r()(e).addClass("vidiq-"+n),cW.setupTooltips(n);let i="",a="";if("annotate"===t||"card"===t){const n=window.location.search.match(/v=([^&]+)/)[1];return void oW.mountAnnotationCardTemplates(e,n,t)}const o=nz.create(n);QU.create(n),o.addChangeListener((()=>{o.getData().settings.dragDrop?cW.ensureDragAndDrop(n):cW.disableDragAndDrop(n)})),PL.addChangeListener((()=>{const e=PL.getData();L().isEmpty(e)||cW.insertKeywordScores(n,t,e)})),cW.listenForInput(n,t),setTimeout((()=>{cW.setupEmojiPicker(n)}),2e3),r()(window).on("emoji-menu-toggle",(()=>{cW.setupEmojiPicker(n)})),cW.onChangeTab(n),o.getData().settings.dragDrop&&cW.ensureDragAndDrop(n);const s="live"===t?".metadata-two-column":"div.basic-info-form-input";oW.mountCharacterCounter(n),oW.mountTemplatesButton(n,s),oW.mountKwinsButton(n,s),oW.mountClearButton(n,s),oW.mountCopyButton(n,s),oW.mountUploadTooltip(n),oW.mountTitleSuggestions(n),oW.mountDescSuggestions(n),oW.mountSeoScore(n),oW.mountBestTimeToPost(n);const l=()=>{r()(window).trigger("vidiq:fetch-seo-checklist")},c=new MutationObserver(l),u=r()(".metadata-column .yt-uix-button-content .playlist-icon").get(0);u&&c.observe(u,{attributes:!0});const d=new MutationObserver(l),h=r()("[name=video_monetization_style]").get(0);h&&d.observe(h,{attributes:!0}),r()(".metadata-privacy-input").change(l),document.querySelectorAll(".save-changes-button").forEach((e=>{e.addEventListener("click",(()=>{const e=o.getData();wM(e.tagRecsAdded,e.videoId),oz.clearAddedTagRecs(n);const t=e.persisted.keywords.join("")!==e.keywords.join(""),r=e.persisted.title!==e.title;oz.update(n,{persisted:{desc:e.desc,title:e.title,privacy:e.privacy,keywords:e.keywords}}),ht("edited video",{via:lt(),"channel id":e.channelId,"channel name":aW(),"video id":e.videoId,"video name":e.title,"tags updated":t,"title updated":r,"privacy setting":e.privacy,"tags count":e.keywords.length});const s=cW.getTranslatedTitle(n),l=cW.getTranslatedDescription(n);s===i&&l===a||rW(e.videoId,!!s,!!l)}),!0)})),r().when(oW.getChannelID(),cW.getCurrentVideoId(n,t)).done(((r,o)=>{r&&(oz.update(n,{videoId:o,channelId:r}),oz.setInitOptimStatus(n),oW.mountThumbnailButton(n,o,t),oW.mountTranslate(n,o,s),go.Z.watch(".translation-editor-container").enter((()=>{i=cW.getTranslatedTitle(n),a=cW.getTranslatedDescription(n)})),oW.mountUploadOrEditView(n,{mode:t,el:e}))}))}),500,!0),getChannelID(){const e=new(r().Deferred);return(0,_e.Z)().then((t=>{e.resolve(t)})),e.promise()}};r()(window).one("vidiq:ready",(()=>{go.Z.forPaths(["/edit","/upload","/my_live_events","/my_videos_annotate","/cards"],(e=>{if("loggedout"!==(0,ve.h)().getUserType()&&("/my_live_events"!==e||window.location.search.length))if("/edit"===e||"/my_live_events"===e){ye.Z.setItem("isEditing",!0);const t=".metadata-editor-container";oW.mount(t,"/edit"===e?"edit":"live")}else"/upload"===e?go.Z.watch(".upload-item","upload-companion").enter((e=>{oW.mount(e,"upload")})):"/my_videos_annotate"===e?oW.mount("#annotator-add-div","annotate"):"/cards"===e&&oW.mount(".annotator-learn-more-container","card")}),(()=>{go.Z.clear(".upload-item")}))}));const sW=oW,lW={_data:{},getElement:(e,t)=>e?r()(".vidiq-"+e).find(t):r()(t),getData(e){return this._data[e]||(this._data[e]={}),this._data[e]},touchTagInputField(e,t){const n=window.scrollY,i=this.getElement(e,".video-settings-add-tag");i.trigger("focus"),i.trigger("blur"),t&&setTimeout((()=>{i.trigger("focus")}),10),this.resetScrollPosition(n)},resetScrollPosition(e){window.scrollTo(window.scrollX,e),setTimeout((()=>{window.scrollTo(window.scrollX,e)}),10)},getCurrentVideoId(e,t){const n=new(r().Deferred),i=window.location.search.match("live"===t?/event_id=([^&]+)/:/video_id=([^&]+)/);return i&&i[1]?(n.resolve(i[1]),n.promise()):(go.Z.waitUntil((()=>this.getElement(e,".watch-page-link a"))).done((e=>{n.resolve((e.attr("href")||"").split("/").reverse()[0])})),n.promise())},listenForInput(e){const t={title:this.getUserTitle(e),privacy:this.getPrivacy(e),desc:this.getUserDesc(e),keywords:this.getUserKeywords(e)};oz.update(e,Object.assign({},t,{persisted:t}));this.getElement(e,".video-settings-title").on("input",yo()((()=>{oz.update(e,{title:this.getUserTitle(e)})}),500));this.getElement(e,".metadata-privacy-input").on("change",yo()((()=>{oz.update(e,{privacy:this.getPrivacy(e)})}),500));this.getElement(e,".video-settings-description").on("input",yo()((()=>{oz.update(e,{desc:this.getUserDesc(e)})}),500));const n=this.getElement(e,".video-settings-add-tag");let i;n.on("blur",(()=>{this.setHiddenInputVal(e),i&&(we.Z.unmountComponent(i),i=null)})),n.on("input",(t=>{if(!nz.id(e).getData().settings.autocomplete)return;const a=r()(t.target).val();if(oz.fetchAutocompleteSuggestions(e,a),i)a.length||(we.Z.unmountComponent(i),i=null);else{const t=n.position(),r=this.getElement(e,".video-settings-tag-chips-container");i=we.Z.mountComponent({component:uz,element:r,props:{id:e,position:t}})}}));let a=[];this.getData(e).interval&&clearInterval(this.getData(e).interval),this.getData(e).interval=setInterval((()=>{const t=this.getUserKeywords(e);this.getData(e).dragging||L().isEqual(t,a)||(lW.setProperKeywordsValue(e,t),this.enforceKwins(e,L().difference(t,a)),oz.update(e,{keywords:t})),a=t}),500),"/edit"===window.location.pathname&&(r()(".save-changes-button").click((()=>{this.getData(e).pendingSave=!1})),r()(window).on("beforeunload",(()=>{if(this.getData(e).pendingSave)return"Some of the changes you have made to video settings have not been saved and will be lost if you navigate away from this page."})))},setupEmojiPicker(e){const t=nz.id(e).getData(),n=this.getElement(e,".video-settings-title"),i=this.getElement(e,".video-settings-description");we.Z.mountComponent({component:hW,element:n,insertFn:"after",props:{type:"title",id:e}}),we.Z.mountComponent({component:hW,element:i,insertFn:"after",props:{type:"desc",id:e}}),t.settings.emojiMenu?r()(".vidiq-emoji-menu-dropdown").removeClass("hidden"):r()(".vidiq-emoji-menu-dropdown").addClass("hidden")},addKeyword(e,t){if(lW.getUserKeywords(t).indexOf(e)>=0)return;dt("User added a vidIQ suggested tag");const n=ye.Z.getItem("tagsAdded")?ye.Z.getItem("tagsAdded"):0;ye.Z.setItem("tagsAdded",n+1);lW.getElement(t,".video-settings-add-tag").val(e),lW.touchTagInputField(t)},addKeywords(e,t){const n=new(r().Deferred);let i=300;return L().each(t,(r=>{setTimeout((()=>{lW.addKeyword(r.trim(),e),t.indexOf(r)===t.length-1&&n.resolve()}),i),i+=300})),n.promise()},addKeywordToTitle(e,t){const n=lW.getElement(e,".video-settings-title");n.val(n.val()+" "+t),n.trigger("input"),this.getData(e).pendingSave=!0},addKeywordToDesc(e,t){const n=lW.getElement(e,".video-settings-description");n.val(n.val()+" "+t),n.trigger("input"),this.getData(e).pendingSave=!0},clearKeywords(e){const t=lW.getElement(e,".video-settings-tag-chips-container .yt-chip .yt-delete-chip");t.length&&(L().each(t,(e=>{e.click()})),lW.touchTagInputField(e))},getUserKeywords(e){const t=this.getElement(e,".video-settings-tag-chips-container .yt-chip");return L().map(t,(e=>{const t=r()(e).attr("title");return t?t.trim():""}))},getUserTitle(e){return this.getElement(e,".video-settings-title").val().trim()},getUserDesc(e){return this.getElement(e,".video-settings-description").val().trim()},getPrivacy(e){const t=this.getElement(e,".metadata-privacy-input").val().toLowerCase();return t||Me.Z.error("UploadDOM: privacy not found"),t},enforceKwins(e,t){const n=this.getElement(e,".video-settings-tag-chips-container");L().each(t,(t=>{const i=n.find('.yt-chip[title="'+t.replace(/(')/g,"\\$1")+'"]');i.is("vidiq-kwins-attached")||(i.attr({"data-keyword-inspector":t,"data-keyword-addable":!0,"data-keyword-namespace":e}),i.addClass("vidiq-kwins-attached"))}))},setKwinsButtonData(e){this.getElement(e,".open-kwins").data({"keyword-namespace":e,"keyword-addable":!0})},onChangeTab(e){const t=this.getElement(e,".tabs li[data-tab-id]");r()("body").on("click",t,(()=>{const t=this.getElement(e,"[data-tab-id=basic-info]");if(!t.length)return;let n;n=e?r()(".vidiq-"+e).next().children(".vidiq-upload"):r()(".vidiq-upload"),t.is(".selected")?n.show():n.hide()}))},setupTooltips(e){const t=new hz({parent:r()("body"),position:"follow"});r()("body").data("tooltips",t);this.getElement(e,".video-settings-description").on("focus",(()=>{r()(window).trigger("desc:edit",!0)})).on("blur",(()=>{r()(window).trigger("desc:edit",!1)}))},setProperKeywordsValue(e,t){t||(t=this.getUserKeywords(e)),lW.getData(e).properKeywords=L().map(t,(e=>e.indexOf(" ")>=0?'"'+e+'"':e)).join(" "),this.setHiddenInputVal(e)},setHiddenInputVal(e){setTimeout((()=>{const t=this.getData(e).properKeywords,n=lW.getElement(e,".video-settings-tags");if(!t||!t.trim().length||n.val()===t)return;n.val(this.getData(e).properKeywords),this.getData(e).pendingSave=!0;r()(".save-changes-button").attr("disabled",!1)}),50)},ensureDragAndDrop(e){const t=this.getElement(e,".video-settings-tag-chips-container");r()(".yt-chip").css("cursor","move"),t.sortable("instance")?t.sortable("refresh"):t.sortable({items:".yt-chip",revert:!0,tolerance:"pointer",containment:"parent",cursor:"move",start(){lW.getData(e).dragging=!0},stop(){lW.setProperKeywordsValue(e);lW.getElement(e,".video-settings-add-tag").trigger("focus"),lW.getData(e).dragging=!1}})},disableDragAndDrop(e){const t=this.getElement(e,".video-settings-tag-chips-container");t.sortable("instance")&&t.sortable("destroy"),r()(".yt-chip").css("cursor","pointer")},insertKeywordScores(e,t,n){const i=this.getUserKeywords(e),r=nz.id(e).getData();if(L().map(i,(t=>{const i=t.replace(/(')/g,"\\$1"),a=this.getElement(e,'.yt-chip[title="'+i+'"]'),o=a.find(".score"),s=a.find(".yt-delete-chip"),l=n[t.toLowerCase()];if(l)if(a.is(".has-score"))a.is(".has-score")&&l.overall&&o.attr("data-value")!==l.overall.toString()&&(a.find(".keyword-text").parent().remove(),sW.mountKeywordScore(s,l,r.weightClass));else{a.addClass("has-score");const e=pL.weightClassName(r.weightClass,l.competition);e&&a.addClass(e),sW.mountKeywordScore(s,l,r.weightClass)}})),"edit"!==t)return;const a=L().reject(i,(t=>{const n=t.replace(/(')/g,"\\$1");return this.getElement(e,'.yt-chip[title="'+n+'"]').is(".with-search-rank")}));YP.fn.apply({keywords:a,video_id:r.videoId},[t=>{L().each(a,(n=>{const i=n.replace(/(')/g,"\\$1"),r=this.getElement(e,'.yt-chip[title="'+i+'"]'),a=r.find(".yt-delete-chip"),o=t[n];o&&(sW.mountKeywordRank(a,o),oz.addKeywordSearchRank(e,n,o)),r.addClass("with-search-rank")}))}])},getOriginalLang(e){const t=this.getElement(e,".translation-editor-original-language .yt-uix-button-content");return x2.getLanguageCode(t.text())},getTranslationLang(e){const t=this.getElement(e,".translation-editor-translation-menu-button .yt-uix-button-content");return x2.getLanguageCode(t.text())},getTranslatedTitle:e=>document.querySelector(`.vidiq-${e} .translation-editor-translated-title`).value,getTranslatedDescription:e=>document.querySelector(`.vidiq-${e} .translation-editor-translated-description`).value,languageListener(e){const t=nz.id(e).getData();this.langInterval&&clearInterval(this.langInterval),this.langInterval=setInterval((()=>{const n={},i=this.getTranslationLang(e),r=this.getOriginalLang(e);i!==t.transLang&&(n.transLang=i),r!==t.origLang&&(n.origLang=r),L().isEmpty(n)||oz.update(e,n)}),500)},setTranslations(e,t){const n=this.getElement(e,".translation-editor-translated-title"),i=this.getElement(e,".translation-editor-translated-description");n.val(t.title),i.val(t.description),this.saveTranslations(e)},saveTranslations(e){B((e=>{const t=document.querySelector(".vidiq-"+e.id+" .translation-editor-translated-title"),n=document.querySelector(".vidiq-"+e.id+" .translation-editor-translated-description");window.angular.element(t).triggerHandler("change"),window.angular.element(n).triggerHandler("change")}),{id:e})}},cW=lW,uW={dropdownCoordinates(e,t){let n;n=t?r()(`.vidiq-emoji-menu-dropdown.${e}[vidiq-id=${t}]`):r()(`.vidiq-emoji-menu-dropdown.${e}`),n=r()(n[0]);const i=n.offset();return(0,Y.Z)("Emoji dropdownCoordinates",n,i),{top:(i.top+20).toString()+"px",left:(i.left-281).toString()+"px"}},relativeCommentBoxElement(){switch(window.location.pathname){case"/watch":return r()(".comment-simplebox-text");case"/comments":return r()(".yt-commentbox-text")}},onClickEmoji(e,t,n){if(r()(t).is("input")||r()(t).is("textarea")){const i=t.selectionStart,a=t.selectionEnd;let o=r()(t).val();i?(o=o.slice(0,i)+e.native+o.slice(i),r()(t).val(o),r()(t).focus(),t.setSelectionRange(i,a)):(o+=e.native,r()(t).val(o)),n&&n(o)}else{const n=r()(t).text();r()(t).text(n+e.native)}},windowResize(){const e=r()(".emoji-mart");if(e.length){const t=uW.dropdownCoordinates();e.css("top",t.top),e.css("left",t.left)}},mountEmojiMenu(e,t,n){if(this.mountId)return null;const i=this.dropdownCoordinates(e,t);this.mountId=we.Z.mountComponent({component:GV,selector:"body",rootClass:`vidiq-emoji-menu-container ${e}`,props:{style:{position:"absolute",zIndex:"9999",top:i.top,left:i.left},showSkinTones:!0,defaultSkin:1,skin:1,emojiSize:20,emoji:"",title:"",data:HB,native:!0,onClick:i=>{if("vidiq-new-layout-video-page"===e)return void n(i);let a;a="title"===e?cW.getElement(t,".video-settings-title").get(0):"desc"===e?cW.getElement(t,".video-settings-description").get(0):"comment-templates"===e?r()(".template-text"):"comment-template-create"===e?r()(".comment-template-create-textbox"):"studio-title"===e?r()("textarea.ytcp-form-textarea").get(0):"studio-desc"===e?r()("textarea.ytcp-form-textarea").get(1):this.relativeCommentBoxElement(),this.onClickEmoji(i,a,n)}}});const a=_o()(this.windowResize,100);r()(window).on("resize",a)},unmountEmojiMenu(){this.mountId&&(we.Z.unmountComponent(this.mountId),this.mountId=null)},replaceEmojisWithUnicode(e){const t=QV()(),n=e.match(t);if(!n||!n.length)return e;let i=e;return n.forEach((e=>{const t=this.buildUnicodeString(e),n=new RegExp(e,"g");i=i.replace(n,t)})),i},buildUnicodeString(e){let t=0,n="";for(;t<e.length;){const i=e.codePointAt(t);n+=(i?this.toUTF16(i):null)||"",t+=1}return n},replaceUnicodeWithEmojis:e=>decodeURIComponent(JSON.parse('"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/%/g,"%25")+'"')),toUTF16(e){function t(e){return"\\u"+e.toString(16).toUpperCase()}if(e<=65535)return t(e);return t(55296+((e-=65536)>>10))}},dW=uW,hW=Oo()({displayName:"EmojiMenuDropdown",getInitialState:()=>({expanded:!1}),componentDidUpdate(e,t){this.emojiMenu(),this.state.expanded?t.expanded||r()(window).on("click.Bst",this.detectClicks):r()(window).off("click.Bst",this.detectClicks)},componentWillUnmount(){dW.unmountEmojiMenu()},getCommentBoxElement(){if("studio"===window.location.host.split(".")[0])return r()("textarea.ytcp-form-textarea");switch(window.location.pathname){case"/watch":return r()(".comment-simplebox");case"/comments":return r()(".yt-commentbox-ready");case"/edit":case"/upload":return"title"===this.props.type?r()(".video-settings-title"):r()(".video-settings-description");default:if("comment-templates"===this.props.type)return r()(".template-text")}},detectClicks(e){const t=r()(".vidiq-emoji-menu-container"),n=this.getCommentBoxElement(),i=r()(".vidiq-emoji-menu-dropdown");0!==t.has(e.target).length||t.is(e.target)||0!==n.has(e.target).length||n.is(e.target)||0!==i.has(e.target).length||i.is(e.target)||this.setState({expanded:!1})},emojiMenu(){this.state.expanded?dW.mountEmojiMenu(this.props.type,this.props.id,this.props.triggeredChange):dW.unmountEmojiMenu()},toggle(){this.setState({expanded:!this.state.expanded})},render(){const e=Fo()("vidiq-emoji-menu-dropdown",this.props.type,{expanded:this.state.expanded});return h.createElement("div",{className:e,"vidiq-id":this.props.id},h.createElement("i",{className:"material-icons",onClick:this.toggle},"tag_faces"))}});function pW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fW extends h.Component{constructor(e){super(e),pW(this,"onStoreChange",(()=>{const e=HL.getData();if(e.settings.preview!==this.state.display&&this.setState({display:e.settings.preview}),e.keySearchTerm===this.state.storeValue)return;const t={storeValue:e.keySearchTerm};this.state.value!==e.keySearchTerm&&(t.value=e.keySearchTerm),this.setState(t)})),pW(this,"setAndFetch",yo()((e=>{sB.set(this.state.videoId,e),C2.fetchKeySearchTermHotSearch(e,this.props.channelId),C2.update({keySearchTerm:e})}),1e3)),pW(this,"onChange",(e=>{const t=e.target.value;this.setState({value:t}),this.setAndFetch(t)}));const t=HL.getData();this.state={storeValue:t.keySearchTerm,value:t.keySearchTerm,videoId:t.videoId,display:t.settings.preview}}componentDidMount(){HL.addChangeListener(this.onStoreChange)}componentWillUnmount(){HL.removeChangeListener(this.onStoreChange)}render(){return this.state.display||void 0===this.state.display?h.createElement("div",{className:"vidiq-key-search-term-container"},h.createElement("div",{className:"vidiq-key-search-term-header"},h.createElement(ts,{size:"16px",marginRight:"8px"}),h.createElement("div",{className:"vidiq-key-search-term-header-text"},(0,ai.Z)("whatSearchTermRank"))),h.createElement("input",{className:"vidiq-key-search-term-input",type:"text",placeholder:(0,ai.Z)("addKeySearchTerm"),value:this.state.value,onChange:this.onChange})):null}}const mW=fW,gW=Oo()({displayName:"StudioBetaBestTimeToPost_Inner",componentDidMount(){C2.fetchBestTimeToPost(NY.getChannelId(),NY.videoId)},render(){return this.props.settings.bestTimeToPost?h.createElement(Uz,{page:"studio",bestTimeToPost:this.props.bestTimeToPost,fetchingBestTimeToPost:this.props.fetchingBestTimeToPost,bestTimeToPostError:this.props.bestTimeToPostError,timePublished:this.props.timePublished}):null}}),vW=ug(gW,HL);function yW(e,t){const n=function(e){let t=30;const n=e.period_end;if(Number.isFinite(n)){const e=new Date/1e3;if(e<=n){const i=n-e;t=Math.ceil(i/60/60/24)}}return t}(t),i=t.quota_left,r=i+t.quota_used;if(e)return function(e,t){let n=(0,ai.Z)("optimizeOneMoreVideo");1!==e&&(n=(0,ai.Z)("optimizeNMoreVideos",[e]));let i=(0,ai.Z)("newPeriodStartsTomorrow");return 1!==t&&(i=(0,ai.Z)("newPeriodStartsNDays",[t])),{message:`${n} ${i}`}}(i,n);const a=(0,ai.Z)("quotaLimitTooltip",[r]);let o=(0,ai.Z)("outOfOptimizationsTomorrow",["|","|"]);return n>1&&(o=(0,ai.Z)("outOfOptimizationsNDays",["|","|",n])),{message:o,tooltip:a}}const bW=Oo()({displayName:"StudioBetaOptimizeButton_Inner",getInitialState:()=>({optimizeData:(0,ve.h)().getOptim()}),enableOptimization(){let{videoId:e}=this.props;e||(e=NY.videoId),C2.enableOptimization(e)},optimizationMessage(e){const t=yW(e,this.state.optimizeData);if(e)return h.createElement("div",{className:"vidiq-optimize-message"},t.message);const[n,i,r]=t.message.split("|");return h.createElement("div",{className:"vidiq-optimize-message"},n,h.createElement(xs,{MoreBoost:!0,anchor:!0,text:i,className:"optimization-upsell",targetPlan:"boost",resetClassName:!0}),r,h.createElement("i",{className:"icon icon-help","data-fixed":"true","data-tip-message":t.tooltip}))},optimizationError(){if(this.props.optimError)return h.createElement("p",{className:"vidiq-studio-beta-optimize-error",style:{marginTop:"1em"}},this.props.optimError)},render(){if(this.props.optimized||!this.props.permitted)return null;const e=Fo()("vidiq-studio-beta-optimize",this.props.classes);return h.createElement("div",{className:e},h.createElement("button",{className:"vidiq-studio-beta-optimize-button vidiq-optimize-button vidiq-button",onClick:this.enableOptimization},(0,ai.Z)("boostVideoTitle")),this.optimizationError())}}),_W=ug(bW,HL);function wW(e,t){const[n,i]=(0,h.useState)(Boolean(!e||t));return{isExpanded:n,toggleExpanded:(0,h.useCallback)((()=>{e&&i((e=>!e))}),[e]),canExpand:e}}const kW=/(\d{1,2}:\d{2}:\d{2}|\d{1,2}:\d{2})\)?\s(-)?(\s)?(.*)/g;function xW(e){const t=e.match(kW);return null===t?[]:t.reduce(((e,t)=>{const[n,...i]=t.split(" ");return[...e,{timestamp:n,name:i.join(" ")}]}),[])}function EW(e){if(!e||e.length<3)return!1;const t=e.map((e=>function(e){const t=e.split(":");let n=0,i=1;for(;t.length>0;)n+=i*parseInt(t.pop(),10),i*=60;return n}(e.timestamp)));if(0!==t[0])return!1;if(function(e,t){return EB()(e,2).some((([e,n])=>n-e<t))}(t,10))return!1;const n=[...t].sort(((e,t)=>e-t)).slice(0,3),i=t.slice(0,3);return n.every(((e,t)=>e===i[t]))}const CW={isInPlaylist:!1,hasEndScreenCard:!1,hasVideoChapters:!1,hasGoodTitleLength:!1,hasCustomThumbnail:!1,hasClosedCaptions:!1};function SW(e){const t=EW(xW(e.description||""));return{hasGoodTitleLength:(n=e.title,!!n&&n.length<=60),hasClosedCaptions:e.closedCaptions,hasCustomThumbnail:e.customThumbnail,hasVideoChapters:t};var n}async function TW(e,t){try{const n=await async function(e,t){return(0,P.Z)("vidiq.getVideoDetails",{videoId:e,channelId:t})}(e,t);return SW({videoId:e,closedCaptions:n.caption,customThumbnail:n.hasCustomThumbnail,description:n.description,title:n.title})}catch(e){return Me.Z.error(new Error("Video Optimization: Failed to build model"),{error:e}),null}}const DW={attributes:!0,characterData:!0,childList:!0,subtree:!0};function FW(e,t,n=DW){const i=(0,h.useRef)(null);(0,h.useEffect)((()=>{if(i.current=document.querySelector(e),!i.current)return;const r=new MutationObserver(t),a={...DW,...n};return r.observe(i.current,a),()=>{i.current=null,r.disconnect()}}),[t,n,e])}const MW="#still-picker";function AW(){const e=(0,h.useRef)(document.querySelector(MW)),[t,n]=(0,h.useState)(!1),[i,r]=(0,h.useState)(null),a=(0,h.useCallback)((()=>{const t=function(e){try{var t;const n=document.querySelector("ytcp-thumbnails-compact-editor-uploader");if(!n)return{value:!1};const i=!(null===(t=n.querySelector("ytcp-img-with-fallback #img-with-fallback"))||void 0===t||!t.getAttribute("src"));if(!e)return{value:!1};const r=Array.from(document.querySelectorAll("ytcp-still-cell")).some((t=>t.parentElement===e&&t.hasAttribute("selected")));return{value:i&&!r}}catch(e){return{value:!1,error:e}}}(e.current);n(t.value),r(t.error||null)}),[]);return(0,h.useEffect)((()=>{a()}),[a]),(0,h.useEffect)((()=>{i&&Me.Z.error("[SeoChecklist] cannot get custom thumbnail in studio",i)}),[null==i?void 0:i.name]),FW(MW,a,{characterData:!1}),t}const IW="ytcp-video-metadata-editor";let OW;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NETWORK=1]="NETWORK",e[e.SCRAPE=2]="SCRAPE"}(OW||(OW={}));const NW={[OW.UNKNOWN]:e=>({model:CW}),[OW.NETWORK]:e=>{const[t,n]=(0,h.useState)(null),i=$q((e=>e.videoCompanion.endscreens>0)),r=$q((e=>!!e.videoCompanion.added_to_playlist)),a=Tu();(0,h.useEffect)((()=>{e&&a&&TW(e,a).then((e=>{e&&n(e)}))}),[e,a]);return{model:t?{...t,hasEndScreenCard:i,isInPlaylist:r}:null}},[OW.SCRAPE]:e=>{const t=AW(),n=function(){const e=(0,h.useRef)(document.querySelector(IW)),[t,n]=(0,h.useState)(null),[i,r]=(0,h.useState)(!1),a=(0,h.useCallback)((()=>{try{if(!e.current)return;const t=e.current.querySelector("ytcp-dropdown-trigger");if(!t)return;const n=!t.classList.contains("use-placeholder");r(n)}catch(e){n(e)}}),[]);return(0,h.useEffect)((()=>{C2.updateSeoChecklist({list:{seo_checklist_added_to_playlist:i}})}),[i]),(0,h.useEffect)((()=>{t&&Me.Z.error("[SeoChecklist] cannot get is in playlist in studio",t)}),[null==t?void 0:t.name]),FW(IW,a,{characterData:!1}),i}(),[i,r]=(0,h.useState)(null);!function(e){const t=(0,h.useRef)(null),n=Uq(),i=(0,h.useRef)(!0);(0,h.useEffect)((()=>{if(e)return t.current=setInterval((()=>{cL(e,["seo_checklist_cards","seo_checklist_end_screens"]).done((e=>{i.current&&e&&C2.updateSeoChecklist({list:{seo_checklist_cards:e.seo_checklist_cards,seo_checklist_end_screens:e.seo_checklist_end_screens}})}))}),3e3),()=>{t.current&&clearInterval(t.current),i.current=!1}}),[n,e])}(e);const{title:a,description:o,closedCaptions:s,hasEndScreenCard:l}=$q((e=>{var t,n,i,r;return{title:e.studioBeta.title,description:e.studioBeta.description,closedCaptions:!(null===(t=e.studioBeta.seoChecklist)||void 0===t||null===(n=t.list)||void 0===n||!n.seo_checklist_closed_captions),hasEndScreenCard:!(null===(i=e.studioBeta.seoChecklist)||void 0===i||null===(r=i.list)||void 0===r||!r.seo_checklist_end_screens)}}));return(0,h.useEffect)((()=>{const i=SW({description:o,title:a,closedCaptions:s,videoId:e??"",customThumbnail:t});r({...i,hasEndScreenCard:l,isInPlaylist:n})}),[s,o,l,t,a,e,n]),{model:i}}};const PW={hasClosedCaptions:"checklistHasClosedCaptions",hasCustomThumbnail:"checklistHasCustomThumbnail",hasEndScreenCard:"checklistHasEndscreenCard",hasGoodTitleLength:"checklistValidTitleLength",hasVideoChapters:"checklistHasChapters",isInPlaylist:"checklistHasPlaylist"},RW={hasClosedCaptions:{key:"checklistClosedCaptionsTooltip",url:"https://www.youtube.com/watch?v=VvohixKOxb8"},isInPlaylist:{key:"checklistPlaylistTooltip",url:"https://www.youtube.com/watch?v=SJWTFIbSj4g"},hasEndScreenCard:{key:"checklistCardTooltip",url:"https://www.youtube.com/watch?v=wUnBloy7oko"},hasGoodTitleLength:{key:"checklistTitleLengthTooltip"},hasVideoChapters:{key:"checklistChaptersTooltip",url:"https://www.youtube.com/watch?v=2ezyyU4ZWU4"},hasCustomThumbnail:{key:"checklistCustomThumbnailTooltip",url:"https://www.youtube.com/watch?v=Qzi471bVM1Q"}},jW=["hasCustomThumbnail","isInPlaylist"];const LW=bf("button",{cursor:"pointer",padding:"0px",border:"none",background:"none",color:"inherit"});function qW({expanded:e,onClick:t}){return h.createElement(LW,{onClick:t},h.createElement(Af,{size:"sm",css:{textAlign:"right",display:"inline-block",flex:1,color:"$textSecondary"}},e?(0,ai.Z)("hide"):(0,ai.Z)("show")))}const ZW=bf("span",{backgroundColor:"$backgroundTertiary",borderRadius:"$1",display:"inline-flex",variants:{variant:{card:{p:"$2"},inline:{py:"$2",px:"6px",alignItems:"center",gap:"$2"}}}});function BW({score:e,total:t,variant:n}){return h.createElement(ZW,{variant:n},"inline"===n&&h.createElement(Af,{as:"span"},h.createElement(Xf,{height:12,width:12})),h.createElement(Af,{as:"span",size:"sm",css:{color:"$textSecondary"}},(0,ai.Z)("totalComplete",[e.toString(),t.toString()])))}const VW=bf("div",{padding:"$4 $5 $4",variants:{expanded:{true:{padding:"$4 $4 $5"}}}});function zW({isExpanded:e,canExpand:t,completedItemsCount:n,totalItemsCount:i,onToggleExpand:r,children:a}){return h.createElement(VW,{expanded:e},h.createElement(Df,{css:{display:"flex",alignItems:"center",flexDirection:"row",width:"100%",gap:"$3"}},h.createElement(Af,{variant:"primary",size:"xl",weight:"bold",css:{display:"inline-block"}},(0,ai.Z)("checklistTitle")),e?null:h.createElement(BW,{score:n,total:i,variant:"card"}),t?h.createElement(qW,{onClick:r,expanded:e}):null),e?a:null)}function UW({isExpanded:e,completedItemsCount:t,totalItemsCount:n,onToggleExpand:i,children:r}){return h.createElement(Df,null,h.createElement(LW,{onClick:i},h.createElement(BW,{score:t,total:n,variant:"inline"})),e?h.createElement(Df,{css:{position:"absolute",width:"100%",left:"0",top:"45px",background:"$backgroundPrimary",zIndex:100,padding:"$4",borderRadius:"$3",boxSizing:"border-box",boxShadow:"0px 20px 30px rgba(0, 0, 0, 8%)"}},h.createElement(Mf,{css:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},h.createElement(Xf,{height:22,width:22}),h.createElement(Af,{variant:"primary",size:"xl",css:{ml:"$3"}},(0,ai.Z)("checklistTitle")),h.createElement(qW,{expanded:e,onClick:i})),r):null)}function WW({variant:e,...t}){const n="card"===e?zW:UW;return h.createElement(n,t)}function HW(){return HW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},HW.apply(this,arguments)}function YW({barColor:e,percentage:t,...n}){return h.createElement("svg",HW({width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),h.createElement(Af,{as:"text",x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle",fontSize:"0.75em",css:{fill:"$textPrimary"}},t),h.createElement("circle",{cx:18,cy:18,r:16,stroke:"#F0F0F0",strokeWidth:2}),h.createElement("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:e,strokeWidth:"3",strokeLinecap:"round",strokeDasharray:`${t}, 100`}))}function $W(){return $W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$W.apply(this,arguments)}function KW(e){return e<=20?"#FF0000":e<=40?"#FF9B3F":e<=60?"#FFC71C":e<=80?"#8FE04E":"#07E092"}const GW=bf("div",{display:"flex",flexDirection:"row",alignItems:"center",variants:{variant:{inline:{justifyContent:"flex-start",gap:"$3","& p":{fontSize:"$sm"}},card:{justifyContent:"space-between",[`${Tf} &`]:{borderBottom:"1px solid $gray800"},borderBottom:"1px solid $gray300",padding:"$4"}}}});function XW({totalCount:e,completedCount:t,variant:n}){const i=Math.round(t/e*100),r="card"===n?{height:36,width:36}:{height:24,width:24};return h.createElement(GW,{variant:n},"inline"===n&&h.createElement(Bf,{height:20,width:20}),h.createElement(Af,{variant:"primary",size:"xl",weight:"bold"},(0,ai.Z)("checklistOptimizationScore")),h.createElement(YW,$W({barColor:KW(i),percentage:i},r)))}var QW=__webpack_require__(2106);function JW(){return JW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},JW.apply(this,arguments)}const eH=h.forwardRef(((e,t)=>h.createElement("svg",JW({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",fill:"none",ref:t},e),h.createElement("path",{fill:"currentColor",d:"M7 .75c-3.883 0-7 3.145-7 7 0 3.883 3.117 7 7 7 3.856 0 7-3.117 7-7 0-3.855-3.144-7-7-7zm0 12.688A5.683 5.683 0 011.312 7.75c0-3.117 2.543-5.688 5.688-5.688 3.117 0 5.688 2.57 5.688 5.688 0 3.144-2.57 5.688-5.688 5.688zm1.094-3.5h-.438V7.53c0-.355-.3-.656-.656-.656h-.875c-.383 0-.656.3-.656.656 0 .383.273.657.656.657h.219v1.75h-.438c-.383 0-.656.3-.656.656 0 .383.273.656.656.656h2.188a.648.648 0 00.656-.656c0-.356-.3-.656-.656-.656zM7 6a.881.881 0 00.875-.875A.9.9 0 007 4.25a.881.881 0 00-.875.875c0 .492.383.875.875.875z"}))));eH.displayName="InfoIcon";const tH=bf("a",{color:"$blue500","&:visited, &:hover":{color:"$blue700"}});function nH({message:e,url:t}){return h.createElement(Rf,{shadow:!0,css:{p:"$4",backgroundColor:"$backgroundSecondary",minWidth:"300px",maxWidth:"fit-content"}},h.createElement(Af,{css:{lineHeight:"1.2"}},(0,ai.Z)(e)," ",t&&h.createElement(tH,{href:t,rel:"noopener noreferrer",target:"_blank"},(0,ai.Z)("checklistVideoExplainationTooltip"))))}function iH({children:e,tooltip:t,tooltipUrl:n}){const i=(0,h.useRef)(null),[r,a]=(0,h.useState)(!1);return h.createElement(Df,{css:{display:"flex",flexDirection:"row",gap:"$3",alignItems:"center",justifyContent:"space-between"},ref:i},h.createElement(Af,{as:"span",css:{alignItems:"center",display:"inline-flex"}},e),h.createElement(QW.Popover,{isOpen:r,onClickOutside:()=>a(!1),containerStyle:{zIndex:"3000"},containerParent:i.current||void 0,positions:["top","right","left","bottom"],padding:10,content:h.createElement(nH,{message:t,url:n})},h.createElement(LW,{onClick:()=>a(!0),css:{color:"$textSecondary"}},h.createElement(eH,null))))}const rH=bf("div",{display:"flex",variants:{variant:{inline:{flexDirection:"row",alignItems:"center",backgroundColor:"$backgroundPrimary",borderRadius:"$2",p:"$3",gap:"$3"},card:{flexDirection:"column"}}}});function aH({videoId:e,ChecklistItemComponent:t,isOwnVideo:n,strategy:i,isExpanded:r,toggleExpanded:a,canExpand:o,variant:s="card"}){const l=function(e){return NW[e||OW.UNKNOWN]}(i),{model:c,unavailableFields:u,totalItemsCount:d,completedItemsCount:p}=function(e,t,n){const{model:i}=t(e),r=n?[]:jW,a=null===i?0:Object.keys(i).length-r.length,o=i?function(e,t){const n={};if(!e)return n;for(const i in e)t.includes(i)||(n[i]=e[i]);return n}(i,r):null;return{model:i,unavailableFields:r,totalItemsCount:a,completedItemsCount:function(e){let t=0;if(!e)return t;for(const n in e)e[n]&&t++;return t}(o)}}(e,l,n),f=c?Object.keys(c).filter((e=>!u.includes(e))):[];return c?h.createElement(h.Fragment,null,h.createElement(rH,{variant:s},h.createElement(XW,{totalCount:d,completedCount:p,variant:s}),h.createElement(WW,{isExpanded:r,canExpand:o,onToggleExpand:a,completedItemsCount:p,totalItemsCount:d,variant:s},h.createElement(Pf,{css:{mt:"$4",gap:"$4"}},f.map((e=>{const n=e,i=RW[n],r=!!c[n],a=(0,ai.Z)(PW[n]);return h.createElement(iH,{key:e,tooltip:i.key,tooltipUrl:i.url},h.createElement(t,{label:a,checked:r}))})))))):null}function oH({label:e,checked:t}){return h.createElement(h.Fragment,null,t?h.createElement(Gf,{height:"16px",width:"16px",fill:"#07E092",color:"white"}):h.createElement(Kf,{height:"16px",width:"16px",fill:"#ff0000",color:"white"}),h.createElement(Af,{as:"span",css:{ml:"$3"}},e))}function sH(){return sH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sH.apply(this,arguments)}function lH(){const e=$q((e=>e.videoCompanion.video_id)),t=$q((e=>e.videoCompanion.owned)),n=wW(!1,!0);return e?h.createElement(aH,sH({variant:"card",videoId:e,ChecklistItemComponent:oH,isOwnVideo:t,strategy:OW.NETWORK},n)):null}function cH({label:e,checked:t}){return h.createElement(h.Fragment,null,t?h.createElement(Gf,{height:"16px",width:"16px",fill:"#07E092"}):h.createElement(Df,{css:{height:"16px",width:"16px",border:"1px solid $borderPrimary",backgroundColor:"$backgroundPrimary",borderRadius:"$round"}}),h.createElement(Af,{as:"span",css:t?{ml:"$3",textDecoration:"line-through",color:"$textSecondary",lineHeight:1.4}:{ml:"$3",lineHeight:1.4}},e))}function uH(){return uH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uH.apply(this,arguments)}function dH(){const e=NY.videoId,t=wW(!0,!0),n={title:$q((e=>e.studioBeta.title||"")),description:$q((e=>e.studioBeta.description||"")),keywords:$q((e=>e.studioBeta.keywords||"")),permitted:(0,ve.h)().featurePermitted("controversialKeywords")},i=$q((e=>{var t;return!(null===(t=e.studioBeta.settings)||void 0===t||!t.seoScore)}));return e?h.createElement(Rf,{css:{mb:"$5"}},i&&h.createElement(aH,uH({videoId:e,ChecklistItemComponent:cH,isOwnVideo:!0,strategy:OW.SCRAPE},t)),h.createElement(FU,{permitted:n.permitted,title:n.title,desc:n.description,keywords:n.keywords})):null}const hH="#dialog.ytcp-uploads-dialog",pH="#dialog.ytcp-uploads-dialog .video-url-fadeable a.ytcp-video-info";function fH(){const e=document.querySelector(pH),t=null==e?void 0:e.getAttribute("href");if(!t||-1===t.indexOf("https"))return null;const n=t.replace("https://youtu.be/","").replace("https://youtube.com/shorts/","");return n||0!==n.length?n:null}function mH(e=10,t=1e3){return new Promise((n=>{const i=fH();if(i)return n(i);let r=e;const a=setInterval((()=>{const e=fH();return e?(clearInterval(a),void n(e)):(r--,0===r?(clearInterval(a),void n(null)):void 0)}),t)}))}function gH(){const e=document.querySelectorAll(".ytcp-uploads-dialog .stepper .separator"),t=e[e.length-1];t&&t.remove()}function vH(){return vH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vH.apply(this,arguments)}const yH=_f({length:0,float:"right",width:"304px",flex:1,mr:"$2"});function bH(){const[e,t]=(0,h.useState)(null);(0,h.useEffect)((()=>{mH().then((e=>{t(e)})),gH()}),[]);const n=wW(!0,!1);return e?h.createElement(Df,{css:{position:"relative"}},h.createElement(aH,vH({videoId:e,ChecklistItemComponent:cH,isOwnVideo:!0,strategy:OW.SCRAPE,variant:"inline"},n))):null}const _H=()=>h.createElement("div",{id:"iq-optimization-checklist"}),wH=Oo()({displayName:"StudioBetaSeoScore_Inner",getInitialState:()=>({tab:"seoStats"}),toggleTab(e){this.setState({tab:e})},isSeoScoreDataEmpty(){return!this.props.seoScoreData||!Object.keys(this.props.seoScoreData).length},isSeoChecklistEmpty(){return!this.props.seoChecklist||!Object.keys(this.props.seoChecklist).length},videoIsPublic(){return!(!this.props.seoChecklist||!Object.keys(this.props.seoChecklist).length)&&!!this.props.seoChecklist.list.seo_checklist_made_public},seoStats(){if("seoStats"!==this.state.tab||this.isSeoScoreDataEmpty())return null;const e=this.videoIsPublic();return h.createElement("div",{className:"vidiq-studio-beta-seo-score-left"},h.createElement(ZU,{seoScoreData:this.props.seoScoreData,performance:e,owned:!0}))},seoChecklist(){return"seoChecklist"!==this.state.tab||this.isSeoChecklistEmpty()?null:h.createElement("div",{className:"vidiq-studio-beta-seo-score-right"},h.createElement(I,{name:tt.NEW_CHECKLIST,abClient:R},h.createElement(N,{name:"control"},h.createElement(TU,{list:(this.props.seoChecklist||{}).list,videoId:this.props.videoId,channelId:this.props.channelId})),h.createElement(N,{name:"variant"},h.createElement(_H,null))))},demonetizationWords(){return h.createElement(FU,{permitted:(0,ve.h)().featurePermitted("controversialKeywords"),title:this.props.title,desc:this.props.description,keywords:this.props.keywords})},errorMessage:()=>h.createElement("div",{className:"vidiq-studio-beta-error vidiq-studio-beta-seo-score-error"},(0,ai.Z)("studioBetaGeneralError",[(0,ai.Z)("seoScoreStatLabel")])),tabs(){if(this.props.fetchingSeoScoreData&&this.props.fetchingSeoChecklist)return h.createElement(os,{size:"big"});if(this.props.seoScoreError&&this.props.seoChecklistError)return this.errorMessage();let e,t;if(!this.isSeoScoreDataEmpty()){const t=this.videoIsPublic(),n=this.props.seoScoreData.actionable.overall,i=[{key:"seo-score",label:(0,ai.Z)("seoScoreStatLabel"),value:t?this.props.seoScoreData.overall:n,outOf:this.videoIsPublic()?100:50,score:!0}],r=Fo()("seoStats",{"vidiq-selected":"seoStats"===this.state.tab}),a=this.toggleTab.bind(this,"seoStats");e=h.createElement(PU,{values:i,classes:r,onClick:a})}if(!this.isSeoChecklistEmpty()){const e=[{key:"checklist",label:(0,ai.Z)("checklistTitle"),value:this.props.seoChecklist.score,outOf:this.props.seoChecklist.outOf,score:!0}],n=Fo()("seoChecklist",{"vidiq-selected":"seoChecklist"===this.state.tab}),i=this.toggleTab.bind(this,"seoChecklist");t=h.createElement(PU,{values:e,classes:n,onClick:i})}return h.createElement("header",{className:"vidiq-studio-beta-seo-score-tabs"},e,t)},render(){return this.props.settings.seoScore?h.createElement("div",{className:"vidiq-studio-beta-seo-score-container"},this.tabs(),this.seoStats(),this.seoChecklist(),this.demonetizationWords()):null}}),kH=ug(wH,HL);function xH({id:e,videoId:t}){return h.createElement(I,{name:tt.NEW_CHECKLIST,abClient:R},h.createElement(N,{name:"control"},h.createElement(kH,{id:e,videoId:t})),h.createElement(N,{name:"variant"},h.createElement(_H,null)))}const EH={companion:"recommended tags",trendingVids:"videos to gain views from",seoScore:"seo score and checklist",emojiMenu:"emoji menu",templates:"tag templates",translate:"translate",kwIns:"keyword inspector",dragDrop:"organize tags",copyKws:"copy tags",charCount:"character counters",autocomplete:"tag autocomplete",bestTimeToPost:"best time to publish",preview:"preview button",previewThumbSection:"preview button (thumbnail section)"},CH=Oo()({displayName:"StudioBetaSettingsMenu_Inner",getInitialState:()=>({expanded:!0}),componentDidMount(){const{settings:e}=this.props,t=NY.defaultSettings();Object.keys(e).length||C2.updateSettings(e,t);const n=Object.keys(e),i={};Object.keys(t).map((e=>{n.indexOf(e)<0&&(i[e]=t[e])})),C2.updateSettings(e,i),this.handleResize()},componentWillUnmount(){clearInterval(this.resizeInterval)},handleResize(){this.resizeInterval=setInterval((()=>{const e=document.querySelector(".vidiq-studio-beta-settings-checkboxes");e.offsetWidth<70?e.style.height="0px":e.style.height="auto"}),500)},toggleExpand(){const e=!this.state.expanded;ht(`${e?"expanded":"minimized"} preferences`,{via:lt()}),this.setState({expanded:e})},updateSettings(e){const t=e.target.name,n={};var i;n[t]=!this.props.settings[t],i=n[t]?"on":"off",ht(`toggled ${i} a preference`,{item:EH[t],via:lt()}),C2.updateSettings(this.props.settings,n)},settingsOptions(){if(!this.state.expanded)return null;const e={companion:(0,ai.Z)("recommendedTagsTitle"),trendingVids:(0,ai.Z)("videosToGainViewsFromTitle"),seoScore:(0,ai.Z)("seoScoreChecklistTitle"),emojiMenu:(0,ai.Z)("emojiMenusTitle"),templates:(0,ai.Z)("tagTemplatesTitle"),translate:(0,ai.Z)("translateTitle"),kwIns:(0,ai.Z)("keywordInspectorTitle"),dragDrop:(0,ai.Z)("organizeTagsTitle"),copyKws:(0,ai.Z)("copyTagsTitle"),charCount:(0,ai.Z)("characterCountersTitle"),autocomplete:(0,ai.Z)("tagAutocompleteTitle"),bestTimeToPost:(0,ai.Z)("bestTimeToPostTitle"),preview:(0,ai.Z)("previewButton"),previewThumbSection:`${(0,ai.Z)("previewButton")} (${(0,ai.Z)("thumbnailSection")})`},t=Object.keys(e).map((t=>{const n=e[t],i=this.props.settings[t]||!1,r=Fo()(`vidiq-settings-${t}`,"iq-settings-item");return h.createElement("li",{className:r,key:`vidiq-settings-${t}`},h.createElement("input",{id:t,name:t,type:"checkbox",onChange:this.updateSettings,checked:i}),h.createElement("label",{htmlFor:t},n))}));return h.createElement("ul",{className:"vidiq-studio-beta-settings-checkboxes"},t)},render(){const e=this.state.expanded?"images/upArrow.png":"images/downArrow.png",t=chrome.runtime.getURL(e),n=Fo()("vidiq-studio-beta-settings-header",{"vidiq-expanded":this.state.expanded});return h.createElement(h.Fragment,null,h.createElement("li",{className:n,onClick:this.toggleExpand},h.createElement(XF,{size:"small"}),h.createElement("h2",null," "+(0,ai.Z)("preferencesTitle")),h.createElement("img",{src:t,className:"vidiq-studio-beta-settings-arrow",alt:""})),this.settingsOptions())}}),SH=ug(CH,HL),TH=Oo()({displayName:"StudioBetaThumbnailButton",openModal(){cs.create({title:(0,ai.Z)("thumbnailEditorTitle"),size:"large",classes:"vidiq-studio-beta-thumbnail-modal",innerComponent:YU,innerProps:{video:{id:this.props.videoId}}})},render(){return h.createElement(is,{classes:"vidiq-studio-beta-thumbnail-button",text:(0,ai.Z)("createThumbnailTitle"),onClick:this.openModal})}}),DH=cs;const FH=function(){const[e,t]=(0,h.useState)(null);return h.createElement(h.Fragment,null,h.createElement("div",{className:"vidiq-studio-translate"},h.createElement(is,{classes:"vidiq-translate-button",text:"🌎 "+(0,ai.Z)("translateTitle"),onClick:async()=>{if((0,ve.h)().featurePermitted("translate"))try{await x2.studioBetaTranslate(),ht("clicked on translate button",{"video id":D2.getVideoIdOnTranslationsPage(),location:(0,be.Z)()})}catch(e){t(e.message)}else DH.create({innerComponent:Oz,title:(0,ai.Z)("translateTitle")})}})),e&&h.createElement("div",{className:"vidiq-studio-translate-error"},e))},MH=Oo()({displayName:"StudioBetaExpandableKeywords",statics:{limit:4},getInitialState:()=>({expanded:!1}),toggleExpanded(){this.setState({expanded:!this.state.expanded})},keywordList(){let e=this.props.keywords;return this.state.expanded||(e=e.slice(0,MH.limit)),e.map((e=>h.createElement(JL,{key:e.keyword,keywordObject:e,trend:this.props.trend})))},expandButton(){if(this.props.keywords.length<=MH.limit)return null;const e=this.state.expanded?"↑":"…",t=Fo()("vidiq-studio-beta-expandable-keywords-button",{expanded:this.state.expanded});return h.createElement("div",{className:t,onClick:this.toggleExpanded},h.createElement("p",null,e))},render(){return this.props.keywords&&this.props.keywords.length?h.createElement("div",{className:"vidiq-studio-beta-expandable-keywords"},this.keywordList(),this.expandButton()):null}}),AH=MH,IH=Oo()({displayName:"StudioBetaSelect",options(){return Object.keys(this.props.options).map((e=>h.createElement("option",{key:e,value:e},this.props.options[e])))},iconName(){return this.props.locked?"lock":"keyboard_arrow_down"},sortBy(){return this.props.includeSortBy?h.createElement("div",{className:"vidiq-studio-beta-select-sort-by"},(0,ai.Z)("sortBy"),":"):null},render(){const e=Fo()("vidiq-studio-beta-select-container",this.props.classes,{"vidiq-locked":this.props.locked});return h.createElement("div",{className:e},this.sortBy(),h.createElement("select",{className:"vidiq-studio-beta-select",value:this.props.selected,onChange:this.props.update,disabled:this.props.disabled||this.props.locked},this.options()),h.createElement("i",{className:"material-icons"},this.iconName()))}}),OH=Oo()({displayName:"StudioBetaTrendingVideos_Inner",getInitialState:()=>({expanded:!1,searchKeyword:null,sortOption:"matches",filter:ye.Z.getItem("trending_vids_filter_out_mine")||!1}),getVideos(){if(!this.props.trendy||!this.props.trendy.videos)return[];let e=this.props.trendy.videos;if(this.state.filter){const t=NY.getChannelId();e=e.filter((e=>e.channel_id!==t))}return e.slice(0,10)},updateFilter(){this.setState({filter:!this.state.filter})},toggleExpand(){this.setState({expanded:!this.state.expanded})},inputDebounced:(0,j.debounce)((function(e){this.setState({searchKeyword:e}),NY.setTrendySearchKeyword(e)}),500),onChangeSearchKeyword(e){const t=e.target.value;this.inputDebounced(t)},updateSortOption(e){this.props.permitted&&this.props.optimized&&this.setState({sortOption:e.target.value})},matchedTags(e){const t=e.related_to;if(!t||!t.length)return null;const n=t.join(", ");return h.createElement("div",{className:"vidiq-studio-beta-trending-video-matches","data-tip-message":n},(0,ai.Z)("matches"),": ",n)},onClickVideoTitle(e){NA(e)},videoItem(e){const t=e.tags.map((e=>({keyword:e})));return h.createElement("div",{className:"vidiq-studio-beta-trending-video-item",key:e.id},h.createElement("div",{className:"vidiq-studio-beta-trending-video-thumb-wrapper"},h.createElement("img",{className:"vidiq-studio-beta-trending-video-thumb",src:e.thumbnail,alt:""})),h.createElement("div",{className:"vidiq-react vidiq-studio-beta-trending-video-info"},h.createElement("a",{className:"vidiq-studio-beta-trending-video-title",href:e.url,rel:"noopener noreferrer",target:"_blank",onClick:()=>this.onClickVideoTitle(e.id)},e.title),h.createElement("span",{className:"video-info-item vidiq-studio-beta-trending-video-channel"},(0,ai.Z)("by")," ",h.createElement("b",null,e.channel_title)),h.createElement("span",{className:"video-info-item vidiq-studio-beta-trending-video-published"},wt()(e.published_at).fromNow()),h.createElement("span",{className:"video-info-item vidiq-studio-beta-trending-video-views"},h.createElement("b",null,ge()(e.views_count).format("0.0a"))," ",(0,ai.Z)("viewsStatLabel")),h.createElement("span",{className:"video-info-item vidiq-studio-beta-trending-video-vph"},h.createElement("b",null,ge()(e.vph).format("0,0.0"))," ",(0,ai.Z)("vph"))),h.createElement(AH,{keywords:t,trend:!0}),this.matchedTags(e))},searchBar(){const e=this.props.fetchingTrendy||!this.props.permitted||!this.props.optimized;return h.createElement("div",{className:"vidiq-studio-beta-trending-vids-search"},h.createElement("i",{className:"material-icons"},"search"),h.createElement("input",{type:"text",placeholder:(0,ai.Z)("searchByKeyword"),defaultValue:this.state.searchKeyword,disabled:e,onChange:this.onChangeSearchKeyword}))},sortSelector(){const e={matches:(0,ai.Z)("matches"),overall:(0,ai.Z)("overall"),vph:(0,ai.Z)("researchVph"),views_count:(0,ai.Z)("viewCountTitle")},t=!this.props.permitted||!this.props.optimized;return h.createElement(IH,{options:e,update:this.updateSortOption,selected:this.state.sortOption,disabled:this.props.fetchingTrendy,locked:t,classes:"vidiq-studio-beta-trending-vids-sort"})},sortFunction(e,t){return"matches"===this.state.sortOption?t.related_to.length-e.related_to.length:"overall"===this.state.sortOption?t.vph*t.related_to.length-e.vph*e.related_to.length:t[this.state.sortOption]-e[this.state.sortOption]},getSortedVideos(){return JSON.parse(JSON.stringify(this.getVideos())).sort(this.sortFunction)},videosList(){if(!this.props.trendy||!this.props.trendy.videos||!this.props.trendy.videos.length)return null;let e=this.getSortedVideos();return this.state.expanded||(e=e.slice(0,3)),this.props.permitted&&this.props.optimized||(e=e.slice(0,0)),e.map((e=>this.videoItem(e)))},errorMessage(){return this.props.trendyError?h.createElement("div",{className:"vidiq-studio-beta-error vidiq-studio-beta-trending-vids-error"},(0,ai.Z)("studioBetaGeneralError",[(0,ai.Z)("videosToGainViewsFromTitle")])):null},limitButton(){if(!this.props.trendy.videos||this.getVideos().length<=3||this.props.fetchingTrendy||!this.props.permitted||!this.props.optimized)return null;let e=`${(0,ai.Z)("showAllTitle")} (${this.getVideos().length})`;return this.state.expanded&&(e=(0,ai.Z)("showFewerTitle")),h.createElement("div",{className:"vidiq-studio-beta-trending-vids-limit",onClick:this.toggleExpand},h.createElement("p",null,e))},spinner(){return this.props.fetchingTrendy?h.createElement(os,{size:"big",container:!0}):null},render(){return this.props.settings.trendingVids?h.createElement("div",{className:"vidiq-studio-beta-trending-vids-container"},h.createElement("div",{className:"vidiq-studio-beta-trending-vids-header"},(0,ai.Z)("videosToGainViewsFromTitle"),h.createElement(fU,{filter:this.state.filter,onChange:this.updateFilter,classes:"vidiq-studio-edit-page-trending-vids-filter",disabled:!this.props.permitted||!this.props.optimized})),h.createElement("div",{className:"vidiq-studio-beta-trending-vids-options"},this.searchBar(),this.sortSelector()),h.createElement("div",{className:"vidiq-studio-beta-trending-vids-list"},this.spinner(),this.videosList(),this.errorMessage()),this.limitButton(),h.createElement(Vz,{type:"trending-videos"})):null}}),NH=ug(OH,HL),PH=Oo()({displayName:"SubscriberCount",getInitialState(){return this.store=mB,{store:this.store.getData(),channelPath:this.props.channelPath}},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange),r()(window).on("vidiq-update-channel-path::"+this.props.id,this.updateChannelPath)},componentDidMount(){const e=new hz({parent:r()("body"),position:"fixed"});r()("body").data("tooltips",e)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange),r()(window).off("vidiq-update-channel-path::"+this.props.id,this.updateChannelPath)},updateChannelPath(e,t){this.setState({channelPath:t})},onStoreChange(){this.setState({store:this.store.getData()})},render(){const e=this.state.store.subCounts[this.state.channelPath];if(!e||e<0)return null;const t=Fo()("vidiq-subscriber-count",{"new-layout":(0,Ee.Z)()});return h.createElement("div",{className:t,"data-tip-message":(0,ai.Z)("poweredByVidIQ")},h.createElement("span",{className:"count"},e),h.createElement("span",{className:"label"}," "+(0,ai.Z)("channelSubscribersStatLabel")))}}),RH=PH,jH={watchLink(e,t){let n=r()(e).attr("href");n=n.replace("http://www.youtube.com",""),setInterval((()=>{let i=r()(e).attr("href");i=i.replace("http://www.youtube.com",""),i!==n&&(r()(window).trigger("vidiq-update-channel-path::"+t,i),vB.getSubCount(i),n=i)}),500)},watchForChannelLinks(e,t){go.Z.watch(e.parent,t+"-page").enter((n=>{if(r()(n).hasClass("vidiq-has-sub-count"))return;r()(n).addClass("vidiq-has-sub-count");const i=r()(n).find(e.link);let a=r()(i).attr("href");a=a.replace("http://www.youtube.com","");const o=we.Z.prettyRandomId();we.Z.mountComponent({component:RH,element:e.header?r()(n).find(e.header)[0]:n,inline:!0,rootClass:t+"-page",props:{channelPath:a,id:o}}),vB.getSubCount(a),this.watchLink(i,o)}))}},LH=jH;class qH extends h.Component{render(){const e=ES(this.props.keyword);return h.createElement("div",{className:"vidiq-studio-tag-icon","data-keyword":e,"data-keyword-inspector":e,"data-keyword-addable":!0,"data-keyword-namespace":"upload-modal",title:(0,ai.Z)("viewInKeywordInspector")},h.createElement("img",{className:"vidiq-studio-tag-icon-image",src:this.props.iconSrc,alt:"vidIQ"}))}}const ZH=qH;class BH extends h.Component{render(){if("unauthed"===this.props.error)return null;const e=this.props.error?(0,ai.Z)("retryTitle"):(0,ai.Z)("viewAllTimes");return h.createElement("div",{className:"vidiq-upload-best-time-action",onClick:this.props.onClick},e)}}const VH=BH;class zH extends h.Component{render(){let e;if((0,ve.h)().featurePermitted("bestTimeToPost"))if(this.props.error&&"unauthed"===this.props.error)e=ai.Z.html("bestTimeToPostAuthMessage");else if(this.props.error)e=(0,ai.Z)("bestTimesFetchFailed");else{if(!this.props.data.overall)return null;e=h.createElement(Lz,{day:"overall",bestTimeToPost:this.props.data,uploadModal:!0})}else e=(0,ai.Z)("bestTimeToPostUpgrade");return h.createElement("div",{className:"vidiq-upload-best-time-message"},h.createElement(ts,{size:"20px",marginRight:"8px",classes:"vidiq-upload-best-time-icon"}),e)}}const UH=zH;class WH extends h.Component{render(){const e=chrome.runtime.getURL("images/close-x.svg");return h.createElement("div",{className:"vidiq-close-button-with-label",onClick:this.props.onClick},(0,ai.Z)("close")," ",h.createElement("img",{src:e,alt:"Close",className:"vidiq-close-button-with-label-icon"}))}}const HH=WH;class YH extends h.Component{constructor(...e){var t,n,i;super(...e),i=e=>{this.popoverNode.contains(e.target)||this.props.toggleExpand()},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){!e.expanded&&this.props.expanded?document.addEventListener("click",this.handleClick,!1):e.expanded&&!this.props.expanded&&document.removeEventListener("click",this.handleClick,!1)}getShortTimeZone(){return new Intl.DateTimeFormat("en-US",{timeZoneName:"short"}).format(new Date).split(", ")[1]}render(){return this.props.expanded&&this.props.data?h.createElement("div",{className:"vidiq-upload-best-time-popover",ref:e=>this.popoverNode=e},h.createElement("div",{className:"vidiq-upload-best-time-popover-header"},h.createElement("div",{className:"vidiq-upload-best-time-popover-header-text"},(0,ai.Z)("bestTimesToPost")),h.createElement(HH,{onClick:this.props.toggleExpand})),h.createElement("div",{className:"vidiq-upload-best-time-popover-timezone"},(0,ai.Z)("timezone"),": ",this.getShortTimeZone()),h.createElement(Rz,{type:"overall",data:this.props.data,uploadModal:!0})):null}}const $H=YH;function KH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class GH extends h.Component{constructor(e){super(e),KH(this,"onStoreUpdate",(()=>{this.setState({store:HL.getData()})})),KH(this,"fetchData",(()=>{C2.fetchBestTimeToPost(this.props.channelId)})),KH(this,"toggleExpand",(()=>{const e=!this.state.expanded;this.setState({expanded:e}),ht("toggled best time to post on upload page",{"video id":this.props.videoId,location:(0,be.Z)(),"bttp is open":e,_identify:{set:{"bttp is open":e}}})})),this.state={store:HL.getData(),expanded:!1}}componentDidMount(){HL.addChangeListener(this.onStoreUpdate),(0,ve.h)().featurePermitted("bestTimeToPost")&&this.fetchData()}componentWillUnmount(){HL.removeChangeListener(this.onStoreUpdate)}render(){const e=this.state.store,t=(0,ve.h)().featurePermitted("bestTimeToPost");if(t&&!e.bestTimeToPostError&&!e.bestTimeToPost.overall)return null;const n=this.state.store.bestTimeToPostError?this.fetchData:this.toggleExpand;return h.createElement("div",{className:"vidiq-upload-best-time"},h.createElement(UH,{data:this.state.store.bestTimeToPost,error:this.state.store.bestTimeToPostError}),t?h.createElement(VH,{error:this.state.store.bestTimeToPostError,onClick:n,expanded:this.state.expanded}):h.createElement(xs,{upsell:"BestTimeUpload",text:(0,ai.Z)("upgradeToPlan",["Pro"]),className:"vidiq-upload-best-time-upgrade-button",targetPlan:"pro"}),h.createElement($H,{expanded:this.state.expanded,toggleExpand:this.toggleExpand,data:this.state.store.bestTimeToPost.overall}))}}const XH=GH;class QH extends h.Component{constructor(e){super(e),this.state={optimizeData:(0,ve.h)().getOptim(),sortOption:"relevancy"}}updateSortOption(e){this.setState({sortOption:e.target.value})}enableOptimization(){C2.enableOptimization(this.props.videoId)}noKeywords(){const e=this.props.hotSearch.keywords;return!e||!e.length}getHeaderText(){return this.noKeywords()&&!this.props.hotSearchError?(0,ai.Z)("addTagsForRecs"):(0,ai.Z)("recommendedTagsTitle")}spinner(){return this.props.fetchingHotSearch?h.createElement(os,{classes:"vidiq-studio-upload-spinner",size:"small"}):null}errorMessage(){return this.props.hotSearchError?h.createElement("div",{className:"vidiq-studio-beta-error vidiq-studio-upload-rec-tags-error"},(0,ai.Z)("studioBetaGeneralError",[(0,ai.Z)("recommendedTagsTitle")])):null}getBody(){if(this.noKeywords()&&!this.props.hotSearchError)return null;if(this.props.hotSearchError)return h.createElement("div",{className:"vidiq-studio-upload-rec-tags-body"},this.errorMessage());let e=JSON.parse(JSON.stringify(this.props.hotSearch.keywords));"relevancy"!==this.state.sortOption&&(e=fc(e,this.state.sortOption,!0));this.props.permitted&&this.props.optimized||(e=e.slice(0,3));const t=e.map((e=>h.createElement(JL,{classes:"vidiq-studio-upload-keyword",key:e.keyword,keywordObject:e,addKeyword:e=>{D2.addKeywordUploadModal(null,e,"upload-modal")},rec:!0,apply:!0,namespace:"upload-modal",videoId:this.props.videoId})));return h.createElement("div",{className:"vidiq-studio-upload-rec-tags-body"},t)}sortSelector(){if(this.noKeywords())return null;const e={relevancy:(0,ai.Z)("relevancyTitle"),overall:(0,ai.Z)("overall"),volume:(0,ai.Z)("volume"),competition:(0,ai.Z)("competition")};return h.createElement(IH,{options:e,update:this.updateSortOption.bind(this),selected:this.state.sortOption,disabled:this.props.fetchingHotSearch,locked:!this.props.permitted||!this.props.optimized,classes:"vidiq-studio-upload-rec-tags-sort",includeSortBy:!0})}getBorder(){return this.noKeywords()&&!this.props.hotSearchError?null:h.createElement("hr",{className:"vidiq-studio-upload-rec-tags-hr"})}render(){const e=chrome.runtime.getURL("images/vidiq-badge.png");return h.createElement("div",{className:"vidiq-studio-upload-rec-tags-container"},h.createElement("div",{className:"vidiq-studio-upload-rec-tags-header"},h.createElement("img",{className:"vidiq-studio-upload-rec-tags-header-icon",src:e,alt:""}),this.getHeaderText(),this.spinner()),this.getBorder(),this.sortSelector(),this.getBody())}}const JH=ug(QH,HL);function eY(e){const t=HL.getData();ht("toggled upload checklist on upload page",{"video id":t.videoId,location:(0,be.Z)(),"upload checklist is open":e,_identify:{set:{"upload checklist is open":e}}})}const tY=["#EB2323","#FF8A00","#FFB800","#C3EB23","#44D14A"];function nY(e,t){t||(t=100);const n=t/tY.length,i=Math.min(Math.floor(e/n),tY.length-1);return tY[i]}function iY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rY extends h.Component{constructor(...e){super(...e),iY(this,"state",{store:HL.getData()}),iY(this,"onStoreChange",(()=>{this.setState({store:HL.getData()})})),iY(this,"toggleExpand",(()=>{const e=!this.state.store.seoScoreReportExpanded;C2.update({seoScoreReportExpanded:e}),eY(e)}))}componentDidMount(){HL.addChangeListener(this.onStoreChange),gH()}componentWillUnmount(){HL.removeChangeListener(this.onStoreChange)}render(){const e=this.state.store.seoScoreData;if("number"!=typeof e.overall&&!e.overall)return null;const t={color:nY(e.overall,50)};return h.createElement("div",{className:"vidiq-studio-upload-seo-score-container"},h.createElement(ts,{marginRight:"8px"}),h.createElement("div",{className:"vidiq-studio-upload-seo-score-title"},(0,ai.Z)("actionableSeoScoreChannelAuditEdit"),":"),h.createElement("div",{className:"vidiq-studio-upload-seo-score-value"},h.createElement("div",{className:"vidiq-studio-upload-seo-score-value-main",style:t},ge()(e.overall).format("0[.]0")),"/50"),h.createElement("div",{className:"vidiq-studio-upload-seo-score-expand",onClick:this.toggleExpand},(0,ai.Z)("viewFullReport")))}}function aY(){return h.createElement(I,{name:tt.NEW_CHECKLIST,abClient:R},h.createElement(N,{name:"control"},h.createElement(rY,null)),h.createElement(N,{name:"variant"},h.createElement(_H,null)))}class oY extends h.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const e=TU.links(this.props.videoId);window.open(e[this.props.type.replace("seo_checklist_","")],"_blank"),ht("clicked on upload checklist",{"video id":this.props.videoId,"item name":this.props.type.replace(/_/g," "),location:(0,be.Z)()})},(n="openLink")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const e=this.props.value?"checklist-true":"checklist-false",t=chrome.runtime.getURL(`images/${e}.svg`),n=chrome.runtime.getURL("images/checklist-go.svg");return h.createElement("div",{key:this.props.type,className:"vidiq-studio-upload-seo-report-section-list-item vidiq-studio-upload-seo-report-checklist-item"},h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-checklist-item-left"},h.createElement("img",{className:"vidiq-studio-upload-seo-report-section-checklist-item-status",src:t,alt:""}),h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-list-item-label"},this.props.label)),!this.props.value&&"seo_checklist_made_public"!==this.props.type&&h.createElement("img",{className:"vidiq-studio-upload-seo-report-section-checklist-item-arrow",src:n,onClick:this.openLink,alt:""}))}}const sY=oY;class lY extends h.Component{getOverall(){let e,t;if(this.props.checklist&&this.props.loading)return h.createElement(os,{size:"small"});this.props.checklist?(e=this.props.data.score,t=this.props.data.outOf):(e=this.props.data.overall,t=50);const n=nY(e,t);return h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-score"},h.createElement("span",{style:{color:n},className:"vidiq-studio-upload-seo-report-section-overall"},ge()(e).format("0[.]0")),h.createElement("span",null,"/",t))}render(){let e=this.props.data;this.props.checklist&&(e=this.props.data.list||{});const t=Object.keys(e).map((t=>{if("overall"===t)return null;const n=e[t];return this.props.checklist?h.createElement(sY,{key:t,type:t,value:n,label:TU.labels[t.replace("seo_checklist_","")],videoId:this.props.videoId}):h.createElement("div",{key:t,className:"vidiq-studio-upload-seo-report-section-list-item"},h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-list-item-label"},we.Z.capitalize((0,ai.Z)(`${we.Z.camelCase(t)}StatLabel`))),h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-list-item-value"},n,"/5"))}));return h.createElement("div",{className:"vidiq-studio-upload-seo-report-section"},this.props.checklist?h.createElement(I,{name:tt.NEW_CHECKLIST,abClient:R},h.createElement(N,{name:"control"},h.createElement(h.Fragment,null,h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-title"},this.props.title,": ",this.getOverall()),h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-list"},t))),h.createElement(N,{name:"variant"},h.createElement(_H,null))):h.createElement(h.Fragment,null,h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-title"},this.props.title,": ",this.getOverall()),h.createElement("div",{className:"vidiq-studio-upload-seo-report-section-list"},t)))}}const cY=lY;function uY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class dY extends h.Component{constructor(...e){super(...e),uY(this,"state",{store:HL.getData()}),uY(this,"onStoreChange",(()=>{this.setState({store:HL.getData()})})),uY(this,"onClose",(()=>{C2.update({seoScoreReportExpanded:!1}),eY(!1,this.state.store.videoId)}))}componentDidMount(){HL.addChangeListener(this.onStoreChange)}componentWillUnmount(){HL.removeChangeListener(this.onStoreChange)}render(){return this.state.store.seoScoreReportExpanded?h.createElement("div",{className:"vidiq-studio-upload-seo-score-report"},h.createElement("div",{className:"vidiq-studio-upload-seo-score-report-header"},h.createElement("div",{className:"vidiq-studio-upload-seo-score-report-header-title"},(0,ai.Z)("vidiqSeoReport")),h.createElement(HH,{onClick:this.onClose})),h.createElement("div",{className:"vidiq-studio-upload-seo-score-report-sections"},h.createElement(cY,{title:(0,ai.Z)("actionableTitle"),data:this.state.store.seoScoreData.actionable}),h.createElement(cY,{title:(0,ai.Z)("checklistTitle"),data:this.state.store.seoChecklist,checklist:!0,loading:this.state.store.fetchingSeoChecklist,videoId:this.state.store.videoId}))):null}}const hY=dY;var pY=__webpack_require__(5161),fY=__webpack_require__.n(pY),mY=__webpack_require__(5578),gY=__webpack_require__.n(mY);const vY=(e,t)=>{const n=[];var i;return(i=t,Object.keys(i).map((e=>{return{keyword:e,nature:(t=i[e],fY()(t,(e=>(0,ai.Z)(e+"DemonetizationWord"))).join(", "))};var t}))).forEach((t=>{const i=new RegExp("(?<!\\w)"+t.keyword.replace(/\s/g,"&nbsp;").replace(/\$/g,"\\$")+"(?!\\w)","gi");let r;for(;null!==(r=i.exec(e));)if(r){const e=r.index,i=e+r[0].length;n.push({keyword:r[0],nature:t.nature,startIndex:e,endIndex:i})}})),n},yY=e=>e.replace(/\n/g,"<br>").replace(/\s/g,"&nbsp;"),bY=(e,t)=>{let n=vY(e,t);var i;return n=(i=n).map(((e,t)=>{let n=null;return i.forEach(((i,r)=>{t!==r&&e.startIndex>=i.startIndex&&e.endIndex<=i.endIndex&&(n=i)})),n?e.keyword.length>n.keyword.length?e:n:e})),n=gY()(n,(e=>e.startIndex)),n=n.sort(((e,t)=>t.startIndex-e.startIndex)),n};function _Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class wY extends h.Component{constructor(...e){super(...e),_Y(this,"state",{text:"",finalizedText:"",fetchedKeywords:!1,store:HL.getData()}),_Y(this,"onStoreChange",(e=>{this.setState({store:HL.getData()},(()=>{Object.keys(e.controversialKeywordsList).length&&!this.state.fetchedKeywords&&(this.setState({fetchedKeywords:!0}),this.getHighlightedKeywords())}))}))}componentDidMount(){HL.addChangeListener(this.onStoreChange),this.setInitialTextState(),this.listenOnInputChange(),this.setupHoverEvent()}componentWillUnmount(){HL.removeChangeListener(this.onStoreChange)}getContainerElement(){return document.querySelector(`${this.props.containerSelector} ${this.props.inputSelector}`)}setInitialTextState(){this.setState({text:this.getContainerElement().innerText})}listenOnInputChange(){this.getContainerElement().addEventListener("input",yo()((e=>{e.target&&(this.setState({text:e.target.textContent}),this.getHighlightedKeywords())}),200))}getHighlightedKeywords(){const e=((e,t,n)=>{let i=yY(e);return i=((e,t)=>{let n=t;return e.forEach((e=>{const t=`<mark data-keyword="${e.keyword}" data-nature="${e.nature}">${e.keyword}</mark>`,i=n.substring(0,e.startIndex),r=n.substring(e.endIndex);n=`${i}${t}${r}`})),n})(bY(i,n),i),i=i.replace(/\n$/g,"\n\n"),i})(this.state.text,this.state.store.controversialKeywordsCount,this.state.store.controversialKeywordsList);this.updateHighlightedKeywordsCount(),this.setState({finalizedText:e})}updateHighlightedKeywordsCount(){const e=yY(this.state.text),t=bY(e,this.state.store.controversialKeywordsList);C2.update({controversialKeywordsCount:{...this.state.store.controversialKeywordsCount,[this.props.name]:t.length}})}setupHoverEvent(){r()(this.props.containerSelector).on("mouseenter","mark",(e=>{const{keyword:t,nature:n}=e.target.dataset,i=e.delegateTarget.offsetTop-e.target.closest("#scrollable-content").scrollTop+e.target.offsetParent.offsetTop+e.target.offsetTop+25;C2.update({controversialKeywordsPopover:{x:e.target.offsetLeft+e.delegateTarget.offsetLeft,y:i,visible:!0,keyword:t,nature:n}})})),r()(this.props.containerSelector).on("mouseleave","mark",(()=>{C2.update({controversialKeywordsPopover:{...this.state.store.controversialKeywordsPopover,visible:!1}})}))}render(){return this.state.store.highlightControversialKeywords&&h.createElement("div",{className:"demonetization-keyword-highlight"},h.createElement("div",{className:"demonetization-keyword-highlight-area",dangerouslySetInnerHTML:{__html:(0,ns.N)(this.state.finalizedText)}}))}}const kY=wY;class xY extends h.Component{render(){return h.createElement("div",{className:"demonetization-keyword-highlight-activator upsell"},h.createElement(ts,{size:"16px",marginRight:"8px"}),h.createElement("span",null,(0,ai.Z)("controversialKeywordsUpgradeShort")),h.createElement(xs,{upsell:"ControversialKeywords",className:"vidiq-upload-demonetization-keyword-highlight-upsell-button",targetPlan:"pro",text:(0,ai.Z)("upgradeToPlan",["Pro"])}))}}function EY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class CY extends h.Component{constructor(...e){super(...e),EY(this,"state",{store:HL.getData()}),EY(this,"onStoreChange",(()=>{this.setState({store:HL.getData()})})),EY(this,"toggleHighlight",(()=>{const e=!this.state.store.highlightControversialKeywords;C2.update({highlightControversialKeywords:e});const t=this.state.store.videoId;ht("toggled controversial keywords",{location:(0,be.Z)(),"video id":t,_identify:{set:{"controversial keywords are on":e}}})}))}componentDidMount(){HL.addChangeListener(this.onStoreChange)}componentWillUnmount(){HL.removeChangeListener(this.onStoreChange)}totalHighlightedKeywords(){const e=this.state.store.controversialKeywordsCount;return Object.keys(this.state.store.controversialKeywordsCount).reduce(((t,n)=>t+e[n]),0)}render(){return(0,ve.h)().featurePermitted("controversialKeywords")?h.createElement("div",{className:"demonetization-keyword-highlight-activator"},h.createElement(ts,{size:"16px",marginRight:"8px"}),h.createElement("span",null,"Highlight controversial keywords"),h.createElement("div",{className:"demonetization-keyword-highlight-activator-count"},this.totalHighlightedKeywords()),h.createElement("div",{onClick:this.toggleHighlight},h.createElement(yZ,{enabled:this.state.store.highlightControversialKeywords}))):h.createElement(xY,null)}}const SY=CY;function TY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class DY extends h.Component{constructor(...e){super(...e),TY(this,"state",{store:HL.getData()}),TY(this,"onStoreChange",(()=>{this.setState({store:HL.getData()})}))}componentDidMount(){HL.addChangeListener(this.onStoreChange)}componentWillUnmount(){HL.removeChangeListener(this.onStoreChange)}renderSection(e,t){return h.createElement("div",{className:"demonetization-keyword-popover-section"},h.createElement("div",{className:"demonetization-keyword-popover-title"},e),h.createElement("div",{className:"demonetization-keyword-popover-text"},t))}render(){const{x:e,y:t,keyword:n,nature:i,visible:r}=this.state.store.controversialKeywordsPopover;return r&&h.createElement("div",{className:"demonetization-keyword-popover",style:{position:"absolute",top:t,left:e}},this.renderSection("Keyword",n),this.renderSection("Nature",i))}}const FY=DY,MY={videoId:null,mountUploadTagIcon(e,t){we.Z.mountComponent({component:ZH,element:e,insertFn:"before",props:{keyword:t,iconSrc:chrome.runtime.getURL("images/vidiq-badge.png"),id:we.Z.prettyRandomId()}})},mountUploadKeywordInspectorBtn(e){e.querySelector(".vidiq-upload-modal-kwins-btn-container")||we.Z.mountComponent({component:EU,element:e,props:{container:"vidiq-upload-modal-kwins-btn-container",classes:"vidiq-upload-modal-kwins-btn",namespace:"upload-modal",addable:!0}})},mountHighlightControversialKeywordsToggle:e=>we.Z.mountComponent({component:SY,element:e,insertFn:"after",props:{videoId:MY.videoId}}),mountHighlightControversialKeywords(e,t,n){const i=e.querySelector("#textbox");we.Z.mountComponent({component:kY,element:i,insertFn:"before",props:{containerSelector:t,inputSelector:"#textbox",name:n}})},mountControversialKeywordsPopover(e){we.Z.mountComponent({component:FY,element:e,insertFn:"append"})},mountSeoScore(e){we.Z.mountComponent({component:aY,element:e,rootClass:"vidiq-studio-upload-seo-score-container-wrapper"})},mountSeoScoreReport(e){we.Z.mountComponent({component:hY,element:e})},mountUploadRecommendedTags(e){e.querySelector(".vidiq-studio-upload-rec-tags-container")||we.Z.mountComponent({component:JH,element:e,props:{id:we.Z.prettyRandomId()}})},mountUploadOptimizeButton(e){e.querySelector(".vidiq-studio-upload-optimize")||we.Z.mountComponent({component:_W,element:e,props:{classes:"vidiq-studio-upload-optimize"}})},mountUploadBestTimeToPost(e){const t=e.querySelector("ytcp-form-error-tip");we.Z.mountComponent({component:XH,element:t,insertFn:"after",props:{channelId:NY.getChannelId(),videoId:MY.videoId}})},mountVideoPreviewButton:e=>we.Z.mountComponent({component:tZ,element:e,insertFn:"after"}),mountUploadInputSuggestions(){const e=[];go.Z.watch("#dialog.ytcp-uploads-dialog #container.ytcp-social-suggestions-textbox").enter((t=>{const n=t.querySelector("#textbox");if(!n)return;const i=we.Z.mountComponent({component:iq,element:t,insertFn:"after",props:{id:we.Z.prettyRandomId(),type:"Title"===t.parentNode.getAttribute("label")?nq.Title:nq.Description,textbox:n}});e.push(i)})).leave((()=>{e.forEach((e=>{we.Z.unmountComponent(e)}))}))},mountVideoPreviewWindow:()=>we.Z.mountComponent({component:hB,selector:"body"}),mountKeySearchTermField:e=>we.Z.mountComponent({component:mW,element:e,insertFn:"after",props:{channelId:NY.getChannelId()}}),async getTitleDescTags(e){try{const t=(await cL(e,["studio_video_info"])).studio_video_info;C2.fetchSeoScoreData(t.title,t.description,t.tags),C2.fetchSeoChecklist(e,!0)}catch(e){(0,ke.Z)("(vidiq) getTitleDescTags error:",e)}},checkStep(){if(D2.isOnDetailsStep())return null;const e=window.location.search.match(/udvid=([^&]+)/),t=e&&e[1];return t?(MY.videoId=t,C2.update({videoId:t}),MY.getTitleDescTags(t),t):void 0},isOnEditPage:()=>/\/video\/[0-9A-Za-z_-]+\/edit/.test(window.location.pathname),forUploadModal(){let e;const t="#dialog.ytcp-uploads-dialog",n="studio-upload-controller";go.Z.watch(t,n).enter((async()=>{MY.isOnEditPage()&&NY.leaveEditPage();const i=(0,ve.h)().featurePermitted("uploadAndEdit");let a,o,s,l,c,u,d,h,p,f;C2.update({permitted:i}),mo.updatePermitted(i),go.Z.watch(`${t} ytcp-video-metadata-editor-basics > .title`).enter((e=>{C2.fetchControversialKeywords(),a=MY.mountHighlightControversialKeywordsToggle(e)})).leave((()=>{a&&we.Z.unmountComponent(a)})),go.Z.watch(`${t} .title`).enter((e=>{o=D2.observeUploadTitle(),MY.mountHighlightControversialKeywords(e,".title","uploadTitle")})).leave((()=>{o&&o.disconnect()})),go.Z.watch(`${t} .description`).enter((e=>{s=D2.observeUploadDescription(),MY.mountHighlightControversialKeywords(e,".description","uploadDescription")})).leave((()=>{s.disconnect()})),A2(t),I2(t),go.Z.watch(`${t} .ytcp-uploads-dialog .stepper`).enter((e=>{MY.mountSeoScore(e)})),go.Z.watch(`${t} #scrollable-content`).enter((e=>{MY.mountSeoScoreReport(e)})),go.Z.watch(`${t} .video-url-fadeable a.ytcp-video-info`,n).enter((async()=>{const t=await mH();if(mo.updateVideoId(t),!e){MY.videoId=t,C2.update({videoId:t}),C2.fetchOptimizationStatus(t),C2.fetchSeoChecklist(t,!0),D2.debouncedFetchSeoScoreData();try{const e=await sB.get(t);C2.update({keySearchTerm:e}),C2.fetchKeySearchTermHotSearch(e,NY.getChannelId())}catch(e){}e=!0}})),r()(window).on("kwins:add",D2.addKeywordUploadModal),go.Z.watch(`${t} .dialog-content`).enter((e=>{MY.mountUploadInputSuggestions(),MY.mountControversialKeywordsPopover(e)})),go.Z.watch(`${t} #tags-container`).enter((e=>{l=D2.observeUploadTags(),MY.mountUploadKeywordInspectorBtn(e),MY.mountUploadOptimizeButton(e)})).leave((()=>{l&&l.forEach((e=>{e.disconnect()}))})),go.Z.watch(`${t} #second-container`).enter((e=>{MY.mountUploadBestTimeToPost(e)})),go.Z.watch(`${t} ytcp-video-metadata-playlists ytcp-dropdown-trigger`).enter((()=>{c=D2.observeUploadPlaylistSelector()})).leave((()=>{c&&c.disconnect()})),go.Z.watch(`${t} .ytcp-video-metadata-captions#container`).enter((()=>{u=D2.observeUploadCaptions()})).leave((()=>{u&&u.disconnect()})),go.Z.watch(`${t} .ytcp-video-monetization.m10n-icon`).enter((()=>{d=D2.observeUploadMonetization()})).leave((()=>{d&&d.disconnect()})),go.Z.watch(`${t} .ytcp-uploads-dialog div.container.ytcp-video-info`).enter((e=>{h=MY.mountVideoPreviewButton(e),p=MY.mountVideoPreviewWindow(),f=MY.mountKeySearchTermField(e)})).leave((()=>{we.Z.unmountComponent(h),we.Z.unmountComponent(p),we.Z.unmountComponent(f)})),NY.mountVideoPreviewThumbnailsButton(!0),NY.triggerShowMore(!0)})).leave((()=>{e=!1,r()(window).off("kwins:add",D2.addKeywordUploadModal),go.Z.clear(`${t} h1.ytcp-uploads-dialog`),go.Z.clear(`${t} .title`),go.Z.clear(`${t} .description`),go.Z.clear(`${t} .dialog-content`),go.Z.clear(`${t} .ytcp-uploads-dialog .stepper`),go.Z.clear(`${t} #scrollable-content`),go.Z.clear(`${t} .video-url-fadeable a.ytcp-video-info`),go.Z.clear(`${t} #tags-container`),go.Z.clear(`${t} #second-container`),go.Z.clear(`${t} ytcp-video-metadata-playlists ytcp-dropdown-trigger`),go.Z.clear(`${t} .ytcp-video-metadata-captions#container`),go.Z.clear(`${t} .ytcp-video-monetization.m10n-icon`),go.Z.clear(`${t} div.container.ytcp-video-info`),go.Z.clear(`${t} ytcp-still-cell:not([processing])[selected] img#img-with-fallback`),go.Z.clear(`${t} ytcp-video-player-timestamp`),go.Z.clear(`${t} .ytcp-uploads-dialog div.container.ytcp-video-info`),go.Z.clear("ytcp-thumbnails-compact-editor.ytcp-upload-basics"),HL.reset(),mo.resetState(),MY.isOnEditPage()&&NY.enterEditPage()}))}},AY=MY,IY=()=>{const e=document.documentElement.innerHTML.match(/"title":"([^"]+)"/);if(e)return e[1]},OY={trendySearchKeyword:null,videoId:null,channelId:null,hasScannedComments:!1,defaultSettings:()=>({companion:!0,trendingVids:!0,seoScore:!0,emojiMenu:!0,templates:!0,translate:!0,kwIns:!0,copyKws:!0,charCount:!0,dragDrop:!0,autocomplete:!0,bestTimeToPost:!0,preview:!0,previewThumbSection:!0}),getVideoId:()=>new Promise((e=>{const t=setInterval((()=>{const n=window.location.pathname.match(/\/video\/([0-9A-Za-z_-]+)\/edit/);if(n&&n[1]){const i=n[1];OY.videoId=i,clearInterval(t),e(i)}}),500)})),getChannelId(){if(OY.channelId)return OY.channelId;const e=document.documentElement.outerHTML.match(/"CHANNEL_ID":"([^"]+)"/);return e&&e[1]?(OY.channelId=e[1],e[1]):null},onKeywordInspectorAdd(e,t){D2.addKeyword(t)},setTrendySearchKeyword(e){const t=HL.getData();OY.trendySearchKeyword=e.length?e:null,e.length?C2.fetchTrendy("",[],e):C2.fetchTrendy(t.title,t.keywords,null)},mountSeoScore:e=>we.Z.mountComponent({component:xH,element:e,props:{id:we.Z.prettyRandomId(),videoId:OY.videoId}}),mountTrendingVideos:e=>we.Z.mountComponent({component:NH,element:e,props:{id:we.Z.prettyRandomId()}}),mountSEOScoreAndTrendingVids(e){let t,n;go.Z.watch(e).enter((e=>{t=OY.mountSeoScore(e),n=OY.mountTrendingVideos(e)})).leave((()=>{we.Z.unmountComponent(t),we.Z.unmountComponent(n)}))},mountKeySearchTermsField(e,t){return we.Z.mountComponent({component:mW,element:e,insertFn:t?"after":"",props:{channelId:this.getChannelId()}})},mountPreviewButton:(e,t)=>we.Z.mountComponent({component:tZ,element:e,insertFn:t?"after":""}),mountPreviewWindow:()=>we.Z.mountComponent({component:hB,selector:"body"}),mountBTTP(e,t){we.Z.mountComponent({component:vW,element:e,insertFn:"after",rootClass:t?"vidiq-bttp-root-v2":"vidiq-bttp-root-v1"})},mountPreviewAndBTTP(e,t){let n,i,r,a;go.Z.watch(e).enter((e=>{t?(a=OY.mountBTTP(e,!0),i=OY.mountPreviewButton(e,t),r=OY.mountPreviewWindow(),n=OY.mountKeySearchTermsField(e,t)):(n=OY.mountKeySearchTermsField(e),i=OY.mountPreviewButton(e,t),r=OY.mountPreviewWindow(),a=OY.mountBTTP(e))})).leave((()=>{we.Z.unmountComponent(i),we.Z.unmountComponent(n),we.Z.unmountComponent(r),we.Z.unmountComponent(a)}))},mountOptimizeButton(){let e;go.Z.watch("#animatable-content.ytcp-video-metadata-editor-old").enter((t=>{e=we.Z.mountComponent({component:_W,element:t,props:{id:we.Z.prettyRandomId(),videoId:OY.videoId}})})).leave((()=>{we.Z.unmountComponent(e)}))},mountInputSuggestions(e){const t=[];go.Z.watch(`#edit .${e}.input-container ytcp-social-suggestions-textbox`).enter((n=>{const i=n.querySelector("#textbox");if(!i||!Object.values(nq).includes(e))return;n.classList.add("override-vidiq-input-suggestions");const r=we.Z.mountComponent({component:iq,element:n,insertFn:"after",props:{id:we.Z.prettyRandomId(),type:e,textbox:i}});t.push(r)})).leave((()=>{t.forEach((e=>{we.Z.unmountComponent(e)}))}))},mountEmojiMenus(){const e=[];go.Z.watch(".ytcp-form-textarea#section-label").enter((t=>{const n=HL.getData(),i="Title"===t.innerText?"studio-title":"studio-desc",r=we.Z.mountComponent({component:hW,element:t,props:{id:we.Z.prettyRandomId(),type:i}});e.push(r),D2.toggleEmojiMenu(n.settings.emojiMenu)})).leave((()=>{e.forEach((e=>{we.Z.unmountComponent(e)}))}))},mountThumbnailButton(){let e;go.Z.watch(".label#autogen-thumb-label").enter((t=>{const n=OY.videoId;e=we.Z.mountComponent({component:TH,element:t,rootClass:"vidiq-studio-beta-thumbnail-button-container",props:{videoId:n}})})).leave((()=>{we.Z.unmountComponent(e)}))},mountSettingsMenu(){go.Z.watch("ul.ytcp-navigation-drawer#main-menu").enter((e=>{this.settingsMenuId=we.Z.mountComponent({component:SH,element:e})}))},mountVideoPreviewThumbnailsButton(e){let t;go.Z.watch("ytcp-thumbnails-compact-editor").enter((n=>{t=we.Z.mountComponent({component:nZ,element:n,insertFn:e?null:"after",rootClass:"vidiq-video-preview-new-feature-alert-wrapper"})})).leave((()=>{we.Z.unmountComponent(t)}))},mountAll(){OY.mountSEOScoreAndTrendingVids("#right.ytcp-video-metadata-basics-old"),OY.mountSEOScoreAndTrendingVids("ytcp-video-metadata-editor-sidepanel.ytcp-video-metadata-editor"),OY.mountPreviewAndBTTP("#right.ytcp-video-metadata-basics-old .input-container.video-url"),OY.mountPreviewAndBTTP("ytcp-video-metadata-editor-sidepanel.ytcp-video-metadata-editor .container.ytcp-video-info",!0),OY.mountOptimizeButton(),OY.mountInputSuggestions(nq.Title),OY.mountInputSuggestions(nq.Description),OY.mountEmojiMenus(),OY.mountThumbnailButton(),OY.mountSettingsMenu(),OY.mountVideoPreviewThumbnailsButton()},triggerShowMore(e){const t=".left-col.style-scope.ytcp-video-metadata-editor .toggle-section #toggle-button",n=e?`${IR.studioUploadDialog} ${t}`:t;go.Z.watch(n).enter((e=>{!document.querySelector("ytcp-video-metadata-editor-advanced")&&e&&e.click()}))},async enterEditPage(){r()(window).on("kwins:add",OY.onKeywordInspectorAdd),go.Z.watch("ytcp-button#save").enter((e=>{e.addEventListener("click",(()=>{wM(HL.data.tagRecsAdded),C2.clearAddedTagRecs();const e=HL.getData(),t=(e.persisted.keywords||[]).join("")!==(e.keywords||[]).join(""),n=e.persisted.title!==e.title,i=e.persisted.description!==e.description;C2.update({persisted:{keywords:e.keywords,title:e.title,description:e.description,privacy:e.privacy}}),ht("edited video",{via:lt(),"channel id":e.channelId,"channel name":e.channelName,"video id":e.videoId,"video name":e.title,"tags updated":t,"title updated":n,"description updated":i,"privacy setting":e.privacy,"tags count":e.keywords.length})}),!0)})),A2(),I2();const e=await OY.getVideoId(),t=(0,ve.h)().featurePermitted("uploadAndEdit"),n=OY.getChannelId();C2.update({permitted:t,videoId:e,channelName:IY(),channelId:n});try{const t=await sB.get(e);C2.update({keySearchTerm:t}),C2.fetchKeySearchTermHotSearch(t,n)}catch(e){}mo.updateVideoId(e),mo.updatePermitted(t),await C2.fetchOptimizationStatus(e),D2.setupTooltips(),D2.watchInputFields();const i=await D2.scanInputFields();C2.update({persisted:i}),go.Z.watch("#privacy-icon").enter((()=>{C2.fetchSeoChecklist(e)})),OY.mountAll(),OY.triggerShowMore()},leaveEditPage(){C2.clearAddedTagRecs(),r()(window).off("kwins:add",OY.onKeywordInspectorAdd),we.Z.unmountComponent(OY.settingsMenuId),go.Z.clear("ytcp-button#save"),go.Z.clear(".view-on-youtube-link"),go.Z.clear(".ytcp-video-metadata-basics-old #text-input"),go.Z.clear("#privacy-icon"),go.Z.clear("ul.ytcp-navigation-drawer#main-menu"),go.Z.clear("#left.ytcp-video-metadata-basics-old"),go.Z.clear("#right.ytcp-video-metadata-basics-old"),go.Z.clear("ytcp-video-metadata-editor-sidepanel.ytcp-video-metadata-editor"),go.Z.clear("#animatable-content.ytcp-video-metadata-editor-old"),go.Z.clear(".input-container"),go.Z.clear(".ytcp-form-textarea#section-label"),go.Z.clear(".label#autogen-thumb-label"),go.Z.clear("#right.ytcp-video-metadata-basics-old .input-container.video-url"),go.Z.clear("ytcp-video-metadata-editor-sidepanel.ytcp-video-metadata-editor .container.ytcp-video-info"),go.Z.clear("ytcp-still-cell:not([processing])[selected] img#img-with-fallback"),go.Z.clear("ytcp-video-player-timestamp"),go.Z.clear("ytcp-thumbnails-compact-editor.ytcp-video-metadata-basics-old"),go.Z.clear(".left-col.style-scope.ytcp-video-metadata-editor .toggle-section #toggle-button"),D2.stopWatchingInputFields(),D2.stopWatchingTagInput(),HL.reset(),mo.resetState(),OY.channelId=null,OY.videoId=null,OY.trendySearchKeyword=null},forEditPage(){go.Z.forUrl("pathname",/\/video\/[0-9A-Za-z_-]+\/edit/,OY.enterEditPage,OY.leaveEditPage)},watchCommentThreads(){go.Z.watch(".ytcp-comment-thread-0:not([vidiq-comment-id])").enter((e=>{xo.registerThread(),D2.addCommentThread(e)}))},mountCommentsFilter(e){r()(window).on("engage-comment-scan",(()=>{OY.hasScannedComments||(OY.hasScannedComments=!0,OY.watchCommentThreads())})),we.Z.mountComponent({component:AB,element:e,rootClass:"studio-beta-comments-filter"})},mountSubCounts(){LH.watchForChannelLinks({parent:".ytcp-comment-thread #metadata",link:"a#name"},"studio")},forCommentsPage(){go.Z.forUrl("pathname",/\/(?:channel|video)\/[0-9A-Za-z_-]+\/comments\/?(inbox)?/,(()=>{go.Z.watch(".ytcp-sticky-header-0#sticky-header").enter((e=>{OY.mountCommentsFilter(e)})),OY.mountSubCounts()}),(()=>{go.Z.clear(".ytcp-comment#comment-actions"),go.Z.clear(".ytcp-sticky-header-0#sticky-header"),go.Z.clear(".ytcp-comment-thread-0:not([vidiq-comment-id])"),go.Z.clear(".ytcp-comment-thread-0 #metadata")}))},forVideoManager(){go.Z.forUrl("pathname",/\/channel\/[0-9A-Za-z_-]+\/videos/,(()=>{go.Z.watch("#row-container.ytcp-video-row").enter((e=>{OY.mountVideoMenu(e)})),go.Z.watch("#video-list .ytcp-primary-action-bar .ytcp-primary-action-bar.primary").enter((e=>{OY.mountMenu(e)}))}))},mountVideoMenu(e){const t=e.innerHTML.match(/video\/([_\-a-zA-Z0-9]+)\/edit/),n=t&&t[1];if(!n)return;const i={id:n,title:we.Z.safely((()=>e.querySelector("#video-title").innerText),"no title detected"),thumbnail:we.Z.safely((()=>e.querySelector("#img-with-fallback").src),"https://i9.ytimg.com/"),duration:we.Z.safely((()=>e.querySelector(".timestamp .label").innerText),"0:00"),status:we.Z.safely((()=>e.querySelector(".privacy-label").innerText.toLowerCase()),"unknown")};let r=e.querySelector("#video-info-edit");r||(r=e.querySelector("ytcp-video-list-cell-video")),we.Z.mountComponent({component:WB,element:r,props:{id:n,v2:!0,size:"small",videoData:i,alignment:"left"},rootClass:"vm-video-actions-dropdown-menu vidiq-studio-dropdown"})},mountMenu(e){we.Z.mountComponent({component:qB,element:e,props:{v2:!0,size:"small"},rootClass:"vm-dropdown-menu"})},forSubtitlesPage(){let e;go.Z.forUrl("pathname",/\/(video|channel)\/([0-9A-Za-z_-]+)\/translations/,(()=>{go.Z.watch("#language-name-row .metadata-editor-translated").enter((t=>{e=we.Z.mountComponent({component:FH,rootClass:"vidiq-studio-translate-container",element:t})})).leave((()=>{e&&we.Z.unmountComponent(e)})),go.Z.watch("paper-dialog#metadata-editor").enter((e=>{const t=e.querySelector("#translated-title textarea"),n=e.querySelector("#translated-description textarea");let i=t.value,r=n.value;const a=yo()((()=>{i=t.value}),500);t.addEventListener("input",a);const o=yo()((()=>{r=n.value}),500);n.addEventListener("input",o);const s=e.querySelector("#publish-button"),l=D2.getVideoIdOnTranslationsPage();s.addEventListener("click",(()=>{rW(l,!!i,!!r)}))}))}))}};r()(window).one("vidiq:ready",(()=>{go.Z.forUrl("host","studio.youtube.com",(()=>{OY.forEditPage(),OY.forCommentsPage(),OY.forVideoManager(),OY.forSubtitlesPage(),AY.forUploadModal()}))}));const NY=OY,PY=";base64,";function RY(e){const t=e.indexOf(PY)+PY.length;return e.substring(t)}const jY={update(e){ko.Z.dispatch({action:VL.UPDATE,data:e})},setCanvas(e,t){const n=$L.getData();this.update({canvases:L().extend({},n.canvases,L().object([[e,t]]))})},changeTab(e,t){const n=$L.getData();this.update({activeTabs:L().extend({},n.activeTabs,L().object([[e,t]]))})},async save(){this.update({loading:!0,error:null});const e=$L.getData(),t=HL.getData().channelId||NY.getChannelId()||await(0,_e.Z)(),n=(0,ve.h)().getChannelToken(t);return((e,t,n)=>(0,P.Z)("vidiq.saveChannelThumbnail",{thumbnailURI:RY(t),videoID:e,channelToken:n}))(e.videoId,e.thumbnailUri,n).then((n=>{if("success"===n.status)return((e,t)=>{ht("created a thumbnail",{"video id":e,"channel id":t,location:(0,be.Z)()})})(e.videoId,t),this.update({loading:!1,saved:!0});this.update({loading:!1,error:L().isString(n.error)?n.error:(0,ai.Z)("modalErrorUnknownMessage")}),UU(e.videoId,t),Me.Z.error("API Error while updating thumbnail",{data:e})})).catch((n=>{if("mfa_required"===n.error)return this.update({loading:!1,saved:!1});UU(e.videoId,t),Me.Z.error("Error while updating thumbnail",{error:n})}))},setCurrentThumbnail(){const e="https://i.ytimg.com/vi/"+$L.getData().videoId;let t=e+"/maxresdefault.jpg";this.getThumbnailFromUrl(t).done((e=>{this.update({currentThumbnail:{url:e,resolution:"1280 × 720 (HD)"}})})).fail((n=>{404===n&&((0,Y.Z)("Failed getting maxresdefault, trying mqdefault",n),t=e+"/mqdefault.jpg",this.getThumbnailFromUrl(t).done((e=>{this.update({currentThumbnail:{url:e,resolution:"320 × 180"}})})).fail((e=>{(0,Y.Z)("Failed getting mqdefault",e),this.update({currentThumbnail:{error:(0,ai.Z)("couldNotRetrieveCurrThumb")}})})))}))},getThumbnailFromUrl(e){const t=e.split("https://i.ytimg.com/")[1],n=new(r().Deferred);return P.Z.expanded("other.ytimg",{path:t}).then((({response:e,blob:t})=>{if(!t||!e.ok)return n.reject(e.status);fetch(t,{method:"GET"}).then((e=>e.blob())).then((e=>{const t=window.URL||window.webkitURL;n.resolve(t.createObjectURL(e))})).catch(n.reject)})),n.promise()}};L().bindAll(jY,"changeTab","setCanvas","save");const LY=jY,qY=Oo()({displayName:"ChooseCurrentThumb",canvas:null,getInitialState:()=>({store:$L.getData()}),drawBackground(){if(!this.state.store.currentThumbnail.url)return;const e=this.canvas.getContext("2d"),t=new Image;t.onload=()=>{e.drawImage(t,0,0,this.canvas.width,this.canvas.height)},t.src=this.state.store.currentThumbnail.url},componentDidUpdate(){this.state.store.currentThumbnail&&this.drawBackground()},componentDidMount(){$L.addChangeListener(this.onStoreChange),this.canvas=document.getElementById("thumbnail-current-canvas"),this.props.setCanvas(this.canvas),this.canvas.width=1280,this.canvas.height=720,this.state.store.currentThumbnail?this.drawBackground():LY.setCurrentThumbnail()},componentWillUnmount(){$L.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:$L.getData()})},resolution(){const e=this.state.store.currentThumbnail;return e&&e.resolution?h.createElement("div",null,h.createElement("span",{className:"current-thumbnail-resolution"},e.resolution),h.createElement("span",{className:"max-res-available"},(0,ai.Z)("maxRes"))):null},error(){const e=this.state.store.currentThumbnail;return e&&e.error?h.createElement("span",{className:"current-thumbnail-error"},h.createElement("i",{className:"material-icons"},"error")," ",e.error):null},render(){return h.createElement("div",null,h.createElement("p",{className:"thumbnail-instructions"},(0,ai.Z)("chooseCurrentThumb")),h.createElement("div",{className:"clearfix"},h.createElement("canvas",{id:"thumbnail-current-canvas",className:"thumbnail-left"}),h.createElement("div",{className:"thumbnail-right"},this.resolution(),this.error())))}}),ZY=qY;var BY=__webpack_require__(254),VY=__webpack_require__.n(BY),zY="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function UY(e,t){return"application/x-moz-file"===e.type||VY()(e,t)}function WY(e){e.preventDefault()}function HY(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function YY(e){return-1!==e.indexOf("Edge/")}const $Y={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},KY={opacity:.5},GY={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},XY={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5};var QY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},JY=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function e$(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var t$=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.renderChildren=function(e,t,n,r){return"function"==typeof e?e(QY({},i.state,{isDragActive:t,isDragAccept:n,isDragReject:r})):e},i.composeHandlers=i.composeHandlers.bind(i),i.onClick=i.onClick.bind(i),i.onDocumentDrop=i.onDocumentDrop.bind(i),i.onDragEnter=i.onDragEnter.bind(i),i.onDragLeave=i.onDragLeave.bind(i),i.onDragOver=i.onDragOver.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrop=i.onDrop.bind(i),i.onFileDialogCancel=i.onFileDialogCancel.bind(i),i.onInputElementClick=i.onInputElementClick.bind(i),i.setRef=i.setRef.bind(i),i.setRefs=i.setRefs.bind(i),i.isFileDialogActive=!1,i.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),JY(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",WY,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",WY),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var t=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),Promise.resolve(this.props.getDataTransferItems(e)).then((function(e){t.setState({isDragActive:!0,draggedFiles:e})})),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter((function(n){return n!==e.target&&t.node.contains(n)})),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,i=n.onDrop,r=n.onDropAccepted,a=n.onDropRejected,o=n.multiple,s=n.disablePreview,l=n.accept,c=n.getDataTransferItems;e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),Promise.resolve(c(e)).then((function(n){var c=[],u=[];n.forEach((function(e){if(!s)try{e.preview=window.URL.createObjectURL(e)}catch(e){0}UY(e,l)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?c.push(e):u.push(e)})),o||u.push.apply(u,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(c.splice(1))),i&&i.call(t,c,u,e),u.length>0&&a&&a.call(t,u,e),c.length>0&&r&&r.call(t,c,e)}))}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return HY(e)||YY(e)}()?this.open():setTimeout(this.open.bind(this),0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout((function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,i=e.activeClassName,r=e.children,a=e.disabled,o=e.disabledClassName,s=e.inputProps,l=e.multiple,c=e.name,u=e.rejectClassName,d=e$(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),p=d.acceptStyle,f=d.activeStyle,m=d.className,g=void 0===m?"":m,v=d.disabledStyle,y=d.rejectStyle,b=d.style,_=e$(d,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),w=this.state,k=w.isDragActive,x=w.draggedFiles,E=x.length,C=l||E<=1,S=E>0&&function(e,t){return e.every((function(e){return UY(e,t)}))}(x,this.props.accept),T=E>0&&(!S||!C),D=!(g||b||f||p||y||v);k&&i&&(g+=" "+i),S&&n&&(g+=" "+n),T&&u&&(g+=" "+u),a&&o&&(g+=" "+o),D&&(b=XY,f=GY,p=GY,y=$Y,v=KY);var F=QY({position:"relative"},b);f&&k&&(F=QY({},F,f)),p&&S&&(F=QY({},F,p)),y&&T&&(F=QY({},F,y)),v&&a&&(F=QY({},F,v));var M={accept:t,disabled:a,type:"file",style:QY({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},s.style),multiple:zY&&l,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};c&&c.length&&(M.name=c);_.acceptedFiles,_.preventDropOnDocument,_.disablePreview,_.disableClick,_.onDropAccepted,_.onDropRejected,_.onFileDialogCancel,_.maxSize,_.minSize,_.getDataTransferItems;var A=e$(_,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return h.createElement("div",QY({className:g,style:F},A,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":a}),this.renderChildren(r,k,S,T),h.createElement("input",QY({},s,M)))}}]),t}(h.Component);const n$=t$;t$.propTypes={accept:PE().oneOfType([PE().string,PE().arrayOf(PE().string)]),children:PE().oneOfType([PE().node,PE().func]),disableClick:PE().bool,disabled:PE().bool,disablePreview:PE().bool,preventDropOnDocument:PE().bool,inputProps:PE().object,multiple:PE().bool,name:PE().string,maxSize:PE().number,minSize:PE().number,className:PE().string,activeClassName:PE().string,acceptClassName:PE().string,rejectClassName:PE().string,disabledClassName:PE().string,style:PE().object,activeStyle:PE().object,acceptStyle:PE().object,rejectStyle:PE().object,disabledStyle:PE().object,getDataTransferItems:PE().func,onClick:PE().func,onDrop:PE().func,onDropAccepted:PE().func,onDropRejected:PE().func,onDragStart:PE().func,onDragEnter:PE().func,onDragOver:PE().func,onDragLeave:PE().func,onFileDialogCancel:PE().func},t$.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}};const i$=(e,t=2)=>{if(!e||e<=0)return"0 Bytes";const n=t<0?0:t,i=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,i)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]};const r$=Qn("div",{target:"elzcui00"})({name:"1whi7m4",styles:"color:red;text-align:center;padding-top:10px"}),a$=({accept:e,onUpload:t,maxSizeBytes:n})=>{const[i,r]=(0,h.useState)(null),a=(0,h.useCallback)((i=>{r(null);const a=i[0];n&&a.size>n?r((0,ai.Z)("thumbnailSizeError",[i$(n)])):!a.type&&e||t(a)}),[e,t,n]);return h.createElement("div",{className:"file-uploader"},h.createElement(n$,{onDrop:a,accept:e,className:"dropzone",activeClassName:"dropzone-active",rejectClassName:"dropzone-reject"},(0,ai.Z)("dropFileHere")),i&&h.createElement(r$,null,i))},o$=Oo()({displayName:"ChooseImage",canvas:null,onUpload(e){const t=this.canvas.getContext("2d"),n=new Image;n.onload=()=>{t.drawImage(n,0,0,this.canvas.width,this.canvas.height),this.props.onUploaded&&this.props.onUploaded(n)},n.src=e.preview},componentDidMount(){if(this.canvas=document.getElementById("thumbnail-upload-canvas"),this.props.setCanvas(this.canvas),this.canvas.width=1280,this.canvas.height=720,this.props.initialImage){this.canvas.getContext("2d").drawImage(this.props.initialImage,0,0,this.canvas.width,this.canvas.height)}},render(){const e=this.props.initialImage;return h.createElement("div",null,h.createElement("p",{className:"thumbnail-instructions"},(0,ai.Z)("imageThumbInfo")),h.createElement("div",{className:"clearfix"},h.createElement("canvas",{id:"thumbnail-upload-canvas",className:"thumbnail-left",style:e?{}:{display:"none"}}),h.createElement("div",{className:e?"thumbnail-right":"thumbnail-center"},h.createElement(a$,{onUpload:this.onUpload,accept:"image/*",maxSizeBytes:2097152}))))}}),s$=o$,l$=Oo()({displayName:"ChooseSolidColor",canvas:null,componentDidMount(){this.canvas=document.getElementById("thumbnail-color-canvas"),this.initSpectrum(),this.drawCanvas(this.props.color),this.props.setCanvas(this.canvas)},UNSAFE_componentWillReceiveProps(e){e.color!==this.props.color&&this.drawCanvas(e.color)},initSpectrum(){r()("#spectrum-color-picker").spectrum({color:this.props.color,containerClassName:"thumbnail-right",flat:!0,showButtons:!1,move:e=>this.props.setColor(e.toHexString())})},drawCanvas(e){const t=this.canvas.getContext("2d");t.fillStyle=e,t.fillRect(0,0,462,260)},render:()=>h.createElement("div",null,h.createElement("p",{className:"thumbnail-instructions"},(0,ai.Z)("chooseThumbBgColor")),h.createElement("div",{className:"clearfix"},h.createElement("canvas",{id:"thumbnail-color-canvas",className:"thumbnail-left"}),h.createElement("input",{id:"spectrum-color-picker",type:"text"})))}),c$=l$,u$=Oo()({displayName:"ChooseVideoStill",UNSAFE_componentWillMount(){this.props.onBufferUpdate&&this.props.onBufferUpdate(!1),this.timeout&&clearTimeout(this.timeout)},timeout:null,componentDidMount(){this.timeout=setTimeout((()=>{this.props.onBufferUpdate(!0)}),1e3)},isStudio:()=>"studio"===window.location.host.split(".")[0],getEmbedUrl(){const e={autoplay:!0,fs:!1,enablejsapi:!0,iv_load_policy:3,loop:!0,playlist:this.props.videoId,rel:0,showinfo:!1};return"https://www.youtube.com/embed/"+this.props.videoId+"?"+r().param(e)},render(){return h.createElement("div",{className:"choose-video-still"},h.createElement("p",{className:"thumbnail-instructions"},(0,ai.Z)("chooseThumbStill")),h.createElement("div",{className:"clearfix",style:{margin:"0 auto"}},h.createElement("iframe",{title:"thumbnail-video-iframe",type:"text/html",id:"thumbnail-video-iframe",frameBorder:"0",className:"thumbnail-left",src:this.getEmbedUrl()})))}}),d$=u$,h$=Oo()({displayName:"ChooseBackground",statics:{enterStep(){LY.update({fabricJson:null})},canChangeStep(){const e=$L.getData(),t=e.activeTabs.ChooseBackground;return(0!==t||e.buffered)&&(2!==t||e.uploadedImage)?"all":"back"}},getInitialState:()=>$L.getData(),UNSAFE_componentWillMount(){$L.addChangeListener(this.onStoreChange)},componentWillUnmount(){$L.removeChangeListener(this.onStoreChange),this.state.activeTabs.ChooseBackground&&this.saveBackgroundImage()},onStoreChange(){this.setState($L.getData())},onBufferUpdate(e){LY.update({buffered:e})},onUploaded(e){LY.update({uploadedImage:e})},saveBackgroundImage(){const e=this.state.canvases.ChooseBackground,t=document.createElement("canvas");t.width=1280,t.height=720;t.getContext("2d").drawImage(e,0,0,1280,720),LY.update({backgroundImageUri:t.toDataURL()})},getTabs(){return[{name:(0,ai.Z)("videoStillTitle"),content:h.createElement(d$,{videoId:this.state.videoId,onBufferUpdate:this.onBufferUpdate})},{name:(0,ai.Z)("solidColorTitle"),content:h.createElement(c$,{color:this.state.color,setCanvas:this.setCanvas,setColor:this.setColor})},{name:(0,ai.Z)("otherImageTitle"),content:h.createElement(s$,{setCanvas:this.setCanvas,onUploaded:this.onUploaded,initialImage:this.state.uploadedImage})},{name:(0,ai.Z)("currentThumbnailTitle"),content:h.createElement(ZY,{videoId:this.state.videoId,setCanvas:this.setCanvas})}]},setCanvas(e){LY.setCanvas("ChooseBackground",e)},setColor(e){LY.update({color:e})},render(){return h.createElement("div",{className:"vidiq-thumbnail-editor-choose-background"},h.createElement(_z,{tabs:this.getTabs(),activeTab:this.state.activeTabs.ChooseBackground,onChange:L().partial(LY.changeTab,"ChooseBackground")}))}});var p$=__webpack_require__(1466),f$=__webpack_require__.n(p$),m$=__webpack_require__(2777);const g$=we.Z.keyMirror(["UPDATE","ADD_TEMPLATE"],"THUMBNAIL_TEMPLATES");class v${constructor(e){this.progress=0,this.reqId=null,this.id=null,this.blob=null,this.number=null,this.etag=null,this.done=!1,this.cancelled=!1,L().extend(this,e),(0,Y.Z)("UploadPart > Created new upload part",this)}cancel(){this.cancelled=!0,this.reqId&&P.Z.cancel(this.reqId)}async send(e){(0,Y.Z)("UploadPart#send > GET %s","vidiq.getUploadPartsS3Url");try{const{text:e}=await P.Z.retry("vidiq.getUploadPartsS3Url",{id:this.id,number:this.number});if((0,Y.Z)("UploadPart#send > GET SUCCESS %s","vidiq.getUploadPartsS3Url",e),this.cancelled)return;try{await this.put(e)}catch(e){this.callback("onError",e)}}catch(t){if((0,Y.Z)("UploadPart#send > GET FAIL %s","vidiq.getUploadPartsS3Url",t.json),this.cancelled)return;e<3?this.send((e||0)+1):this.callback("onError",t.json)}}async put(e){if(this.cancelled)return Promise.reject();try{P.Z.nextId((e=>{this.reqId=e,P.Z.pollProgress(e,(e=>{this.cancelled||(this.progress=e,this.callback("onProgress",e))}))}));const{response:t}=await P.Z.retry("aws.s3",{url:e,method:"PUT",blobUrl:URL.createObjectURL(this.blob)});(0,Y.Z)("UploadPart#put > PUT SUCCESS %s",e,t);const n=t.headers.ETag;return this.etag=n,this.done=!0,this.callback("onDone",this),this}catch(t){return(0,Y.Z)("UploadPart#put > PUT FAIL %s",e,t),Promise.reject(t)}}callback(e,t){L().isArray(t)||(t=[t]),"function"==typeof this[e]&&this[e](...t)}}class y${constructor(e){this.id=null,this.tempId=null,this.file=null,this.type=null,this.parts=[],this.queue=[],this.fail=!1,this.video=null,this.done=!1,this.PART_LIMIT=1e3,this.PART_SIZE=52428800,this.THROTTLE=3,this.cancelled=!1,L().extend(this,e),L().bindAll(this,"onPartDone","onPartError","onPartProgress"),(0,Y.Z)("Upload > Created new upload",this)}isValid(){return y$.isValid(this.file)}async start(){if(!this.isValid())return Promise.reject();this.parts=[],this.queue=[],this.fail=!1;const e={name:this.file.name,type:this.type||"video",mime_type:this.file.type};(0,Y.Z)("Upload#start > POST %s",e);try{const{json:t}=await P.Z.retry("vidiq.startUpload",{body:e});return(0,Y.Z)("Upload#start > POST SUCCESS %s",t),this.response=t,this.id=t.id,await this.send(),this}catch(e){return this.onPartError(),Promise.reject(e)}}async cancel(){if(this.cancelled=!0,this.parts.forEach((e=>{(0,Y.Z)("Upload#cancel > CANCEL PART",e),e.cancel()})),r()(window).trigger("upload-error:"+this.tempId),!this.id)return Promise.reject();(0,Y.Z)("Upload#cancel > DELETE");try{await P.Z.retry("vidiq.cancelUpload",{id:this.id}),(0,Y.Z)("Upload#cancel > DELETE SUCCESS")}catch(e){(0,Y.Z)("Upload#cancel > DELETE FAIL",e)}}async finish(){if(this.cancelled)return;const e=this.parts.map((e=>`<Part>\n        <PartNumber>${e.number}</PartNumber>\n        <ETag>${e.etag}</ETag>\n      </Part>`.trim())).join(""),t=`<CompleteMultipartUpload>${e}</CompleteMultipartUpload>`;try{(0,Y.Z)("Upload#finish > GET");const{text:e}=await P.Z.retry("vidiq.completeUploadInit",{id:this.id});return(0,Y.Z)("Upload#finish > GET SUCCESS %s",e),(0,Y.Z)("Upload#finish > s3 POST"),await P.Z.retry("aws.s3",{url:e,method:"POST",body:t}),(0,Y.Z)("Upload#finish > s3 POST SUCCESS"),(0,Y.Z)("Upload#finish > POST"),await P.Z.retry("vidiq.completeUploadFinish",{id:this.id}),(0,Y.Z)("Upload#finish > POST SUCCESS"),this.done=!0,r()(window).trigger("upload-done:"+this.tempId),"function"==typeof this.onFinish&&this.onFinish(),this}catch(e){this.onPartError(e)}}async send(){if(!this.cancelled)try{(0,Y.Z)("Upload#send > POST"),await P.Z.retry("vidiq.createUploadParts",{id:this.id}),(0,Y.Z)("Upload#send > POST SUCCESS"),this.slice(((e,t)=>{const n=new v$({id:this.id,number:e,blob:t,onDone:this.onPartDone,onError:this.onPartError,onProgress:this.onPartProgress});this.parts.push(n),e>this.THROTTLE?this.queue.push(n):n.send()}))}catch(e){this.onPartError(e)}}slice(e){const t=this.file.size;let n=this.PART_SIZE;t/n>this.PART_LIMIT&&(n=Math.ceil(t/this.PART_LIMIT));const i=Math.ceil(t/n);(0,Y.Z)("Upload#slice > Splitting file into %i chunks of %f MB",i,n/1024/1024);for(let r=1;r<=i;r+=1){const i=(r-1)*n,a=Math.min(r*n,t);"function"==typeof e&&e(r,this.file.slice(i,a))}}onPartProgress(){if(this.cancelled)return;const e=this.getProgress();this.callback("onProgress",e),r()(window).trigger("upload-progress:"+this.tempId,[e])}getProgress(){if(!this.parts.length)return 0;const e=L().map(this.parts,(e=>e.progress)),t=e.reduce(((e,t)=>e+t));return t/e.length}onPartError(e){this.fail||((0,Y.Z)("Upload#onPartError > AJAX FAIL",e),this.fail=!0,this.cancel())}onPartDone(){if(this.cancelled)return;const e=this.queue.pop();e&&((0,Y.Z)("Upload#onPartDone > Sending next queued part",e),e.send());const t=L().uniq(L().map(this.parts,(e=>e.done)));1===t.length&&t[0]&&((0,Y.Z)("Upload#onPartDone > All parts finished uploading"),this.finish())}callback(e,t){"function"==typeof this[e]&&this[e](t)}}y$.PART_LIMIT=1e3,y$.PART_SIZE=52428800,y$.isValid=function(e){return e.size<=y$.PART_LIMIT*y$.PART_SIZE};const b$=new ds.Z("ThumbnailTemplatesStore",{_data:{thumbnail_templates:{},replace:!1,saveName:null,loadName:null,loading:!1,message:{},msgOpacity:0,imageCodes:{}}});b$.dispatchToken=ko.Z.register((e=>{const t=b$,n=g$;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const _$=b$,w$=e=>new Promise(((t,n)=>{const i=new XMLHttpRequest;let r;r=(0,ee.Z)()?URL.createObjectURL(e):e,i.open("GET",r,!0),i.responseType="blob",i.onload=function(){if(200===this.status)return t(this.response);n(this.status)},i.send()})),k$={base:"https://api.vidiq.com",getUpdatedStoreTemplates(e){const t=_$.getData().thumbnail_templates;return L().omit(t,e)},getAdjustedObjects(e,t){const n=new(r().Deferred);let i=0;if(L().isEmpty(t))n.reject("No objects");else{const r=[];L().each(t,(function(a){const o=L().extend({},a);r.push(o),this.uploadImage(e,a).done((e=>{e&&(a.src=e,a.crossOrigin="anonymous"),i+=1,i===t.length&&n.resolve(t)})).fail((e=>{n.reject(e)}))}),this)}return n.promise()},uploadImage(e,t){const n=new(r().Deferred);return"image"!==t.type?n.resolve():(w$(t.src).then((t=>{if(t.size>15e5)return n.reject((0,ai.Z)("imageTooLarge",["1.5"]));t.lastModifiedDate=new Date,t.name=e,k$.getCachedUrl(t).done((e=>{n.resolve(e)})).fail((i=>{new y$({tempId:e,file:t,type:"image"}).start().then((e=>{const t=k$.base+"/v1/uploads/"+e.id.toString()+"/download_url";k$.cacheImageUrl(i,t),n.resolve(t)})).catch((e=>{n.reject("An error occurred in upload: "+e)}))}))})).catch((e=>{n.reject(`ERROR ${e}`)})),n.promise())},createImageBlobs(e){const t={},n=new(r().Deferred);let i=0;return e&&!L().isEmpty(e)||n.resolve(t),L().each(e,(function(r,a){this.getImageBlobs(r).done((r=>{t[a]=r,i+=1,i===L().keys(e).length&&n.resolve(t)}))}),this),n.promise()},getImageBlobs(e){const t=new(r().Deferred),n=[],i=[];return L().each(e,(()=>{n.push(new(r().Deferred))})),r().when.apply(this,n).done((()=>{t.resolve(i)})),L().each(e,(function(e,t){this.getBlob(e).done((e=>{i[t]=e,n[t].resolve()})).fail((()=>{n[t].resolve()}))}),this),t.promise()},getBlob(e){const t=new(r().Deferred),n=L().extend({},e);return n.src?(0,P.Z)("vidiq.getUploadDownloadUrl",{url:n.src}).then((e=>{if(!e||"string"!=typeof e)return t.reject(n);(0,P.Z)("aws.s3",{url:e,method:"GET",blob:!0}).then((e=>{if(!e)return t.reject();fetch(e,{method:"GET"}).then((e=>e.blob())).then((e=>{const i=n.src,r=new FileReader;r.onload=e=>{const t=e.target.result,n=k$.checksum(t);k$.cacheImageUrl(n,i)},r.readAsArrayBuffer(e);const a=(window.URL||window.webkitURL).createObjectURL(e);n.src=a,t.resolve(n)})).catch(t.reject)}))})):t.resolve(n),t.promise()},cacheImageUrl(e,t){const n=_$.getData().imageCodes,i={};i[e]=t;const a=L().extend({},n,i);r()(window).trigger("cache-image-thumbnail-template",a)},getCachedUrl(e){const t=new(r().Deferred),n=new FileReader;return n.onload=function(){const e=new Uint8Array(this.result),n=k$.checksum(e),i=k$.checkImageCodes(n);i?t.resolve(i):t.reject(n)},n.readAsArrayBuffer(e),t.promise()},checkImageCodes(e){const t=_$.getData().imageCodes;return t[e]?t[e]:null},checksum(e){let t=2166136261;const n=e.length;for(let i=0;i<n;i+=1)t=t+((t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)>>>0)^255&e[i];return t>>>0},clearAll(){(0,P.Z)("vidiq.deleteUserSettings",{keys:"thumbnail_templates"});for(let e=3542;e>=3530;e-=1)(0,P.Z)("vidiq.deleteObject",{id:e})}},x$=k$,E$={update(e){ko.Z.dispatch({action:g$.UPDATE,data:e})},updateMsgOpacity(){setTimeout((()=>{this.update({msgOpacity:0})}),3e3)},updateSuccess(e,t,n){const i={message:{type:"success",text:t},loadName:e,msgOpacity:1,loading:!1};n&&L().extend(i,{thumbnail_templates:n}),t===(0,ai.Z)("templateDeleted",[e])&&L().extend(i,{saveName:null}),this.update(i),this.updateMsgOpacity()},updateFailure(e,t){const n={message:{type:"error",text:(0,ai.Z)("templateSaveProblem",[e,t])},msgOpacity:1,loading:!1};this.update(n),this.updateMsgOpacity()},findCache(){const e=_$.getData().thumbnail_templates;return!e||L().isEmpty(e)?null:e},fetchTemplates(){return fz.fetchTemplates("thumbnail",this.findCache).done((e=>{E$.update({thumbnail_templates:e,loading:!1})}))},createBlobs(e){E$.update({loading:!0}),x$.createImageBlobs(e).done((e=>{E$.update({thumbnail_templates:e,loading:!1})}))},delete(e){this.update({loading:!0}),fz.deleteTemplate("thumbnail",e,this.findCache).done((t=>{this.updateSuccess(e,(0,ai.Z)("templateDeleted",[e]),t)})).fail((t=>{this.updateFailure(e,t)}))},save(e,t){this.update({loading:!0}),x$.getAdjustedObjects(e,t).done((t=>{const n={type:"thumbnail",name:e,findCache:this.findCache,data:t};fz.saveTemplate(n).done((t=>{this.updateSuccess(e,(0,ai.Z)("templateSaved",[e]),t)})).fail((t=>{this.updateFailure(e,t)}))})).fail((t=>{this.updateFailure(e,t)}))}};r()(window).on("cache-image-thumbnail-templates",((e,t)=>{E$.update({imageCodes:t})}));const C$=E$,S$=Oo()({displayName:"EmojiPicker",base:"https://s3.amazonaws.com/vidio-app/emoji/160x160/",indices:{people:[705,704,701,711,50,710,714,725,727,724,726,729,730,728,752,702,721,713,719,731,736,735,703,746,743,738,749,706,720,742,744,741,750,733,734,737,723,707,712,756,715,753,754,751,732,739,740,709,485,747,745,717,722,748,755,708,716,718,472,473,468,477,488,476,460,461,462,463,474,475,471,482,478,759,757,760,762,761,765,764,758,763,479,480,769,770,771,486,483,527,647,98,203,529,523,520,524,525,522,526,424,423,425,427,426,435,436,434,432,91,93,433,92,438,428,429,431,430,773,776,49,437,528,831,336,489,465,464,466,467,501,503,469,767,766,487,772,492,493,491,470,775,774,768,310,439,440,453,452,455,454,456,443,442,448,445,330,444,446,447,546,450,451,449,441,281,174,490,513,511,514,512,109,506,509,505,507,508,516,510,498,497,499,500,458,459,530,457,531],nature:[414,418,409,405,417,408,416,407,400,419,415,421,406,383,413,378,412,377,384,420,399,398,396,397,395,380,373,394,387,389,388,390,372,385,386,392,391,404,411,371,364,375,360,363,365,367,369,374,376,379,381,382,361,362,410,393,370,403,402,366,368,401,422,502,212,211,220,213,215,214,221,223,222,219,218,224,210,209,207,208,205,206,216,188,202,201,198,189,190,191,192,193,194,195,196,200,199,197,185,186,187,183,184,204,123,43,78,44,72,47,101,77,172,173,180,182,294],things:[515,295,299,300,296,287,288,297,298,284,481,286,285,282,292,290,291,289,293,656,306,605,606,609,549,550,547,548,545,599,45,580,581,582,583,607,608,620,619,618,617,630,631,584,585,33,27,32,26,629,628,625,626,627,624,519,648,616,615,622,621,623,842,841,840,838,649,651,650,819,821,521,653,652,496,495,534,538,539,541,540,537,542,600,589,587,586,90,591,590,597,593,592,594,595,596,588,579,554,553,567,560,558,559,578,561,555,556,557,551,552,87,562,564,95,94,565,566,571,573,574,575,569,570,568,576,572,632,577,654,655,598,309,313,305,308,329,322,323,326,328,327,324,325,484,315,131,321,130,319,316,340,333,75,76,331,318,341,320,83,830,829,334,339,338,332,335,342,337,304,48,273,274,280,278,279,276,277,275,272,241,240,251,243,242,249,247,256,269,255,257,245,244,246,248,270,254,253,271,250,261,266,258,260,259,283,268,262,263,264,265,267,234,235,230,231,238,227,229,239,237,228,232,236,233,252,226,225,217,343,344,354,345,346,348,349,353,352,351,504,81,355,347,179,178,358,359,85,356,697,699,696,176,177,175,698,181,301,302,82,303,811,84,813,812,70,777,89,544,778,779,787,786,807,783,781,782,785,784,806,788,780,791,789,790,802,801,800,798,799,804,803,817,796,797,795,794,793,827,810,808,809,805,494,792,312,815,814,71,816,658,86,357,317,67,700,311,314,563,818],symbols:[153,154,148,147,156,150,149,152,155,151,3,4,5,6,7,8,9,10,11,2,641,644,1,645,119,120,118,113,642,643,646,21,20,22,23,18,19,614,38,37,670,671,24,25,17,29,28,30,31,117,116,143,610,611,612,141,145,138,139,142,604,307,157,160,162,164,163,161,170,168,169,165,159,836,834,835,837,839,825,823,135,69,822,166,167,158,34,843,845,846,844,171,128,127,137,144,140,820,640,603,824,826,832,828,833,80,99,102,104,88,100,517,146,601,602,132,133,136,134,518,115,68,51,52,53,54,55,56,57,58,59,60,61,62,79,657,350,543,536,535,12,13,16,103,14,15,108,105,107,106,124,639,636,635,637,638,613,683,677,672,684,673,685,674,686,675,687,676,688,695,678,679,680,681,682,689,690,691,692,693,694,97,110,111,112,63,65,64,66,532,533,96,46,634,633,114,125,126,659,40,39,42,41,35,36,668,660,661,74,73,662,663,669,122,121,664,665,666,667]},getInitialState(){return{expanded:ye.Z.getItem("emojis_expanded")||!0,submenu:ye.Z.getItem("emojis_submenu")||"people",indices:L().extend(this.indices,{recent:ye.Z.getItem("emojis_recent")||[]})}},toggleExpanded(){ye.Z.setItem("emojis_expanded",!this.state.expanded),this.setState({expanded:!this.state.expanded})},toggleSubmenu(e){const t=r()(e.target).attr("value");ye.Z.setItem("emojis_submenu",t),this.setState({submenu:t})},updateRecent(e){const t=e.lastIndexOf("."),n=e.lastIndexOf("/")+1,i=e.substr(n,t-n),r=this.state.indices;r.recent.indexOf(i)>-1&&r.recent.splice(r.recent.indexOf(i),1),r.recent.unshift(i),r.recent.length>160&&r.recent.pop(),ye.Z.setItem("emojis_recent",r.recent),this.setState({indices:r})},addEmoji(e){const t=r()(e.target).attr("src");this.createBlob(t).done((e=>{this.props.add(e),this.updateRecent(t)}))},createBlob(e){const t=new(r().Deferred),n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){const e=new Uint8Array(this.response),n=new Blob([e],{type:"image/png"}),i=(window.URL||window.webkitURL).createObjectURL(n);t.resolve(i)},n.send(),t.promise()},render(){return h.createElement("div",{className:"vidiq-emoji-picker"},this.emojiHeader(),this.emojiMenu())},getEmojiElement(e){return h.createElement("img",{key:e,src:e,className:"emoji",onClick:this.addEmoji,alt:""})},getEmojis(){if("recent"===this.state.submenu&&L().isEmpty(this.state.indices.recent))return h.createElement("div",{className:"emojis"},"No recent emojis");const e=L().map(this.state.indices[this.state.submenu],(function(e){const t=this.base+e+".png";return this.getEmojiElement(t)}),this);return h.createElement("div",{className:"emojis"},e)},emojiHeader(){const e=Fo()("emoji-picker-header",{expanded:this.state.expanded});return h.createElement("div",{className:e,onClick:this.toggleExpanded},"Emojis")},emojiSubMenu(e,t){const n=Fo()("submenu",{selected:this.state.submenu===e});t||(t=this.state.indices[e][0]);const i=this.base+t+".png";return h.createElement("div",{onClick:this.toggleSubmenu,className:n,value:e,title:e.toUpperCase()},h.createElement("img",{src:i,className:"submenu-image",value:e,alt:""}))},emojiSubMenus(){return h.createElement("div",{className:"emoji-submenus"},this.emojiSubMenu("recent",674),this.emojiSubMenu("people"),this.emojiSubMenu("nature"),this.emojiSubMenu("things",519),this.emojiSubMenu("symbols",68))},emojiMenu(){if(!this.state.expanded)return null;const e=this.getEmojis();return h.createElement("div",{className:"emoji-picker-inner"},this.emojiSubMenus(),e)}}),T$=S$,D$={init(e){r()(e.id).spectrum({color:e.color,replacerClassName:e.replacer,showButtons:!1,showInput:!0,preferredFormat:"hex3",showPalette:!0,showAlpha:!0,palette:[],localStorageKey:"vidIQ_palette",maxSelectionSize:6,move:e.onChange,change:e.onChange,appendTo:e.appendTo})}},F$=Oo()({displayName:"ObjectBorder",render(){return h.createElement("div",{className:"flex-child border-options"},h.createElement("label",{htmlFor:this.props.colorId},(0,ai.Z)("borderTitle")),h.createElement("input",{id:this.props.colorId,type:"text"}),h.createElement("label",{htmlFor:"strokeWidth"},(0,ai.Z)("widthTitle")),h.createElement("input",{id:"strokeWidth",type:"number",title:(0,ai.Z)("borderWidthTitle"),min:this.props.min||"0",max:this.props.min||"10",step:this.props.step||"0.5",onChange:this.props.onChange,value:this.props.value}))}}),M$=Oo()({displayName:"ObjectOpacity",render(){return h.createElement("div",{className:"flex-child opacity-slider"},h.createElement("label",{htmlFor:"opacity"},(0,ai.Z)("opacityTitle")),h.createElement("input",{type:"range",id:"opacity",min:this.props.min||0,max:this.props.max||1,step:this.props.step||.01,value:this.props.value,onChange:this.props.onChange}))}}),A$=Oo()({displayName:"ImageObject",node:h.createRef(),getInitialState(){let e={opacity:this.props.initialOpacity||1,stroke:this.props.initialBorderFill||"#000",strokeWidth:this.props.initialBorderWidth||0};return this.props.bindTo&&(e=this.getObjState(this.props.bindTo,e)),e},getObjState(e,t){return L().object(L().map(t||this.state,((t,n)=>[n,e.get(n)]),this))},componentDidMount(){this.initSpectrum()},componentDidUpdate(){this.enforceBinding()},initSpectrum(){D$.init({id:"#spectrum-border-color-picker",replacer:"thumbnail-border-color-picker-replacer",color:this.state.stroke,onChange:this.onChangeBorderColor,appendTo:this.node.current})},enforceBinding(){this.props.bindTo&&(L().each(this.state,(function(e,t){this.props.bindTo.set(t,e)}),this),this.props.canvas.renderAll())},onUpload(e){this.addToCanvas(e.preview)},onChangeOpacity(e){const t=parseFloat(e.target.value);this.props.onChangeOpacity&&this.props.onChangeOpacity(t),this.setState({opacity:t})},onChangeBorderColor(e){this.props.onChangeBorderFill&&this.props.onChangeBorderFill(e.toHexString()),this.setState({stroke:e.toHexString()})},onChangeBorderWidth(e){let t=Number(e.target.value);t>10?t=10:t<0&&(t=0),this.props.onChangeBorderWidth&&this.props.onChangeBorderWidth(t),this.setState({strokeWidth:t})},addToCanvas(e){const t=(e,t)=>n=>{n.scaleToWidth(t),n.scaleToHeight(e),this.props.canvas.add(n),this.props.updateObjects()},n=new Image;n.onload=()=>{const e=Math.min(n.height,240),i=e/(n.height/n.width),r=this.state;m$.fabric.Image.fromURL(n.src,t(e,i),{top:10,left:10,opacity:r.opacity,stroke:r.stroke,strokeWidth:r.strokeWidth,transparentCorners:!1},{crossOrigin:"Anonymous"})},n.crossOrigin="anonymous",n.src=e},render(){return h.createElement("div",{className:"fabric-object",ref:this.node},this.props.bindTo?null:h.createElement(a$,{onUpload:this.onUpload,accept:"image/*",maxSizeBytes:2097152}),this.emojiPicker(),h.createElement("div",{className:"flex-container"},h.createElement(M$,{onChange:this.onChangeOpacity,value:this.state.opacity}),h.createElement(F$,{colorId:"spectrum-border-color-picker",onChange:this.onChangeBorderWidth,value:this.state.strokeWidth.toString()})))},emojiPicker(){return this.props.bindTo?null:h.createElement("div",{className:"flex-container emoji-picker"},h.createElement(T$,{add:this.addToCanvas}))}}),I$=Oo()({displayName:"ShapeObject",node:h.createRef(),shapeOptions:{rect:{width:100,height:50},triangle:{width:100,height:100},circle:{radius:50},ellipse:{rx:100,ry:50},line:{strokeWidth:3}},getInitialState(){let e={shape:"rect",fill:this.props.initialFill||"#fff",opacity:this.props.initialOpacity||1,stroke:this.props.initialBorderFill||"#000",strokeWidth:this.props.initialBorderWidth||0};return this.props.bindTo&&(e=this.getObjState(this.props.bindTo,e)),e},getObjState(e,t){return L().object(L().map(t||this.state,((t,n)=>[n,e.get(n)]),this))},componentDidMount(){this.initSpectrum()},componentDidUpdate(){this.enforceBinding()},enforceBinding(){this.props.bindTo&&(L().each(this.state,(function(e,t){this.props.bindTo.set(t,e)}),this),this.props.canvas.renderAll())},initSpectrum(){D$.init({id:"#spectrum-color-picker",replacer:"thumbnail-color-picker-replacer",color:this.state.fill,onChange:this.onChangeColor,appendTo:this.node.current}),D$.init({id:"#spectrum-border-color-picker",replacer:"thumbnail-border-color-picker-replacer",color:this.state.stroke,onChange:this.onChangeBorderColor,appendTo:this.node.current})},onChangeShape(e){this.setState({shape:e.target.value})},onChangeColor(e){this.props.onChangeFill&&this.props.onChangeFill(e.toRgbString()),this.setState({fill:e.toRgbString()})},onChangeBorderColor(e){this.props.onChangeBorderFill&&this.props.onChangeBorderFill(e.toRgbString()),this.setState({stroke:e.toRgbString()})},onChangeOpacity(e){const t=parseFloat(e.target.value);this.props.onChangeOpacity&&this.props.onChangeOpacity(t),this.setState({opacity:t})},onChangeBorderWidth(e){let t=Number(e.target.value);t>10?t=10:t<0&&(t=0),this.props.onChangeBorderWidth&&this.props.onChangeBorderWidth(t),this.setState({strokeWidth:t})},addToCanvas(){const e=we.Z.capitalize(this.state.shape),t=this.shapeOptions[this.state.shape];let n;t.transparentCorners=!1,"line"===this.state.shape?(t.stroke=this.state.fill,n=new m$.fabric[e]([10,10,100,100],t)):(t.fill=this.state.fill,t.opacity=this.state.opacity,t.stroke=this.state.stroke,t.strokeWidth=this.state.strokeWidth,t.top=10,t.left=10,n=new m$.fabric[e](t)),this.props.canvas.add(n),this.props.updateObjects()},render(){return h.createElement("div",{className:"fabric-object",ref:this.node},h.createElement("div",{className:"flex-container"},this.shapeChoosers(),h.createElement("div",{className:"flex-child"},h.createElement("input",{id:"spectrum-color-picker",type:"text"})),h.createElement(M$,{onChange:this.onChangeOpacity,value:this.state.opacity}),h.createElement(F$,{colorId:"spectrum-border-color-picker",onChange:this.onChangeBorderWidth,value:this.state.strokeWidth.toString()})),this.props.bindTo?null:h.createElement(is,{secondary:!0,onClick:this.addToCanvas,text:"+ "+(0,ai.Z)("addShapeTitle")}))},shapeChoosers(){if(this.props.bindTo)return;const e="rect triangle circle ellipse".split(" ");return L().map(e,(function(e){const t=(0,ai.Z)("shape"+we.Z.capitalize(e));return h.createElement("div",{className:"flex-child",key:e},h.createElement("input",{type:"radio",id:"shape-"+e,name:"shape",value:e,checked:this.state.shape===e,onChange:this.onChangeShape}),h.createElement("label",{htmlFor:"shape-"+e},t))}),this)}}),O$=I$,N$=Oo()({displayName:"CustomSelector",getInitialState(){return{selected:this.props.defaultValue,expanded:this.props.expanded||!1}},toggleExpanded(){const e=!this.state.expanded;this.setState({expanded:e})},changeSelected(e){const t=r()(e.target).attr("value");this.props.onChange&&this.props.onChange(t),this.setState({selected:t,expanded:!1})},render(){const e=this.props.options?this.options():this.optionGroups();return h.createElement("div",{className:"custom-selector-container"},this.props.search?this.search():this.select(),e)},search(){return h.createElement("div",{className:"custom-selector-search"},h.createElement("input",{type:"text",onChange:this.props.search,value:this.props.searchQuery}),h.createElement("i",{className:"close-search material-icons",onClick:this.props.close},"close"))},select(){const e=this.state.expanded?"arrow_drop_up":"arrow_drop_down",t=this.props.fontStyle?{fontFamily:this.props.selected||this.state.selected}:null;return h.createElement("div",{onClick:this.toggleExpanded,className:"custom-selector-select"},h.createElement("span",{style:t},this.props.selected||this.state.selected),h.createElement("i",{className:"material-icons"},e))},options(e){e||(e=this.props.options);const t=L().map(e,(function(e){const t=(this.props.selected||this.state.selected)===e,n=Fo()("option",{selected:t}),i=this.props.fontStyle?{fontFamily:e}:null,r=t?h.createElement("div",{className:"checkmark",value:e},"✓"):null;return h.createElement("li",{key:e,className:n,value:e,onClick:this.changeSelected},h.createElement("div",{style:i,value:e},e),r)}),this),n=Fo()("options-container",{hidden:!this.state.expanded});return h.createElement("ul",{className:n},t)},optionGroups(){if(!this.props.optionGroups)return null;const e=Fo()("option-group-container",{hidden:!this.state.expanded}),t=L().map(this.props.optionGroups,(function(e,t){return this.optionGroup(e,t)}),this);return h.createElement("ul",{className:e},t)},optionGroup(e,t){return h.createElement("li",{key:t,className:"option-group"},h.createElement("span",null,t),this.options(e))}}),P$=N$,R$=Oo()({displayName:"TextObject",node:h.createRef(),webfonts:["Open Sans","Play","Comfortaa","Raleway","Oswald","Ubuntu","Roboto","Roboto Condensed","Pacifico","Tangerine","Lobster","Lily Script One","Grand Hotel","Mr Dafoe","Mrs Sheppards","Dr Sugiyama","Dynalight","Playball","Freckle Face","VT323","Bangers","Permanent Marker","Chewy","Audiowide","Plaster","Rye","Mystery Quest","Finger Paint","Just Another Hand","Creepster","Monofett","Smokum"],fonts:{Serif:["Times New Roman","Georgia","Palatino"],"Sans-serif":["Helvetica","Arial","Verdana","Impact","Tahoma","Lucida Grande","Trebuchet MS","Open Sans","Play","Comfortaa","Raleway","Oswald","Ubuntu","Roboto","Roboto Condensed"],Monospace:["Courier","Monaco"],Script:["Pacifico","Tangerine","Lobster","Lily Script One","Grand Hotel","Dynalight","Playball","Mr Dafoe","Mrs Sheppards","Dr Sugiyama"],Decorative:["VT323","Bangers","Permanent Marker","Chewy","Audiowide","Just Another Hand","Creepster","Monofett","Smokum","Rye","Freckle Face","Plaster","Mystery Quest","Finger Paint"]},getInitialState(){const e=this.props.initialTextAttributes;let t={text:(0,ai.Z)("enterText"),fontFamily:e?e.font:"Helvetica",fontSize:e?e.size:48,fontWeight:e?e.weight:"normal",textDecoration:e?e.decoration:"none",fill:this.props.initialFill||"#fff",opacity:this.props.initialOpacity||1,stroke:this.props.initialBorderFill||"#000",strokeWidth:this.props.initialBorderWidth||0};return this.props.bindTo&&(t=this.getObjState(this.props.bindTo,t)),t},getObjState(e,t){return L().object(L().map(t||this.state,((t,n)=>[n,e.get(n)]),this))},UNSAFE_componentWillMount(){this.loadGoogleWebFonts()},componentDidMount(){this.initSpectrum()},componentDidUpdate(){this.enforceBinding()},loadGoogleWebFonts(){const e=this.webfonts;r().get("https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",(()=>{window.WebFont.load({google:{families:e}})}))},enforceBinding(){this.props.bindTo&&(L().each(this.state,(function(e,t){this.props.bindTo.set(t,e)}),this),this.props.canvas.renderAll())},initSpectrum(){D$.init({id:"#spectrum-color-picker",replacer:"thumbnail-color-picker-replacer",color:this.state.fill,onChange:this.onChangeColor,appendTo:this.node.current}),D$.init({id:"#spectrum-border-color-picker",replacer:"thumbnail-border-color-picker-replacer",color:this.state.stroke,onChange:this.onChangeBorderColor,appendTo:this.node.current})},onChange(e){const t={},n=e.target.id;let i=e.target.value;"fontWeight"===n&&(i=e.target.checked?"bold":"",this.props.onChangeTextAttribute&&this.props.onChangeTextAttribute("weight",i)),"textDecoration"===n&&(i=e.target.checked?"underline":"",this.props.onChangeTextAttribute&&this.props.onChangeTextAttribute("decoration",i)),"strokeWidth"===n&&(i=Number(i),i>5?i=5:i<0&&(i=0),this.props.onChangeBorderWidth&&this.props.onChangeBorderWidth(i)),"opacity"===n&&(i=parseFloat(i),this.props.onChangeOpacity&&this.props.onChangeOpacity(i)),"fontSize"===n&&this.props.onChangeTextAttribute&&this.props.onChangeTextAttribute("size",i),t[n]=i,this.setState(t)},onChangeColor(e){this.props.onChangeFill&&this.props.onChangeFill(e.toHexString()),this.setState({fill:e.toHexString()})},onChangeBorderColor(e){this.props.onChangeBorderFill&&this.props.onChangeBorderFill(e.toHexString()),this.setState({stroke:e.toHexString()})},onChangeFont(e){this.props.onChangeTextAttribute&&this.props.onChangeTextAttribute("font",e),this.setState({fontFamily:e})},addToCanvas(){const e=L().extend(L().omit(this.state,"text"),{top:10,left:10,transparentCorners:!1}),t=new m$.fabric.Text(this.state.text,e);this.props.canvas.add(t),this.props.updateObjects()},getFonts(){return L().object(L().map(this.fonts,((e,t)=>[t,L().object(L().map(e,(e=>[e,e])))])))},render(){return h.createElement("div",{className:"fabric-object",ref:this.node},h.createElement("div",{className:"flex-container"},h.createElement("div",{className:"flex-child flex-child-wide"},h.createElement("textarea",{id:"text",value:this.state.text,onChange:this.onChange})),h.createElement("div",{className:"flex-child"},h.createElement(P$,{defaultValue:this.state.fontFamily,selected:this.state.fontFamily,onChange:this.onChangeFont,optionGroups:this.getFonts(),fontStyle:!0})),h.createElement("div",{className:"flex-child"},h.createElement("select",{id:"fontSize",value:this.state.fontSize,onChange:this.onChange},h.createElement("option",{value:"24"},"12px"),h.createElement("option",{value:"28"},"14px"),h.createElement("option",{value:"36"},"18px"),h.createElement("option",{value:"48"},"24px"),h.createElement("option",{value:"60"},"30px"),h.createElement("option",{value:"72"},"36px"),h.createElement("option",{value:"96"},"48px"),h.createElement("option",{value:"120"},"60px"),h.createElement("option",{value:"144"},"72px"),h.createElement("option",{value:"168"},"84px"))),h.createElement("div",{className:"flex-child"},h.createElement("input",{id:"spectrum-color-picker",type:"text"})),h.createElement("div",{className:"flex-child"},h.createElement("input",{type:"checkbox",id:"fontWeight",checked:"bold"===this.state.fontWeight,onChange:this.onChange}),h.createElement("label",{htmlFor:"fontWeight",style:{fontWeight:"bold"}},"Aa")),h.createElement("div",{className:"flex-child"},h.createElement("input",{type:"checkbox",id:"textDecoration",checked:"underline"===this.state.textDecoration,onChange:this.onChange}),h.createElement("label",{htmlFor:"textDecoration",style:{textDecoration:"underline"}},"Aa")),h.createElement(M$,{onChange:this.onChange,value:this.state.opacity}),h.createElement(F$,{max:"5",colorId:"spectrum-border-color-picker",onChange:this.onChange,value:this.state.strokeWidth.toString()})),this.props.bindTo?null:h.createElement(is,{secondary:!0,onClick:this.addToCanvas,text:"+ "+(0,ai.Z)("addTextTitle")}))}}),j$=R$,L$=Oo()({displayName:"Confirmation",render(){const e={maxHeight:this.props.show?"100px":"0px"};return h.createElement("div",{style:e,className:"vidiq-confirmation"},h.createElement("div",{className:"confirmation-message"},this.props.message),h.createElement(is,{classes:"confirm",text:(0,ai.Z)("yes"),onClick:this.props.onConfirm,secondary:!0}),h.createElement(is,{classes:"cancel",text:(0,ai.Z)("cancel"),onClick:this.props.onCancel}))}}),q$=L$,Z$=Oo()({displayName:"ThumbnailTemplates",getInitialState:()=>({store:_$.getData(),showConfirmation:!1}),componentDidMount(){_$.addChangeListener(this.onStoreChange)},componentWillUnmount(){_$.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:_$.getData()})},onChangeReplaceTemplate(){const e=!this.state.store.replace;C$.update({replace:e})},onChangeSaveName(e){let t=e.target.value;t.length>50&&(t=t.slice(0,50)),C$.update({saveName:t})},trimmedSaveName(){return this.state.store.saveName?this.state.store.saveName.trim():null},objectsEmpty(){return L().isEmpty(this.props.objects)},templatesEmpty(){return L().isEmpty(this.state.store.thumbnail_templates)},onChangeLoadName(e){const t=e.target.value;C$.update({loadName:t})},onSaveTemplate(){const e=this.trimmedSaveName();e&&(this.props.saveTemplate(e),dt("Saved thumbnail editor template"))},onLoadTemplate(){const e=this.state.store.loadName,t=this.state.store.thumbnail_templates[e],n=this.state.store.replace;t&&(this.props.loadTemplate(t,n),dt("Loaded thumbnail editor template")),C$.update({saveName:e})},onClickDelete(){this.setState({showConfirmation:!0})},onConfirmDelete(){C$.delete(this.state.store.loadName),dt("Deleted thumbnail editor template"),this.setState({showConfirmation:!1})},onCancelDelete(){this.setState({showConfirmation:!1})},spinner(){return this.state.store.loading?h.createElement(os,{size:"medium"}):null},getMessage(){const e=this.state.store,t={opacity:e.msgOpacity},n=Fo()("message",{error:"error"===e.message.type,success:"success"===e.message.type}),i="error"===e.message.type?"error":"check_circle";return h.createElement("span",{style:t,className:n},h.createElement("i",{className:"material-icons"},i)," ",e.message.text)},render(){const e={maxHeight:this.state.showConfirmation?"0px":"100px"},t=Fo()("thumbnail-templates",{confirmation:this.state.showConfirmation});return h.createElement("div",{className:t},this.saveSection(e),this.loadSection(e),h.createElement(q$,{show:this.state.showConfirmation,message:(0,ai.Z)("deleteTheTemplate",[this.state.store.loadName]),onConfirm:this.onConfirmDelete,onCancel:this.onCancelDelete}),this.spinner(),this.getMessage())},nameExists(){const e=this.trimmedSaveName(),t=this.state.store.thumbnail_templates;return L().keys(t).indexOf(e)>-1},saveSection(e){if(this.objectsEmpty()){if(this.state.store.loading)return null;let e=(0,ai.Z)("addCreateOverwrite");return this.templatesEmpty()&&(e=(0,ai.Z)("noTemplatesToLoad2")),h.createElement("span",{className:"no-objects-message"},e)}const t=this.nameExists()?(0,ai.Z)("overwriteTitle"):(0,ai.Z)("createNewTitle");return h.createElement("div",{style:e,className:"thumbnail-templates-save",title:(0,ai.Z)("saveTemplateTitle")},h.createElement("input",{type:"text",className:"thumbnail-template-name",placeholder:(0,ai.Z)("exampleTemplateName"),onChange:this.onChangeSaveName,value:this.state.store.saveName||""}),h.createElement(is,{onClick:this.onSaveTemplate,text:t,classes:"save-button",disabled:!this.trimmedSaveName()||this.state.store.loading}))},loadSection(e){return this.templatesEmpty()?this.objectsEmpty()||this.state.store.loading?null:h.createElement("span",{className:"no-templates-message"},(0,ai.Z)("noTemplatesToLoad3")):h.createElement("div",{style:e,className:"thumbnail-templates-load",title:(0,ai.Z)("loadTemplate")},this.templateSelect(),this.loadSectionActions())},loadSectionActions(){return this.state.store.loadName?h.createElement("div",{className:"load-actions"},h.createElement(is,{onClick:this.onLoadTemplate,text:(0,ai.Z)("loadTitle"),classes:"load-button",disabled:this.templatesEmpty()||this.state.store.loading||!this.state.store.loadName}),h.createElement(is,{onClick:this.onClickDelete,text:(0,ai.Z)("deleteTitle"),classes:"delete-button",disabled:this.templatesEmpty()||this.state.store.loading||!this.state.store.loadName,secondary:!0}),h.createElement("div",{className:"thumbnail-template-replace"},h.createElement("input",{type:"checkbox",id:"template-checkbox",checked:this.state.store.replace,value:this.state.store.replace,onChange:this.onChangeReplaceTemplate}),h.createElement("label",{htmlFor:"template-checkbox"},(0,ai.Z)("replaceCurrentObjects")))):null},templateSelect(){const e=this.state.store.thumbnail_templates,t=this.templatesEmpty(),n=t?[]:L().map(L().keys(e),(e=>{const t=e.match(/VIDEO_ID_[-_A-Za-z0-9]+/);return t&&t[0]?null:h.createElement("option",{key:e,value:e},e)}));return n.unshift(h.createElement("option",{key:"default",value:"",disabled:!0},t?(0,ai.Z)("noTemplatesToLoad4"):(0,ai.Z)("chooseTemplate"))),h.createElement("select",{className:"thumbnail-template-select",disabled:t,onChange:this.onChangeLoadName,value:this.state.store.loadName?this.state.store.loadName:""},n)}}),B$=Z$,V$=Oo()({displayName:"EditThumbnail",canvas:null,getInitialState(){return this.getState()},getState(){return L().extend({selected:null,selectionId:null,objects:[]},this.state||{},{store:$L.getData()})},getCanvasId(){const e="edit-thumbnail-canvas";return this.props.videoId?e+"-"+this.props.videoId:e},getThumbnailTemplates:()=>C$.fetchTemplates(),getDefaultObjects(e){const t=e["VIDEO_ID_"+this.state.store.videoId];t&&this.loadTemplate(t)},componentDidMount(){this.initFabric(),this.setFabricBackgroundImage(),this.getThumbnailTemplates().done((e=>{this.state.store.fabricJson||this.getDefaultObjects(e)})),this.canvas.on("object:selected",this.onObjectSelected),this.canvas.on("selection:cleared",this.onSelectionCleared),document.body.addEventListener("keydown",this.onKeydown),$L.addChangeListener(this.onStoreChange)},onStoreChange(){this.setState(this.getState())},componentWillUnmount(){this.canvas.off("object:selected",this.onObjectSelected),this.canvas.off("selection:cleared",this.onSelectionCleared),this.canvas.discardActiveObject();const e=this.canvas.toJSON(),t=r().extend(!0,{},e),n=this.getCanvasObjects(t).objects;LY.update({fabricJson:e,thumbnailUri:this.createThumbnailUri()}),C$.save("VIDEO_ID_"+this.state.store.videoId,n),$L.removeChangeListener(this.onStoreChange),document.body.removeEventListener("keydown",this.onKeydown)},createThumbnailUri(){let e=this.canvas.toDataURL({format:"image/jpeg"});return f$()(e).size>2e6&&(e=this.canvas.toDataURL({format:"image/jpeg",multiplier:.5})),e},getCanvasObjects:e=>L().omit(e,"background","backgroundImage"),initFabric(){if(this.canvas=new m$.fabric.Canvas(this.getCanvasId(),{containerClass:"thumbnail-left",width:this.props.width||1280,height:this.props.height||720,selection:!1}),this.props.videoId&&this.props.onMakeCanvas(this.props.videoId,this.canvas),this.state.store.fabricJson){const e=this.getCanvasObjects(this.state.store.fabricJson);this.canvas.loadFromJSON(e),this.setState({objects:e.objects})}},setFabricBackgroundImage(){const e=this.props.videoId?"https://cors-anywhere.herokuapp.com/https://img.youtube.com/vi/"+this.props.videoId+"/mqdefault.jpg":this.state.store.backgroundImageUri,t=this.canvas;m$.fabric.Image.fromURL(e,(e=>{t.setBackgroundImage(e,t.renderAll.bind(t),{width:t.getWidth(),height:t.getHeight()}),L().defer((()=>{this.forceUpdate(),t.renderAll()}),300)}),{crossOrigin:"Anonymous"})},updateObjects(){const e=this.canvas.toJSON(),t=this.getCanvasObjects(e).objects;this.setState({objects:t})},saveTemplate(e){const t=this.canvas.toJSON(),n=this.getCanvasObjects(t).objects;C$.save(e,n)},loadTemplate(e,t){C$.update({loading:!0}),x$.getImageBlobs(e).done((e=>{const n=this.canvas.toJSON();n.objects=t?e:n.objects.concat(e),this.canvas.loadFromJSON(n,(()=>{this.updateObjects()})),this.setFabricBackgroundImage(),this.canvas.on("object:selected",this.onObjectSelected),this.canvas.on("selection:cleared",this.onSelectionCleared)})).always((()=>{C$.update({loading:!1})}))},onObjectSelected(e){e.target.borderScaleFactor=.3,e.target.cornerSize=20,this.setState({selected:e.target,selectionId:we.Z.prettyRandomId()})},onSelectionCleared(){this.setState({selected:null,selectionId:null})},onChangeTab(){this.canvas.discardActiveObject(),this.canvas.renderAll(),this.onSelectionCleared()},forSelected(e){if(!this.state.selected)return;const t=this.state.selected.canvas;t[e]&&t[e](this.state.selected),"remove"===e&&this.setState({selected:null,selectedId:null},(()=>{this.updateObjects()}))},onKeydown(e){const t=e.target.tagName;return"INPUT"===t||"TEXTAREA"===t||(!this.state.selected||8!==e.keyCode||(this.forSelected("remove"),void e.preventDefault()))},changeDefaultColor:yo()((e=>{LY.update({defaultColor:e})}),200),changeDefaultBorderColor:yo()((e=>{LY.update({defaultBorderColor:e})}),200),changeDefaultBorderWidth:yo()((e=>{LY.update({defaultBorderWidth:e})}),200),changeDefaultOpacity:yo()((e=>{LY.update({defaultOpacity:e})}),200),changeDefaultTextAttributes:yo()(((e,t)=>{const n=$L.getData().defaultTextAttributes;n[e]=t,LY.update({defaultTextAttributes:n})}),200),getTabs(){if(!this.canvas)return[];const e={canvas:this.canvas,updateObjects:this.updateObjects,initialFill:this.state.store.defaultColor,initialBorderFill:this.state.store.defaultBorderColor,initialBorderWidth:this.state.store.defaultBorderWidth,initialOpacity:this.state.store.defaultOpacity,initialTextAttributes:this.state.store.defaultTextAttributes,onChangeFill:this.changeDefaultColor,onChangeBorderFill:this.changeDefaultBorderColor,onChangeBorderWidth:this.changeDefaultBorderWidth,onChangeOpacity:this.changeDefaultOpacity,onChangeTextAttribute:this.changeDefaultTextAttributes},t={saveTemplate:this.saveTemplate,loadTemplate:this.loadTemplate,objects:this.state.objects};return[{name:(0,ai.Z)("text"),content:h.createElement(j$,e)},{name:(0,ai.Z)("shapeTitle"),content:h.createElement(O$,e)},{name:(0,ai.Z)("imageTitle"),content:h.createElement(A$,e)},{name:(0,ai.Z)("templatesTitle"),content:h.createElement(B$,t)}]},render(){return h.createElement("div",{className:"vidiq-thumbnail-editor-edit-thumbnail"},h.createElement("p",{className:"thumbnail-instructions"},(0,ai.Z)("addStuffToThumbnail")),h.createElement("div",{className:"clearfix"},h.createElement("canvas",{id:this.getCanvasId()}),h.createElement("div",{className:"thumbnail-right"},h.createElement(_z,{tabs:this.getTabs(),size:"small",onChange:this.onChangeTab,activeTab:this.state.selected?-1:null}),this.editObjectPart())))},cloneSelected(){this.state.selected.clone((e=>{e.set("top",10),e.set("left",10),this.canvas.add(e),this.setState({selected:e,selectionId:we.Z.prettyRandomId()})})),this.updateObjects()},editObjectPart(){if(!this.state.selected)return;const e=this.forSelected,t=this.state.selected.type;let n,i;return n="text"===t?"TextObject":"image"===t?"ImageObject":"ShapeObject",hD(n)&&(i=h.createElement(hD(n),{bindTo:this.state.selected,canvas:this.canvas,key:this.state.selectionId})),h.createElement("div",{className:"edit-object"},h.createElement("h2",null,(0,ai.Z)("editSelectedObjectTitle")),i,h.createElement("div",{className:"edit-buttons"},h.createElement(is,{classes:"space-between",icon:!0,title:"Duplicate",onClick:this.cloneSelected},h.createElement("i",{className:"material-icons"},"content_copy")),h.createElement(is,{classes:"space-between",icon:!0,title:"Move back",onClick:L().partial(e,"sendBackwards")},h.createElement("i",{className:"material-icons"},"flip_to_back")),h.createElement(is,{classes:"space-between",icon:!0,title:"Move forward",onClick:L().partial(e,"bringForward")},h.createElement("i",{className:"material-icons"},"flip_to_front")),h.createElement(is,{classes:"space-between",icon:!0,title:"Delete",onClick:L().partial(e,"remove")},h.createElement("i",{className:"material-icons"},"cancel"))))}}),z$=V$,U$=Oo()({displayName:"PreviewThumbnail",statics:{customButtons(e,t){const n=$L.getData();if(n.saved)return[t,"close"];const i={text:(0,ai.Z)("saveThumbnailTitle"),position:"right",onClick:LY.save};return n.loading?(i.text=(0,ai.Z)("savingEllipsis"),i.disabled=!0,[i]):[t,i]}},getInitialState:()=>$L.getData(),UNSAFE_componentWillMount(){$L.addChangeListener(this.onStoreChange)},componentWillUnmount(){$L.removeChangeListener(this.onStoreChange),LY.update({saved:!1})},onStoreChange(){this.setState($L.getData())},getStatus(){let e=(0,ai.Z)("preThumbnailSaveInfo");const t=ai.Z.html("customThumbnailUsageNotice",['<a href="https://youtube.com/features" target="_blank" rel="noopener noreferrer">',"</a>"]);return this.state.loading?e=(0,ai.Z)("savingThumbnailEllipsis"):this.state.saved?e=h.createElement("span",null,(0,ai.Z)("thumbnailSavedNotice"),h.createElement("i",{className:"material-icons"},"check_circle")):this.state.error&&(e=this.state.error.match(/verified/)?h.createElement("span",null,t):this.state.error),e},render(){return h.createElement("div",{className:"vidiq-thumbnail-editor-preview-thumbnail"},h.createElement("p",{className:"thumbnail-instructions"},this.getStatus()),h.createElement("div",{className:"flex-container"},h.createElement("div",{className:"flex-child youtube-preview"},h.createElement("h2",null,(0,ai.Z)("youTubeSearchTitle")),h.createElement("div",{className:"crop"},h.createElement("img",{src:this.state.thumbnailUri,alt:""}))),h.createElement("div",{className:"flex-child facebook-preview"},h.createElement("h2",null,(0,ai.Z)("facebookTitle")),h.createElement("div",{className:"crop"},h.createElement("img",{src:this.state.thumbnailUri,alt:""}))),h.createElement("div",{className:"flex-child twitter-preview"},h.createElement("h2",null,(0,ai.Z)("twitterTitle")),h.createElement("div",{className:"crop"},h.createElement("img",{src:this.state.thumbnailUri,alt:""})))))}}),W$=()=>{const e=chrome.runtime.getURL("images/vidiq.svg");return h.createElement("div",{className:"vidiq-vph-popover"},h.createElement("h3",null,(0,ai.Z)("vphIsViewsPerHour")),h.createElement("p",null,(0,ai.Z)("learnIfVideoIsTrendingNow")),h.createElement("img",{src:e,alt:"vidIQ"}))};W$.displayName="VphPopover";var H$=__webpack_require__(4987),Y$=__webpack_require__.n(H$);const $$={getEmbedCode(e,t,n){const i=this.getQueryString(e,t,n),r=n.fs?" allowfullscreen":"",a="https://"+(n.enhancedPrivacy?"www.youtube-nocookie.com":"www.youtube.com")+"/embed/"+e+i;return'<iframe type="text/html" frameborder="0" '+('width="'+n.width+'" height="'+n.height+'" src="'+a+'"')+r+"></iframe>"},getQueryString(e,t,n){const i=[],r=we.Z.convertTimeToSeconds(t),a=we.Z.convertTimeToSeconds(n.start),o=we.Z.convertTimeToSeconds(n.end);return a>0&&i.push("start="+a),o!==r&&isFinite(o)&&i.push("end="+o),n.autoplay&&i.push("autoplay=1"),n.cc_load_policy&&i.push("cc_load_policy=1"),n.controls||i.push("controls=0"),n.disablekb&&i.push("disablekb=1"),n.fs||i.push("fs=0"),n.iv_load_policy||i.push("iv_load_policy=3"),n.loop&&i.push("loop=1","playlist="+e),n.modestbranding&&i.push("modestbranding=1"),n.rel||i.push("rel=0"),n.showinfo||i.push("showinfo=0"),"default"!==n.vq&&i.push("vq="+n.vq),i.length>0?"?"+i.join("&"):""}},K$=$$,G$=Oo()({displayName:"AdvancedEmbedBase",getInitialState(){return{size:"1920x1080",width:1920,height:1080,vq:"default",start:"0:00",end:this.props.video.duration,autoplay:!1,cc_load_policy:!1,controls:!0,disablekb:!1,fs:!0,iv_load_policy:!0,loop:!1,modestbranding:!1,rel:!0,showinfo:!0,enhancedPrivacy:!1,embedCode:""}},componentDidMount(){dt("Opened advanced video embed",{video:{url:we.Z.getVideoUrl(this.props.video.id),value:this.props.video.title}}),cs.setButtons(["close"]),this.clipboard=new(Y$())("#embedCode");const e=K$.getEmbedCode(this.props.video.id,this.props.video.duration,this.state);this.setState({embedCode:e})},componentWillUnmount(){this.clipboard.destroy()},onChange(e){let t={};const n=e.target.id,i="checkbox"===e.target.type?e.target.checked:e.target.value;if("size"===n&&"custom"!==i&&(t=L().extend(t,this.getUpdatedPlayerSize(i))),"vq"===n&&"default"!==i){const n=L().findWhere(e.target.options,{selected:!0});t=L().extend(t,this.getUpdatedPlayerSize(n.dataset.playerSize))}t[n]=i,t.embedCode=K$.getEmbedCode(this.props.video.id,this.props.video.duration,L().extend(this.state,t)),this.setState(t)},getUpdatedPlayerSize(e){const t=e.split("x");return{size:e,width:t[0],height:t[1]}},render(){if(!this.state.end)return null;const e="custom"===this.state.size?"inline":"none";return h.createElement("div",{className:"vidiq-advanced-embed"},h.createElement("p",null,ai.Z.html("advancedEmbedInfo",[' href="https://developers.google.com/youtube/player_parameters#Parameters" target="_blank"'])),h.createElement("div",{className:"embed-options-container"},h.createElement("div",{className:"embed-column"},h.createElement("div",{className:"embed-option"},(0,ai.Z)("playerSize"),":",h.createElement("select",{id:"size",value:this.state.size,onChange:this.onChange},h.createElement("option",{value:"320x240"},"320x240"),h.createElement("option",{value:"640x360"},"640x360"),h.createElement("option",{value:"853x480"},"853x480"),h.createElement("option",{value:"1280x720"},"1280x720"),h.createElement("option",{value:"1920x1080"},"1920x1080"),h.createElement("option",{value:"custom"},(0,ai.Z)("custom"))),h.createElement("span",{className:"embed-option-custom-size",style:{display:e}},h.createElement("input",{id:"width",type:"text",value:this.state.width,onChange:this.onChange}),(0,ai.Z)("by"),h.createElement("input",{id:"height",type:"text",value:this.state.height,onChange:this.onChange}))),h.createElement("div",{className:"embed-option"},(0,ai.Z)("quality"),":",h.createElement("select",{id:"vq",value:this.state.vq,onChange:this.onChange},h.createElement("option",{value:"default"},(0,ai.Z)("default")),h.createElement("option",{value:"small","data-player-size":"320x240"},"240p"),h.createElement("option",{value:"medium","data-player-size":"640x360"},"360p"),h.createElement("option",{value:"large","data-player-size":"853x480"},"480p"),h.createElement("option",{value:"hd720","data-player-size":"1280x720"},"720p"),h.createElement("option",{value:"hd1080","data-player-size":"1920x1080"},"1080p"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"autoplay",checked:this.state.autoplay,onChange:this.onChange}),h.createElement("label",{htmlFor:"autoplay"},(0,ai.Z)("autoplayVideo"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"cc_load_policy",checked:this.state.cc_load_policy,onChange:this.onChange}),h.createElement("label",{htmlFor:"cc_load_policy"},(0,ai.Z)("showCaptions"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"controls",checked:this.state.controls,onChange:this.onChange}),h.createElement("label",{htmlFor:"controls"},(0,ai.Z)("showPlayerControls"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"disablekb",checked:this.state.disablekb,onChange:this.onChange}),h.createElement("label",{htmlFor:"disablekb"},(0,ai.Z)("disableKeyboardControls"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"fs",checked:this.state.fs,onChange:this.onChange}),h.createElement("label",{htmlFor:"fs"},(0,ai.Z)("allowFullscreen")))),h.createElement("div",{className:"embed-column"},h.createElement("div",{className:"embed-option"},(0,ai.Z)("playVideoFrom"),h.createElement("input",{id:"start",type:"text",value:this.state.start,maxLength:"8",onChange:this.onChange}),(0,ai.Z)("to"),h.createElement("input",{id:"end",type:"text",value:this.state.end,maxLength:"8",onChange:this.onChange})),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"iv_load_policy",checked:this.state.iv_load_policy,onChange:this.onChange}),h.createElement("label",{htmlFor:"iv_load_policy"},(0,ai.Z)("showAnnotations"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"loop",checked:this.state.loop,onChange:this.onChange}),h.createElement("label",{htmlFor:"loop"},(0,ai.Z)("loopVideo"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"modestbranding",checked:this.state.modestbranding,onChange:this.onChange}),h.createElement("label",{htmlFor:"modestbranding"},(0,ai.Z)("hideYouTubeLogo"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"rel",checked:this.state.rel,onChange:this.onChange}),h.createElement("label",{htmlFor:"rel"},(0,ai.Z)("showRelatedVideos"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"showinfo",checked:this.state.showinfo,onChange:this.onChange}),h.createElement("label",{htmlFor:"showinfo"},(0,ai.Z)("showVideoInfo"))),h.createElement("div",{className:"embed-option"},h.createElement("input",{type:"checkbox",id:"enhancedPrivacy",checked:this.state.enhancedPrivacy,onChange:this.onChange}),h.createElement("label",{htmlFor:"enhancedPrivacy"},(0,ai.Z)("enablePrivacy"))))),h.createElement("div",{className:"embed-code-and-preview-container"},h.createElement("div",{className:"embed-column"},h.createElement("p",{className:"embed-hint"},(0,ai.Z)("embedCodeCopy")),h.createElement("textarea",{id:"embedCode",className:"embed-code",value:this.state.embedCode,readOnly:!0,"data-clipboard-target":"#embedCode"})),h.createElement("div",{className:"embed-column"},h.createElement("p",{className:"embed-hint"},(0,ai.Z)("livePreview")),h.createElement("div",{className:"embed-preview",dangerouslySetInnerHTML:{__html:(0,ns.N)(this.state.embedCode,{ALLOWED_TAGS:["iframe"]})}}))))}}),X$=we.Z.keyMirror(["UPDATE_SELF","UPDATE_VIDEO","REGISTER_UPDATE","UNREGISTER_UPDATE"],"VIDEOS"),Q$=new ds.Z("VideosStore",{_data:{},_pending:{},isLoading(){return!L().isEmpty(this._pending)}});Q$.dispatchToken=ko.Z.register((e=>{const t=Q$,n=X$;switch(e.action){case n.REGISTER_UPDATE:t._pending[e.videoId]=!0,t.emitChange();break;case n.UNREGISTER_UPDATE:delete t._pending[e.videoId],t.emitChange();break;case n.UPDATE_SELF:L().extend(t.data,e.data),t.emitChange();break;case n.UPDATE_VIDEO:{const n=t.data[e.videoId]||{id:e.videoId};t.data[e.videoId]=L().extend({},n,e.fragment),delete t._pending[e.videoId],t.emitChange();break}default:if(!e.meta||!e.meta.newVideos)break;L().each(e.meta.newVideos,(e=>{!1!==e.sameChannel&&(t.data[e.id]=L().extend({},t.data[e.id]||{},e))})),t.emitChange()}}));const J$=Q$,eK={updateSelf(e){ko.Z.dispatch({action:X$.UPDATE_SELF,data:e})},update(e,t){ko.Z.dispatch({action:X$.UPDATE_VIDEO,videoId:e,fragment:t})},registerUpdate(e,t){const n=X$;ko.Z.dispatch({action:e?n.REGISTER_UPDATE:n.UNREGISTER_UPDATE,videoId:t})},fetch(e){L().map(e,(function(e){J$.data[e]||Ds.push((()=>this.scrapeVideo({id:e})),"fetch-video",e)}),this)},set(e){const t=L().map(e,(e=>L().extend({},J$.data[e.id]||{},e))),n=L().object(L().pluck(t,"id"),t);this.updateSelf(n)},scrapeVideo(e){const t=new(r().Deferred);if(J$._pending[e.id])return;this.registerUpdate(!0,e.id);return cL(e.id,["title","desc","duration","thumb"]).done((n=>{const i={title:e.title||n.title,duration:e.duration||n.duration,thumb:e.thumb||n.thumb,description:e.description||we.Z.stripHtml(n.desc)};eK.update(e.id,i),t.resolve()})).fail((n=>{(0,ke.Z)("Video scraping timeout",e.id,n),eK.registerUpdate(!1,e.id),t.reject()})),t.promise()},getDescriptions(e){e.forEach((e=>{J$.data[e.id].description||Ds.push((()=>{const t=new(r().Deferred);if(!J$._pending[e.id])return this.registerUpdate(!0,e.id),cL(e.id,["desc"]).done((n=>{eK.update(e.id,{description:we.Z.stripHtml(n.desc)}),t.resolve()})).fail((n=>{(0,ke.Z)("VideosActions getDescriptions failed",n,e),eK.registerUpdate(!1,e.id),t.reject()})),t.promise()}),"get-description",e.id)}))}},tK=eK;class nK{constructor(e){this.node=r()(e)}getAll(){const e=this.getVideoId();return{id:e,videoId:e,title:this.getTitle(),thumb:this.getThumb(),duration:this.getDuration(),status:this.getStatus(),timestamp:this.getTimestamp()}}isValid(){const e=[this.getVideoId(),this.getTitle(),this.getDuration()];return L().compact(e).length===e.length}getVideoId(){return this.node.data("video-id")}getTitle(){return this.node.find("[id^=title] a").text().trim()}getThumb(){return this.node.find(".yt-thumb-clip img").attr("src")}getDuration(){return this.node.find(".video-time").text().trim()}getStatus(){const e=this.node.find(".vm-video-privacy:not(.hid)").first(),t=e.is(".vm-public"),n=e.is(".vm-private"),i=e.is(".vm-unlisted");return t?"Public":n?"Private":i?"Unlisted":"Scheduled"}getTimestamp(){const e=this.node.find(".vm-schduled-date-published-label");return e.length?e.next(".localized-date").data("timestamp"):this.node.find(".localized-date").data("timestamp")}}const iK={page(e,t){const n=new(r().Deferred),i=/html":"(([^"](\\")*)+)"/g,a=window.location.href.match(/LOTSA_VIDS/);if(this.isCancelled())return n.reject("cancelled");(!L().isNumber(e)||e<=0)&&(e=1);const o=e;return a&&(e=1),(0,P.Z)("youtube.myVideos",{page:e,publicOnly:t}).then((t=>{const s=r()(t);let l=parseInt(s.find("#creator-subheader-item-count").text(),10);a&&(l=500);const c=Math.ceil(l/30),u=t.match(i);if(!u||L().isEmpty(u))return n.fail();let d=L().compact(L().map(u,(t=>{let n;t=t.replace(/^html":/,"");try{n=(0,ns.L)(t)}catch(e){return}const i=new nK(n);if(i.isValid())return i.getAll();(0,Y.Z)("Found invalid video!",i.getAll(),e)})));const h=t.match(/href="\/my_videos\?(?=.*o=U)(?=.*(ar=[0-9]+)?)(?=.*pi=[0-9]+)\S+"/g)||[],p=L().uniq(h).map((e=>{const t=e.match(/pi=([0-9]+)/);return parseInt(t[1],10)})),f=L().max(p);let m=Math.max(f,c);const g=!L().isEmpty(p);a||f!==o&&g||(m=o,g||1!==o||(l=d.length)),g&&o>f&&(m=o,d=[]),n.resolve({videos:d,totalPages:m,totalVideos:l,currentPage:o,morePages:o!==m},d)})).catch((i=>{(0,Y.Z)("My Videos > Failed to load page",e,". Trying again. Error:",i),this.page(e,t).done(n.resolve)})),n.promise()},batch(e,t){const n=new(r().Deferred),i=t||(()=>{}),a=e[0],o=e[1],s=[],l=[],c=isFinite(e[1]);let u=null;if(c)for(let e=a;e<=o;e+=1){const t=Math.floor((e-a)/5);s[t]||(s[t]=[]),s[t].push(e)}const d=()=>{if(c&&0===s.length||u)return n.resolve(L().flatten(l),u);if(this.isCancelled())return n.reject("canceled");let e=[];if(c)e=s.shift();else{let t=5*l.length+a;l.length||(t=a);for(let n=t;n<t+5;n+=1)e.push(n)}this.list(e,i).done(((e,t)=>{l.push(e),u=t,d()})).fail(n.reject)};return d(),n.promise()},list(e,t){const n=new(r().Deferred);let i=!1;const a=[];let o=0,s=e.length;return L().each(e,((e,r)=>{if(this.isCancelled())return n.reject("cancelled");this.page(e).done((t=>{a[e]=t,t.morePages||(i=t.currentPage,s=r+1)})).fail(n.reject).always((()=>{if(this.isCancelled())return;if(o+=1,o<s)return;let e=[];a.forEach((n=>{t(n),e=e.concat(n.videos)})),n.resolve(e,i)}))}),this),n.promise()},limited(e,t,n){return this.all(e,n,t)},all(e,t,n){"function"==typeof e?(t=e,e=1):e<=0&&(e=1),n=L().isNumber(n)&&n>0?n:null;const i=this,a=new(r().Deferred),o=a.promise(),s="function"==typeof t;return o.cancel=()=>{i._cancelled=!0},this._cancelled=!1,this.page(e).done((r=>{let o=r.totalPages;if(n&&(o=e+Math.ceil((n-30)/30)),L().isNumber(n)&&r.videos.length>n&&(r.videos=r.videos.slice(0,n)),s&&t(r),o===e&&r.videos.length<n&&(o+=1),!r.morePages||o===e)return a.resolve({totalPages:r.totalPages,videos:r.videos});let l=r.videos;const c=(e,s)=>{if(l=l.concat(e),l.length<n&&!1===s)return o+=1,(0,Y.Z)("MyVideos > Not enough videos, loading another page",o),void i.page(o).done((e=>{const i=n-l.length;e.videos=e.videos.slice(0,i),t(e),c(e.videos,e.totalPages)}));a.resolve({totalPages:s||r.totalPages,videos:l.slice(0,n||l.length)},e)};(0,Y.Z)("MyVideos > Loading batch of pages",r.currentPage+1,"...",o);let u=l.length;i.batch([r.currentPage+1,o],(e=>{const i=n-u;i>=0&&(e.videos=e.videos.slice(0,i)),u+=e.videos.length,s&&t(e)})).done(c)})).fail(a.reject),o},isCancelled(){const e=this._cancelled;return e&&!this._timeout&&(this._timeout=setTimeout((()=>{this._cancelled=!1,this._timeout=null}))),e},update(e,t,n){this.updateQueue||(this.updateQueue=[]);const i=new(r().Deferred);return this.updateQueue.push((()=>this.updateInner(e,t,n).done(i.resolve).fail(i.reject))),this.processUpdateQueue(),i.promise()},processUpdateQueue(){if(0===this.updateQueue.length)return;if(this.updateLocked)return;this.updateLocked=!0;this.updateQueue.shift()().always((()=>{this.updateLocked=!1,this.processUpdateQueue()}))},updateInner(e,t,n){const i=new(r().Deferred);if(n&&n())return i.reject("CANCELLED"),i.promise();const a=L().extend({},t,{video_id:e});a.modified_fields=L().without(L().keys(a),"video_id").join(",");const o=(new Date).getTime();return we.Z.getAuthToken(`https://www.youtube.com/edit?ar=${o}&video_id=${e}`).done((o=>{if(n&&n())return i.reject("CANCELLED"),i.promise();a.session_token=o,(0,Y.Z)("MyVideos.updateInner >",a),r().post("https://www.youtube.com/metadata_ajax?action_edit_video=1",a).done((a=>{if(a.metadata_errors&&a.metadata_errors.length>0){const o=a.metadata_errors[0].message;return o.match(/try again later/)?(this.updateBackoff||(this.updateBackoff=0),this.updateBackoff+=1,r()(window).trigger("myvideos:backoff"),(0,Y.Z)("MyVideos.updateInner > Backoff"),void setTimeout((()=>{(0,Y.Z)("MyVideos.updateInner > Resume"),this.updateInner(e,t,n).done(i.resolve).fail(i.reject)}),6e4*this.updateBackoff)):(this.updateBackoff>0&&r()(window).trigger("myvideos:resume"),this.updateBackoff=0,i.reject(o))}this.updateBackoff>0&&r()(window).trigger("myvideos:resume"),this.updateBackoff=0,tK.update(e,t),i.resolve(a)})).fail(i.reject)})).fail(i.reject),i.promise()},getVideosToDate(e,t){const n=new(r().Deferred),i=[];let a=1;const o=e=>{this.page(e,t).done(s)},s=r=>{const s=t?L().filter(r.videos,(e=>"Public"===e.status)):r.videos;s.sort(((e,t)=>t.timestamp-e.timestamp));let l=!1;s.some(((t,a)=>t.timestamp<e?(l=!0,n.resolve(i)):(i.push(t),a!==s.length-1||r.morePages?void 0:(l=!0,n.resolve(i))))),l||(a+=1,o(a))};return o(a),n.promise()}},rK=iK,aK=Oo()({displayName:"BackoffMessage",getInitialState:()=>({backoff:rK.updateBackoff>0}),UNSAFE_componentWillMount(){r()(window).on("myvideos:backoff",(()=>{this.setState({backoff:!0})})),r()(window).on("myvideos:resume",(()=>{this.setState({backoff:!1})}))},render(){return this.state.backoff?h.createElement("p",{style:{marginTop:"1em",textAlign:"center"}},"Waiting on YouTube. This should only take a minute."):this.props.children||null}}),oK=Oo()({displayName:"BestTimeToPostPublishedSpotPopover",render:()=>h.createElement("div",{className:"vidiq-best-time-to-post-published-spot-popover"},h.createElement("img",{src:chrome.runtime.getURL("images/upload-spot-icon.svg"),alt:""}),h.createElement("div",{className:"vidiq-best-time-to-post-published-spot-popover-text"},(0,ai.Z)("bestTimeToPostPopoverMessage")))}),sK=we.Z.keyMirror(["UPDATE_SELF","FETCH_ALL","CANCEL"],"MY_VIDEOS"),lK=new ds.Z("MyVideosStore",{_data:{pages:[],totalVideos:null,sumVideos:null,currentPage:0,finished:null,loading:!1,error:!1,cancelled:!1,nextPageToken:null,fetchTime:null},getData(){const e=this.getVideos()||[];let t=this.data.totalVideos;return!t&&this.data.finished&&(t=e.length),L().extend({},this.data,{videos:e,arrested:this.data.error||this.data.cancelled,totalVideos:t})},getVideos(){return L().flatten(L().pluck(this.data.pages,"videos"))},pageCallback(e){const t=e.videos.slice(),n=e.videos.map((e=>({id:e.id}))),i=this.data.pages.slice(),r=e.page||this.data.currentPage+1;i[r-1]=Object.assign({},e,{videos:n});const a=i.reduce(((e,t)=>e+t.videos.length),0),o=!e.nextPageToken,s=o?a:e.totalVideos;dK.updateSelf({currentPage:r,pages:i,totalVideos:s,sumVideos:a,finished:o,nextPageToken:e.nextPageToken},{newVideos:n}),tK.set(t)}});lK.pageCallback=lK.pageCallback.bind(lK),lK.dispatchToken=ko.Z.register((e=>{const t=lK,n=sK;switch(e.action){case X$.UPDATE_VIDEO:ko.Z.waitFor([J$.dispatchToken]),L().each(L().compact(t.data.pages),(t=>{L().each(t.videos,(t=>{t.videoId===e.videoId&&L().extend(t,e.fragment)}))})),t.emitChange();break;case n.UPDATE_SELF:L().extend(t.data,e.data),t.emitChange();break;case n.FETCH_ALL:{const n=(new Date).getTime();t.data.fetchTime=n,t.data.cancelled=!1,t.data.error=!1,t.data.finished=!1,t.data.loading=!0,t.emitChange();const i=e.videoLimit?Math.ceil(e.videoLimit/50):void 0;rg.all({page:t.data.currentPage+1,pageToken:e.pageToken,pageCallback:t.pageCallback,limit:i,stop:()=>{if(t.data.cancelled||t.data.fetchTime>n)return ng}}).then((e=>{t.data.fetchTime>n||e.error&&dK.updateSelf({error:!0})})).finally((()=>{t.data.fetchTime>n||dK.updateSelf({loading:!1})}));break}case n.CANCEL:t.data.cancelled=!0,t.data.loading=!1,t.emitChange();break;default:return!0}}));const cK=lK,uK={updateSelf(e,t){ko.Z.dispatch({action:sK.UPDATE_SELF,data:e,meta:t})},fetch(e,t){ko.Z.dispatch({action:sK.FETCH_ALL,pageToken:e,videoLimit:t})},cancel(){ko.Z.dispatch({action:sK.CANCEL})},continue(e){const t=cK.getData();t.finished||e&&t.videos.length>=e||uK.fetch(t.nextPageToken,e)}},dK=uK,hK=we.Z.keyMirror(["UPDATE_SELF"],"VIDEO_BUFFER"),pK=new ds.Z("VideoBufferStore",{_data:{mode:"limit",limit:30,list:[],playlist:null},ok(){switch(this.data.mode){case"list":return this.data.list&&!L().isEmpty(this.data.list);case"playlist":return!!this.data.playlist;default:return!0}},getVideos(){const e=J$.getData();let t=L().values(e);switch(this.data.mode){case"playlist":{const e=this.data.playlist;t=L().filter(t,(t=>t.playlistIds&&t.playlistIds.indexOf(e)>=0));break}case"list":return L().values(L().pick(...[e].concat(this.data.list)));case"limit":this.data.limit&&(t=t.slice(0,this.data.limit))}return this._lastVideos=t,t},getCachedVideos(){return this._lastVideos||this.getVideos()},isLoading(){const e=this.getCachedVideos().length;return"playlist"===this.data.mode?J$.isLoading():e!==this.getTotal()&&(cK.data.loading||J$.isLoading())},getData(){const e=this.getTotal(),t=this.getVideos();let n=t.length/e;if("playlist"===this.data.mode){n=t.reduce(((e,t)=>(t.description&&e.push(t),e)),[]).length/e}return L().extend({videos:t,total:e,loading:this.isLoading(),progress:n,ok:this.ok()},this.data)},getTotal(){switch(this.data.mode){case"playlist":return this.getCachedVideos().length;case"list":return J$.isLoading()?this.data.list.length:this.getCachedVideos().length;case"limit":{const e=cK.getData();return e.loading&&!this.data.limit?e.totalVideos:e.loading||!e.finished?this.data.limit:this.getCachedVideos().length}}}});pK.dispatchToken=ko.Z.register((e=>{const t=pK,n=hK;if(e.action===n.UPDATE_SELF)L().extend(t.data,e.data);else{const n=e.meta&&e.meta.newVideos,i=0===e.action.indexOf("VIDEOS_"),r=0===e.action.indexOf("MY_VIDEOS_"),a=[];if((i||n)&&a.push(J$.dispatchToken),r&&a.push(cK.dispatchToken),0===a.length)return;t._lastVideos=null,ko.Z.waitFor(a)}t.emitChange()}));const fK=pK,mK={set(e){e.playlist||(e.playlist=null),e.limit||(e.limit=null),e.limit&&(e.mode="limit"),this.update(e)},update(e){ko.Z.dispatch({action:hK.UPDATE_SELF,data:e})},fetch(){const e=fK.getData();switch(e.mode){case"playlist":return void tK.getDescriptions(e.videos);case"list":return void tK.fetch(e.list);case"limit":(null===e.limit||e.videos.length<e.limit)&&dK.continue(e.limit);break}},cancel(){fK.getData().playlist||dK.cancel()}},gK=Oo()({displayName:"ProcessItem",hasErrors(){return this.props.errors&&this.props.errors.length>0},statusPart(){return this.props.failed?"✖":this.props.finished?"✔":this.props.started?h.createElement(os,{size:"small"}):void 0},errorsPart(){const e=this.props.errors||[],t=L().map(e,((e,t)=>h.createElement("li",{key:t},e.toString()))),n=h.createElement("ul",null,t);return h.createElement("span",{className:"process-item-errors"},h.createElement("span",{className:"num-errors"},e.length+" "+we.Z.plural(e.length,"error")),n)},children(){return h.createElement("div",null,h.createElement("img",{src:this.props.thumb,className:"process-item-thumbnail",alt:""}),h.createElement("span",{className:"process-item-title"},this.props.title),h.createElement("span",{className:"process-item-duration"},this.props.duration),h.createElement("span",{className:"process-item-status"},this.statusPart()))},render(){const e=this.props.urlFn(this.props.videoId),t=Fo()("process-item",{"process-item-failed":this.props.failed});return this.props.finished||this.props.failed?h.createElement("div",{className:t},h.createElement("a",{href:e,className:"process-item-link",target:"_blank",rel:"noopener noreferrer"},this.children(),this.hasErrors()?this.errorsPart():null)):h.createElement("div",{className:t},this.children())}}),vK=Oo()({displayName:"Paginator",getDefaultProps:()=>({perPage:100}),getInitialState:()=>({page:0}),UNSAFE_componentWillUpdate(e){L().isEqual(e.items,this.props.items)||this.setState({page:0})},getItems(){if(0===this.props.items.length)return;const e=this.props.perPage,t=e*this.state.page,n=Math.min(t+e,this.props.items.length);return this.props.generator?L().map(L().range(t,n,1),(function(e){const t=this.props.indices&&this.props.indices[e]||e;return this.props.generator(this.props.items[e],t)}),this):this.props.items.slice(t,n)},getMaxPage(){return Math.ceil(this.props.items.length/this.props.perPage)-1},render(){return h.createElement("div",{className:"paginator"},this.pagesPart(),h.createElement("div",{className:"paginator-content"},this.getItems()),this.pagesPart())},pagesPart(){if(!(this.props.items.length<=this.props.perPage))return h.createElement("div",{className:"paginator-pages"},this.nudgeButton("prev"),this.pageButtons(),this.nudgeButton("next"))},pageButtons(){const e=Math.max(this.state.page-4,0),t=Math.min(this.state.page+4,this.getMaxPage()),n=[],i=this,r=function(){i.setState({page:this})};for(let i=e;i<=t;i+=1){const e=i+1;let t;t=i===this.state.page?h.createElement("span",{key:i,className:"current"},e):h.createElement("a",{className:"page",key:i,onClick:r.bind(i)},e),n.push(t)}return n},nudgeButton(e){const t="prev"===e?(0,ai.Z)("prev"):(0,ai.Z)("next"),n="prev"===e?-1:1,i=this.getMaxPage(),r=Math.min(Math.max(0,this.state.page+n),i);if(r===this.state.page)return;return h.createElement("a",{className:"nudge",onClick:()=>{this.setState({page:r})}},t)}}),yK=vK,bK=Oo()({displayName:"ProgressBar",getInitialState:()=>({mounted:!1}),componentDidMount(){setTimeout((()=>{this.unmounted||this.setState({mounted:!0})}),100)},componentWillUnmount(){this.unmounted=!0},getPercent(){if(!this.state.mounted)return 0;const e=this.props;return e.percent?100*e.percent:e.percentComplete},render(){let e=this.getPercent();e>100&&((0,ke.Z)("Percent exceeds 100! You are having a bad time",e),e=100);const t={width:e+"%"};return h.createElement("div",{className:"vidiq-progress-bar"},h.createElement("div",{className:"progress-bar",style:t}))}}),_K=bK,wK=Oo()({displayName:"BulkProcessor",requestQueue:null,getDefaultProps:()=>({resourceName:{singular:(0,ai.Z)("videoSingular"),plural:(0,ai.Z)("videoPlural")}}),UNSAFE_componentWillMount(){wK.instance=this,this._id=we.Z.prettyRandomId()},componentWillUnmount(){wK.instance=null},getInitialState:()=>({started:!1,finished:!1,pending:[],failed:[],succeeded:[],errorMessages:[],reauth:!1}),cancel(){this.requestQueue.stopProcessing(),mK.cancel(),this.setState({started:!1,finished:!1,pending:[],failed:[],succeeded:[],errorMessages:[],reauth:!1},(()=>{r()(window).trigger("bulk-processor:update")}))},shouldComponentUpdate(e,t){const n=this.props;if(!this.state.started)return!0;const i=!L().isEqual(t,this.state),r=0===n.videos.length&&e.videos.length>0;return i||r},isBusy(){return this.state.started&&!this.state.finished},startProcessing(){this.setState({started:!0},(()=>{r()(window).trigger("bulk-processor:update")})),this.requestQueue=new fl({delayBetweenRequests:4500});let e=this.props.videos;if(this.props.batchSize){const t=Math.ceil(this.props.videos.length/this.props.batchSize);e=[...Array(t).keys()]}e.forEach(((e,t)=>{this.requestQueue.addItem((()=>this.execute(t)))})),this.requestQueue.startProcessing()},getProgress(){return(this.state.failed.length+this.state.succeeded.length)/this.props.videos.length},execute(e){e||(e=0),(0,Y.Z)("BulkProcessor#execute > starting %s",e);let t=e;const{batchSize:n}=this.props;if(n){const i=this.props.videos.slice(e*n,(e+1)*n).length;t=Array(i).fill().map((t=>e*n+t))}return this.setState({pending:this.state.pending.concat(t)}),this.props.execute(e).done((()=>{this.setState({succeeded:this.state.succeeded.concat(t)})})).fail((n=>{var i,r;if(n||(n=["Unknown error"]),"MFA is not verified"===(null===(i=n)||void 0===i?void 0:i.details))return void this.cancel();"Token is revoked. Please re-authenticate"===(null===(r=n)||void 0===r?void 0:r.details)&&this.setState({reauth:!0}),L().isArray(n)||(n=[n]);const a="number"==typeof t?[{step:e,errors:n}]:t.map((e=>({step:e,errors:n})));this.setState({failed:this.state.failed.concat(t),errorMessages:this.state.errorMessages.concat(a)})})).always((()=>{this.getProgress()<1||(this.setState({finished:!0}),this.requestQueue.stopProcessing(),this.props.onComplete&&this.props.onComplete(),r()(window).trigger("bulk-processor:update"))}))},progressBarPart(){if(this.state.started&&!this.state.finished)return h.createElement(_K,{percent:this.getProgress()})},headingPart(){if(this.state.finished)return h.createElement("h2",null,(0,ai.Z)("doneExclaim"));if(this.state.started)return h.createElement("h2",null,(0,ai.Z)("processingEllipsis"));const e=this.props.videos.length,t=1===e?(0,ai.Z)("oneVideo"):(0,ai.Z)("nVideos",[e]);let n;return n="function"==typeof this.props.task?this.props.task(e):(0,ai.Z)(this.props.task,[t]),h.createElement("div",null,h.createElement("h2",null,ai.Z.html("bulkProcessorBeforeHeading",[n])),h.createElement("p",null,(0,ai.Z)("continueWhenReady")),this.endscreenInputs())},endscreenInputs(){return this.props.isEndscreen?h.createElement("div",{className:"copy-endscreen-options"},h.createElement("label",{htmlFor:"overwrite-endscreen"},(0,ai.Z)("overwriteEndscreen")),h.createElement("input",{type:"checkbox",id:"overwrite-endscreen",checked:this.props.overwriteEndscreen,onChange:this.props.onToggleOverwriteEndscreen})):null},resultMessagePart(){if(!this.state.finished)return;const e=this.state.failed.length,t=this.state.succeeded.length,n=this.props.resourceName;if(0===e){let e=(0,ai.Z)("bulkProcessSuccess",[t,n.plural]);return 1===t&&(e=(0,ai.Z)("bulkProcessSuccessSingular",[n.singular])),h.createElement("p",{className:"vidiq-alert-success"},h.createElement("b",null,e))}let i=ai.Z.html("bulkProcessFail",[e,n.plural]);return 1===e&&(i=ai.Z.html("bulkProcessFailSingular",[n.singular])),h.createElement("p",{className:"vidiq-alert-failure"},i,!0===this.state.reauth&&h.createElement(h.Fragment,null,h.createElement("br",null)," ",h.createElement("b",null,(0,ai.Z)("reauthYourChannel"))))},videoGenerator(e,t){const n={failed:this.state.failed.indexOf(t)>=0,finished:this.state.succeeded.indexOf(t)>=0,started:this.state.pending.indexOf(t)>=0},i=L().flatten(L().pluck(L().where(this.state.errorMessages,{step:t}),"errors"));return h.createElement(gK,{key:t,videoId:e.id,title:e.title,thumb:e.thumb,duration:e.duration,urlFn:this.props.urlFn,started:n.started,failed:n.failed,finished:n.finished,errors:i})},getPayload(){const e=this.props.videos.slice(),t=L().range(e.length);if(!this.state.finished){const n=this.state.succeeded.concat(this.state.failed);L().each(L().uniq(n).sort().reverse(),(n=>{e.splice(n,1),t.splice(n,1)}))}return{videos:e,indices:t}},render(){const e=this.footer(),t=Fo()("vidiq-bulk-processor",{"with-footer":!!e}),n=this.getPayload();return h.createElement("div",{className:t},h.createElement("div",{className:"bulk-processor-instructions"},this.headingPart()),h.createElement(yK,{items:n.videos,indices:n.indices,generator:this.videoGenerator}),e)},footer(){const e=this.progressBarPart(),t=this.resultMessagePart();if(e||t)return h.createElement("div",{className:"bulk-processor-result"},e,t)}}),kK=wK;class xK{constructor(e,t){this.data=L().extend({},e),this.meta=L().extend({},t),this._id=this.getId(),this._uid=[this._id,t.videoId].join("::"),this._videoId=t.videoId}getId(){return this.data.id}clone(){return new xK(this.data,this.meta)}set(e,t){return this.data[e]=t,this}editableValues(){return L().pick(this.data,"teaser_text","custom_message")}searchableValues(){return L().extend({},L().pick(this.data,"title"),this.editableValues())}}const EK=(e="unknown")=>({text:e,json:{error:e},response:{ok:!1,status:null,headers:{}}}),CK=(e,t,n)=>new Promise((i=>fetch(e,t).then((e=>{const t={ok:e.ok,status:e.status,headers:(r=e.headers,{"Content-Type":r.get("Content-Type")}),statusText:e.statusText};var r;e.text().then((r=>{try{const a=JSON.parse(r),o=n&&n(e,a)||{};return void i(Object.assign({json:a,response:t},o))}catch(e){}const a=n&&n(e,r)||{};i(Object.assign({text:r,response:t},a))})).catch((e=>i(EK(e))))})).catch((e=>{i(EK(e))}))));const SK=async e=>{const t=await Ks.getDataForRequest(),n=`https://studio.youtube.com/youtubei/v1/creator/get_creator_endscreens?alt=json&key=${t.apiKey}`,i=function(e,t){return gN({context:{client:Vs(As),request:Vs(Is)},encryptedVideoIds:[t]},e)}(t.payloadKeys,e);return Ks.makeRequest("getEndscreens",[n,t.authHeader,t.authUser,i])};async function TK({videoId:e,payload:t,sourceId:n,token:i,unpublish:r}){let a=`https://studio.youtube.com/youtubei/v1/creator/get_creator_endscreens?alt=json&key=${(await Ks.getDataForRequest()).apiKey}`;if(n&&i){a=`${a}&encrypted_video_id=${e}&from_video_id=${n}&action_retrieve_from_video=1`;const t=new FormData;return t.append("session_token",i),CK(a,{method:"POST",body:t})}if(r&&i){a=`${a}&encrypted_video_id=${e}`;const t=new FormData;return t.append("action_unpublish_annotations",1),t.append("session_token",i),CK(a,{method:"POST",body:t})}return t?CK(a,{method:"POST",body:t,headers:{"Content-Type":"application/json"}}):SK(e)}const DK=(e,t,n=!1)=>{if(0===e.endscreens.length)return[];const i=e.endscreens[0];if(!i.elements)return[];if(n)return i;const{elements:r,...a}=i,o={videoId:t,...a};return r.map((e=>new xK(e,o)))},FK=e=>{if(e.length>4)throw(0,ai.Z)("only4endscreensAllowed");if(e.length>0&&e.every((e=>!e.videoEndscreenElement&&!e.playlistEndscreenElement)))throw(0,ai.Z)("videoNeedsAtLeastOneVideoOrPlaylistEndscreen");if(e.some((e=>e.channelEndscreenElement&&!1===e.channelEndscreenElement.isSubscribe&&(!e.metadata||""===e.metadata)&&(!e.channelEndscreenElement.metadata||""===e.channelEndscreenElement.metadata))))throw(0,ai.Z)("channelEndscreensNeedCustomMessage");return e},MK=e=>{if(!e.channelEndscreenElement)return e;const{channelEndscreenElement:t,metadata:n,...i}=e,r=n||t.metadata,a=t?{...t,metadata:r,channelId:t.isSubscribe?NY.getChannelId():t.channelId}:null;return{...i,...a&&{channelEndscreenElement:a}}},AK={get(e,t){const n=new(r().Deferred);var i;return vN(e).then((i=e,async e=>{if(0===e.endscreens.length)return e;const t=e.endscreens[0];if(!t.elements)return e;if(0===t.elements.filter((e=>!!e.playlistEndscreenElement)).length)return e;const n=await Gs.getPlaylistsWithVideos([i]);return mN()(e,"endscreens[0].elements",t.elements.map((e=>{if(!e.playlistEndscreenElement)return e;const t=n.playlists.find((t=>e.playlistEndscreenElement&&t.playlistId===e.playlistEndscreenElement.playlistId));return{...e,playlistEndscreenElement:{...e.playlistEndscreenElement,title:t&&t.title}}})))})).then((i=>n.resolve(DK(i,e,t)))).catch((e=>{(0,ke.Z)("(vidiq) EndScreenAnnotations > get failed:",e),n.reject(e)})),n.promise()},async getTheirs(e,t,n){const{text:i,response:r}=await P.Z.expanded("youtube.endscreens",{videoId:e,ei:t,token:n});if(!r||!r.ok)throw new Error(r.statusText);try{return JSON.parse(i.split("\n")[1])}catch(e){throw new Error(e)}},payload:{action_save:1,skip:!1,isNonStandardAspectRatio:!1},set(e,t,n){const i=new(r().Deferred);return this.setEndscreen(e,t,n).then(i.resolve).catch(i.reject),i.promise()},async setEndscreen(e,t,n){const{endScreenSource:i,overwriteEndscreen:r}=n,a=we.Z.time2sec(e.duration),o=1e3*a;if(a<26)throw(0,ai.Z)("videoTooShortForEndScreen");const{ytcfg:s}=J.Z.getData();if(!s)throw(0,ai.Z)("errorWhileLoadingConfig");const l=await vN(e.id),c=DK(l,e.id,!0),u=c.startMs?c.startMs:o<4e4?2e4:o-19e3,d=s.XSRF_TOKEN,h=t.map((e=>e.data)).map((e=>((e,t,n)=>{const{id:i,durationMs:r,offsetMs:a,...o}=e,{durationMs:s,offsetMs:l}=((e,t,n,i)=>{const r=e+t+n-i;return r<0?{durationMs:n,offsetMs:t}:r<t?{durationMs:n,offsetMs:0}:r<t+n?{durationMs:n-(r-t),offsetMs:0}:{durationMs:n-r,offsetMs:0}})(t,a,r,n);return{...o,durationMs:s,offsetMs:l}})(e,u,o))),p=await this.fixImageLinks({elements:h,endScreenSource:i,targetVideo:e,token:d}),f=r?p:(c.elements||[]).concat(p),m=FK(f);try{return await yN(e.id,u,m.map(MK))}catch(t){if("Annotations and end screen elements cannot be used on the same video"!==t)throw t;await this.unpublishAnnotations(e.id,d);return await yN(e.id,u,m.map(MK))}},async setSelf(e,t,n){const i=J.Z.getData().ytcfg;if(!i)throw(0,ai.Z)("errorWhileLoadingConfig");const r=i.XSRF_TOKEN,a=L().map(t,(e=>e?e.data:null)),o=await this.fixImageLinks({elements:a,endScreenSource:{videoId:e},targetVideo:{id:e},token:r}),s=FK(L().without(o,null)).map(MK);return await yN(e,n.startMs,s)},unpublishAnnotations(e,t){const n=new(r().Deferred);return TK({videoId:e,token:t,unpublish:!0}).then((e=>{e.errors?((0,Y.Z)("EndScreenAnnotations.set failed to unpublish annotations",e.errors[0]),n.reject(e.errors[0])):n.resolve(e)})).catch((e=>{(0,Y.Z)("EndScreenAnnotations.set failed to unpublish annotations",e),n.reject(e)})),n.promise()},getFromVideo(e,t,n){const i=new(r().Deferred);return TK({videoId:t,sourceId:e,token:n}).then((e=>{i.resolve(e.for_editor)})).catch(i.reject),i.promise()},fixImageLinks(e){return new Promise(((t,n)=>{const i=[],r=e.elements;L().each(r,(function(t,n){t&&t.uploadedImage&&i.push(new Promise(((t,i)=>{this.getFromVideo(e.endScreenSource.videoId,e.targetVideo.id,e.token).done((e=>{const i=L().findWhere(e.elements,{type:"WEBSITE"});i&&(r[n].uploadedImage=i.uploadedImage),t()})).fail((e=>{i(e)}))})))}),this),Promise.all([...i]).then((()=>{t(r)})).catch((e=>{n(e)}))}))}},IK=AK,OK=Oo()({displayName:"CopyVideoResources",wizard:h.createRef(),steps:["VideoResourceChooser","VideoBufferController","VideoResourceVideoChooser","BulkProcessor"],getInitialState:()=>({vbs:fK.getData(),resources:[],selectedVideos:[],selectedResources:[],payload:[],loading:!1,running:!1,done:!1,endScreenSource:null,overwriteEndscreen:!1,numFilteredVideos:0}),UNSAFE_componentWillMount(){fK.addChangeListener(this.onStoreChange),r()(window).on("chooser:resource:selection",this.onSelectionChange).on("chooser:resource:edit",this.onEditChange).on("chooser:videos:selection",this.onVideoSelectionChange).on("chooser:videos:edit",this.onVideoEditChange)},componentWillUnmount(){mK.cancel(),fK.removeChangeListener(this.onStoreChange),r()(window).off("chooser:resource:selection",this.onSelectionChange).off("chooser:resource:edit",this.onEditChange).off("chooser:videos:selection",this.onVideoSelectionChange).off("chooser:videos:edit",this.onVideoEditChange)},componentDidMount(){dt("Started copying "+this.props.type+"s",{source_video:{url:we.Z.getVideoUrl(this.props.video.id),value:this.props.video.title}})},onToggleOverwriteEndscreen(){this.setState({overwriteEndscreen:!this.state.overwriteEndscreen})},resourcesI18n(){let e=(0,ai.Z)(this.props.type+"sStatLabel");return"endscreen"===this.props.type&&(e=(0,ai.Z)("endScreens")),e},childProps(e){switch(e){case"VideoResourceChooser":return{items:this.state.resources,video:this.props.video,selected:this.state.selectedResources,type:this.props.type};case"VideoResourceVideoChooser":return{items:this.state.payload,selected:this.state.selectedVideos,type:this.props.type,numFilteredVideos:this.state.numFilteredVideos};case"BulkProcessor":{const e=we.Z.indices2literals(this.state.selectedVideos,this.filteredVideos(this.state.vbs.videos)),t=this.resourcesI18n();return{videos:e,execute:this.execute,task:()=>(0,ai.Z)("copyVideoResourcesTask",[t]),isEndscreen:"endscreen"===this.props.type,onToggleOverwriteEndscreen:this.onToggleOverwriteEndscreen,overwriteEndscreen:this.state.overwriteEndscreen,onComplete:this.onBulkProcessorComplete,successMsgFn:()=>ai.Z.html("copyVideoResourcesSuccess",[t]),failMsgFn:e=>ai.Z.html("copyVideoResourcesFail",[t,e]),urlFn:e=>"card"===this.props.type?"https://www.youtube.com/cards?v="+e:"https://www.youtube.com/endscreen?feature=vm&v="+e}}}},customButtons(e,t){if(this.state.running)return[];if(this.state.done)return["close"];if("BulkProcessor"===e){const e=this.resourcesI18n();return[t,{text:(0,ai.Z)("readyCopyResources",[e]),onClick:this.onStart,position:"right"}]}},canChangeStep(e){const t=this.state,n="VideoResourceVideoChooser"===e,i="VideoBufferController"===e;if(t.resources.length&&t.selectedResources.length&&!t.vbs.loading)return n&&!t.selectedVideos.length||i&&!fK.ok()?"back":"all"},enterStep(e){switch("VideoResourceVideoChooser"!==e&&this.state.vbs.loading&&mK.cancel(),e){case"VideoResourceChooser":L().isEmpty(this.state.resources)&&this.fetchResources();break;case"VideoResourceVideoChooser":this.fetchVideos()}},isLoading(e){if(!this.state.loading)return!1;const t=!this.state.resources.length;return"VideoResourceChooser"===e&&t},fetchResources(){this.startLoading();("card"===this.props.type?xl:IK).get(this.props.video.id).done((e=>{this.setState({loading:!1,resources:e,endScreenSource:"endscreen"===this.props.type?{videoId:this.props.video.id,minStartMs:e[0]?e[0].meta.startMs:0,duration:this.props.video.duration}:null})})).fail((()=>{this.setState({loading:!1})}))},fetchVideos(){mK.fetch(),this.startLoading()},startLoading(){this.state.loading||this.setState({loading:!0})},stopLoading(){this.state.loading&&this.setState({loading:!1})},execute(e){const t=this.state.selectedVideos[e],n=this.state.payload[t],i=new(r().Deferred);if("card"===this.props.type)xl.setSelf(n.video.id,n.children,{}).then(i.resolve).catch(i.reject);else{const e={overwriteEndscreen:this.state.overwriteEndscreen,endScreenSource:this.state.endScreenSource};IK.set(n.video,n.children,e).done(i.resolve).fail((e=>{if("string"==typeof e&&/Request contains an invalid argument/.test(e))return i.reject((0,ai.Z)("errorWhileSavingEndscreen"));i.reject(e)}))}return i.promise()},makePayload(e,t,n){if(0===e.length)return[];const i=we.Z.time2sec(this.props.video.duration),r=we.Z.indices2literals(t||this.state.selectedResources,n||this.state.resources),a=this.filteredVideos(e,(e=>{const t=we.Z.time2sec(e.duration);return{video:e,children:L().map(r,(function(e){switch(this.props.type){case"card":return e.clone().adjustStart(i,t);case"endscreen":return e;default:(0,ke.Z)("Resource type must be `card` or `endscreen`")}}),this)}}));return this.setState({numFilteredVideos:e.length-a.length-1}),a},getAspectRatio(e){const{width:t,height:n}=(null==e?void 0:e.videoDimensions)??{};return t&&n?t/n:null},filteredVideos(e,t){const n=e.find((e=>e.id===this.props.video.id)),i=this.getAspectRatio(n);return L().compact(L().map(e,(function(e,n){const r=this.getAspectRatio(e),a=i&&r&&"endscreen"===this.props.type&&r!==i;if(e.id!==this.props.video.id&&!a)return"function"==typeof t?t(e,n):e}),this))},getUpdatedPayload(){return this.makePayload(this.state.vbs.videos,this.state.selectedResources,this.state.resources)},onStoreChange(){const e=fK.getData(),t={vbs:e,loading:e.loading},n=L().isEmpty(this.state.payload);e.loading&&!n||(t.payload=this.makePayload(e.videos)),this.setState(t)},onSelectionChange(e,t){this.state.selectedResources=t,this.setState({selectedResources:t,payload:this.getUpdatedPayload()})},onEditChange(e,t,n){this.state.resources=n,this.setState({resources:n,payload:this.getUpdatedPayload()})},onVideoSelectionChange(e,t){this.setState({selectedVideos:t})},onVideoEditChange(e,t,n){this.setState({payload:n})},onBulkProcessorComplete(){switch(dt("Finished copying "+this.props.type+"s",{source_video:{url:we.Z.getVideoUrl(this.props.video.id),value:this.props.video.title},num_copied:this.state.selectedResources.length,num_videos_copied_to:this.state.selectedVideos.length}),this.props.type){case"card":ht("copied cards",{"video id":this.props.video.id,"videos copied to":this.state.selectedVideos.length,"cards copied":this.state.selectedResources.length,location:(0,be.Z)()});break;case"endscreen":ht("copied endscreens",{"video id":this.props.video.id,"videos copied to":this.state.selectedVideos.length,"endscreens copied":this.state.selectedResources.length,location:(0,be.Z)()})}this.setState({done:!0,running:!1}),cs.unlock()},onStart(){cs.lock(),this.setState({running:!0}),this.wizard.current.refs.child.startProcessing()},render(){const e=Fo()("copy-resources-base","copy-"+this.props.type+"s-base");return h.createElement(HU,{classes:e,ref:this.wizard,steps:this.steps,childProps:this.childProps,canChangeStep:this.canChangeStep,customButtons:this.customButtons,enterStep:this.enterStep,isLoading:this.isLoading})}}),NK=OK,PK=({type:e,massEdit:t})=>["merch","associated","associatedWebsite","fundraising"].indexOf(e)<0?null:h.createElement("div",{className:"editable-card-item-warning"},h.createElement("span",{className:"material-icons"},"warning"),h.createElement("span",null,t?(0,ai.Z)("editableCardMerchWarningEdit"):(0,ai.Z)("editableCardMerchWarningCopy"))),RK=Oo()({displayName:"EditableCard",_card:null,getInitialState(){return this.props.data.getAll()},componentDidUpdate(e,t){L().isEqual(this.state,t)||this.emitEdit()},componentDidMount(){this._card=this.props.data},UNSAFE_componentWillReceiveProps(e){e.editRequiresSelection&&(this._card=e.data,this.setState(e.data.getAll()))},onChangeCta(e){const t=e.target.value,n=this.state.data;n.customMessage=t,this.setState({data:n}),this._card.set("customMessage",t.trim()),this.emitEdit()},onChangeTeaser(e){const t=e.target.value,n=this.state.data;n.teaserText=t,this.setState({data:n}),this._card.set("teaserText",t.trim()),this.emitEdit()},noPropagate(e){e.stopPropagation()},emitEdit:yo()((function(){if(this.props.onEdit)return this.props.onEdit(this._card)}),300),imagePart(){if(this.state.hasImage)return h.createElement("div",{className:"card-image",style:{backgroundImage:"url("+this.state.data.image_url+")"}})},fieldPart(e,t,n,i){const r=this.state.kind;if(L().contains(["video","playlist"],r)&&L().contains(["title","cta","teaser"],e))return;if("poll"===r)return;"collaborator"===r&&"cta"===e&&(t="Message");const a=L().compact(["vidiq-card-"+e,this.state.id,this.props.forVideoId]).join("-");return h.createElement("div",{className:"card-prop"},h.createElement("label",{htmlFor:a},t),h.createElement("input",{type:"text",id:a,value:n,onChange:i,onClick:this.noPropagate,onFocus:()=>{this.props.editRequiresSelection&&!this.props.selected&&this.props.onToggleSelection()},maxLength:"30"}))},render(){const e=this.props.forVideoId?null:this.props.onToggleSelection,t=Fo()("editable-card-item",{"has-image":this.state.hasImage}),n=this.props.data.getDisplayName(),i=wt()(this.state.data.start_ms).format("mm:ss");return h.createElement("div",{className:t,onClick:e},h.createElement(PK,{type:this.props.data.getKind(),massEdit:this.props.massEdit||!1}),h.createElement("div",{className:"card-title"},this.imagePart(),h.createElement("h3",{className:"card-name"},n),h.createElement("span",{className:"card-time"},(0,ai.Z)("startTime"),": ",i)),h.createElement("div",{className:"card-props"},h.createElement("span",{className:"card-inner-title"},this.state.data.title),this.fieldPart("cta",(0,ai.Z)("callToAction"),this.state.data.customMessage,this.onChangeCta),this.fieldPart("teaser",(0,ai.Z)("teaserText"),this.state.data.teaserText,this.onChangeTeaser)))}}),jK=RK,LK=Oo()({displayName:"EditableEndscreen",_endscreen:null,getInitialState(){const e=this.getType(),t=this.props.data.data;return{text:"channel"===e?t.channelEndscreenElement.metadata:t.title,callToAction:t.callToAction}},UNSAFE_componentWillMount(){this._endscreen=this.props.data,this._endscreen.data.channelEndscreenElement&&this._endscreen.set("metadata",this._endscreen.data.channelEndscreenElement.metadata)},componentDidUpdate(e,t){L().isEqual(this.state,t)||this.emitEdit()},emitEdit:yo()((function(){if(this.props.onEdit)return this.props.onEdit(this._endscreen)}),300),getType(){const{channelEndscreenElement:e,videoEndscreenElement:t,playlistEndscreenElement:n}=this.props.data.data;if(t&&t.videoType){const{videoType:e}=t;return e.replace("VIDEO_TYPE_","").replace(/_/g," ").toLowerCase()}return e&&e.isSubscribe?"subscribe":e&&!e.isSubscribe?"channel":n?"playlist":void 0},noPropagate(e){e.stopPropagation()},onFocus(){this.props.editRequiresSelection&&!this.props.selected&&this.props.onToggleSelection()},onChangeText(e){let t=e.target.value;"channel"===this.getType()?(t=t.slice(0,50),this._endscreen.set("metadata",t)):(t=t.slice(0,60),this._endscreen.set("title",t)),this.setState({text:t})},onChangeCta(e){const t=e.target.value;this._endscreen.set("callToAction",t),this._endscreen.set("cta",t.toUpperCase().split(" ").join("_")),this.setState({callToAction:t})},getVideoType(){if("video"!==this.getType())return null;const e=this._endscreen.data.videoType.split("_").slice(2).join(" ").toLowerCase();return"fixed"===e?"video":e},titlePart(){const e=this.getType(),t=we.Z.capitalize("video"===e?this.getVideoType():e);return h.createElement("div",{className:"endscreen-title"},h.createElement("h3",{className:"endscreen-name"},t))},playlistName(){const e=this.getType();return"video"!==e&&"playlist"!==e?null:h.createElement("div",{className:"endscreen-prop"},h.createElement("label",{htmlFor:"endscreen-playlist-name"},(0,ai.Z)("name")),h.createElement("span",{className:"endscreen-playlist-name"},this._endscreen.data.playlistEndscreenElement&&this._endscreen.data.playlistEndscreenElement.title))},startTime(){const e=this._endscreen.meta.startMs,t=we.Z.sec2time(Math.round(e/1e3));return h.createElement("div",{className:"endscreen-prop"},h.createElement("label",{htmlFor:"endscreen-time"},(0,ai.Z)("startTime")),h.createElement("span",{className:"endscreen-time"},t))},textPart(){const e=this.getType();return"channel"!==e&&"website"!==e?null:h.createElement("div",{className:"endscreen-prop"},h.createElement("label",{htmlFor:"endscreen-text"},(0,ai.Z)("text")),h.createElement("input",{className:"endscreen-text",type:"text",value:this.state.text,onClick:this.noPropagate,onFocus:this.onFocus,onChange:this.onChangeText,maxLength:"60"}))},urlPart(){const e=this.getType();if("website"!==e&&"channel"!==e)return null;const t=this._endscreen.data.targetUrl;return t?h.createElement("div",{className:"endscreen-prop"},h.createElement("label",{htmlFor:"endscreen-url"},(0,ai.Z)("link")),h.createElement("span",{className:"endscreen-url"},t)):null},callToAction(){return"website"!==this.getType()?null:h.createElement("div",{className:"endscreen-prop"},h.createElement("label",{htmlFor:"endscreen-cta"},(0,ai.Z)("callToAction")),h.createElement("select",{className:"endscreen-cta",onChange:this.onChangeCta,onFocus:this.noPropagate,value:this.state.callToAction},h.createElement("option",{value:"Learn more"},(0,ai.Z)("learnMore")),h.createElement("option",{value:"Visit"},(0,ai.Z)("visit")),h.createElement("option",{value:"Sign up"},(0,ai.Z)("signUp")),h.createElement("option",{value:"Shop"},(0,ai.Z)("shop")),h.createElement("option",{value:"Download"},(0,ai.Z)("download")),h.createElement("option",{value:"Order"},(0,ai.Z)("order")),h.createElement("option",{value:"Buy"},(0,ai.Z)("buy"))))},render(){return h.createElement("div",{className:"editable-endscreen-item",onClick:this.props.onToggleSelection},this.titlePart(),h.createElement("div",{className:"endscreen-props"},this.startTime(),this.playlistName(),this.textPart(),this.urlPart(),this.callToAction()))}}),qK=we.Z.keyMirror(["UPDATE_SELF"],"TEMPORARY"),ZK={updateSelf(e,t){ko.Z.dispatch({action:qK.UPDATE_SELF,data:e,extend:!1!==t})},set(e,t){this.updateSelf(L().object([[e,L().extend({},t)]]))},clear(){this.updateSelf({},!1)}},BK=ZK,VK=new ds.Z("TemporaryStore",{_data:{},get(e){return this.data[e]},ensure(e,t){const n=this.get(e);if(n)return n;const i=L().extend({},t);return this.data[e]=i,i}});VK.dispatchToken=ko.Z.register((e=>{const t=VK,n=qK;if(e.action===n.UPDATE_SELF)e.extend?L().each(e.data,((e,n)=>{t.data[n]=L().extend({},t.data[n]||{},e)})):t.data=e.data,t.emitChange()}));const zK=VK,UK=Oo()({displayName:"EditableVideo",getInitialState(){return this.getState()},getState(){return{video:zK.ensure(this.props.video.id,this.props.video)}},shouldComponentUpdate(e,t){return e.selected!==this.props.selected&&(this.force_title=!0,this.force_description=!0),!L().isEqual(this.props,e)||!L().isEqual(this.state,t)},UNSAFE_componentWillMount(){zK.addChangeListener(this.onStoreChange)},componentWillUnmount(){zK.removeChangeListener(this.onStoreChange)},onStoreChange(){const e=this.getState(),t=this.state;this.force_title=e.video.title!==t.video.title,this.force_description=e.video.description!==t.video.description,this.setState(e)},onChange(e){if(!this.props.selected)return;const t=e.target.dataset,n=L().object([[t.field,e.target.value]]);this.setState({video:n}),BK.set(this.props.video.id,n)},onClick(e){this.props.selected||this.props.toggleSelected(),e.target.focus()},getVideo(){const e=this.props.selected?this.state.video:this.props.video;return L().extend({},e)},render(){return h.createElement("div",{className:"editable-video"},this.field("title",(0,ai.Z)("title")),this.field("description",(0,ai.Z)("description"),"textarea"))},field(e,t,n){const i=this.getVideo(),r=i.id+"-"+e,a={"data-field":e,defaultValue:i[e],id:r,type:"text",onChange:this.onChange,onClick:this.onClick,disabled:!this.props.selected};this["force_"+e]&&(a.value=a.defaultValue,delete a.defaultValue,this["force_"+e]=!1,a.key=r+"_forced");const o=h.createElement(n||"input",a);return h.createElement("div",{className:"vidiq-field"},h.createElement("label",{htmlFor:r},t),o)}}),WK=UK,HK=we.Z.keyMirror(["UPDATE_SELF","FILTER"],"FILTER"),YK=new ds.Z("FilterStore",{_data:{filter:{},items:[],matches:[],indices:[],searching:!1,getFilterable:null},filter(e,t,n){if(e||(e={matches:[],indices:[]}),L().isNumber(t)||(t=0),n){if("pending"!==n.state())return}else this._filterDfd&&this._filterDfd.reject(),this._filterDfd=new(r().Deferred),n=this._filterDfd;const i=10*t,a=Math.min(i+10,this.data.items.length);let o=!1;for(let t=i;t<a;t+=1){const n=this.data.items[t];this.itemMatchesFilter(n,t)&&(e.matches.push(n),e.indices.push(t)),t+1===this.data.items.length&&(o=!0)}return o?this._filterDfd.resolve(e):setTimeout((()=>{"pending"===n.state()&&(KK.updateSelf({matches:e.matches,indices:e.indices}),this.filter(e,t+1,n))}),1),this._filterDfd.promise()},itemMatchesFilter(e,t){const n=L().keys(this.data.filter);let i=e,r=!1;this.data.getFilterable&&(i=this.data.getFilterable(e,t));for(const e of n){const n=i[e],a=this.data.filter[e];if(void 0===a)continue;if((!0===a||!1===a||L().isString(a)||L().isNumber(a))&&n===a?r=!0:a instanceof RegExp?r=L().isString(n)&&n.match(a):a.memberOf?r=a.memberOf.indexOf(n)>=0:"function"==typeof a&&(r=a(i,t)),!r)break}return r},startFiltering(){L().isEmpty(this.data.filter)?(this.data.matches=this.data.items,this.data.indices=L().range(this.data.items.length),this.data.searching=!1):(this.data.matches=[],this.data.indices=[],this.data.searching=!0,this.filter().done((e=>{setTimeout((()=>{KK.updateSelf({matches:e.matches,indices:e.indices,searching:!1})}))})))},set(e,t,n){this.data.items=e,this.data.getFilterable=t,n&&(this.data.filter={}),this.startFiltering(),setTimeout((()=>{this.emitChange()}))},isFiltering(){return!L().isEmpty(this.data.filter)}});YK.dispatchToken=ko.Z.register((function(e){const t=YK,n=HK;switch(t.data.filterChanged=!1,e.action){case n.UPDATE_SELF:L().extend(t.data,e.data),t.emitChange();break;case n.FILTER:{const n=t.data.filter;L().each(e.fragment,((e,n)=>{if(void 0===e)t.data.filter=L().omit(t.data.filter,n);else{const i=L().object([[n,e]]);t.data.filter=L().extend({},t.data.filter,i)}}),this),t.startFiltering(),t.data.filterChanged=!L().isEqual(n,t.data.filter),t.emitChange();break}}}));const $K=YK,KK={updateSelf(e){ko.Z.dispatch({action:HK.UPDATE_SELF,data:e})},filter(e){ko.Z.dispatch({action:HK.FILTER,fragment:e})},set(e,t,n){$K.set(e,t,n)}},GK=Oo()({displayName:"FilterControls",getInitialState(){return this.getStateFromStores()},getStateFromStores(){const e=$K.getData();return{searching:e.searching,isFiltered:!L().isEmpty(e.filter),numMatches:e.matches.length,numItems:e.items.length}},UNSAFE_componentWillMount(){$K.addChangeListener(this.onStoreChange)},componentWillUnmount(){$K.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState(this.getStateFromStores())},text(){if(!this.state.isFiltered||this.state.searching)return;const e=this.state.numItems,t=this.state.numMatches;let n=(0,ai.Z)("filterNItems",[e]);1===e&&(n=(0,ai.Z)("filterOneItem"));let i=(0,ai.Z)("nResults",[t]);return 1===t&&(i=(0,ai.Z)("oneResult")),h.createElement("span",{className:"text"},n," (",i,")")},filters(){let e=0;const t=this.state.searching;return L().map(this.props.filters,((n,i)=>{const r=L().extend({key:e+=1,searching:t},n||{});return h.createElement(hD(i),r)}),this)},render(){return h.createElement("div",{className:"filter-controls"},this.filters(),this.text())}}),XK=GK,QK=Oo()({displayName:"Filter",getInitialState(){return this.getStateFromStores()},getStateFromStores:()=>$K.getData(),UNSAFE_componentWillReceiveProps(e){L().isEqual(e.items,this.props.items)||KK.set(e.items,e.getFilterable)},UNSAFE_componentWillMount(){KK.set(this.props.items,this.props.getFilterable,!0),$K.addChangeListener(this.onStoreChange)},componentWillUnmount(){$K.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState(this.getStateFromStores())},render(){return h.createElement("div",{className:"filter"},h.createElement(XK,{filters:this.props.filters}),this.pages(),this.noResults(),this.searching())},pages(){return h.createElement(yK,{items:this.state.matches,perPage:this.props.perPage,generator:this.props.generator,indices:this.state.indices})},noResults(){if(!(this.state.searching||this.state.matches.length>0))return h.createElement("div",{className:"no-results-found"},(0,ai.Z)("noResultsFound"))},searching(){if(this.state.searching)return h.createElement(os,{container:!0})}}),JK=Oo()({displayName:"GeneralChooser",getDefaultProps:()=>({initialSelected:[]}),getInitialState(){return{selected:this.props.initialSelected.slice(),edited:{},filter:$K.getData()}},UNSAFE_componentWillMount(){this.props.filters&&$K.addChangeListener(this.onFilterChange)},componentWillUnmount(){$K.removeChangeListener(this.onFilterChange)},onFilterChange(){this.setState({filter:$K.getData()}),$K.getData().filterChanged&&this.selectNone()},onToggleSelection(e){let t=this.state.selected;this.isItemSelected(e)?t=L().without(t,e):t.push(e),this.setState({selected:t}),this.emitSelected(t)},onEdit(e,t){const n=this.state.edited;n[e]=t,this.setState({edited:n}),this.emitEdited(n)},emit(e,t){const n=["chooser",this.props.namespace,e].join(":");r()(window).trigger(n,t)},emitSelected(e){this.emit("selection",[e])},emitEdited(e){const t=L().map(this.props.items,((t,n)=>e[n]?e[n]:t));this.emit("edit",[e,t])},isItemSelected(e){return L().indexOf(this.state.selected,e)>=0},selectAll(){if(this.state.filter.searching)return;let e=L().range(this.props.items.length);this.props.filters&&(e=this.state.filter.indices),this.setState({selected:e}),this.emitSelected(e)},selectNone(){const e=[];this.setState({selected:e}),this.emitSelected(e)},generateItem(e,t){const n=this.isItemSelected(t),i=Fo()("item","item-"+this.props.itemComponent,{"item-selected":n}),r={data:e,selected:n,videoDuration:this.props.video?this.props.video.duration:null,onToggleSelection:this.onToggleSelection.bind(this,t),onEdit:this.onEdit.bind(this,t),childComponent:this.props.childComponent},a=h.createElement(hD(this.props.itemComponent),r);return h.createElement("div",{className:i,key:t},a)},render(){const e="general-chooser-items";return this.props.filters?h.createElement("div",{className:e},h.createElement(QK,{items:this.props.items,perPage:this.props.perPage,getFilterable:this.props.getFilterable,generator:this.generateItem,filters:this.props.filters})):h.createElement("div",{className:e},h.createElement(yK,{items:this.props.items,perPage:this.props.perPage,generator:this.generateItem}))}}),eG=JK,tG=Oo()({displayName:"SelectableVideo",getInitialState:()=>({expanded:!1}),UNSAFE_componentWillMount(){r()(window).on("selectable-video:expand",this.onExpand).on("selectable-video:collapse",this.onCollapse)},componentWillUnmount(){r()(window).off("selectable-video:expand",this.onExpand).off("selectable-video:collapse",this.onCollapse)},onEditChild(e,t){const n=L().extend({},this.props.data);n.children[e]=t,this.props.onEdit&&this.props.onEdit(n)},onExpand(){this.setState({expanded:!0})},onCollapse(){this.setState({expanded:!1})},onToggle(){this.setState({expanded:!this.state.expanded})},getChildren(){return this._cachedChildren?this._cachedChildren:this.state.expanded?(this._cachedChildren=L().map(this.props.data.children,(function(e,t){return h.createElement(hD(this.props.childComponent),{key:t,data:e,onEdit:this.onEditChild.bind(this,t),forVideoId:this.props.data.video.id,videoDuration:this.props.data.video.duration})}),this),this._cachedChildren):void 0},getChildrenHeight(){const e="EditableCard"===this.props.childComponent?179:181;return Math.ceil(this.props.data.children.length/2)*e},render(){const e=this.props.data.video,t=Math.random().toString().replace(/0\./,""),n="vidiq-video-item-checkbox-"+e.id+t,i=this.state.expanded?(0,ai.Z)("close")+" ▲":(0,ai.Z)("edit")+" ▼",r=this.state.expanded?{maxHeight:this.getChildrenHeight()}:{};return h.createElement("div",null,h.createElement("div",{className:"video-info"},h.createElement("input",{type:"checkbox",id:n,className:"video-checkbox",checked:this.props.selected,onChange:this.props.onToggleSelection}),h.createElement("label",{className:"video-checkbox-label",htmlFor:n},h.createElement("img",{className:"video-thumbnail",src:e.thumb,alt:""}),h.createElement("span",{className:"video-title"},e.title),h.createElement("span",{className:"video-duration"},e.duration)),h.createElement("button",{className:"video-toggle-button",onClick:this.onToggle},i)),h.createElement("div",{className:"video-children",style:r},this.getChildren()))}}),nG=tG,iG=Oo()({displayName:"VideoResourceChooser",chooser:h.createRef(),onClickSelectAll(){this.chooser.current.selectAll()},onClickSelectNone(){this.chooser.current.selectNone()},getResourcesI18n(){let e=(0,ai.Z)(this.props.type+"sStatLabel");return"endscreen"===this.props.type&&(e=(0,ai.Z)("endScreens")),e},nonePart(){if(this.props.items.length>0)return;const e=this.getResourcesI18n();return h.createElement("h2",{className:"no-items"},(0,ai.Z)("noResourcesFound",[e]))},chooserPart(){const e="Editable"+(this.props.type[0].toUpperCase()+this.props.type.slice(1));return h.createElement(eG,{ref:this.chooser,items:this.props.items,video:this.props.video,initialSelected:this.props.selected,namespace:"resource",itemComponent:e})},selectPart(e){const t=this["onClickSelect"+e],n=(0,ai.Z)("select"+e+"Title");return h.createElement("button",{onClick:t},n)},endScreenNote(){return"endscreen"===!this.props.type?null:h.createElement("p",{className:"general-chooser-endscreen-note"},(0,ai.Z)("copyEndScreenNote"))},render(){const e="vidiq-general-chooser",t=this.props.items.length,n=this.props.selected.length,i=this.nonePart();if(i)return h.createElement("div",{className:e},i);const r=this.getResourcesI18n();return h.createElement("div",{className:e},h.createElement("div",{className:"general-chooser-instructions-container"},h.createElement("p",{className:"general-chooser-instructions"},(0,ai.Z)("chooseResourcesToCopy",[r])),h.createElement("p",{className:"general-chooser-selected"},(0,ai.Z)("selected"),": ",n,"/",t)),h.createElement("p",{className:"general-chooser-hint"},ai.Z.html("updateDefaultNote",[r])),this.endScreenNote(),h.createElement("div",{className:"general-chooser-toggle-buttons"},h.createElement("div",{className:"left"},this.selectPart("All"),h.createElement("span",{className:"divider"},"|"),this.selectPart("None"))),this.chooserPart())}}),rG=iG,aG=Oo()({displayName:"GeneralLoader",render(){return!1===this.props.loading?null:h.createElement("div",{className:"react-general-loader"},h.createElement("h2",null,this.props.text),this.progressBar())},progressBar(){if(isFinite(this.props.progress))return h.createElement(_K,{key:this.props.progressKey,percent:this.props.progress})}}),oG=Oo()({displayName:"VideoResourceVideoChooser",chooser:h.createRef(),UNSAFE_componentWillMount(){fK.addChangeListener(this.onVbsChange)},componentWillUnmount(){fK.removeChangeListener(this.onVbsChange)},onVbsChange(){this.forceUpdate()},onClickSelectAll(){this.chooser.current.selectAll()},onClickSelectNone(){this.chooser.current.selectNone()},onClickExpandAll(){r()(window).trigger("selectable-video:expand")},onClickExpandNone(){r()(window).trigger("selectable-video:collapse")},chooserPart(){if(0===this.props.items.length){const e=(0,ai.Z)("noOtherVideosFound");return h.createElement("p",{className:"no-items"},e)}const e="Editable"+we.Z.capitalize(this.props.type),t={SearchFilter:{field:"title",fieldLabel:(0,ai.Z)("title")}};return h.createElement(eG,{ref:this.chooser,items:this.props.items,initialSelected:this.props.selected,namespace:"videos",itemComponent:"SelectableVideo",filters:t,getFilterable:this.getFilterable,childComponent:e})},getFilterable:e=>e.video,buttonPart(e,t){const n=(0,ai.Z)(e.toLowerCase()+t+"Title"),i=this["onClick"+e+t];return h.createElement("button",{onClick:i},n)},render(){const e=fK.getData(),t=this.props.items.length,n=this.props.selected.length;if(e.loading){let t=e.videos.length;0===t&&(t="");const n=(0,ai.Z)("loadingVideosEllipsis")+t;return h.createElement(aG,{text:n,progress:e.progress})}let i=(0,ai.Z)(this.props.type+"sStatLabel");return"endscreen"===this.props.type&&(i=(0,ai.Z)("endScreens")),h.createElement("div",{className:"vidiq-general-chooser"},h.createElement("div",{className:"general-chooser-instructions-container"},h.createElement("p",{className:"general-chooser-instructions"},(0,ai.Z)("chooseVideoCopyTargets",[i])),h.createElement("p",{className:"general-chooser-selected"},(0,ai.Z)("selected"),": ",n,"/",t)),h.createElement("p",{className:"general-chooser-hint"},ai.Z.html("updatePerVideoNote",[i])),"endscreen"===this.props.type&&this.props.numFilteredVideos>0&&h.createElement(Af,{size:"md",weight:"bold"},ai.Z.html("copyEndscreensAspectRatioNotice",[this.props.numFilteredVideos])),h.createElement("div",{className:"general-chooser-toggle-buttons"},h.createElement("div",{className:"left"},this.buttonPart("Select","All"),h.createElement("span",{className:"divider"},"|"),this.buttonPart("Select","None")),h.createElement("div",{className:"right"},this.buttonPart("Expand","All"),h.createElement("span",{className:"divider"},"|"),this.buttonPart("Expand","None"))),this.chooserPart())}}),sG=oG,lG=new ds.Z("ChannelTrendingStore",{_data:{videos:[],loading:!0,selected:!1,error:!1}});lG.dispatchToken=ko.Z.register((e=>{const t=lG,n=ms;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const cG=lG,uG=Oo()({displayName:"ChannelTrendingTab",getInitialState:()=>cG.getData(),onStoreChange(){this.setState(cG.getData())},UNSAFE_componentWillMount(){cG.addChangeListener(this.onStoreChange)},componentWillUnount(){cG.removeChangeListener(this.onStoreChange)},onSelectTab(){bL.activate()},selectedTab(){const e=Fo()("velocity-selected-tab","epic-nav-item-heading");return h.createElement("h2",{className:e,"aria-selected":"true"},"Trending",h.createElement(XF,null))},unselectedTab(){const e=Fo()("yt-uix-button","spf-link","yt-uix-sessionlink","yt-uix-button-epic-nav-item","yt-uix-button-size-default");return h.createElement("button",{className:e,"aria-selected":"false",onClick:this.onSelectTab},h.createElement("span",{className:"yt-uix-button-content"},"Trending",h.createElement(XF,null)))},oldLayoutTab(){return this.state.selected?this.selectedTab():this.unselectedTab()},newLayoutTab(){const e=Fo()("vidiq-new-layout-tab",{selected:this.state.selected});return h.createElement("div",{className:e,onClick:this.onSelectTab},"Trending",h.createElement(XF,null))},render(){return h.createElement("span",{className:"vidiq-velocity-tab"},(0,Ee.Z)()?this.newLayoutTab():this.oldLayoutTab())}}),dG={getActionId(e){const t=new(r().Deferred),n=r()(e).find(".video-thumb-rt > a").get(0),i=r()(n).attr("href");return r().get(i).done((e=>{let n;if((0,Ee.Z)(e)){n=xe(e).contents.twoColumnWatchNextResults.results.results.contents[2].itemSectionRenderer.contents[0].commentThreadRenderer.comment.commentRenderer.actionButtons.commentActionButtonsRenderer.creatorHeart.creatorHeartRenderer.heartEndpoint.performCommentActionEndpoint.action}else{const t=r()(e).find(".comment-renderer-content").get(0),i=r()(t).find(".yt-uix-creator-heart-button").get(0);n=r()(i).attr("data-action-heart")}const i=n.replace("CA4","");t.resolve(i)})).fail(t.reject),t.promise()},pin(e){return this.getActionId(e).done((e=>{const t="CAs"+e;return this.post(t)}))},unpin(e){return this.getActionId(e).done((e=>{const t="CAw"+e;return this.post(t)}))},post(e){const t=new(r().Deferred);return we.Z.getAuthToken().done((n=>{const i=new FormData;i.append("action",e),i.append("session_token",n),r().ajax({type:"POST",url:"https://www.youtube.com/comment_service_ajax?action_perform_comment_action=1",contentType:!1,processData:!1,data:i}).done((()=>{t.resolve()})).fail(t.reject)})).fail(t.reject),t.promise()},getPinnedComment(e){const t=new(r().Deferred);return r().get(e).done((e=>{if((0,Ee.Z)(e)){if(e.match(/pinnedCommentBadge/)){const n=xe(e),i=this.pinnedCommentIdNewLayout(n);t.resolve(i)}else t.resolve(null)}else{const n=r()(e).find(".comment-renderer-pinned-comment-badge").get(0);if(n){const e=r()(n).parents(".comment-renderer").get(0),i=r()(e).attr("data-cid");t.resolve(i)}else t.resolve(null)}})).fail(t.reject),t.promise()},pinnedCommentIdNewLayout(e){const t=e.contents.twoColumnWatchNextResults.results.results.contents[2].itemSectionRenderer.contents;let n=null;return L().each(t,(e=>{const t=e.commentThreadRenderer.comment.commentRenderer;t.pinnedCommentBadge&&(n=t.commentId)})),n}},hG=dG,pG=Oo()({displayName:"CommentPinButton_Inner",getInitialState:()=>({loading:!1}),isPinned(){return this.props.pinnedComments[this.props.videoId]===this.props.commentId},executeAction(){this.setState({loading:!0}),this.isPinned()?hG.unpin(this.props.parent).done((()=>{xo.setPinnedComment(this.props.videoId,null),this.setState({loading:!1})})):hG.pin(this.props.parent).done((()=>{xo.setPinnedComment(this.props.videoId,this.props.commentId),this.setState({loading:!1})})),cs.destroy()},openDialog(){const e=this.isPinned()?(0,ai.Z)("unpinCommentTitle"):(0,ai.Z)("pinCommentTitle");cs.create({title:e,innerComponent:yz,innerProps:{onYes:this.executeAction,onNo:()=>{cs.destroy()},extra:()=>this.isPinned()?(0,ai.Z)("unpinCommentMessage"):(0,ai.Z)("pinCommentMessage")}})},spinner(){return this.state.loading?h.createElement(os,{size:"small"}):null},render(){const e=chrome.runtime.getURL("images/pin-icon.svg"),t=this.isPinned()?(0,ai.Z)("unpinCommentTooltip"):(0,ai.Z)("pinCommentTooltip"),n=Fo()("vidiq-comment-pin-button",{pinned:this.isPinned()});return h.createElement("span",{className:n,onClick:this.openDialog,"data-tip-message":t},h.createElement("img",{className:"vidiq-pin-icon",src:e,alt:"Pin"}),this.spinner())}}),fG=ug(pG,mB);var mG=__webpack_require__(5078),gG=__webpack_require__.n(mG);window.d3=gG();var vG=__webpack_require__(3072),yG=__webpack_require__.n(vG);const bG=Oo()({displayName:"D3Chart",getInitialState:()=>({id:we.Z.prettyRandomId()}),shouldComponentUpdate(e){return!L().isEqual(e.data,this.props.data)},componentDidUpdate(){this.renderChart()},componentDidMount(){this.renderChart()},renderChart(){const e=this.props,t=".d3-chart-"+this.state.id;yG().addGraph((()=>{const n=e.create(yG());return gG().select(t).datum(e.data).call(n),n}))},render(){const e=Fo()("d3-chart","d3-chart-"+this.state.id),t=this.props.style||{width:"100%"};return this.props.height&&(t.height=this.props.height+"px"),h.createElement("div",{className:"d3-chart-container"},h.createElement("svg",{className:e,style:t}))}}),_G=bG;function wG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class kG extends h.Component{constructor(e){super(e),wG(this,"toggleExpanded",(()=>{const e=!this.state.expanded;this.setState({expanded:e}),this.props.onClick&&this.props.onClick(e)})),wG(this,"cancelFilters",(()=>{this.setState({filters:this.getFilterObjects()}),this.toggleExpanded()})),wG(this,"applyFilters",(()=>{this.props.onUpdate(this.state.filters),this.toggleExpanded()})),wG(this,"onChangeFilter",((e,t)=>{const n=this.state.filters;n[e]=t,this.setState({filters:n})})),this.state={expanded:!1,filters:this.getFilterObjects()}}getFilterObjects(){const e={};return h.Children.forEach(this.props.children,(t=>{const n=t.props.statKey;let i=t.props.selected;i||"selector"!==t.props.type||(i="_choose"),e[n]=i})),e}getFilters(){const e=h.Children.map(this.props.children,(e=>{const t=e.props.statKey;return h.cloneElement(e,{onChange:e=>{this.onChangeFilter(t,e)},selected:this.state.filters[t],disabled:!(0,ve.h)().featurePermitted("kwinsFilter")})}));return h.createElement("div",{className:"vidiq-filter-selector-filters"},e)}applyDisabled(){const e=this.getFilterObjects();return Object.entries(this.state.filters).every((([t,n])=>JSON.stringify(n)===JSON.stringify(e[t])))}upsell(){if((0,ve.h)().featurePermitted("kwinsFilter"))return null;const e=(0,ai.Z)("refineSearchWithFilters"),t=(0,ai.Z)("upgradeToPlan",["Boost"]);return h.createElement("div",{className:"vidiq-filter-selector-upsell-container"},h.createElement(Gq,{upsell:this.props.upsell||"FilterSelector",classes:"vidiq-filter-selector-upsell",text:e,buttonText:t,targetPlan:"boost",onClick:this.onClickUpsell}))}filtersBody(){if(!this.state.expanded)return null;const e=Fo()("vidiq-filter-selector-body",{upsell:!(0,ve.h)().featurePermitted("kwinsFilter")});return h.createElement("div",{className:e},h.createElement("div",{className:"vidiq-filter-selector-body-header"},(0,ai.Z)("addFilters")),this.getFilters(),this.upsell(),h.createElement("div",{className:"vidiq-filter-selector-body-actions"},h.createElement("button",{onClick:this.cancelFilters,id:"vidiq-filter-selector-cancel-button",className:"vidiq-filter-selector-action-button"},(0,ai.Z)("cancel")),h.createElement("button",{onClick:this.applyFilters,id:"vidiq-filter-selector-apply-button",className:"vidiq-filter-selector-action-button",disabled:this.applyDisabled()},(0,ai.Z)("apply"))))}numActiveFilters(){const e=h.Children.toArray(this.props.children).filter((e=>{const t=e.props;if("range"===t.type)return t.selected.join()!==t.default.join();if("checks"===t.type){return Object.values(t.selected).filter((e=>e.checked)).length!==Object.keys(t.default).length}return"_choose"!==t.selected&&null!==t.selected})).length;return 0===e?null:h.createElement("div",{className:"vidiq-filter-selector-num-active"},e)}render(){const e=chrome.runtime.getURL("images/filter-icon.svg");return h.createElement("div",{className:"vidiq-filter-selector-container"},h.createElement("div",{className:"vidiq-filter-selector-button",onClick:this.toggleExpanded},h.createElement("div",{className:"vidiq-filter-selector-button-title"},(0,ai.Z)("filters")),this.numActiveFilters(),h.createElement("img",{src:e,alt:"",className:"vidiq-filter-selector-button-icon"})),this.filtersBody())}}const xG=kG,EG=we.Z.keyMirror(["UPDATE_SELF","FETCH"],"PLAYLISTS"),CG={updateSelf(e,t){ko.Z.dispatch({action:EG.UPDATE_SELF,data:e,meta:t})},fetch(){ko.Z.dispatch({action:EG.FETCH})}},SG=new ds.Z("PlaylistsStore",{_data:{resources:[],byId:{},loading:!1},getVideos(e){return(this.getData().byId[e]||{}).videos||[]},getAllVideos(e){e=e||this.data.resources;const t={};return L().each(e,(e=>{L().each(e.videos,(n=>{t[n.id]?t[n.id].playlistIds.push(e.id):t[n.id]=L().extend(n,{playlistIds:[e.id]})}))})),L().values(t)}});SG.dispatchToken=ko.Z.register((e=>{const t=SG,n=EG;switch(e.action){case n.UPDATE_SELF:L().extend(t.data,e.data),t.emitChange();break;case n.FETCH:t.data.resources=[],t.data.loading=!0,Qs.all().done((e=>{const n=L().object(L().map(e,(e=>[e.id,e])));CG.updateSelf({resources:e,byId:n,loading:!1},{newVideos:t.getAllVideos(e)})})),t.emitChange()}}));const TG=SG,DG=Oo()({displayName:"LoadablePlaylistSelect",getDefaultProps:()=>({blankText:(0,ai.Z)("choosePlaylist")}),getInitialState(){return this.getStateFromStores()},getStateFromStores(){const e=TG.getData();return{time:this.state?this.state.time:0,playlists:e,playlistOptions:this.getPlaylistOptions(e.resources)}},componentDidUpdate(){setTimeout(this.updateTime)},UNSAFE_componentWillMount(){const e=this.state.playlists.resources;!this.state.playlists.loading&&L().isEmpty(e)&&this.props.loadOnInit&&CG.fetch(),TG.addChangeListener(this.onStoreChange)},componentWillUnmount(){this._unmounted=!0,TG.removeChangeListener(this.onStoreChange)},onStoreChange(){const e=this.getStateFromStores();this.setState(e)},updateTime(e){const t=this._ut&&!e,n=this.state.playlists.loading;!n||this._unmounted||t?n||(this._ut=!1):(this._ut=!0,this.setState({time:this.state.time+1}),setTimeout((()=>{this.updateTime(!0)}),400))},getPlaylistOptions(e){if(!(!this.state||L().isEmpty(this.state.playlistOptions))||0===e.length)return(this.state||{}).playlistOptions||{};const t={"":this.props.blankText};return L().extend(t,L().object(L().compact(L().map(e,(e=>{const t=e.videos.length;if(0!==t)return[e.id,e.title+" ("+t+")"]}))))),t},ellipsis(){const e=L().range(this.state.time%4),t=L().range(3-e.length);return L().map(e,(()=>".")).join("")+L().map(t,(()=>"&#x2008")).join("")},render(){const e=this.state.playlistOptions;if(L().isEmpty(e))return this.loadPlaylists();const t=L().compact(["loadable-playlist-select",this.props.classes]).join(" ");return h.createElement("div",{className:t},h.createElement(sx,{defaultValue:this.props.defaultValue,name:"loadable-playlist-select",values:e,onChange:this.props.onChange}))},loadPlaylists(){const e=this.state.playlists.loading,t=e?(0,ai.Z)("loading")+this.ellipsis():(0,ai.Z)("loadPlaylistsTitle");return h.createElement(is,{onClick:CG.fetch,text:t,disabled:e,setInnerHTML:!0,secondary:!0})}}),FG=DG,MG=Oo()({displayName:"PlaylistFilter",onFilter(e){if(!e)return KK.filter({id:void 0});const t=L().pluck(TG.getData().byId[e].videos,"id");KK.filter({id:{memberOf:t}})},render(){return h.createElement(FG,{onChange:this.onFilter,blankText:(0,ai.Z)("filterByPlaylist"),classes:"playlist-filter filter-block"})}}),AG=Oo()({displayName:"SearchFilter",searchInput:h.createRef(),getInitialState:()=>({caseSens:!1}),getRegex(){const e=this.searchInput.current.value;return we.Z.string2regex(e,this.state.caseSens?"":"i")},onToggleCaseSens(){this.setState({caseSens:!this.state.caseSens},(()=>{this.onFilter()}))},onFilter:yo()((function(){const e=this.getRegex();let t={};this.props.custom?t._search_custom=e?(t,n)=>this.props.custom(e,t,n):void 0:t=L().object([[this.props.field,e]]),this.props.onChange&&this.props.onChange(e),KK.filter(t)}),400),render(){let e=(0,ai.Z)("search")+" "+this.props.fieldLabel;return this.props.placeholder&&(e=this.props.placeholder),h.createElement("div",{className:"search-filter filter-block"},h.createElement("span",{className:"search-icon"},"🔎"),h.createElement("input",{ref:this.searchInput,type:"search",placeholder:e,onChange:this.onFilter}),h.createElement("span",{className:"case-sensitive-option"},h.createElement("input",{type:"checkbox",id:"search-filter-case",checked:this.state.caseSens,onChange:this.onToggleCaseSens}),h.createElement("label",{htmlFor:"search-filter-case"},(0,ai.Z)("caseSensitiveQ"))))}}),IG=AG,OG=Oo()({displayName:"SearchAndReplaceFilter",getInitialState:()=>({regex:null,replace:null,working:!1}),onChange(e){this.setState({regex:e})},onReplaceChange(e){this.setState({replace:e.target.value})},doReplace(){this.setState({working:!0});const e=$K.getData(),t=e.matches.length;let n=0;L().each(e.matches,(function(i,a){Ds.push((()=>{const o=new(r().Deferred);return setTimeout((()=>{this.props.doReplace({regex:this.state.regex,replace:this.state.replace||"",item:i,index:e.indices[a]}),o.resolve(),n+=1,n===t&&this.setState({working:!1})})),o.promise()}),"search-and-replace")}),this)},render(){return h.createElement("div",{className:"search-and-replace-filter filter-block"},h.createElement(IG,{placeholder:(0,ai.Z)("searchAndReplace"),onChange:this.onChange,custom:this.props.doFilter}),this.replace())},replace(){const e=$K.getData().matches.length>0,t=this.state.working,n=t?"...":(0,ai.Z)("replace"),i=t?h.createElement(os,{size:"small"}):null;if(this.state.regex&&e&&!this.props.searching)return h.createElement("div",{className:"replace-matches filter-block"},h.createElement("input",{type:"text",placeholder:(0,ai.Z)("replaceWith")+"...",value:this.state.replace||"",onChange:this.onReplaceChange}),h.createElement(is,{text:n,onClick:this.doReplace,disabled:t}),i)}}),NG=Oo()({displayName:"Authed_Inner",render(){return this.props.authed&&this.props.user?this.props.children:null}}),PG=ug(NG,J.Z),RG=Oo()({displayName:"AppbarLink",render(){const e=Fo()("yt-uix-button","spf-link","yt-uix-sessionlink","yt-uix-button-epic-nav-item","yt-uix-button-size-default");return h.createElement(PG,null,h.createElement("button",{className:e,"aria-selected":"false",onClick:this.props.onClick},h.createElement("span",{className:"yt-uix-button-content"},h.createElement(XF,null)," ",this.props.label)))}}),jG=Oo()({displayName:"CreatorStudioLink",render(){return h.createElement(PG,null,h.createElement("h3",null,h.createElement("a",{href:"#",className:"creator-sidebar-section-link",onClick:this.props.onClick},h.createElement(XF,null),h.createElement("span",{className:"header-text"},this.props.label))))}}),LG=Oo()({displayName:"SidebarLink",render(){const e=Fo()("guide-item","yt-uix-sessionlink","yt-valign","spf-link");return h.createElement(PG,null,h.createElement("a",{className:e,href:"#",title:this.props.label,onClick:this.props.onClick},h.createElement("span",{className:"yt-valign-container"},h.createElement(XF,null),h.createElement("span",{className:"display-name no-count"},this.props.label))))}}),qG=Oo()({displayName:"SidebarLinkNewLayout_Inner",render(){const e=Fo()("yt-simple-endpoint","ytd-guide-entry-renderer","style-scope");return h.createElement("div",{className:"ytd-guide-section-renderer style-scope"},h.createElement("a",{id:"endpoint",className:e,href:"#",onClick:this.props.onClick},h.createElement("tp-yt-paper-item",{role:"option",class:"style-scope ytd-guide-entry-renderer"},h.createElement(XF,null),h.createElement("span",{className:"title ytd-guide-entry-renderer style-scope"},this.props.label))))}}),ZG=Oo()({displayName:"SidebarLinkNewLayout",render(){return h.createElement(PG,null,h.createElement(qG,this.props))}}),BG=Oo()({displayName:"StudioBetaSidebarLink_Inner",render(){return h.createElement("ytcp-ve",{class:"style-scope ytcp-navigation-drawer"},h.createElement("a",{className:"menu-item-link style-scope ytcp-navigation-drawer",href:"#",title:this.props.label,onClick:this.props.onClick},h.createElement("tp-yt-paper-icon-item",{className:"style-scope ytcp-navigation-drawer"},h.createElement(XF,null),h.createElement("div",{className:"nav-item-text style-scope ytcp-navigation-drawer"},this.props.label))))}}),VG=Oo()({displayName:"StudioBetaSidebarLink",render(){return h.createElement(PG,null,h.createElement(BG,this.props))}}),zG=Oo()({displayName:"Logo",render(){const e={src:chrome.runtime.getURL("images/vidiq_dark.svg"),width:149,height:56,alt:"vidIQ",className:"vidiq-logo",draggable:!1};"small"===this.props.size&&(e.width=59,e.height=22);const t=h.createElement("img",e);if(!this.props.badge)return t;const n=(0,ve.h)().getUserType().replace(/_.*/g,"").replace(/erprise$/,"");return h.createElement("div",{className:"vidiq-logo-container"},t,h.createElement("span",{className:"badge"},n))}}),UG=zG,WG=Oo()({displayName:"MEVR_CheckboxField",render(){return h.createElement("span",{className:"delete-checkbox"},h.createElement("input",{id:this.props.id,type:"checkbox",checked:this.props.checked,onChange:this.props.onChange}),h.createElement("label",{htmlFor:this.props.id},(0,ai.Z)("deleteTitle")))}}),HG=Oo()({displayName:"MEVR_Resource",render(){const e=this.props.resource,t=e instanceof pl?"card":"endscreen",n=this.props.selected&&!this.props.deleted;let i=this.props.onToggleSelection;this.props.deleted&&(i=()=>{});const r={data:n?this.props.editableResource:e,selected:this.props.selected,editRequiresSelection:!0,onToggleSelection:i,videoDuration:this.props.video?this.props.video.duration:null,massEdit:!0},a="Editable"+we.Z.capitalize(t),o=h.createElement(hD(a),r),s=Fo()("item","item-"+a,{"item-selected":n,"item-deleted":this.props.deleted});return h.createElement("div",{className:s},h.createElement(WG,{id:e._uid,checked:this.props.deleted,onChange:this.props.onToggleDeletion}),o)}}),YG=Oo()({displayName:"VideoFrame",getInitialState:()=>({open:!1}),onToggleOpen(){this.setState({open:!this.state.open})},onClickCheckbox(e){e.stopPropagation()},onChangeCheckbox(){this.props.toggleSelected()},render(){const e=this.props.video,t=Fo()("video-frame",{"video-frame-open":this.state.open,indicated:this.props.indicator||this.props.selected}),n=this.state.open?"auto":"hidden",i=h.createElement("div",{className:"video-frame-content",style:{display:n}},this.props.children||this.props.content);return h.createElement("div",{key:e.id,className:t},h.createElement("header",{onClick:this.onToggleOpen},this.checkbox(),h.createElement("img",{className:"video-thumbnail",src:e.thumb,alt:""}),h.createElement("span",{className:"video-title"},e.title),h.createElement("span",{className:"video-duration"},e.duration),this.indicator(),this.toggleOpen()),i)},checkbox(){if(void 0!==this.props.selected)return h.createElement("input",{type:"checkbox",checked:this.props.selected,onChange:this.onChangeCheckbox,onClick:this.onClickCheckbox})},indicator(){if(this.props.indicator)return h.createElement("span",{className:"indicator"})},toggleOpen(){const e=this.state.open?(0,ai.Z)("close")+" ▲":(0,ai.Z)("open")+" ▼";return h.createElement("button",{onClick:this.onToggleOpen,className:"toggle-open"},e)}}),$G=Oo()({displayName:"MEVR_Video",render(){const e=this.getResources("card"),t=this.getResources("endscreen"),n=e[1]||t[1];return h.createElement(YG,{video:this.props.video,content:[e[0],t[0]],indicator:n})},getResources(e){const t=this.props.resources[e];let n=!1;return[L().map(t,(function(e){const t=this.props.isDeleted(e._uid,e),i=this.props.isSelected(e._uid,e);return(t||i)&&(n=!0),h.createElement(HG,{key:e._uid,resource:e,video:this.props.video,editableResource:this.props.getEditable(e._uid),deleted:t,selected:i,onToggleSelection:this.props.getOnToggleSelection(e._uid,e),onToggleDeletion:this.props.getOnToggleDeletion(e._uid,e)})}),this),n]}}),KG=we.Z.keyMirror(["UPDATE_SELF","UPDATE","FETCH"],"CARDS"),GG={cancel(){Ds.cancel("cards"),GG.updateSelf({loading:!1})},updateSelf(e){ko.Z.dispatch({action:KG.UPDATE_SELF,data:e})},fetch(e){L().isString(e)&&(e=[e]),e.length&&ko.Z.dispatch({action:KG.FETCH,videoIds:e})},update:(e,t)=>new Promise(((n,i)=>{xl.setSelf(e,t).then((()=>{ko.Z.dispatch({action:KG.UPDATE,cards:t,videoId:e})})).then(n).catch((e=>{if("string"==typeof e&&/Request contains an invalid argument/.test(e))return i((0,ai.Z)("cardsInvalidError"));i(e)}))}))},XG=GG,QG=we.Z.keyMirror(["UPDATE_SELF","UPDATE","DELETE","FETCH"],"ENDSCREENS"),JG={cancel(){Ds.cancel("endscreens"),JG.updateSelf({loading:!1})},updateSelf(e){ko.Z.dispatch({action:QG.UPDATE_SELF,data:e})},fetch(e){L().isString(e)&&(e=[e]),e.length&&ko.Z.dispatch({action:QG.FETCH,videoIds:e})},delete:e=>IK.delete(e._videoId,[e]).done((()=>{(0,Y.Z)("EndscreensStore > DELETE"),ko.Z.dispatch({action:QG.DELETE,annotation:e,videoId:e._videoId})})),update:e=>IK.set(e._videoId,[e]).done((()=>{(0,Y.Z)("EndscreensStore > UPDATE"),ko.Z.dispatch({action:QG.UPDATE,annotation:e,videoId:e._videoId})})),updateAll(e,t,n){const i=new(r().Deferred);return IK.setSelf(e,t,n).then((()=>{(0,Y.Z)("EndscreensStore > UPDATE"),ko.Z.dispatch({action:QG.UPDATE,endscreens:t,videoId:e})})).then(i.resolve).catch((e=>{if("string"==typeof e&&/Request contains an invalid argument/.test(e))return i.reject((0,ai.Z)("errorWhileSavingEndscreen"));i.reject(e)})),i.promise()}},eX=JG,tX=new ds.Z("CardsStore",{_data:{resources:{},flat:[],total:0,loading:!1}});tX.dispatchToken=ko.Z.register((e=>{const t=tX,n=KG,i=e.videoId;switch(e.action){case n.UPDATE_SELF:L().extend(t.data,e.data),t.emitChange();break;case n.UPDATE:t.data.resources[i]=L().without(e.cards,null),t.emitChange();break;case n.FETCH:{const n=L().map(e.videoIds,(e=>Ds.push((()=>xl.get(e)),"cards").done((n=>{const i=t.data.resources;i[e]=n,XG.updateSelf({resources:i,flat:t.data.flat.concat(n),total:t.data.total+n.length})}))));r().when(...n).done((()=>{Ds.isPending("cards")||XG.updateSelf({loading:!1})})),t.data.loading=!0,t.emitChange();break}}}));const nX=tX,iX=new ds.Z("EndscreensStore",{_data:{resources:{},flat:[],total:0,loading:!1}});iX.dispatchToken=ko.Z.register((e=>{const t=iX,n=QG,i=e.videoId;let a,o,s;switch(e.action){case n.UPDATE_SELF:L().extend(t.data,e.data),t.emitChange();break;case n.DELETE:o=L().pluck(t.data.flat,"_id"),s=o.indexOf(e.endscreen._id),t.data.flat.splice(s,1),a=L().filter(t.data.resources[i],(t=>t._id!==e.endscreen._id)),t.data.resources[i]=a,t.data.total-=1,t.emitChange();break;case n.UPDATE:t.data.resources[i]=L().without(e.endscreens,null),t.emitChange();break;case n.FETCH:{const n=L().map(e.videoIds,(e=>Ds.push((()=>IK.get(e)),"endscreens").done((n=>{const i=t.data.resources;i[e]=n,eX.updateSelf({resources:i,flat:t.data.flat.concat(n),total:t.data.total+n.length})}))));r().when(...n).done((()=>{Ds.isPending("endscreens")||eX.updateSelf({loading:!1})})),t.data.loading=!0,t.emitChange();break}}}));const rX=iX,aX=Oo()({displayName:"MassEditVideoResources",wizard:h.createRef(),steps:["MassEditVideoResourcesInit","MassEditVideoResourcesChoose","BulkProcessor"],getInitialState(){const e=nX.getData(),t=rX.getData();return{videos:fK.getVideos(),relevantVideos:[],cards:e,endscreens:t,selected:{card:[],endscreen:[]},deleted:{card:[],endscreen:[]},editedResources:{},payload:[],needsPayload:!0,mode:"all",running:!1,done:!1}},UNSAFE_componentWillMount(){fK.addChangeListener(this.onStoreChange),nX.addChangeListener(this.onStoreChange),nX.addChangeListener(this.prepareResources),rX.addChangeListener(this.onStoreChange),rX.addChangeListener(this.prepareResources),this.prepareResources()},componentWillUnmount(){fK.removeChangeListener(this.onStoreChange),nX.removeChangeListener(this.onStoreChange),nX.removeChangeListener(this.prepareResources),rX.removeChangeListener(this.onStoreChange),rX.removeChangeListener(this.prepareResources),XG.cancel(),eX.cancel(),mK.cancel()},meta(){const e=this.state,t=L().values(e.cards.resources),n=L().values(e.endscreens.resources),i=e.cards.flat,r=e.endscreens.flat,a={videoCount:fK.getTotal(),loadingVideos:fK.isLoading(),loadingResources:e.cards.loading||e.endscreens.loading,hasResources:i.length>0||r.length>0,numVideos:e.videos.length,numCardGroups:t.length,numCards:i.length,numEndGroups:n.length,numEnds:r.length,mode:e.mode,cards:e.cards.resources,endscreens:e.endscreens.resources};switch(a.numEditedCards=this.state.selected.card.length,a.numDeletedCards=this.state.deleted.card.length,a.numEditedEnds=this.state.selected.endscreen.length,a.numDeletedEnds=this.state.deleted.endscreen.length,a.numSelectedCards=a.numEditedCards+a.numDeletedCards,a.numSelectedEnds=a.numEditedEnds+a.numDeletedEnds,a.numDeleted=a.numDeletedCards+a.numDeletedEnds,a.numReqSelected=a.numSelectedCards+a.numSelectedEnds,a.numReqEdited=a.numEditedCards+a.numEditedEnds,a.hasReqSelection=a.numSelectedCards>0||a.numSelectedEnds>0,e.mode){case"card":a.hasReqResources=i.length>0,a.hasReqSelection=a.numSelectedCards>0,a.numReqSelected=a.numSelectedCards,a.numReqEdited=a.numEditedCards;break;case"endscreen":a.hasReqResources=r.length>0,a.hasReqSelection=a.numSelectedEnds>0,a.numReqSelected=a.numSelectedEnds,a.numReqEdited=a.numEditedEnds}return"all"===e.mode&&(a.hasReqResources=a.hasResources),"card"===e.mode&&(a.hasReqResources=t.length>0),"endscreen"===e.mode&&(a.hasReqResources=n.length>0),a.loading=a.loadingVideos||a.loadingResources||this._willFetchResources,a.progress=this.getProgress(a),a.taskString=this.getTaskString(a),a},getCurrentStep(){const e=this.wizard.current;return e?e.getCurrentStep():null},getRelevantVideos(){const e=this.meta(),t=e.mode,n=e.cards,i=e.endscreens,r=[];return L().each(this.state.relevantVideos,(function(e){const a=this.state.videos[e];a&&("card"===t&&0===n[a.id].length||"endscreen"===t&&0===i[a.id].length||r.push(a))}),this),r},getTaskString(e){const t=[],n=(0,ai.Z)("card"),i=(0,ai.Z)("cardsStatLabel");let r;const a=e.numEditedCards>1,o=e.numDeletedCards>1;if(e.numEditedCards>0&&(r=a?[e.numEditedCards,i]:[n],t.push((0,ai.Z)(a?"editNThings":"editOneThing",r))),e.numDeletedCards>0&&(r=o?[e.numDeletedCards,i]:[n],t.push((0,ai.Z)(o?"deleteNThings":"deleteOneThing",r))),e.numEditedEnds>0&&t.push("edit "+e.numEditedEnds+" "+we.Z.plural(e.numEditedEnds,"endscreen","endscreens")),e.numDeletedEnds>0&&t.push("delete "+e.numDeletedEnds+" "+we.Z.plural(e.numDeletedEnds,"endscreen","endscreens")),t.length>0)return t.join(", ")},getPayload(){const e=[];return L().each(this.state.videos,(function(t){const n=this.getResourcesForVideo(t.id,!0);n.length&&e.push({video:t,resources:n})}),this),e},getProgress(e){if(e.loadingVideos)return isFinite(e.videoCount)&&e.videoCount?Math.min(e.numVideos/e.videoCount,1):NaN;const t={card:Math.min(e.numCardGroups/e.videoCount,1),endscreen:Math.min(e.numEndGroups/e.videoCount,1)},n=(t.card+t.endscreen)/2;return t[this.state.mode]||n},getResourcesForVideo(e,t){const n=this.state;let i=[],r=["card","endscreen"];if("all"!==n.mode&&(r=[n.mode]),L().each(r,(t=>{const r=n[t+"s"].resources;i=i.concat(r[e]||[])})),!t)return i;const a=[];return L().each(i,(e=>{const t=e instanceof pl?"card":"endscreen",i=n.selected[t].indexOf(e._uid)>=0,r=n.deleted[t].indexOf(e._uid)>=0;(i||r)&&a.push(e)})),a},getResourceFlag(e,t,n){return this.state[e][t].indexOf(n)>=0},getAllResources(){let e=[];return L().each(["cards","endscreens"],(function(t){L().each(this.state[t].resources,(t=>{e=e.concat(t)}))}),this),e},toggleResourceFlag(e,t,n){const i=this.state[e][t],r=i.indexOf(n);r<0?i.push(n):i.splice(r,1),"deleted"===e&&this.getResourceFlag("selected",t,n)&&this.toggleResourceFlag("selected",t,n),this.setState(L().extend(L().object([[e,this.state[e]]]),{needsPayload:!0}))},execute(e){const t=new(r().Deferred),n=this.state.payload[e].resources,i=[],a=[],o=[];return L().each(n,(function(e){e instanceof xK?a.push(e):o.push(this.state.editedResources[e._uid])}),this),a.length&&this.processResources("endscreens",a).fail((e=>{i.push(e)})).always((()=>{setTimeout((()=>{i.length>0?t.reject(i):t.resolve()}),100)})),o.length&&this.processResources("cards",o).catch((e=>{i.push(e)})).finally((()=>{setTimeout((()=>{i.length>0?t.reject(i):t.resolve()}),100)})),t.promise()},processResources(e,t){const n=t[0]._videoId,i=this.meta(),r=L().map(i[e][n],(e=>e.clone())),a=r[0].meta;return L().each(t,(t=>{const n=L().find(r,(e=>e?e._id===t._id:null));if(!n)return;const i=r.indexOf(n),a=this.getResourceFlag("deleted",e.slice(0,-1),t._uid);r[i]=a?null:t})),"endscreens"===e?eX.updateAll(n,r,a):XG.update(n,r)},prepareResources(e){if("BulkProcessor"===this.getCurrentStep())return;const t=nX.getData(),n=rX.getData(),i=this.state.relevantVideos,r=this.state.editedResources,a=t.flat,o=n.flat;let s=[];switch(this.state.mode){case"all":s=a.concat(o);break;case"card":s=a;break;case"endscreen":s=o}const l=L().pluck(this.state.videos,"id");L().each(s,(t=>{if(r[t._uid]&&!e)return;r[t._uid]=t.clone();const n=l.indexOf(t._videoId);i.indexOf(n)<0&&i.push(n)})),this.setState({relevantVideos:i,editedResources:r})},toggleDeleteAll(e){const t=this.state.mode,n="all"===t?["card","endscreen"]:[t];let i=0;const r=$K.getData(),a=!L().isEmpty(r.filter),o={};L().each(n,(function(e){i+=this.state.deleted[e].length}),this),a&&L().each(r.matches,(function(e){L().each(n,(function(t){const n=L().pluck(this.state[t+"s"].resources[e.id],"_uid");o[t]||(o[t]=[]),o[t]=o[t].concat(n)}),this)}),this),L().each(n,(function(t){if(0===i){let n;n=a?o[t]:L().pluck(this.state[t+"s"].flat,"_uid"),"function"==typeof e&&(n=e(n)||[]),this.state.deleted[t]=n,this.state.selected[t]=[]}else this.state.deleted[t]=[]}),this),this.setState({deleted:this.state.deleted,selected:this.state.selected})},clearPendingDels(){this.state.deleted.card=[],this.state.deleted.endscreen=[],this.setState({deleted:this.state.deleted})},clearPendingEdits(){const e=L().object(L().map(this.state.selected,((e,t)=>[t,[]])));this.setState({selected:e}),this.prepareResources(!0)},onStart(){cs.lock(),this.setState({running:!0}),this.wizard.current.refs.child.startProcessing()},onStoreChange(){const e=fK.getVideos(),t=nX.getData(),n=rX.getData(),i=L().pluck(this.state.videos,"id");L().difference(i,L().pluck(e,"id")).length>0&&(this._willFetchResources=!0),this.setState({videos:e,cards:t,endscreens:n},(function(){L().defer((()=>{this.fetchNeededResources()}))}))},onBulkProcessorComplete(){this.setState({running:!1,done:!0}),cs.unlock()},fetchVideos(){mK.fetch()},fetchNeededResources(){const e=this.meta(),t="MassEditVideoResourcesChoose"===this.getCurrentStep();if(this._willFetchResources=!1,!t||!e.mode||e.loadingVideos)return;const n=L().pluck(this.state.videos,"id");let i=["card","endscreen"];"all"!==e.mode&&(i=[e.mode]),L().each(i,(function(e){if(this.state[e+"s"].loading)return;const t=this.state[e+"s"].resources,i=L().difference(n,L().keys(t)),r="card"===e?XG:eX;i.length&&r.fetch(i)}),this)},childProps(e){switch(e){case"MassEditVideoResourcesInit":return{cards:this.state.cards,endscreens:this.state.endscreens,mode:this.state.mode,changeMode:e=>{this.setState({mode:e,selected:{card:[],endscreen:[]},deleted:{card:[],endscreen:[]},editedResources:[],needsPayload:!0}),this.state.relevantVideos=[],this.state.editedResources=[],this.state.mode=e,this.prepareResources()}};case"MassEditVideoResourcesChoose":return{parent:this,meta:this.meta(),toggleDeleteAll:this.toggleDeleteAll,clearPendingDels:this.clearPendingDels,clearPendingEdits:this.clearPendingEdits};case"BulkProcessor":{const e=L().flatten(L().pluck(this.state.payload,"video")),t=this.meta();return{videos:e,execute:this.execute,task:()=>t.taskString,preposition:"for",onComplete:this.onBulkProcessorComplete,resourceName:{singular:(0,ai.Z)("resource"),plural:(0,ai.Z)("resources")},urlFn:e=>"https://www.youtube.com/watch?v="+e}}}},canChangeStep(e){const t=this.meta(),n=t.loading&&"MassEditVideoResourcesInit"!==e;if(this.state.mode&&!n&&fK.ok()){if("MassEditVideoResourcesChoose"===e)if(!t.hasReqSelection)return"back";return"all"}},enterStep(e){switch(e){case"MassEditVideoResourcesChoose":this.fetchVideos(),this.fetchNeededResources();break;case"BulkProcessor":this.state.needsPayload&&this.setState({payload:this.getPayload(),needsPayload:!1})}},customButtons(e,t){return this.state.running?[]:this.state.done?["close"]:"BulkProcessor"===e?[t,{text:(0,ai.Z)("readyMakeChanges"),onClick:this.onStart,position:"right"}]:void 0},render(){return h.createElement(HU,{ref:this.wizard,classes:"mass-edit-video-resources",steps:this.steps,childProps:this.childProps,canChangeStep:this.canChangeStep,customButtons:this.customButtons,enterStep:this.enterStep})}}),oX=aX,sX=Oo()({displayName:"MassEditVideoResourcesChoose",UNSAFE_componentWillMount(){$K.addChangeListener(this.onFilterChange)},componentWillUnmount(){$K.removeChangeListener(this.onFilterChange)},onFilterChange(){$K.getData().filterChanged&&(this.props.clearPendingDels(),this.props.clearPendingEdits())},hasContent(){return this.props.meta.hasReqResources&&!this.props.meta.loading},loader(){if(!this.props.meta.loading)return;const e=this.props.meta.loadingVideos?(0,ai.Z)("videoPlural"):(0,ai.Z)("resources"),t="videos"===e?" "+this.props.meta.numVideos:"",n="videos"===e?(0,ai.Z)("loading"):(0,ai.Z)("searchingFor");return h.createElement(aG,{text:n+" "+e+"..."+t,progressKey:e,progress:this.props.meta.progress})},status(){let e=we.Z.capitalize(this.props.meta.taskString);this.props.meta.loading&&(e=null);const t=L().compact([e,this.resFoundPhrase()]),n=L().map(t,((e,t)=>h.createElement("p",{key:t},e)));return h.createElement("div",{className:"modal-status"},n)},resFoundPhrase(){if(this.props.meta.loadingVideos)return;const e={card:this.cardsFoundPhrase(),endscreen:this.endscreensFoundPhrase()};let t;return t="all"===this.props.meta.mode?L().compact(L().values(e)).join(" "+(0,ai.Z)("and")+" "):e[this.props.meta.mode],t&&(t=(0,ai.Z)("found")+" "+t),t},cardsFoundPhrase(){const e=this.props.meta.numCards;if(0===e)return;return[e,1===e?(0,ai.Z)("card"):(0,ai.Z)("cardsStatLabel")].join(" ")},endscreensFoundPhrase(){const e=this.props.meta.numEnds;if(0===e)return;return[e,1===e?"endscreen":"endscreens"].join(" ")},getFilters(){const e=this.props.parent;return{SearchAndReplaceFilter:{doFilter:(t,n,i)=>{let r=!1;return 0===i&&(this._filtered={},this._filteredUids=[]),L().each(e.getResourcesForVideo(n.id),(function(e){if(!e.searchableValues&&!e.editableValues)return;const i=(e.searchableValues||e.editableValues).bind(e);L().each(i(),(function(i){if(!i)return;i.match(t)&&(this._filtered[n.id]||(this._filtered[n.id]=[]),this._filtered[n.id].push(e),this._filteredUids.push(e._uid),r=!0)}),this)}),this),r},doReplace:t=>{L().each(this._filtered[t.item.id],(n=>{const i=e.state.editedResources[n._uid],r=n instanceof pl?"card":"endscreen";L().each(n.editableValues(),((a,o)=>{if(!a||!a.match(t.regex))return;i.set(o,a.replace(t.regex,t.replace));e.getResourceFlag("selected",r,n._uid)||e.toggleResourceFlag("selected",r,n._uid)}))})),this.forceUpdate()}}}},content(){if(!this.hasContent())return;const e=this.props.parent.getRelevantVideos();return h.createElement("div",{className:"content"},this.actions(),h.createElement(QK,{items:e,generator:this.videoGenerator,filters:this.getFilters()}))},videoGenerator(e){const t=this.props.parent.state;let n=(t.cards.resources[e.id]||[]).slice(),i=(t.endscreens.resources[e.id]||[]).slice();const r=t.mode;"card"===r?i=[]:"endscreen"===r&&(n=[]);const a={card:n,endscreen:i};$K.isFiltering()&&L().each(a,(function(e,t){a[t]=L().filter(e,(function(e){return this._filteredUids.indexOf(e._uid)>=0}),this)}),this);return h.createElement($G,{key:e.id,video:e,resources:a,isDeleted:(e,t)=>{const n=t instanceof pl?"card":"endscreen";return this.props.parent.getResourceFlag("deleted",n,e)},isSelected:(e,t)=>{const n=t instanceof pl?"card":"endscreen";return this.props.parent.getResourceFlag("selected",n,e)},getEditable:e=>this.props.parent.state.editedResources[e],getOnToggleSelection:(e,t)=>{const n=t instanceof pl?"card":"endscreen",i=!("card"===n&&"video"===t.getKind())?"selected":"deleted";return()=>{this.props.parent.toggleResourceFlag(i,n,e)}},getOnToggleDeletion:(e,t)=>{const n=t instanceof pl?"card":"endscreen";return()=>{this.props.parent.toggleResourceFlag("deleted",n,e)}}})},noResourcesFound(){if(!this.hasContent()&&!this.props.meta.loading)return h.createElement("div",{className:"no-resources-found"},h.createElement("h2",null,(0,ai.Z)("noResourcesFoundTitle")),h.createElement("p",null,ai.Z.html("noResourcesFoundHint")))},removeExcluded(e){return $K.isFiltering()?L().intersection(e,this._filteredUids):e},actions(){const e=this.props.meta;let t=(0,ai.Z)("markAllForDeletionTitle");e.numDeleted>0&&(t=(0,ai.Z)("clearPendingDeletionsTitle"));const n=L().partial(this.props.toggleDeleteAll,this.removeExcluded);return h.createElement("div",{className:"react-general-actions"},h.createElement(is,{text:t,secondary:!0,onClick:n}),h.createElement(is,{text:(0,ai.Z)("clearPendingEditsTitle"),secondary:!0,disabled:e.numReqEdited<=0,onClick:this.props.clearPendingEdits}))},render(){const e=Fo()("mass-edit-video-resources-choose",{"has-content":this.hasContent()});return h.createElement("div",{className:e},this.loader(),this.status(),this.content(),this.noResourcesFound())}}),lX=sX,cX=Oo()({displayName:"VideoBufferController",list:h.createRef(),limitSteps:[30,150,300,600],statics:{string2idList:e=>L().uniq(L().compact(e.replace(/[,\s]/g," ").replace(/.+?watch\?v=([^\s&]+\s?)/g,"$1").split(" ")))},getInitialState(){let e;return e=this.props.noStore?{mode:"limit",limit:30,list:[],playlist:null}:fK.getData(),{mode:e.mode,limitField:this.getLimitFieldValue(e.limit),limit:e.limit,playlist:e.playlist,list:e.list}},UNSAFE_componentWillUpdate(e,t){const n=t.mode,i=t[n],r=n===this.state.mode;i===this.state[n]&&r||this.props.noStore||mK.set(L().object([[n,i],["mode",n]]))},getLimitFieldValue(e){return e?this.limitSteps.indexOf(e)>=0?e:"custom":"all"},getLimitValueFromField(e){const t=parseInt(e,10);return"all"===e?null:"custom"!==e&&isFinite(t)?t:this.state.limit},onChangeLimitSelect(e){this.setState({limitField:e.target.value,limit:this.getLimitValueFromField(e.target.value)})},onChangeLimitInput(e){const t=e.target.value,n=parseInt(t,10);!isFinite(n)||n<=0||this.setState({limit:n,limitField:"custom"})},onChangeMode(e){const t=e.target.id.split("-").pop();this.setState({mode:t})},onChangePlaylist(e){this.setState({playlist:e})},onChangeList(){const e=this.list.current.value,t=cX.string2idList(e);this.setState({list:t})},render(){return h.createElement("div",{className:"video-buffer-controller"},h.createElement("div",{className:"vbc-choices"},h.createElement("span",{className:"radio-field"},h.createElement("input",{type:"radio",name:"vbc-choice",id:"vbc-choice-limit",value:"limit",checked:"limit"===this.state.mode,onChange:this.onChangeMode})," ",h.createElement("label",{htmlFor:"vbc-choice-limit"},(0,ai.Z)("loadByNumber"))),h.createElement("span",{className:"radio-field"},h.createElement("input",{type:"radio",name:"vbc-choice",id:"vbc-choice-list",value:"list",checked:"list"===this.state.mode,onChange:this.onChangeMode})," ",h.createElement("label",{htmlFor:"vbc-choice-list"},(0,ai.Z)("loadByList"))),h.createElement("span",{className:"radio-field"},h.createElement("input",{type:"radio",name:"vbc-choice",id:"vbc-choice-playlist",value:"playlist",checked:"playlist"===this.state.mode,onChange:this.onChangeMode})," ",h.createElement("label",{htmlFor:"vbc-choice-playlist"},(0,ai.Z)("loadByPlaylist")))),this.content())},content(){return this["by"+we.Z.capitalize(this.state.mode)]()},byLimit(){return h.createElement("div",{className:"vbc-by-number"},h.createElement("select",{defaultValue:this.state.limitField,name:"vbc-number",onChange:this.onChangeLimitSelect},this.stepOptions(),h.createElement("option",{value:"all"},(0,ai.Z)("allVideosUpTo",["3000"])),h.createElement("option",{value:"custom"},(0,ai.Z)("custom"))),this.customField())},byPlaylist(){return h.createElement("div",{className:"vbc-by-playlist"},h.createElement(FG,{onChange:this.onChangePlaylist,defaultValue:this.state.playlist,loadOnInit:!0}))},byList(){return h.createElement("div",{className:"vbc-by-list"},h.createElement("p",null,(0,ai.Z)("listEntryRules")),h.createElement("textarea",{onChange:this.onChangeList,ref:this.list,rows:"4",cols:"60",name:"vbc-id-list",defaultValue:this.state.list.join("\n")}))},stepOptions(){return L().map(this.limitSteps,((e,t)=>{let n=(0,ai.Z)("nVideos",[e]);return 30===e&&(n=(0,ai.Z)("firstPage",["30"])),h.createElement("option",{key:t,value:e},n)}))},customField(){if("custom"===this.state.limitField)return h.createElement("input",{type:"number",defaultValue:this.state.limit,name:"vbc-custom-number",className:"custom-amount-field",onChange:this.onChangeLimitInput,placeholder:(0,ai.Z)("vidNumber")})}}),uX=cX,dX=Oo()({displayName:"MassEditVideoResourcesInit",render(){return h.createElement("div",{className:"mass-edit-video-resources-init"},h.createElement("h2",null,(0,ai.Z)("chooseSourceVideoTitle")),h.createElement(uX,null),h.createElement("h2",null,(0,ai.Z)("chooseResourcesToEditTitle")),this.resourceChooser())},resourceChooser(){const e=e=>{this.props.changeMode(e.target.value)};return h.createElement("div",{className:"resource-chooser"},h.createElement("input",{type:"radio",id:"mdm-all",name:"mass-delete-mode",onChange:e,defaultChecked:"all"===this.props.mode,value:"all"})," ",h.createElement("label",{htmlFor:"mdm-all"},(0,ai.Z)("all")),h.createElement("input",{type:"radio",id:"mdm-card",name:"mass-delete-mode",onChange:e,defaultChecked:"card"===this.props.mode,value:"card"})," ",h.createElement("label",{htmlFor:"mdm-card"},ai.Z.cap("cardsStatLabel")),h.createElement("input",{type:"radio",id:"mdm-endscreen",name:"mass-delete-mode",onChange:e,defaultChecked:"endscreen"===this.props.mode,value:"endscreen"}),h.createElement("label",{htmlFor:"mdm-endscreen"},"Endscreens"))}}),hX=we.Z.keyMirror(["CLEAR","TOGGLE","SELECT","DESELECT"],"CHOICES"),pX={stores:{},id(e){return this.stores[e]?this.stores[e]:this.create(e)},create(e){const t={clear(){ko.Z.dispatch({id:e,action:hX.CLEAR})},toggle(t){ko.Z.dispatch({id:e,action:hX.TOGGLE,index:t})},select(...t){const n=L().toArray(t);ko.Z.dispatch({id:e,action:hX.SELECT,indices:n})},deselect(...t){const n=L().toArray(t);ko.Z.dispatch({id:e,action:hX.DESELECT,indices:n})}},n=new ds.Z("SelectionStore["+e+"]",{reset(){this.data=[]},isSelected(e){return this.data.indexOf(e)>=0},hasSelections(){return this.data.length>0}});return n.reset(),n.actions=t,this.stores[e]=n,this.stores[e]}};pX.dispatchToken=ko.Z.register((e=>{if(!e.id)return;const t=pX.stores[e.id],n=hX;if(t)switch(e.action){case n.CLEAR:t.data=[],t.emitChange();break;case n.TOGGLE:t.data.indexOf(e.index)>=0?t.data=L().without(t.data,e.index):t.data.push(e.index),t.emitChange();break;case n.SELECT:t.data=L().uniq(t.data.concat(e.indices)),t.emitChange();break;case n.DESELECT:t.data=L().difference(t.data,e.indices),t.emitCHange()}}));const fX=pX,mX=Oo()({displayName:"MassEditVideos",steps:["MassEditVideosInit","MassEditVideosChoose","MassEditVideosProcess"],getInitialState:()=>({unauthed:!1}),UNSAFE_componentWillMount(){zK.reset(),fX.id("mass-edit-videos").reset(),r()(window).on("bulk-processor:update",this.onBulkProcessorUpdate),(0,ve.h)().getCurrentChannel().then((e=>{e&&e.id||(this.setState({unauthed:!0}),cs.setButtons([]))}))},componentWillUnmount(){mK.cancel(),r()(window).off("bulk-processor:update",this.onBulkProcessorUpdate)},onBulkProcessorUpdate(){this.forceUpdate()},render(){const e=kK.instance,t=!!e&&e.isBusy();return h.createElement(cs,{title:(0,ai.Z)("massEditVideosTitle"),locked:t,footer:!1},this.state.unauthed&&h.createElement(CI,{message:(0,ai.Z)("modalErrorUnauthenticatedMessage"),buttonText:(0,ai.Z)("modalErrorUnauthenticatedButton"),buttonHref:Su("https://app.vidiq.com/welcome"),hint:(0,ai.Z)("modalErrorUnauthenticatedHint")}),!this.state.unauthed&&h.createElement(HU,{classes:"mass-edit-videos",steps:this.steps,locked:t,legacy:!1}))}}),gX=Oo()({displayName:"StoreChooser",getInitialState(){return this.store=fX.id(this.props.namespace),this.getState()},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange)},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState(this.getState())},getState(){return{selected:this.store.getData()}},generateItem(e,t){const n=this.store.isSelected(t);return this.props.generator(e,{index:t,selected:n,toggleSelected:L().partial(this.store.actions.toggle,t)})},render(){const e="general-chooser-items";return this.props.filters?h.createElement("div",{className:e},h.createElement(QK,{items:this.props.items,perPage:this.props.perPage,getFilterable:this.props.getFilterable,generator:this.generateItem,filters:this.props.filters})):h.createElement("div",{className:e},h.createElement(yK,{items:this.props.items,perPage:this.props.perPage,generator:this.generateItem}))}}),vX=Oo()({displayName:"MassEditVideosChoose",namespace:"mass-edit-videos",statics:{enterStep(){mK.fetch()},canChangeStep(){if(!fK.isLoading())return fX.id("mass-edit-videos").hasSelections()?"all":"back"}},getInitialState(){return this.choicesStore=fX.id(this.namespace),this.getState()},getState(){return{vbs:fK.getData(),choices:this.choicesStore.getData()}},UNSAFE_componentWillMount(){fK.addChangeListener(this.onVideosChange),this.choicesStore.addChangeListener(this.onChoicesChange)},componentWillUnmount(){fK.removeChangeListener(this.onVideosChange),this.choicesStore.removeChangeListener(this.onChoicesChange)},onVideosChange(){const e=fK.getData();this.setState({vbs:e})},onChoicesChange(){this.setState({choices:this.choicesStore.getData()})},getLoadingText(){let e=this.state.vbs.videos.length;return 0===e&&(e=""),this.state.vbs.loading?(0,ai.Z)("loadingVideosEllipsis")+" "+e:(0,ai.Z)("loadingVideoDataEllipsis")},getLoading(){return this.state.vbs.loading},getProgress(){return this.state.vbs.progress},getFilters(){const e=["description","title"];return{SearchAndReplaceFilter:{doFilter(t,n){let i=!1;return L().each(e,(e=>{n[e].match(t)&&(i=!0)})),i},doReplace:t=>{const n=t.item,i=zK.get(n.id),r=L().extend({},n,i);L().each(e,(e=>{n[e].match(t.regex)&&(r[e]=n[e].replace(t.regex,t.replace))})),BK.set(n.id,r),this.choicesStore.actions.select(t.index)}}}},clearPendingEdits(){this.choicesStore.actions.clear(),BK.clear()},getStatus(){const e=this.state.choices.length;if(0===e)return;const t=1===e?(0,ai.Z)("oneItemSelected"):(0,ai.Z)("nItemsSelected",[e]);return h.createElement("div",{className:"modal-status"},t)},render(){const e=this.getLoading();return h.createElement("div",null,h.createElement(aG,{text:this.getLoadingText(),loading:e,progressKey:"loading",progress:this.getProgress()}),e?null:this.content(),this.props.footer())},content(){return h.createElement("div",null,h.createElement("div",{className:"react-general-actions"},h.createElement(is,{text:(0,ai.Z)("clearPendingEditsTitle"),secondary:!0,disabled:this.state.choices.length<=0,onClick:this.clearPendingEdits})),h.createElement(gX,{items:this.state.vbs.videos,perPage:10,generator:this.generator,namespace:this.namespace,filters:this.getFilters()}),this.getStatus())},generator:(e,t)=>h.createElement(YG,{key:t.index,video:e,selected:t.selected,toggleSelected:t.toggleSelected},h.createElement(WK,{video:e,selected:t.selected,toggleSelected:t.toggleSelected}))}),yX=vX,bX=Oo()({displayName:"MassEditVideosInit",statics:{canChangeStep(){if(fK.ok()&&!fK.isLoading())return"all"}},UNSAFE_componentWillMount(){fK.addChangeListener(this.onStoreChange)},componentWillUnmount(){fK.removeChangeListener(this.onStoreChange)},onStoreChange(){this.forceUpdate()},render(){return h.createElement("div",null,h.createElement(uX,null),this.props.footer())}}),_X=e=>P.Z.expanded("vidiq.youtubeDataProxy",{type:"videos",params:{part:"snippet",id:e.join(",")}}),wX=Oo()({displayName:"MassEditVideosProcess",statics:{customButtons(e,t){const n=kK.instance;if(n){if(n.state.finished)return[t,"close"];if(n.isBusy())return[t]}return[t,{text:(0,ai.Z)("readyMakeChanges"),onClick(){kK.instance.startProcessing()},position:"right"}]}},UNSAFE_componentWillMount(){r()(window).on("myvideos:backoff",(()=>{this.setState({backoff:!0})})),r()(window).on("myvideos:resume",(()=>{this.setState({backoff:!1})}))},getInitialState(){return{payload:this.buildPayload(),backoff:!1}},buildPayload(){const e=fK.getData(),t=zK.getData(),n=fX.id("mass-edit-videos").getData();return L().map(n,(n=>{const i=e.videos[n];return t[i.id]||i}))},onComplete(){dt("Finished mass edit videos")},execute(e){const t=new(r().Deferred),n=this.state.payload.slice(10*e,10*(e+1)),i=n.map((e=>e.id));return(0,_e.Z)().then((e=>{(async e=>{try{const{json:t,response:n}=await _X(e);if(!(t&&t.items&&n&&n.ok))throw new Error(n.statusText);const i={};return t.items.forEach((e=>{i[e.id]=e.snippet.categoryId})),i}catch(e){return Me.Z.error("Failed to get category IDs for videos",{error:e.message}),{}}})(i).then((i=>{const r=n.map((e=>({video_id:e.id,category_id:i[e.id],title:e.title,description:e.description})));P.Z.ok("vidiq.updateVideos",{channelId:e,videos:r}).then((({json:e})=>t.resolve(e))).catch((({json:e})=>t.reject(e)))})).catch(t.reject)})).catch(t.reject),t.promise()},render(){return h.createElement("div",null,h.createElement(kK,{videos:this.state.payload,execute:this.execute,task:"editDetailsTask",urlFn:this.urlFn,onComplete:this.onComplete,batchSize:10}),h.createElement(aK,null),this.props.footer())},urlFn:e=>"https://www.youtube.com/watch?v="+e}),kX=wX,xX=we.Z.keyMirror(["START","CANCEL"],"MASS_EXPORT"),EX={start(e){ko.Z.dispatch({action:xX.START,channel:e})},cancel(){ko.Z.dispatch({action:xX.CANCEL})}},CX=EX,SX=Oo()({displayName:"MassExportPreview",render(){return h.createElement("div",{className:"mass-export-preview"},h.createElement("table",null,h.createElement("thead",null,h.createElement("tr",null,this.headings())),h.createElement("tbody",null,this.rows())))},headings(){return L().map(gS.STATS,((e,t)=>(e=gS.getHeading(e),h.createElement("th",{key:t},e))),this)},rows(){return L().map(this.props.rows.slice(0,10),(function(e,t){return h.createElement("tr",{key:t},this.columns(e))}),this)},columns(e){return L().map(gS.STATS,((t,n)=>{const i=fS(t,e[t]);return h.createElement("td",{key:n},i)}),this)}}),TX=Oo()({displayName:"MassExportProgress",getKey(e){return e.video.id+"-"+this.props.data.currentPage},render(){const e=Fo()("batch",{"batch-loading":L().isEmpty(this.props.data.batch)});return h.createElement("div",{className:"mass-export-progress"},h.createElement(_K,{percentComplete:100*this.props.data.progress}),h.createElement("h1",null,(0,ai.Z)("loadingBatch")," ",this.props.data.currentPage,"...",h.createElement("span",{className:"all-eta"},we.Z.etaString(this.props.data.eta))),h.createElement("div",{className:e},this.batchPart()))},batchPart(){const e=this.props.data.batch;return L().isEmpty(e)?h.createElement(os,{classes:"batch-spinner"}):L().map(e,(function(e){return h.createElement("div",{className:"batch-item",key:this.getKey(e)},h.createElement("h2",null,e.video.title),h.createElement(_K,{percentComplete:100*e.progress}))}),this)}}),DX=TX,FX=Oo()({displayName:"MassExportStart",getDefaultProps:()=>({channel:{}}),start(){CX.start(this.props.channel.id)},getLimit:()=>(0,ve.h)().getFeatureLimit("export"),getStartButtonText(){const e=this.getLimit();let t;return L().isNumber(e)?t=(0,ai.Z)("exportUpTo",[e]):(t=(0,ai.Z)("exportMyVideos"),L().isEmpty(this.props.channel)||(t=(0,ai.Z)("exportTheirVideos"))),t},getChannelName(){return(this.props.channel||{}).name},render(){const e=L().isNumber(this.getLimit())?"Limited":"";let t;return t=L().isEmpty(this.props.channel)?(0,ai.Z)("exportExplainMine"+e):ai.Z.html("exportExplainTheirs"+e,[this.getChannelName()]),h.createElement("div",{className:"mass-export-start"},h.createElement("p",null,t),h.createElement(is,{text:this.getStartButtonText(),onClick:this.start}),this.upgradePart())},upgradePart(){if(!this.getLimit())return;let e=ai.Z.html("uploadUpgradeBoost");return"basic"===(0,ve.h)().getUserType()&&(e=ai.Z.html("uploadUpgradeProBoost",[(0,ve.h)().getFeatureLimit("export","pro")])),h.createElement("div",{className:"mass-export-upgrade"},h.createElement("p",null,e),h.createElement(xs,{CsvExport:!0,source:"Mass CSV Export modal"}))}}),MX=(e,t)=>(0,P.Z)("vidiq.youtubeDataProxy",{type:"playlistItems",params:{part:"snippet,status",playlistId:e,maxResults:50,pageToken:t}}).then((e=>({pageVideos:e.items.map((e=>{const{snippet:{thumbnails:t,title:n,resourceId:{videoId:i}},status:{privacyStatus:r}}=e;return{id:i,title:n,duration:null,thumb:t.default.url,status:r}})),nextPageToken:e.nextPageToken})));class AX{constructor(e){this.channel=e}all(){return{start:async e=>{try{const t=await(0,P.Z)("vidiq.youtubeDataProxy",{type:"channels",params:{part:"contentDetails",id:this.channel}}),n=ro()(t,"items[0].contentDetails.relatedPlaylists.uploads");if(!n)throw new Error(`TheirVideos: unable to find channel (${this.channel}) upload playlist`);const i=await MX(n),{pageVideos:r,nextPageToken:a}=i,o=r.length;e({videos:i.pageVideos,morePages:i.nextPageToken,totalVideos:o}),await this.paginate(a,n,e,o)}catch(e){const t=`TheirVideos - error while extracting channel (id: ${this.channel}) videos from YT API`;Me.Z.error(t,e),(0,Y.Z)(t)}},cancel:this.cancel.bind(this)}}paginate(e,t,n,i){return this._cancelled||!e?((e=>{const{userCanceled:t,totalVideos:n}=e;ht("finished fetching channel video data",{totalVideos:n,userCanceled:t,location:(0,be.Z)()})})({userCanceled:this._cancelled,totalVideos:i}),{totalVideos:i}):MX(t,e).then((e=>{const{pageVideos:t,nextPageToken:r}=e,a=i+t.length;return n({videos:t,morePages:r,totalVideos:a}),{pageToken:e.nextPageToken,totalVideos:a}})).then((({pageToken:e,totalVideos:i})=>this.paginate(e,t,n,i)))}cancel(){this._cancelled=!0}}const IX=new ds.Z("MassExportStore",{BATCH_SIZE:10,_data:{startedAt:null,finishedAt:null,cancelled:!1,exports:[],batches:[],csvUrl:null,payload:null,total:0,channel:null},emitChange(){this._tec||(this._tec=_o()((()=>{this.onSelfChange(),r()(window).trigger(this.CHANGE_EVENT)}),200)),this._tec()},start(e){this.reset(),this.setData({startedAt:new Date,channel:e}),this.loadVideos()},cancel(){this.setData({cancelled:!0})},onSelfChange(){const e=this.data;!e.startedAt||e.finishedAt||e.cancelled||(this.ensureLoadBatch(),this.ensureFinish())},ensureLoadBatch(){const e=this.getBatchProgress(),t=this.data.batches[0],n=this.data.exports;!L().isEmpty(t?n.slice(t[1]):n)&&(!t||t&&e>.8)&&this.loadBatch()},ensureFinish(){if(1!==this.getTotalProgress()||this.data.finishedAt)return;const e=L().pluck(this.data.exports,"data");this.setData({finishedAt:new Date,payload:e,csvUrl:gS.csv2url(gS.csv(e))})},getExportProgress(e){const t=this.data.exports,n=e?t.slice(e[0],e[1]):t,i=L().reduce(n,((e,t)=>e+t.progress),0),r=i/n.length;return isFinite(r)?r:0},getBatchProgress(){const e=this.getExportProgress(this.data.batches[0]);return this._lastBatchProgress=e,e},getTotalProgress(){const e=this.data,t=this.getExportProgress()*e.exports.length/e.total;return this._lastTotalProgress=t,t},loadBatch(){const e=this.data.batches||[],t=this.data.batches[0]||[0,0],n=Math.min(t[1]+this.BATCH_SIZE,this.data.exports.length),i=[t[1],n],r=this.data.exports.slice(i[0],i[1]);L().each(r,(function(e){e.onProgress=()=>{this.emitChange()},e.build()}),this),e.unshift(i),this.setData({batches:e})},loadVideos(){const e=(0,ve.h)().getFeatureLimit("export");let t=(()=>{let e=!1;const t=()=>e,n=()=>e=!0,i=e=>rg.all({origin:"newUpload",onlyPublic:!1,stop:t,pageCallback:e});return{all:()=>({cancel:n,start:i})}})();this.data.channel&&(t=new AX(this.data.channel));const{start:n,cancel:i}=t.all();n((t=>{if(this.data.cancelled)return i();let n;if(e&&(n=e-this.data.exports.length,n<t.videos.length&&i(),n<=0))return;const r=e?t.videos.slice(0,n):t.videos,a=this.data.exports.concat(L().map(r,(e=>gS.fromVideo(e))));let o=Math.min(t.totalVideos,e||t.totalVideos);!isFinite(o)&&e&&(o=e),this.setData({exports:a,total:o})})).then((()=>{this.setData({total:this.data.exports.length})})).catch((e=>{Me.Z.error("Error while mass extracting videos",e)}))},getBatch(){if(!this.data.batches.length)return;const e=this.data.batches[0];return L().compact(L().map(this.data.exports.slice(0,e[1]),(e=>{if(1!==e.progress)return{progress:e.progress,video:e._video}}))).slice(0,this.BATCH_SIZE)},getData(){const e=this.getTotalProgress(),t=this.data;return{started:!!t.startedAt,finished:!!t.finishedAt,startedAt:t.startedAt,finishedAt:t.finishedAt,csvUrl:t.csvUrl,progress:this._lastTotalProgress||0,pageProgress:this._lastBatchProgress||0,currentPage:Math.max(t.batches.length,1),batch:this.getBatch(),payload:t.payload,eta:we.Z.eta(t.startedAt,e)}}});IX.dispatchToken=ko.Z.register((e=>{const t=IX,n=xX;switch(e.action){case n.START:t.start(e.channel);break;case n.CANCEL:t.cancel();break;default:return!0}}));const OX=IX,NX=Oo()({displayName:"MassExport",getDefaultProps:()=>({channel:{}}),getInitialState(){return this.getStateFromStores()},getStateFromStores:()=>OX.getData(),componentDidMount(){vS("channel videos"),OX.addChangeListener(this.onStoreChange),this.props.channel||(0,ve.h)().getCurrentChannel()},componentDidUpdate(e,t){!(t||{}).finished&&this.state.finished&&dt("Completed Mass CSV Export")},componentWillUnmount(){OX.removeChangeListener(this.onStoreChange),OX.reset(),this.isRunning()&&CX.cancel()},isRunning(){return!this.state.finished&&this.state.started},onStoreChange(){this.setState(this.getStateFromStores(),(function(){this.setModalButtons()}))},onClickDownload(){yS("channel videos"),dt("Clicked Download CSV")},setModalButtons(){let e=[];this.isRunning()?(cs.tighten(),e=["cancel"]):cs.relax(),cs.setButtons(e)},csvName(){const e=wt()(this.state.finishedAt).format("YYYY-MM-DD"),t=this.props.channel.name?this.props.channel.name:((0,ve.h)()._cachedChannel||{}).name;return(0,ai.Z)("downloadName",[t])+" "+e+".csv"},render(){let e;return e=this.state.finished?this.finishedPart():this.state.started?h.createElement(DX,{data:this.state}):h.createElement(FX,{channel:this.props.channel}),h.createElement("div",{className:"mass-export-container"},e)},finishedPart(){const e=Math.round((this.state.finishedAt-this.state.startedAt)/1e3),t=we.Z.sec2fancy(e),n=this.state.payload.length;let i=ai.Z.html("exportedOneVideo",[t]);return n>1&&(i=ai.Z.html("exportedNVideos",[n,t])),h.createElement("div",{className:"mass-export-finished"},h.createElement("p",{className:"summary"},i),h.createElement("div",{className:"download-csv"},h.createElement("a",{className:"vidiq-button",href:this.state.csvUrl,target:"new",download:this.csvName(),onClick:this.onClickDownload},(0,ai.Z)("downloadCSVTitle"))),h.createElement(SX,{rows:this.state.payload}),h.createElement("p",{className:"preview-label"},(0,ai.Z)("CSVPreview")))}}),PX=NX,RX=we.Z.keyMirror(["FETCH_CHANNELS","SELECT_CHANNEL","DESELECT_CHANNEL","SELECT_ALL","DESELECT_ALL","MASS_LIKE"],"MASS_LIKE"),jX={fetchChannels(){ko.Z.dispatch({action:RX.FETCH_CHANNELS})},selectChannel(e){ko.Z.dispatch({action:RX.SELECT_CHANNEL,channelId:e})},deselectChannel(e){ko.Z.dispatch({action:RX.DESELECT_CHANNEL,channelId:e})},selectAll(){ko.Z.dispatch({action:RX.SELECT_ALL})},deselectAll(){ko.Z.dispatch({action:RX.DESELECT_ALL})},massLike(e){ko.Z.dispatch({action:RX.MASS_LIKE,videoId:e})}},LX=Oo()({displayName:"MassLikeChannel",render(){return h.createElement("span",{className:"mass-like-channel mass-like-checkbox"},h.createElement("input",{type:"checkbox",id:this.props.channel.id,checked:this.props.selected,onChange:this.props.onToggleChannel}),h.createElement("label",{htmlFor:this.props.channel.id},h.createElement("img",{className:"mass-like-channel-avatar",src:this.props.channel.avatar,alt:""}),h.createElement("span",{className:"mass-like-channel-name"},this.props.channel.name)))}}),qX={massLikeVideo(e,t){if(we.Z.dryRun())return we.Z.simulateRequest();const n=new(r().Deferred);return(0,ve.h)().getCurrentChannel(!0).then((i=>{if(!i)return n.reject((0,ai.Z)("mustLinkChannel"));const r=(0,ve.h)().getChannelToken(i.channel_id);P.Z.expanded("vidiq.massLike",{channelToken:r,vid:e,channels:t}).then((({response:e,json:t})=>{if(!e.ok){const e="mfa_required"===t.error?(0,ai.Z)("mfaRequired"):(0,ai.Z)("unknownError");return n.reject(e)}n.resolve(t)}))})).catch((e=>n.reject(e))),n.promise()}},ZX=qX,BX=new ds.Z("MassLikeStore",{_data:{loading:!0,finished:!1,successful:!1,message:null,channels:[],selected:[]},fetchChannels(){(0,P.Z)("vidiq.channels").then((e=>{this.setData({loading:!1,channels:e.channels})}))},selectChannel(e){const t=this.data.selected.concat(e);this.setData({selected:t})},deselectChannel(e){const t=L().without(this.data.selected,e);this.setData({selected:t})},selectAll(){const e=L().pluck(this.data.channels,"id");this.setData({selected:e})},deselectAll(){this.setData({selected:[]})},massLike(e){cs.lock(),ZX.massLikeVideo(e,this.data.selected).done((()=>{const e=this.data.selected.length;let t=(0,ai.Z)("successfullyAddedOneLike");e>1&&(t=(0,ai.Z)("successfullyAddedNLikes",[e])),this.setData({successful:!0,message:t})})).fail((e=>{this.setData({message:(0,ai.Z)("massLikeFail",[e])})})).always((()=>{this.setData({finished:!0}),cs.unlock()}))}});BX.dispatchToken=ko.Z.register((e=>{const t=BX,n=RX;switch(e.action){case n.FETCH_CHANNELS:t.fetchChannels();break;case n.SELECT_CHANNEL:t.selectChannel(e.channelId);break;case n.DESELECT_CHANNEL:t.deselectChannel(e.channelId);break;case n.SELECT_ALL:t.selectAll();break;case n.DESELECT_ALL:t.deselectAll();break;case n.MASS_LIKE:t.massLike(e.videoId);break;default:return!0}}));const VX=BX,zX=Oo()({displayName:"MassLikeBase",getInitialState:()=>VX.getData(),componentDidMount(){dt("Opened mass like",{video:{url:we.Z.getVideoUrl(this.props.video.id),value:this.props.video.title}}),VX.addChangeListener(this.onStoreChange),jX.fetchChannels()},componentWillUnmount(){VX.removeChangeListener(this.onStoreChange),VX.reset()},componentDidUpdate(){cs.setButtons(this.getButtons())},onStoreChange(){this.setState(VX.getData())},getButtons(){const e={text:(0,ai.Z)("massLikeThisVideo"),position:"right",onClick:this.onMassLike},t=this.state.loading,n=0===this.state.channels.length,i=0===this.state.selected.length,r=this.state.finished;let a=["cancel",e];return t?a=[]:n||r?a=["close"]:i&&(a[1].disabled=!0),a},onToggleChannel(e){const t=e.target.checked?"selectChannel":"deselectChannel";jX[t](e.target.id)},onToggleAll(e){const t=e.target.checked?"selectAll":"deselectAll";jX[t](e.target.id)},onMassLike(){dt("Mass like submitted",{video:{url:we.Z.getVideoUrl(this.props.video.id),value:this.props.video.title}}),jX.massLike(this.props.video.id)},messagePart(){if(!this.state.message)return;const e=this.state.successful?"vidiq-alert-success":"vidiq-alert-failure";return h.createElement("div",{className:"mass-like-message"},h.createElement("hr",{className:"mass-like-separator"}),h.createElement("p",{className:e},this.state.message))},render(){if(this.state.loading)return h.createElement(os,{classes:"modal-spinner",size:"big"});if(0===this.state.channels.length)return h.createElement("h2",{className:"vidiq-no-items"},(0,ai.Z)("couldNotFindOwnedChannels"));const e=this.state.selected.length===this.state.channels.length,t=this.state.channels.map(((e,t)=>h.createElement(LX,{key:t,channel:e,selected:L().contains(this.state.selected,e.id),onToggleChannel:this.onToggleChannel})));return h.createElement("div",{className:"vidiq-mass-like"},h.createElement("p",null,ai.Z.html("selectLikingChannels")),h.createElement("div",{className:"mass-like-video"},h.createElement("strong",null,(0,ai.Z)("videoToBeMassLiked")),h.createElement("img",{className:"mass-like-video-thumbnail",src:this.props.video.thumbnail,alt:""}),h.createElement("span",{className:"mass-like-video-title"},this.props.video.title)),h.createElement("div",{className:"mass-like-channels"},t),h.createElement("div",{className:"mass-like-checkbox"},h.createElement("hr",{className:"mass-like-separator"}),h.createElement("input",{type:"checkbox",id:"mass-like-select-all",checked:e,onChange:this.onToggleAll}),h.createElement("label",{htmlFor:"mass-like-select-all"},(0,ai.Z)("selectAllTitle"))),this.messagePart())}}),UX=zX,WX=Oo()({displayName:"MyVideosLoadControl",getInitialState(){return this.getStateFromStores()},getStateFromStores:()=>cK.getData(),componentDidMount(){cK.addChangeListener(this.onStoreChange)},componentWillUnmount(){cK.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState(this.getStateFromStores)},render(){const e=this.state.totalPages,t=this.state.currentPage,n=e-t,i=Math.max(t,1);let r;const a=isFinite(e)&&L().isNumber(e);let o=null,s=ai.Z.html("pageStatus",[i]);return a&&(s=ai.Z.html("pageStatusTotalKnown",[i,e])),n>0&&a&&(1===n&&(o=(0,ai.Z)("singularPageLeftTitle")),n>1&&(o=(0,ai.Z)("pluralPagesLeftTitle"))),(this.state.finished||n<=0)&&(r=h.createElement("span",null,(0,ai.Z)("allVideosLoaded"))),r=this.state.arrested||!this.state.loading?h.createElement("div",{className:"resume-loading"},h.createElement("strong",null,(0,ai.Z)("nVideos",this.state.videos.length)),h.createElement("button",{className:"btn btn-small",onClick:dK.continue},(0,ai.Z)("loadMoreTitle")," — ",o)):h.createElement("div",{className:"loading-videos"},h.createElement(os,null),h.createElement("span",null,(0,ai.Z)("loadingVideosTitle")," — ",s),h.createElement("button",{className:"btn btn-small",onClick:dK.cancel},(0,ai.Z)("thatsEnoughTitle"))),h.createElement("div",{className:"video-loader"},r)}}),HX=WX,YX=we.Z.keyMirror(["UPDATE"],"VIDEO_INFO"),$X={update(e,t){ko.Z.dispatch({id:e,payload:t,action:YX.UPDATE})},getSocialStats(e){cL(e,["public_api_stats"],(t=>{t.public_api_stats||(t.public_api_stats={});const n={socialMedia:{youtube:{likes:t.public_api_stats.likes||0,dislikes:t.public_api_stats.dislikes||0,comments:t.public_api_stats.comments||0,total:0}},engagementRate:0,total:0};L().each(n.socialMedia,(e=>{0===e.total&&(e.total=L().reduce(L().values(e),((e,t)=>e+t),0)),n.total+=e.total}),this);const i=n.total/(t.public_api_stats.views||0)*100;n.engagementRate=isFinite(i)?i.toFixed(2):0,this.update(e,{socialStats:n})}))},scrapeVideoPage(e){fetch(we.Z.getVideoUrl(e),{credentials:"omit"}).then((e=>{if(e.ok)return e.text();throw new Error(e.status)})).then((t=>{this.update(e,{keywords:JP(t),searchedForKeywords:!0})}))}},KX=$X,GX=Oo()({displayName:"SearchInlineER",render(){if(!this.props.engagementRate)return null;const e="engagement-rate-"+this.props.videoId,t=(0,ai.Z)("engagementRateTooltip");return h.createElement("span",{id:e,className:"engagement-rate","data-tip-message":t},h.createElement("span",{className:"value"},this.props.engagementRate)," ",h.createElement("span",{className:"percent"},"%"),h.createElement("span",{className:"label"},(0,ai.Z)("engagementRateER")))}}),XX=Oo()({displayName:"SearchInlinePopover",getInitialState:()=>({show:!1,left:0}),UNSAFE_componentWillMount(){r()(window).on("vidiq:popover:"+this.getTriggerName()+":toggle",this.togglePopover)},componentWillUnmount(){r()(window).off("vidiq:popover:"+this.getTriggerName()+":toggle",this.togglePopover)},getTriggerName(){return this.props.type+"-"+this.props.videoId},togglePopover(e,t){this.setState({show:!this.state.show,left:t.left})},getI18n:e=>["likes","dislikes","comments","reactions","shares"].includes(e)?(0,ai.Z)(e):"No i18n for "+e,getIndividualStats(){return Object.entries(this.props.stats).map((([e,t])=>{if("total"===e)return null;const n="facebook"===this.props.type&&"likes"===e;return n&&IN.isAuthed()?null:h.createElement("p",{key:e,className:"individual-stat"},h.createElement("span",{className:"number"},n&&h.createElement("span",{className:"approx"},"≈"),we.Z.numbro(t))," "+this.getI18n(e))}))},render(){const e=this.props.type+"-stats-"+this.props.videoId,t=chrome.runtime.getURL("images/vidiq_dark.svg"),n={left:this.state.left,opacity:this.state.show?1:0,visibility:this.state.show?"visible":"hidden"};return h.createElement("div",{id:e,className:"popover",style:n},h.createElement("div",{className:"stat-container"},this.getIndividualStats()),h.createElement("p",{className:"powered-by"},(0,ai.Z)("poweredBy")," ",h.createElement("img",{src:t,alt:""})))}}),QX=XX,JX=Oo()({displayName:"SearchInlineStat",togglePopover(e){if(this.props.tooltip)return;const t=e.target.offsetLeft,n=this.props.type+"-"+this.props.videoId;r()(window).trigger("vidiq:popover:"+n+":toggle",{left:t})},render(){if(!isFinite(this.props.total))return null;const e="stat "+this.props.type+"-stats",t="#"+this.props.type+"-stats-"+this.props.videoId;return h.createElement("span",{className:e,"data-tip-message":this.props.tooltip,"data-popover":t,onMouseEnter:this.togglePopover,onMouseLeave:this.togglePopover},we.Z.numbro(this.props.total))}}),eQ=JX,tQ={stores:{},id(e){return this.stores[e]?this.stores[e]:this.create(e)},create(e){e||(e=we.Z.prettyRandomId());const t=new ds.Z("VideoInfoStore["+e+"]",{_data:{videoId:e,socialStats:null,keywords:null,searchedForKeywords:!1,title:null,scraped:null,vph:null}});return this.stores[e]=t,this.stores[e]}};tQ.dispatchToken=ko.Z.register((e=>{if(!e.id)return;const t=tQ.stores[e.id],n=YX;if(t&&e.action===n.UPDATE)L().extend(t.data,e.payload),t.emitChange()}));const nQ=tQ,iQ=e=>{if(!e)return;const t=e.closest("ytd-video-renderer");if(!t)return;t.classList.add("vidiq-hijacked-lockup-video");const n=(0,Ee.Z)()?t.querySelector("a.yt-simple-endpoint"):t.querySelector(".yt-uix-tile-link"),i=n&&n.getAttribute("href");if(!i||i.match(/doubleclick\.net/))return;return{el:t,id:(i.split("=")[1]||"").split("&")[0]}},rQ=Oo()({displayName:"SearchInlineSocialStats",getInitialState:()=>({videoId:null,store:{}}),UNSAFE_componentWillMount(){this._interval=setInterval(this.checkId,1e3),this.checkId()},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange),clearInterval(this._interval)},checkId(){const e=iQ(this.props.container);e&&e.id!==this.state.videoId&&(this.store&&this.store.removeChangeListener(this.onStoreChange),this.store=nQ.id(e.id),this.store.addChangeListener(this.onStoreChange),KX.getSocialStats(e.id),this.setState({videoId:e.id,store:this.store.getData()}))},onStoreChange(){this.setState({store:this.store.getData()})},getTooltip(e){if(!this.props.tooltipsOnly)return null;const t=this.state.store.socialStats.socialMedia[e];return"youtube"===e?"<div>"+t.likes+" "+(0,ai.Z)("likes")+"<br />"+t.dislikes+" "+(0,ai.Z)("dislikes")+"<br />"+t.comments+" "+(0,ai.Z)("comments")+"</div>":""},render(){if(!this.state.store.socialStats)return null;const e=["youtube"],t=e.map(((e,t)=>h.createElement(eQ,{key:t,type:e,videoId:this.state.videoId,total:this.state.store.socialStats.socialMedia[e].total,tooltip:this.getTooltip(e)}))),n=this.props.tooltipsOnly?null:e.map(((e,t)=>h.createElement(QX,{key:t,type:e,videoId:this.state.videoId,stats:this.state.store.socialStats.socialMedia[e]}))),i=parseInt(this.state.store.socialStats.engagementRate,10),r=Fo()("vidiq-social-stats",{"new-layout":(0,Ee.Z)()});return h.createElement("div",{className:r},t,n,h.createElement(GX,{engagementRate:i,videoId:this.state.videoId}))}}),aQ=rQ,oQ=Oo()({displayName:"PreviewPopup",getInitialState(){return this.store=nQ.id(this.props.videoId),{store:this.store.getData()}},UNSAFE_componentWillReceiveProps(e){this.store=nQ.id(e.videoId),this.store.addChangeListener(this.onStoreChange),this.setState({store:this.store.getData()},(()=>{this.getKeywords()}))},UNSAFE_componentWillMount(){this.store.addChangeListener(this.onStoreChange),this.getKeywords()},componentWillUnmount(){this.store.removeChangeListener(this.onStoreChange)},onStoreChange(){this.setState({store:this.store.getData()})},displayKeywords(){return this.props.showTags&&JSON.parse(this.props.showTags)},getKeywords(){this.state.store.keywords||this.state.store.searchedForKeywords||!this.displayKeywords()||KX.scrapeVideoPage(this.props.videoId)},render(){const e=chrome.runtime.getURL("options.html");return h.createElement("div",{className:"vidiq-preview-popup"},h.createElement("div",{className:"content"},this.likeDislikeRatio(),h.createElement(aQ,{videoId:this.props.videoId,tooltipsOnly:!0}),h.createElement("a",{className:"settings",href:e,target:"_blank",rel:"noopener noreferrer",title:(0,ai.Z)("settings")},h.createElement("i",{className:"material-icons"},"settings")),this.keywords()))},likeDislikeRatio(){const e=this.state.store.socialStats.socialMedia.youtube,t=(e.likes/(e.likes+e.dislikes)*100).toFixed(2),n=h.createElement("i",{className:"material-icons"},"thumb_up");return isNaN(t)?null:h.createElement("div",{className:"like-ratio","data-tip-message":(0,ai.Z)("likeRatio")},h.createElement("div",{className:"percentage"},t),"%"," ",h.createElement("span",{className:"likes"},n))},onTagsScroll(e){e.stopPropagation()},keywords(){if(!this.displayKeywords())return null;if(!this.state.store.searchedForKeywords)return h.createElement(os,{size:"big"});const e=this.state.store.keywords&&!L().isEmpty(this.state.store.keywords),t=e?this.state.store.keywords.map(((e,t)=>h.createElement(pL,{key:t,keyword:e,li:!0}))):null,n=t?h.createElement("ul",{className:"keywords",onWheel:this.onTagsScroll},t):null,i=e?(0,ai.Z)("tags"):(0,ai.Z)("noTagsFound"),r=h.createElement("span",{className:"header"},i);return h.createElement("div",{className:"vidiq-popup-tags"},r,n)}});oQ.width=290;const sQ=oQ;class lQ extends h.Component{noReportMessage(){const e=chrome.runtime.getURL("images/important-icon.svg");return h.createElement("div",{className:"vidiq-no-report-message"},h.createElement("img",{src:e,alt:""}),h.createElement("div",{className:"vidiq-no-report-message-text"},(0,ai.Z)("notEnoughDataForSearchTerm")))}render(){if(!this.props.ok)return this.noReportMessage();const e=function(e){const t=e.type;let n=e.keyword;const i=e.date,r=n.match(/(.*) \(.*\)/);r&&r[1]&&(n=r[1]);const a={comparisonItem:[{keyword:n,geo:"",time:i}],category:0,property:"youtube"},o="gprop=youtube&q="+n+"&date="+i;return"https://trends.google.com:443/trends/embed/explore/"+t+"?req="+encodeURIComponent(JSON.stringify(a))+"&tz=420&eq="+encodeURIComponent(o)}({type:"RELATED_QUERIES",keyword:this.props.keyword,date:this.props.date||"all_2008"});return h.createElement("div",{className:"vidiq-queries-report"},h.createElement("iframe",{title:"vidiq-queries-report",src:e,width:this.props.width||414,height:this.props.height||313}))}}const cQ=lQ,uQ={},dQ=Oo()({displayName:"ReactPopover",statics:{setData(e,t){uQ[e]=L().extend({},this.getData(e),t)},getData:e=>uQ[e]||{},clearData(e){uQ[e]={}},setup(){r()(document).on("mouseenter mouseleave","[data-react-popover]",(function(e){const t=r()(this).attr("data-react-popover"),n=r()(this).attr("data-react-popover-props"),i=r()(this).attr("data-react-popover-config");let a;try{a=JSON.parse(i)||{}}catch(e){a={}}t&&("mouseenter"===e.type?dQ.mount(t,this,n,a):dQ.unmount(t))}))},unmountIfTargetGone(e){0===r()('[data-react-popover="'+e+'"').length&&this.unmountImmediate(e)},mount(e,t,n,i){const a=this.getData(e);a.timeout&&clearTimeout(a.timeout),this.unmountAllImmediate(e);let o=a.node?r()(a.node):null;o||(o=r()('<div class="react-popover-node"></div>').hide(),r()("body").append(o),o.on("mouseenter mouseleave",".react-popover",(t=>{"mouseenter"===t.type?clearTimeout(this.getData(e).timeout):this.unmount(e)})));const s=hD(e),l=h.createElement(s),c={target:t,targetName:e};L().extend(c,i||{}),c.position||(c.position="bottom"),c.align||(c.align="center"),n&&L().extend(c,{childProps:JSON.parse(n)}),L().isNumber(s.width)&&(c.width=s.width);const u=h.createElement(dQ,c,l);Yo.render(u,o[0]),r()(t).addClass("popover-shown"),o.fadeIn("fast");const d=setInterval(L().partial(this.unmountIfTargetGone,e).bind(this),1e3);this.setData(e,{node:o[0],interval:d,timeout:null,target:t})},unmount(e){const t=L().partial(this.unmountImmediate,e).bind(this);this.setData(e,{timeout:setTimeout(t,300)})},unmountImmediate(e,t){const n=this.getData(e);n&&n.node&&(r()(n.target).removeClass("popover-shown"),!1===t?(r()(n.node).hide(),Yo.unmountComponentAtNode(n.node),n.node.remove()):r()(n.node).fadeOut("fast",(()=>{Yo.unmountComponentAtNode(n.node),n.node.remove()})),clearInterval(n.interval),clearInterval(n.timeout),this.clearData(e))},unmountAllImmediate(e){L().map(L().keys(uQ),(function(t){e&&e===t||this.unmountImmediate(t,!1)}),this)}},node:h.createRef(),getInitialState(){return this.getState()},getState:()=>({scrollY:window.scrollY,height:0}),UNSAFE_componentWillMount(){window.addEventListener("scroll",this.onScroll)},componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)},componentDidMount(){setTimeout((()=>{const e=this.node.current.clientHeight;this.setState({height:e})}),1)},onScroll(){this.setState(this.getState())},onWheel(e){const t=e.currentTarget,n=t.scrollHeight-t.offsetHeight,i=t.scrollTop+e.deltaY;(i>n||i<0)&&(e.preventDefault(),e.stopPropagation()),i>n&&(t.scrollTop=n),i<0&&(t.scrollTop=0)},getStyle(){const e=this.props.target.getBoundingClientRect(),t=this.props.width||350;let n=e.height+5;"top"===this.props.position&&(n=-(this.state.height+5));const i=e.top+this.state.scrollY+n;let r=0;switch(this.props.align){case"center":r=e.left-(t-e.width)/2;break;case"left":r=e.left;break;case"right":r=e.left+e.width}return{position:"absolute",width:t+"px",top:i+"px",left:r+"px"}},render(){const e=h.Children.map(this.props.children,(e=>h.cloneElement(e,this.props.childProps))),t="react-popover vidiq-react popover-for-"+this.props.targetName;return h.createElement("div",{className:t,style:this.getStyle(),ref:this.node},!this.props.noTriangle&&h.createElement("div",{className:"triangle"}),h.createElement("div",{className:"popover-content",onWheel:this.onWheel},e))}}),hQ=dQ,pQ=Oo()({displayName:"SC_Header",statics:{mouseUpColor:"#ced1d1",mouseDownColor:"#9ea3a6"},render(){const e=Fo()("vision-header","vidiq-search-header","vidiq-search-section",{"vidiq-search-header-collapsed":this.props.collapsed});return h.createElement("header",{className:e},h.createElement("a",{href:Su("http://vidiq.com"),title:(0,ai.Z)("visitVidIQ"),target:"_blank",rel:"noopener noreferrer"},h.createElement("div",{id:"vidiq-search-header-logo"})),h.createElement("div",{className:"vidiq-search-toggle-container",onClick:this.props.collapse},h.createElement("span",{className:"vidiq-search-toggle-text"},(0,ai.Z)("searchPanel")),h.createElement(yZ,{enabled:!this.props.collapsed})))}}),fQ=["#EB2323","#FF8A00","#FFB800","#C3EB23","#44D14A"];const mQ=function(e){const t=Math.max(Math.min(Math.floor(e/(100/fQ.length)),fQ.length-1),0);return fQ[t]};class gQ extends h.Component{getMeterBarSections(){return fQ.map(((e,t)=>{const n=Fo()("vidiq-search-scores-meter-bar-section",{"vidiq-first-bar-section":0===t,"vidiq-last-bar-section":t===fQ.length-1});return h.createElement("div",{key:e,style:{background:e},className:n})}))}getMarker(){const e=chrome.runtime.getURL("images/rounded-triangle.svg"),t=this.props.reverse?100-this.props.value:this.props.value,n={left:`${Math.round(t)}%`},i=this.props.generalText||this.props.value;return h.createElement("div",{className:"vidiq-search-scores-meter-bar-marker",style:n},h.createElement("div",{className:"vidiq-search-scores-meter-bar-marker-label"},i),h.createElement("img",{src:e,className:"vidiq-search-scores-meter-bar-marker-triangle",alt:""}))}render(){return"number"!=typeof this.props.value?null:h.createElement("div",{className:"vidiq-search-scores-meter-container"},h.createElement("div",{className:"vidiq-search-scores-meter-label"},this.props.label),h.createElement("div",{className:"vidiq-search-scores-meter-bar"},this.getMeterBarSections(),this.getMarker()))}}gQ.defaultProps={value:0};const vQ=gQ;function yQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bQ extends h.Component{constructor(...e){super(...e),yQ(this,"getPath",(()=>{const e=bQ.radius,t=bQ.center;return`M ${t.x-e},${t.y} A ${e},${e} 0 0,1 ${t.x+e},${t.y}`})),yQ(this,"getScorePath",(()=>{const e=bQ.radius,t=bQ.center,n=this.getRadiansFromValue(this.props.value),i=t.x-e*Math.cos(n),r=t.y-e*Math.sin(n);return`M ${t.x-e},${t.y} A ${e},${e} 0 0,1 ${i},${r}`})),yQ(this,"getLine",(e=>{const t=bQ.radius,n=bQ.center,i=bQ.strokeWidth,r=t+i/2,a=t-i/2,o=`M ${n.x-r*Math.cos(e)},${n.y-r*Math.sin(e)} L ${n.x-a*Math.cos(e)},${n.y-a*Math.sin(e)}`;return h.createElement("path",{key:e,className:"vidiq-search-overall-score-graphic-line",stroke:"#FFF",strokeWidth:"1",fill:"none",d:o})})),yQ(this,"getLines",(()=>{let e=Math.PI/5;const t=e,n=[];for(;e<Math.PI;)n.push(this.getLine(e)),e+=t;return n}))}getRadiansFromValue(e){return 180*(e-=2)/100*Math.PI/180}render(){if("number"!=typeof this.props.value)return null;const e=`0 0 ${bQ.width} ${bQ.height}`;return h.createElement("div",{className:"vidiq-search-overall-score-graphic"},h.createElement("svg",{viewBox:e},h.createElement("path",{stroke:"#EAEAEA",strokeWidth:bQ.strokeWidth,strokeLinecap:"round",fill:"none",d:this.getPath()}),h.createElement("path",{stroke:mQ(this.props.value),strokeWidth:bQ.strokeWidth,strokeLinecap:"round",fill:"none",d:this.getScorePath()}),this.getLines()),h.createElement("div",{className:"vidiq-search-overall-score-number"},h.createElement("div",{className:"vidiq-search-overall-score-number-main"},this.props.value),h.createElement("div",{className:"vidiq-search-overall-score-number-out-of"},(0,ai.Z)("outOfHundred"))))}}bQ.width=350,bQ.height=120,bQ.radius=75,bQ.center={x:bQ.width/2,y:bQ.height/2+bQ.radius/2},bQ.strokeWidth=10;const _Q=bQ,wQ=Oo()({displayName:"SC_KeywordScore",statics:{overallCategories:["veryLow","low","medium","high","veryHigh"]},getInitialState:()=>({showInfoCard:!1}),componentDidMount(){document.addEventListener("mousedown",this.handleClick,!1)},componentWillUnmount(){document.removeEventListener("mousedown",this.handleClick,!1)},handleClick(e){!this.infoCardNode||this.infoCardNode.contains(e.target)||this.closeBtnNode.contains(e.target)||this.toggleInfoCard()},toggleInfoCard(){this.setState({showInfoCard:!this.state.showInfoCard})},getCompvol(){if(!this.props.searchStats)return{};const e=Object.values(this.props.searchStats.compvol||{})[0];return Object.entries(e).forEach((([t,n])=>{e[t]=Math.round(n)})),e||{}},generalText(e){if(!e&&"number"!=typeof e)return null;const t=Math.min(Math.floor(e/20),4),n=wQ.overallCategories[t];return(0,ai.Z)(`${n}Score`)},infoCard(){return this.state.showInfoCard?h.createElement("div",{className:"vidiq-search-section-popover",ref:e=>this.infoCardNode=e},ai.Z.html("overallInfoCardText")):null},render(){const e=this.getCompvol(),t=Fo()("vidiq-search-section-header-info",{"vidiq-popover-visible":this.state.showInfoCard}),n=this.props.loading?h.createElement(os,{size:"small"}):this.generalText(e.overall);return h.createElement("div",{className:"vidiq-search-scores vidiq-search-section"},h.createElement("div",{className:"vidiq-search-section-header vidiq-search-scores-header"},h.createElement("div",{className:"vidiq-search-scores-header-text"},(0,ai.Z)("overallScore"),": ",n),h.createElement("div",{className:t,onClick:this.toggleInfoCard,ref:e=>this.closeBtnNode=e},this.state.showInfoCard?"×":"?")),h.createElement(_Q,{value:e.overall}),h.createElement(vQ,{id:"searchVolume",value:e.volume,label:(0,ai.Z)("volumeLabel")}),h.createElement(vQ,{id:"competition",value:e.competition,label:(0,ai.Z)("competitionLabel"),reverse:!0,generalText:this.generalText(e.competition)}),this.infoCard())}}),kQ=wQ,xQ=({response:e,text:t})=>{if(!e.ok)throw new Error(e.status);const n=t.split("\n")[1];return JSON.parse(n)};const EQ={getDataExists(e,t){return new Promise(((n,i)=>{let a=e.keyword;Array.isArray(a)||(a=[a]);const o=a.map((t=>({keyword:t,geo:"",time:e.date}))),s={hl:"en-US",req:JSON.stringify({comparisonItem:o,category:0,property:"youtube"}),tz:300};P.Z.expanded("google.trends",{path:"explore",params:s}).then(xQ).then((e=>{const i=t?[this.getQueryDataExists(e)]:[this.getTimeDataExists(e),this.getQueryDataExists(e)];r().when(...i).then(((...e)=>((0,Y.Z)("GoogleTrends.getDataExists >>>",e),e))).then(n)})).catch(i)}))},getTimeDataExists(e){const t=new(r().Deferred),n=e.widgets[0].token,i={hl:"en-US",req:JSON.stringify(e.widgets[0].request),token:n,tz:300};return P.Z.expanded("google.trends",{path:"widgetdata/multiline",params:i}).then(xQ).then(t.resolve).catch(t.reject),t.promise()},getQueryDataExists(e){const t=new(r().Deferred),n=e.widgets[3].token,i={hl:"en-US",req:JSON.stringify(e.widgets[3].request),token:n,tz:300};return P.Z.expanded("google.trends",{path:"widgetdata/relatedsearches",params:i}).then(xQ).then(t.resolve).catch(t.reject),t.promise()}},CQ=EQ,SQ=Oo()({displayName:"SC_QueriesReport",getInitialState:()=>({queriesReady:!1,queriesOk:!1}),componentDidMount(){this.loadQueriesReports()},loadQueriesReports(){CQ.getDataExists({keyword:[this.props.keyword],date:"all_2008"},!0).then((e=>{this.setState({queriesOk:e[0].default.rankedList[0].rankedKeyword.length>0,queriesReady:!0})}))},render(){return h.createElement("div",{className:"vidiq-search-section vidiq-search-queries-report-section"},h.createElement("div",{className:"vidiq-search-section-header vidiq-search-queries-report-header"},h.createElement("div",{className:"vidiq-search-queries-report-header-main"},(0,ai.Z)("relatedQueriesTitle")),h.createElement("div",{className:"vidiq-search-queries-report-header-secondary"},(0,ai.Z)("dataFromGoogleTrends"))),this.state.queriesReady?h.createElement(cQ,{keyword:this.props.keyword,ok:this.state.queriesOk,width:(0,Ee.Z)()?355:274,height:320}):h.createElement(os,{size:"big",container:!0}))}}),TQ=we.Z.keyMirror(["REGISTER_RESULT","PROCESS_RESULT","NO_RESULTS"],"SEARCH_STATS"),DQ={registerResult(e){Ds.push((()=>{const t=new(r().Deferred);return IQ.processElement(e,we.Z.searchTerm()).then(t.resolve).catch(t.reject),t.promise()}),"search-statistics"),ko.Z.dispatch({action:TQ.REGISTER_RESULT})},processResult(e){ko.Z.dispatch({data:e,action:TQ.PROCESS_RESULT})},noResultsFound(){ko.Z.dispatch({action:TQ.NO_RESULTS})}},FQ=new ds.Z("SearchStatsStore",{_data:{numResults:0,totalViews:0,totalSubs:0,totalMs:0,highestViews:0,avgViews:null,avgSubscribers:null,addedLast7Days:0,closedCaptions:0,avgAge:null,timesInTitle:0,timesInDesc:0,creators:[],sortedCreators:[],pendingResults:0,loading:!0,noResults:!1}});FQ.dispatchToken=ko.Z.register((e=>{const t=FQ,n=TQ;switch(e.action){case n.NO_RESULTS:t.data.loading=!1,t.data.noResults=!0,t.emitChange();break;case n.REGISTER_RESULT:t.data.loading=!0,t.data.pendingResults+=1,t.emitChange();break;case n.PROCESS_RESULT:t.data.pendingResults>0&&(t.data.pendingResults-=1,0===t.data.pendingResults&&(t.data.sortedCreators=IQ.sortCreators(t.data.creators),t.data.loading=!1)),L().extend(t.data,e.data),t.emitChange()}}));const MQ=FQ,AQ={videoLinks:[],getVideosSelector:()=>(0,Ee.Z)()?"ytd-video-renderer:not([hidden]).ytd-item-section-renderer a#video-title":".yt-lockup-video .yt-lockup-title a",resetData(){go.Z.clear(this.getVideosSelector()),Ds.cancel("search-statistics"),MQ.reset(),this.videoLinks=[]},watchResults(){const e=setTimeout((()=>{document.querySelector("ytd-background-promo-renderer")&&(go.Z.clear(this.getVideosSelector()),DQ.noResultsFound(),clearInterval(e))}),1e4);go.Z.watch(this.getVideosSelector()).enter((t=>{clearInterval(e),this.videoLinks.indexOf(t.href)<0&&(this.videoLinks.push(t.href),DQ.registerResult(t.href))}))},async processElement(e){const t=MQ.getData();try{const n=await this.getVideoInfo(e);t.numResults+=1,t.totalViews+=n.views?n.views:0,t.totalSubs+=n.subscribers?n.subscribers:0,(!t.highestViews||n.views>t.highestViews)&&(t.highestViews=n.views),t.avgViews=t.totalViews/t.numResults,t.avgSubscribers=t.totalSubs/t.numResults,n.title.toLowerCase().includes(we.Z.searchTerm())&&(t.timesInTitle+=1),n.descriptionText.toLowerCase().includes(we.Z.searchTerm())&&(t.timesInDesc+=1);wt()().diff(n.publishedDate,"days")<=7&&(t.addedLast7Days+=1),n.captions&&(t.closedCaptions+=1),n.publishedDate&&(t.totalMs+=n.publishedDate);const i=t.totalMs/t.numResults;return t.avgAge=wt()(i).fromNow(!0),t.creators[n.channelName]||(t.creators[n.channelName]={videoCount:0,viewCount:0,channelName:n.channelName,channelUrl:n.channelUrl,channelThumbnail:n.channelThumbnail,channelSubsText:n.channelSubsText}),t.creators[n.channelName].videoCount+=1,t.creators[n.channelName].viewCount+=n.views||0,Promise.resolve()}catch(e){throw(0,ke.Z)("Error in processElement:",e),new Error(e)}finally{DQ.processResult(t)}},async getVideoInfo(e){const t=await fetch(`${e}&hl=en_US&ucbcb=1`,{credentials:"omit"});if(!t.ok)throw(0,ke.Z)("Error in SearchStats for getVideoInfo",e,t.status),new Error(t.status);const n=await t.text(),i=xe(n);if(!i||!i.contents)throw(0,ke.Z)("Error in SearchStats for getVideoInfo: videoPageData not found",e),new Error("videoPageData not found");const r=Tl(n);return Promise.resolve(this.scrapeVideoData(i,r))},scrapeVideoData(e,t){const n=e.contents.twoColumnWatchNextResults.results.results.contents,i=n.find((e=>void 0!==e.videoPrimaryInfoRenderer)).videoPrimaryInfoRenderer,r=n.find((e=>void 0!==e.videoSecondaryInfoRenderer)).videoSecondaryInfoRenderer,a=r.owner.videoOwnerRenderer,o=this.scrapeChannelSubscribers(a);let s=o.split(" ")[0];return s=ge()().unformat(s.toLowerCase()),{title:this.scrapeVideoTitle(i),views:this.scrapeVideoViews(i),publishedDate:this.scrapeVideoPublishedDate(i),descriptionText:this.scrapeVideoDescription(r),subscribers:s,channelSubsText:o,channelName:this.scrapeChannelName(a),channelUrl:this.scrapeChannelUrl(a),channelThumbnail:this.scrapeChannelThumbnail(a),captions:this.scrapeVideoCaptions(t)}},scrapeVideoTitle(e){let t=e.title.simpleText;return t||(t=e.title.runs[0].text),t},scrapeVideoDescription(e){const t=e.description;let n=t?t.simpleText:null;return t&&!n&&t.runs&&(n=t.runs.reduce(((e,t)=>e+t.text),"")),n||""},scrapeVideoViews(e){const t=e.viewCount.videoViewCountRenderer.viewCount.simpleText;return parseInt(t.replace(/[^(0-9)]+/g,""),10)},scrapeVideoPublishedDate(e){let t=e.dateText.simpleText.replace("Published on","").trim();return t=t.replace("Streamed live on","").trim(),t=t.replace("Started streaming","").trim(),t=t.replace("Premiered","").trim(),t.split(" ").indexOf("ago")>0?(t=t.replace("ago","").trim(),t=t.split(" "),t=wt()().subtract(parseInt(t[0],10),t[1]).valueOf()):t=wt()(t,"MMM DD, YYYY").valueOf(),t},scrapeChannelSubscribers(e){let t="0 subscribers";try{t=e.subscriberCountText.simpleText,t||(t=e.subscriberCountText.runs[0].text)}catch(e){}return t},scrapeChannelName:e=>e.title.runs[0].text,scrapeChannelUrl:e=>`https://www.youtube.com${e.navigationEndpoint.browseEndpoint.canonicalBaseUrl}`,scrapeChannelThumbnail:e=>e.thumbnail.thumbnails[0].url,scrapeVideoCaptions(e){const t=we.Z.safely((()=>{const t=e.captions;if(!t)return!1;const n=t.playerCaptionsTracklistRenderer.captionTracks;return!(!n||!n.length)&&n.some((e=>!e.kind||"asr"!==e.kind))}));return t},sortCreators(e){const t=Object.values(e);return t.sort(((e,t)=>t.videoCount-e.videoCount||t.viewCount-e.viewCount)),t}},IQ=AQ,OQ=Oo()({displayName:"SC_Statistics",statics:{nobreakStats:["addedLast7Days","closedCaptions"],statNames:["highestViews","avgViews","avgSubscribers","addedLast7Days","closedCaptions","avgAge","timesInTitle","timesInDesc","topCreator"]},componentDidMount(){IQ.resetData(),setTimeout((()=>{IQ.watchResults()}),1e3)},onCreatorClick(){const e=this.props.searchStatsData.sortedCreators[0].channelUrl;window.open(e)},styleKey:e=>"avgSubscribers"===e?(0,ai.Z)(e):"closedCaptions"===e?(0,ai.Z)("scCcTitle"):(0,ai.Z)("sc"+we.Z.camelCase(we.Z.capitalize(e))+"Title"),loading(){return this.props.searchStatsData.loading?h.createElement("div",{className:"vidiq-sc-stats-loading"},h.createElement(os,{classes:"vidiq-sc-stats-loading-spinner"}),h.createElement("p",{className:"vidiq-sc-stats-loading-message"},(0,ai.Z)("scStatisticsProcessingResults"))):null},stats(){if(this.props.searchStatsData.loading)return!1;const e=L().map(OQ.statNames,(e=>{let t=this.props.searchStatsData[e];if("topCreator"===e&&(t=this.props.searchStatsData.sortedCreators[0]),null==t)return null;const n=Fo()("vidiq-search-term-stat",{nobreak:OQ.nobreakStats.indexOf(e)>=0,topCreator:"topCreator".indexOf(e)>=0}),i="topCreator".indexOf(e)>=0?this.onCreatorClick:null;let r=L().isNumber(t)?ge()(t).format("0,0"):t;return"addedLast7Days"!==e&&"closedCaptions"!==e&&"timesInTitle"!==e&&"timesInDesc"!==e||(r=`${r}/${this.props.searchStatsData.numResults}`),"topCreator"===e&&(r=t.channelName),h.createElement("div",{key:e,className:n},h.createElement("span",{className:"vidiq-search-term-stat-key"},this.styleKey(e),":"," "),h.createElement("span",{className:"vidiq-search-term-stat-value",onClick:i},r))}));return h.createElement("div",{className:"vidiq-search-term-stats"},e)},render(){return h.createElement("div",{className:"vidiq-search-term-section vidiq-search-section"},h.createElement("div",{className:"dark vidiq-search-term-title"},(0,ai.Z)("searchTermTitle")),h.createElement("div",{className:"vidiq-search-term"},this.props.searchTerm),this.stats(),this.loading())}}),NQ=OQ;function PQ(){return PQ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},PQ.apply(this,arguments)}function RQ(e){return h.createElement("svg",PQ({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 16"},e),h.createElement("path",{fill:"#FFC71C",d:"M1.54 12.53h10.92c.35 0 .62-.09.82-.26.2-.17.31-.4.31-.7 0-.23-.06-.46-.2-.68a3.3 3.3 0 00-.48-.64l-.6-.6a1.53 1.53 0 01-.37-.6 4.86 4.86 0 01-.2-.84c-.04-.3-.08-.6-.1-.9a9.63 9.63 0 00-.33-2.25 4.49 4.49 0 00-.84-1.67c-.37-.46-.85-.8-1.44-1a2.42 2.42 0 00-.74-1.14c-.36-.3-.8-.46-1.3-.46s-.93.15-1.28.46c-.36.3-.6.68-.75 1.13-.58.22-1.07.55-1.44 1-.37.46-.65 1.02-.84 1.68a9.9 9.9 0 00-.32 2.25l-.11.9c-.05.3-.11.58-.2.83-.09.25-.2.46-.37.61l-.6.6c-.2.2-.36.42-.49.64-.12.22-.18.45-.18.69 0 .29.1.52.3.69.2.17.48.26.83.26zm5.45 2.81a2.2 2.2 0 001.85-.93c.19-.28.3-.6.33-.92H4.82c.03.33.14.64.33.92a2.23 2.23 0 001.85.94z"}))}const jQ=xs,LQ=Qn("div",{target:"educ0687"})({name:"lb553l",styles:"padding:16px;html[dark='true'],html[dark=''] &{background-color:#000;}"}),qQ=Qn("div",{target:"educ0686"})({name:"14ucxjl",styles:"margin:0;padding-top:0;html[dark='true'],html[dark=''] &{color:#fff;}"}),ZQ=Qn("div",{target:"educ0685"})({name:"1s40n54",styles:"display:flex;align-items:center;margin:16px 0;padding:8px;background-color:#f5f9ff;border-radius:8px;html[dark='true'],html[dark=''] &{background-color:#303030;}"}),BQ=Qn("div",{target:"educ0684"})({name:"24fk92",styles:"display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:8px;margin-right:8px;width:32px;height:32px;svg{width:17px;height:17px;}html[dark='true'],html[dark=''] &{background-color:#666;}"}),VQ=Qn("p",{target:"educ0683"})({name:"twyijo",styles:"font-size:14px;font-weight:500;line-height:17px;color:#252626;html[dark='true'],html[dark=''] &{color:#fff;}"}),zQ=Qn("button",{target:"educ0682"})({name:"qc70n3",styles:"font-size:14px;font-weight:500;line-height:18px;padding:10px;border-radius:100px;width:100%;cursor:pointer"}),UQ=Qn(zQ,{target:"educ0681"})({name:"1p06y9v",styles:"color:#139dff;background-color:transparent;.vidiq-search-companion &{border:1px solid #139dff;}&:hover{color:rgba(#139dff, 0.8);border-color:rgba(#139dff, 0.8);}html[dark='true'] .vidiq-search-companion,html[dark=''] .vidiq-search-companion &{border:1px solid #139dff;}"}),WQ=Qn(zQ,{target:"educ0680"})({name:"7km8mx",styles:"color:#fff;background-image:linear-gradient(114.94deg, #0979ff 9.66%, #5a06cb 87.27%)"}),HQ=({searchTerm:e})=>{const[t,n]=(0,h.useState)(!0),[i,r]=(0,h.useState)(!1),[a,o]=(0,h.useState)(!1),s=(0,ve.h)().getUserType(),l=(0,ve.h)().getFeatureLimit("createTrendAlert");return(0,h.useEffect)((()=>{!async function(){const e=(await cI.getAlerts()).length;r(e>=l),n(!1)}()}),[l]),t?null:h.createElement(LQ,{className:"vidiq-search-section"},h.createElement(qQ,{className:"vidiq-search-section-header"},h.createElement("div",null,(0,ai.Z)("neverMissATrendingVideo")),h.createElement("div",{className:Fo()("vidiq-search-section-header-info",{"vidiq-popover-visible":a}),onClick:()=>o(!a)},a?"×":"?")),a&&h.createElement("div",{className:"vidiq-search-section-popover"},ai.Z.html("trendAlertsPanelPopover")),h.createElement(ZQ,null,h.createElement(BQ,null,h.createElement(RQ,null)),h.createElement(VQ,null,e)),i?h.createElement(WQ,{as:jQ,SearchTrendAlerts:!0,resetClassName:!0,targetPlan:"basic"===s?"pro":"boost",text:"Upgrade to create a new alert"}):h.createElement(UQ,{onClick:()=>DO({selected:"trendalerts",launchSource:"search companion",passthroughProps:{initialKeyword:e}})},(0,ai.Z)("createAnEmailAlert")))};function YQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $Q extends h.Component{constructor(...e){super(...e),YQ(this,"state",{showAll:!1,showClickMenu:null}),YQ(this,"expandToggle",(()=>{this.setState({showAll:!this.state.showAll})})),YQ(this,"onClick",(e=>{this.props.forKwins&&(0,ve.h)().featurePermitted("kwinsMultiKeywords")?this.state.showClickMenu||this.setState({showClickMenu:e}):xM.setKeyword(e)})),YQ(this,"onCloseMenu",(()=>{this.setState({showClickMenu:null})}))}expandTogglePrompt(){return this.props.tags.length<=3?null:this.state.showAll?(0,ai.Z)("showFewerTitle"):`${(0,ai.Z)("showAllTitle")} (${this.props.tags.length})`}videoTags(){const e=this.props.tags.map(((e,t)=>h.createElement("div",{key:t,className:"vidiq-trending-video-tag"},this.props.addable&&h.createElement(GM,{keyword:e,namespace:this.props.namespace,hasAddedTag:this.props.userTags.indexOf(e)>=0}),h.createElement("div",{onClick:()=>this.onClick(e)},e),h.createElement($M,{keyword:e,display:this.state.showClickMenu===e,canAddToSearch:this.props.canAddToSearch,close:this.onCloseMenu}))));return this.state.showAll?e:e.slice(0,3)}render(){return h.createElement("div",{className:"vidiq-search-trending-video-tags"},this.videoTags(),h.createElement("div",{className:"vidiq-trending-video-tags-all",onClick:this.expandToggle},this.expandTogglePrompt()))}}const KQ=$Q,GQ=Oo()({displayName:"SC_TrendingVideos",getDefaultProps:()=>({showTags:!1,headerText:(0,ai.Z)("trendingVidsForTerm"),showFilter:!0}),getInitialState(){return{expanded:!1,country:this.props.trendingVidsData.country,language:this.props.trendingVidsData.language}},onFiltersUpdate(e){const t={};Object.entries(e).forEach((([e,n])=>{"_choose"===n&&(n=null),t[e]=n,n&&n!==this.state[e]&&PA(e,n)})),this.setState(t),So.fetch(t)},toggleExpand(){this.setState({expanded:!this.state.expanded})},openVideo(e,t){NA(t.id),this.props.forKwins&&Xo({location:"Keyword Inspector",channelId:t.channel_id,vph:t.vph}),window.open(`https://youtu.be/${t.id}`,"_blank")},videoListItem(e){const t=wt()(e.published_at).fromNow(),n=ge()(e.statistics.viewCount).format("0,0"),i=ge()(e.vph).format("0.0a").toUpperCase();return h.createElement("div",{key:e.id,className:"vidiq-search-trending-video"},h.createElement("div",{className:"vidiq-search-trending-video-primary"},h.createElement("div",{className:"vidiq-search-trending-video-thumb-container",onClick:()=>this.openVideo(null,e)},h.createElement("img",{className:"vidiq-search-trending-video-thumb",src:e.thumbnail,alt:e.title})),h.createElement("div",{className:"vidiq-search-trending-video-primary-info",onClick:()=>this.openVideo(null,e)},h.createElement("div",{className:"vidiq-search-trending-video-title"},e.title),h.createElement("div",{className:"vidiq-search-trending-video-channel-name-and-date"},e.channel_title," · ",t)),h.createElement(iM,{alignment:"right",alternate:!0},h.createElement(aM,{id:"View on YouTube",onClick:this.openVideo,data:e},(0,ai.Z)("viewOnYouTube")))),h.createElement("div",{className:"vidiq-search-trending-video-secondary"},h.createElement("div",{className:"vidiq-search-trending-video-views"},n," ",ai.Z.lower("viewsTitle")),h.createElement("div",{className:"vidiq-search-trending-video-text-separator"},"·"),h.createElement("div",{className:"vidiq-search-trending-video-vph"},i," ",(0,ai.Z)("vph"))),this.props.showTags&&h.createElement(KQ,{tags:e.tags,namespace:this.props.trendingVidsData.namespace,addable:this.props.addable,userTags:this.props.userTags,forKwins:this.props.forKwins,canAddToSearch:this.props.canAddToSearch}))},videosList(){let e=this.props.trendingVidsData.videos||[];if(!(0,ve.h)().featurePermitted("search")||!e.length)return null;e=e.slice(0,10),this.state.expanded||(e=e.slice(0,5));const t=e.map((e=>this.videoListItem(e)));return h.createElement("div",{className:"vidiq-search-trending-vids-list"},t,this.expandButton())},expandButton(){const e=this.props.trendingVidsData.videos;if(!(0,ve.h)().featurePermitted("search")||!e||!e.length||e.length<=5)return null;const t=this.state.expanded?(0,ai.Z)("showFewerTitle"):(0,ai.Z)("showAllNumVideos",[Math.min(e.length,10)]);return h.createElement("div",{className:"vidiq-search-trending-vids-expand",onClick:this.toggleExpand},t)},upsell(){if((0,ve.h)().featurePermitted("search"))return null;const e=(0,ai.Z)("upgradeToPlan",["Pro"]);return h.createElement("div",{className:"vidiq-search-trending-vids-upsell-img"},h.createElement(Gq,{upsell:this.props.forKwins?"KeywordInspectorVideos":"SearchRelatedVideos",classes:"vidiq-search-upsell vidiq-search-trending-vids-upsell",text:(0,ai.Z)("getAccessToTrendingVideos"),buttonText:e,targetPlan:"pro"}))},filters(){const e=this.props.trendingVidsData.videos;return(0,ve.h)().featurePermitted("search")&&e&&e.length?h.createElement(xG,{onUpdate:this.onFiltersUpdate},h.createElement(Fx,{key:"country",statKey:"country",type:"selector",label:(0,ai.Z)("countryTitle"),options:tl,selected:this.state.country}),h.createElement(Fx,{key:"language",statKey:"language",type:"selector",label:(0,ai.Z)("trendAlertsFormLanguageLabel"),options:OA,selected:this.state.language})):null},error(){const e=this.props.trendingVidsData||{},t=e.videos||[];return!(0,ve.h)().featurePermitted("search")||e.loading||t.length>0?null:h.createElement(IA,{text:(0,ai.Z)("noTrending")})},render(){return h.createElement("div",{className:"vidiq-search-section vidiq-search-trending-vids-section"},h.createElement("div",{className:"vidiq-search-section-header vidiq-search-trending-vids-header"},this.props.headerText),this.props.showFilter&&this.filters(),this.videosList(),vA.show(this.props.trendingVidsData.loading,!0),this.upsell(),this.error())}});class XQ extends h.Component{openChannel(e,t){window.open(t.url,"_blank")}topChannels(){const e=this.props.searchStatsData.sortedCreators;if(this.props.searchStatsData.loading||!e||!e.length)return null;const t=e.slice(0,3).map((e=>h.createElement("div",{key:e.channelName,className:"vidiq-search-top-channels-item"},h.createElement("a",{className:"vidiq-search-top-channels-link",href:e.channelUrl,target:"_blank",rel:"noopener noreferrer"},h.createElement("img",{className:"vidiq-search-top-channels-thumb",src:e.channelThumbnail,alt:e.channelName}),h.createElement("div",{className:"vidiq-search-top-channels-text"},h.createElement("div",{className:"vidiq-search-top-channels-name"},e.channelName),h.createElement("div",{className:"vidiq-search-top-channels-subs"},e.channelSubsText))),h.createElement(iM,{alignment:"right",alternate:!0},h.createElement(aM,{id:"View channel in YouTube",onClick:this.openChannel,data:{url:e.channelUrl}},(0,ai.Z)("viewInYouTube"))))));return h.createElement("div",{className:"vidiq-search-top-channels-items"},t)}spinner(){return this.props.searchStatsData.loading?h.createElement(os,{size:"big",container:!0}):null}error(){const e=this.props.searchStatsData;return e.loading||!e.noResults?null:h.createElement(IA,{text:(0,ai.Z)("noTopChannels")})}render(){return h.createElement("div",{className:"vidiq-search-top-channels-section vidiq-search-section"},h.createElement("div",{className:"vidiq-search-section-header"},(0,ai.Z)("topChannels")),this.topChannels(),this.spinner(),this.error())}}const QQ=XQ;function JQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eJ extends h.Component{constructor(...e){super(...e),JQ(this,"state",{selected:[]}),JQ(this,"sortKey","related_score"),JQ(this,"getLimitedKeywords",(()=>{let e=Vs((this.props.hotSearchData||{}).keywords||[]);return e=fc(e,this.sortKey,!0),e.slice(0,5)})),JQ(this,"areAllSelected",(e=>{const t=SM(this.state.selected);return e.every((e=>{const n=ES(e.keyword);return t.indexOf(n)>=0}))})),JQ(this,"toggleSelectAll",(()=>{const e=this.getLimitedKeywords();this.areAllSelected(e)?this.setState({selected:[]}):this.setState({selected:e})})),JQ(this,"toggleExpand",(()=>{ht("clicked on show all top related keywords",{location:(0,be.Z)()});const{searchTerm:e,hotSearchData:t}=this.props;xM.displayWithKnownData({keyword:e,sort:this.sortKey,hotSearchData:t,feature:eJ.eventFeatureName})})),JQ(this,"onClickSearch",((e,t)=>{window.open(`https://www.youtube.com/results?search_query=${t.keyword}`,"_blank")})),JQ(this,"onClickOpenKwins",((e,t)=>{xM.setKeyword(t.keyword),mM.mount()}))}keywordElement(e,t){const n=e.score||e.overall,i={background:mQ(n)},r=ES(e.keyword),a=SM(this.state.selected);return h.createElement("div",{key:t,className:"vidiq-search-top-keyword"},h.createElement("div",{className:"vidiq-search-top-keyword-left"},h.createElement("input",{id:`vidiq-search-top-keyword-checkbox-${t}`,className:"vidiq-search-top-keywords-checkbox",type:"checkbox",checked:a.indexOf(r)>=0,onChange:()=>{const t=a.indexOf(r),n=this.state.selected;t<0?n.push(e):n.splice(t,1),this.setState({selected:n})}}),h.createElement("label",{htmlFor:`vidiq-search-top-keyword-checkbox-${t}`,className:"vidiq-search-top-keyword-text"},r)),h.createElement("div",{className:"vidiq-search-top-keyword-right"},h.createElement("div",{className:"vidiq-search-top-keyword-score",style:i,"data-tip-message":pL.tooltip(e),"data-fixed":!0,"data-follow":!1},ge()(n).format("2a")),h.createElement(iM,{alignment:"right",alternate:!0},h.createElement(aM,{id:"Search on YouTube",onClick:this.onClickSearch,data:{keyword:r}},(0,ai.Z)("searchOnYouTube")),h.createElement(aM,{id:"Open in keyword inspector",onClick:this.onClickOpenKwins,data:{keyword:r}},(0,ai.Z)("openInKwins")))))}keywordElements(e){return e.length?e.map(((e,t)=>this.keywordElement(e,t))):null}expandButton(){const e=this.props.hotSearchData.keywords;return this.props.loading||!e||!e.length||e.length<=5?null:h.createElement("div",{className:"vidiq-search-top-related-keywords-expand",onClick:this.toggleExpand},(0,ai.Z)("showAllKeywords",[e.length]))}selectAllCheckbox(e){if(this.props.loading||!e||!e.length)return null;const t=this.areAllSelected(e);return h.createElement("div",{className:"vidiq-search-top-related-keywords-select-all"},h.createElement("div",{className:"vidiq-search-top-keyword-left"},h.createElement("input",{id:"vidiq-search-top-keywords-select-all-checkbox",className:"vidiq-search-top-keywords-checkbox",type:"checkbox",onChange:this.toggleSelectAll,checked:t}),h.createElement("label",{htmlFor:"vidiq-search-top-keywords-select-all-checkbox",className:"vidiq-search-top-keywords-select-all-text"},(0,ai.Z)("selectAllNum",[e.length]))))}onClickUpsell(){dt("User clicked upgrade button on search page")}upsell(){if(this.props.loading)return null;const e=this.props.hotSearchData.omitted;if((0,ve.h)().featurePermitted("search")||!Number.isFinite(e)||e<=0)return null;const t=(0,ai.Z)("getAccessToMoreRelatedKeywords",[e]),n=(0,ai.Z)("upgradeToPlan",["Pro"]);return h.createElement(Gq,{upsell:"SearchKeywords",classes:"vidiq-search-upsell",text:t,buttonText:n,targetPlan:"pro",onClick:this.onClickUpsell})}error(){const e=(this.props.hotSearchData||{}).keywords||[];return this.props.loading||e.length>0?null:h.createElement(IA,{text:(0,ai.Z)("noRelatedKeywords")})}spinner(){return this.props.loading?h.createElement(os,{size:"big",container:!0}):null}render(){const e=this.getLimitedKeywords(),{loading:t,searchTerm:n}=this.props,{selected:i}=this.state;return h.createElement("div",{className:"vidiq-search-section vidiq-search-top-related-keywords"},h.createElement("div",{className:"vidiq-search-section-header"},(0,ai.Z)("topRelatedOpportunities")),this.spinner(),this.selectAllCheckbox(e),h.createElement("div",{className:"vidiq-search-top-related-keywords-content"},this.keywordElements(e)),this.expandButton(),!t&&i.length>0&&h.createElement(AS,{selected:i,searchTerm:n,feature:eJ.eventFeatureName}),this.upsell(),this.error())}}eJ.eventFeatureName="search - show more";const tJ=eJ,nJ=Oo()({displayName:"SearchCompanion",statics:{toggleCollapseFlag(e){const t="loginCollapse";let n=ye.Z.getItem(t);return void 0===n&&void 0===e?(ye.Z.setItem(t,!1),n=!1):void 0!==e&&(ye.Z.setItem(t,e),n=e),n}},getInitialState:()=>({collapsed:!!nJ.toggleCollapseFlag(),searchTerm:we.Z.searchTerm(),hotSearchData:{},loading:!0,searchStatsData:MQ.getData()}),componentDidMount(){dt("User Loaded Search"),(({keyword:e})=>{ht("searched keyword with youtube",{"search query":e,location:(0,be.Z)()})})({keyword:this.state.searchTerm}),P.Z.ok("vidiq.hottersearch",{query:this.state.searchTerm,src:"search"}).then((({json:e})=>{this.setState({hotSearchData:e||{}})})).finally((()=>{this.setState({loading:!1})})),MQ.addChangeListener(this.onSearchStatsStoreChange)},componentWillUnmount(){MQ.removeChangeListener(this.onSearchStatsStoreChange)},onSearchStatsStoreChange(){const e=MQ.getData();this.setState({searchStatsData:e})},toggleCollapse(){const e=!this.state.collapsed;this.setState({collapsed:e}),ht((e?"minimized":"expanded")+" search companion",{_identify:{set:{"search companion minimized":e}}}),nJ.toggleCollapseFlag(e)},render(){const{collapsed:e,hotSearchData:t,searchStatsData:n,loading:i,searchTerm:r}=this.state,a=Fo()("vidiq-search-companion-content",{"vidiq-search-companion-collapsed":e});return h.createElement("div",{className:"vidiq-search-companion"},h.createElement(pQ,{collapse:this.toggleCollapse,collapsed:e}),h.createElement("div",{className:a},h.createElement(HQ,{searchTerm:r}),h.createElement(kQ,{searchStats:t.search_stats,loading:i}),h.createElement(NQ,{searchTerm:r,searchStatsData:n}),h.createElement(QQ,{searchStatsData:n}),h.createElement(tJ,{hotSearchData:t,searchTerm:r,loading:i}),h.createElement(SQ,{keyword:r})))}}),iJ=nJ;function rJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class aJ extends h.Component{constructor(...e){super(...e),rJ(this,"state",{enabled:aJ.inlineKeywordsFlag()}),rJ(this,"toggle",(()=>{const e=!this.state.enabled;dt((e?"Enable":"Disable")+" Search Inline Keywords"),this.setState({enabled:e}),aJ.inlineKeywordsFlag(e)}))}static inlineKeywordsFlag(e){const t="search_inline_keywords_enabled";let n=ye.Z.getItem(t);return void 0===n&&void 0===e?(ye.Z.setItem(t,!0),n=!0):void 0!==e&&(ye.Z.setItem(t,e),n=e,r()(window).trigger("inline-keywords:visibility",e)),n}render(){const e=Fo()("vidiq-inline-keywords-switch",{"vidiq-inline-keywords-switch-enabled":this.state.enabled});return h.createElement("div",{className:e,onClick:this.toggle},h.createElement(ts,{size:"16px"}),h.createElement("span",{className:"vidiq-inline-keywords-switch-text"},(0,ai.Z)("enableInlineKeywords")),h.createElement(yZ,{enabled:this.state.enabled}))}}const oJ=aJ,sJ=Oo()({displayName:"SearchInlineKeywords",getInitialState:()=>({videoId:null,store:{},visible:oJ.inlineKeywordsFlag()}),UNSAFE_componentWillMount(){r()(window).on("inline-keywords:visibility",this.onChangeVisibility),this._interval=setInterval(this.checkId,1e3),this.checkId()},componentWillUnmount(){r()(window).off("inline-keywords:visibility",this.onChangeVisibility),this.store.removeChangeListener(this.onStoreChange),clearInterval(this._interval)},checkId(){const e=iQ(this.props.container);e&&e.id!==this.state.videoId&&(this.store&&this.store.removeChangeListener(this.onStoreChange),this.store=nQ.id(e.id),this.store.addChangeListener(this.onStoreChange),KX.scrapeVideoPage(e.id),this.setState({videoId:e.id,store:this.store.getData()}))},onStoreChange(){this.setState({store:this.store.getData()})},onChangeVisibility(e,t){this.setState({visible:t},this.ensureKeywords)},copyTags(){SS(this.state.store.keywords)},render(){if(!this.state.store.keywords||L().isEmpty(this.state.store.keywords))return null;const e=chrome.runtime.getURL("images/vidiq_dark.svg"),t=(0,ve.h)().getLogoBadge(),n=(0,ve.h)().getUserType();let i=0;const r=this.state.store.keywords.map(((e,t)=>(i+=e.length,h.createElement(pL,{key:t,keyword:e,keywordAsButton:!0})))),a=50*Math.ceil(i/50),o={maxHeight:this.state.visible?a+"px":"0px"};return h.createElement("div",{className:"inline-keywords",style:o},h.createElement("div",{className:"logo-group"},h.createElement("img",{className:"vidiq-logo",src:e,alt:"vidIQ"}),h.createElement("img",{className:"vidiq-badge",src:t,alt:n})),h.createElement("button",{onClick:this.copyTags,className:"copy-tags",title:(0,ai.Z)("copyTags")}),r)}}),lJ=sJ,cJ=Oo()({displayName:"SearchInlineUpsell",statics:{hiddenFlag(e){const t="hide-search-social-stats-upsell";let n=ye.Z.getItem(t);return void 0===n&&void 0===e?(ye.Z.setItem(t,!1),n=!1):void 0!==e&&(ye.Z.setItem(t,e),n=e),n}},getInitialState:()=>({clicked:!1,hidden:cJ.hiddenFlag()}),hide(e){e.preventDefault(),this.setState({hidden:!0}),cJ.hiddenFlag(!0)},onClickUpgrade(){dt("User clicked upgrade button on social stats upsell"),this.setState({clicked:!0})},render(){if((0,ve.h)().featurePermitted("search"))return null;const e=chrome.runtime.getURL("images/upsell-social-stats.png"),t={display:this.state.hidden?"none":"block"},n=(0,ai.Z)("rememberToRefresh"),i=(0,ai.Z)("upgradeToViewInsights"),r=this.state.clicked?n:i;return h.createElement("div",{className:"vidiq-social-stats-upsell",style:t},h.createElement("a",{href:"#",className:"upsell-close-link",onClick:this.hide},"×"),h.createElement("img",{src:e,className:"upsell-image",alt:""}),h.createElement("p",{className:"upsell-pitch"},r),h.createElement(xs,{SearchInlineStats:!0,text:(0,ai.Z)("upgradeNowTitle"),anchor:!0,className:"btn upsell-upgrade-button",resetClassName:!0}))}}),uJ=cJ,dJ=Oo()({displayName:"SkeletonScreen",BLOCK_HEIGHT:80,getDefaultProps:()=>({blocksToShow:1}),render(){const e=this.props.blocksToShow*this.BLOCK_HEIGHT;return h.createElement("div",{className:"vidiq-skeleton-screen",style:{height:e}})}}),hJ=Oo()({displayName:"StudioBetaKeywordRank",render(){if(!this.props.rank)return null;const e=Fo()("vidiq-studio-beta-keyword-rank",this.props.classes);return h.createElement("div",{className:e},"#",this.props.rank)}}),pJ=Oo()({displayName:"StudioBetaOrganizeTags_Inner",getInitialState(){return{newKeywords:this.props.keywords}},componentDidMount(){const e=r()(".vidiq-studio-beta-organize-tags-container"),t=()=>{this.updateNewKeywords()};e.sortable({items:".vidiq-studio-beta-organize-tags-tag",revert:!0,tolerance:"pointer",containment:"parent",cursor:"move",stop(){t()}})},updateNewKeywords(){const e=document.querySelectorAll(".vidiq-studio-beta-organize-tags-tag .vidiq-studio-beta-keyword-text"),t=Array.from(e).map((e=>e.textContent));this.setState({newKeywords:t})},async onOrganizeTags(){await D2.organizeTags(this.state.newKeywords),cs.destroy()},getButtons(){return["cancel",{text:(0,ai.Z)("organizeTagsTitle"),onClick:this.onOrganizeTags,disabled:this.props.keywords.join(",")===this.state.newKeywords.join(","),position:"right"}]},keywords(){if(!this.props.keywords||!this.props.keywords.length)return null;let e;return this.props.hotSearch&&Object.keys(this.props.hotSearch).length&&this.props.hotSearch.search_stats&&this.props.hotSearch.search_stats.compvol&&(e=this.props.hotSearch.search_stats.compvol),this.props.keywords.map((t=>{let n={keyword:t};return e&&e[t]&&(n=Object.assign(n,e[t])),h.createElement(JL,{key:t,classes:"vidiq-studio-beta-organize-tags-tag",keywordObject:n,noAddButton:!0})}))},render(){return h.createElement(cs,{title:(0,ai.Z)("organizeTagsTitle"),classes:"vidiq-studio-beta-organize-tags-modal",buttons:this.getButtons()},h.createElement("div",{className:"vidiq-studio-beta-organize-tags-container"},h.createElement("div",{className:"vidiq-studio-beta-organize-tags-note"},(0,ai.Z)("organizeTagsMessage")),h.createElement("div",{className:"vidiq-studio-beta-organize-tags-keywords"},this.keywords())))}}),fJ=ug(pJ,HL),mJ=cs;const gJ=function({addKeyword:e,addAll:t}){const{keywords:n,translationSource:i,translationTarget:r,translatedKeywords:a,fetchingTranslations:o,translateError:s}=GL((e=>e));function l(e){C2.update({translationSource:e}),d(e,r)}function c(e){C2.update({translationTarget:e}),d(i,e)}function u(){t(a)}function d(e,t){"choose"!==t&&C2.fetchKeywordTranslations(n,e,t)}const p=(0,ve.h)().featurePermitted("translate")?h.createElement(h.Fragment,null,"choose"===r?h.createElement("h3",{className:"alert"},(0,ai.Z)("chooseLanguage")):i===r?h.createElement("h3",{className:"alert"},(0,ai.Z)("chooseTwoLangs")):o?h.createElement(os,{size:"medium"}):s?h.createElement("h3",{className:"alert"},s):null,function(){const e=Object.assign({auto:(0,ai.Z)("autoDetect")},OA),t=Object.assign({choose:(0,ai.Z)("chooseLanguage2")},OA);return h.createElement("div",{className:"vidiq-studio-beta-translate-select"},h.createElement(sx,{onChange:l,classes:"vidiq-language-select-source",defaultValue:i,values:e}),h.createElement("div",{className:"vidiq-language-select-arrow"},"➡"),h.createElement(sx,{onChange:c,classes:"vidiq-language-select-target",defaultValue:r,values:t}))}(),h.createElement("div",{className:"vidiq-studio-beta-translate-lists"},function(){if(!n||!n.length)return null;const e=((0,ve.h)().featurePermitted("translate")?n:n.slice(0,3)).map((e=>h.createElement(JL,{key:e,keywordObject:{keyword:e}})));return h.createElement("div",{className:"vidiq-studio-beta-original-keywords"},e)}(),function(){if(!a||!a.length)return null;const t=a.map((t=>h.createElement(JL,{key:t,keywordObject:{keyword:t},addKeyword:e})));return h.createElement("div",{className:"vidiq-studio-beta-translated-keywords"},t)}())):h.createElement(Oz,null);return h.createElement(mJ,{title:(0,ai.Z)("translateKeywordsTitle"),classes:"vidiq-studio-beta-translate-modal",buttons:(0,ve.h)().featurePermitted("translate")&&["cancel",{text:(0,ai.Z)("addAllTitle"),onClick:u,position:"right"}]},h.createElement("div",{className:"vidiq-studio-beta-translate-container"},p))},vJ=Oo()({displayName:"TagTemplatesModal_Inner",getInitialState:()=>({tagInputText:"",selectedTemplate:null,templates:null,saved:!0}),componentDidMount(){Dz.fetchTemplates()},componentDidUpdate(e){if(!this.state.templates||this.props.templates!==e.templates){const e=this.props.templates;this.setState({templates:L().isEmpty(e)?[]:e,selectedTemplate:e[0]?e[0][0]:null})}},currentTags(){const e=this.state.templates,t=this.state.selectedTemplate;if(!e||L().isEmpty(e)||null===t)return[];return L().find(e,(e=>e[0]===t))[1]},getTagInputTags(){const e=this.state.tagInputText.trim(),t=L().uniq(L().compact(e.split(",").map((e=>e.trim()))));return e.length&&e.replace(/,/g,"").trim().length||t.length?t.length?t:[e]:[]},addTag(e){e.preventDefault(),e.stopPropagation();const t=this.state.templates,n=L().findIndex(t,(e=>e[0]===this.state.selectedTemplate)),i=this.getTagInputTags();i.length?(t[n][1]=t[n][1].concat(i),this.setState({templates:t,tagInputText:"",saved:!1})):this.setState({tagInputText:""})},removeTag(e){const t=this.state.templates,n=L().findIndex(t,(e=>e[0]===this.state.selectedTemplate)),i=t[n][1],r=i.indexOf(e);i.splice(r,1),t[n][1]=i,this.setState({templates:t,saved:!1})},insertTag(e){this.props.addKeyword(e)},insertTags(){const e=this.currentTags();this.props.addAll(e)},addTemplate(){const e=this.state.templates;e.push(["",[]]),this.setState({selectedTemplate:"",templates:e,saved:!1},(()=>{r()(".template-name > input:last-of-type").focus()}))},openDialogue(){cs.create({title:(0,ai.Z)("deleteTheTemplate",[this.state.selectedTemplate]),innerComponent:yz,innerProps:{onYes:this.deleteTemplate,onNo:()=>{cs.destroy()}},size:"small"})},deleteTemplate(){const e=this.state.templates,t=L().findIndex(e,(e=>e[0]===this.state.selectedTemplate));e.splice(t,1),this.setState({templates:e,selectedTemplate:e[0]?e[0][0]:null,saved:!1}),cs.destroy()},header(){const e=(0,ai.Z)("tagTemplatesTitle"),t=(0,ai.Z)("tagTemplatesNote");return h.createElement("div",{className:"tag-templates-header"},h.createElement("h3",{className:"tag-templates-header-title"},e),h.createElement("span",{className:"tag-templates-header-note"},t))},setSelected(e){let t=e.target.value;if(!t){const n=r()(e.target).find("input").get(0);t=n?n.value:""}t!==this.state.selectedTemplate&&this.setState({selectedTemplate:t})},changeName(e){const t=e.target.value,n=this.state.selectedTemplate,i=this.state.templates,a=L().findIndex(i,(e=>e[0]===n)),o=i[a][1];i[a]=[t,o];const s=e.target.selectionStart,l=e.target.selectionEnd;this.setState({templates:i,selectedTemplate:t,saved:!1},(()=>{const e=r()(".template-name.selected > input").get(0);r()(e).focus(),e.setSelectionRange(s,l)}))},templatesList(){const e=L().map(this.state.templates,(e=>{const t=e[0],n=Fo()("template-name",{selected:t===this.state.selectedTemplate}),i=we.Z.prettyRandomId();return h.createElement("li",{className:n,onClick:this.setSelected,key:i},h.createElement("input",{type:"text",className:"template-name-input",value:t,placeholder:(0,ai.Z)("exampleTemplateName"),onChange:this.changeName}))}));return h.createElement("ul",{className:"templates-list"},e,h.createElement("li",{className:"new-template-button",onClick:this.addTemplate},h.createElement("i",{className:"material-icons"},"add")," ",(0,ai.Z)("newTemplate")))},setTagInputText(e){this.setState({tagInputText:e.target.value})},tagInput(){const e=!this.getTagInputTags().length;return h.createElement("form",{className:"add-tag-form",onSubmit:this.addTag},h.createElement("input",{type:"text",className:"add-tag-text",placeholder:(0,ai.Z)("tagTemplatesInputPlaceholder"),value:this.state.tagInputText,onChange:this.setTagInputText}),h.createElement("input",{type:"submit",className:"submit-button",value:(0,ai.Z)("addTagTitle"),disabled:e}))},tags(){const e=L().map(this.currentTags(),(e=>{const t=we.Z.prettyRandomId();return h.createElement(JL,{key:t,keywordObject:{keyword:e.trim()},removeKeyword:this.removeTag})}));return h.createElement("ul",{className:"template-tags"},e)},rightPart(){return!this.state.templates||L().isEmpty(this.state.templates)?h.createElement("div",{className:"right-part"},h.createElement("span",{className:"create-template-message"},(0,ai.Z)("tagTemplatesCreateMessage"))):h.createElement("div",{className:"right-part"},this.tagInput(),this.tags())},body(){return h.createElement("div",{className:"tag-templates-body"},h.createElement("div",{className:"left-part"},this.templatesList()),this.rightPart())},saveTemplates(){Dz.saveTemplates({tag_templates:this.state.templates}),this.setState({saved:!0})},footer(){const e=this.currentTags(),t=!e||L().isEmpty(e);return h.createElement("div",{className:"tag-templates-footer"},h.createElement(is,{classes:"save-templates-button",text:(0,ai.Z)("saveChangesTitle"),disabled:this.state.saved,onClick:this.saveTemplates}),h.createElement(is,{classes:"delete-template-button",text:(0,ai.Z)("deleteTitle"),secondary:!0,disabled:null===this.state.selectedTemplate,onClick:this.openDialogue}),h.createElement(is,{classes:"insert-tags-button",text:(0,ai.Z)("tagTemplatesInsert"),disabled:t,onClick:this.insertTags}))},render(){return h.createElement(cs,{title:(0,ai.Z)("tagTemplatesTitle"),classes:"tag-templates-modal"},h.createElement("div",{className:"tag-templates-container"},this.body(),this.footer()))}}),yJ=ug(vJ,Tz);const bJ=Oo()({displayName:"StudioBetaTagOptions_Inner",addKeyword(e){D2.addKeyword(e)},addAll(e){e.filter((e=>this.props.keywords.indexOf(e)<0)).forEach((e=>{this.addKeyword(e)}))},noKeywords(){return!this.props.keywords||!this.props.keywords.length},copyKeywords(){SS(this.props.keywords)},mountTemplatesModal(){cs.mount(yJ,{addKeyword:this.addKeyword,addAll:this.addAll})},mountTranslationModal(){cs.mount(gJ,{keywords:this.props.keywords,addKeyword:this.addKeyword,addAll:this.addAll})},mountOrganizeTagsModal(){cs.mount(fJ)},tagTemplatesButton(){return this.props.settings.templates?h.createElement(is,{classes:"vidiq-studio-beta-tag-templates-button",onClick:this.mountTemplatesModal},h.createElement("i",{className:"material-icons"},"insert_drive_file")," ",(0,ai.Z)("templatesTitle")):null},tagTranslateButton(){return this.props.settings.translate?h.createElement(is,{classes:"vidiq-studio-beta-tag-translate-button",onClick:this.mountTranslationModal,disabled:this.noKeywords()},h.createElement("i",{className:"material-icons"},"translate")," ",(0,ai.Z)("translateTitle")):null},keywordInspectorButton(){return this.props.settings.kwIns?h.createElement(EU,{namespace:"studio-beta-edit",addable:!0}):null},tagCopyButton(){return this.props.settings.copyKws?h.createElement(is,{classes:"vidiq-studio-beta-tag-copy",onClick:this.copyKeywords,disabled:this.noKeywords()},h.createElement("i",{className:"material-icons"},"attach_file")," ",(0,ai.Z)("copyTagsTitle")):null},organizeTagsButton(){return this.props.settings.dragDrop?h.createElement(is,{classes:"vidiq-studio-beta-organize-tags-button",onClick:this.mountOrganizeTagsModal,disabled:this.noKeywords()},h.createElement("i",{className:"material-icons"},"sort")," ",(0,ai.Z)("organizeTagsTitle")):null},characterCount(){return this.props.settings.charCount?h.createElement("span",{className:"vidiq-studio-beta-tag-counter"},(e=this.props.keywords).reduce(((t,n,i)=>{let r=n.length;return i!==e.length-1&&(r+=1),n.split(" ").length>1&&(r+=2),t+r}),0)," / 500"):null;var e},render(){const e=this.props.settings;return e.templates||e.translate||e.kwIns||e.copyKws||e.charCount?h.createElement("div",{className:"vidiq-studio-beta-tag-options"},h.createElement("div",{className:"vidiq-studio-beta-tag-options-buttons"},this.tagTemplatesButton(),this.tagTranslateButton(),this.keywordInspectorButton(),this.organizeTagsButton(),this.tagCopyButton()),this.characterCount()):null}}),_J=ug(bJ,HL),wJ=we.Z.keyMirror(["UPDATE"],"TOOLBAR_STATS");var kJ=__webpack_require__(7398),xJ=__webpack_require__.n(kJ);const EJ=e=>{const t=Array(48).fill(0),n=wt()().valueOf();let i=wt()(n).subtract(48,"hours").valueOf();const r=[];for(;i<n;)r.push(i),i=wt()(i).add(1,"hours").valueOf();const a={values:t,timestamps:r};try{const t=ro()(e,"resultTable.dimensionColumns[0].timestamps.values",null),n=ro()(e,"resultTable.dimensionColumns[1].enumValues.values",null);if(!t||!n||n.indexOf("SHORTS")<0)return a;const i=ro()(e,"resultTable.metricColumns[0].counts.values",null);return i?{values:i.slice(n.indexOf("SHORTS"),n.lastIndexOf("SHORTS")+1),timestamps:t.slice(n.indexOf("SHORTS"),n.lastIndexOf("SHORTS")+1)}:a}catch(e){return a}};function CJ(e){return e.reduce(((e,t)=>e+t),0)}function SJ(e,t,n){const i={minutely:{},hourly:{},weeklyViews:{previousPeriod:{}},weeklyWatchTime:{previousPeriod:{}},weeklySubscribers:{total:t},avgViewDuration:{previousPeriod:{}},yearlyWatchTime:{},prevPeriod:{start:wt()(e.times.prevWeek.start.toString()).format("MMMM Do, YYYY"),end:wt()(e.times.prevWeek.end.toString()).format("MMMM Do, YYYY")},shorts:{}};return Object.keys(e).forEach((t=>{const r=e[t];switch(t){case"0__CHANNEL_MINUTELY_VIEWS":case"0__CHANNEL_HOURLY_VIEWS":{const e=t.replace(/0__CHANNEL_([A-Z]+)_VIEWS/,"$1").toLowerCase();i[e].timestamps=r.MINUTE||r.HOUR,i[e].values=r.VIEWS,i[e].total=CJ(r.VIEWS);break}case"0__TOTALS_TIMELINE_QUERY_KEY":{const e=r.DAY.map((e=>wt()(e).format("ddd, MMMM Do, YYYY")));i.weeklyViews.timestamps=e,i.weeklyViews.values=r.VIEWS,i.weeklyWatchTime.timestamps=e,i.weeklyWatchTime.values=r.WATCH_TIME.map((e=>ge()(e/1e3/60).format("0[.]00"))),i.weeklySubscribers.timestamps=e,i.weeklySubscribers.values=r.SUBSCRIBERS_NET_CHANGE.map((e=>ge()(e).format(e>0?"+0":"0")));break}case"0__TOTALS_SUMS_QUERY_KEY":i.weeklyViews.total=r.VIEWS[0],i.weeklyWatchTime.total=r.WATCH_TIME[0]/1e3/60,i.avgViewDuration.total=we.Z.sec2time(Math.round(r.AVERAGE_WATCH_TIME[0]/1e3));break;case"1__TOTALS_SUMS_QUERY_KEY":{const t=e["0__TOTALS_SUMS_QUERY_KEY"];i.weeklyViews.previousPeriod.total=r.VIEWS[0],i.weeklyViews.previousPeriod.percent=(0,xm.Z)(r.VIEWS[0],t.VIEWS[0]),i.weeklyWatchTime.previousPeriod.total=r.WATCH_TIME[0]/1e3/60,i.weeklyWatchTime.previousPeriod.percent=(0,xm.Z)(r.WATCH_TIME[0],t.WATCH_TIME[0]),i.avgViewDuration.previousPeriod.total=we.Z.sec2time(Math.round(r.AVERAGE_WATCH_TIME[0]/1e3)),i.avgViewDuration.previousPeriod.percent=(0,xm.Z)(r.AVERAGE_WATCH_TIME[0],t.AVERAGE_WATCH_TIME[0]);break}case"1__TOTALS_TIMELINE_QUERY_KEY":{const e=xJ()(n)?n:CJ(r.WATCH_TIME)/1e3/60/60;if(e>4999){delete i.yearlyWatchTime;break}i.yearlyWatchTime.timestamps=r.MONTH.map((e=>wt()(e).format("MMMM YYYY"))),i.yearlyWatchTime.values=r.WATCH_TIME.map((e=>ge()(e/1e3/60/60).format("0[.]00"))),i.yearlyWatchTime.total=e,i.yearlyWatchTime.progress=(e/4e3).toFixed(2);break}case"1__TOP_ENTITIES_TABLE_QUERY_KEY":i.shorts.total=(e=>{try{const t=ro()(e,"resultTable.dimensionColumns[0].enumValues.values",[]).indexOf("SHORTS");return t<0?0:ro()(e,"resultTable.metricColumns[0].counts.values",[])[t]||0}catch(e){return 0}})(e[t]);break;case"1__TOP_ENTITIES_CHARTS_QUERY_KEY":i.shorts={...i.shorts,...EJ(e[t])}}})),i}const TJ=new ds.Z("ToolbarStatsStore",{_data:{stats:null,refreshing:!1,showInlineStats:!0,ypa:null},getData(){return Object.assign(this.data,{checks:OJ.getChecks()})}});TJ.dispatchToken=ko.Z.register((e=>{const t=TJ,n=wJ;if(t&&e.action===n.UPDATE)L().extend(t.data,e.payload),t.emitChange()}));const DJ=TJ;function FJ(e){return e||(e=5),new Promise(((t,n)=>{P.Z.expanded("youtube.analytics").then((({text:e,response:n})=>{if(!n||!n.ok)throw new Error;t({text:e,response:n})})).catch((()=>{if(0===e)return n();setTimeout((()=>{FJ(e-1).then(t).catch((()=>t(null)))}),500)}))}))}async function MJ(){const e=DJ.getData();if(e.ypa)return e.ypa;const{text:t,response:n}=await FJ();if(!n)return(0,ke.Z)("(vidiq) getYpaObject - Failed to get analytics page response"),null;if(!t)return(0,ke.Z)("(vidiq) getYpaObject - Failed to parse analytics page response"),null;const i=t.match(/var ypa = ([^;]+)/);if(!i||0===i.length)return(0,ke.Z)("(vidiq) getYpaObject - Failed to find ypa object in analytics page response"),null;const r=JSON.parse(i[1]);return PJ.update({ypa:r}),r}function AJ(){return"studio.youtube.com"===window.location.hostname?"#search-layer":(0,Ee.Z)()?"#search-form":"#masthead-search"}const IJ={dates:{},orderedStats:["yearlyWatchTime","minutely","hourly","shorts","weeklyViews","weeklyWatchTime","weeklySubscribers"],async getStudioAnalytics(){try{const e=await eg.fetchToolbarStatsData();if(!e||!Object.keys(e).length)return null;const t=await(0,_e.Z)();let n=await eg.fetchTotalSubscribers();if(null==n){const e=await Te(t);n=e&&e.subCount}const i=SJ(e,n,await eg.fetchPublicWatchHours());return i.channelId=t,i}catch(e){return(0,ke.Z)("(vidiq) Error in getStudioAnalytics:",e),Me.Z.warning("Toolbar Stats: Unable to get analytics from studio",{error:e.toString()}),null}},async getAnalytics(){const e=new(r().Deferred),t=await MJ();if(!t)return;const n="YYYYMMDD";this.dates.thisPeriodEnd=wt()().subtract(1,"days"),this.dates.thisPeriodStart=wt()(this.dates.thisPeriodEnd).subtract(7,"days"),this.dates.lastPeriodEnd=wt()(this.dates.thisPeriodStart).subtract(1,"days"),this.dates.lastPeriodStart=wt()(this.dates.lastPeriodEnd).subtract(7,"days"),this.dates.twelveMonths=wt()(this.dates.thisPeriodEnd).subtract(12,"months");let i={method:"query",params:{1:[{14:0,18:"USD",19:1,22:[{1:7}],21:[{1:236}],4:[{1:0,4:{1:236}}],23:[{1:{1:74},2:{1:["CHANNEL_ID"]}},{1:{1:236},3:{1:[1728e5]}}]},{14:0,18:"USD",19:1,22:[{1:7}],21:[{1:237}],4:[{1:0,4:{1:237}}],23:[{1:{1:74},2:{1:["CHANNEL_ID"]}},{1:{1:237},3:{1:[1728e5]}}]},{22:[{1:7}],20:{1:{1:"THIS_PERIOD_START",2:"THIS_PERIOD_END"}},23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]},{22:[{1:7}],23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]},{22:[{1:7}],21:[{1:3}],20:{1:{1:"THIS_PERIOD_START",2:"THIS_PERIOD_END"}},23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]},{22:[{1:275}],21:[{1:3}],20:{1:{1:"THIS_PERIOD_START",2:"THIS_PERIOD_END"}},23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]},{22:[{1:275}],21:[{1:3}],23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]},{22:[{1:110}],20:{1:{1:"THIS_PERIOD_START",2:"THIS_PERIOD_END"}},23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]},{22:[{1:110}],23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]},{22:[{1:32}],21:[{1:3}],20:{1:{1:"THIS_PERIOD_START",2:"THIS_PERIOD_END"}},23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]},{22:[{1:275}],21:[{1:3}],20:{1:{1:"TWELVE_MONTHS",2:"THIS_PERIOD_END"}},23:[{1:{1:74},2:{1:["CHANNEL_ID"]}}]}]}};i=JSON.stringify(i);const a=t.channel_id;return a?(i=i.replace(/CHANNEL_ID/g,a),i=i.replace(/"THIS_PERIOD_START"/g,parseInt(this.dates.thisPeriodStart.format(n),10)),i=i.replace(/"THIS_PERIOD_END"/g,parseInt(this.dates.thisPeriodEnd.format(n),10)),i=i.replace(/"TWELVE_MONTHS"/g,parseInt(this.dates.twelveMonths.format(n),10)),r().ajax({url:"https://www.youtube.com/api/analytics/yta/query?authuser="+t.auth_user+(t.page_id?"&pageId="+t.page_id:""),data:i,contentType:"application/json",method:"POST",headers:{"X-Goog-AuthUser":t.page_id,"X-Goog-PageId":t.page_id,"X-GWT-Module-Base":"https://www.gstatic.com/youtube-analytics/20170118_00/","X-GWT-Permutation":"FEFA662297BFA6B08D4C7CC528E152C5","X-YouTube-YtaLocale":"en_US","X-YouTube-YtaToken":t.account}}).done((t=>{const n=this;let i={minutely:we.Z.safely((()=>n.parse60MinStats(t)))||0,hourly:we.Z.safely((()=>n.parse48HourStats(t)))||0,weeklyViews:we.Z.safely((()=>n.parse7DayStats(t)))||0,weeklyWatchTime:we.Z.safely((()=>n.parseWatchTimeStats(t)))||0,weeklySubscribers:we.Z.safely((()=>n.parseSubscriberStats(t)))||0,avgViewDuration:we.Z.safely((()=>n.parseAvgDurationStats(t)))||0,yearlyWatchTime:we.Z.safely((()=>n.parseTwelveMonthsWatchTime(t)||0)),prevPeriod:{start:wt()(this.dates.lastPeriodStart).format("ll"),end:wt()(this.dates.lastPeriodEnd).format("ll")},channelId:`UC${a}`};i.yearlyWatchTime.total>4999&&(i=L().omit(i,"yearlyWatchTime")),Te(`UC${a}`).then((t=>{i.weeklySubscribers.total=t&&t.subCount,e.resolve(i)}))})),e.promise()):void 0},parse60MinStats(e){const t={};return t.timestamps=L().pluck(e.result[1][1][1][0][4],"3"),t.values=L().pluck(e.result[1][1][1][1][4],"3"),t.total=t.values.reduce(((e,t)=>e+parseInt(t,10)),0),t},parse48HourStats(e){const t={};return t.timestamps=L().pluck(e.result[1][0][1][0][4],"3"),t.values=L().pluck(e.result[1][0][1][1][4],"3"),t.total=t.values.reduce(((e,t)=>e+parseInt(t,10)),0),t},parse7DayStats(e){let t=L().pluck(e.result[1][4][1][0][4],"3");t=t.map((e=>wt()(parseInt(e,10)).format("ddd, MMMM Do, YYYY")));const n={values:L().pluck(e.result[1][4][1][1][4],"3"),timestamps:t};"0"===n.values[n.values.length-1]&&(n.values.splice(-1),n.timestamps.splice(-1)),n.total=e.result[1][2][1][0][4][0][3];const i=parseInt(e.result[1][3][1][0][4][0][3],10);return n.previousPeriod={total:i,percent:(0,xm.Z)(i,parseInt(n.total,10))},n},parseWatchTimeStats(e){let t=L().pluck(e.result[1][5][1][0][4],"3");t=t.map((e=>wt()(parseInt(e,10)).format("ddd, MMMM Do, YYYY")));const n={values:L().pluck(e.result[1][5][1][1][4],"3"),timestamps:t};let i=0;n.values=L().map(n.values,(e=>{const t=parseInt(e,10),n=ge()(t/1e3/60).format("0[.]00");return i+=t,n})),n.total=i/1e3/60;const r=L().pluck(e.result[1][6][1][1][4],"3");let a=0;return L().each(r,(e=>{const t=parseInt(e,10);a+=t})),a=a/1e3/60,n.previousPeriod={total:a,percent:(0,xm.Z)(a,n.total)},0===n.values[n.values.length-1]&&(n.values.splice(-1),n.timestamps.splice(-1)),n},parseSubscriberStats(e){let t=L().pluck(e.result[1][9][1][0][4],"3");t=t.map((e=>wt()(parseInt(e,10)).format("ddd, MMMM Do, YYYY")));return{values:L().pluck(e.result[1][9][1][1][4],"3"),timestamps:t}},parseAvgDurationStats(e){const t={},n=parseInt(e.result[1][7][1][0][4][0][3],10),i=parseInt(e.result[1][8][1][0][4][0][3],10);return t.total=we.Z.sec2time(Math.round(n/1e3)),t.previousPeriod={total:we.Z.sec2time(Math.round(i/1e3)),percent:(0,xm.Z)(i,n)},t},parseTwelveMonthsWatchTime(e){let t=L().pluck(e.result[1][10][1][0][4],"3");t=t.map((e=>wt()(parseInt(e,10)).format("MMMM YYYY")));const n=L().pluck(e.result[1][10][1][1][4],"3");let i=0;const r=[];return L().each(n,(e=>{e=parseInt(e,10),i+=e,r.push(ge()(e/1e3/60/60).format("0[.]00"))})),i=i/1e3/60/60,{timestamps:t,values:r,total:i,progress:(i/4e3).toFixed(2)}},getChecks(){let e=ye.Z.getItem("vidiq_toolbar_stats_checks");if(e){if(e&&Object.keys(e).indexOf("month")>=0){const t={},n={twelveMonths:"yearlyWatchTime",minute:"minutely",hour:"hourly",shorts:"shorts",month:"weeklyViews",watchTime:"weeklyWatchTime",subscribers:"weeklySubscribers"};Object.keys(e).forEach((i=>{const r=n[i];t[r]=e[i],"shorts"===i&&void 0===t.shorts&&(t.shorts=!1)})),e=t}}else e={yearlyWatchTime:!0,minutely:!0,hourly:!0,shorts:!1,weeklyViews:!1,weeklyWatchTime:!1,weeklySubscribers:!1};return void 0===e.shorts&&(e.shorts=!1),ye.Z.setItem("vidiq_toolbar_stats_checks",e),e},watchForOverlap(){r()(window).on("resize",(()=>{const e=document.querySelector("#stats-symbol"),t=document.querySelector(AJ());if(!e||!t)return;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(!n||!i)return;const r=i.right<n.left-150;return PJ.toggleInlineStats(r)}))},watchTooltip(){go.Z.watch(".jqstooltip").enter((e=>{r()("body").on("mousemove",(t=>{r()(e).css({top:(t.clientY-30).toString()+"px"})}))}))}},OJ=IJ,NJ={async fetchAnalytics(){let e=await OJ.getStudioAnalytics();e||(e=await OJ.getAnalytics()),NJ.update({stats:e,refreshing:!1})},refreshAnalytics(){NJ.update({refreshing:!0}),NJ.fetchAnalytics()},toggleInlineStats(e){NJ.update({showInlineStats:e})},update(e){ko.Z.dispatch({payload:e,action:wJ.UPDATE})}},PJ=NJ;function RJ(){return RJ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},RJ.apply(this,arguments)}const jJ=function({label:e,...t}){return h.createElement("label",{className:"checkbox-container"},e,h.createElement("input",RJ({type:"checkbox"},t)),h.createElement(Hy,{className:"checkmark"}))},LJ=e=>({yearlyWatchTime:"hours watched-last 12 months",minutely:"views-last 60 minutes",hourly:"views-last 48 hours",weeklyViews:"views-last 7 days",weeklyWatchTime:"minutes watched-last 7 days",weeklySubscribers:"subscribers-subscribers",shorts:"shorts views-last 48 hours"}[e]||null),qJ=Oo()({displayName:"ToolbarStatSection",componentDidMount(){this.renderChart()},renderChart(){const e={borderColor:"#139dff",borderWidth:2,pointRadius:0,pointHoverRadius:0,fill:!1,data:this.props.stats.values.map(((e,t)=>({x:t,y:parseFloat(e,10)})))},t=Math.min.apply(this,this.props.stats.values),n=Math.max.apply(this,this.props.stats.values)||1,i={legend:{display:!1},animation:{duration:0},maintainAspectRatio:!1,layout:{padding:{top:10,right:10}},scales:{xAxes:[{type:"linear",gridLines:{display:!1,drawBorder:!1},ticks:{display:!1,min:0,max:this.props.stats.values.length-1}}],yAxes:[{gridLines:{display:!1,drawBorder:!1},ticks:{display:!1,min:t,max:n}}]},tooltips:{mode:"index",intersect:!1,displayColors:!1,bodyFontSize:10,callbacks:{title:()=>null,label:e=>{const t=e.index,{stats:n,type:i}=this.props,r=n.values[t],a=r<1?"0[.]00":"0,0";let o=ge()(r).format(a);return["minutely","hourly","shorts"].indexOf(i)>=0?o:("weeklySubscribers"===i&&r>0&&(o=`+${o}`),`${o} (${n.timestamps[t]})`)}}}};Po.renderChart({id:`vidiq-toolbar-stats-chart-${this.props.type}`,type:"line",datasets:[e],options:i})},toggleCheck(e){const t=r()(e.target).attr("id").split("-")[0],n=this.props.checks,i=!n[t];n[t]=i,ht("engaged with real time stats bar",{...we.Z.getUrlInfo(),"toggled item name":LJ(t),checked:i}),ye.Z.setItem("vidiq_toolbar_stats_checks",n),PJ.update({checks:n})},chart(){let e=(0,ai.Z)("viewsTitle");return"weeklyWatchTime"===this.props.type&&(e=(0,ai.Z)("minutesWatchedTitle")),"weeklySubscribers"===this.props.type&&(e=(0,ai.Z)("channelSubscribersStatLabel")),"yearlyWatchTime"===this.props.type&&(e=(0,ai.Z)("hoursWatchedTitle")),"shorts"===this.props.type&&(e=(0,ai.Z)("shortsViewsStatLabel")),h.createElement("div",{className:"chart"},h.createElement("div",{className:"chart-item"},h.createElement(Po,{canvasId:`vidiq-toolbar-stats-chart-${this.props.type}`,width:"250",height:"50",containerClass:"vidiq-toolbar-stats-chart-container"})),h.createElement("div",{className:"graph-label"},e.toLowerCase()))},getLabel(){return{yearlyWatchTime:(0,ai.Z)("last12Months"),minutely:(0,ai.Z)("last60Minutes"),hourly:(0,ai.Z)("last48Hours"),weeklyViews:(0,ai.Z)("last7Days"),weeklyWatchTime:(0,ai.Z)("last7Days"),weeklySubscribers:(0,ai.Z)("channelSubscribersStatLabel"),shorts:(0,ai.Z)("last48Hours")}[this.props.type]},progressBar(){if("yearlyWatchTime"!==this.props.type)return null;let e=this.props.stats.progress;e>1&&(e=1);const t=Math.round(100*e).toString()+"%",n="0%"===t?"<1%":t,i={width:t},r=Fo()("vidiq-toolbar-stats-progress-text",{"vidiq-toolbar-stats-progress-text-black":e<.15});return h.createElement("div",{className:"progress-bar-outer",style:{width:"133px"}},h.createElement("div",{className:"progress-bar-inner",style:i},h.createElement("span",{className:r},n)))},renderCheckboxStat(){const e=this.props.type+"-checkbox",t=this.getLabel();return h.createElement("div",{className:"stat-section stat"},h.createElement("div",{className:"input"},h.createElement(jJ,{id:e,type:"checkbox",checked:this.props.checks[this.props.type],onChange:this.toggleCheck})),h.createElement("div",{className:"stat-value"},h.createElement("label",{htmlFor:e},h.createElement("div",{className:"stat-value-and-caret"},this.props.getFormattedStats(this.props.type,!0),this.props.changeCaret(this.props.type)),h.createElement("div",{className:"stat-label"},t))))},render(){const{stats:e}=this.props;return e&&void 0!==e.total&&null!==e.total?h.createElement("div",{className:"vidiq-toolbar-stat-section stat-row"},this.chart(),this.renderCheckboxStat()):null}}),ZJ=qJ;const BJ=function(e){const t=Fo()("vidiq-toolbar-stat-sections",{"with-year-stats":e.stats.yearlyWatchTime}),{orderedStats:n}=OJ;return h.createElement("div",{className:t},n.map((t=>{const n=e.stats[t];return n&&n.values?h.createElement(ZJ,{type:t,stats:n,getFormattedStats:e.getFormattedStats,changeCaret:e.changeCaret,checks:e.checks,key:t}):null})))},VJ=Oo()({displayName:"ToolbarStatsFooter",getInitialState:()=>({userType:(0,ve.h)().getUserType(),subscribed:!0}),componentDidMount(){const e=new hz({parent:r()("body"),position:"fixed"});r()("body").data("tooltips",e)},UNSAFE_componentWillMount(){(0,ee.Z)()||(r()("body").append('<script src="https://apis.google.com/js/platform.js"><\/script>'),this.watchSubscribeButton())},watchSubscribeButton(){go.Z.watch(".subscribe-button iframe").enter((e=>{setTimeout((()=>{const t=r()(e).contents().find(".yt-uix-subscription-button"),n="True"===r()(t).attr("data-is-subscribed");this.setState({subscribed:n})}),300)}))},reviewUs(){const e=h.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://chrome.google.com/webstore/detail/vidiq-vision-for-youtube/pachckjkecffpdphbpmfolblodfkgbhl/reviews"},(0,ai.Z)("reviewUs"));return h.createElement("div",{className:"vidiq-rate-us"},"💙 vidIQ? ",e," 📝")},subscribeButton(){if((0,ee.Z)())return null;const e=Fo()("subscribe-button",{show:!this.state.subscribed}),t=(0,ai.Z)("subscribeForTricks");return h.createElement("div",{className:e,"data-tip-message":t},h.createElement("div",{className:"g-ytsubscribe","data-channelid":"UCZLFu8bHbwtnIgWLg5UtINw","data-layout":"default","data-theme":"dark","data-count":"default"}))},upsell(){if("basic"!==this.state.userType&&"pro"!==this.state.userType)return null;return h.createElement("div",{className:"upsell-section"},h.createElement("p",null,(0,ai.Z)("improveYourViews")),h.createElement("p",null,ai.Z.html("checkOutVidIQBoost",["https://www.youtube.com/watch?v=kapUc1vcBUM&list=PLTYbelo0OEJ5kafmU_1lpsVsoz8thBZRO"])))},render(){let e=this.props.stats.avgViewDuration.total;"0"===e[0]&&(e=e.slice(1));const t=`https://studio.youtube.com/channel/${this.props.channelId}/analytics/tab-overview/period-week`;return h.createElement(h.Fragment,null,h.createElement("div",{className:"iq-row popup-summary"},h.createElement("div",{className:"iq-col large-margin"},h.createElement("p",{className:"summary-title"},(0,ai.Z)("averageMinutesWatched")),h.createElement("div",{className:"avg-duration"},h.createElement("span",{className:"avg-duration-value"},e),this.props.changeCaret("avgViewDuration"))),h.createElement("div",{className:"iq-col"},h.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"view-analytics-link"},(0,ai.Z)("viewAllAnalyticsForYourChannel")))),h.createElement("div",{className:"footer"},h.createElement("div",{className:"iq-row"},this.upsell()),h.createElement("div",{className:"iq-row",style:{justifyContent:"center"}},h.createElement("div",{className:"iq-col padded-top"},this.reviewUs()),h.createElement("div",{className:"iq-col padded-top subscribe-button"},this.subscribeButton()))))}}),zJ=VJ,UJ=Oo()({displayName:"ToolbarStatsPopover",componentDidMount(){const e=new hz({parent:r()("body"),position:"follow"});r()("body").data("tooltips",e)},refreshStats(){ht("refreshed real time stats bar",{...we.Z.getUrlInfo()}),PJ.refreshAnalytics()},previousPeriod(){const e=this.props.stats.prevPeriod;return e.start+" - "+e.end},changeCaret(e){const t=this.props.stats[e].previousPeriod,n=t?t.percent:NaN;if(isNaN(n)||!isFinite(n))return null;const i=n>=0,r=Fo()("change-percent",{"positive-change":i,"negative-change":!i}),a=(0,ai.Z)("percentChangeTooltip",[ge()(n).format(n>0?"+0.00":"0.00"),this.previousPeriod()]);return h.createElement("span",{className:r,"data-tip-message":a},h.createElement("div",{className:"caret"},"▾")," ",Math.round(Math.abs(n)),h.createElement("span",{className:"percent"},"%"))},refreshSpinner(){return this.props.refreshing?h.createElement(os,{size:"small",classes:"vidiq-refresh-spinner"}):null},refreshButton(){return h.createElement("button",{className:"vidiq-refresh-button",onClick:this.refreshStats,title:"Refresh stats",disabled:this.props.refreshing},h.createElement("i",{className:"material-icons"},"refresh"))},render(){return h.createElement("div",{className:"toolbar-stats-popover"},h.createElement("div",{className:"triangle"}),this.refreshSpinner(),this.refreshButton(),h.createElement(BJ,{stats:this.props.stats,getFormattedStats:this.props.getFormattedStats,changeCaret:this.changeCaret,checks:this.props.checks}),h.createElement(zJ,{stats:this.props.stats,changeCaret:this.changeCaret,channelId:this.props.channelId}))}}),WJ=UJ;function HJ(e,t){e&&"function"==typeof e.preventDefault&&e.preventDefault(),dt(`Clicked on side panel vidIQ ${we.Z.capitalize(t)} link`),window.open(Su(`https://app.vidiq.com/${t}`),"_blank")}function YJ({menuItemsProp:e}){const[t,n]=(0,h.useState)(e||null);function i(e){return()=>{!function(e){const n=Object.values(t).find((t=>t.key===e));if(!n)return;"string"==typeof n.trackingLabel&&ht("clicked on toolbar feature",{...we.Z.getUrlInfo(),feature:n.trackingLabel});void 0!==n.component?DO({selected:n.key,launchSource:"toolbar stats dropdown"}):"function"==typeof n.onClick&&n.onClick()}(e)}}(0,h.useEffect)((()=>{if(t)return;const e={DAILY_VIDEO_IDEAS:{key:"videoideas",label:(0,ai.Z)("dailyIdeasTitle"),component:XT,trackingLabel:"daily video ideas"},COMPETITORS:{key:"competitors",label:(0,ai.Z)("competitors"),component:pM,trackingLabel:"competitors"},TREND_ALERTS:{key:"trendalerts",label:(0,ai.Z)("trendAlerts"),component:cO,trackingLabel:"trend alerts"},MOST_VIEWED:{key:"mostviewed",label:(0,ai.Z)("researchMostViewedTitle"),component:$x,trackingLabel:"most viewed",modularWindow:!0},CHANNEL_AUDIT:{key:"channelaudit",label:(0,ai.Z)("channelAuditTitle"),component:IF,trackingLabel:"channel audit"},KEYWORD_INSPECTOR:{key:"keywordinspector",label:(0,ai.Z)("keywordInspectorTitle"),component:oI,modularWindow:!0,trackingLabel:"keyword inspector"},ACHIEVEMENTS:{key:"achievements",label:(0,ai.Z)("achievementsTitle"),component:Ug,trackingLabel:"achievements"},ACADEMY:{key:"academy",label:(0,ai.Z)("vidiqAcademy"),onClick:e=>HJ(e,"academy"),trackingLabel:"academy"},REWARDS:{key:"rewards",label:(0,ai.Z)("vidiqRewards"),onClick:e=>HJ(e,"rewards"),trackingLabel:"rewards"}};n(e)}),[t]);const r=(0,h.useCallback)((()=>{ht("viewed toolbar features",{...we.Z.getUrlInfo()})}),[]),a=(0,h.useCallback)((()=>h.createElement(h.Fragment,null,h.createElement(ts,{classes:"logo"}),h.createElement(Uy,{className:"icon"}))),[]);return t?h.createElement(iM,{className:"menu",alignment:"left",onOpen:r,customRenderer:a},Object.values(t).map((e=>h.createElement(aM,{key:e.key,id:e.key,onClick:i(e.key)},e.label)))):null}YJ.displayName="ToolbarStatsDropdown";const $J=(0,h.memo)(YJ);function KJ(){return KJ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},KJ.apply(this,arguments)}function GJ(e){return h.createElement("svg",KJ({width:"10",height:"10",viewBox:"0 0 48 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.2714 1.44199L4.97781 15.5716C2.39662 17.511 -1.99141 23.2636 1.10602 30.7591C1.56153 31.9807 3.338 34.9678 6.79983 36.8417L9.72266 38.504L6.79983 40.3174C4.45904 41.3752 -0.176985 45.0928 0.00521661 51.5002C-0.0327419 52.4951 0.149461 54.9684 1.18194 56.9027C2.47254 59.3207 4.97781 63.0231 11.279 63.9676C12.7973 64.0809 16.411 63.96 18.7189 62.5697C21.0268 61.1794 27.4241 57.482 30.3343 55.8071L41.4182 49.4223C43.6325 48.2764 48.0458 44.4279 47.9851 38.2017C47.9243 31.9756 43.2023 28.2657 40.9627 27.1323L38.2676 25.5077L41.7978 23.4676C42.7847 22.838 45.0395 21.0951 46.1631 19.1607C47.5675 16.7428 48.099 14.4005 47.9851 12.5115C47.8712 10.6225 47.4157 8.50682 46.6565 6.99563C45.8974 5.48443 44.417 2.76429 40.5072 1.13976C37.3794 -0.159869 33.8265 -0.144757 32.422 0.195261C31.8048 0.358974 30.3107 0.837518 29.2714 1.44199ZM17.8406 22.5923V41.4444L34.3527 31.9995L17.8406 22.5923Z",fill:"currentColor"}))}function XJ({type:e}){const t=(0,h.useMemo)((()=>{switch(e){case"weeklyViews":return"remove_red_eye";case"weeklySubscribers":return"subscriptions";case"weeklyWatchTime":case"yearlyWatchTime":return"timer";case"shorts":return h.createElement(GJ,null);default:return null}}),[e]);return t?"string"!=typeof t?t:h.createElement("i",{key:t,className:"material-icons"},t):null}function QJ({type:e,stats:t}){const n=h.createElement(XJ,{type:e});return"minutely"===e?h.createElement(h.Fragment,null,"60"+(0,ai.Z)("minuteAbbreviation")):"hourly"===e?h.createElement(h.Fragment,null,"48"+(0,ai.Z)("hourAbbreviation")):"weeklyViews"===e||"weeklyWatchTime"===e?h.createElement("span",null,n," 7",(0,ai.Z)("dayAbbreviation")):"weeklySubscribers"===e?h.createElement("span",{className:"views-label-subs-icon"},n):"yearlyWatchTime"===e?t.yearlyWatchTime?h.createElement("span",null,n," 1",(0,ai.Z)("yearAbbreviation")):null:"shorts"===e?h.createElement("span",null,n," 48",(0,ai.Z)("hourAbbreviation")):null}function JJ({showInlineStats:e,checks:t,stats:n,getFormattedStats:i}){if(!n||!e)return null;const{orderedStats:r}=OJ;return h.createElement(h.Fragment,null,r.map((e=>t[e]&&n[e]&&void 0!==n[e].total&&null!==n[e].total?h.createElement("div",{className:"toolbar-stat",key:e},i(e),h.createElement("span",{className:"views-label"},h.createElement(QJ,{type:e,stats:n}))):null)))}function e0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class t0 extends h.Component{constructor(...e){super(...e),e0(this,"getFormattedStats",(e=>{if(!this.props.stats[e])return null;let t=we.Z.safely((()=>this.props.stats[e].total));if(null===t)return null;const n=Fo()("number-views",{monetizable:"yearlyWatchTime"===e&&t>=4e3,"not-monetizable":"yearlyWatchTime"===e&&t<4e3});let i,r,a=null;return"yearlyWatchTime"===e?a=t>=4e3?(0,ai.Z)("monetizableTooltip"):(0,ai.Z)("notMonetizableTooltip"):"number"==typeof t&&(t=Math.round(t)),i="weeklySubscribers"===e?"number"==typeof t?ge()(t).format("0,0"):t:ge()(t).format("0[.]0a"),i.match(/[A-Za-z]/)&&(r=i.slice(-1).toUpperCase(),i=i.slice(0,-1)),h.createElement("span",{className:n,"data-tip-message":a},h.createElement("span",{className:"number"},i),h.createElement("span",{className:"unit"},r))})),e0(this,"_hovered",!1),e0(this,"_timeBeganHovering",null),e0(this,"onMouseOver",(()=>{r()(window).trigger("dropdown:close"),this._hovered=!0,this._timeBeganHovering=(new Date).valueOf()})),e0(this,"onMouseLeave",(()=>{if(!1===this._hovered)return;const e=this._timeBeganHovering?((new Date).valueOf()-this._timeBeganHovering)/10:0;ht("hovered on real time stats bar",{"time hovered on":e,...we.Z.getUrlInfo()}),this._hovered=!1}))}componentDidMount(){const e=r()(".vidiq-toolbar-stats");e.hover((()=>{e.addClass("hovering")}),(()=>{e.removeClass("hovering")})),OJ.watchForOverlap(),OJ.watchTooltip()}render(){if(!this.props.stats)return h.createElement("div",{className:"vidiq-toolbar-stats"});const e=Fo()("vidiq-toolbar-stats",{"new-layout":(0,Ee.Z)()});return h.createElement(PG,null,h.createElement("div",{className:"iq-wrapper"},h.createElement("div",{className:e,onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseLeave},h.createElement(JJ,{showInlineStats:this.props.showInlineStats,checks:this.props.checks,stats:this.props.stats,getFormattedStats:this.getFormattedStats}),h.createElement("div",{className:"stats-symbol-container"},h.createElement("i",{id:"stats-symbol",className:"material-icons"},"insert_chart")),h.createElement(WJ,{stats:this.props.stats,getFormattedStats:this.getFormattedStats,checks:this.props.checks,refreshing:this.props.refreshing,channelId:this.props.stats.channelId})),h.createElement($J,null)))}}const n0=ug(t0,DJ),i0=Oo()({displayName:"TrendingVideosUpsell",render(){const e=chrome.runtime.getURL("images/upgrade-trends.jpg");return h.createElement("div",{className:"trending-videos-upsell free-container"},h.createElement("div",{className:"suggestion"},(0,ai.Z)("wantTrendingVideos")),h.createElement("img",{id:"trending-example",src:e,alt:"vidIQ",height:"506"}),h.createElement(xs,{TrendingVideos:!0,text:(0,ai.Z)("upgradeNowTitle")}))}}),r0=Oo()({displayName:"Tweet",render(){const e=`https://twitter.com/${this.props.username}`;return h.createElement("div",{className:"tweet"},h.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},h.createElement("img",{className:"t-avatar",src:this.props.avatar,width:"48",height:"48",alt:""})),h.createElement("span",{className:"t-heading"},h.createElement("span",{className:"t-name"},this.props.name)),h.createElement("a",{className:"t-username",href:e,target:"blank"},this.props.username),h.createElement("a",{target:"blank",href:this.props.href,className:"t-time"},this.props.time),h.createElement("p",{className:"t-body"},this.props.text))}});const a0=function(){return h.createElement("span",null,h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 182.7 150.7"},h.createElement("defs",null,h.createElement("clipPath",{id:"a"},h.createElement("path",{d:"M0 10h1367v1111H0z"}))),h.createElement("g",{clipPath:"url(#a)",transform:"matrix(.1333 0 0 -.1333 0 150.67)"},h.createElement("path",{fill:"#55ACEE",d:"M1367 989.4c-50.4-22.3-104.4-37.4-161-44.2 57.7 34.7 102.2 89.7 123 155.2-54-32.2-114-55.5-178-68-51 54.4-124 88.5-204.6 88.5-155 0-280.4-126-280.4-281 0-22 2.3-44 7-64C440 787 233.4 899 95 1069c-24-41-38-89.8-38-141 0-97 49.5-183 124.7-233-46 1.3-89.3 14-127 35v-3c0-136 96.5-249.5 224.8-275-23.5-6.7-48.3-10-73.8-10-18 0-35.7 1.5-52.8 5 35-111.6 139-192.7 262-195-96-75-217-120-349-120-22.8 0-45 1.3-67 4C124 56.3 271 10 429.5 10c516 0 798 427.3 798 798 0 12-.5 24.2-1 36.2 55 39.6 102.3 89 140 145.2"}))))},o0=Oo()({displayName:"VideoMetaInformation",render(){const{channelThumbnail:e,channelTitle:t,category:n,datePublished:i}=this.props;return h.createElement("p",{className:"vidiq-video-meta"},e?h.createElement("img",{src:e,className:"vidiq-video-channel-thumbnail",alt:""}):null,h.createElement("strong",null,t)," •"," ",n?h.createElement("span",null,n," • "):null,wt()(i).fromNow())}}),s0=Oo()({displayName:"VideoSpeedometer",render(){const{vph:e}=this.props;return h.createElement("div",{className:"vidiq-video-speedometer"},h.createElement(sU,{vph:e}),h.createElement("span",null,h.createElement("b",null,we.Z.numbro(e))," ",(0,ai.Z)("modalVideoVph")))}}),l0=Oo()({displayName:"VideoStat",getFormatOptions(){const{number:e,percentage:t,currency:n}=this.props;return t?{format:"0.00%"}:n?{format:e<9999?"$0,0":"$0,0.00a"}:{thousands:!0,trim:!0}},getNumber(){const{number:e,denominator:t}=this.props,n=this.getFormatOptions(),i=we.Z.numbro(e,n);return t?`${i}/${t}`:i},render(){const{number:e,label:t,firstItem:n}=this.props;if(!e)return h.createElement("span",null);const i=this.getNumber();return h.createElement("span",null,n?null:h.createElement("span",null," • "),h.createElement("b",null,i)," ",t)}}),c0=l0,u0=Oo()({displayName:"VideoThumbnail",getDuration(){const{duration:e}=this.props;if(!e)return;const t=wt().duration(e,"seconds");return e<60?t.format("m:ss",{trim:!1}):t.format("h:mm:ss")},render(){const{videoId:e}=this.props,t=`https://i.ytimg.com/vi/${e}/hqdefault.jpg`,n=this.getDuration();return h.createElement("div",{className:"vidiq-video-thumbnail"},h.createElement("img",{src:t,alt:""}),n?h.createElement("span",{className:"vidiq-video-duration"},n):null)}}),d0=Oo()({displayName:"Video",_isMounted:!1,getInitialState:()=>({channelThumbnail:null}),componentDidMount(){this._isMounted=!0,this.fetchChannelThumbnail()},componentWillUnmount(){this._isMounted=!1},fetchChannelThumbnail(){const{channel_id:e}=this.props.video;OF.fetchThumbnails(e).then((e=>{this._isMounted&&this.setState({channelThumbnail:e})}))},onClickVideo(e){const{location:t,onClick:n}=this.props;Xo({location:t,channelId:e.channel_id,vph:e.views_per_hour}),n&&n(e)},render(){const{channelThumbnail:e}=this.state,{video:t,showSpeedometer:n,showExtraStats:i}=this.props,{video_id:r,duration:a,title:o,channel_title:s,date_published_at:l,category:c,views:u,views_per_hour:d,subscriptions_driven:p,engagement_rate:f,iq_score:m,channel_subscribers:g}=t,v=`https://www.youtube.com/watch?v=${r}`;return h.createElement("a",{href:v,className:"vidiq-video",target:"_blank",rel:"noopener noreferrer",onClick:()=>this.onClickVideo(t)},n&&d?h.createElement(s0,{vph:d}):null,h.createElement(u0,{videoId:r,duration:a}),h.createElement("div",{className:"vidiq-video-info"},h.createElement("h2",{className:"vidiq-video-title"},o),h.createElement(o0,{channelThumbnail:e,channelTitle:s,category:c,datePublished:l}),h.createElement("p",{className:"vidiq-video-meta"},h.createElement("i",{className:"material-icons"},"play_circle_filled"),h.createElement(c0,{number:u,label:(0,ai.Z)("modalVideoViews"),firstItem:!0}),h.createElement(c0,{number:n?null:d,label:(0,ai.Z)("modalVideoVph")}),h.createElement(c0,{number:p,label:(0,ai.Z)("modalVideoSubsDriven")}),h.createElement(c0,{number:f,label:(0,ai.Z)("modalVideoEngagementRate"),percentage:!0})),i?h.createElement("p",{className:"vidiq-video-meta"},h.createElement("i",{className:"material-icons"},"trending_up"),h.createElement(c0,{number:m,label:(0,ai.Z)("researchVidiqScore2"),denominator:100,firstItem:!0}),h.createElement(c0,{number:g,label:(0,ai.Z)("researchChannelSubs2")})):null))}}),h0=d0,p0=Oo()({displayName:"VC_TimelineChart",create(e){const t=e.models.lineChart().margin({left:50,right:40}).options({duration:350,useInteractiveGuideline:!0}).clipEdge(!1).showYAxis(!0).showXAxis(!0).showLegend(!1);return t.xAxis.tickFormat((e=>wt()(e).format("l"))),t.yAxis.tickFormat((e=>ge()(e).format("0,0.0a").replace(/\.0(.?)$/,"$1"))),t.interactiveLayer.tooltip.headerFormatter((e=>wt()(e).format("LLL"))),t.interactiveLayer.tooltip.valueFormatter((e=>{let t="0,0";return e<1&&e>0&&(t="0,0.0"),ge()(e).format(t)})),t},render(){const e=this.props.data;return!e||L().isEmpty(e)?h.createElement(os,{container:!0}):h.createElement(_G,{create:this.create,data:e,height:170})}}),f0=p0,m0=h.memo((({email:e,onClose:t})=>{const[n,i]=h.useState(!1);if(!e)return null;const r=Fo()("email-confirmation-inner",{loading:n}),a=chrome.runtime.getURL("images/email-check.svg");return h.createElement("div",{className:"email-confirmation-container"},n&&h.createElement("div",{className:"loading-bar"}),h.createElement("div",{className:r},h.createElement("img",{src:a,className:"email-check-icon",alt:""}),h.createElement("p",{className:"email-confirmation-text"},ai.Z.html("emailConfirmationMessagePartOne",[e])," ",h.createElement("a",{id:"confirmation-resend",key:"confirmation-resend-link",onClick:async function(t){t.preventDefault(),i(!0);try{await(0,P.Z)("vidiq.requestEmailConfirmation",{email:e})}catch(e){}finally{i(!1)}}},(0,ai.Z)("resendTheConfirmationLink"))," ",ai.Z.html("emailConfirmationMessagePartTwo")),t&&h.createElement("button",{onClick:t,className:"close-email-confirmation"},h.createElement(Vy,null))))}),((e,t)=>e.email===t.email));function g0(){return g0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},g0.apply(this,arguments)}m0.displayName="EmailConfirmation";const v0=e=>h.createElement("svg",g0({xmlns:"http://www.w3.org/2000/svg",width:"187",height:"64",fill:"none"},e),h.createElement("path",{fill:"#1F6FE5",d:"M110.176 51.597h-2.606v8.562h-4.446V35.024h7.121c4.79 0 7.395 3.258 7.395 8.215 0 5.542-2.397 8.358-7.464 8.358zm-.523-12.553h-2.083v8.321h2.083c2.295 0 3.438-1.386 3.438-4.195s-1.052-4.126-3.438-4.126zm24.169 21.115h-12.788V35.024h12.788v3.987h-8.297v6.414h6.576v4.056h-6.576v6.45h8.297v4.228zm18.51 0h-4.79l-.87-4.057h-4.099l-.866 4.057h-4.516l5.312-25.135h4.483l5.346 25.135zm-6.354-7.975l-1.319-7.974-1.425 7.974h2.744zm13.438.832c0 2.291 1.041 3.4 2.744 3.4 1.286 0 2.429-.73 2.557-2.554h4.341c-.45 4.473-2.777 6.654-6.909 6.654-4.549 0-7.015-2.426-7.015-7.35V42.039c0-4.925 2.466-7.35 7.015-7.35 4.132 0 6.459 2.188 6.909 6.653h-4.33c-.139-1.802-1.282-2.553-2.557-2.553-1.703 0-2.744 1.094-2.744 3.4l-.011 10.827zm26.496 7.143h-12.788V35.024h12.788v3.987h-8.301v6.414h6.576v4.056h-6.576v6.45h8.301v4.228zM51.067 22.515c0 2.287 1.041 3.396 2.74 3.396 1.286 0 2.434-.73 2.558-2.553h4.34c-.453 4.472-2.78 6.657-6.912 6.657-4.55 0-7.012-2.425-7.012-7.35V11.52c0-4.925 2.463-7.35 7.012-7.35 4.132 0 6.46 2.188 6.912 6.657H56.38c-.138-1.802-1.286-2.554-2.557-2.554-1.7 0-2.74 1.095-2.74 3.397l-.015 10.845zm27.954 7.14h-5.626L68.6 19.701v9.952h-4.512V4.516h6.978c4.618 0 7.432 2.772 7.432 7.49 0 4.162-1.98 6.2-5.002 7.036l5.524 10.612zM70.165 8.54H68.6v8.32h2.086c2.013 0 3.226-1.769 3.226-4.194 0-3.192-1.25-4.126-3.748-4.126zm24.76 21.114H82.138V4.516h12.787v3.987h-8.3v6.413H93.2v4.057h-6.577v6.46h8.301v4.221zm18.506 0h-4.79l-.869-4.056h-4.096l-.87 4.056h-4.512l5.312-25.138h4.48l5.345 25.138zm-6.354-7.974l-1.319-7.975-1.425 7.975h2.744zm23.892-12.932h-5.481v20.906h-4.519V8.748h-5.481V4.516h15.488l-.007 4.232zm19.897 13.242c0 5.063-4.114 8.025-8.732 8.025-4.793 0-8.801-3.155-8.801-8.025v-9.777c0-4.888 4.019-8.044 8.801-8.044 4.618 0 8.732 2.948 8.732 8.044v9.777zm-13.767.66c0 2.426 3.333 3.535 5.035 3.535 1.703 0 5.002-1.178 5.002-3.535V11.52c0-2.324-3.336-3.538-5.002-3.538s-5.035 1.145-5.035 3.538v11.13zm32.763 7.004h-5.623l-4.794-9.952v9.952h-4.516V4.516h6.982c4.619 0 7.432 2.772 7.432 7.49 0 4.162-1.98 6.2-5.002 7.036l5.521 10.612zM160.998 8.54h-1.564v8.32h2.083c2.017 0 3.23-1.769 3.23-4.194.011-3.192-1.239-4.126-3.749-4.126zM179.69 30c-4.651 0-6.942-2.286-7.307-6.901h4.132c.245 1.824 1.217 2.637 3.405 2.637a2.53 2.53 0 001.916-.748 2.515 2.515 0 00.722-1.922c0-1.386-.625-2.324-2.605-3.283-1.699-.832-3.507-1.733-5.173-3.12-1.528-1.32-2.222-2.845-2.222-5.41 0-4.377 2.675-7.073 7.015-7.073 4.582 0 6.701 2.426 6.77 6.621h-4.048c.07-1.732-1.096-2.772-2.813-2.772-1.944 0-2.883.901-2.883 2.495 0 1.284.453 2.083 1.948 2.948 2.046 1.247 4.479 1.871 6.247 3.648 1.462 1.422 2.017 3.053 2.017 5.235 0 4.629-2.572 7.646-7.121 7.646zM60.197 39.012H51.9v6.414h6.876v4.056H51.9V60.16h-4.48V35.024h12.788l-.01 3.987zM96.96 60.16h-5.626l-4.79-9.948v9.948h-4.516V35.024h6.993c4.622 0 7.431 2.773 7.431 7.49 0 4.158-1.976 6.201-4.998 7.036L96.96 60.16zm-8.856-21.115h-1.56v8.321h2.082c2.013 0 3.23-1.769 3.23-4.195 0-3.188-1.25-4.126-3.752-4.126zm-9.525 13.589c0 5.06-2.587 8.007-7.176 8.007-4.75 0-7.241-3.155-7.241-8.007v-9.78c0-4.889 2.484-8.044 7.241-8.044 4.59 0 7.176 2.947 7.176 8.044v9.78zm-10.175.656c0 2.426 1.311 3.54 3 3.54 1.687 0 2.966-1.183 2.966-3.54V42.16c0-2.323-1.308-3.534-2.967-3.534s-3 1.141-3 3.534v11.13z"}),h.createElement("path",{fill:"#1F6FE5",d:"M143.709 6.632h-3.022v19.612h3.022V6.632z"}),h.createElement("path",{fill:"#1F6FE5",d:"M134.616 21.64l1.836 1.911 6.977-6.682-1.837-1.911-6.976 6.682z"}),h.createElement("path",{fill:"#1F6FE5",d:"M147.448 23.656l1.914-1.833-6.692-6.966-1.914 1.834 6.692 6.965zM24.801 32.087l-1.37 6.665h-8.488l1.414-6.665h-6.74l-1.48 6.49H1.68L0 46.257h6.544L2.832 64h6.806l3.8-17.744h8.312L17.86 64h6.807l3.89-17.744h6.632l1.593-7.679h-6.543l1.351-6.49h-6.788z"}),h.createElement("path",{fill:"#1F6FE5",d:"M17.771 25.423h8.4l-1.37 6.665h6.788l1.389-6.665h6.364l1.681-7.68h-6.452L38.37 0h-6.72l-3.89 17.744h-8.134L23.252 0h-6.807l-3.712 17.744H5.926l-1.68 7.679h6.894l-1.524 6.665h6.741l1.414-6.665z"}));const y0=Qn(oi,{target:"e1xsirwp6"})({name:"s71ngb",styles:"border-radius:12px;margin-bottom:8px;cursor:pointer"}),b0=Qn(oi,{target:"e1xsirwp5"})({name:"1azo5y2",styles:"background:#1f6fe5;border-radius:12px 12px 0 0;padding:43px 0 36px;width:100%;position:relative"}),_0=Qn("div",{target:"e1xsirwp4"})({name:"1nui4pa",styles:"font-size:35px;line-height:41px;font-weight:700;text-align:center;color:#fff"}),w0=Qn("div",{target:"e1xsirwp3"})({name:"1ytr8un",styles:"position:absolute;top:8px;right:8px;width:16px;height:16px;svg{color:#b8b8b8;width:16px;height:16px;}svg:hover{cursor:pointer;color:#fff;}"}),k0=Qn(oi,{target:"e1xsirwp2"})({name:"1vitce4",styles:"background:#ffc400;border-radius:0 0 12px 12px;padding:26px 0;width:100%"}),x0=Qn("div",{target:"e1xsirwp1"})({name:"9ufplk",styles:"font-size:15px;line-height:18px;color:#000;font-weight:500;display:flex;align-items:center;justify-content:center;margin-bottom:16px;text-align:center"}),E0=Qn("div",{target:"e1xsirwp0"})({name:"11ma4c3",styles:"background:#fff;color:#1f6fe5;padding:8px 36px;font-size:15px;line-height:18px;font-weight:700;cursor:pointer;border-radius:100px;margin-top:16px;&:hover{background:#1f6fe5;color:#fff;}"}),C0=()=>{const{shouldDisplay:e,onDismiss:t}=ri("vidiq-creators-for-peace-dismissed"),n=e=>{e.stopPropagation(),window.open("https://creatorsforpeace.com/join/","_blank")};return h.createElement(I,{abClient:R,name:tt.CREATORS_FOR_PEACE},h.createElement(N,{name:"variant"},e&&h.createElement(y0,{flow:"column",onClick:n},h.createElement(b0,null,h.createElement(_0,null,(0,ai.Z)("creatorsForPeaceHeader")),h.createElement(w0,{onClick:e=>{e.stopPropagation(),t()}},h.createElement(Vy,null))),h.createElement(k0,{flow:"column"},h.createElement(x0,null,(0,ai.Z)("creatorsForPeaceMessage")),h.createElement(v0,null),h.createElement(E0,{onClick:n},(0,ai.Z)("creatorsForPeaceButtonText"))))))};const S0=function({collapsed:e,toggle:t}){const n=Fo()("toggle-collapse",{collapsed:e});return h.createElement("button",{className:n,onClick:t},h.createElement("svg",{viewBox:"0 0 22 22"},h.createElement("g",{transform:"translate(1.000000, 1.000000)",strokeWidth:"2"},h.createElement("path",{className:"outer-ring",d:"M10,20 C15.5228475,20 20,15.5228475 20, 10 C20,4.4771525 15.5228475,0 10,0 C4.4771525,0 0,4.4771525 0,10 C0, 15.5228475 4.4771525,20 10,20 Z",fill:"none"}),h.createElement("path",{className:"chevron",d:"M6,11.7883523 L9.80326705,8 L13.6065341,      11.7883523",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}))))},T0=Oo()({displayName:"VC_Header_Inner",tabs:[{name:"stats",icon:"view_module",event:"viewed stats"},{name:"historical",icon:"insert_chart",event:"viewed historical"},{name:"tweets",icon:h.createElement(a0,null),event:"viewed tweets"},{name:"trending",icon:"trending_up",event:"viewed trending"}],getNavButtons(){return L().map(this.tabs,(function(e){let t=()=>{FN.update({activeTab:e.name}),TN(e.event)};this.props.collapsed&&(t=()=>{});const n=Fo()("tab-"+e.name,{active:this.props.activeTab===e.name});let i;i=L().isString(e.icon)?h.createElement("i",{className:"material-icons"},e.icon):e.icon;const r=ai.Z.lower(e.name);return h.createElement("button",{className:n,onClick:t,key:e.name,"data-tip-message":r,"data-center":!0,"data-adjust-y":-5,"data-delay":100,"data-class":"vc-nav-tooltip"},i)}),this)},render(){return h.createElement("header",{className:"video-companion-header"},h.createElement("nav",null,this.getNavButtons()),h.createElement("a",{href:Su("http://app.vidiq.com"),target:"_blank",rel:"noopener noreferrer"},h.createElement(UG,{badge:!0,size:"small"})),h.createElement(S0,{collapsed:this.props.collapsed,toggle:this.props.toggleCollapsed}))}}),D0=ug(T0,SN,(e=>L().extend({},e,{toggleCollapsed:FN.toggleCollapsed}))),F0=Oo()({displayName:"VC_Error",render:()=>h.createElement("div",null,h.createElement("p",{id:"vidiq-error",style:{textAlign:"center",lineHeight:"3em"}},ai.Z.html("troubleLoading")))}),M0=Oo()({displayName:"VC_Loading",render(){const e={background:"url("+chrome.runtime.getURL("images/loader.gif")+") no-repeat top center",height:"36px"};return h.createElement("div",{id:"vidiq-loader",style:e})}}),A0=M0,I0=(e,t)=>{const n=(0,U.F)(),i=new URLSearchParams({redirectTo:"/extension_login_success",source:n.clientHeader,location:n.location});return t&&i.append("action",t),`${e}?${i.toString()}`};function O0({url:e,left:t=100,top:n=150,width:i=600,height:r=800,popup:a="yes",toolbar:o="no",location:s="no",status:l="no",scrollbars:c="no",resizable:u="no",fullscreen:d="no",windowName:h="popup"}){return window.open(e,h,`left=${t},top=${n},width=${i},height=${r},popup=${a},toolbar=${o},location=${s},status=${l},scrollbars=${c},resizable=${u},fullscreen=${d}`)}const N0=()=>h.createElement("div",{className:"vidiq-auth-alt-login-signup-title-container"},h.createElement("p",{className:"vidiq-auth-alt-login-signup-title"},(0,ai.Z)("logInToVidiq")),h.createElement("p",{className:"vidiq-auth-alt-login-signup-subtitle"},"💡 ",(0,ai.Z)("freeDailyIdeas")),h.createElement("p",{className:"vidiq-auth-alt-login-signup-subtitle"},"📈 ",(0,ai.Z)("boostYourYoutubeViews")),h.createElement("p",{className:"vidiq-auth-alt-login-signup-subtitle"},"🔍 ",(0,ai.Z)("hiddenSecretsOfYoutube"))),P0=()=>h.createElement("div",{className:"iq-auth-container"},h.createElement("div",{className:"logo-container"},h.createElement("a",{href:Su("http://vidiq.com"),title:"Visit vidIQ",target:"_blank",rel:"noopener noreferrer"},h.createElement("div",{id:"vidiq-auth-header-logo"}))),h.createElement(N0,null),h.createElement($c,{width:"100%",padding:"14px",onClick:()=>{const{via:e}=(0,U.F)();pt("opened session sharing modal",{via:`${e} scorecard`,"opened by":"log in"}),O0({url:I0(o.ZP.session.loginUrl)})}},(0,ai.Z)("logIn")),h.createElement("div",{className:"footer-wrapper"},h.createElement("p",null,(0,ai.Z)("noAccountYet")," ",h.createElement(tE,{variant:"link",tabIndex:0,onClick:()=>{const{via:e}=(0,U.F)();dt("User viewed signup form"),pt("opened session sharing modal",{via:`${e} scorecard`,"opened by":"sign up"}),O0({url:I0(o.ZP.session.signUpUrl)})}},(0,ai.Z)("signUp"))))),R0={videoId:null,interval:null,queue(){this.flush();let e=0;const t=SN.getData().videoId;t?((0,Y.Z)("ScorecardEvent: queue",t),this.videoId=t,this.interval=setInterval((()=>{const n=SN.getData();let i={"video id":n.videoId,"video title":n.data.title,"channel id":n.data.channel_id,"channel name":n.data.channel_name};const r=i.videoId&&i.videoId!==t;r&&(i={});const a=0===Object.values(i).filter((e=>!e)).length;(0,Y.Z)("ScorecardEvent: poll",i,"found data?",a,"id changed?",r),e+=1,(e>=5||a||r)&&this.emit(t,i)}),400)):(0,ke.Z)("No video ID found in store for sending scorecard event")},clear(){clearInterval(this.interval),this.interval=null},emit(e,t){this.clear();const n=SN.getData(),i=J.Z.getData().authed,r={...t,...i?{section:n.activeTab}:{}};i?ht("viewed scorecard logged in",r):pt("viewed scorecard logged out",r)},flush(){null!==this.interval&&(this.clear(),this.emit(this.videoId,{}))}};const j0=function(){return h.useEffect((()=>{dt("Logged out user loaded scorecard"),R0.queue()}),[]),h.createElement(P0,null)},L0=Oo()({displayName:"VideoCompanionBase_Inner",render(){const{error:e,authed:t,loading:n,user:i,confirmEmail:r}=this.props;return n||null===e&&null===t?h.createElement(A0,null):e?h.createElement(F0,null):t?h.createElement(J1,{confirmEmail:r,user:i}):h.createElement(j0,null)}}),q0=ug(L0,J.Z),Z0={containerSelector:null,lastRoot:null,authed:J.Z.getData().authed,authListener(){const e=J.Z.getData();!this.authed&&e.authed&&FN.requestData(),this.authed=e.authed},getRoot(){let e=r()("#video-companion-root");if(e.length>0)return e[0];e=r()('<div id="video-companion-root" class="vidiq-react"></div>');const t=(0,Ee.Z)()?"#player-ads":"#placeholder-playlist";return e.insertAfter(r()(this.containerSelector).find(t)),e[0]},isUnavailable:()=>r()("#player-unavailable:not(.hid)").length>0&&!(0,Ee.Z)(),mount(){if(this.isUnavailable())return;FN.update({videoId:oN().currentVideoID()}),(0,Y.Z)("Mounting video companion @ %s",window.location.href),J.Z.addChangeListener(this.authListener.bind(this));const e=h.createElement(q0);this.lastRoot=this.getRoot(),Yo.render(e,this.lastRoot);let t=0;const n=setInterval((()=>{t+=1,r()(".tb-videolytics-container").length?(this.unmount(),this.lastRoot=this.getRoot(),r()(this.containerSelector).prepend(this.lastRoot),Yo.render(e,this.lastRoot),clearInterval(n)):t>=20&&clearInterval(n)}),100);J.Z.getData().authed?FN.requestData():FN.requestLimitedData(),we.Z.mountComponent({selector:(0,Ee.Z)()?"#upload-info.ytd-video-owner-renderer":"#watch7-subscription-container",rootClass:"vidiq-video-page-menu",component:WB,insertFn:(0,Ee.Z)()?"after":"",inline:!0,props:{v2:!0}})},unmount(){this.lastRoot&&(J.Z.removeChangeListener(this.authListener.bind(this)),Yo.unmountComponentAtNode(this.lastRoot),(0,Y.Z)("Unmounted old video companion"))},getRemovalNoticeState(){const e=ye.Z.getItem("vc_removal_notice");return null==e?(ye.Z.setItem("vc_removal_notice",!0),!0):e},getRemovalNoticeCount(){const e=ye.Z.getItem("vc_removal_notice_count");return null==e?(ye.Z.setItem("vc_removal_notice_count",1),!0):!(e>5)&&(ye.Z.setItem("vc_removal_notice_count",e+1),!0)},getRemovalNoticeBeforeExpiration(){const e=new Date("Wed, 20 Dec 2017 12:00:00 GMT").getTime();return(new Date).getTime()<e}},B0=()=>{const e="videoCompanionWatcher";go.Z.watch(Z0.containerSelector,e).enter((()=>{Z0.unmount(),Z0.mount(),go.Z.clear(Z0.containerSelector,e)}))};r()((()=>{let e;Z0.containerSelector=(0,Ee.Z)()?"#related":"#watch7-sidebar",B0();let t=window.location.search;go.Z.forUrl("pathname","/watch",(()=>{e=setInterval((()=>{if(window.location.search!==t){if(t=window.location.search,"/watch"!==window.location.pathname)return;B0()}}),500)}),(()=>{clearInterval(e)}));const n=(0,Ee.Z)()?"#body.ytd-comment-renderer":".comment-renderer",i=(0,Ee.Z)()?"a#author-text":".yt-uix-sessionlink",a=(0,Ee.Z)()?"#header-author.ytd-comment-renderer":".comment-renderer-header";LH.watchForChannelLinks({parent:n,link:i,header:a},"video");const o=()=>{let e;if((0,Ee.Z)())return;const t=".comment-section-sort-menu";go.Z.forUrl("pathname","/watch",(()=>{go.Z.watch(t).enter((t=>{e&&we.Z.unmountComponent(e);const n=(0,Ee.Z)()?"video-page-comments-filter":"video-page-comments-filter-old";e=we.Z.mountComponent({component:AB,element:t,inline:!0,insertFn:"after",rootClass:n,props:{videoPage:!0}})}))}),(()=>{we.Z.unmountComponent(e),go.Z.clear(t)}))};o();let s=!1;r()(window).on("engage-comment-scan",(()=>{if(s)return;(0,Y.Z)("Scanning Comment Threads ..."),s=!0;const e=(0,Ee.Z)()?"ytd-comment-thread-renderer:not([vidiq-comment-id])":".comment-thread-renderer:not([vidiq-comment-id])";go.Z.watch(e).enter((e=>{if(xo.registerThread(),(0,Ee.Z)())return vB.addThreadSimple(e);Ds.push((()=>{vB.addThread(e)}),"comments-filter")}));const t=window.location.search,n=setInterval((()=>{t!==window.location.search&&(go.Z.clear(e),xo.clear(),(()=>{const e=(0,Ee.Z)()?"ytd-comment-thread-renderer":".comment-thread-renderer";setTimeout((()=>{r()(e).each(((e,t)=>{r()(t).removeAttr("vidiq-comment-id"),r()(t).removeClass("vidiq-hidden-thread")}))}))})(),r()(".video-page-comments-filter").remove(),o(),s=!1,clearInterval(n))}),10)})),go.Z.forUrl("pathname","/watch",(()=>{go.Z.watch(".comment-simplebox").enter((e=>{(0,Ee.Z)()||we.Z.mountComponent({component:hW,element:e,props:{type:"vidiq-video-page"}})})).leave((()=>{r()(".vidiq-emoji-menu-container").remove()})),go.Z.watch("#contenteditable-textarea.ytd-commentbox").enter((e=>{we.Z.mountComponent({component:hW,element:e,insertFn:"after",props:{type:"vidiq-new-layout-video-page",id:we.Z.prettyRandomId(),triggeredChange:t=>{const n=r()(e),i=e.innerText,a=n.find("#contenteditable-root");a?a.text((i||"")+t.native):Me.Z.warning("Emoji selected - cannot find contenteditable-root");const o=n.parents("#main.ytd-commentbox").get(0),s=r()(o).find("ytd-button-renderer#submit-button")[0];r()(s).removeAttr("disabled")}}})})).leave((()=>{r()(".vidiq-emoji-menu-container").remove()}))}))}));const V0=Z0;const z0=Qn("div",{target:"eoui1uw7"})({name:"1iwn9tw",styles:"position:relative;background:var(--background-primary);border-radius:var(--css-vidiq-radii-lg);border:1px solid var(--extra-light-grey-v2);padding:var(--css-vidiq-space-4);margin-bottom:var(--css-vidiq-space-4)"}),U0=Qn("div",{target:"eoui1uw6"})({name:"o2d6zf",styles:"display:flex;flex-direction:row;align-items:center;justify-content:center"}),W0=Qn("p",{target:"eoui1uw5"})({name:"1uyfzpn",styles:"font-family:Roboto;font-style:normal;text-align:center;color:var(--off-black)"}),H0=Qn(W0,{target:"eoui1uw4"})({name:"1p2t96c",styles:"font-weight:bold;font-size:20px;line-height:23px;margin:var(--css-vidiq-space-4) auto;cursor:pointer;span{font-weight:900;font-size:32px;line-height:37px;margin-right:var(--css-vidiq-space-3);}"}),Y0=Qn(W0,{target:"eoui1uw3"})({name:"z4mu7a",styles:"font-weight:500;font-size:14px;line-height:16px;margin-bottom:var(--css-vidiq-space-8)"}),$0=Qn("button",{target:"eoui1uw2"})("background-image:var(--background-blue-purple-gradient)!important;padding:var(--css-vidiq-space-2) var(--css-vidiq-space-8)!important;width:160px;border-radius:var(--css-vidiq-radii-full);cursor:pointer;z-index:1;position:relative;transform:translateZ(0);&:before{position:absolute;content:'';top:0;right:0;bottom:0;left:0;border-radius:var(--css-vidiq-radii-full);background-image:var(\n      --background-blue-purple-gradient-inverted\n    )!important;z-index:-1;transition:opacity 0.5s linear;opacity:0;transform:translateZ(0);}&:hover:before{opacity:1;}",W0,"{font-weight:bold;font-size:12px;line-height:18px;text-align:center;color:white;}"),K0=Qn(U0,{target:"eoui1uw1"})({name:"2o6p8u",styles:"justify-content:space-between"}),G0=Qn("button",{target:"eoui1uw0"})({name:"plq368",styles:"width:var(--css-vidiq-space-8);height:var(--css-vidiq-space-8);color:var(--icon-grey);cursor:pointer"}),X0="vc-upsell-dismissed";const Q0=xs;function J0(){const{isVisible:e,handleDismiss:t}=function(){const[e,t]=(0,h.useState)(!1);return(0,h.useEffect)((()=>{!async function(){(0,ve.h)().userTypeIs("basic")&&!0!==await l.get(X0)&&t(!0)}()}),[]),{isVisible:e,handleDismiss:(0,h.useCallback)((async()=>{await l.set({[X0]:!0}),xs.dismissHandler("VideoCompanionUpsellCard",void 0),t(!1)}),[])}}();return e?h.createElement(z0,null,h.createElement(K0,null,h.createElement("span",null),h.createElement(G0,{"aria-label":"Hide Banner",onClick:t},h.createElement(Vy,null))),h.createElement(U0,null,h.createElement(H0,null,h.createElement("span",null,"🚀"),(0,ai.Z)("upsellSuperchargeTitle"))),h.createElement(Y0,null,(0,ai.Z)("upsellSuperchargeSubTitle")),h.createElement(U0,null,h.createElement($0,{onClick:()=>Q0.handler("VideoCompanionUpsellCard",void 0)},h.createElement(W0,null,(0,ai.Z)("upsellViewPlans"))))):null}const e1=Oo()({displayName:"VC_Container_Inner",body:h.createRef(),getInitialState:()=>({removalNoticeState:V0.getRemovalNoticeState(),removalNoticeCount:V0.getRemovalNoticeCount(),removalNoticeBeforeExpiration:V0.getRemovalNoticeBeforeExpiration()}),UNSAFE_componentWillReceiveProps(e){if(this.body.current&&(this._timeout&&clearTimeout(this._timeout),this.props.collapsed!==e.collapsed)){const t=this.body.current;this._collapsing=e.collapsed,e.collapsed?(t.style.maxHeight=t.offsetHeight+"px",this._lastMaxHeight=t.style.maxHeight):t.style.maxHeight=this._lastMaxHeight||"5000px"}},componentDidUpdate(){this.body.current&&(this._timeout=setTimeout((()=>{this.body.current&&(this.body.current.style.maxHeight="")}),this._collapsing?10:500))},hideRemovalNotice(){ye.Z.setItem("vc_removal_notice",!1),this.setState({removalNoticeState:!1})},closeNoticeButton(){return h.createElement("div",{className:"vidiq-removal-notice-close",title:"Hide",onClick:this.hideRemovalNotice},h.createElement("i",{className:"material-icons"},"close"))},supportLink(){const e=chrome.i18n.getUILanguage();switch(e.indexOf("-")>0?e.split("-")[0]:e){case"es":return"https://support.vidiq.com/espanol/por-que-se-eliminan-varias-metricas-del-panel-de-vidiq";case"ru":return"https://support.vidiq.com/%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9/%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83-%D0%BF%D1%80%D0%BE%D0%BF%D0%B0%D0%BB%D0%B0-%D0%BD%D0%B5%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%B0%D1%8F-%D1%81%D1%82%D0%B0%D1%82%D0%B8%D1%81%D1%82%D0%B8%D0%BA%D0%B0-%D0%B8%D0%B7-%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D0%B9-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D0%B8-vidiq";case"tr":return"https://support.vidiq.com/turkce/neden-bazi-metrikler-vidiq-video-panelinden-kaldirildi";case"vi":return"https://support.vidiq.com/ti%E1%BA%BFng-vi%E1%BB%87t/vi-sao-m%E1%BB%99t-s%E1%BB%91-thong-s%E1%BB%91-dang-b%E1%BB%8B-g%E1%BB%A1-ra-kh%E1%BB%8Fi-vidiq-scorecard-th%E1%BA%BB-di%E1%BB%83m-vidiq";case"pt":return"https://support.vidiq.com/portugues/por-que-as-analises-estao-sendo-removidas-do-placar-do-vidiq";case"fr":return"https://support.vidiq.com/francais/pourquoi-les-statistiques-sont-elles-supprimees-de-la-carte-de-score-vidiq";default:return"https://support.vidiq.com/english/why-are-metrics-being-removed-from-vidiq-scorecard"}},removalNotice(){return this.state.removalNoticeState&&this.state.removalNoticeCount&&this.state.removalNoticeBeforeExpiration?h.createElement("div",{className:"vidiq-removal-notice"},this.closeNoticeButton(),(0,ai.Z)("removalNoticePart1"),h.createElement("br",null),h.createElement("br",null),(0,ai.Z)("removalNoticePart2"),h.createElement("br",null),h.createElement("a",{href:this.supportLink(),target:"_blank",rel:"noopener noreferrer"},(0,ai.Z)("removalNoticePart3"))):null},render(){const e=Fo()("video-companion-container","vidiq-video-companion-container",this.props.className,{collapsed:this.props.collapsed,"new-layout":(0,Ee.Z)()});return h.createElement("div",{className:e,"data-extension-id":chrome.runtime.id},this.props.header?this.props.header:h.createElement(D0,null),h.createElement(C0,null),"stats"===this.props.activeTab?h.createElement(J0,null):null,h.createElement("div",{className:"video-companion-body",ref:this.body},this.props.children))}}),t1=ug(e1,SN,(e=>L().pick(e,"collapsed"))),n1=Oo()({displayName:"VC_HistoricalTabUpsell",render(){const e=chrome.runtime.getURL("images/graph-blurred.png");return h.createElement("div",{className:"historical-upsell free-container"},h.createElement("div",{className:"suggestion"},(0,ai.Z)("wantExtraStats")),h.createElement("img",{id:"graph-example",src:e,alt:"vidIQ",height:"303"}),h.createElement(xs,{ScorecardHistorical:!0,text:(0,ai.Z)("upgradeNowTitle")}))}}),i1=Oo()({displayName:"VC_HistoricalTab",getChartOrEmptyMessage(e,t){if(!L().isEmpty(e))return t()},getViewsChart(){const e=this.props.data.charts.views_chart;return this.getChartOrEmptyMessage(e,(()=>h.createElement("div",{className:"chart-container"},h.createElement("h1",null,(0,ai.Z)("viewsTitle")),h.createElement(f0,{data:e}))))},getVphChart(){const e=this.props.data.charts.vph_chart;return this.getChartOrEmptyMessage(e,(()=>h.createElement("div",{className:"chart-container"},h.createElement("h1",null,(0,ai.Z)("viewsPerHourTitle")),h.createElement(f0,{data:e}))))},getEmptyCharts(){const e={vph_chart:(0,ai.Z)("viewsPerHourTitle"),views_chart:(0,ai.Z)("viewsTitle")};return L().map(this.props.data.charts,((t,n)=>{if(L().isEmpty(t))return h.createElement("h1",{key:n,className:"no-data"},(0,ai.Z)("noDataForChart",[e[n]]))}))},getCsv(){const e=this.props.data,t=(0,ai.Z)("downloadName",[e.video_id]);return h.createElement("div",{className:"download-csv"},h.createElement("a",{href:e.historical_csv,download:t,className:"vidiq-button"},(0,ai.Z)("downloadCSVTitle")))},render(){if(!(0,ve.h)().featurePermitted("historical"))return h.createElement(n1,null);const e=this.props.data.charts;return e?L().isEmpty(e)||L().isEmpty(L().values(e))?h.createElement("div",{className:"vc-historical"},h.createElement("p",{className:"vidiq-absolute-middle"},h.createElement("b",null,(0,ai.Z)("noHistoricalData")))):h.createElement("div",{className:"vc-historical"},this.getViewsChart(),this.getVphChart(),this.getEmptyCharts(),this.getCsv()):h.createElement(os,{container:!0})}}),r1=i1,a1=Oo()({displayName:"VC_EngagementDistribution",getLabel:e=>({yt:"YouTube",fb:"FB",google:"G+",reddit:"R",tweets:"T",stumbleupon:"SU"}[e]),getName:e=>({yt:"YouTube",fb:"Facebook",google:"Google+",tweets:"Twitter",reddit:"Reddit",stumbleupon:"StumbleUpon"}[e]),getBars(){return L().chain(this.props.data).map(((e,t)=>e<.01?null:{percent:e,key:t})).compact().sortBy((e=>-e.percent)).map((function(e,t){const n=ge()(e.percent).format("0.0%"),i=n.replace(/\../,"");let r=e.percent<.1?i:n;e.percent<.06&&(r=null);const a={flexBasis:i},o=Fo()("bar","bar-"+e.key),s=this.getName(e.key),l=(0,ai.Z)("percentOfEngagements",[s,n]),c=0===t?s:this.getLabel(e.key);return h.createElement("div",{className:o,style:a,key:e.key,"data-tip-message":l,"data-follow":!0,"data-adjust-y":-20},h.createElement("div",{className:"bar-inner"},h.createElement("span",null,r)),r?h.createElement("label",null,c):null)}),this).value()},render(){if(!this.props.data)return null;const e=this.getBars();return 0===e.length?null:h.createElement("div",{className:"vc-engagement-dist"},e)}}),o1=a1,s1=Oo()({displayName:"VC_OptimizationChecklistItem",getLink(e){const{videoId:t,channelId:n}=this.props;switch(e){case"title":case"keywords":case"desc":case"cards":case"endscreens":case"highres_thumbnail":case"status":return`https://studio.youtube.com/video/${t}/edit`;case"seo_checklist_closed_captions":return`https://studio.youtube.com/video/${t}/translations`;case"pinned":case"hearted":case"seo_checklist_replied_comment":return`https://studio.youtube.com/video/${t}/comments/inbox`;case"seo_checklist_shared_facebook":return"https://www.facebook.com";case"monetization":return`https://studio.youtube.com/channel/${n}/monetization`;case"added_to_playlist":return`https://studio.youtube.com/channel/${n}/playlists`}},link(e,t){if(t||!this.props.owned)return null;return h.createElement("a",{href:this.getLink(e),target:"_blank",rel:"noopener noreferrer",className:"checklist-arrow-link",onClick:()=>{dt("Clicked video optimization checklist link",{key:e}),ht("clicked on optimization checklist",{"video id":this.props.videoId,"item name":this.props.object.key.replace(/_/g," ")})}},h.createElement("i",{className:"material-icons"},"arrow_forward"))},getTooltip(e){switch(e){case"title":return(0,ai.Z)("checklistTitleRangeTooltip");case"desc":return(0,ai.Z)("checklistDescRangeTooltip");case"keywords":return(0,ai.Z)("checklistTagsRangeTooltip")}},getMessage(e,t){return e?h.createElement("span",{className:"message","data-tip-message":this.getTooltip(t)},e):null},render(){let e=this.props.object.value;const t=this.props.object.key,n=this.props.object.label;let i;if(L().isArray(e)&&(i=e[1],e=e[0]),void 0===e)return null;const r=e?"✓":"✗",a=Fo()("icon",{checked:e,unchecked:!e});return h.createElement("div",{className:"checklist-item"},h.createElement("span",{className:a},r),h.createElement("span",{className:"label"},we.Z.capitalize(n)),this.link(t,e),this.getMessage(i,t))}}),l1=s1,c1=Oo()({displayName:"VC_OptimizationChecklist",ranges:{title:[20,60],keywords:[200],desc:[300]},ownedValuesOnly:["added_to_playlist","seo_checklist_replied_comment","seo_checklist_closed_captions","monetization"],getInitialState:()=>({extraValues:[]}),UNSAFE_componentWillMount(){go.Z.watch("#comment").enter((()=>{const e=r()("html"),t=e.find(".ytd-pinned-comment-badge-renderer"),n=e.find("#hearted"),i=[{key:"pinned",value:t.length>0,label:(0,ai.Z)("pinnedComment")},{key:"hearted",value:n.length>0,label:(0,ai.Z)("heartedComment")}];this.setState({extraValues:i})}))},componentWillUnmount(){go.Z.clear("#comment")},getWithinRange(e,t){const n=("keywords"===e&&Array.isArray(t)?t.join(""):t)||"",i=this.ranges[e],r=i[0],a=i[1];return n.length<r?[!1,(0,ai.Z)("tooShort")]:!(a&&n.length>a)||[!1,(0,ai.Z)("tooLong")]},getValues(){const e=this.props.data,t=this.props.data.owned?this.props.statNames:this.props.statNames.filter((e=>this.ownedValuesOnly.indexOf(e.key)<0));return L().map(t,(t=>{const n=t.key;if(void 0===e[n])return L().extend(t,{value:void 0});let i;switch(n){case"title":case"desc":case"keywords":i=this.getWithinRange(n,e[n]);break;case"status":i="public"===e[n];break;case"cards":case"endscreens":i=e[n]>0;break;default:i=e[n]}return L().extend(t,{value:i})}))},render(){if(!this.props.data||L().isEmpty(this.props.data))return null;const e=this.getValues().concat(this.state.extraValues),t=L().map(e,(e=>h.createElement(l1,{key:e.key,object:e,videoId:this.props.videoId,channelId:this.props.channelId,owned:this.props.data.owned}))),n=Fo()("vc-optimization-checklist",{"not-owned":!this.props.data.owned});return h.createElement("div",{className:"vc-optimization-checklist-container"},h.createElement("div",{className:n},t),h.createElement(FU,{permitted:(0,ve.h)().featurePermitted("controversialKeywords"),title:this.props.data.title||"",desc:this.props.data.desc||"",keywords:this.props.data.keywords||[]}))}}),u1=c1,d1=({couldOwn:e,owned:t,updateShowRefresh:n})=>{const i=(0,h.useCallback)((()=>{FN.ignoreAuthPrompt()}),[]),r=(0,h.useCallback)((()=>{(async()=>{n();const e=await(0,P.Z)("vidiq.authChannel");window.open(e.url?e.url:Su("https://app.vidiq.com"))})()}),[n]),a=ye.Z.getItem("video_page_auth_prompt");return!e||t||void 0===t||!1===a?null:h.createElement("div",{className:"auth-prompt"},h.createElement("p",null,(0,ai.Z)("seeMoreStats"),h.createElement(is,{text:(0,ai.Z)("authChannelTitle"),onClick:r})),h.createElement("button",{onClick:i,className:"x-ignore"},"✖"))},h1=({owned:e,showDummy:t})=>{const n=(0,h.useCallback)((()=>{FN.ignorePrivateStatsPrompt()}),[]),i=ye.Z.getItem("video_page_private_stats_prompt");return e&&t&&!1!==i?h.createElement("div",{className:"auth-prompt"},h.createElement("p",null,(0,ai.Z)("seeMoreStats"),h.createElement(xs,{ScorecardStats:!0,className:"vidiq-upgrade-button",text:(0,ai.Z)("upgradeNowTitle")})),h.createElement("button",{onClick:n,className:"x-ignore"},"✖")):null},p1=Oo()({displayName:"VC_Section",getInitialState(){const e=this.props.defaultCollapsed||!1,t=ye.Z.getItem(this.getCollapsedKey());return{collapsed:void 0===t?e:t}},getCollapsedKey(){return"stats_section_heading_collapsed_"+this.props.id},toggleCollapsed(){const e=!this.state.collapsed;this.setState({collapsed:e}),ye.Z.setItem(this.getCollapsedKey(),e);TN(e?"minimized scorecard section":"expanded scorecard section",{"section name":this.props.id})},render(){const e=this.props.id.toLowerCase().replace(/ /g,"-"),t=Fo()("vc-section","vc-section-"+e,{collapsed:this.state.collapsed});return h.createElement("section",{className:t},h.createElement("header",{onClick:this.toggleCollapsed},h.createElement("h1",{className:"section-heading"},this.props.heading),h.createElement("button",{className:"toggle-collapsed"},this.state.collapsed?"▲":"▼")),h.createElement("div",{className:"section-contents"},this.state.collapsed?null:this.props.children))}}),f1={getList(){const e=L().map(this.props.data,(function(e,t){const n=we.Z.numbro(100*e.percent),i=ge()(e.views,"0,0")+" "+we.Z.plural(e.views,"view");let r=h.createElement("label",null,t);return this.getLabel&&(r=this.getLabel(t,e)),h.createElement("li",{title:i,key:t},r,h.createElement("span",{className:"value"},n,"%"))}),this);return h.createElement("ul",null,e)},render(){if(L().isEmpty(this.props.data))return null;const e=Fo()("vc-top-thing","vc-top-"+this.type);return h.createElement("div",{className:e},h.createElement("h2",null,h.createElement(MU,null)," ",this.label),this.getList())}},m1={countries:Oo()({displayName:"VC_TopCountries",mixins:[f1],type:"countries",label:(0,ai.Z)("topCountriesStatLabel"),getLabel(e){const t="flag "+e,n=_v(e);return h.createElement("span",{className:t,"data-tip-message":n})}}),devices:Oo()({displayName:"VC_TopDevices",mixins:[f1],type:"devices",label:(0,ai.Z)("topDevicesStatLabel"),getLabel(e){const t={desktop:"desktop_mac",mobile:"phone_iphone",tablet:"tablet","game console":"videogame_asset",tv:"tv"}[e],n=(0,ai.Z)(we.Z.camelCase(e)+"Title");return h.createElement("i",{className:"material-icons","data-tip-message":n},t)}})},g1=m1.devices,v1=m1.countries,y1=({getStatSection:e,owned:t,couldOwn:n,showDummy:i,updateShowRefresh:r,topDevices:a,topCountries:o})=>h.createElement(p1,{id:"overview",heading:(0,ai.Z)("overviewTitle")},e({boxes:LN}),h.createElement(h1,{owned:t,showDummy:i}),h.createElement(d1,{couldOwn:n,owned:t,updateShowRefresh:r}),h.createElement("section",{className:"vc-top-things"},h.createElement(g1,{data:a}),h.createElement(v1,{data:o})));function b1(){return b1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},b1.apply(this,arguments)}const _1=function(e){return h.createElement("svg",b1({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),h.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"#252626"}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12zm4.964-16.03l-2.997 2.997a.581.581 0 01-.42.17.616.616 0 01-.607-.607.58.58 0 01.17-.42l2.996-2.998-1.945-.028a.618.618 0 01-.556-.608.581.581 0 01.547-.584l3.383.048a.616.616 0 01.601.6l.049 3.384a.579.579 0 01-.585.548.618.618 0 01-.608-.556l-.024-1.95-.004.004zm-9.852 8.136l2.997-2.997a.58.58 0 01.42-.169.616.616 0 01.607.607.582.582 0 01-.169.42L7.97 16.964l1.945.028a.618.618 0 01.557.608.581.581 0 01-.548.585l-3.383-.049a.616.616 0 01-.6-.6l-.05-3.384a.58.58 0 01.585-.547.615.615 0 01.608.556l.024 1.95.004-.005z",clipRule:"evenodd"}),h.createElement("rect",{width:"23",height:"23",x:"0.5",y:"0.5",stroke:"currentColor",rx:"11.5"}))},w1=({thumbnail:e,category:t})=>{const n=(0,h.useRef)(null),i=(0,h.useRef)(!1),r=(0,h.useCallback)((()=>{i.current=!0,n.current=(new Date).valueOf()}),[]),a=(0,h.useCallback)((()=>{if(!i.current)return;const e=n.current?((new Date).valueOf()-n.current)/10:0;n.current=null,i.current=!1,e<=40||(({timeHovered:e})=>{const t=J.Z.getData(),{name:n,id:i}=dc(t);ht("engaged thumbnail",{location:(0,be.Z)(),"time hovered":e,_identify:{set:{"user id":t.user&&t.user.id,"plan name":n,"plan id":i}}})})({timeHovered:e})}),[]),o=(0,h.useCallback)((()=>{window.open(e,"_blank"),(({category:e,location:t})=>{const n=J.Z.getData(),{name:i,id:r}=dc(n);ht("clicked thumbnail",{"video category":e,location:t,_identify:{set:{"user id":n.user&&n.user.id,"plan name":i,"plan id":r}}})})({category:t,location:"scorecard"}),a()}),[e,t,a]);return e?h.createElement(p1,{id:"thumbnail",heading:(0,ai.Z)("thumbnail")},h.createElement("div",{className:"vidiq-video-companion-thumbnail"},h.createElement("img",{className:"vidiq-video-companion-thumbnail-img",src:e,alt:""}),h.createElement("div",{className:"vidiq-video-companion-thumbnail-overlay",onClick:o,onMouseOver:r,onMouseLeave:a},h.createElement(_1,null),h.createElement("div",{className:"vidiq-video-companion-thumbnail-overlay-text"},(0,ai.Z)("viewFullThumbnail"))))):null},k1=({getStatSection:e,owned:t,couldOwn:n,showDummy:i,updateShowRefresh:r,topDevices:a,topCountries:o,thumbnail:s,category:l})=>h.createElement(h.Fragment,null,h.createElement(y1,{getStatSection:e,owned:t,couldOwn:n,showDummy:i,updateShowRefresh:r,topDevices:a,topCountries:o}),h.createElement(w1,{thumbnail:s,category:l})),x1=we.Z.keyMirror(["UPDATE"],"VIEW_COMPARISON"),E1={spoofs:{spoofChannelAvgData:[{x:1,yLow:1e4,yHigh:11500},{x:2,yLow:50500,yHigh:125e3},{x:3,yLow:22e4,yHigh:3e5},{x:7,yLow:25e4,yHigh:375500},{x:28,yLow:450500,yHigh:55e4}],spoofPlaylistAvgData:[{x:1,yLow:2e4,yHigh:15740},{x:2,yLow:76e3,yHigh:125e3},{x:3,yLow:255e3,yHigh:39e4},{x:7,yLow:25e4,yHigh:402e3},{x:28,yLow:402e3,yHigh:56e4}]},colors:{originalVideo:{borderColor:"#549DD2",pointBackgroundColor:"#549DD2",pointBorderColor:"#356589"},otherVideo:{borderColor:"#C154D3",pointBackgroundColor:"#C154D3",pointBorderColor:"#783883"}},dataSetDefaults:{video:{fill:!1,borderWidth:1,pointRadius:[0,3],pointHoverRadius:4,spanGaps:!0},range:{pointRadius:0,pointHoverRadius:0,borderColor:"rgba(236, 204, 242, 0.9)",backgroundColor:"rgba(236, 204, 242, 0.9)",spanGaps:!0}},defaultTooltips:{displayColors:!0,mode:"index",intersect:!1,callbacks:{title:null,label:null}},defaultGridLines:{display:!0,lineWidth:"2"},getXAxes(){return{type:"linear",gridLines:this.defaultGridLines,ticks:{maxRotation:0,minRotation:0,stepSize:.25,autoSkip:!1,fontColor:"#757575",fontStyle:"bold",callback:null,beginAtZero:!0}}},getYAxes(){return{gridLines:this.defaultGridLines,ticks:{min:null,max:null,stepSize:null,fontColor:"#757575",fontStyle:"bold",callback:null,beginAtZero:!0}}},getOptions(){return{maintainAspectRatio:!1,animation:{duration:0},legend:{display:!1},tooltips:this.defaultTooltips,layout:{padding:{top:20}},scales:{xAxes:[this.getXAxes()],yAxes:[this.getYAxes()]}}}},C1={render(e,t){const n=this.getMax(t),i=this.getOptions(n);return Po.renderChart({id:e,type:"line",datasets:t,options:i})},getDataSet(e,t){const n="videoData"===e?"originalVideo":"otherVideo";switch(e){case"videoData":case"anyVideo":case"lastVideoWatched":return this.getVideoDataSet(t.data,n);default:return this.getRangeDataSets(t)}},getVideoDataSet(e,t){if(!e||!Object.keys(e).length)return"otherVideo"===t?null:{};const n=Object.keys(e).map((t=>({x:parseFloat(t.replace("day",""),10),y:e[t]}))),i=Object.assign({data:[]},E1.dataSetDefaults.video,E1.colors[t]);return i.data=n,[i]},getRangeDataSets(e){if(!e||!Object.keys(e).length)return null;const t=this.getAverageRange(e),n=E1.dataSetDefaults.range,i=Object.assign({data:[{x:0,y:0},{x:.5,y:null}],fill:!1},n),r=Object.assign({data:[{x:0,y:0},{x:.5,y:null}],fill:1},n);return Object.keys(t).forEach((e=>{const n=t[e].avgMin,a=t[e].avgMax,o=parseInt(e.replace("day",""),10);i.data.push({x:o,y:n||NaN}),r.data.push({x:o,y:a||NaN})})),[i,r]},getAverageRange(e){const t={};return Object.keys(e.stats.avg).forEach((n=>{const i=e.stats.avg[n],r=i-.2*(i-e.stats.min[n]),a=i+.2*(e.stats.max[n]-i);t[n]={avgMin:r,avgMax:a}})),t},getMax(e){let t=0;return e.forEach((e=>{e.data.forEach((e=>{e&&e.y&&e.y>t&&(t=e.y)}))})),t},getOptions(e){const t=Object.assign({},E1.getOptions());t.tooltips.callbacks.title=e=>0===e[0].xLabel?(0,ai.Z)("videoPublished"):.5===e[0].xLabel?(0,ai.Z)("current"):1===e[0].xLabel?(0,ai.Z)("oneDayAfterPublish"):(0,ai.Z)("nDaysAfterPublish",[e[0].xLabel]),t.tooltips.callbacks.label=(e,t)=>{const n=e.index;if(0===n||2===e.datasetIndex)return null;if(0===e.datasetIndex||2===t.datasets.length)return`${ge()(e.yLabel).format("0,0")} ${(0,ai.Z)("viewsStatLabel")}`;return`${ge()(t.datasets[1].data[n].y).format("0,0")} ~ ${ge()(t.datasets[2].data[n].y).format("0,0")} ${(0,ai.Z)("viewsStatLabel")}`},t.scales.xAxes[0].ticks.callback=e=>[0,1,2,3,7,28].indexOf(e)<0?null:e,t.scales.yAxes[0].ticks.callback=e=>ge()(e).format("0a").toUpperCase();const n=e>0?Math.round(1.25*e):1e3;return t.scales.yAxes[0].ticks.min=0,t.scales.yAxes[0].ticks.max=n,t.scales.yAxes[0].ticks.stepSize=n/2,t},hasVideoData:e=>e&&e.data&&Object.keys(e.data).length&&Object.values(e.data).some((e=>!!e)),hasAvgData:e=>e&&e.stats&&e.stats.avg&&Object.values(e.stats.avg).some((e=>!!e)),async getCustomId(e,t){if(!t)return null;const n="anyPlaylist"===e?new RegExp(/list=([0-9A-Za-z_-]+)/):new RegExp(`([0-9A-Za-z_-]{${{anyVideo:11,anyChannel:24}[e]}})`),i=t.match(n);if(i&&i[1])return i[1];if("anyChannel"===e){const e=t.match(/youtube.com\/(user|c)?\/?(.+)/);if(!e)return null;const n=e[1],i=e[2];return await AO(i,n)}return null},getErrorMessage(e,t){const n=["videoData","anyVideo","lastVideoWatched"].indexOf(e)>=0;return n&&t.currentViews<1e4?(0,ai.Z)("viewComparisonErrorNotEnoughViews"):n&&t.datePublished<2018?(0,ai.Z)("viewComparisonErrorTooOld"):(0,ai.Z)("viewComparisonErrorOurIssue")},getSparkline(e,t,n){if(!n||n.error)return null;const i=n.dataset[0].data.reduce(((e,n,i)=>{let r=t[0].data[i].y;return null===n.y?e:(.5!==n.x||r||(r=Math.floor(t[0].data[i+1].y/2)),e+(n.y-r||0))}),0);return i>=0?"up":"down"}},S1=C1,T1=new ds.Z("ViewComparisonStore",{_data:{loading:!1,videoData:{},selectOption:{dataset:[],error:!1},yourChannelAverage:{},lastVideoWatched:{},anyVideo:{},anyPlaylist:{},anyChannel:{},thisChannelAverage:{},competitorsAverage:{},channelAvgTrial:null}});T1.dispatchToken=ko.Z.register((e=>{const t=T1,n=x1;if(e.action===n.UPDATE)L().extend(t.data,e.data),t.emitChange()}));const D1=T1,F1={update(e){ko.Z.dispatch({data:e,action:x1.UPDATE})},updateType(e,t){this.update({loading:!1,[e]:t})},updateVideoData(e,t){const n="videoData",i=S1.hasVideoData(t);this.updateType(n,{dataset:S1.getDataSet(n,t),id:e,error:!i,errorMessage:i?null:S1.getErrorMessage(n,t),currentViews:t?t.currentViews:null,datePublished:t?t.datePublished:null})},async fetchData(e,t,n){this.update({loading:!0});const i=D1.getData(),r=e.match(/any/);if(r&&!n.length)return void this.updateType(e,{dataset:null,error:!1,id:null,customUrl:n});const a=await S1.getCustomId(e,n),o=r&&i[e]&&i[e].id!==a;if("selectOption"===e||i[e]&&i[e].dataset&&!o)return void this.update({loading:!1});let s,l,c=a;switch(e){case"thisChannelAverage":if(!t){l=(0,ai.Z)("couldNotFindThisChannelId");break}s=await this.fetchSingleChannelData(t),c=t;break;case"yourChannelAverage":{const e=await(0,_e.Z)();if(!e){l=(0,ai.Z)("couldNotFindYourChannelId");break}s=await this.fetchSingleChannelData(e),c=e;break}case"anyChannel":if(!a){l=(0,ai.Z)("invalidChannelId");break}s=await this.fetchSingleChannelData(a);break;case"anyVideo":if(!a){l=(0,ai.Z)("invalidVideoId");break}s=await this.fetchVideoData(a);break;case"lastVideoWatched":{const e=ye.Z.getItem("last_video_watched");if(!e||!Object.keys(e).length)break;s=e,c=e.videoId;break}case"anyPlaylist":if(!a){l=(0,ai.Z)("invalidPlaylistId");break}s=await this.fetchPlaylistData([a]);break;case"competitorsAverage":{const e=await(0,ve.h)().getCurrentChannel();if(!e||!e.id){l=(0,ai.Z)("youHaveNoCompetitors");break}const t=await this.fetchCompetitors(e.id);if(!t||!t.length){l=(0,ai.Z)("youHaveNoCompetitors");break}const n=t.map((e=>e.yt_channel_id));s=await this.fetchCompetitorsAverage(n);break}}const u=["anyVideo","lastVideoWatched"].indexOf(e)>=0?S1.hasVideoData(s):S1.hasAvgData(s);l||u||(l=S1.getErrorMessage(e,s||{}));const d=u?S1.getDataSet(e,s):null,h=u?S1.getSparkline(e,d,i.videoData):"up";this.updateType(e,{dataset:d,sparkline:h,error:!u,errorMessage:l,id:c,customUrl:n,currentViews:s?s.currentViews:null,datePublished:s?s.datePublished:null})},async fetchVideoData(e){const t=await this.fetchVideoInfo(e);return t?new Promise((n=>{Mj.fn.apply({video_id:e,date_published:t.date,views:t.views},[e=>n(e.views_after_publish)])})):null},async fetchVideoInfo(e){if(!e)return null;try{const t=await fetch(`https://www.youtube.com/watch?v=${e}&ucbcb=1`,{credentials:"omit"});if(!t||!t.ok)return null;let n=await t.text();n=n.replace(/\\/g,"");const i=(n.match(/publishDate":"([^"]+)/)||[])[1],r=i?new Date(i.trim()):null,a=n.match(/"viewCount":{"simpleText":"([0-9,.]+) /);let o=a&&a[1]?a[1]:null;return o=o?parseInt(o.replace(/[^0-9]/g,""),10):null,isFinite(o)||(o=0),{date:r,views:o}}catch(e){return null}},getCompetitorsValues:(e,t)=>({day1:Math.round(e[0]/t),day2:Math.round(e[1]/t),day3:Math.round(e[2]/t),day7:Math.round(e[3]/t),day28:Math.round(e[4]/t)}),async fetchCompetitorsAverage(e){const t=new Array(Math.ceil(e.length/10)).fill().map(((t,n)=>{const i=e.slice(10*n,10*n+10);return this.fetchChannelData(i)})),n=(await Promise.all(t)).flat(),i=[0,0,0,0,0],r=[0,0,0,0,0],a=[0,0,0,0,0];return n.forEach((e=>{const{avg:t,min:n,max:o}=e.stats;Object.keys(t).forEach(((e,s)=>{i[s]+=t[e]||0,r[s]+=n[e]||0,a[s]+=o[e]||0}))})),{stats:{avg:this.getCompetitorsValues(i,n.length),min:this.getCompetitorsValues(r,n.length),max:this.getCompetitorsValues(a,n.length)}}},async fetchSingleChannelData(e){const t=await this.fetchChannelData([e]);return t&&t[0]?t[0]:null},fetchChannelData:e=>P.Z.expanded("vidiq.getAverageViews",{channelIds:e}).then((({response:e,json:t})=>e&&e.ok?t:null)).catch((()=>null)),fetchPlaylistData:e=>P.Z.expanded("vidiq.getAvgPlaylistViews",{playlistIds:e}).then((({response:e,json:t})=>e&&e.ok?t[0]:null)).catch((()=>null)),fetchCompetitors:e=>P.Z.expanded("vidiq.showCompetitors",{cid:e}).then((({response:e,json:t})=>{if(!e.ok||!t)throw new Error(e.status);return t.competitors})).catch((()=>null)),reduceChannelAvgTrial(){(0,P.Z)("vidiq.useCompareViewsQuota").then((e=>{this.update({channelAvgTrial:e.compare_views_quota||0})}))},getChannelAvgTrialQuota(){return P.Z.expanded("vidiq.getSession").then((({json:e,response:t})=>{if(!t||!t.ok||!e)throw new Error(t.status);this.update({channelAvgTrial:e.compare_views_quota})})).catch((e=>{(0,ke.Z)("(vidiq) Error when fetching session in ViewComparisonActions > getChannelAvgTrialQuota:",e),this.update({channelAvgTrial:0})}))}},M1=F1,A1=Oo()({displayName:"VC_ViewComparisonLearnMore",getInitialState(){let e=ye.Z.getItem("vc_view_comparison_learn_more_count");return e||(e=0),e=parseInt(e,10),ye.Z.setItem("vc_view_comparison_learn_more_count",e+1),{display:e<=6}},openPage(){dt("Views Comparison - User clicked Learn More button"),window.open(Su("https://app.vidiq.com/compare-views"),"_blank")},render(){return this.state.display?h.createElement("div",{className:"vc-view-comparison-learn-more-button"},h.createElement(is,{text:(0,ai.Z)("learnMoreAboutThisFeature"),onClick:this.openPage})):null}}),I1=Oo()({displayName:"ViewComparisonExport",getCsvUrl(){const e=["",this.getVideoHeader(),this.getSecondaryHeader()].join(","),t=this.props.videoData.dataset[0].data.map(((e,t)=>0===e.x||.5===e.x&&!e.y?null:`"${this.getRow(e,t).join('","')}"`)),n=e+"\n"+(0,j.compact)(t).join("\n");return gS.csv2url(n)},getCsvName(){const e=this.props.videoData.id;let t=this.props.secondaryData.id;return t||(t="selectOption"===this.props.selected?"none":(0,ai.Z)("competitors")),`vidiq-view-comparison-${e}-vs-${t}.csv`},getVideoHeader(){return`youtube.com/watch?v=${this.props.videoData.id}`},getSecondaryHeader(){const e=this.props.secondaryData.id;switch(this.props.selected){case"thisChannelAverage":case"yourChannelAverage":case"anyChannel":return`youtube.com/channel/${e}`;case"anyVideo":case"lastVideoWatched":return`youtube.com/watch?v=${e}`;case"anyPlaylist":return`youtube.com/playlist?list=${e}`;case"competitorsAverage":return(0,ai.Z)("competitors");case"selectOption":return(0,ai.Z)("selectOption")}},previewHeaders(){return h.createElement("tr",null,h.createElement("th",null),h.createElement("th",{scope:"col"},this.getVideoHeader()),h.createElement("th",{scope:"col"},this.getSecondaryHeader()))},getSecondaryViews(e){const t=this.props.secondaryData.dataset;if(!t||!t.length)return null;let n=ge()(Math.round(t[0].data[e].y)).format("0,0");if(t.length>1){n=`${n} ~ ${ge()(Math.round(t[1].data[e].y)).format("0,0")}`}return`${n} ${(0,ai.Z)("viewsStatLabel")}`},getRow(e,t){let n=1===e.x?(0,ai.Z)("oneDayAfterPublish"):(0,ai.Z)("nDaysAfterPublish",[e.x]);.5===e.x&&(n=(0,ai.Z)("current"));return[n,e.y?`${ge()(e.y).format("0,0")} ${(0,ai.Z)("viewsStatLabel")}`:null,this.getSecondaryViews(t)]},rows(){return this.props.videoData.dataset[0].data.map(((e,t)=>{if(0===e.x||.5===e.x&&!e.y)return null;const n=this.getRow(e,t);return h.createElement("tr",{key:t},h.createElement("th",{scope:"row"},n[0]),h.createElement("td",null,n[1]),h.createElement("td",null,n[2]))}))},preview(){return h.createElement("table",null,h.createElement("thead",null,this.previewHeaders()),h.createElement("tbody",null,this.rows()))},onClickDownload(){yS("video view comparison")},render(){return h.createElement("div",{className:"view-comparison-export"},h.createElement("div",{className:"download-csv"},h.createElement("a",{className:"vidiq-button",href:this.getCsvUrl(),target:"new",download:this.getCsvName(),onClick:this.onClickDownload},(0,ai.Z)("downloadCSVTitle"))),h.createElement("div",{className:"mass-export-preview view-comparison-export-preview"},this.preview()),h.createElement("p",{className:"preview-label"},(0,ai.Z)("CSVPreview")))}}),O1=I1,N1=Oo()({displayName:"VC_ViewComparisonDownload",getInitialState:()=>({permitted:(0,ve.h)().featurePermitted("downloadButtonViewsComp")}),openModal(){this.state.permitted&&!this.props.loading&&this.props.hasData&&(dt("Views Comparison - User opened CSV Export"),vS("video view comparison"),cs.create({title:`${(0,ai.Z)("csvExportTitle")} (${(0,ai.Z)("viewComparisonHeading")})`,innerComponent:O1,innerProps:this.props}))},lockIcon(){return this.state.permitted?null:h.createElement("div",{className:"vc-view-comparison-download-lock"},h.createElement("i",{className:"material-icons"},"lock"))},getTooltip(){return this.state.permitted?(0,ai.Z)("csvExportTitle"):(0,ai.Z)("upgradeToBoostCsvExport")},render(){const e=Fo()("vc-view-comparison-download",{disabled:!this.state.permitted||this.props.loading||!this.props.hasData});return h.createElement("div",{className:e,onClick:this.openModal,"data-tip-message":this.getTooltip(),"data-fixed":!0,"data-center":!0},h.createElement("i",{className:"file-download-icon material-icons"},"file_download"),this.lockIcon())}}),P1=Oo()({displayName:"VC_ViewComparisonSelector",optionKeys:["selectOption","yourChannelAverage","lastVideoWatched","anyVideo","anyPlaylist","anyChannel","thisChannelAverage","competitorsAverage"],getInitialState:()=>({expanded:!1,competitorsAveragePermaError:!0,lastVideoWatchedPermaError:!0}),componentDidMount(){this.checkCompetitors(),this.checkLastVideoWatched(),document.addEventListener("mousedown",this.handleClick,!1)},componentWillUnmount(){document.removeEventListener("mousedown",this.handleClick,!1)},handleClick(e){this.node.contains(e.target)||this.setState({expanded:!1})},async checkCompetitors(){const e=await(0,ve.h)().getCurrentChannel();(e&&e.id?e.id:null)?this.setState({competitorsAveragePermaError:!1}):"competitorsAverage"===this.props.selected&&this.props.onChange("selectOption")},checkLastVideoWatched(){const e=ye.Z.getItem("last_video_watched");e&&Object.keys(e).length?this.setState({lastVideoWatchedPermaError:!1}):"lastVideoWatched"===this.props.selected&&this.props.onChange("selectOption")},toggleExpanded(e){e&&e.target&&e.target.classList.contains("vc-view-comparison-selector-url-input")||this.props.locked||this.setState({expanded:!this.state.expanded})},textInput(){const e=this.props.selected.replace("any",""),t=`Enter ${e} URL or ID`,n=this.props[`custom${e}Url`];return h.createElement("input",{className:"vc-view-comparison-selector-url-input",type:"text",value:n,placeholder:t,onChange:this.props.onChangeUrl})},getTrialUsed(e,t){if("thisChannelAverage"!==e||(0,ve.h)().featurePermitted("thisChannelAverageViewsComp")||null===this.props.channelAvgTrial||!t&&this.props.channelAvgTrial<=0&&!this.props.reducedTrial&&!this.props.visitedVideo)return null;const n=t?h.createElement("span",{className:"vc-view-comparison-selector-trial-dash"},"–"):null;let i=(0,ai.Z)("viewComparisonTrialNumber",[this.props.channelAvgTrial]);return this.props.channelAvgTrial<=0&&!this.props.reducedTrial&&!this.props.visitedVideo&&(i=(0,ai.Z)("upgrade")),h.createElement("div",{className:"vc-view-comparison-selector-trial"},n,h.createElement("span",{className:"vc-view-comparison-selector-trial-num"},i))},getSelectorContent(){let e=(0,ai.Z)(this.props.selected);return this.props.selected.match(/any.+/)&&(e=this.textInput()),h.createElement("div",{className:"vc-view-comparison-selector-content"},e)},selector(){const e=Fo()("vc-view-comparison-selector",{"vc-view-comparison-selector-locked":this.props.locked});return h.createElement("div",{className:e,onClick:this.toggleExpanded},this.props.getColorDot(this.props.selected),this.getSelectorContent(),this.getTrialUsed(this.props.selected,!0),h.createElement("i",{id:"vc-view-comparison-selector-arrow",className:"material-icons"},this.state.expanded?"arrow_drop_up":"arrow_drop_down"))},disabledOption(e){const t=Fo()("vc-view-comparison-selector-option","vc-view-comparison-selector-option-disabled"),n="competitorsAverage"===e?(0,ai.Z)("channelNotAuthed"):(0,ai.Z)("lastVideoWatchedNoData");return h.createElement("div",{key:e,className:t,"data-tip-message":n},(0,ai.Z)(e),h.createElement("i",{id:"vc-view-comparison-option-error",className:"material-icons"},"error"))},optionUpsell(e,t){const n="thisChannelAverage"===e&&(this.props.channelAvgTrial>0||this.props.reducedTrial||this.props.visitedVideo);if(t||n)return null;const i="anyVideo"===e||"anyPlaylist"===e,r="Upgrade to "+(i?"Pro":"Boost"),a="ScorecardViewsComparison"+e.slice(0,1).toUpperCase()+e.slice(1);return h.createElement(xs,{upsell:a,anchor:!0,text:r,className:"vc-view-comparison-selector-option-upsell",resetClassName:!0,targetPlan:i?"pro":"boost",onClick:()=>{dt("Views Comparison - User clicked upsell in selector")}})},options(){return this.state.expanded?this.optionKeys.map((e=>{const t=(0,ve.h)().featurePermitted(`${e}ViewsComp`),n="thisChannelAverage"===e&&(this.props.channelAvgTrial>0||this.props.reducedTrial||this.props.visitedVideo);if(this.state[`${e}PermaError`]&&t)return this.disabledOption(e);const i=Fo()("vc-view-comparison-selector-option",{selected:this.props.selected===e,upsell:!t&&!n});return h.createElement("div",{key:e,className:i,onClick:()=>{(t||n)&&(this.props.onChange(e),this.toggleExpanded())}},(0,ai.Z)(e),this.getTrialUsed(e),this.optionUpsell(e,t))})):null},render(){return h.createElement("div",{ref:e=>this.node=e,className:"vc-view-comparison-selector-container"},this.selector(),h.createElement("div",{className:"vc-view-comparison-selector-option-list"},this.options()))}}),R1=P1,j1=Oo()({displayName:"VC_ViewComparisonOptions",getColorDot(e){let t=this.props.error;if("videoData"===e&&(t=this.props.videoData.error),t){const t="videoData"===e?this.props.videoData:this.props[this.props.selected];return h.createElement("div",{className:"vc-view-comparison-color-dot-error-wrapper","data-tip-message":t.errorMessage},h.createElement("i",{id:"vc-view-comparison-color-dot-error",className:"material-icons"},"error"))}const n=Fo()("vc-view-comparison-color-dot",{"vc-view-comparison-color-dot-video":"videoData"===e,"vc-view-comparison-color-dot-none":"selectOption"===e,"vc-view-comparison-color-dot-other-video":"anyVideo"===e||"lastVideoWatched"===e,"vc-view-comparison-color-dot-average":"yourChannelAverage"===e||"thisChannelAverage"===e||"anyChannel"===e||"anyPlaylist"===e||"competitorsAverage"===e});return h.createElement("div",{className:n})},getSparklineIcon(){const e=this.props[this.props.selected].sparkline;if(!e)return null;let t=(0,ai.Z)(this.props.selected);if(this.props.selected.match(/any/)){const e=this.props.selected.replace("any","");t=this.props[`custom${e}Url`]}else"lastVideoWatched"===this.props.selected?t=(0,ai.Z)("theLastVideoWatched"):"competitorsAverage"===this.props.selected&&(t=(0,ai.Z)("yourCompetitorsAverage"));const n=(0,ai.Z)(`viewComparisonSparkline${we.Z.capitalize(e)}Tooltip`,[t]),i=chrome.runtime.getURL(`images/sparkline-${e}.svg`);return h.createElement("img",{src:i,className:"vc-view-comparison-sparkline","data-tip-message":n,"data-fixed":!0,alt:""})},render(){return h.createElement("div",{className:"vc-view-comparison-options"},h.createElement("div",{className:"vc-view-comparison-option vc-view-comparison-this-video"},this.getColorDot("videoData"),h.createElement("div",{className:"vc-view-comparison-option-title"},(0,ai.Z)("thisVideo")),this.getSparklineIcon()),h.createElement("div",{className:"vc-view-comparison-vs"},"VS"),h.createElement(R1,{locked:this.props.loading,selected:this.props.selected,channelAvgTrial:this.props.channelAvgTrial,reducedTrial:this.props.reducedTrial,visitedVideo:this.props.visitedVideo,onChange:this.props.onChangeSelector,onChangeUrl:this.props.onChangeUrl,customVideoUrl:this.props.customVideoUrl,customChannelUrl:this.props.customChannelUrl,customPlaylistUrl:this.props.customPlaylistUrl,getColorDot:this.getColorDot,error:this.props.error}),h.createElement(N1,{selected:this.props.selected,videoData:this.props.videoData,secondaryData:this.props[this.props.selected],loading:this.props.loading,hasData:this.props.hasData}))}}),L1=e=>e&&"string"==typeof e?e.replace(/([^A-Z])([A-Z]+)/g,"$1 $2").toLowerCase():e,q1=Oo()({displayName:"VC_ViewComparison_Inner",statics:{canvasId:"vc-view-comparison-chart"},getInitialSelected(){let e=ye.Z.getItem("view_comparison_selected");const t=ye.Z.getItem("view_comparison_trial_activated"),n=(0,ve.h)().featurePermitted(`${e}ViewsComp`),i=(0,ve.h)().featurePermitted("thisChannelAverageViewsComp");return t||i||(e="thisChannelAverage",ye.Z.setItem("view_comparison_trial_activated",!0)),e&&(n||"thisChannelAverage"===e)||(e="selectOption"),ye.Z.setItem("view_comparison_selected",e),e},getInitialState(){return{chart:null,href:window.location.href,isRendered:!1,initialDataLoaded:!1,selected:this.getInitialSelected(),customVideoUrl:ye.Z.getItem("view_comparison_video_url")||"",customChannelUrl:ye.Z.getItem("view_comparison_channel_url")||"",customPlaylistUrl:ye.Z.getItem("view_comparison_playlist_url")||"",reducedTrial:!1,visitedVideos:null}},componentDidMount(){M1.update({loading:!0}),M1.getChannelAvgTrialQuota(),this.getVisitedVideos(),this.getInitialDataLoaded()},componentDidUpdate(e,t){this.getInitialDataLoaded();const n=this.state.selected.replace("any","");t.initialDataLoaded===this.state.initialDataLoaded&&t.selected===this.state.selected||this.fetchSecondaryData();const i=this.props[this.state.selected],r=this.state.selected.match(/any/),a=r&&i.customUrl===this.state[`custom${n}Url`];"thisChannelAverage"===this.state.selected&&!(0,ve.h)().featurePermitted("thisChannelAverageViewsComp")&&i&&i.dataset&&!this.state.reducedTrial&&this.props.channelAvgTrial>0&&this.state.visitedVideos&&this.setState({reducedTrial:!0},(()=>{const e=this.state.visitedVideos;if(e.indexOf(this.props.videoId)<0){M1.reduceChannelAvgTrial(),e.push(this.props.videoId);const t=btoa(e.join(","));l.set({vidiq_view_comparison_videos:t})}this.setState({visitedVideos:e})})),!this.state.isRendered&&this.props.videoData.dataset&&i&&Object.keys(i).length&&(!r||a)&&this.renderChart()},componentWillUnmount(){this.props.viewsAfterPublish&&this.props.viewsAfterPublishDone&&window.location.href!==this.state.href&&ye.Z.setItem("last_video_watched",this.props.viewsAfterPublish),D1.reset()},async getVisitedVideos(){if((0,ve.h)().featurePermitted("thisChannelAverageViewsComp"))return void this.setState({visitedVideos:[]});let e=await l.get("vidiq_view_comparison_videos");e?(e=atob(e).split(","),this.setState({visitedVideos:e})):this.setState({visitedVideos:[]})},getInitialDataLoaded(){const e=!!this.props.viewsAfterPublishDone&&this.props.channelId&&this.props.channelId.length&&null!==this.props.channelAvgTrial&&this.state.visitedVideos;!this.state.initialDataLoaded&&e&&(M1.updateVideoData(this.props.videoId,this.props.viewsAfterPublish),this.setState({initialDataLoaded:!0}))},fetchSecondaryData(){const e=this.state.selected.replace("any",""),t=this.state[`custom${e}Url`],n=this.state.visitedVideos.indexOf(this.props.videoId)>=0;"thisChannelAverage"===this.state.selected&&!(0,ve.h)().featurePermitted("thisChannelAverageViewsComp")&&this.props.channelAvgTrial<=0&&!n?M1.updateType("thisChannelAverage",{dataset:[],error:!1}):M1.fetchData(this.state.selected,this.props.channelId,t)},renderChart(){this.state.chart&&this.state.chart.destroy();const e=this.props.videoData.dataset||[],t=this.props[this.state.selected].dataset||[],n=e.concat(t),i=q1.canvasId,r=S1.render(i,n);this.setState({chart:r,isRendered:!0})},onChangeSelector(e){dt("Views Comparison - User compared views to",{option:e}),ye.Z.setItem("view_comparison_selected",e),ht("compared video views",{"video id":this.props.videoId,"compared to":L1(e)}),this.setState({selected:e,isRendered:!1})},async onChangeUrl(e){const t=this.state.selected.replace("any",""),n=t.toLowerCase(),i=e.target.value;ye.Z.setItem(`view_comparison_${n}_url`,i),this.setState({isRendered:!1,[`custom${t}Url`]:i}),this.inputTimeout&&clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout((()=>{this.fetchSecondaryData()}),500)},hasVideoData(){const e=this.props.viewsAfterPublish;return!(!e||!Object.keys(e).length)&&Object.values(e).some((e=>!!e))},hasData(){return this.props.videoData.dataset&&!this.props.videoData.error||!this.props[this.state.selected].error},spinner(){return this.props.loading?h.createElement("div",{className:"vc-view-comparison-spinner-container"},h.createElement(os,{size:"big",classes:"vc-view-comparison-spinner"})):null},errorMessage(){return this.props.loading||!this.state.initialDataLoaded||this.hasData()?null:h.createElement("div",{className:"vc-view-comparison-error-message"},ai.Z.html("viewComparisonError"))},render(){const e=Object.assign({},this.state,this.props,{visitedVideo:(this.state.visitedVideos||[]).indexOf(this.props.videoId)>=0,onChangeSelector:this.onChangeSelector,onChangeUrl:this.onChangeUrl,hasData:this.hasData(),error:"selectOption"!==this.state.selected&&this.props[this.state.selected].error});return h.createElement("div",{className:"vc-view-comparison-container"},h.createElement(j1,e),h.createElement(Po,{canvasId:q1.canvasId,width:"400",height:"150",containerClass:"vc-view-comparison-chart-container",backgroundColor:"#FFF"}),this.spinner(),this.errorMessage(),h.createElement(A1,null))}}),Z1=ug(q1,D1),B1=VN,V1=[{keys:["seo_score"],popover:"VC_SeoScorePopover"},{keys:["creator_suggested"]},{keys:["desc_word_count"]},{keys:["endscreens"]},{keys:["words_per_minute"]},{keys:["desc_link_count"]},{keys:["yt_search_views","suggested_views"],popover:"VC_YtSearchSuggestedPopover"},{keys:["num_google_traffic_sources","referred_views"],popover:"VC_ReferrerPopover",split:!0}],z1=[{keys:["channel_views"]},{keys:["avg_daily_views"]},{keys:["channel_country"]},{keys:["recent_channel_views"]},{keys:["channel_subscribers"]},{keys:["avg_daily_subs"]},{keys:["recent_channel_subs"]},{keys:["subscriber_rank","view_rank"]}],U1=ZN,W1=qN,H1=({addKeyword:e,data:t,videoId:n})=>{const[i,a]=(0,h.useState)(!1);function o(t,n,i){e(i,"REC")}function s(){dt("Opened CSV Export video tags"),vS("video tags");const e=l();cs.create({title:(0,ai.Z)("csvExportTitle")+" ("+(0,ai.Z)("videoTagsTitle")+")",innerComponent:xS,innerProps:{tags:e,videoId:n}})}function l(){let e=t.keyword_data;if(L().isEmpty(e)){if(!t.keywords)return;e=L().map(t.keywords,(e=>({keyword:e})))}else e=L().map(e,(e=>L().extend({},e,{keyword:e.keyword||e.text})));return e}function c(e,n){return void 0===e?h.createElement(os,{size:"small",container:!0}):L().isEmpty(e)?h.createElement("div",{className:"no-keywords"},h.createElement("b",null,(0,ai.Z)("noTags"))):(t.owned||(n=!1),h.createElement(ZL,{keywords:e,addable:n,kwins:!0,namespace:"video-companion",classes:"keywords",onKeywordAdded:o,limit:n?15:null}))}function u(e,n){let i=B1;t.owned||t.could_own||(i=L().map(B1,(e=>L().extend({},e,{private:!1}))));const r=L().extend({values:i,data:t},e);return h.createElement(jU,r,n)}function d(){a(!0)}const p=h.createElement(o1,{data:t.engagement_dist}),f=Fo()("vc-stats-tab",{"blur-privates":t.show_dummy});(0,h.useEffect)((()=>{function t(t,n,i){"video-companion"===i&&e({keyword:n})}return r()(window).on("kwins:add",t),()=>{r()(window).off("kwins:add",t)}}),[e]);const{owned:m,could_own:g,show_dummy:v,top_devices:y,top_countries:b,thumbnail:_,category:w}=t;return h.createElement("div",{className:f},h.createElement(k1,{getStatSection:u,owned:m,couldOwn:g,showDummy:v,updateShowRefresh:()=>d,topDevices:y,topCountries:b,thumbnail:_,category:w}),h.createElement(p1,{id:"social",heading:(0,ai.Z)("socialTitle")},u({boxes:U1},p)),h.createElement(p1,{id:"seo",heading:(0,ai.Z)("seoTitle")},u({boxes:V1})),h.createElement(p1,{id:"view comparison",heading:(0,ai.Z)("viewComparisonHeading")},h.createElement(Z1,{viewsAfterPublish:t.views_after_publish,viewsAfterPublishDone:t.views_after_publish_done,channelId:t.channel_id,videoId:n})),h.createElement(p1,{id:"video optimization",heading:(0,ai.Z)("videoOptimizationChecklist")},h.createElement(I,{name:tt.NEW_CHECKLIST,abClient:R},h.createElement(N,{name:"control"},h.createElement(u1,{data:t,statNames:W1,videoId:n,channelId:t.channel_id})),h.createElement(N,{name:"variant"},h.createElement(_H,null),h.createElement(FU,{permitted:(0,ve.h)().featurePermitted("controversialKeywords"),title:t.title||"",desc:t.desc||"",keywords:t.keywords||[]})))),h.createElement(p1,{id:"channel",heading:(0,ai.Z)("channelTitle")},u({boxes:z1})),h.createElement(p1,{id:"video tags",heading:(0,ai.Z)("videoTagsTitle")},c(l()),function(){const e=l();if(!L().isEmpty(e))return h.createElement("i",{className:"material-icons csv-export-tags",onClick:s,"data-tip-message":(0,ai.Z)("csvExportTitle")},"file_download")}(),function(){const e=l();if(!e||L().isEmpty(e))return;return h.createElement("button",{onClick:()=>{SS(L().pluck(e,"keyword"))},className:"copy-tags",title:(0,ai.Z)("copyTags")})}()),function(){if(!(t.owned||t.show_dummy)||L().isEmpty(t.keywords))return;if(!t.keyword_recs_allowed)return;const e=(t.keyword_recs||{}).keywords;return h.createElement(p1,{id:"suggested video tags",heading:(0,ai.Z)("suggestedVideoTagsTitle")},c(e,!0))}(),h.createElement(p1,{id:"topics",heading:(0,ai.Z)("topics")},function(){if(null==t.topics)return h.createElement(os,{size:"small",container:!0});if(!t.topics.length)return h.createElement("div",{className:"vc-stats-tab-no-topics"},h.createElement("b",null,(0,ai.Z)("noTopics")));const e=t.topics.map((e=>h.createElement("li",{key:e,className:"vc-stats-tab-topic"},e)));return h.createElement("ul",{className:"vc-stats-tab-topics"},e)}()),h.createElement(p1,{id:"channel tags",defaultCollapsed:!0,heading:(0,ai.Z)("channelTagsTitle")},c(t.channel_keywords,!0)),function(){if(!i)return;return h.createElement("div",{className:"refresh-prompt"},h.createElement("div",{className:"refresh-prompt-container"},h.createElement("h2",null,(0,ai.Z)("authThanks")),h.createElement(is,{onClick:()=>{FN.rerunTasks(["channel"]),a(!1)},text:(0,ai.Z)("refreshDataTitle")})))}())},Y1=Oo()({displayName:"VC_TrendingTab",isPermitted:()=>(0,ve.h)().featurePermitted("trending"),UNSAFE_componentWillUpdate(){this.requestData()},UNSAFE_componentWillMount(){this.requestData()},requestData(){if(!this.isPermitted())return;const e=this.props.data.title,t=this.props.data.keywords||[];!e&&L().isEmpty(t)||So.fetch({title:e,keywords:t})},render(){return this.isPermitted()?h.createElement(yU,null):h.createElement(i0,null)}});const $1=Qn("a",{target:"elv43uy0"})({name:"11k472i",styles:"border-radius:10px;padding:10px;background-color:#5b9cff;color:white;text-decoration:none"}),K1=chrome.runtime.getURL("images/external-link.svg"),G1=Oo()({displayName:"VC_TweetsTab",handleOpenTwitterClick(){ht("clicked twitter icon",{location:(0,be.Z)(),section:"scorecard"})},render(){const e=encodeURIComponent(`"https://www.youtube.com/watch?v=${this.props.data.video_id} OR https://youtu.be/${this.props.data.video_id}"`);return h.createElement("div",{className:"vc-tweets"},h.createElement("p",{style:{marginBottom:10}},h.createElement("b",null,(0,ai.Z)("searchOnTwitter"))),h.createElement($1,{target:"_blank",rel:"noopener noreferrer",onClick:this.handleOpenTwitterClick,href:`https://twitter.com/search?f=tweets&vertical=default&q=${e}`},h.createElement("div",{className:"vc-tweets-link"},h.createElement("span",{className:"vc-tweets-link-text"},(0,ai.Z)("openTwitter")),h.createElement("img",{src:K1,alt:"External twitter link",className:"vc-tweets-link-img"}))))}}),X1={stats:H1,trending:Y1,tweets:G1,historical:r1},Q1=Oo()({displayName:"VC_Authed_Inner",componentDidMount(){dt("Logged in user loaded scorecard"),R0.queue()},getTabNode(){const e=this.props.activeTab||"stats",t=X1[e];return t?h.createElement(t,this.props):h.createElement("p",null,'No component found for tab "',e,'"')},render(){const{videoId:e,confirmEmail:t,user:n}=this.props,i=oN().currentVideoID();if(!e||e!==i)return null;return h.createElement(t1,{activeTab:this.props.activeTab||"stats"},t&&h.createElement(m0,{onClose:()=>a.Z.update({confirmEmail:!1}),email:n&&n.email}),this.getTabNode())}}),J1=ug(Q1,SN,(e=>L().extend({},e,{addKeyword:FN.addKeyword}))),e2=Oo()({displayName:"VC_ClearLocalStorageMessage",timeout:null,getInitialState:()=>({displayed:!1,working:!1}),componentDidMount(){this.timeout=window.setTimeout((()=>{this.setState({displayed:!0})}),1e4)},componentWillUnmount(){window.clearTimeout(this.timeout)},clearLocalStorage(){this.setState({working:!0});const e=Object.keys(window.localStorage).filter((e=>/vidIQ_/i.test(e)));L().map(e,(e=>{window.localStorage.removeItem(e)})),window.setTimeout((()=>{this.props.resetComponent()}),1e3)},render(){return this.state.displayed?h.createElement("div",{className:"unauthed-login-trouble-message fade-in"},(0,ai.Z)("troubleLoggingIn")," ",h.createElement("button",{type:"button",onClick:this.clearLocalStorage},ai.Z.html("resetSession")),this.state.working?h.createElement(os,{size:"small"}):null):h.createElement("span",null)}}),t2=Oo()({displayName:"VC_DataTable",render(){const e=L().chain(this.props.data).map((e=>L().keys(e))).flatten().uniq().value(),t=L().map(e,(function(e,t){const n=this.props.headings?this.props.headings[t]:e;return h.createElement("th",{key:e},n)}),this),n=L().map(this.props.data,(function(t,n){const i=L().map(e,(function(e,n){let i=t[e];return this.props.hook&&(i=this.props.hook(i,n)),h.createElement("td",{key:n},i)}),this);return h.createElement("tr",{key:n},h.createElement("td",{key:0,className:"index"},n+1),i)}),this);return h.createElement("table",{className:"data-table"},h.createElement("thead",null,h.createElement("tr",null,h.createElement("th",null," "),t)),h.createElement("tbody",null,n))}}),n2=t2,i2=Oo()({displayName:"VC_EngagementRatePopover_Inner",render(){const e=5+90*this.props.percent;return h.createElement("div",{className:"engagement-rate-popover"},h.createElement("h3",null,(0,ai.Z)("engagementRateTitle"),":"),h.createElement("p",null,(0,ai.Z)("engagementRatePopoverText")),h.createElement("div",{className:"er-scale-container"},h.createElement("div",{className:"er-scale-bar"},h.createElement("div",{className:"er-marker",style:{left:e+"%"}})),h.createElement("div",{className:"er-scale-numbers"},h.createElement("span",null,"0%"),h.createElement("span",null,"1%"),h.createElement("span",null,"2%"),h.createElement("span",null,"5%"),h.createElement("span",null,"10%"),h.createElement("span",null,">15%"))))}}),r2=ug(i2,SN,(e=>({percent:e.data.engagement_rate_percent})));r2.width=190,r2.canDisplay=()=>!0;const a2=r2,o2=Oo()({displayName:"VC_GoogleResults",getListItem:(e,t)=>h.createElement("li",{key:t,onClick:()=>{window.open(e.url,"_blank")}},h.createElement("span",{className:"index"},t+1),h.createElement("span",{className:"url"},e.url)),getList(){return L().map(this.props.data,((e,t)=>this.getListItem(e,t)))},render(){return h.createElement("ul",{className:"vc-google-results"},this.getList())}}),s2=Oo()({displayName:"VC_ReferrerPopover_Inner",headings:[(0,ai.Z)("domainNameTitle"),(0,ai.Z)("viewsTitle"),(0,ai.Z)("minutesWatchedTitle")],render(){const e=[{name:(0,ai.Z)("topReferrersTitle"),content:h.createElement(n2,{data:this.props.topReferrers,headings:this.headings}),hasContent:!L().isEmpty(this.props.topReferrers)},{name:(0,ai.Z)("referredSourcesTitle"),content:h.createElement(o2,{data:this.props.referredSources}),hasContent:!L().isEmpty(this.props.referredSources)}];return h.createElement(_z,{tabs:e})}}),l2=ug(s2,SN,(e=>{const t={topReferrers:e.data.insight_traffic_ext||{},referredSources:(e.data.google_traffic_sources||{}).results};return t.topReferrers&&e.data.insight_traffic_ext.dummy&&(t.topReferrers=null),t}));l2.canDisplay=e=>{let t=e.insight_traffic_ext||{};const n=(e.google_traffic_sources||{}).results;return t.dummy&&(t=null),!L().isEmpty(t)||!L().isEmpty(n)};const c2=l2,u2=Oo()({displayName:"VC_SpeedometerWrapper",render(){return h.createElement(sU,{vph:this.props.value})}}),d2=Oo()({displayName:"VC_YtSearchSuggestedPopover_Inner",searchHeadings:[(0,ai.Z)("searchTermTitle"),(0,ai.Z)("viewsTitle"),(0,ai.Z)("minutesWatchedTitle")],suggestedHeadings:[(0,ai.Z)("videoTitle"),(0,ai.Z)("viewsTitle"),(0,ai.Z)("minutesWatchedTitle")],linkHook(e,t){if(0!==t)return e;const n=this.props.videoReferrers[e]||{},i="/watch?v="+e;let r=h.createElement("span",null,"by"," ",h.createElement("a",{target:"new",href:n.channel_url},n.channel_name));n.channel_name||(r=null);const a="unknown"===e?n.title||e:h.createElement("a",{href:i,target:"new"},n.title||e);return h.createElement("span",null,a," ",r)},searchHook(e,t){if(0!==t)return e;const n=L().map(this.props.keywords||[],(e=>e.toLowerCase())).indexOf(e.toLowerCase())>=0;return h.createElement(pL,{kwObject:{keyword:e},initialAdded:n,onKeywordAdded:(e,t,n)=>this.props.addKeyword(n),addable:!0,namespace:"video-companion"})},render(){const e=[{name:(0,ai.Z)("ytSearchTitle"),content:h.createElement(n2,{data:this.props.ytSearchData,hook:this.searchHook,headings:this.searchHeadings}),hasContent:!L().isEmpty(this.props.ytSearchData)},{name:(0,ai.Z)("ytSuggestedTitle"),content:h.createElement(n2,{data:this.props.ytSuggestedData,hook:this.linkHook,headings:this.suggestedHeadings}),hasContent:!L().isEmpty(this.props.ytSuggestedData)}];return h.createElement(_z,{tabs:e})}}),h2=ug(d2,SN,(e=>({ytSearchData:e.data.insight_traffic_yt_search||{},ytSuggestedData:e.data.insight_traffic_yt_suggested||{},videoReferrers:e.data.suggested_video_referrer_details||{},keywords:e.data.keywords||[],addKeyword:FN.addKeyword})));h2.canDisplay=e=>{let t=e.insight_traffic_yt_search||{},n=e.insight_traffic_yt_suggested||{};return t&&(e.insight_traffic_yt_search||{}).dummy&&(t=null),n&&(e.insight_traffic_yt_search||{}).dummy&&(n=null),!L().isEmpty(t)||!L().isEmpty(n)};const p2=h2;const f2=Qn(is,{target:"e1x96zbi0"})({name:"1j2vb8n",styles:"&&{font-family:Roboto,sans-serif;font-style:normal;font-weight:500;font-size:14px;line-height:130%;margin-right:4px;padding:7px 14px;background-color:white;border-color:var(--blue);color:var(--blue);text-shadow:none;border-radius:4px;:hover{background-color:rgb(238, 238, 238);}}"});async function m2(){const e=await Ks.getDataForRequest(),t=`https://studio.youtube.com/youtubei/v1/creator/get_supported_content_languages?alt=json&key=${e.apiKey}`,n=(i=e.payloadKeys,gN({context:{client:Vs(As),request:Vs(Is)}},i));var i;return await Ks.makeRequest("supportedLanguages",[t,e.authHeader,e.authUser,n])}const g2=["af","sq","am","ar","hy","az","eu","be","bn","bs","bg","ca","ceb","zh-CN","zh","zh-TW","co","hr","cs","da","nl","en","eo","et","fi","fr","fy","gl","ka","de","el","gu","ht","ha","haw","he","iw","hi","hmn","hu","is","ig","id","ga","it","ja","jv","kn","kk","km","ko","ku","ky","lo","la","lv","lt","lb","mk","mg","ms","ml","mt","mi","mr","mn","my","ne","no","ny","ps","fa","pl","pt","pa","ro","ru","sm","gd","sr","st","sn","sd","si","sk","sl","so","es","su","sw","sv","tl","tg","ta","te","th","tr","uk","ur","uz","vi","cy","xh","yi","yo","zu"];function v2(e,t){const n=e.find((e=>e.displayName===t));if(n){return function(e){let t=g2.find((t=>t===e));return!t&&e.includes("-")&&(t=g2.find((t=>t===e.split("-")[0]))),t}(n.languageCode)||null}return null}const y2=cs;let b2=[];function _2(e){return e.replace(/[\n|\r]/g,"<br>")}function w2(e){return $v.htmlDecode(e.replace(/\s?<br>\s?/g,"\n").replace(/>\s+|\s+</g,(e=>e.trim())))}async function k2({source:e,target:t,title:n,description:i}){if(i.length>5e3)throw new Error((0,ai.Z)("descriptionTooLongToTranslate"));if(null===e||null===t)throw new Error((0,ai.Z)("translationNotSupported"));const r={title:n,description:i,source:e,target:t};try{return(await P.Z.ok("vidiq.translation",r)).json}catch(e){if(e.response&&(429===e.response.status&&function(){"pro"===(0,ve.h)().getUserType()&&y2.create({innerComponent:Oz,innerProps:{targetPlan:"boost"},title:(0,ai.Z)("translateTitle")});const e=wt()().startOf("isoWeek").add(1,"week"),t=Math.ceil(wt().duration(e.diff(wt()())).asDays());throw new Error((0,ai.Z)("translationQuotaExceededDays",[String(t)]))}(),403===e.response.status))throw Me.Z.error("Translation: A free user attempted to use this feature."),new Error((0,ai.Z)("translationProblem"));throw Me.Z.error("Translations: Unexpected error during translation",{error:JSON.stringify(e),translation_payload:r}),new Error((0,ai.Z)("translationProblem"))}}const x2={defaults:{source:"auto",target:"choose"},getLanguageCode:function(e){return Object.keys(OA).find((t=>{const n=RegExp(`${OA[t]}.*`);return e.match(n)}))||"en"},post:function(e){const t={title:e.title,description:e.description,source:e.source_language,target:e.target_language};return(0,P.Z)("vidiq.translation",t)},studioBetaTranslate:async function(){if(!b2.length){const{contentLanguages:e}=await m2();b2=e}const e=D2.getLanguage("original"),t=D2.getLanguage("translated"),n=await k2({source:v2(b2,e),target:v2(b2,t),title:_2(D2.getVideoTitleFromTranslationModal()),description:_2(D2.getVideoDescFromTranslationModal())});D2.setTranslations({title:w2(n.title),description:w2(n.description)})},studioClassicTranslate:async function(...e){const{title:t,desc:n}=nz.id(e[0]).getData(),i={title:_2(t),description:_2(n),source:e[1]||"",target:e[2]||""};try{const{title:t,description:n}=await(0,P.Z)("vidiq.translation",i);cW.setTranslations(e[0],{title:w2(t),description:w2(n)})}catch(e){console.warn("Studio Classic: Unable to complete translation!",e)}}},E2={update(e){ko.Z.dispatch({data:e,action:To.UPDATE})},updateSeoChecklist(e){setTimeout((()=>{ko.Z.dispatch({data:e,action:To.UPDATE_SEO_CHECKLIST})}),0)},updateSettings(e,t){void 0!==t.emojiMenu&&D2.toggleEmojiMenu(t.emojiMenu);const n=Object.assign(e,t);this.update({settings:n}),ye.Z.setItem("upload_settings",n)},async fetchHotSearch(e,t){if(e&&e.length){this.update({fetchingHotSearch:!0});try{const{json:n}=await P.Z.ok("vidiq.hottersearch",{query:e,cid:t});let i=null;(0,ve.h)().featurePermitted("weightClass")&&(i=n.weight_class),this.update({hotSearch:n,fetchingHotSearch:!1,hotSearchError:!1,weightClass:i}),D2.insertKeywordScores(n)}catch(e){(0,ke.Z)("(vidiq) Unable to fetch hot search / recommended keywords:",e),this.update({hotSearch:{},fetchingHotSearch:!1,hotSearchError:!0,weightClass:null})}}else this.update({hotSearch:{}})},async fetchKeySearchTermHotSearch(e,t){if(E2.update({keySearchTermHotSearchLoading:!0}),e&&e.length)try{const n=await(0,P.Z)("vidiq.hottersearch",{query:e,cid:t});E2.update({keySearchTermHotSearch:n,keySearchTermHotSearchLoading:!1})}catch(e){E2.update({keySearchTermHotSearch:{},keySearchTermHotSearchLoading:!1,keySearchTermHotSearchError:`${e.name}: ${e.message}`})}else E2.update({keySearchTermHotSearch:{},keySearchTermHotSearchLoading:!1})},fetchControversialKeywords(){try{(0,P.Z)("vidiq.getDemonetizationWords").then((e=>{this.update({controversialKeywordsList:e})}))}catch(e){(0,ke.Z)("(vidiq) Unable to fetch controversial/demonetized keywords:",e)}},async fetchTrendy(e,t,n){this.update({fetchingTrendy:!0});let i=So._getQuery({title:e,keywords:t});n&&(i=n);const r={query:i,country:o.ZP.hottersearch.country,language:o.ZP.hottersearch.language};try{const e=await yt.Z.trendy(r);this.update({trendy:e,fetchingTrendy:!1,trendyError:!1})}catch(e){(0,ke.Z)("(vidiq) Unable to fetch trendy / videos to gain views from:",e),this.update({trendy:{},fetchingTrendy:!1,trendyError:!0})}},async fetchKeywordRanks(e,t,n,i){return new Promise((r=>{Object.keys(i).forEach((e=>{t.indexOf(e)<0&&delete i[e]}));const a=t.filter((e=>n.indexOf(e)<0));if(!a||!a.length)return r(i);YP.fn.apply({keywords:a,video_id:e},[e=>{const t=Object.assign(i,e);this.update({keywordRanks:t}),r(t)}])}))},async fetchKeywordTranslations(e,t,n){if(t===n)return;this.update({fetchingTranslations:!0});const i={title:e.join("<br>"),description:"",target:n};"auto"!==t&&(i.source=t);try{const i=(await k2({source:"auto"!==t?t:void 0,target:n,title:e.join("<br>"),description:""})).title.replace(/&#39;/g,"'").split(/\s?<br>\s?/);this.update({fetchingTranslations:!1,translatedKeywords:i,translateError:void 0})}catch(e){this.update({fetchingTranslations:!1,translatedKeywords:[],translateError:e.message})}},fetchKeywordData:async(e,t)=>new Promise((n=>{WP.fn.apply({keywords:e,keyword_ranks:t},[e=>{n(e)}])})),async fetchSeoScoreData(e,t,n,i){this.update({fetchingSeoScoreData:!0});try{const r=await this.fetchKeywordData(n,i);this.update({keywordScore:r}),GR.fn.apply({title:e,desc:t,keyword_data:r},[e=>{this.update({seoScoreData:e.seo_score_data,fetchingSeoScoreData:!1,seoScoreError:!1})}])}catch(e){(0,ke.Z)("(vidiq) Unable to fetch SEO Score Data:",e),this.update({seoScoreData:{},fetchingSeoScoreData:!1,seoScoreError:!0})}},async fetchSeoChecklist(e,t){this.update({fetchingSeoChecklist:!0});try{const n=t?"upload_seo_checklist":"seo_checklist",i=await cL(e,[n]);this.update({seoChecklist:i[n],fetchingSeoChecklist:!1,seoChecklistError:!1})}catch(e){(0,ke.Z)("(vidiq) Unable to get SEO checklist:",e),this.update({seoChecklist:{},fetchingSeoChecklist:!1,seoChecklistError:!0})}},async fetchOptimizationStatus(e){try{const t=await(0,P.Z)("vidiq.getVideoOptimStatus",{vid:e});this.update({optimized:t[e]||(0,ve.h)().userTypeIs("enterprise")})}catch(e){(0,ke.Z)("(vidiq) Unable to fetch optimization status:",e)}},enableOptimization(e){(0,ve.h)().enableVideoOptim(e).then((e=>{let t={optimError:null};e&&e.ok?(t.optimized=!0,ez()):t.optimError=[e.status,e.statusText].filter((e=>!!e)).join(" "),t.optimError||(t=Object.assign({keywords:[],description:""},t)),this.update(t)}))},fetchAutocomplete:(0,j.debounce)((async e=>{if(!e||!e.length)return void E2.update({autocomplete:[]});const t=Eo();P.Z.expanded("google.suggestQueries",{query:e,languageCode:t}).then((({json:t,response:n})=>{if(!n.ok)return(0,ke.Z)("(vidiq) Autocomplete Suggestions query failure: ",n.statusText),void E2.update({autocomplete:[],autocompleteScores:{}});E2.update({autocomplete:t,tagInputText:e}),(0,ve.h)().featurePermitted("tagAutocomplete")&&E2.fetchAutocompleteScores(t[1])}))}),300),fetchAutocompleteScores:(0,j.debounce)((async e=>{try{const{json:t}=await P.Z.ok("vidiq.hottersearch",{skipRecs:!0,query:e}),n=t.search_stats.compvol;E2.update({autocompleteScores:n})}catch(e){(0,ke.Z)("(vidiq) Unable to fetch autocomplete suggestion scores:",e),E2.update({autocompleteScores:{}})}}),300),async fetchBestTimeToPost(e,t){this.update({fetchingBestTimeToPost:!0});const n=await rz(e);let i=null;t&&(i=await iz(t)),this.update({fetchingBestTimeToPost:!1,bestTimeToPost:n.data,bestTimeToPostError:n.error,timePublished:i})},trackTagRec(e){ko.Z.dispatch({keyword:e,action:To.TRACK_TAG_REC})},clearAddedTagRecs(){this.update({tagRecsAdded:[]})}},C2=E2;function S2({permitted:e,optimized:t}){return e&&t}const T2={autocompleteComponent:null,watchTagInputInterval:null,tagInputPosition:{},tagsSelector:".input-container.tags .ytcp-chip.text",tagsSelectorV2:"#tags-container .ytcp-chip#chip-text",getInputFields:()=>[document.querySelector("div.input-container.title #textbox"),document.querySelector("div.input-container.description #textbox")],getTagElements(){let e=document.querySelectorAll(T2.tagsSelector);return e&&e.length||(e=document.querySelectorAll(T2.tagsSelectorV2)),e},addKeyword(e){let t=document.querySelector(".ytcp-video-metadata-basics-old #text-input");t||(t=document.querySelector("ytcp-video-details-section#edit #text-input")),t.value=e,t.focus();let n=document.querySelector("ytcp-form-input-container.ytcp-video-metadata-basics-old");n||(n=document.querySelector("ytcp-form-input-container#tags-container")),n.classList.add("focused"),t.blur()},addKeywordUploadModal(e,t,n){if("upload-modal"!==n)return;const i=document.querySelector("#tags-container #text-input");i.value=t,i.focus(),i.blur()},setupTooltips(){const e=new hz({parent:r()("#entity-page"),position:"follow"});r()("#entity-page").data("tooltips",e)},toggleEmojiMenu(e){e?r()(".vidiq-emoji-menu-dropdown").removeClass("hidden"):r()(".vidiq-emoji-menu-dropdown").addClass("hidden")},deleteAllTags(){let e=document.querySelector(".ytcp-video-metadata-basics-old #clear-button");e||(e=document.querySelector("#tags-container #clear-button")),e&&e.click()},organizeTags:e=>new Promise((t=>{T2.deleteAllTags(),setTimeout((()=>{T2.addKeyword(e.join(",")),t()}),100)})),keywordRankElements:{},insertKeywordRanks(e){e&&Object.keys(e).length&&Object.keys(e).forEach((t=>{const n=e[t],i=T2.getTagElements(),a=Array.from(i).find((e=>e.textContent===t));if(a&&!a.getAttribute("vidiq-kw-rank")){a.setAttribute("vidiq-kw-rank",t);const e=r()(a).siblings("#delete-icon").get(0);T2.keywordRankElements[t]=we.Z.mountComponent({component:hJ,element:e,insertFn:"before",props:{rank:n,keyword:t,classes:"vidiq-inline-rank"}})}}))},checkKeywordRanks(e){e.forEach((e=>{const t=e.textContent,n=e.getAttribute("vidiq-kw-rank");n&&t!==n&&(we.Z.unmountComponent(T2.keywordRankElements[n]),delete T2.keywordRankElements[n],e.removeAttribute("vidiq-kw-rank"))}))},insertKeywordScores(e,t){if(!e||!e.search_stats||!e.search_stats.compvol)return;const n=e.search_stats.compvol,i=T2.getTagElements();Array.from(i).forEach((i=>{const a=i.textContent.toLowerCase();let o=n[a];if(!o&&!t)return;if(!o&&t){const e=t.filter((e=>e.text.toLowerCase()===a));if(!e||!e[0])return;const{volume:n,competition:i,overall:r}=e[0];o={volume:n,competition:i,overall:r}}const s=r()(i).parent().get(0);if(s.getAttribute("vidiq-has-kw-score")!==a){const t=r()(i).siblings("#delete-icon").get(0),n=s.getAttribute("vidiq-mount-id");if(n&&we.Z.unmountComponent(n),o.overall){const n=we.Z.mountComponent({component:XL,element:t,insertFn:"before",props:{compvol:o,weightClass:(0,ve.h)().featurePermitted("weightClass")?e.weight_class:null,classes:"vidiq-inline-score",showTooltip:!0}});s.setAttribute("vidiq-mount-id",n),s.setAttribute("vidiq-has-kw-score",a);const l=pL.weightClassName(e.weight_class,o.competition);(0,ve.h)().featurePermitted("weightClass")&&l&&r()(i).addClass(l)}}}))},async getPrivacy(){const e=(async()=>{const e=document.documentElement.innerHTML,t=document.querySelector('paper-radio-button[class*="ytcp-video-visibility-select"][checked]');if(t)return t.getAttribute("name").toLowerCase();const n=e.match(/"privacy":"VIDEO_PRIVACY_([^"]+)/);if(n&&n[1])return n[1].toLowerCase();const i=NY.videoId,r=this._cachedPrivacy&&this._cachedPrivacy[i];if(r)return r;this._cachedPrivacy||(this._cachedPrivacy={});try{const e=(await rg.get([NY.videoId])).videos[0].privacy.replace(/^VIDEO_PRIVACY_/,"").toLowerCase();return this._cachedPrivacy[i]=e,e}catch(e){}})();return e||Me.Z.error("StudioBetaDOM: privacy not found"),e},insertIconIntoTags(){let e=document.querySelectorAll(".tags .ytcp-chip-bar.chip");e&&e.length||(e=document.querySelectorAll(".chip-and-bar .ytcp-chip-bar.chip")),Array.from(e).forEach((e=>{const t=e.querySelector("#chip-text");if(!t)return;const n=t.textContent;if(e.getAttribute("vidiq-keyword")!==n){const i=e.querySelector(".vidiq-studio-tag-icon");i&&i.parentElement.remove(),AY.mountUploadTagIcon(t,n),e.setAttribute("vidiq-keyword",n)}}))},async scanInputFields(){const e={},t=HL.getData(),n=NY.getChannelId(),i=NY.videoId,r=NY.trendySearchKeyword,a=!Object.keys(t.hotSearch).length||t.permitted&&t.optimized,[o,s]=T2.getInputFields(),l=o?o.innerText:"",c=s?s.innerText:"";e.privacy=await T2.getPrivacy(),T2.insertIconIntoTags();const u=T2.getTagElements(),d=Array.from(u).map((e=>e.textContent));if((l||"")!==t.title&&(e.title=l,mo.updateTitle(l),!d.length&&S2({permitted:t.permitted,optimized:t.optimized})&&C2.fetchTrendy(l,d,r)),(c||"")!==t.description&&(e.description=c,mo.updateDescription(c)),(d||[]).join(" ")!==t.keywords.join(" ")){if(e.keywords=d,a){let e=d;t.permitted&&t.optimized||(e=e.slice(0,1)),C2.fetchHotSearch(e,n)}S2({permitted:t.permitted,optimized:t.optimized})&&C2.fetchTrendy(l,d,r),T2.checkKeywordRanks(u);const o=await C2.fetchKeywordRanks(i,d,t.keywords,t.keywordRanks);T2.insertKeywordRanks(o),C2.fetchSeoScoreData(l,c,d,o)}return(l||"")===t.title&&(c||"")===t.description||C2.fetchSeoScoreData(l,c,d,t.keywordRanks),C2.update(e),e},waitForKeywordChipBarEnter:()=>new Promise((e=>{go.Z.watch("#tags-container #chip-bar").enter((t=>{e(t)}))})),watchInputFields(){const e=_o()(T2.scanInputFields,1e3,{leading:!1});e();const t=new MutationObserver(e);T2.waitForKeywordChipBarEnter().then((e=>{t.observe(e,{characterData:!0,subtree:!0,childList:!0})})),T2.getInputFields().forEach((e=>{t.observe(e,{characterData:!0,subtree:!0,childList:!0})}))},getUploadTextareaContent(e){const t=document.querySelector(`.ytcp-uploads-dialog .${e} #textbox`);return t&&t.textContent},getStepper(){const e=document.querySelector(".ytcp-stepper.stepper"),t=document.querySelector(".ytcp-stepper-v2.stepper"),n=document.querySelector(".ytcp-stepper.step-and-separator");return{stepper:e||t||n,isV1:!!e}},isOnDetailsStep(){try{const{stepper:e,isV1:t}=T2.getStepper(),n=e.querySelectorAll(".step")[0],i=n.getAttribute("state");return t&&(n.hasAttribute("active")||"numbered"===i||"error"===i)||"active"===i}catch(e){return!1}},debouncedFetchSeoScoreData:yo()((()=>{const{title:e,description:t,keywords:n,videoId:i}=HL.getData();i&&T2.isOnDetailsStep()&&C2.fetchSeoScoreData(e,t,n)}),500),syncTagsState(){const e=document.querySelectorAll("#tags-container .chip #chip-text"),t=Array.from(e).map((e=>e.textContent));C2.update({keywords:t})},observeUploadTitle(){const e=new MutationObserver((e=>{for(const t of e)if("attributes"===t.type&&"show-error"===t.attributeName)AY.mountHighlightControversialKeywords(t.target,".ytcp-uploads-dialog .title","uploadTitle");else if("attributes"!==t.type&&t.addedNodes.length>0){const e=T2.getUploadTextareaContent("title");C2.update({title:e}),mo.updateTitle(e),T2.debouncedFetchSeoScoreData()}})),t=document.querySelector(".ytcp-uploads-dialog .title #textbox").parentNode;return e.observe(t,{attributes:!0,childList:!0,subtree:!0}),e},observeUploadDescription(){const e=new MutationObserver((()=>{const e=T2.getUploadTextareaContent("description");C2.update({description:e}),mo.updateDescription(e),T2.debouncedFetchSeoScoreData()})),t=document.querySelector(".ytcp-uploads-dialog .description #textbox").parentNode;return e.observe(t,{childList:!0,subtree:!0}),e},observeThumbnail(e){const t=new MutationObserver((t=>{let n=t.find((e=>e.target.hasAttribute("selected")));if(!n){const t=document.querySelector(`${e} ytcp-still-cell.ytcp-thumbnails-compact-editor-uploader[selected]`);n={target:t}}n&&n.target&&setTimeout((()=>{const t=n.target.querySelector("img#img-with-fallback").getAttribute("src");mo.updateThumbnail(t);const i=T2.getUploadThumbnailOptions(e);mo.updateThumbnailOptions(i)}),100)})),n=document.querySelector(e);return t.observe(n,{attributes:!0,attributeFilter:["selected","src"],subtree:!0}),t},updateChecklist(e,t){const n=Vs(HL.getData().seoChecklist);n.list&&(n.list[e]&&!t?(n.list[e]=!1,n.score-=1):!n.list[e]&&t&&(n.list[e]=!0,n.score+=1),C2.update({seoChecklist:n}))},observeUploadPlaylistSelector(){const e=new MutationObserver((e=>{const t=e[0].target.classList.contains("use-placeholder");T2.updateChecklist("seo_checklist_added_to_playlist",!t)})),t=document.querySelector("ytcp-video-metadata-playlists ytcp-dropdown-trigger");return e.observe(t,{attributes:!0,attributeFilter:["class"]}),e},observeUploadCaptions(){const e=new MutationObserver((e=>{const t=e[0].target;if(!document.querySelector(".ytcp-video-metadata-captions#container"))return;const n=t.querySelector("ytcp-video-metadata-captions-language-chip");T2.updateChecklist("seo_checklist_closed_captions",void 0!==n)})),t=document.querySelector(".ytcp-video-metadata-captions#container");return e.observe(t,{childList:!0}),e},observeUploadMonetization(){const e=new MutationObserver((e=>{const t=e[0].target.classList.contains("active");T2.updateChecklist("seo_checklist_monetization",t)})),t=document.querySelector(".ytcp-video-monetization.m10n-icon");return e.observe(t,{attributes:!0,attributeFilter:["class"]}),e},fetchHotSearchAndUpdate(e){C2.update({keywords:e});const t=HL.getData(),n=!Object.keys(t.hotSearch).length||t.permitted,i=NY.getChannelId();n&&C2.fetchHotSearch(e,i)},observeUploadTags(){const e=new MutationObserver((e=>{const t=e[0].target;if(t.classList.contains("is-editing"))return;const n=t.getAttribute("vidiq-keyword"),i=t.querySelector("#chip-text"),r=i.innerText;if(n!==r){const e=t.querySelector(".vidiq-studio-tag-icon");e&&e.parentElement.remove(),AY.mountUploadTagIcon(i,r),t.setAttribute("vidiq-keyword",r);const a=HL.getData().keywords;a[a.indexOf(n)]=r,T2.fetchHotSearchAndUpdate(a),T2.syncTagsState(),T2.debouncedFetchSeoScoreData()}})),t=document.querySelector("#tags-container #chip-bar .chip-and-bar"),n=()=>{const n=t.querySelectorAll(".ytcp-chip-bar.chip");T2.checkUploadTags(n,(t=>{e.observe(t,{childList:!0})}))},i=new MutationObserver(n);return i.observe(t,{childList:!0}),n(),[e,i]},checkUploadTags(e,t){if(!e||!e.length)return;const n=Array.from(e).map((e=>{t&&t(e);const n=e.querySelector("#chip-text"),i=n.innerText;if(e.getAttribute("vidiq-keyword")!==i){const t=e.querySelector(".vidiq-studio-tag-icon");t&&t.parentElement.remove(),AY.mountUploadTagIcon(n,i),e.setAttribute("vidiq-keyword",i)}return i})),i=HL.getData();(n||[]).join(" ")!==i.keywords.join(" ")&&(T2.fetchHotSearchAndUpdate(n),T2.debouncedFetchSeoScoreData())},stopWatchingTagInput(){clearInterval(T2.watchTagInputInterval),T2.autocompleteComponent=null},stopWatchingInputFields(){clearInterval(T2.watchInputFieldsInterval)},profanityMatch(e){const t=pB,n=[];return e.split(" ").forEach((e=>{t.indexOf(e)>-1&&n.push(e)})),n},eachThreadComment:(e,t)=>new Promise((n=>{let i=0;e.forEach((async(r,a)=>{await t(r,a),i+=1,i===e.length&&n()}))})),addCommentThread(e){if(e.hasAttribute("vidiq-comment-id"))return;const t=e.querySelector("#view-comment-button a"),n=t?t.href.split("=")[2]:we.Z.prettyRandomId();e.setAttribute("vidiq-comment-id",n);const i=mB.getData(),r=i.filter;"all"===r&&e.classList.remove("vidiq-hidden-thread");const a={element:e,id:n},o=e.querySelector("#replies"),s=o.querySelectorAll("ytcp-comment[is-reply]"),l=o.querySelectorAll(".ytcp-author-comment-badge-0"),c=e.querySelector("#video-thumbnail a#body").href.split("/")[4];a.hasReplies=s.length>0,a.noReplies=0===s.length,a.hasOwnerReplies=l.length>0,a.noOwnerReplies=0===l.length,a.videoId=c,a.profanity=[],a.highestSubCount=0;let u=Array.from(e.querySelectorAll("#comment"));return u=u.concat(Array.from(s)),T2.eachThreadComment(u,((e,t)=>new Promise((n=>{const i=e.querySelector("#content-text").textContent.replace(/\uFEFF/g,"");(i.match(/\?+/)||"").length>0&&(a.question=!0),a.profanity[t]=T2.profanityMatch(i);const r=e.querySelector("#name").href.replace("http://www.youtube.com","");vB.getSubCount(r).done((t=>{!e.querySelector(".ytcp-author-comment-badge-0")&&vB.stringToInt(t)>vB.stringToInt(a.highestSubCount)&&(a.highestSubCount=t),n()}))})))).then((()=>{let t=!1;const n=vB.getLists(),o="multiple"===r?i.multiFilters:[r];vB.passesFilter(o,n,a)?(t=!0,e.classList.remove("vidiq-hidden-thread")):e.classList.add("vidiq-hidden-thread"),xo.addThread(a,t)}))},updateTextarea(e,t){const n=document.querySelectorAll("#dialog.ytcp-uploads-dialog").length;B((e=>{const t=document.querySelector(e[0]);t.textContent=e[1],t.dispatchEvent(new Event("input"))}),[n?`.ytcp-uploads-dialog .${e} #textbox`:`.input-container.${e} #textbox`,t])},updateThumbnails(){B((()=>{let e="#file-loader";document.querySelectorAll("#dialog.ytcp-uploads-dialog").length&&(e=`#dialog.ytcp-uploads-dialog ${e}`);const t=document.querySelector("#vidiq-video-preview-thumbnail-input").files,n=document.querySelector(e);n.files=t,n.dispatchEvent(new Event("change"))}))},getUploadThumbnailOptions(e){const t=`${e} ytcp-still-cell[role="option"]`,n=document.querySelectorAll(t);return Array.from(n).map((e=>{const t=e.querySelector("img#img-with-fallback");return{element:e,thumbnail:t&&t.getAttribute("src"),selected:e.hasAttribute("selected"),button:e.querySelector("button")}}))},getVideoTitleFromTranslationModal:()=>document.querySelector("#original-title textarea").value,getVideoDescFromTranslationModal:()=>document.querySelector("#original-description textarea").value,getVisibleTranslationModal:()=>[...document.querySelectorAll("#metadata-editor")].find((e=>"none"!==window.getComputedStyle(e).display)),getLanguage(e){return this.getVisibleTranslationModal().querySelector(`#language-name-row .metadata-editor-${e} .language-header`).textContent},setTranslations(e){const t=document.createEvent("HTMLEvents");t.initEvent("input",!0,!1);const n=this.getVisibleTranslationModal(),i=n.querySelector("#translated-title textarea"),r=n.querySelector("#translated-description textarea");i.value=e.title,i.dispatchEvent(t),r.value=e.description,r.dispatchEvent(t)},getVideoIdOnTranslationsPage(){const e=window.location.pathname.match(/\/(video|channel)\/([0-9A-Za-z_-]+)\/translations/);if(!e||!e.length)return null;if("video"===e[1])return e[2];const t=T2.getVideoTitleFromTranslationModal(),n=document.querySelectorAll("a#video-title"),i=Array.from(n).find((e=>e.innerText===t)).getAttribute("href").match(/\/video\/([0-9A-Za-z_-]+)\/translations/);return i&&i[1]}},D2=T2;function F2(e){const t=e.shortViewCountText;let n=ro()(t,"simpleText");return t&&t.runs&&(n=t.runs.reduce(((e,t)=>e+t.text),"")),{videoId:e.videoId,thumbnail:ro()(e,"thumbnail.thumbnails[0].url",""),title:ro()(e,"title.runs[0].text",""),descriptionArray:ro()(e,"descriptionSnippet.runs",[]),publishedText:ro()(e,"publishedTimeText.simpleText",""),durationText:ro()(e,"lengthText.simpleText",""),shortViewCountText:n,channelName:e.ownerText.runs[0].text,...e.ownerBadges&&{channelBadges:e.ownerBadges},channelThumbnail:ro()(e,"channelThumbnailSupportedRenderers.channelThumbnailWithLinkRenderer.thumbnail.thumbnails[0].url",""),...e.badges&&{videoBadges:e.badges}}}function M2(e,t){const n=[];let i="";return e.split(" ").forEach((e=>{const r=e.replace(/[\W_]+/g,"").toLowerCase();t.toLowerCase().indexOf(r)>=0?(i.length&&n.push({text:i}),i="",n.push({text:e+" ",bold:!0})):i+=e+" "})),i.length&&n.push({text:i}),n}function A2(e){let t,n="ytcp-still-cell:not([processing])[selected] img#img-with-fallback";e&&(n=`${e} ${n}`),go.Z.watch(n).enter((()=>{let n="#still-picker";e&&(n=`${e} ${n}`);const i=document.querySelector(n).querySelector("ytcp-still-cell[selected]").querySelector("img#img-with-fallback").getAttribute("src");mo.updateThumbnail(i);const r=D2.getUploadThumbnailOptions(n);mo.updateThumbnailOptions(r),t=D2.observeThumbnail(n)})).leave((()=>{t.disconnect()}))}function I2(e){let t="ytcp-video-player-timestamp";e&&(t=`${e} ${t}`),go.Z.watch(t).enter((e=>{try{const t=e.innerText.split("/")[1].trim();mo.updateDuration(t)}catch(e){}}))}const O2={fetchSearchResults:async e=>xe(await(0,P.Z)("youtube.search",{query:e})).contents.twoColumnSearchResultsRenderer.primaryContents.sectionListRenderer.contents.map((e=>ro()(e,"itemSectionRenderer.contents",[]).map((e=>ro()(e,"videoRenderer"))).filter(Boolean).map(F2))).flat(),async fetchHomeResults(){const e=xe(await(0,P.Z)("youtube.home")).contents.twoColumnBrowseResultsRenderer.tabs[0].tabRenderer.content.richGridRenderer.contents;return e.map((e=>ro()(e,"richItemRenderer.content.videoRenderer"))).filter(Boolean).map(F2)},async fetchCompetitorResults(){const e=await(0,ve.h)().getCurrentChannel();if(!e||!e.id)throw new Error("No channel found");const{competitors:t}=await tD.fetchCompetitors(e.id);if(!t||!t.length)throw new Error(ho);const n=t.map((e=>e.yt_channel_id)),i=await OF.fetchThumbnails(n),r=await tD.fetchTrendingVideos({channelIds:n,range:"monthly",sort:"views_per_hour"});if(!r||!r.length)throw new Error("No competitor videos found");return r.map((e=>({videoId:e.video_id,thumbnail:`https://i.ytimg.com/vi/${e.video_id}/hqdefault.jpg`,title:e.title,publishedText:wt()(e.date_published_at,"YYYY-MM-DD").fromNow(),durationText:we.Z.sec2time(e.duration),shortViewCountText:`${ge()(e.views).format("0,0")} ${(0,ai.Z)("viewsStatLabel")}`,channelName:e.channel_title,channelThumbnail:i[e.channel_id]})))},async fetchFreePreviewsLeft(){const e=await(0,P.Z)("vidiq.featureCharges",{featureName:uo,method:"GET"});if(!e)throw new Error("Failed to fetch featureCharges");return 3-e.count},postFeatureCharge(){(0,P.Z)("vidiq.featureCharges",{featureName:uo,method:"POST"})}},N2={title:{onPreview:null,onVideo:null},description:{onPreview:null,onVideo:null},thumbnail:{onPreview:null,onVideo:null},thumbnailOptions:null,duration:null,videoId:null,channelName:null,channelThumbnail:null,channelDataError:null,searchTerm:null,searchResults:null,searchResultsError:null,searchResultsLoading:!1,homeResults:null,homeResultsError:null,homeResultsLoading:!1,tab:lo,device:ao,display:!1,freePreviewsLeft:null,freePreviewsError:null,freePreviewsLoading:!1,freePreviewUsed:!1,permitted:!1,competitorsToggled:!0,competitorVideos:null,competitorVideosError:null,competitorVideosLoading:!1,highlightToggled:!0,authed:!1,gotAuthStatus:!1},P2=(e=N2,t)=>{switch(t.type){case ka:{const{property:n,value:i}=t.payload;let{locations:r}=t.payload;r||(r=["onPreview","onVideo"]),"string"==typeof r&&(r=[r]);const a=Vs(e[n]);return r.forEach((e=>{a[e]=i})),{...e,[n]:a}}case xa:{const{searchTerm:n}=t.payload;return{...e,searchTerm:n}}case Ea:{const{thumbnailOptions:n}=t.payload;return{...e,thumbnailOptions:n}}case Ca:{const{duration:n}=t.payload;return{...e,duration:n}}case Sa:{const{device:n}=t.payload;return{...e,device:n}}case Ta:{const{permitted:n}=t.payload;return{...e,permitted:n}}case Da:{const{videoId:n}=t.payload;return{...e,videoId:n}}case Fa:{const{tab:n}=t.payload;return{...e,tab:n}}case Ma:{const t=!e.display;return{...e,display:t}}case Aa:{const t=!e.competitorsToggled;return{...e,competitorsToggled:t}}case Ia:{const t=!e.highlightToggled;return{...e,highlightToggled:t}}case Oa:return{...e,searchResultsLoading:!0};case Na:{const{searchResults:n}=t.payload;return{...e,searchResults:n,searchResultsLoading:!1,searchResultsError:null}}case Pa:{const{searchResultsError:n}=t.payload;return{...e,searchResultsError:n,searchResultsLoading:!1}}case qa:return{...e,homeResultsLoading:!0};case Za:{const{homeResults:n}=t.payload;return{...e,homeResults:n,homeResultsLoading:!1,homeResultsError:null}}case Ba:{const{homeResultsError:n}=t.payload;return{...e,homeResultsError:n,homeResultsLoading:!1}}case ja:{const{channelData:n}=t.payload;return{...e,channelName:n.name,channelThumbnail:n.thumbnail,channelDataError:null}}case La:{const{channelDataError:n}=t.payload;return{...e,channelDataError:n}}case Va:return{...e,freePreviewsLoading:!0};case za:{const{freePreviewsLeft:n}=t.payload;return{...e,freePreviewsLeft:n,freePreviewsLoading:!1,freePreviewsError:null}}case Ua:{const{freePreviewsError:n}=t.payload;return{...e,freePreviewsError:n,freePreviewsLoading:!1}}case Wa:return O2.postFeatureCharge(),{...e,freePreviewUsed:!0};case Ha:return{...e,competitorVideosLoading:!0};case Ya:{const{competitorVideos:n}=t.payload;return{...e,competitorVideos:n,competitorVideosLoading:!1,competitorVideosError:null}}case $a:{const{competitorVideosError:n}=t.payload;return{...e,competitorVideosError:n,competitorVideosLoading:!1}}case Ga:{const{authed:n}=t.payload;return{...e,authed:n,gotAuthStatus:!0}}case Xa:return{...N2};default:return e}},R2="vph_batch_update",j2={},L2=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];0,"function"==typeof e[r]&&(n[r]=e[r])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:bi.INIT}))throw new Error(gi(12));if(void 0===n(void 0,{type:bi.PROBE_UNKNOWN_ACTION()}))throw new Error(gi(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,r={},s=0;s<o.length;s++){var l=o[s],c=n[l],u=e[l],d=c(u,t);if(void 0===d){t&&t.type;throw new Error(gi(14))}r[l]=d,i=i||d!==u}return(i=i||o.length!==Object.keys(e).length)?r:e}}({videoPreview:P2,notificationDotReducer:ga,vphReducer:(e=j2,t)=>{if(t.type===R2){const n=Object.assign({},...t.batch.map((e=>({[e.id]:e.vph}))));return{...e,...n}}return e},videoCompanion:function(e=wa,t){return t.type===_a?{...e,...t.payload}:e},studioBeta:function(e=ba,t){var n,i;switch(t.type){case va:return{...e,...t.payload};case ya:return function(e,t){if(!e||!t)return!1;const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every((n=>{const i=n;return e[i]===t[i]}))}(e.seoChecklist,t.payload)?e:{...e,seoChecklist:{...e.seoChecklist,list:{...(null===(n=e.seoChecklist)||void 0===n?void 0:n.list)||{},...null===(i=t.payload)||void 0===i?void 0:i.list}}};default:return e}}}),q2=L2;var Z2=function(e){return{done:!0,value:e}},B2={};function V2(e){return Ui(e)?"channel":Wi(e)?String(e):Li(e)?e.name:String(e)}function z2(e,t,n){var i,r,a,o=t;function s(t,n){if(o===B2)return Z2(t);if(n&&!r)throw o=B2,n;i&&i(t);var s=n?e[r](n):e[o]();return o=s.nextState,a=s.effect,i=s.stateUpdater,r=s.errorState,o===B2?Z2(t):a}return tr(s,(function(e){return s(null,e)}),n)}function U2(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a,o,s={done:!1,value:kr(e)},l=function(e){return{done:!1,value:Sr.apply(void 0,[t].concat(i,[e]))}},c=function(e){return{done:!1,value:Tr(e)}},u=function(e){return a=e},d=function(e){return o=e};return z2({q1:function(){return{nextState:"q2",effect:s,stateUpdater:d}},q2:function(){return a?{nextState:"q3",effect:c(a)}:{nextState:"q1",effect:l(o),stateUpdater:u}},q3:function(){return{nextState:"q1",effect:l(o),stateUpdater:u}}},"q1","takeLatest("+V2(e)+", "+t.name+")")}function W2(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Sr.apply(void 0,[U2,e,t].concat(i))}const H2=async e=>{try{return 0===(await(0,P.Z)("vidiq.featureCharges",{featureName:`notification:${e}`,method:"GET"})).count}catch(e){return Me.Z.error("notificationDotApi > fetchNotification error",{error:e.message}),!1}};function*Y2(e){try{const{storageKey:t}=e.payload,n=yield Cr(H2,e.payload.storageKey);yield xr({type:fa,payload:{storageKey:t,value:n}})}catch(e){Me.Z.error("notificationDotSaga > handleFetchNotification error",{error:e.message})}}function*$2(e){try{const{storageKey:t}=e.payload,n=!1,i=yield function(e){void 0===e&&(e=Gi);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return _r(br,{selector:e,args:n})}((e=>{const n=e.notificationDotReducer[t];return n&&n.value}));i!==n&&((e=>{(0,P.Z)("vidiq.featureCharges",{featureName:`notification:${e}`,method:"POST"})})(t),yield xr({type:fa,payload:{storageKey:t,value:n}}))}catch(t){if(Me.Z.error("notificationDotSaga > handleMarkNotificationSeen error",{error:t.message}),!e||!e.payload||!e.payload.storageKey)return;yield xr({type:fa,payload:{storageKey:e.payload.storageKey,value:!1}})}}const K2=function*(){yield W2(pa,Y2),yield W2("MARK_NOTIFICATION_SEEN",$2)};async function G2(){return!!await(0,ve.h)().getCurrentChannel()}function X2(e){return new Promise((t=>{const n=setTimeout((()=>{t(null)}),5e3),i=/\/channel\/[0-9A-Za-z_-]+\/videos\/upload/.test(window.location.pathname),r=/\/video\/[0-9A-Za-z_-]+\/edit/.test(window.location.pathname);if(i)go.Z.watch("img.ytcp-navigation-drawer.image-thumbnail").enter((i=>{go.Z.clear("img.ytcp-navigation-drawer.image-thumbnail"),clearTimeout(n),e&&t({name:i.getAttribute("alt"),thumbnail:i.getAttribute("src")}),t(i.getAttribute("alt"))}));else if(r){const i=document.documentElement.innerHTML.match(/"title":"([^"]+)"/),r=i&&i[1];if(!e)return r;go.Z.watch("#avatar-btn img#img").enter((e=>{go.Z.clear("#avatar-btn img#img"),clearTimeout(n),t({name:r,thumbnail:e.getAttribute("src")})}))}}))}function*Q2(e){try{const t=yield Cr(O2.fetchSearchResults,e.payload.searchTerm);if(!t||!t.length)throw new Error(po);yield xr((n=t,{type:Na,payload:{searchResults:n}}))}catch(e){yield xr((t=e.message,{type:Pa,payload:{searchResultsError:t}}))}var t,n}function*J2(){try{const e=yield Cr(O2.fetchHomeResults);if(!e||!e.length)throw new Error("video-preview/UNKNOWN_ERROR");yield xr((t=e,{type:Za,payload:{homeResults:t}}))}catch(t){yield xr((e=t.message,{type:Ba,payload:{homeResultsError:e}}))}var e,t}function*e3(){try{const e=yield Cr(X2,!0);if(!e)throw new Error("Channel data not found");yield xr((e=>({type:ja,payload:{channelData:e}}))(e))}catch(t){yield xr((e=t.message,{type:La,payload:{channelDataError:e}}))}var e}function*t3(){try{const e=yield Cr(O2.fetchFreePreviewsLeft);yield xr((e=>({type:za,payload:{freePreviewsLeft:e}}))(e))}catch(t){yield xr((e=t.message,{type:Ua,payload:{freePreviewsError:e}}))}var e}function*n3(){try{const e=yield Cr(O2.fetchCompetitorResults);yield xr((e=>({type:Ya,payload:{competitorVideos:e}}))(e))}catch(t){yield xr((e=t.message,{type:$a,payload:{competitorVideosError:e}}))}var e}function*i3(){try{const e=yield Cr(G2);yield xr(no(e))}catch(e){yield xr(no(!1))}}const r3=function*(){yield W2(Oa,Q2),yield W2(qa,J2),yield W2(Ra,e3),yield W2(Va,t3),yield W2(Ha,n3),yield W2(Ka,i3)};const a3=ha(),o3=["video_companion","studio_beta"],s3=[a3];nt.N.isProduction||nt.N.isTest||s3.push((0,ki.createLogger)({collapsed:!0,predicate:(e,t)=>!o3.some((e=>t.type.startsWith(e)))}));const l3=function e(t,n,i){var r;if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error(gi(0));if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error(gi(1));return i(e)(t,n)}if("function"!=typeof t)throw new Error(gi(2));var a=t,o=n,s=[],l=s,c=!1;function u(){l===s&&(l=s.slice())}function d(){if(c)throw new Error(gi(3));return o}function h(e){if("function"!=typeof e)throw new Error(gi(4));if(c)throw new Error(gi(5));var t=!0;return u(),l.push(e),function(){if(t){if(c)throw new Error(gi(6));t=!1,u();var n=l.indexOf(e);l.splice(n,1),s=null}}}function p(e){if(!_i(e))throw new Error(gi(7));if(void 0===e.type)throw new Error(gi(8));if(c)throw new Error(gi(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=s=l,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error(gi(10));a=e,p({type:bi.REPLACE})}function m(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(gi(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[vi]=function(){return this},e}return p({type:bi.INIT}),(r={dispatch:p,subscribe:h,getState:d,replaceReducer:f})[vi]=m,r}(q2,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(gi(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map((function(e){return e(r)}));return i=wi.apply(void 0,a)(n.dispatch),mi(mi({},n),{},{dispatch:i})}}}(...s3));a3.run((function*(){const e=[r3,K2];var t,n;yield(t=e.map((e=>function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return wr(Sr.apply(void 0,[e].concat(n)))}((function*(){for(;;)try{yield Cr(e);break}catch(e){}})))),n=_r(mr,t),n.combinator=!0,n)}));const c3=l3;function u3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d3{constructor(){u3(this,"numPending",0),u3(this,"videoQueue",[]),u3(this,"timeout",null)}async batchProcess(){if(0!==this.numPending&&this.videoQueue.length<=25)return void this.resetTimeout();const e=this.videoQueue.slice(0,25);if(this.videoQueue=this.videoQueue.slice(25),0===e.length)return;const{json:t,response:n}=await P.Z.expanded("vidiq.vphBatch",{data:e});n&&n.ok?(e=>{c3.dispatch({type:R2,batch:e})})(t):Me.Z.error("VphBatchProcessor failure (extension)",{status:n.status,statusText:n.statusText}),this.batchProcess()}resetTimeout(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.batchProcess()),1)}increaseNumPending(){this.numPending+=1}decreaseNumPending(){this.numPending-=1}queue(e){this.videoQueue.push(e),this.resetTimeout()}}const h3=Qn("div",{target:"e1d3l9az0"})({name:"18nbkwi",styles:"font-size:12px;font-weight:500;font-style:italic;color:var(--blue);display:inline-block;position:absolute"}),p3=qq((e=>{try{const{vphReducer:t}=e;return{vphByVideoId:t}}catch(e){}}))((({vphByVideoId:e,videoId:t,linkElement:n,vphBatchProcessor:i})=>{const[a,o]=(0,h.useState)(t),[s,l]=(0,h.useState)(e[t]||null),c=(0,h.useCallback)((e=>{Ds.push((()=>{const t=r().Deferred();return(async(e,t)=>{t.increaseNumPending();try{const{views:n,date_published:i,is_live:r}=await cL(e,["views","date_published","is_live"]);return t.decreaseNumPending(),!r&&i&&i.raw?void t.queue({videoId:e,views:n,datePublished:new Date(i.raw)}):null}catch(e){return t.decreaseNumPending(),void(0,ke.Z)("(vidiq) VphInline > getDataAndThenQueue error:",e instanceof Error&&e.message)}})(e,i).then(t.resolve).catch(t.reject),t.promise()}),"get-vph")}),[i]);(0,h.useEffect)((()=>{l(e[a])}),[e,a]);const u=(0,h.useCallback)((t=>{t!==a&&(l(null),o(t),void 0===e[t]&&c(t))}),[a,e,c]);if((0,h.useEffect)((()=>{c(t)}),[]),(0,h.useEffect)((()=>{const e=((e,t)=>{const n=new MutationObserver((n=>{Array.from(n).forEach((n=>{if("href"===n.attributeName)try{const n=e.getAttribute("href"),i=n&&n.split("=")[1];i&&t(i.replace("&list",""))}catch(e){}}))}));return n.observe(e,{attributes:!0}),n})(n[0],u);return()=>{e.disconnect()}}),[n,u]),null===s||!isFinite(s)||0===Math.round(s))return null;const d=`${ge()(Math.round(s)).format("3[.]0a").toUpperCase()} ${(0,ai.Z)("vph")}`;return h.createElement(h3,{color:"var(--blue)","data-react-popover":"VphPopover","data-react-popover-props":JSON.stringify({vph:s})},d)}));function f3(e){const{isVariant:t}=ii(tt.VPH);return t?h.createElement(PG,null,h.createElement(uq,{store:c3},h.createElement(p3,e))):null}const m3=cs,g3=async()=>{await d.set("firefox-allow-tracking",!0),ut.setup(),m3.destroy()},v3=({authed:e,onClose:t})=>{const n=chrome.runtime.getURL("images/close-x.svg");return h.createElement(m3,{tightened:!0,classes:"vidiq-tracking-request-modal new-modal"},h.createElement("img",{src:chrome.runtime.getURL("images/vidiq_dark.svg"),className:"vidiq-tracking-request-modal--logo",alt:""}),e&&h.createElement("a",{className:"vidiq-tracking-request-modal--x",onClick:()=>{m3.destroy(),t&&t()},"aria-label":"Close icon"},h.createElement("img",{src:n,alt:"Close icon"})),h.createElement("h1",{className:"vidiq-tracking-request-modal--title"},(0,ai.Z)("trackingRequestFirefoxTitle")," 🎉"),h.createElement("p",null,(0,ai.Z)("trackingRequest1")),h.createElement("ul",null,h.createElement("li",null,(0,ai.Z)("trackingRequest2")),h.createElement("li",null,(0,ai.Z)("trackingRequest3"))),h.createElement("p",null,(0,ai.Z)("trackingRequest4")),h.createElement("div",{className:"vidiq-tracking-request-modal--buttons"},h.createElement("a",{className:"vidiq-tracking-request-modal--button",onClick:g3},(0,ai.Z)("trackingRequestButton"))))},y3=["#video-title","#video-title-link",".yt-simple-endpoint.ytd-compact-video-renderer"];function b3(e,t){let n;const i=r()(e);n=(0,Ee.Z)()?"a.ytd-compact-video-renderer"===t?i:function(e){const t=y3.length;let n=null;for(let i=0;i<t;i++){const t=e.find(y3[i]);try{if(t.length)return r()(t[0]).attr("href").split("=")[1],n=t,n}catch(e){continue}}return n}(i):i.find(".yt-uix-sessionlink");return{videoId:r()(n).attr("href").split("=")[1],mountElement:(0,Ee.Z)()?i.find("#metadata-line")[0]:i.find(".yt-lockup-meta-info")[0],link:n}}const _3=[".ytd-popup-container #sections .ytd-multi-page-menu-renderer:nth-child(2) ytd-compact-link-renderer:nth-child(7) a#endpoint paper-item","app-drawer#guide div#guide-content ytd-guide-section-renderer:nth-child(4) div#items ytd-guide-entry-renderer:last-child a#endpoint paper-item","nav#left-nav div#bottom-section ytcp-send-feedback-button paper-icon-item#send-feedback-item"],w3="vidiq-hidden",k3=()=>{const e=document.querySelectorAll('[class^="vidiq"]');e.forEach((e=>e.classList.add(w3))),setTimeout((()=>{e.forEach((e=>e.classList.remove(w3)))}),4e3)},x3={start:()=>{_3.forEach((e=>{go.Z.watch(e).enter((e=>{e.addEventListener("click",k3)}))}))}},E3=e=>{ht("viewed youtube side panel feature",{feature:e})};function C3(e){const t=e.outerHTML,n=-1!==t.indexOf("/feed/trending")||-1!==t.indexOf("/feed/explore");return-1!==t.indexOf("/feed/subscriptions")&&n}const S3=[{klass:".appbar-nav-menu",component:RG,beforeMount:C3,mountOpts:{rootEl:"<li/>",rootClass:Fo()("vidiq-link-mounter","appbar-link")}},{klass:".guide-item-container.personal-item ul",component:LG,beforeMount:C3,mountOpts:{rootEl:"<li/>",rootClass:Fo()("vidiq-link-mounter","sidebar-link","guide-channel","guide-notification-item","overflowable-list-item")}},{klass:"#items.ytd-guide-section-renderer",component:ZG,beforeMount:C3,mountOpts:{rootEl:"<ytd-guide-entry-renderer/>",rootClass:Fo()("vidiq-link-mounter","sidebar-link-new-layout","style-scope","ytd-guide-section-renderer")}},{klass:"#creator-sidebar-section-id-video-manager",component:jG,mountOpts:{insertFn:"before",rootEl:"<li/>",rootClass:Fo()("vidiq-link-mounter","creator-studio-link","creator-sidebar-section")}},{klass:".ytcp-navigation-drawer#main-menu",component:VG,mountOpts:{rootEl:"<li/>",rootClass:Fo()("vidiq-link-mounter","studio-beta-sidebar","style-scope","ytcp-navigation-drawer")}}];function T3(e,t,n,i,r,a,o){if("function"==typeof a&&!a(o))return;const s=L().extend({},r,{element:o,component:n});i.forEach((n=>{const i=L().extend({},s,{props:n});(function(e,t,n){let i=null;[".guide-item-container.personal-item ul",".appbar-nav-menu","#items.ytd-guide-section-renderer"].indexOf(e)>=0?i="home-page-shortcuts-"+t.type:"#creator-sidebar-section-id-video-manager"!==e&&".ytcp-navigation-drawer#main-menu"!==e||(i="video-manager-shortcuts-"+t.type);const r=n[i];return void 0===r||r})(e,n,t)&&we.Z.mountComponent(i)}))}function D3(e,t){S3.forEach((n=>{const i=n.klass,r=n.component,a=n.mountOpts,o=n.beforeMount,s=T3.bind(null,i,t,r,e,a,o);go.Z.watch(i).enter(s)}))}async function F3(e,t,n,i,r,a){a.preventDefault(),dt("Showed "+n+" modal"),E3(n.toLowerCase()),DO({selected:r,launchSource:"youtube sidebar"})}class M3{constructor(e){if(0===e.length)return console.warn("LinkMounter: No links were provided");e.forEach((e=>{e.onClick||(e.onClick=F3.bind(null,e.label,e.component,e.trackingLabel,e.modularWindow,e.type))})),d.getSettings().then((t=>{D3(e,t)}))}}const A3=[{type:"videoideas",label:(0,ai.Z)("dailyIdeasTitle"),component:XT,trackingLabel:"daily video ideas",testId:"video-ideas"},{type:"keywordinspector",label:(0,ai.Z)("keywordInspectorTitle"),component:oI,trackingLabel:"keyword inspector",testId:"keyword-inspector",modularWindow:!0},{type:"competitors",label:(0,ai.Z)("competitors"),component:pM,trackingLabel:"Competitors",testId:"links-competitors"},{type:"trendalerts",label:(0,ai.Z)("trendAlerts"),component:cO,trackingLabel:"Trend Alerts",testId:"links-trend-alerts"},{type:"mostviewed",label:(0,ai.Z)("researchMostViewedTitle"),component:$x,trackingLabel:"Most Viewed",testId:"links-most-viewed",modularWindow:!0},{type:"channelaudit",label:(0,ai.Z)("channelAuditTitle"),component:IF,trackingLabel:"Channel Audit",testId:"links-channel-audit"},{type:"achievements",label:(0,ai.Z)("achievementsTitle"),component:Ug,trackingLabel:"Achievements",testId:"links-achievements"},{type:"academy",label:(0,ai.Z)("vidiqAcademy"),testId:"links-academy",onClick:e=>{E3("academy"),HJ(e,"academy")}}];var I3=__webpack_require__(8082),O3=__webpack_require__(8926);const N3=(0,h.createContext)(null),P3=({children:e})=>{const[t,n]=(0,h.useState)(null);if((0,h.useEffect)((()=>{const e=(()=>{let e=[];const t=setInterval((()=>{e.forEach((e=>e()))}),1e3);return{addMountIntervalListener:t=>{e=[...e,t]},removeMountIntervalListener:t=>{e=e.filter((e=>e!==t))},clearTimer:()=>{clearInterval(t)}}})();return n(e),()=>e.clearTimer()}),[]),!t)return null;const{addMountIntervalListener:i,removeMountIntervalListener:r}=t;return h.createElement(N3.Provider,{value:{addMountIntervalListener:i,removeMountIntervalListener:r}},e)};const R3=Oo()({displayName:"ChannelTabView_Inner",getComponent(){if(!this.props.activeTab)return null;const e="trending"===this.props.activeTab?vL:BL,t=this.props;return h.createElement(e,t)},render(){return h.createElement("div",{className:"vidiq-channel-tab-view"},this.getComponent())}}),j3=ug(R3,ps),L3=()=>{if((0,Ee.Z)())r()("tp-yt-paper-tab.iron-selected").blur(),r()("tp-yt-paper-tab.iron-selected").removeClass("iron-selected"),r()("#selectionBar").hide(),r()("tp-yt-paper-tab:not([data-vidiq-tab]) .tab-content").click((()=>{r()("#selectionBar").css("display","block"),r()("ytd-two-column-browse-results-renderer.ytd-browse").show(),r()(".vidiq-velocity-view-container").remove(),_L.update({activeTab:null})}));else{const e=[".appbar-nav-menu","#channel-navigation-menu"];L().each(e,(function(e){r()(e+" .spf-link.partially-selected").removeClass(".spf-link partially-selected")}))}},q3=e=>{L3(),(()=>{const e=r()(".html5-video-player");if(e.length&&e.hasClass("playing-mode")){const t=e.find(".ytp-play-button");r()(t).click()}})(),_L.activate({tab:e});const t=(0,Ee.Z)()?"ytd-two-column-browse-results-renderer.ytd-browse:not(.grid-disabled):not(.vidiq-tab-view-container)":".branded-page-v2-col-container-inner";r()(t).hide(),r()(".vidiq-tab-view-container").length||(e=>{we.Z.mountComponent({component:j3,selector:e,insertFn:"after",rootEl:(0,Ee.Z)()?"<ytd-two-column-browse-results-renderer/>":"",rootClass:"vidiq-tab-view-container ytd-browse"})})(t)},Z3=Oo()({displayName:"ChannelTab",getInitialState:()=>ps.getData(),onStoreUpdate(){this.setState(ps.getData())},UNSAFE_componentWillMount(){ps.addChangeListener(this.onStoreUpdate)},componentWillUnmount(){ps.removeChangeListener(this.onStoreUpdate)},onSelect(){q3(this.props.name),"stats"===this.props.name&&async function(){const e=await IO(),t=FO();ht("clicked on channel stats tab",{"channel id":e,"channel name":t})}()},newLayoutTab(){const e=Fo()("vidiq-new-layout-tab",{selected:this.state.activeTab===this.props.name});return h.createElement("div",{className:e,onMouseDown:this.onSelect},(0,ai.Z)(this.props.name),h.createElement(XF,null))},selectedTab(){const e=Fo()("vidiq-selected-tab","channel-tab-selected","epic-nav-item-heading");return h.createElement("h2",{className:e,"aria-selected":"true"},(0,ai.Z)(this.props.name),h.createElement(XF,null))},unselectedTab(){const e=Fo()("yt-uix-button","spf-link","yt-uix-sessionlink","yt-uix-button-epic-nav-item","yt-uix-button-size-default");return h.createElement("button",{className:e,"aria-selected":"false",onClick:this.onSelect},h.createElement("span",{className:"yt-uix-button-content"},(0,ai.Z)(this.props.name),h.createElement(XF,null)))},oldLayoutTab(){return this.state.activeTab===this.props.name?this.selectedTab():this.unselectedTab()},render(){return h.createElement("tp-yt-paper-tab",{"data-vidiq-tab":!0},h.createElement("span",{className:"vidiq-channel-tab","data-tip-message":(0,ai.Z)("poweredByVidIQ")},(0,Ee.Z)()?this.newLayoutTab():this.oldLayoutTab()))}}),B3=e=>{if(!e)return null;const t=e.closest("#content.ytcp-comment");if(!t)return null;const n=t.querySelector(".author-text");if(!n)return null;return n},V3=e=>{if(!e)return null;const t=e.closest("#body.ytd-backstage-post-renderer");if(!t)return null;const n=t.querySelector("#author-text");return n||null},z3=e=>{if(!e)return null;const t=e.closest("#body.ytd-comment-renderer");if(!t)return null;const n=t.querySelector("#author-text");return n||null},U3=(e,t)=>{const n=e.parentElement;if(!n)return;const i=n.querySelector("#reply-button a");if(!i)return;i.click();const r=n.closest("#comment-row");if(!r)return;const a=r.parentElement;if(!a)return;const o=a.parentElement;if(!o)return;const s=o.querySelector("#reply-dialog-container");if(!s)return;const l=s.querySelector("textarea#textarea");if(!l)return;const c=l;c.focus(),c.value=t;const u=s.querySelector("div#mirror");if(!u)return;const d=document.createEvent("HTMLEvents");d.initEvent("input",!0,!1),c.dispatchEvent(d);u.innerText=`${t}&nbsp;`;const h=a.querySelector(".input-content");h&&h.classList.add("label-is-hidden")},W3=(e,t)=>{const n=e.closest("#body.ytd-backstage-post-renderer");if(!n)return;const i=n.querySelector("#reply-button-end a");if(!i)return;i.click();const r=n.querySelector("#creation-box.focused");if(!r)return;const a=r.querySelector("yt-formatted-string#contenteditable-textarea #contenteditable-root");if(!a)return;a.innerHTML=t;const o=n.querySelector("ytd-button-renderer#submit-button");o&&o.removeAttribute("disabled")},H3=(e,t)=>{const n=e.closest("#body.ytd-comment-renderer");if(!n)return;const i=n.querySelector("#reply-button-end a");if(!i)return;i.click();const r=n.querySelector("#creation-box.focused");if(!r)return;const a=r.querySelector("yt-formatted-string#contenteditable-textarea #contenteditable-root");if(!a)return;a.innerHTML=t;const o=n.querySelector("ytd-button-renderer#submit-button");o&&o.removeAttribute("disabled")},Y3=(0,h.forwardRef)((({templatePopupOpen:e,onClick:t},n)=>{const i=Fo()("comment-templates-dropdown-button",{expanded:e});return h.createElement("button",{className:i,onClick:t,ref:n},h.createElement(XF,{size:"small"}),h.createElement("span",{className:"dropdown-button-caret yt-uix-button-arrow yt-sprite vidiq-arrow"}))}));Y3.displayName="CommentTemplateButton";const $3=(e,t)=>{if(!t)return;const n=t.trim().replace(e.trim(),"<user-name>");return dW.replaceEmojisWithUnicode(n)},K3=(e,t)=>{if(t)return t=t.replace(/<user-name>/g,e.trim()),dW.replaceUnicodeWithEmojis(t)},G3=({name:e,onChange:t,onSubmit:n})=>h.createElement(h.Fragment,null,h.createElement("input",{type:"text",defaultValue:e,onChange:t,onClick:e=>e.stopPropagation()}),h.createElement("div",{className:"save-name",onClick:n,title:(0,ai.Z)("saveName")},h.createElement("i",{className:"material-icons"},"save"))),X3=({templates:e,selectedTemplateName:t,isEditing:n,changeName:i,editName:r,submitName:a,insertReply:o,selectTemplate:s})=>{if(Ho()(e))return null;const l=Object.keys(e).map((l=>h.createElement("li",{className:Fo()("template-name",{selected:t===l}),key:l,value:l,onClick:()=>s(l)},h.createElement("span",null,n&&t===l?h.createElement(G3,{name:l,onChange:i,onSubmit:a}):h.createElement(h.Fragment,null,h.createElement("span",null,l),h.createElement("div",{className:"edit-name",onClick:e=>{e.stopPropagation(),r(l)},title:(0,mT.Z)("editName")},h.createElement("i",{className:"material-icons"},"edit")))),h.createElement("div",{className:"quick-add",onClick:()=>{const t=e[l];t&&o(t)},title:(0,mT.Z)("insertReplyTitle")},"+"))));return h.createElement("ul",{className:"comment-templates-list"},l)},Q3=e=>{return t={comment_templates:e},P.Z.expanded("vidiq.updateUserSettings",{body:t}).then((e=>{if(!e.response.ok)throw new Error(`Error updating user settings. status: ${e.response.status}; text: ${e.response.statusText}`)}));var t},J3=()=>{return(e="comment_templates",P.Z.expanded("vidiq.getUserSettings",{keys:e}).then((t=>{if(!t.response.ok)throw new Error(`Error fetching user settings. type: ${e}; status: ${t.response.status}; text: ${t.response.statusText}`);return t.json}))).then((({comment_templates:e})=>e));var e},e4=e=>({type:"select_template",templateName:e}),t4=e=>({type:"set_templates",templates:e}),n4=(e,t)=>{switch(t.type){case"set_templates":{const n=Object.keys(t.templates),i=e.selectedTemplateName,r=i&&n.includes(i)?i:n[0];return{...e,templates:t.templates,selectedTemplateName:r}}case"select_template":return{...e,selectedTemplateName:t.templateName};default:return e}},i4={templates:{}},r4=(0,h.createContext)({state:i4,renameTemplate:()=>null,deleteTemplate:()=>null,saveTemplate:()=>null,fetchTemplates:()=>null,selectTemplate:()=>null}),a4=({children:e})=>{const[t,n]=(0,h.useState)(J.Z.getData().authed),[i,r]=(0,h.useReducer)(n4,i4),a=(0,h.useCallback)((e=>{(async(e,t,n,i)=>{const r=n;if(!r||r===i)return;const a=t[r];if(!a)return;const o={...EE()(t,r),[i]:a};await Q3(o),e(t4(o)),e(e4(i))})(r,i.templates,i.selectedTemplateName,e)}),[i,r]),o=(0,h.useCallback)((()=>{(async e=>{try{const t=await J3()||{};e(t4(t))}catch(e){throw(0,Y.Z)("CommentTemplatesActions.fetchTemplates error",e),e}})(r)}),[r]),s=(0,h.useCallback)((e=>{(async(e,t,n)=>{const i=EE()(t,n);try{await Q3(i),e(t4(i))}catch(e){throw(0,Y.Z)("CommentTemplatesActions.deleteTemplate error",e),e}})(r,i.templates,e)}),[i.templates,r]),l=(0,h.useCallback)(((e,t)=>{(async(e,t,n,i)=>{const r={...t,[n]:i};try{await Q3(r),e(t4(r)),e(e4(n))}catch(e){throw(0,Y.Z)("CommentTemplatesActions.saveTemplate error",e),e}})(r,i.templates,e,t)}),[i,r]),c=(0,h.useCallback)((e=>r(e4(e))),[r]);(0,h.useEffect)((()=>{const e=()=>n(J.Z.getData().authed);return J.Z.addChangeListener(e),o(),()=>J.Z.removeChangeListener(e)}),[o]),(0,h.useEffect)((()=>{t&&o()}),[t,o]);const u={state:i,renameTemplate:a,deleteTemplate:s,saveTemplate:l,fetchTemplates:o,selectTemplate:c};return h.createElement(r4.Provider,{value:u},e)},o4=({onChange:e,value:t})=>h.createElement("div",{className:"template-text-container"},h.createElement(hW,{type:"comment-templates",triggeredChange:e}),h.createElement("textarea",{className:"template-text",onChange:t=>e(t.target.value),value:t})),s4=Oo()({displayName:"CommentTemplatesCreate",getInitialState:()=>({name:"",text:""}),createTemplate(){ht("created comment template",{location:(0,be.Z)(),_identify:{set:{"date last created comment template":(new Date).toISOString()},add:{"comment template created count":1}}});const e=dW.replaceEmojisWithUnicode(this.state.text);this.props.onSubmit(this.state.name,e),cs.destroy()},updateName(e){this.setState({name:r()(e.target).val()})},updateText(e){this.setState({text:r()(e.target).val()})},triggeredChange(e){this.setState({text:e})},getButtons(){return["cancel",{text:(0,ai.Z)("createTitle"),onClick:this.createTemplate,position:"right",disabled:!this.state.name||!this.state.text}]},render(){return h.createElement(cs,{title:(0,ai.Z)("createNewCommentTemplateTitle"),buttons:this.getButtons()},h.createElement("div",{className:"create-container"},h.createElement("div",{className:"name-container"},h.createElement("h4",null,(0,ai.Z)("templateNameTitle")),h.createElement("input",{type:"text",placeholder:(0,ai.Z)("templatePlaceholder1"),value:this.state.name,onChange:this.updateName})),h.createElement("div",{className:"text-container"},h.createElement("h4",null,(0,ai.Z)("templateTextTitle")),h.createElement(hW,{type:"comment-template-create",triggeredChange:this.triggeredChange}),h.createElement("textarea",{className:"comment-template-create-textbox",placeholder:(0,ai.Z)("templatePlaceholder2"),value:this.state.text,onChange:this.updateText}),h.createElement("h5",null,ai.Z.html("templateTextHint")))))}}),l4=cs,c4=(0,h.forwardRef)((({replyName:e,insertReply:t},n)=>{const[i,r]=(0,h.useState)(),[a,o]=(0,h.useState)(),[s,l]=(0,h.useState)(!1),c=(0,h.useContext)(r4),{selectedTemplateName:u,templates:d}=c.state,p=(0,h.useCallback)((e=>{l(!1),o(void 0),r(void 0),c.selectTemplate(e)}),[c]),f=(0,h.useCallback)((e=>{p(e),r(e),l(!0)}),[p]),m=(0,h.useCallback)((e=>{r(e.target.value)}),[]),g=(0,h.useCallback)((()=>{i&&(c.renameTemplate(i),l(!1))}),[c,i]),v=(0,h.useCallback)((()=>{a&&u&&c.saveTemplate(u,$3(e,a))}),[u,c,a,e]),y=(0,h.useCallback)((()=>{u&&(c.deleteTemplate(u),l(!1))}),[c,u]),b=(0,h.useCallback)((n=>{const i=K3(e,n);i&&t(i)}),[t,e]),_=(0,h.useCallback)((()=>{if(!u)return;const e=d[u];e&&b(a||e)}),[u,d,a,b]),w=(0,h.useCallback)(((t,n)=>{t&&n&&c.saveTemplate(t,$3(e,n))}),[e,c]),k=(0,h.useCallback)((()=>{l4.mount(s4,{replyName:e,onSubmit:w})}),[e,w]),x=K3(e,void 0!==a?a:u&&d[u]),E=!a||u&&a===K3(e,d[u]);return h.createElement("div",{className:"comment-templates-container",ref:n},h.createElement("h2",null,(0,ai.Z)("commentTemplatesTitle")),Ho()(d)&&h.createElement("h1",{className:"no-templates-message"},(0,ai.Z)("noCommentTemplates")),h.createElement(X3,{templates:d,changeName:m,editName:f,submitName:g,insertReply:b,selectTemplate:p,selectedTemplateName:u,isEditing:s}),h.createElement(o4,{onChange:o,value:x}),h.createElement("div",{className:"template-action-buttons"},h.createElement(is,{classes:"create-new",text:(0,ai.Z)("newTitle")+" +",onClick:k}),h.createElement(is,{classes:"save",text:(0,ai.Z)("saveTitle"),disabled:E,onClick:v}),h.createElement(is,{classes:"delete",text:(0,ai.Z)("deleteTitle"),secondary:!0,onClick:y}),h.createElement(is,{classes:"insert-reply",text:(0,ai.Z)("insertReplyTitle"),onClick:_})))}));c4.displayName="CommentTemplates";const u4=({queryReplyElement:e,insertReplyCommentIntoDOM:t,className:n,containerElement:i})=>{const[r,a]=(0,h.useState)(null),[o,s]=(0,h.useState)(null),[l,c]=(0,h.useState)(!1);(0,h.useEffect)((()=>{if(!r)return;const t=e(r);if(!t)return;s(t.textContent);const n=new MutationObserver((()=>s(t.textContent)));return n.observe(t,{childList:!0,subtree:!0}),()=>n&&n.disconnect()}),[e,r]);const u=(0,h.useCallback)((e=>{r&&(t(r,e),c(!1),ht("used comment template",{location:(0,be.Z)(),_identify:{add:{"comment template used count":1},set:{"date last comment template used":(new Date).toISOString()}}}))}),[r,t]),d=(0,h.useCallback)((()=>c((e=>!e))),[]),p=(0,h.useCallback)((e=>{const t=document.querySelector(".emoji-mart");e.target instanceof Element&&t&&t.contains(e.target)||c(!1)}),[]),f=Fo()(n,"comment-templates-dropdown",{"new-layout":(0,Ee.Z)()});return h.createElement("div",{className:"studio-beta-comment-templates-dropdown",ref:a},r&&o&&h.createElement("div",{className:f},h.createElement(QW.Popover,{isOpen:l,onClickOutside:p,containerStyle:{zIndex:"3"},containerParent:i||void 0,positions:["top","bottom","right"],padding:10,content:h.createElement(c4,{replyName:o,insertReply:u})},h.createElement(Y3,{templatePopupOpen:l,onClick:d}))))},d4=()=>h.createElement(u4,{className:"community-comment-template-dropdown",queryReplyElement:V3,insertReplyCommentIntoDOM:W3,containerElement:document.querySelector("#body.ytd-backstage-post-renderer")}),h4=()=>h.createElement(u4,{className:"community-comment-template-dropdown",queryReplyElement:z3,insertReplyCommentIntoDOM:H3,containerElement:document.querySelector("#contents")}),p4=()=>h.createElement(u4,{queryReplyElement:B3,insertReplyCommentIntoDOM:U3}),f4=()=>h.createElement(u4,{className:"community-comment-template-dropdown",queryReplyElement:z3,insertReplyCommentIntoDOM:H3,containerElement:document.querySelector("ytd-item-section-renderer#sections")}),m4=new O3.QueryClient;function g4(e=new Date){return new Date(e.getFullYear(),e.getMonth()+1,1)}function v4(e,t){return wt()(e).to(t,!0)}const y4="title-recommendation-quota";function b4(){const{data:e}=(0,O3.useQuery)(y4,(()=>(0,P.Z)("vidiq.titleRecommendationQuota")));return e?{durationUntilReset:v4(new Date,g4()),remainingCredits:e.number_of_credit_left,hasUsedAllCredits:0===e.number_of_credit_left}:null}function _4({feature:e,targetPlan:t}){const n=b4();return n&&null===n.remainingCredits?null:h.createElement(h.Fragment,null,h.createElement(Df,{css:{mb:"$3"}},h.createElement(Af,{size:"sm"},null!=n&&n.hasUsedAllCredits?(0,ai.Z)("titleGeneratorUpsellHint"):"")),h.createElement(xs,{upsell:e,targetPlan:t}))}function w4(){return w4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w4.apply(this,arguments)}function k4(e){return h.createElement("svg",w4({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M0.666666 2.66663V6.66663H4.66667",stroke:"#139DFF",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{d:"M2.34 10C2.77226 11.2269 3.59156 12.2801 4.67444 13.0009C5.75732 13.7217 7.04512 14.0711 8.34381 13.9963C9.6425 13.9216 10.8817 13.4268 11.8748 12.5865C12.8678 11.7462 13.5608 10.606 13.8495 9.33758C14.1381 8.06917 14.0067 6.74131 13.4751 5.55407C12.9434 4.36684 12.0404 3.38454 10.9019 2.75518C9.76343 2.12583 8.45127 1.88352 7.16312 2.06475C5.87497 2.24599 4.68061 2.84095 3.76 3.76001L0.666666 6.66667",stroke:"#139DFF",strokeLinecap:"round",strokeLinejoin:"round"}))}const x4=bf(Df,{backgroundColor:"$backgroundTertiary",color:"$textPrimary",borderRadius:"$lg",padding:"$4 $3 $3"}),E4=bf(Mf,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:"$2"});function C4({currentIndex:e,total:t,onNext:n,onPrevious:i,onSelect:r,onRefresh:a,onCancel:o}){return h.createElement(E4,null,h.createElement(Mf,{css:{flexDirection:"row",alignItems:"center"}},h.createElement(cm,null,h.createElement(lm,{asChild:!0},h.createElement(Nf,{size:"sm",variant:"link",onClick:a},h.createElement(k4,null))),h.createElement(sm,null,h.createElement(Af,{css:{color:"inherit",maxWidth:"30ch",lineHeight:1.4},size:"sm"},(0,ai.Z)("refresh")))),h.createElement(Df,{css:{height:"20px",borderRight:"1px solid $borderPrimary"}}),h.createElement(Nf,{variant:"link",onClick:i,size:"sm","aria-label":(0,ai.Z)("previous")},h.createElement(Hf,null)),h.createElement(Af,null,e+1," of ",t),h.createElement(Nf,{variant:"link",onClick:n,size:"sm","aria-label":(0,ai.Z)("next")},h.createElement(Yf,null))),h.createElement(Mf,{css:{alignItems:"center",gap:"$3"}},h.createElement(Nf,{variant:"secondary",onClick:o},(0,ai.Z)("cancel")),h.createElement(Nf,{variant:"primary",onClick:r},(0,ai.Z)("titleGeneratorUseSuggestedItem"))))}function S4({descriptions:e,onRefresh:t,onSelect:n,onCancel:i}){const[r,a]=(0,h.useState)(0),o=e[r],s=e.length;return h.createElement(x4,null,h.createElement(Df,{css:{height:"120px",overflowY:"auto"}},h.createElement(Af,{size:"md",weight:"medium",css:{whiteSpace:"pre-line",lineHeight:1.4}},o)),h.createElement(C4,{onPrevious:()=>a((e=>(e-1+s)%s)),currentIndex:r,total:s,onNext:()=>a((e=>(e+1)%s)),onRefresh:t,onSelect:()=>n(o),onCancel:i}))}const T4=bf(Df,{width:"100%",position:"relative",display:"flex",boxSizing:"unset"}),D4=bf("input",{backgroundColor:"$backgroundSecondary",color:"$textPrimary",width:"100%",outline:"transparent solid 1px",border:"1px solid $borderPrimary",appearance:"none",position:"relative",fontSize:"$md",borderRadius:"$pill",height:"34px",pl:"$4",pr:"90px","&::placeholder":{color:"$textSecondary"},"&:focus, &:hover":{border:"1px solid $blue500"},"&:disabled":{color:"$textSecondary",border:"1px solid $gray300","&::placeholder":{color:"$gray400"}},[`${Tf} &`]:{"&:disabled":{color:"$gray800",border:"1px solid $gray800","&::placeholder":{color:"$gray700"}}}}),F4=bf(Df,{right:"$2",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,zIndex:2,height:"100%","& button":{height:"calc(100% - 8px)"}});function M4({value:e,isDisabled:t,onChange:n,onSubmit:i,isSubmitting:r}){return h.createElement("form",{onSubmit:t=>{t.preventDefault(),i(e)}},h.createElement(T4,null,h.createElement(D4,{placeholder:(0,ai.Z)("descriptionRecsSearchPlaceholder"),value:e,onChange:e=>{n(e.target.value)},disabled:t}),h.createElement(F4,null,h.createElement(Nf,{type:"submit",disabled:r||t},(0,ai.Z)("generate")))))}const A4="description-recommendation-quota";function I4(){const{data:e}=(0,O3.useQuery)(A4,(()=>(0,P.Z)("vidiq.descriptionRecommendationQuota")));return e?{durationUntilReset:v4(new Date,g4()),remainingCredits:e.number_of_credit_left,hasUsedAllCredits:0===e.number_of_credit_left}:null}function O4(){return(0,O3.useMutation)(["description-recommendations"],(e=>P.Z.send("vidiq.getGeneratedDescriptions",e)),{onSuccess:async e=>{var t;t=e.quota,m4.setQueryData(A4,t)}})}function N4(){return N4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},N4.apply(this,arguments)}function P4(e){return h.createElement("svg",N4({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M8.00004 14.6667C11.6819 14.6667 14.6667 11.6819 14.6667 8C14.6667 4.3181 11.6819 1.33333 8.00004 1.33333C4.31814 1.33333 1.33337 4.3181 1.33337 8C1.33337 11.6819 4.31814 14.6667 8.00004 14.6667Z",stroke:"#909090",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{d:"M8 11.3333H8.00667",stroke:"#909090",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{d:"M6.06006 6C6.21679 5.55444 6.52616 5.17874 6.93336 4.93942C7.34056 4.7001 7.81932 4.61262 8.28484 4.69247C8.75036 4.77232 9.1726 5.01435 9.47678 5.37568C9.78095 5.73702 9.94743 6.19435 9.94672 6.66667C9.94672 8 7.94673 8.66667 7.94673 8.66667",stroke:"#909090",strokeLinecap:"round",strokeLinejoin:"round"}))}const R4=bf(Mf,{whiteSpace:"nowrap",fontSize:"$sm",alignItems:"center",justifyContent:"center"});function j4({credits:e}){if(e&&null===e.remainingCredits)return null;const t=(null==e?void 0:e.remainingCredits)??0;return h.createElement(R4,null,h.createElement(Af,{size:"sm"},(0,ai.Z)("titleGeneratorCreditsRemainingLabel",[t.toString(),((null==e?void 0:e.durationUntilReset)||"").toString()]))," ",h.createElement(cm,null,h.createElement(lm,{css:{alignItems:"center",justifyContent:"center",display:"flex"}},h.createElement(P4,null)),h.createElement(sm,null,h.createElement(Af,{css:{color:"inherit",maxWidth:"30ch",lineHeight:1.4},size:"sm"},(0,ai.Z)("titleGeneratorNonBoostUsersGuide")))))}function L4({error:e,onRetry:t,retryMessage:n}){const i="function"==typeof t&&n;return h.createElement(Mf,{direction:"row",alignItems:"center",justifyContent:"center",gap:"$3",css:{backgroundColor:"$red50",border:"1px solid $red100",borderRadius:"$4",py:"$3",textAlign:"center"}},h.createElement(Af,{as:"span",css:{color:"$red500"}},h.createElement(_E,null)),h.createElement(Af,{weight:"medium",size:"sm",as:"span",css:{color:"black"}},e),i&&h.createElement(Nf,{variant:"link",css:{height:"fit-content",padding:0},onClick:t},n))}function q4(){var e;const[t,n]=(0,h.useState)(""),i=GL((e=>e.title)),r=GL((e=>e.channelId)),{data:a,mutateAsync:o,isLoading:s,reset:l,error:c}=O4(),u=(0,h.useCallback)((()=>{const e=J.Z.getData();return{userid:e.user&&e.user.id,channelid:r}}),[r]),d=I4(),p=(0,h.useCallback)((()=>{if(d&&d.hasUsedAllCredits)return;const e=(new Date).getTime();o({search_term:t,video_title:i}).then((n=>{var r;const a=(new Date).getTime();null!=n&&null!==(r=n.descriptions)&&void 0!==r&&r.descriptions&&ht("optimize description_generator response",{via:lt(),...u(),title:i,searchTerm:t,suggestions:n.descriptions.descriptions,latency_ms:a-e,preset_id:n.descriptions.preset_id})}))}),[d,u,o,t,i]),f=(0,h.useMemo)((()=>{var e;return(null==a||null===(e=a.descriptions)||void 0===e?void 0:e.descriptions)||[]}),[a]),m=(0,h.useCallback)((e=>{const n=document.querySelector("div.input-container.description #textbox");n.innerText=e,tq(n,"input");const r=f.filter((t=>t!==e));ht("optimize description_generator add_suggestion",{via:lt(),...u(),title:i,searchTerm:t,added:e,ignored:r})}),[u,t,f,i]),g=(0,h.useCallback)((()=>{l(),n("")}),[l]);return h.createElement(Df,null,h.createElement(Mf,{direction:"row",alignItems:"center",justifyContent:"spaceBetween",css:{mb:"$4"}},h.createElement(Mf,{direction:"row",alignItems:"center"},h.createElement(ts,{size:"16px"}),h.createElement(Af,{css:{marginLeft:"$3"}},(0,ai.Z)("descriptionRecsTitle"))),!(null!=d&&d.hasUsedAllCredits)&&h.createElement(j4,{credits:d})),s?h.createElement(Mf,{direction:"row",justifyContent:"center",alignItems:"center"},h.createElement(os,{size:"medium"})):c?h.createElement(Df,{css:{mt:"$3"}},h.createElement(L4,{error:(0,ai.Z)("descriptionRecsErrorGeneric"),onRetry:l,retryMessage:(0,ai.Z)("tryAgain")})):a?(null==a||null===(e=a.descriptions)||void 0===e?void 0:e.descriptions.length)>0?h.createElement(S4,{descriptions:a.descriptions.descriptions,onSelect:m,onRefresh:p,onCancel:g}):h.createElement(Df,{css:{mt:"$3"}},h.createElement(L4,{error:(0,ai.Z)("descriptionRecsErrorEmpty"),onRetry:g,retryMessage:(0,ai.Z)("descriptionRecsErrorRetry")})):h.createElement(M4,{onSubmit:()=>{p()},isSubmitting:s,value:t,onChange:n,isDisabled:null==d?void 0:d.hasUsedAllCredits}),(null==d?void 0:d.hasUsedAllCredits)&&h.createElement(Df,{css:{textAlign:"center",mt:"$3"}},h.createElement(j4,{credits:d}),h.createElement(_4,{feature:"DescriptionGenerator",targetPlan:"boost_lite"})))}function Z4(){return(0,O3.useMutation)(["title-recommendations"],(e=>P.Z.send("vidiq.getGeneratedTitles",{topic:e})),{onSuccess:async e=>{var t;t=e.quota,m4.setQueryData(y4,t)}})}const B4=bf(Mf,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",lineHeight:"1em",padding:"$3 $4",borderRadius:"$pill","&:not(:last-child)":{marginBottom:"$3"},variants:{selected:{true:{background:"$green50",color:"$green600",border:"1px solid $green500",[`${Tf} &`]:{backgroundColor:"$green600",border:0,color:"white"}},false:{background:"$backgroundTertiary",color:"$textPrimary"}}}});function V4({title:e,isSelected:t,onSelect:n}){return h.createElement(B4,{selected:t,"aria-selected":t},h.createElement(Af,{size:"md",weight:"medium",css:{wordBreak:"break-all",lineHeight:"1.2em",color:"inherit"}},e),t?h.createElement(Nf,{variant:"unstyled",css:{backgroundColor:"$white",color:"$green600",border:"1px solid $green500",[`${Tf} &`]:{border:"1px solid $green600"}},"aria-label":(0,ai.Z)("selected")},h.createElement(xy,null)):h.createElement(Nf,{variant:"secondary",onClick:()=>n(e)},(0,ai.Z)("titleGeneratorUseSuggestedItem")))}const z4=bf(Mf,{alignItems:"center",justifyContent:"center"}),U4=bf(Mf,{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),W4=bf(U4,{fontSize:"$sm",padding:"$3 0"});function H4(){const[e,t]=(0,h.useState)(!1),[n,i]=(0,h.useState)(""),r=b4(),{mutateAsync:a,data:o,isLoading:s,error:l}=Z4(),c=GL((e=>e.channelId)),u=GL((e=>e.title)),d=(0,h.useCallback)((()=>{const e=J.Z.getData();return{userid:e.user&&e.user.id,channelid:c}}),[c]),p=(0,h.useCallback)((()=>{if(r&&r.hasUsedAllCredits)return;const e=(new Date).getTime();a(u).then((t=>{var n;const i=(new Date).getTime();null!=t&&null!==(n=t.titles)&&void 0!==n&&n.titles&&ht("optimize title_generator response",{via:lt(),...d(),input:u,suggestions:t.titles.titles,latency_ms:i-e,preset_id:t.titles.preset_id})}))}),[a,u,d,r]),f=(0,h.useMemo)((()=>{var e;return(null==o||null===(e=o.titles)||void 0===e?void 0:e.titles)||[]}),[o]),m=()=>{t(!0),p()},g=(0,h.useCallback)((e=>{i(e),(e=>{const t=document.querySelector("div.input-container.title #textbox");t.innerText=e,tq(t,"input")})(e);const t=f.filter((t=>t!==e));ht("optimize title_generator add_suggestion",{via:lt(),...d(),input:u,added:e,ignored:t})}),[u,f,d]),v=!(null!=r&&r.hasUsedAllCredits||s);return e?h.createElement(h.Fragment,null,h.createElement(W4,null,h.createElement(U4,null,h.createElement(ts,{size:"16px"}),h.createElement(Af,{size:"sm",css:{marginLeft:"$3"}},(0,ai.Z)("titleGeneratorRecommendation",[u]))),h.createElement(z4,null,h.createElement(Nf,{onClick:p,variant:"link",css:{color:"$textSecondary",visibility:v?"visible":"hidden",cursor:v?"pointer":"default"}},h.createElement(Af,{as:"span",size:"sm",css:{marginRight:"$3"}},(0,ai.Z)("refresh")),h.createElement(k4,null)),h.createElement(LW,{onClick:()=>{t(!1)},"aria-label":(0,ai.Z)("hide"),css:{color:"textSecondary"}},h.createElement(qf,{size:"sm"})))),h.createElement(Df,{css:{textAlign:"center"}},l?h.createElement(Af,null,(0,ai.Z)("somethingWentWrong")):s?h.createElement(os,{size:"medium"}):f.map((e=>h.createElement(V4,{key:e,title:e,isSelected:n===e,onSelect:g}))),h.createElement(j4,{credits:r}),h.createElement(_4,{feature:"TitleGenerator",targetPlan:"boost_lite"}))):h.createElement(U4,null,h.createElement(Nf,{variant:"secondary",onClick:m},h.createElement(ts,{size:"16px"}),h.createElement(Af,{css:{marginLeft:"$3",color:"inherit"}},(0,ai.Z)("getTitleRecommendations"))),h.createElement(j4,{credits:r}))}var Y4=__webpack_require__(4910);const $4=Oo()({displayName:"MFABody",getInitialState:()=>({requested:!1,phoneNumber:null,loading:!0,error:null,success:!1,code:null}),UNSAFE_componentWillMount(){(0,Y4.P)().then((e=>{this.setState({phoneNumber:e.phone,loading:!1})}))},onSubmit(){this.setState({error:null});const e=this.state.code;P.Z.expanded("vidiq.applySessionVerification",{code:e}).then((({response:e,json:t})=>{const n=e.status;if(e.ok)return void this.setState({success:!0});const i=[(0,ai.Z)("mfaCodeSubmitFail"),n&&`(${n})`,t.error].filter((e=>e)).join(" ");this.setState({error:i})}))},onRequest(){this.setState({error:null}),P.Z.expanded("vidiq.requestSessionVerification").then((({response:e,json:t})=>{const n=e.status;if(e.ok)return void this.setState({requested:!0});if("user_disabled"===t.error)return void this.setState({error:(0,ai.Z)("pleaseConfirmEmailBeforeUsingFeature")});const i=[(0,ai.Z)("mfaCodeRequestFail"),n&&`(${n})`,t.error,"session_required"===t.error&&"- Please log out and log in again"].filter((e=>e)).join(" ");this.setState({error:i})}))},censoredPhoneNumber(){const e=this.state.phoneNumber;return"•".repeat(Math.max(e.length-4,0))+e.slice(-4)},requestCode(){if(this.state.success)return;let e;return e=this.state.phoneNumber?h.createElement("span",null,ai.Z.html("mfaInfoSMS",[this.censoredPhoneNumber()])):h.createElement("span",null,(0,ai.Z)("mfaInfoEmail")),h.createElement("div",{className:"request-code"},h.createElement("p",null,e),h.createElement("span",{style:{marginRight:10}},h.createElement(is,{onClick:this.onRequest,text:(0,ai.Z)("requestCodeTitle")})),h.createElement(is,{secondary:!0,onClick:this.props.closeModal,text:(0,ai.Z)("cancel")}))},applyCode(){if(this.state.requested&&!this.state.success)return h.createElement("div",{className:"apply-code"},h.createElement("h4",null,(0,ai.Z)("mfaCodeSent")),h.createElement("p",null,(0,ai.Z)("mfaCodeSentExplain")),h.createElement("div",null,h.createElement("input",{id:"code-field",type:"text",name:"code",onChange:e=>this.setState({code:e.target.value}),placeholder:(0,ai.Z)("verificationCodeTitle")}),h.createElement(is,{onClick:this.onSubmit,text:(0,ai.Z)("submit")})))},error(){if(this.state.error)return h.createElement("div",{className:"error",dangerouslySetInnerHTML:{__html:(0,ns.N)(this.state.error,{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href","rel","target"]})}})},success(){if(this.state.success)return h.createElement("div",null,h.createElement("p",null,(0,ai.Z)("mfaComplete")),h.createElement(is,{onClick:this.props.closeModal,text:(0,ai.Z)("close")}))},render(){return this.state.loading?h.createElement(os,{container:!0}):h.createElement("div",{className:"mfa-modal"},this.success(),this.requestCode(),this.applyCode(),this.error())}}),K4=$4,G4=Fo()("vidiq-mfa-modal-container","vidiq-react","vidiq-mfa-modal-background"),X4=()=>{const[e,t]=(0,h.useState)(!1);(0,h.useEffect)((()=>{const e=()=>{r()("body").css("overflow","hidden"),t(!0)};return r()(window).on("vidiq:MFA",e),()=>{r()(window).off("vidiq:MFA",e)}}),[]);const n=(0,h.useCallback)((()=>{r()("body").css("overflow","visible"),t(!1)}),[]),i=(0,h.useCallback)((e=>{e.target===e.currentTarget&&n()}),[n]);return e?h.createElement("div",{className:G4,onClick:i},h.createElement("div",{className:"vidiq-mfa-modal"},h.createElement("div",{className:"modal-header"},h.createElement("h1",{className:"modal-title"},h.createElement("button",{className:"modal-close",onClick:n},"✖"),h.createElement("img",{draggable:"false",src:chrome.runtime.getURL("images/vidiq-badge.png"),alt:""}),h.createElement("span",null,(0,ai.Z)("mfaRequired")))),h.createElement("div",{className:"modal-content"},h.createElement(K4,{closeModal:n})))):null};const Q4=Qn("div",{target:"e1sbj69u0"})({name:"8w31vx",styles:"&&{.vidiq-comment-filter{margin:0px;margin-left:30px;}}"}),J4=()=>{const[e,t]=(0,h.useState)(null),n=e&&e.parentElement||null;return h.createElement("div",{className:"vidiq-inline-keywords-wrapper",ref:t},n&&h.createElement(lJ,{container:n}))},e5=({prominent:e})=>{const[t,n]=(0,h.useState)(null),i=t&&t.parentElement||null,r=iQ(i||void 0),a=Fo()("vidiq-social-stats-container",{"vidiq-inline-social-non-prominent":!e,"vidiq-inline-social-prominent":e});return h.createElement("div",{className:a,ref:n},i&&h.createElement(aQ,{container:i,videoId:r&&r.id}))},t5={youtube:"www.youtube.com",studio:"studio.youtube.com"};function n5({path:e,selectorName:t,children:n,remountOnPathChange:i=!1,remountOnInterval:r=!1,multiple:a=!1,hostname:o,limit:s,elementPosition:l,prependClass:c}){const[u,d]=(0,h.useState)(null),{currentPath:p,addPathChangeListener:f,removePathChangeListener:m}=(0,h.useContext)(Bl),g=(0,h.useContext)(N3),v=(0,h.useCallback)((()=>{const n=function(e,t,n,i,r,a,o){const s=location.host;if(r&&s!==t5[r])return null;if(!((e,t)=>!t||("string"==typeof t?e===t:t.test(e)))(t,i))return null;const l=IR[e],c=document.querySelector(l);if(!c)return null;if(o){const e=document.querySelector(`.${o}`);if(e)return e;const t=document.createElement("div");return t.classList.add(o),c.prepend(t),t}if(n)return document.querySelectorAll(l);if(a){"function"==typeof a&&(a=a());const e=document.querySelectorAll(l);return e&&e[a]}return c}(t,p,a,e,o,l,c);if(null!==n)if("forEach"in n){let e=Array.from(n);if(s){const t="function"==typeof s?s():s;e=e.slice(0,t)}d(e)}else d(n);else d(n)}),[t,p,a,s,e,d,o,l,c]),y=(0,h.useCallback)((()=>{d(null),v()}),[v,d]);return(0,h.useEffect)((()=>(v(),i&&f(y),g&&r&&g.addMountIntervalListener(v),()=>{m(y),g&&g.removeMountIntervalListener(v)})),[f,m,y,g,v,i,r]),u?"forEach"in u?0===u.length?null:h.createElement(h.Fragment,null,u.map((e=>Yo.createPortal(n,e)))):Yo.createPortal(n,u):null}const i5=async(e,t)=>{const n=e.reduce(((e,t)=>t?e.concat([t]):e),[]),i=await(0,_e.Z)(),r=J.Z.getData().authed;let a=!1;try{a=await G2()}catch(e){}(r?ht:pt)("uploaded videos",{_identify:{set:{"date last uploaded videos":(new Date).toISOString()},add:{"video upload count":e.length}},"video ids":n,"channel id":i,source:t,"user logged in":r,"yt channel authorized":a})},r5=async()=>{const e=Math.round((new Date).getTime()/1e3)-30;await(async()=>{const e=document.querySelectorAll(IR.studioMultiUploadModalVideoItems),t=Array.from(e).map((e=>new Promise((t=>{const n=new MutationObserver((()=>{const i=e.querySelector("iron-icon.progress-row-icon.completed"),r=e.querySelector("iron-icon.progress-row-icon.failed");(i||r)&&(t(void 0),n.disconnect())}));try{n.observe(e,{childList:!0,subtree:!0})}catch(e){n.disconnect()}}))));await Promise.all(t)})();const t=await(async e=>{try{return(await rg.fetchToDate({minDate:e,useTimeCreated:!0,includeDrafts:!0,origin:null,onlyPublic:!1})).videos.map((e=>e.id))}catch(e){return null}})(e);t&&t.length&&i5(t,"upload v2")},a5=()=>((0,h.useEffect)((()=>{r5()}),[]),h.createElement(h.Fragment,null));const o5=Qn("div",{target:"e1saqa0w6"})({name:"pz5p0b",styles:"background-color:var(--ytcp-brand-background-solid);border:1px solid var(--ytcp-line-divider);border-radius:var(--ytcp-standard-border-radius);display:flex;position:relative;flex-direction:column;font-weight:400;font-size:13px;line-height:20px;color:var(--ytcp-text-primary);overflow:hidden;margin-bottom:var(--card-margin, 48px);overflow:hidden;padding-left:var(--item-padding-horizontal);padding-right:var(--item-padding-horizontal);font-family:'Roboto','Noto',sans-serif;-webkit-font-smoothing:antialiased"}),s5=Qn("p",{target:"e1saqa0w5"})({name:"c126bb",styles:"font-weight:500;font-size:18px;line-height:24px;color:var(--ytcp-text-primary);padding-top:22px;padding-bottom:18px"}),l5=Qn("img",{target:"e1saqa0w4"})({name:"4d3mvj",styles:"width:100%;object-fit:cover;height:248px;box-sizing:border-box"}),c5=Qn("p",{target:"e1saqa0w3"})({name:"ncvrbh",styles:"flex:1;font-weight:500;font-size:15px;line-height:24px;padding-top:11px;overflow-wrap:break-word"}),u5=Qn("p",{target:"e1saqa0w2"})({name:"1w9qnjd",styles:"font-weight:400;font-size:13px;line-height:20px;color:var(--ytcp-text-secondary);padding-top:5px;padding-bottom:14px;overflow-wrap:break-word"}),d5=Qn("a",{target:"e1saqa0w1"})({name:"1pbhwg9",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;flex:1 1;padding:var(--ytcp-button-label-padding, 8px 0 8px);margin-bottom:12px;--ytcp-button-icon-color:inherit;--ytcp-call-to-action-raised-focused-background-border-radius:4px;display:inline-flex;align-items:center;text-align:center;cursor:pointer;user-select:none;border-radius:2px;min-width:36px;height:36px;box-sizing:border-box;position:relative;color:var(--ytcp-call-to-action);font-weight:500;-webkit-font-smoothing:antialiased;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-transform:uppercase;letter-spacing:0.01em;font-size:14px;line-height:20px;transition:box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1)"}),h5=Qn("div",{target:"e1saqa0w0"})({name:"4c6dm7",styles:"display:flex;flex-direction:row;justify-content:space-between"});function p5(){var e,t;const n=M(tt.STUDIO_DASHBOARD_VIDEO,R),i=Tu(),r=(null==n||null===(e=n.variant)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.video_id)||"",a=function(e){const[t,n]=(0,h.useState)(null);return(0,h.useEffect)((()=>{e&&0!==e.trim().length&&async function(){try{var t,i,r;const a=await _X([e]);if(null==a||null===(t=a.json)||void 0===t||null===(i=t.items)||void 0===i||null===(r=i[0])||void 0===r||!r.snippet)return;const o=null==a?void 0:a.json.items[0].snippet;n(o)}catch(e){Me.Z.error(new Error("Unable to get video infor for latest video card"),{error:e})}}()}),[e]),t}(r),o=(0,h.useCallback)((()=>(function(e,t){var n;const i=J.Z.getData(),r=null==i||null===(n=i.user)||void 0===n?void 0:n.id;ht("clicked vidIQ video on youtube studio dashboard",{videoid:t,userid:r,channelid:e})}(i,r),!0)),[r,i]);if(!a)return null;const s=`https://youtube.com/watch?v=${r}`;return h.createElement(o5,null,h.createElement(s5,null,h.createElement(h5,null,(0,ai.Z)("featuredVideoCardTitle"),h.createElement(Zf,null))),h.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer",onClick:o},h.createElement(l5,{src:a.thumbnails.high.url,alt:a.title})),h.createElement(c5,null,a.title),h.createElement(u5,null,(l=a.description,we.Z.truncate(l.split("\n")[0],200))),h.createElement(d5,{href:s,target:"_blank",rel:"noopener noreferrer",onClick:o},(0,ai.Z)("featuredVideoCardWatchLink")));var l}const{studioVideoTags:f5,studioVideoTagsBar:m5,studioEditTitleInput:g5,studioUploadTitleInput:v5}=IR,y5=()=>document.querySelector(m5),b5=()=>document.querySelectorAll(f5),_5=()=>document.querySelector(g5),w5=()=>document.querySelector(v5),k5={},x5=(e,t)=>{switch(t.type){case"set_title":return{...e,title:t.title};case"set_tags":return{...e,tags:t.tags};case"reset_studio_state":return{};default:return e}},E5=(0,h.createContext)({state:k5,setTags:()=>null,setTitle:()=>null,resetStudioState:()=>null}),C5=({children:e})=>{const[t,n]=(0,h.useReducer)(x5,k5),i={state:t,setTitle:(0,h.useCallback)((e=>{n({type:"set_title",title:e})}),[]),setTags:(0,h.useCallback)((e=>{n({type:"set_tags",tags:e})}),[]),resetStudioState:(0,h.useCallback)((()=>{n({type:"reset_studio_state"})}),[])};return h.createElement(E5.Provider,{value:i},e)},S5=({getKeywordElements:e,getChipBar:t,onChange:n})=>{const i=(0,h.useCallback)((()=>{const t=e(),i=Array.from(t).reduce(((e,t)=>{const n=t.textContent;return n?[...e,n]:e}),[]);n(i)}),[e,n]);return(0,h.useEffect)((()=>{const e=t();if(!e)return;const n=new MutationObserver(i);return n.observe(e,{childList:!0}),i(),()=>{n&&n.disconnect()}}),[i,t]),h.createElement(h.Fragment,null)},T5=({getTextParentElement:e,onChange:t})=>{const n=(0,h.useCallback)((()=>{const n=e();n&&"string"==typeof n.textContent&&t(n.textContent)}),[e,t]);return(0,h.useEffect)((()=>{const t=e();if(!t)return;const i=new MutationObserver(n);return i.observe(t,{characterData:!0,subtree:!0,childList:!0}),n(),()=>i&&i.disconnect()}),[e,n]),h.createElement(h.Fragment,null)},D5=({getTagElements:e,getTagBarElement:t,getTitleInputElement:n})=>{const{setTags:i,setTitle:r}=(0,h.useContext)(E5);return h.createElement(h.Fragment,null,h.createElement(S5,{getKeywordElements:e,getChipBar:t,onChange:i}),h.createElement(T5,{getTextParentElement:n,onChange:r}))},F5=()=>h.createElement(D5,{getTagBarElement:y5,getTagElements:b5,getTitleInputElement:_5}),M5=()=>h.createElement(D5,{getTagBarElement:y5,getTagElements:b5,getTitleInputElement:w5}),A5={keywordScores:null,hotSearch:null},I5=(e,t)=>{switch(t.type){case"set_keyword_scores":return{...e,keywordScores:t.keywordScores};case"fetching_hot_search_success":return{...e,hotSearch:t.hotSearch,fetchingHotSearch:!1};case"fetching_hot_search":return{...e,hotSearchError:!1,fetchingHotSearch:!0};case"fetching_hot_search_error":return{...e,fetchingHotSearch:!1,hotSearchError:!0};case"reset_keywords":return{...A5};case"set_ab_test":return{...e};default:return e}},O5=(0,h.createContext)({state:A5,fetchRecommendedTags:()=>null,resetKeywordData:()=>null,debouncedFetchRecommendedTags:()=>null}),N5=({children:e})=>{const[t,n]=(0,h.useReducer)(I5,A5),{state:i}=(0,h.useContext)(E5);(0,h.useEffect)((()=>{(async()=>{if(!i.tags||0===i.tags.length)return;const e=await(t=i.tags,C2.fetchKeywordData(t,{}));var t;n({type:"set_keyword_scores",keywordScores:e})})()}),[i.tags]);const r=(0,h.useCallback)((()=>{n({type:"reset_keywords"})}),[]),a=(0,h.useCallback)((async(e,t,i,r)=>{try{if(!e||0===e.length)return;n({type:"fetching_hot_search"});const a=await(async(e,t,n,i)=>{if(!e||0===e.length)return;const r=n&&i?e:e.slice(0,1),{json:a}=await P.Z.ok("vidiq.hottersearch",{query:r,cid:t});return a})(e,t,i,r);if(!a)return void n({type:"fetching_hot_search_error"});n({type:"fetching_hot_search_success",hotSearch:a})}catch(e){n({type:"fetching_hot_search_error"})}}),[]),o={state:t,fetchRecommendedTags:a,resetKeywordData:r,debouncedFetchRecommendedTags:(0,h.useCallback)(yo()(a,2e3),[])};return h.createElement(O5.Provider,{value:o},e)},P5=()=>{const e=window.location.pathname.match(/\/video\/([0-9A-Za-z_-]+)\/edit/);return e&&e[1]?e[1]:null},R5=e=>{const t=document.querySelector(`${IR.studioVideoTagsBar} #text-input`);if(!t)return;const n=t;n.value=e,n.focus();let i=document.querySelector(`${IR.studioVideoEditLeftPane} ytcp-form-input-container`);i||(i=document.querySelector(`${IR.studioVideoEditLeftPaneV2} ytcp-form-input-container`)),i&&(i.classList.add("focused"),n.blur())},j5=e=>{const t=document.querySelector("#tags-container #text-input");if(!t)return;const n=t;n.value=e,n.focus();const i=document.querySelector("ytcp-form-input-container#tags-container");i&&(i.classList.add("focused"),n.blur())},L5=({getKeywordElements:e,forUpload:t})=>{const{state:n}=(0,h.useContext)(O5),{state:i}=(0,h.useContext)(E5);return(0,h.useEffect)((()=>{t||D2.insertIconIntoTags()}),[i.tags,t]),(0,h.useEffect)((()=>{const t=e();t&&n.keywordScores&&((e,t)=>{document.querySelectorAll(".vidiq-studio-beta-keyword-score.vidiq-inline-score").forEach((e=>{const t=e.parentElement;if(!t)return;const n=t.getAttribute("data-mount-id");n&&we.Z.unmountComponent(n)})),e.forEach((e=>{const n=e,i=n.textContent&&n.textContent.toLowerCase();if(!i)return;const r=t.filter((e=>e.text.toLowerCase()===i));if(!r||!r[0])return;const{volume:a,competition:o,overall:s}=r[0],l=n.parentElement;if(!l)return;const c=l.querySelector("#delete-icon");s&&(we.Z.mountComponent({component:XL,element:c,insertFn:"before",props:{compvol:{volume:a,competition:o,overall:s},weightClass:null,classes:"vidiq-inline-score",showTooltip:!0}}),l.setAttribute("vidiq-has-kw-score",i))}))})(t,n.keywordScores)}),[n.keywordScores,e]),h.createElement(h.Fragment,null)},q5=Oo()({displayName:"StudioBetaAutocomplete",onHoverSuggestion(e){this.props.inputElement.value=e},onMouseOut(){this.props.inputElement.value=this.props.tagInputText},onClick(e){lz(this.props.tagInputText,e)},autocompleteScore(e){if(!this.props.autocompleteScores||!Object.keys(this.props.autocompleteScores).length)return null;const t=this.props.autocompleteScores[e];return t?h.createElement(XL,{compvol:t,classes:"vidiq-studio-beta-autocomplete-suggestion-score"}):null},autocompleteList(){if(!this.props.autocomplete||!this.props.autocomplete.length)return null;let e=this.props.autocomplete[1];return(0,ve.h)().featurePermitted("tagAutocomplete")||(e=e.slice(0,5)),e.map((e=>h.createElement("li",{className:"vidiq-studio-beta-autocomplete-suggestion",key:e,onMouseOver:this.onHoverSuggestion.bind(this,e),onMouseOut:this.onMouseOut,onMouseDown:()=>this.onClick(e)},this.autocompleteScore(e),h.createElement("span",{className:"vidiq-studio-beta-autocomplete-suggestion-text"},e))))},footer(){if(!(0,ve.h)().featurePermitted("tagAutocomplete"))return null;const e=chrome.runtime.getURL("images/vidiq_dark.svg"),t=h.createElement("div",null,(0,ai.Z)("poweredBy")," ",h.createElement("img",{src:e,alt:""}));return h.createElement("li",{className:"vidiq-studio-beta-autocomplete-footer"},t)},upsell(){if((0,ve.h)().featurePermitted("tagAutocomplete"))return null;const e=this.props.autocomplete[1].slice(5),t=h.createElement("ul",{className:"vidiq-studio-beta-autocomplete-list-fuzzy"},e.map((e=>h.createElement("li",{className:"vidiq-studio-beta-autocomplete-suggestion-fuzzy",key:e},e))));return h.createElement("div",{className:"vidiq-studio-beta-autocomplete-upsell"},t,h.createElement("div",{className:"vidiq-studio-beta-autocomplete-upsell-info"},h.createElement("div",{className:"vidiq-call-to-action"},(0,ai.Z)("seeAllResults")),h.createElement(xs,{TagAutocomplete:!0,className:"vidiq-studio-beta-autocomplete-upsell-button",resetClassName:!0,targetPlan:"pro",text:(0,ai.Z)("getVidiqPro")})))},render(){if(!(this.props.autocomplete&&this.props.autocomplete.length&&this.props.settings.autocomplete&&this.props.tagInputText&&this.props.tagInputText.length))return null;const e={left:`${this.props.position.left}px`,top:this.props.fixedTop?`${this.props.position.top+40}px`:-35,zIndex:2};return h.createElement("div",{className:this.props.containerClass},h.createElement("div",{className:"vidiq-studio-beta-autocomplete",style:e},h.createElement("ul",{className:"vidiq-studio-beta-autocomplete-list"},this.autocompleteList(),this.footer()),this.upsell()))}}),Z5=()=>{const{settings:e,autocomplete:t,autocompleteScores:n,tagInputText:i}=HL.getData();return{settings:e,autocomplete:t,autocompleteScores:n,tagInputText:i}},B5=({getTagInput:e,containerClass:t,fixedTop:n})=>{const{state:i}=(0,h.useContext)(E5),[r,a]=(0,h.useState)(),[o,s]=(0,h.useState)(Z5()),[l,c]=(0,h.useState)(null);return(0,h.useEffect)((()=>{a(void 0)}),[i.tags]),(0,h.useEffect)((()=>{const t=e();if(!t)return;const n=t;c(n);const i=()=>{const{offsetLeft:e,offsetTop:t}=n;a({top:t,left:e}),C2.fetchAutocomplete(n.value)};return t.addEventListener("input",i),()=>{t&&t.removeEventListener("input",i)}}),[e]),(0,h.useEffect)((()=>{const e=()=>{const e=Z5();s(e)};return HL.addChangeListener(e),()=>{HL.removeChangeListener(e)}}),[]),r&&l?h.createElement(q5,{position:r,settings:o.settings,autocomplete:o.autocomplete,autocompleteScores:o.autocompleteScores,tagInputText:o.tagInputText,inputElement:l,containerClass:t,fixedTop:n}):null},{studioVideoTags:V5,studioVideoTagsBarInput:z5}=IR,U5=({fixedTop:e})=>h.createElement(h.Fragment,null,h.createElement(L5,{getKeywordElements:()=>document.querySelectorAll(V5)}),h.createElement(B5,{containerClass:"vidiq-studio-beta-autocomplete-edit-page-container",getTagInput:()=>document.querySelector(z5),fixedTop:e})),W5=e=>{const t=(0,h.useRef)();return(0,h.useEffect)((()=>{t.current=e})),t.current},H5=({keywords:e,fetchingHotSearch:t,permitted:n,optimized:i,expanded:r,onToggleExpandClick:a,limit:o})=>{if(!e||!e.length||e.length<=20||t||!n||!i)return null;const s=r?(0,ai.Z)("showFewerTitle"):(0,ai.Z)("showMoreTitle",[(e.length-o).toString()]);return h.createElement("div",{className:"vidiq-studio-beta-rec-tags-limit",onClick:a},h.createElement("p",null,s))},Y5=pL,$5=({classes:e,removeKeyword:t,keywordObject:n,weightClass:i,inputSuggestion:r,noAddButton:a,addKeyword:o,isAdded:s,namespace:l})=>{const c=Fo()("vidiq-studio-beta-keyword",e,Y5.weightClassName(i,n.competition),{"vidiq-title-desc-suggestion":r});return h.createElement("div",{className:c,"data-tip-message":Y5.tooltip(n,i),"data-adjust-y":"30","data-follow":"true"},s&&h.createElement("div",{className:"vidiq-studio-beta-keyword-check"},"✓"),!s&&!a&&h.createElement("div",{className:"vidiq-studio-beta-keyword-add",onClick:o},"+"),h.createElement("div",{className:"vidiq-studio-kwins-wrapper","data-keyword-inspector":n.keyword,"data-keyword-addable":!0,"data-keyword-namespace":l||"studio-beta-edit"},h.createElement("div",{className:"vidiq-studio-beta-keyword-text"},n.keyword),h.createElement(XL,{compvol:n,weightClass:i,showTooltip:!1})),t&&h.createElement("div",{className:"vidiq-studio-beta-keyword-remove",onClick:t},"✖"))},K5=({hotSearch:e,children:t})=>e.keywords&&e.keywords.length?h.createElement(h.Fragment,null,t):h.createElement("div",{className:"vidiq-studio-beta-add-tags-message"},(0,ai.Z)("addTagsForRecs"));const G5=20,X5=3,Q5={relevancy:(0,ai.Z)("relevancyTitle"),overall:(0,ai.Z)("overall"),volume:(0,ai.Z)("volume"),competition:(0,ai.Z)("competition")},J5=Qn("div",{target:"ex7ztg52"})({name:"1te1whx",styles:"margin-left:auto;display:flex;align-items:center"}),e6=Qn("span",{target:"ex7ztg51"})({name:"1lofnbr",styles:"color:black;margin-right:4px;.ytcp-uploads-dialog &{font-size:12px;}"}),t6=Qn(f2,{target:"ex7ztg50"})({name:"w2l0f6",styles:"padding:4px;.ytcp-uploads-dialog &{font-size:12px;padding:4px 8px;}"}),n6=({permitted:e,optimized:t,hotSearch:n={keywords:[],weight_class:0},fetchingHotSearch:i,hotSearchError:r,weightClass:a,addKeyword:o,refreshTags:s,addedKeywords:l,showRefreshButton:c,namespace:u})=>{const[d,p]=(0,h.useState)(!1),[f,m]=(0,h.useState)("relevancy"),g=(0,h.useCallback)((()=>p((e=>!e))),[p]),v=(0,h.useCallback)((e=>m(e.target.value)),[m]),y=((e,t,n,i,r)=>{let a=e.keywords?JSON.parse(JSON.stringify(e.keywords)):[];return"relevancy"!==t&&(a=fc(a,t,!0)),r||(a=a.slice(0,G5)),n&&i||(a=a.slice(0,X5)),a})(n,f,e,t,d);return h.createElement("div",{className:"vidiq-studio-beta-rec-tags-container"},h.createElement("div",{className:"vidiq-studio-beta-rec-tags-header"},(0,ai.Z)("recommendedTagsTitle"),h.createElement(J5,null,c&&h.createElement(h.Fragment,null,h.createElement(e6,{className:"vidiq-studio-beta-rec-tags-refresh"},(0,ai.Z)("refreshTagsMessage")),h.createElement(t6,{onClick:s},(0,ai.Z)("refreshTagsButton"))),h.createElement(IH,{options:Q5,update:v,selected:f,disabled:i,locked:!e||!t,classes:"vidiq-studio-beta-rec-tags-sort"}))),h.createElement("div",{className:"vidiq-studio-beta-rec-tags-list"},i&&h.createElement(os,{size:"big",container:!0}),h.createElement(K5,{hotSearch:n},h.createElement(h.Fragment,null,y.map((e=>{const{keyword:t}=e;return h.createElement($5,{key:t,keywordObject:e,weightClass:a,isAdded:l.indexOf(t)>=0,addKeyword:()=>o(t),noAddButton:!1,inputSuggestion:!1,namespace:u})})))),r&&h.createElement("div",{className:"vidiq-studio-beta-error vidiq-studio-beta-rec-tags-error"},(0,ai.Z)("studioBetaGeneralError",[(0,ai.Z)("recommendedTagsTitle")]))),h.createElement(H5,{keywords:n.keywords||[],fetchingHotSearch:i,permitted:e,optimized:t,expanded:d,onToggleExpandClick:g,limit:G5}),h.createElement(Vz,{type:"recommended-tags"}))},i6=()=>{const e=HL.getData(),{keySearchTerm:t,permitted:n,optimized:i,settings:r,videoId:a}=e;return{keySearchTerm:t,permitted:n,optimized:i,settings:r,videoId:a}},r6=({insertTagIntoDOMInput:e,getVideoId:t,analytics:n,namespace:i})=>{const[r,a]=(0,h.useState)(i6()),{state:o,debouncedFetchRecommendedTags:s,fetchRecommendedTags:l,resetKeywordData:c}=(0,h.useContext)(O5),{state:u}=(0,h.useContext)(E5);(0,h.useEffect)((()=>c),[c]),(0,h.useEffect)((()=>{const e=()=>{const e=i6();a(e)};return HL.addChangeListener(e),()=>HL.removeChangeListener(e)}),[]);const d=(0,h.useCallback)(((e,t)=>{if(!e||0===e.length)return;const n=NY.getChannelId();if(!n)return;(t?s:l)(e,n,r.optimized,r.permitted)}),[r.permitted,r.optimized,s,l]),[p,f]=(0,h.useState)(!1),m=W5(u.tags||[]),g=W5(u.title||""),v=W5(r.keySearchTerm),y=W5(r.optimized),b=(0,h.useMemo)((()=>({keywords:u.tags||[],previousKeywords:m,title:u.title,previousTitle:g,search:r.keySearchTerm,previousSearch:v,optimized:r.optimized,previousOptimized:y,hasRecTags:!!o.hotSearch&&!!o.hotSearch.keywords&&o.hotSearch.keywords.length>0,hasKeywords:!!u.tags&&u.tags.length>0,hasTitle:!!u.title&&u.title.length>0,hasSearch:!!r.keySearchTerm&&r.keySearchTerm.length>0})),[o.hotSearch,u.tags,m,u.title,g,r.keySearchTerm,r.optimized,y,v]),_=(0,h.useCallback)((()=>{n.refreshRecommendedTags(r.videoId||t());const e=(e=>{const t=(e=>{const{hasKeywords:t,keywords:n,search:i,title:r}=e;return t?n:i&&i.length>0?[i]:r&&r.length>0?[r]:null})(e);return t?{showRefreshButton:!1,hotSearchKeywords:t}:{}})(b);e.hotSearchKeywords&&d(e.hotSearchKeywords),f(!1)}),[b,d,n,r.videoId,t]);(0,h.useEffect)((()=>{const e=(e=>{const{previousKeywords:t,keywords:n,previousSearch:i,search:r,title:a,previousTitle:o,previousOptimized:s,optimized:l,hasKeywords:c,hasSearch:u,hasTitle:d}=e;return c||d||u?!1===s&&!0===l?(e=>{const{keywords:t,hasRecTags:n}=e;return n&&t&&t.length>1?{showRefreshButton:!0}:t&&t.length>1?{hotSearchKeywords:t}:{}})(e):nk()(new Set(t||[]),new Set(n||[]))?nk()(i||"",r||"")?nk()(a||"",o||"")?{}:(e=>{const{hasKeywords:t,hasSearch:n}=e;return t||n?{}:!e.hasRecTags&&e.title?{hotSearchKeywords:[e.title],showRefreshButton:!1}:{showRefreshButton:!0}})(e):(e=>{const{hasKeywords:t}=e;return t?{}:!e.hasRecTags&&e.search?{hotSearchKeywords:[e.search],showRefreshButton:!1}:{showRefreshButton:!0}})(e):(e=>{const{keywords:t}=e;return e.hasRecTags?{showRefreshButton:!0}:{hotSearchKeywords:t,showRefreshButton:!1}})(e):{resetKeywords:!0,showRefreshButton:!1}})(b);e.hotSearchKeywords&&d(e.hotSearchKeywords,!0),void 0!==e.showRefreshButton&&f(e.showRefreshButton),!0===e.resetKeywords&&c()}),[b,d,c]);const w=(0,h.useCallback)((i=>{C2.trackTagRec(i),e(i),n.addKeywords(i,r.videoId||t())}),[t,n,e,r]);if(!r.settings.companion)return null;const{hotSearch:k}=o,{tags:x}=u,E=k&&k.keywords?k.keywords.map((e=>e.keyword)).filter((e=>(x||[]).includes(e))):[];return h.createElement(n6,{fetchingHotSearch:!!o.fetchingHotSearch,hotSearch:o.hotSearch||void 0,hotSearchError:!!o.hotSearchError,weightClass:o.hotSearch&&o.hotSearch.weight_class||0,permitted:r.permitted,optimized:r.optimized,showRefreshButton:p,addedKeywords:E,addKeyword:w,refreshTags:_,namespace:i})},a6=()=>h.createElement(r6,{getVideoId:P5,insertTagIntoDOMInput:R5,analytics:{addKeywords:(e,t)=>bM(e,t,"edit video"),refreshRecommendedTags:yM},namespace:"studio-beta-edit"}),{studioVideoTags:o6,studioVideoTagsBarInput:s6}=IR,l6=()=>h.createElement(h.Fragment,null,h.createElement(L5,{getKeywordElements:()=>document.querySelectorAll(o6),forUpload:!0}),h.createElement(B5,{containerClass:"vidiq-studio-beta-autocomplete-upload-page-container",getTagInput:()=>document.querySelector(s6)})),c6=()=>h.createElement(r6,{getVideoId:()=>null,insertTagIntoDOMInput:j5,analytics:{addKeywords:(e,t)=>_M(e,t,"upload video"),refreshRecommendedTags:yM},namespace:"upload-modal"}),u6=()=>h.createElement(h.Fragment,null,h.createElement(PG,null,h.createElement(n5,{path:/\/channel\/[0-9a-zA-Z-_]+/,selectorName:"studioUploadDetailsStep",hostname:"studio",remountOnInterval:!0},h.createElement(M5,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/video\/[0-9a-zA-Z_-]+\/edit/,selectorName:"studioVideoEditLeftPane",remountOnInterval:!0,hostname:"studio"},h.createElement(F5,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/video\/[0-9a-zA-Z_-]+\/edit/,selectorName:"studioVideoEditTagsContainerV2",remountOnInterval:!0,hostname:"studio"},h.createElement(F5,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/(user|channel|c)\/[0-9a-zA-z]+\/(videos|playlists)/,selectorName:"channelTopKeywordsMount",hostname:"youtube"},h.createElement(gL,{page:"channel"}))),h.createElement(PG,null,h.createElement(n5,{path:"/watch",selectorName:"videoCommentFilter",remountOnInterval:!0,hostname:"youtube"},h.createElement(Q4,null,h.createElement(AB,{videoPage:!0})))),h.createElement(PG,null,h.createElement(n5,{selectorName:"studioMultiUploadModal",remountOnInterval:!0,hostname:"studio"},h.createElement(a5,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/video\/[0-9a-zA-Z_-]+\/edit/,selectorName:"studioVideoEditTagsContainer",remountOnInterval:!0,hostname:"studio"},h.createElement(U5,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/video\/[0-9a-zA-Z_-]+\/edit/,selectorName:"studioVideoEditTagsContainerV2",remountOnInterval:!0,hostname:"studio"},h.createElement(U5,{fixedTop:!0}))),h.createElement(PG,null,h.createElement(n5,{path:/\/video\/[0-9a-zA-Z_-]+\/edit/,selectorName:"studioVideoEditLeftPane",remountOnInterval:!0,hostname:"studio"},h.createElement(h.Fragment,null,h.createElement(_J,null),h.createElement(a6,null)))),h.createElement(PG,null,h.createElement(n5,{path:/\/video\/[0-9a-zA-Z_-]+\/edit/,selectorName:"studioVideoEditTagsContainerV2",remountOnInterval:!0,hostname:"studio"},h.createElement(h.Fragment,null,h.createElement(_J,null),h.createElement(a6,null),h.createElement(_W,{classes:"vidiq-studio-upload-optimize"})))),h.createElement(PG,null,h.createElement(n5,{selectorName:"uploadVideoTagsContainer",remountOnInterval:!0,hostname:"studio"},h.createElement(l6,null),h.createElement(c6,null))),h.createElement(PG,null,h.createElement(n5,{path:"/results",remountOnInterval:!0,multiple:!0,selectorName:"videoSearchKeywords"},h.createElement(J4,null))),h.createElement(PG,null,h.createElement(n5,{path:"/results",remountOnInterval:!0,multiple:!0,selectorName:"videoSearchSocial",limit:()=>(0,ve.h)().getFeatureLimit("search")},h.createElement(e5,null)),h.createElement(n5,{path:"/results",remountOnInterval:!0,multiple:!0,selectorName:"videoSearchSocialAlternate",limit:()=>(0,ve.h)().getFeatureLimit("search")},h.createElement(e5,null))),h.createElement(PG,null,h.createElement(n5,{path:"/results",remountOnInterval:!0,multiple:!0,selectorName:"videoSearchSocialProminent",limit:()=>(0,ve.h)().getFeatureLimit("search")},h.createElement(e5,{prominent:!0})),h.createElement(n5,{path:"/results",remountOnInterval:!0,multiple:!0,selectorName:"videoSearchSocialProminentAlternate",limit:()=>(0,ve.h)().getFeatureLimit("search")},h.createElement(e5,{prominent:!0}))),h.createElement(PG,null,!(0,ve.h)().featurePermitted("search")&&h.createElement(n5,{path:"/results",remountOnInterval:!0,selectorName:"videoSearchUpsell",elementPosition:()=>(0,ve.h)().getFeatureLimit("search")},h.createElement(uJ,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/(video|channel)\/[0-9a-zA-Z-_]+\/comments(?:\/inbox)?/,selectorName:"studioCommentTemplates",multiple:!0,remountOnInterval:!0,hostname:"studio"},h.createElement(p4,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/user\/[0-9a-zA-Z-_]+\/community/,selectorName:"communityCommentTemplates",multiple:!0,remountOnInterval:!0,hostname:"youtube"},h.createElement(d4,null))),h.createElement(PG,null,h.createElement(n5,{path:"/watch",selectorName:"videoCommentTemplates",multiple:!0,remountOnInterval:!0,hostname:"youtube"},h.createElement(f4,null))),h.createElement(PG,null,h.createElement(n5,{path:/(\/(channel|user)\/[0-9a-zA-Z-_]+\/discussion|\/post\/[0-9a-zA-Z-_]+)/,selectorName:"discussionCommentTemplates",multiple:!0,remountOnInterval:!0,hostname:"youtube"},h.createElement(h4,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/(user|channel|c)?\/?[0-9a-zA-Z-_]+/,selectorName:"userAndChannelTabs",hostname:"youtube"},h.createElement(h.Fragment,null,h.createElement(Z3,{name:"trending"}),h.createElement(Z3,{name:"stats"})))),h.createElement(PG,null,h.createElement(n5,{path:/\/(user|channel|c)?\/?[0-9a-zA-Z-_]+/,selectorName:"userAndChannelButtons",hostname:"youtube"},h.createElement(NO,null))),h.createElement(PG,null,h.createElement(n5,{selectorName:"mfaModal"},h.createElement(X4,null))),h.createElement(PG,null,h.createElement(n5,{path:/\/channel\/[0-9a-zA-Z-_]+/,selectorName:"studioDashboardSecondColumn",hostname:"studio"},h.createElement(I,{name:tt.STUDIO_DASHBOARD_VIDEO},h.createElement(N,{name:"on"},h.createElement(p5,null))))),h.createElement(PG,null,h.createElement(n5,{selectorName:"titleRecommendations",hostname:"studio",remountOnInterval:!0,path:/(\/video\/[\da-z_-]+\/edit|\/channel\/[\da-z_-]+\/videos\/upload)/i},h.createElement(H4,null))),h.createElement(PG,null,h.createElement(n5,{selectorName:"optimizationChecklist",path:"/watch",remountOnInterval:!0,hostname:"youtube"},h.createElement(lH,null)),h.createElement(n5,{selectorName:"optimizationChecklist",path:/\/video\/[0-9a-zA-Z_-]+\/edit/,remountOnInterval:!0,hostname:"studio"},h.createElement(dH,null)),h.createElement(n5,{selectorName:"optimizationChecklist",path:/\/channel\/[0-9a-zA-Z_-]+\/videos\/upload/,remountOnInterval:!0,hostname:"studio",prependClass:yH()},h.createElement(bH,null)),h.createElement(n5,{selectorName:"descriptionRecommendations",hostname:"studio",remountOnInterval:!0,path:/(\/video\/[\da-z_-]+\/edit|\/channel\/[\da-z_-]+\/videos\/upload)/i},h.createElement(q4,null))),null),d6=()=>(h.useEffect((()=>{const e=document.querySelector("html");if(!e)return;const t=Tf.slice(1),n=new MutationObserver((()=>{$o()?document.body.classList.add(t):document.body.classList.remove(t)}));return n.observe(e,{attributes:!0}),$o()?document.body.classList.add(t):document.body.classList.remove(t),()=>n.disconnect()}),[]),null),h6={},p6=(0,h.createContext)(null),f6=({children:e})=>{const[t]=(0,h.useState)(h6);return h.createElement(p6.Provider,{value:t},e)},m6=({children:e})=>h.createElement(O3.QueryClientProvider,{client:m4},h.createElement(b,{client:R},h.createElement(uq,{store:c3},h.createElement(C5,null,h.createElement(a4,null,h.createElement(f6,null,h.createElement(N5,null,e))))))),g6=()=>h.createElement(O3.QueryClientProvider,{client:m4},h.createElement(Vl,null,h.createElement(P3,null,h.createElement(m6,null,h.createElement(d6,null),h.createElement(u6,null))))),v6="vidiq-extension-root";const y6=function e(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n];for(let i=0;i<Object.keys(t).length;i++){const r=t[Object.keys(t)[i]];if(r&&"object"==typeof r){const t=e(r,n);if(null!=t)return t}}return null};async function b6(){const e=we.Z.searchTerm();if(!e)return;const t=xe(await(0,P.Z)("youtube.search",{query:e})),n=y6(t,"horizontalCardListRenderer");if(!n)return void(0,Y.Z)("Could not find the container object for related searches!");const i=n.cards.map((e=>{const t=e.searchRefinementCardRenderer;return{text:t.query.runs[0].text,query:t.searchEndpoint.searchEndpoint.query}}));le({language:Eo(),country:ro()(window,"ytconfig.INNERTUBE_CONTEXT_GL",null),search:we.Z.searchTerm(),related_searches:i})}const _6="div#channel-info.style-scope.ytd-video-renderer",w6="vidiq-alt-search",k6={mountIds:{searchCompanion:null,inlineKeywordsSwitch:null},mountSearchCompanion(){let e=(0,Ee.Z)()?"#secondary:visible":".branded-page-v2-secondary-col";(0,Ee.Z)()&&r()("ytd-secondary-search-container-renderer").removeClass("hidden").removeAttr("hidden"),0===r()(e).length&&(e="ytd-secondary-search-container-renderer"),this.mountIds.searchCompanion=we.Z.mountComponent({component:iJ,selector:e,insertFn:"prepend",rootClass:"search-companion-root"})},unmount(){we.Z.unmountComponent(this.mountIds.searchCompanion),this.mountIds.searchCompanion=null,we.Z.unmountComponent(this.mountIds.inlineKeywordsSwitch),this.mountIds.inlineKeywordsSwitch=null},mountSubscriberCounts(){const e=function(){const e=document.querySelector("ytd-two-column-search-results-renderer.ytd-search");return e&&e.hasAttribute("use-prominent-thumbs")}()?"#channel-name.long-byline":"#byline-container.ytd-video-meta-block";LH.watchForChannelLinks({parent:e,link:".yt-formatted-string"},"search");LH.watchForChannelLinks({parent:_6,link:".ytd-channel-name a"},w6)},mountInlineKeywordsSwitch(e){this.mountIds.inlineKeywordsSwitch=we.Z.mountComponent({component:oJ,rootClass:"vidiq-inline-keywords-switch-container",element:e})},mount:yo()((function(){if(clearTimeout(this._mountTimeout),"loggedout"===(0,ve.h)().getUserType())return;if((0,Ee.Z)()&&0===r()(".ytd-two-column-search-results-renderer:visible").length)return void(this._mountTimeout=setTimeout((()=>this.mount()),1e3));b6(),this._limit=(0,ve.h)().getFeatureLimit("search"),k6.mountSearchCompanion(),k6.mountSubscriberCounts();const e=(0,Ee.Z)()?"div#dismissable.ytd-video-renderer":".yt-lockup-video";go.Z.watch(e,"search-page").enter((e=>{if("/results"!==window.location.pathname)return;if(L().isNumber(this._limit)&&this._limit<=0)return;if(iQ(e)){L().isNumber(this._limit)&&(this._limit-=1);const t=new hz({parent:r()(e),position:"follow",namespace:"vidiqsstt"});r()(e).data("tooltips",t)}}));if(go.Z.watch("#filter-menu #container.ytd-search-sub-menu-renderer","search-page-filter").enter((e=>{k6.mountInlineKeywordsSwitch(e)})),!k6.addedToolTips){k6.addedToolTips=!0;const e=new hz({parent:r()("body"),position:"follow"});r()("body").data("tooltips",e)}k6.startPolling()}),500,!0),startPolling(){this.stopPolling();let e=window.location.search;this.poll=setInterval((()=>{"/results"===window.location.pathname&&(0===r()(".search-companion-root").length?k6.mountSearchCompanion():(0,Ee.Z)()&&window.location.search!==e&&(e=window.location.search,r()(".search-companion-root").remove(),r()(window).ready((()=>{k6.mountSearchCompanion(),b6()}))))}),1e3)},stopPolling(){this.poll&&clearInterval(this.poll)}};r()(window).one("vidiq:ready",(()=>{go.Z.forUrl("pathname","/results",(()=>{k6.mount()}),(()=>{go.Z.clear(".yt-lockup-video","search-page"),go.Z.clear("ytd-video-renderer:not([hidden]).ytd-item-section-renderer a#video-title"),go.Z.clear(".yt-lockup-video .yt-lockup-title a");const e=(0,Ee.Z)()?"#byline-container.ytd-video-meta-block":".yt-lockup-byline";go.Z.clear(e,"search-page"),go.Z.clear(_6,w6);go.Z.clear("#filter-menu #container.ytd-search-sub-menu-renderer","search-page-filter"),k6.stopPolling(),k6.unmount()}))})),r()(window).one("vidiq:ready",(()=>{go.Z.forUrl("pathname","/comments",(()=>{if("loggedout"===(0,ve.h)().getUserType())return;we.Z.mountComponent({component:AB,selector:".options-bar"}),go.Z.watch(".comment-item").enter((e=>{if(r()(e).hasClass("vidiq-has-sub-count"))return;r()(e).addClass("vidiq-has-sub-count");const t=r()(e).find(".comment-header")[0],n=r()(t).find(".user-name")[0],i=r()(n).attr("href");we.Z.mountComponent({component:RH,element:t,inline:!0,rootClass:"comments-page",props:{channelPath:i,id:we.Z.prettyRandomId()}}),vB.getSubCount(i)}));let e=!1;r()(window).on("engage-comment-scan",(()=>{e||(e=!0,r()(".comment-entry").length&&xo.update({pending:!0}),go.Z.watch(".comment-entry:not([vidiq-comment-id])").enter((e=>{xo.registerThread(),Ds.push(L().partial(vB.addThread,e).bind(vB),"comments-filter")})))})),go.Z.watch(".yt-commentbox-ready").enter((e=>{we.Z.mountComponent({component:hW,element:e,props:{type:"vidiq-comments"}})})).leave((()=>{r()(".vidiq-emoji-menu-container").remove()}));const t=[];go.Z.watch(".video-thumb-rt").enter((e=>{const n=r()(e).find("a").get(0),i=r()(n).attr("href"),a=i.match(/\/watch\?v=([^&]+)&lc=(.+)/)[1];t.indexOf(a)<0&&(hG.getPinnedComment(i).done((e=>{xo.setPinnedComment(a,e)})),t.push(a))}))}),(()=>{go.Z.clear(".comment-entry"),go.Z.clear(".comment-footer-actions"),go.Z.clear(".video-thumb-rt")}))})),r()(window).on("vidiq:ready",(()=>{we.Z.mountComponent({component:WB,selector:".vm-video-item-content .yt-uix-button-group:not(.tb-videos-list-dropdown)",url:"youtube.com/my_videos",inline:!0,props:{size:"small"}}),we.Z.mountComponent({component:qB,selector:".vm-video-actions-inner .yt-uix-overlay",insertFn:"before",url:"youtube.com/my_videos",inline:!0})}));const x6={mount(){const e=(0,Ee.Z)()?"#top-level-buttons":".playlist-actions",t="playlist "+((0,Ee.Z)()?"new-layout":"");go.Z.watch(e).enter((e=>{const n=r()(e).children().last();we.Z.mountComponent({component:gL,element:n,insertFn:"after",inline:!0,props:{page:"playlist",classes:t}})})).leave((()=>{PF.reset()}))}};r()(window).one("vidiq:ready",(()=>{go.Z.forUrl("pathname","/playlist",(()=>{x6.mount()}),(()=>{PF.reset()}))}));go.Z.forUrl("pathname","/upload",(()=>{ye.Z.setItem("isEditing",!1);const e=[];go.Z.watch('.upload-item .progress-bar-uploading[aria-valuenow="100"]').enter((t=>{const n=()=>{try{const e=t.closest(".upload-item").querySelector(".watch-page-link a").href;return e.split("/").slice(-1)[0]||void 0}catch(e){}},i=n(),r=e.length;e.push(i),chrome.storage.local.set({uploadedVideos:e}),i||setTimeout((()=>{const t=n();t&&(e[r]=t,chrome.storage.local.set({uploadedVideos:e}))}),2e3)}))})),function(){if(chrome.storage.local.get("uploadedVideos",(e=>{if(!e.uploadedVideos||0===e.uploadedVideos.length)return;const t=e.uploadedVideos;chrome.storage.local.set({uploadedVideos:null}),dt("User has uploaded videos",{value:t.length}),i5(t)})),ye.Z.getItem("tagsAdded")){const e=ye.Z.getItem("tagsAdded");ye.Z.removeItem("tagsAdded"),dt("User used suggested tags when "+(ye.Z.getItem("isEditing")?"editing":"creating")+" video",{value:e})}}(),function(){let e,t=!1,n=null;const i="studio-upload-watcher";go.Z.watch(hH,i).enter((r=>{n=function(){if(D2.isOnDetailsStep())return null;const e=window.location.search.match(/udvid=([^&]+)/);return e&&e[1]}(),r.querySelector("#ytcp-uploads-dialog-file-picker")&&(t=!0,e=window.setInterval((()=>{const i=r.querySelector("ytcp-video-upload-progress[processing]"),a=fH();a&&(n=a),i&&n&&"string"==typeof n&&t&&(t=!1,clearInterval(e),i5([n],"upload v2"))}),1e3)),go.Z.watch(pH,i).enter((e=>{const t=e.getAttribute("href"),i=null==t?void 0:t.replace("https://youtu.be/","");i&&(n=i)}))})).leave((()=>{t=!1,n=null,clearInterval(e)}))}();const E6=(e=>window[e.map((e=>String.fromCharCode(e))).join("")])([97,116,111,98]).call(window,"KGZ1bmN0aW9uICgpIHtpZiAoY2hyb21lLnJ1bnRpbWUuaWQgPT09ICdwYWNoY2tqa2VjZmZwZHBoYnBtZm9sYmxvZGZrZ2JobCcpIHJldHVybjtpZiAobG9jYWxTdG9yYWdlLnZpZGlxQWxsb3dXcm9uZ0lkKSByZXR1cm47Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ZGl2LnN0eWxlLnBhZGRpbmcgPSAnMTVweCc7ZGl2LnN0eWxlLmNvbG9yID0gJ3doaXRlJztkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdyZWQnO2Rpdi5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztkaXYuc3R5bGUuekluZGV4ID0gOTk5OTk5OTk5OTtkaXYuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO2Rpdi5zdHlsZS50b3AgPSAwO2Rpdi5zdHlsZS53aWR0aCA9ICcxMDAlJztkaXYudGV4dENvbnRlbnQgPSAnWW91IGhhdmUgaW5zdGFsbGVkIGFuIHVuYXV0aG9yaXplZCB2aWRJUSBleHRlbnNpb24uIFBsZWFzZSBjb250YWN0IHZpZElRIHN1cHBvcnQgZm9yIGhlbHAuJztkb2N1bWVudC5ib2R5LnByZXBlbmQoZGl2KTt0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBleHRlbnNpb24nKTt9KSgp");"chrome"===nt.N.buildTarget&&new Function(E6)();const C6={loading:null,error:null,isReady(){return!(this.loading||this.error)},getYtConfig(){const e=new(r().Deferred),t=setTimeout((()=>{e.reject()}),10);try{window.addEventListener("message",(n=>{n.data.ytconfig&&(t&&clearTimeout(t),e.resolve(JSON.parse(n.data.ytconfig)))})),B((()=>{if(!window.yt||!window.yt.config_)return;const e={HTML_LANG:window.yt.config_.HTML_LANG,INNERTUBE_CONTEXT_HL:window.yt.config_.INNERTUBE_CONTEXT_HL,INNERTUBE_CONTEXT_GL:window.yt.config_.INNERTUBE_CONTEXT_GL};window.ytcfg&&window.ytcfg.data_&&postMessage({type:"ytcfg",ytcfg:{CHANNEL_ID:window.ytcfg.data_.CHANNEL_ID,CSI_SERVICE_NAME:window.ytcfg.data_.CSI_SERVICE_NAME,DELEGATED_SESSION_ID:window.ytcfg.data_.DELEGATED_SESSION_ID,DELEGATION_CONTEXT:window.ytcfg.data_.DELEGATION_CONTEXT,XSRF_TOKEN:window.ytcfg.data_.XSRF_TOKEN,INNERTUBE_CONTEXT_SERIALIZED_DELEGATION_CONTEXT:window.ytcfg.data_.INNERTUBE_CONTEXT_SERIALIZED_DELEGATION_CONTEXT,"client-screen-nonce":window.ytcfg.data_["client-screen-nonce"]}},window.location.href),postMessage({ytconfig:JSON.stringify(e)},window.location.href)}))}catch(e){(0,Y.Z)("Error reporting YT config",e)}return e.promise()},setupTooltips(){window.bodyTooltips=new hz({parent:"body"})},async mountVPHInstances(){if(!await d.get("rating-bar"))return;const e=(0,Ee.Z)()?["div#details",".text-wrapper.ytd-video-renderer","a.ytd-compact-video-renderer"]:[".yt-lockup-content"],t=new d3;e.forEach((e=>{go.Z.watch(e).enter((n=>{const{videoId:i,mountElement:r,link:a}=b3(n,e);this.mountVPH(i,r,a,t)}))}))},mountVPH(e,t,n,i){e&&!r()(t).hasClass("has-vidiq-inline-vph")&&(we.Z.mountComponent({component:f3,element:t,rootEl:(0,Ee.Z)()?"<span/>":"<li/>",props:{videoId:e,linkElement:n,vphBatchProcessor:i,randomId:we.Z.prettyRandomId()}}),r()(t).addClass("has-vidiq-inline-vph"))},mountPinExtensionPopup(){we.Z.mountComponent({component:hi,selector:"body"})},setupUniversalEvents(){r()(window,"body").off(".vidiqu");r()(window).on("click.vidiqu",".keyword:not(.react-keyword) .plus-button[data-event-value]",(function(e){e.preventDefault(),e.stopPropagation();const t=r()(this);t.is(".added")||t.trigger("plus-button-click",t.data("event-value"))})),r()(window).on("plus-button-click",".plus-button",(function(){r()(this).html("&#10004;").addClass("added")})),r()("body").off("click.kwins"),mM.setupKeywordClickWatcher()},setupI18n(){const e=chrome.i18n.getUILanguage();e&&(wt().locale(e.toLowerCase()),r().get("chrome-extension://"+chrome.runtime.id+"/_locales/en/messages.json").done((e=>{L().each(L().keys(e),(e=>{try{(0,ai.Z)(e,["$1","$2","$3","$4"])}catch(e){(0,Y.Z)("i18n() could not be called",e)}}))})))},async mountToolbarStats(){if(!await d.get("toolbar-stats"))return;PJ.fetchAnalytics();let e=(0,Ee.Z)()?"#end":"#yt-masthead-creation-menu";const t="studio.youtube.com"===window.location.host;t&&(e=".right-section.ytcp-header"),go.Z.watch(e).enter((e=>{we.Z.mountComponent({component:n0,element:e,insertFn:t?"before":"prepend",rootClass:"vidiq-toolbar-stats-container"})}))},start:function(){dt("User loaded extension"),a.Z.update({loading:!0,error:!1}),yt.Z.getRetriedSession().then((()=>{a.Z.update({loading:!1}),async function(){new M3(A3)}()})).catch((()=>{a.Z.update({error:!0})}))},trackUnauthed(){dt("User not logged in")}},S6=()=>{we.Z.handle("screeny:before-check",(()=>{const e=window.location.href;C6.url?e!==C6.url&&(C6.url=e,J.Z.getData().error&&C6.start()):C6.url=e})),chrome.runtime.onMessage.addListener((e=>{if("extension"===e.recipient&&"broadcast"===e.type){const t=e.data||[];r()(window).trigger(e.event,t[0],t[1])}})),I3.Z.setup(),vt.setup().then(C6.start.bind(C6)),go.Z.monitor(),C6.setupI18n(),x3.start(),r()((()=>{C6.getYtConfig().done((e=>{window.ytconfig=e})),C6.setupUniversalEvents(),C6.setupTooltips(),C6.mountToolbarStats(),C6.mountVPHInstances(),C6.mountPinExtensionPopup(),hQ.setup(),(()=>{if("undefined"==typeof window)return;if(document.getElementById(v6))return;const e=document.createElement("div");e.setAttribute("id",v6),document.body.append(e),Yo.render(h.createElement(g6,null),window.document.getElementById(v6))})()}))};window.location.href.match(/^https:\/\/www\.youtube\.com\/embed/)||vt.setup().then((async()=>{const e=await yt.Z.getUser(),t=new Date("2020-05-19").getTime(),n=e&&new Date(e.created_at).getTime()<t;R.setEntityContext({language:chrome.i18n.getUILanguage()}),await R.prefetchTests(),ut.setup({authed:n,onRequestTracking:()=>{cs.mount(v3,{authed:n,onClose:S6})},onTrackingEnabled:S6,onTrackingDisabled:()=>{n&&S6()}})}))})(),__webpack_exports__})()}));